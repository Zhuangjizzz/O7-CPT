[

{
    "text": "Chapter Summary\n7.1 Fundamentals of Negative Feedback 688\n7.2 Impact of Feedback on Distortion, Noise, and Bandwidth 695\n7.3 Feedback Configurations and Closed-Loop I/O Resistances 704\n7.4 Practical Setups and Loading Effects 714\n7.5 Return-Ratio Analysis 741\n7.6 Blackman's Impedance Formula and Injection Techniques 755\n7.7 Stability in Negative-Feedback Circuits 762\n7.8 Dominant-Pole Compensation 772\n7.9 Frequency Compensation of Monolithic Op Amps 780\n7.10 Noise 795\n\nReferences 811\nProblems 811\n\nFeedback in electronics involves a scenario where a signal from an amplifier's output is fed back to its input, combining with the external input signal to form a new signal for the amplifier to process. The primary methods of combination are addition and subtraction. Positive feedback occurs when the feedback signal is added to the external signal, reinforcing it and often driving the amplifier into saturation. Known as regenerative feedback, it is utilized in digital circuits like flip-flops and Schmitt triggers.\n\nIn contrast, negative feedback involves the feedback signal opposing the input signal, hence termed degenerative feedback. This type of feedback is particularly intriguing due to its numerous benefits. It stabilizes gain against component variations and drift, reduces distortion and certain noises, controls input and output resistances to mitigate loading effects, and can enhance the amplifier's dynamics, such as extending bandwidth and improving transient response.\n\nHowever, negative feedback has its drawbacks and risks:\n\n- To fully exploit its advantages, a significantly higher initial gain is required than the application ultimately needs. Students familiar with operational amplifiers, commonly used for negative feedback, recognize this. Fortunately, high-gain amplifiers like op amps are now readily and affordably produced in integrated-circuit technology, making cost less of a concern.\n- A more critical issue is the risk of oscillation posed by negative feedback. Signal delays within the amplifier, collectively known as phase lag, can cause the feedback to shift from negative to positive if the signal acquires a $-180^{\\circ}$ phase shift upon return. If the signal remains strong, it becomes regenerative, leading to high-frequency oscillation. While this is intentional in oscillator design, it is generally undesirable as it can render a circuit useless. Various techniques, known as frequency compensation methods, have been developed to control such oscillations, forming a fascinating aspect of systems theory in electronics and control.\n\nHarold Black introduced negative feedback in 1928 to reduce distortion in telephone repeaters. For example, a voltage amplifier with a gain of ten should ideally produce an output $v_{O}=10 v_{I}$ for a given input $v_{I}$. However, due to device nonlinearities (like vacuum tubes or transistors), this relationship holds only for small signals. In large-signal operation, amplifiers typically produce distorted outputs, as seen in Sections 2.5 and 3.6 when transistor amplifiers are overdriven. This can be modeled as:\n\n$$\nv_{O}=10 v_{I}+v_{U}\n$$\n\nTo reduce the unwanted component $v_{U}$, Black proposed: (a) taking a fraction of the output equal to the reciprocal of the desired gain, (b) subtracting this fraction from the input to create an error signal $v_{E}$,\n\n$$\nv_{E}=v_{I}-\\frac{1}{10} v_{O}=v_{I}-\\frac{10 v_{I}+v_{U}}{10}=\\frac{-v_{U}}{10}\n$$\n\n(c) feeding this error signal to the amplifier, and (d) significantly increasing the gain so that $v_{O}$ is sustained with a minimal $v_{E}$, resulting in:\n\n$$\nv_{O} \\rightarrow 10 v_{I}\n$$\n\nThis simple yet profound reasoning led to a pivotal invention in electronics.\n\nInitially, negative feedback faced resistance due to the oscillation risk. However, once the risk was better understood and managed, it became fundamental in electronic circuit design and other fields like automatic control and biological system modeling. Students have encountered negative feedback in various contexts, such as op amp circuits, feedback bias for transistors, and emitter/source degeneration. Having had informal exposure, we are now prepared for a detailed and systematic study.\n\nCHAPTER HIGHLIGHTS\n\nThe chapter initiates with the essentials of negative feedback, focusing on loop gain as a key parameter. It illustrates feedback's benefits in scenarios like distortion and noise reduction, and broadbanding.\n\nIt then introduces four fundamental negative-feedback topologies, discussing their impact on gain and I/O resistances. Building on students' informal exposure to op amps, the chapter systematically expands this knowledge to cover various feedback topologies.\n\nReal-world feedback circuits involve mutual loading between the amplifier and feedback network, necessitating methods to analyze this. Two-port analysis is demonstrated through diverse circuit examples, from complex op amps to single-transistor stages, highlighting familiar feedback schemes like emitter/source degeneration.\n\nAn alternative method, return-ratio analysis, is also explored through various examples. Related techniques, such as Blackman's impedance formula and injection methods, are discussed for their utility in lab measurements and simulations.\n\nThe chapter delves into stability and frequency compensation techniques, providing tools for assessing circuit stability and examining the internal frequency compensation of common op amps like the bipolar 741-type and CMOS variants.\n\nIt concludes with an exploration of noise in integrated circuits, covering basic noise properties, analytical tools, and noise models for diodes and transistors. The analysis extends to significant circuit configurations, including op amp circuits and differential pairs, both bipolar and CMOS.\n\nThroughout, the chapter extensively employs PSpice for verifying calculations and visualizing critical waveforms, particularly in studying distortion reduction, stability, frequency compensation, and noise performance."
},
{
    "text": "**Chapter Outline**\n7.1 Fundamentals of Negative Feedback 688\n7.2 Impact of Feedback on Distortion, Noise, and Bandwidth 695\n7.3 Feedback Configurations and Closed-Loop I/O Resistances 704\n7.4 Practical Setups and the Influence of Loading 714\n7.5 Return-Ratio Analysis 741\n7.6 Blackman's Impedance Formula and Injection Techniques 755\n7.7 Stability in Negative-Feedback Circuits 762\n7.8 Dominant-Pole Compensation 772\n7.9 Frequency Compensation of Monolithic Op Amps 780\n7.10 Noise 795\n\n**References** 811\n**Problems** 811\n\nFeedback in electronics involves routing a portion of the amplifier's output signal back to its input, where it mixes with the external input signal to form a new signal for the amplifier to process. The primary methods of combining these signals are addition and subtraction. Positive feedback occurs when the feedback signal is added to the external signal, reinforcing it and often driving the amplifier into saturation. This type of feedback, also known as regenerative feedback, is utilized in digital circuits like flip-flops and Schmitt triggers.\n\nConversely, negative feedback involves the feedback signal opposing the input signal, hence its alias, degenerative feedback. This form of feedback is particularly intriguing due to its numerous benefits. It stabilizes gain against component variations and drift, reduces distortion and certain noises, controls input and output resistances to mitigate loading effects, and can enhance the amplifier's dynamics, such as extending bandwidth and improving transient response.\n\nHowever, negative feedback has its drawbacks and risks:\n\n- To fully exploit its advantages, the initial gain must be significantly higher than the application's final requirement. Fortunately, high-gain amplifiers like op amps are now readily and inexpensively available thanks to integrated-circuit technology.\n- A more critical issue is the risk of oscillation. As the signal travels through the amplifier, it experiences phase lag. If the signal acquires a $-180^{\\circ}$ phase shift upon returning to the input, feedback shifts from negative to positive. If the returned signal is strong enough, it becomes regenerative, causing high-frequency oscillations. While this is desirable in oscillator design, it can render other circuits useless. Thankfully, various frequency compensation techniques have been developed to manage these oscillations, forming a fascinating aspect of systems theory in electronics and control.\n\nHarold Black introduced negative feedback in 1928 to reduce distortion in telephone repeaters. For example, a voltage amplifier with a gain of ten should ideally produce an output $v_{O}=10 v_{I}$. However, due to device nonlinearities (like vacuum tubes or transistors), this relationship only holds for small signals. In large-signal conditions, the output is significantly distorted, as seen in overdriven transistor amplifiers. This can be modeled as:\n\n$$\nv_{O}=10 v_{I}+v_{U}\n$$\n\nTo minimize $v_{U}$, Black proposed:\n(a) Taking a fraction of the output equal to the reciprocal of the desired gain, $(1 / 10) v_{O}$.\n(b) Subtracting this fraction from the input to create an error signal $v_{E}$:\n\n$$\nv_{E}=v_{I}-\\frac{1}{10} v_{O}=v_{I}-\\frac{10 v_{I}+v_{U}}{10}=\\frac{-v_{U}}{10}\n$$\n\n(c) Feeding $v_{E}$ back to the amplifier, now termed the error amplifier.\n(d) Increasing the gain (open-loop gain) so that $v_{O}$ can be sustained with a minimal $v_{E}$, leading to:\n\n$$\nv_{O} \\rightarrow 10 v_{I}\n$$\n\nThis simple yet profound reasoning led to a pivotal invention in electronics.\n\nInitially, negative feedback faced skepticism due to oscillation risks. However, once these risks were understood and mitigated, it became fundamental in electronic circuit design, automatic control, and biological system modeling. Students have encountered negative feedback in various contexts, such as op amp circuits, feedback biasing for transistors, and emitter/source degeneration. This chapter aims to delve into negative feedback systematically.\n\n**CHAPTER HIGHLIGHTS**\n\nThe chapter starts with the basics of negative feedback, emphasizing loop gain as a key parameter. It illustrates feedback's benefits in distortion and noise reduction, and broadbanding.\n\nNext, it covers the four fundamental feedback topologies, discussing their impact on gain and I/O resistances. Building on students' informal exposure to op amps, it systematically explores these topologies.\n\nReal circuits involve loading effects between the amplifier and feedback network, necessitating methods like two-port analysis, demonstrated through various examples, from op amps to single-transistor stages.\n\nAn alternative, return-ratio analysis, is also presented, along with Blackman's impedance formula and injection methods, useful for laboratory and simulation work.\n\nThe chapter then examines stability and frequency compensation, using graphical, experimental, and computational tools to assess circuit stability. It studies the internal frequency compensation of common op amps like the bipolar 741-type and CMOS variants.\n\nFinally, it addresses noise in integrated circuits, covering basic properties, analytical tools, and noise models of diodes and transistors, concluding with noise analysis of key configurations like op amp circuits and differential pairs.\n\nThe chapter extensively employs PSpice for verifying calculations and visualizing critical waveforms, particularly in studying distortion reduction, stability, frequency compensation, and noise performance."
},
{
    "text": "Chapter Outline\n7.1 Fundamentals of Negative Feedback 688\n7.2 Impact of Feedback on Distortion, Noise, and Bandwidth 695\n7.3 Feedback Configurations and Closed-Loop I/O Resistances 704\n7.4 Common Configurations and Loading Effects 714\n7.5 Return-Ratio Analysis 741\n7.6 Blackman's Impedance Formula and Injection Techniques 755\n7.7 Stability in Negative-Feedback Circuits 762\n7.8 Dominant-Pole Compensation 772\n7.9 Frequency Compensation of Monolithic Op Amps 780\n7.10 Noise 795\n\nReferences 811\nProblems 811\n\nFeedback in electronics involves a scenario where a signal from an amplifier's output port is sent back to the input port, combining with the external input signal to form a new signal for the amplifier to process. The primary methods of combination are addition and subtraction. Positive feedback occurs when the feedback signal is added to the external signal, reinforcing the input to drive the amplifier into saturation. Known as regenerative feedback, it is used in digital circuits like flip flops and Schmitt triggers.\n\nNegative feedback, on the other hand, involves a feedback signal that opposes the input signal, hence termed degenerative feedback. This type of feedback is more intriguing due to its numerous advantages. It stabilizes gain against component variations and drift, reduces distortion and certain noises, controls input and output resistances to mitigate loading effects, and can enhance the amplifier's dynamics, such as extending bandwidth and improving transient response.\n\nHowever, negative feedback has its drawbacks and risks:\n\n- To fully benefit from negative feedback, a higher initial gain is required than the application ultimately needs. Students familiar with operational amplifiers, designed for negative feedback, already recognize this. Fortunately, high-gain amplifiers like op amps are now readily and inexpensively produced, making cost less of a concern.\n- A more critical issue is the risk of oscillation posed by negative feedback. Signal delays within the amplifier, collectively termed phase lag, can cause the feedback to shift from negative to positive if the signal acquires a $-180^{\\circ}$ phase shift upon return. If the signal remains strong, it becomes regenerative, leading to high-frequency oscillations. While this is useful in oscillator design, it can otherwise render a circuit useless. Thankfully, various techniques, known as frequency compensation methods, have been developed to control unwanted oscillations, forming a fascinating aspect of systems theory in electronics and control.\n\nHarold Black introduced negative feedback in 1928 to reduce distortion in telephone repeaters. For example, a gain-of-ten voltage amplifier should ideally respond to an input $v_{I}$ with an output $v_{O}=10 v_{I}$. However, due to device nonlinearities (like vacuum tubes or transistors), this relationship holds only for small signals. In large-signal operation, amplifiers produce distorted outputs, as seen in Sections 2.5 and 3.6 when transistor amplifiers are overdriven. This can be modeled as:\n\n$$\nv_{O}=10 v_{I}+v_{U}\n$$\n\nTo reduce $v_{U}$, Black proposed: (a) taking a fraction of the output equal to the reciprocal of the desired gain, (b) subtracting this from the input to create a new signal $v_{E}$ (the error signal),\n\n$$\nv_{E}=v_{I}-\\frac{1}{10} v_{O}=v_{I}-\\frac{10 v_{I}+v_{U}}{10}=\\frac{-v_{U}}{10}\n$$\n\n(c) feeding $v_{E}$ to the amplifier (now an error amplifier), and (d) significantly increasing the gain (open-loop gain) so $v_{O}$ can be sustained with a minimal $v_{E}$, leading to:\n\n$$\nv_{O} \\rightarrow 10 v_{I}\n$$\n\nThis simple yet profound reasoning led to a pivotal invention in electronics!\n\nInitially, negative feedback faced resistance due to the oscillation risk. However, once the risk was better understood and managed, it became fundamental in electronic circuit design and other fields like automatic control and biological system modeling. Students have encountered negative feedback in various contexts: op amp circuits, feedback bias for transistor stabilization, and emitter/source degeneration. Building on this informal exposure, we now delve into a comprehensive and systematic study.\n\nCHAPTER HIGHLIGHTS\n\nThe chapter starts with the basics of negative feedback, focusing on loop gain as a key parameter. It illustrates feedback's benefits in distortion, noise reduction, and broadbanding.\n\nNext, it covers the four fundamental negative-feedback topologies, discussing their impact on gain and I/O resistances. Building on students' informal exposure to op amps, the chapter systematically expands this knowledge.\n\nReal-world feedback circuits involve loading effects between the amplifier and feedback network, necessitating methods like two-port analysis, demonstrated through various circuit examples, from op amps to single-transistor stages.\n\nAn alternative method, return-ratio analysis, is also explored, along with Blackman's impedance formula and injection methods, useful in lab measurements and simulations.\n\nThe chapter then examines stability and frequency compensation techniques, using graphical, experimental, and computational tools to assess circuit stability and discussing internal frequency compensation in common op amps.\n\nIt concludes with noise in integrated circuits, covering basic noise properties, analytical tools, and noise models for diodes and transistors, followed by noise analysis of key configurations like op amp circuits and differential pairs.\n\nThroughout, PSpice is extensively used for verifying calculations and displaying critical waveforms, particularly in studying distortion reduction, stability, frequency compensation, and noise performance."
},
{
    "text": "Chapter Summary\n7.1 Fundamentals of Negative Feedback 688\n7.2 Impact of Feedback on Distortion, Noise, and Bandwidth 695\n7.3 Feedback Configurations and Closed-Loop I/O Resistances 704\n7.4 Practical Setups and Loading Effects 714\n7.5 Return-Ratio Analysis 741\n7.6 Blackman's Impedance Formula and Injection Techniques 755\n7.7 Stability in Negative-Feedback Circuits 762\n7.8 Dominant-Pole Compensation 772\n7.9 Frequency Compensation of Monolithic Op Amps 780\n7.10 Noise 795\n\nReferences 811\nProblems 811\n\nFeedback in electronics involves routing a portion of an amplifier's output signal back to its input, where it merges with the external input signal to form a new signal for processing. The primary methods of combining these signals are addition and subtraction. Positive feedback occurs when the feedback signal is added to the external signal, enhancing the input and often driving the amplifier into saturation. Known as regenerative feedback, it is utilized in digital circuits like flip-flops and Schmitt triggers.\n\nConversely, negative feedback involves the feedback signal opposing the input signal, hence its alias, degenerative feedback. This type of feedback is particularly noteworthy due to its numerous benefits. It stabilizes gain against component variations and drift, reduces distortion and certain noises, controls input and output resistances to mitigate loading effects, and can enhance bandwidth and transient response.\n\nHowever, negative feedback has its drawbacks and risks:\n\n- To fully exploit its advantages, the initial gain must be significantly higher than the application's final requirement. Despite this, modern integrated-circuit technology allows for the cost-effective production of high-gain amplifiers like op amps, making cost less of a concern.\n- A more critical issue is the risk of oscillation. As the signal travels through the amplifier, it encounters delays, collectively known as phase lag. If the signal acquires a $-180^{\\circ}$ phase shift upon returning to the input, feedback shifts from negative to positive. If the returned signal is sufficiently strong, it becomes regenerative, causing high-frequency oscillations. While this is intentional in oscillator design, it is generally undesirable and can render a circuit useless.幸运的是, various techniques, termed frequency compensation, have been developed to manage these oscillations, representing a fascinating aspect of systems theory in electronics and control.\n\nHarold Black introduced negative feedback in 1928 to reduce distortion in telephone repeaters. For example, a voltage amplifier with a gain of ten should ideally produce an output $v_{O}=10 v_{I}$ for a given input $v_{I}$. However, due to device nonlinearities (like vacuum tubes or transistors), this relationship holds only for small signals. Large signals result in distorted outputs, as seen in Sections 2.5 and 3.6 when transistor amplifiers are overdriven. This can be modeled as:\n\n$$\nv_{O}=10 v_{I}+v_{U}\n$$\n\nTo minimize $v_{U}$, Black proposed: (a) taking a fraction of the output equal to the reciprocal of the desired gain, $(1 / 10) v_{O}$; (b) subtracting this from the input to form a new signal $v_{E}$ (the error signal):\n\n$$\nv_{E}=v_{I}-\\frac{1}{10} v_{O}=v_{I}-\\frac{10 v_{I}+v_{U}}{10}=\\frac{-v_{U}}{10}\n$$\n\n(c) feeding $v_{E}$ back to the amplifier (now termed the error amplifier); and (d) significantly increasing the gain (open-loop gain) so that $v_{O}$ is sustained with a minimal $v_{E}$ (or $v_{E} \\rightarrow 0$), thereby reducing $v_{U}$ and virtually eliminating distortion:\n\n$$\nv_{O} \\rightarrow 10 v_{I}\n$$\n\nThis simple yet profound reasoning led to a pivotal invention in electronics!\n\nInitially, negative feedback faced skepticism due to the oscillation risk. However, once the risk was better understood and mitigated, it became fundamental in electronic circuit design and fields like automatic control and biological system modeling. Students have encountered negative feedback informally, such as in op amp circuits, feedback biasing for transistors, and emitter/source degeneration. This chapter builds on this foundation for a thorough and systematic study.\n\nCHAPTER HIGHLIGHTS\n\nThe chapter kicks off with the essentials of negative feedback, focusing on loop gain as a key parameter. It demonstrates feedback's benefits in scenarios like distortion and noise reduction, and broadbanding.\n\nIt then introduces four fundamental negative-feedback topologies, discussing their impact on gain and input/output resistances. Building on students' informal exposure to op amps, it systematically explores these topologies.\n\nReal-world circuits involve loading interactions between the amplifier and feedback network, necessitating methods like two-port analysis, illustrated through various examples, from op amps to single-transistor stages.\n\nAn alternative, return-ratio analysis, is also covered, along with Blackman's impedance formula and injection methods, useful for lab measurements and simulations.\n\nThe chapter delves into stability and frequency compensation techniques, providing tools for assessing circuit stability and examining internal frequency compensation in common op amps.\n\nIt concludes with noise in integrated circuits, covering basic properties, analytical tools, and noise models of diodes and transistors, culminating in the noise analysis of key configurations like op amp circuits and differential pairs.\n\nThroughout, PSpice is extensively used for verifying calculations and visualizing critical waveforms, particularly in studying distortion reduction, stability, frequency compensation, and noise performance."
},
{
    "text": "Chapter Summary\n7.1 Fundamentals of Negative Feedback 688\n7.2 Impact of Feedback on Distortion, Noise, and Bandwidth 695\n7.3 Feedback Configurations and Closed-Loop I/O Resistances 704\n7.4 Practical Setups and Loading Effects 714\n7.5 Return-Ratio Analysis 741\n7.6 Blackman's Impedance Formula and Injection Techniques 755\n7.7 Stability in Negative-Feedback Circuits 762\n7.8 Dominant-Pole Compensation 772\n7.9 Frequency Compensation of Monolithic Op Amps 780\n7.10 Noise 795\n\nReferences 811\nProblems 811\n\nIn electronics, feedback involves routing a portion of the amplifier's output signal back to its input, where it is combined with the external input signal to form a new signal for the amplifier to process. The primary methods of combination are addition and subtraction. Positive feedback occurs when the feedback signal is added to the external signal, reinforcing the input and often driving the amplifier into saturation. Known as regenerative feedback, it is utilized in digital circuits like flip-flops and Schmitt triggers.\n\nConversely, negative feedback involves the feedback signal opposing the input signal, hence its designation as degenerative feedback. This form of feedback is particularly intriguing due to its numerous benefits. It stabilizes gain against component variations and drift, reduces distortion and certain noises, controls input and output resistances to mitigate loading effects, and enhances the amplifier's dynamics, such as extending bandwidth and improving transient response.\n\nHowever, negative feedback has its drawbacks and risks:\n\n- To fully harness its benefits, a significantly higher initial gain is required than the application ultimately needs. This is familiar to students acquainted with operational amplifiers, the most common type for negative feedback. Fortunately, modern integrated-circuit technology allows for the cost-effective production of high-gain amplifiers like op amps.\n- A more critical issue is the risk of oscillation. As the signal travels through the amplifier, it experiences phase lag. If the signal acquires a $-180^{\\circ}$ phase shift upon returning to the input, feedback shifts from negative to positive. If the signal's strength is maintained or increased, it becomes regenerative, causing high-frequency oscillations. While this is intentional in oscillator design, it is generally undesirable and can render a circuit useless.幸运的是, various techniques, known as frequency compensation methods, have been developed to control these oscillations, forming a fascinating aspect of systems theory in electronics and control.\n\nHarold Black introduced negative feedback in 1928 to reduce distortion in telephone repeaters. For example, a voltage amplifier with a gain of ten should ideally produce an output $v_{O}=10 v_{I}$ for a given input $v_{I}$. However, due to device nonlinearities (vacuum tubes or transistors), this relationship holds only for small signals. In large-signal conditions, the output is significantly distorted, as seen in Sections 2.5 and 3.6 when transistor amplifiers are overdriven. This can be modeled as:\n\n$$\nv_{O}=10 v_{I}+v_{U}\n$$\n\nTo minimize $v_{U}$, Black proposed: (a) taking a fraction of the output equal to the reciprocal of the desired gain, $(1 / 10) v_{O}$; (b) subtracting this from the input to create a new signal $v_{E}$ (the error signal):\n\n$$\nv_{E}=v_{I}-\\frac{1}{10} v_{O}=v_{I}-\\frac{10 v_{I}+v_{U}}{10}=\\frac{-v_{U}}{10}\n$$\n\n(c) feeding $v_{E}$ to the amplifier (now termed the error amplifier); and (d) significantly increasing the gain (open-loop gain) so that $v_{O}$ is sustained with a minimal $v_{E}$ (or $v_{E} \\rightarrow 0$), thereby reducing $v_{U}$ and virtually eliminating distortion:\n\n$$\nv_{O} \\rightarrow 10 v_{I}\n$$\n\nThis straightforward reasoning led to one of electronics' most pivotal innovations!\n\nInitially, negative feedback faced resistance due to its oscillation risks. However, once these risks were better understood and managed, it became fundamental in electronic circuit design and other fields like automatic control and biological system modeling. Students have encountered negative feedback informally in various contexts: op amp circuits, feedback bias for transistor stabilization, and emitter/source degeneration for gain stability. Building on this foundation, we are now poised to explore negative feedback comprehensively and systematically.\n\nCHAPTER HIGHLIGHTS\n\nThe chapter initiates with the essentials of negative feedback, focusing on loop gain as a key parameter. It illustrates feedback's benefits in distortion and noise reduction, and broadbanding.\n\nIt then presents the four fundamental negative-feedback topologies, discussing their impact on gain and I/O resistances. Prior courses have introduced students to negative feedback through operational amplifiers, albeit informally. This section builds on that knowledge to systematically explore different feedback topologies.\n\nReal-world feedback circuits involve mutual loading between the amplifier and feedback network, necessitating appropriate analysis methods. The chapter demonstrates two-port analysis through various examples, from complex op amps and current-feedback amplifiers to multi-transistor and single-transistor configurations, highlighting the stabilizing effects of familiar feedback schemes.\n\nAn alternative method, return-ratio analysis, is also illustrated with diverse circuit examples. Related techniques, such as Blackman's impedance formula and injection methods, are discussed for their utility in laboratory measurements and simulations.\n\nThe chapter delves into stability and frequency compensation techniques, providing tools for assessing circuit stability and examining the internal frequency compensation of common op amps like the bipolar 741-type and CMOS op amps.\n\nIt concludes with an exploration of noise in integrated circuits, covering basic noise properties, analytical tools, and noise types. The noise models of diodes and transistors are addressed, followed by noise analysis of key configurations like op amp circuits and differential pairs, both bipolar and CMOS.\n\nThroughout, the chapter extensively employs PSpice for verifying calculations and visualizing critical waveforms, particularly in studying distortion reduction, stability, frequency compensation, and noise performance."
},
{
    "text": "Chapter Summary\n7.1 Fundamentals of Negative Feedback 688\n7.2 Impact of Feedback on Distortion, Noise, and Bandwidth 695\n7.3 Feedback Configurations and Closed-Loop I/O Resistances 704\n7.4 Common Configurations and Loading Effects 714\n7.5 Return-Ratio Analysis 741\n7.6 Blackman's Impedance Formula and Injection Techniques 755\n7.7 Stability in Negative Feedback Circuits 762\n7.8 Dominant-Pole Compensation 772\n7.9 Frequency Compensation for Monolithic Op Amps 780\n7.10 Noise Analysis 795\n\nReferences 811\nProblems 811\n\nFeedback in electronics involves sending a portion of the output signal from an amplifier back to its input, where it is combined with the external input signal to form a new signal for processing. The typical methods of combination are addition and subtraction. Positive feedback occurs when the feedback signal is added to the external signal, reinforcing it and often driving the amplifier into saturation. Known as regenerative feedback, it is used in digital circuits like flip flops and Schmitt triggers.\n\nIn contrast, negative feedback involves the feedback signal opposing the input signal, hence its alias, degenerative feedback. This form of feedback is particularly intriguing due to its numerous benefits. It stabilizes gain against component variations and drift, reduces distortion and certain noises, controls input and output resistances to mitigate loading effects, and enhances the amplifier's dynamics, such as extending bandwidth and improving transient response.\n\nHowever, negative feedback has its trade-offs and risks:\n\n- To fully harness its benefits, a significantly higher initial gain is required than the application ultimately needs. Students familiar with operational amplifiers, designed for negative feedback, recognize this. Fortunately, high-gain amplifiers like op amps are now readily and inexpensively produced in integrated-circuit technology, making cost less of a concern.\n- A more critical issue is the risk of oscillation. As the signal travels through the amplifier, it encounters delays known as phase lag. If the signal acquires a $-180^{\\circ}$ phase shift upon returning to the input, feedback shifts from negative to positive. If the returned signal is sufficiently strong, it becomes regenerative, causing high-frequency oscillations. While this is intentional in oscillator design, it is generally undesirable as it can render a circuit inoperative.幸运的是, various techniques, termed frequency compensation methods, have been developed to control these oscillations, forming a fascinating aspect of systems theory in electronics and control.\n\nHarold Black invented negative feedback in 1928 to reduce distortion in telephone repeaters. For example, a voltage amplifier with a gain of ten should ideally produce an output $v_{O}=10 v_{I}$ for an input $v_{I}$. However, due to device nonlinearities (like vacuum tubes or transistors), this relationship holds only for small signals. In large-signal operation, amplifiers produce distorted outputs, as seen in Sections 2.5 and 3.6 when transistor amplifiers are overdriven. This can be modeled as:\n\n$$\nv_{O}=10 v_{I}+v_{U}\n$$\n\nTo minimize $v_{U}$, Black proposed: (a) taking a fraction of the output equal to the reciprocal of the desired gain, $(1 / 10) v_{O}$; (b) subtracting this from the input to create a new signal $v_{E}$ (the error signal):\n\n$$\nv_{E}=v_{I}-\\frac{1}{10} v_{O}=v_{I}-\\frac{10 v_{I}+v_{U}}{10}=\\frac{-v_{U}}{10}\n$$\n\n(c) feeding $v_{E}$ to the amplifier (now termed the error amplifier); and (d) significantly increasing the gain (open-loop gain) so that $v_{O}$ is sustained with a minimal $v_{E}$ (or $v_{E} \\rightarrow 0$), thereby reducing $v_{U}$ and virtually eliminating distortion:\n\n$$\nv_{O} \\rightarrow 10 v_{I}\n$$\n\nThis straightforward reasoning led to a pivotal invention in electronics!\n\nInitially, negative feedback was met with skepticism due to its oscillation risk. However, once the risk was better understood and mitigated, it became fundamental in electronic circuit design, automatic control, and biological system modeling. Students have encountered negative feedback in various contexts: op amp circuits, feedback bias for transistor stabilization, and emitter/source degeneration for gain stability. Building on this informal exposure, we now delve into a comprehensive and systematic study of negative feedback.\n\nCHAPTER HIGHLIGHTS\n\nThe chapter initiates with the basics of negative feedback, focusing on loop gain as a key parameter. It illustrates feedback's benefits in reducing distortion, noise, and enhancing bandwidth.\n\nSubsequently, the chapter explores the four fundamental feedback topologies, discussing their impact on gain and input/output resistances. Prior courses have introduced students to negative feedback through operational amplifiers, providing a foundation to systematically examine different feedback topologies.\n\nIn practical circuits, the amplifier and feedback network mutually load each other, necessitating methods to analyze various topologies under loading conditions. The chapter demonstrates two-port analysis through diverse circuit examples, from complex op amps and current-feedback amplifiers to multi-transistor and single-transistor stages, highlighting the stabilizing effects of familiar feedback schemes like emitter/source degeneration and feedback bias.\n\nAn alternative, return-ratio analysis, is also illustrated with various examples. Related techniques, such as Blackman's impedance formula and injection methods, are discussed for their utility in laboratory measurements and simulations.\n\nThe chapter then examines stability and frequency compensation techniques. It introduces tools for assessing circuit stability and investigates the internal frequency compensation of common op amps, including the bipolar 741-type and CMOS op amps.\n\nConcluding with noise in integrated circuits, the chapter covers basic noise properties, analytical tools, and noise types, discussing diode and transistor noise models. It culminates with the noise analysis of key configurations like op amp circuits and bipolar/CMOS differential pairs.\n\nThroughout, the chapter extensively employs PSpice for verifying calculations and visualizing critical waveforms, particularly in exploring feedback's effects on distortion, stability, frequency compensation, and noise performance."
},
{
    "text": "Chapter Summary\n7.1 Fundamentals of Negative Feedback 688\n7.2 Impact of Feedback on Distortion, Noise, and Bandwidth 695\n7.3 Feedback Configurations and Closed-Loop I/O Resistances 704\n7.4 Practical Setups and Loading Effects 714\n7.5 Return-Ratio Analysis 741\n7.6 Blackman's Impedance Formula and Injection Approaches 755\n7.7 Stability in Negative-Feedback Circuits 762\n7.8 Dominant-Pole Compensation 772\n7.9 Frequency Compensation of Monolithic Op Amps 780\n7.10 Noise 795\n\nReferences 811\nProblems 811\n\nFeedback in electronics involves a scenario where a signal from an amplifier's output port is fed back to the input port, merging with the external input signal to form a new signal for the amplifier to process. The typical methods of combination are addition and subtraction. Positive feedback occurs when the feedback signal is added to the external signal, reinforcing it and often driving the amplifier into saturation. Known as regenerative feedback, it is used in digital circuits like flip flops and Schmitt triggers.\n\nIn contrast, negative feedback involves the feedback signal opposing the input signal, hence its alias, degenerative feedback. This type of feedback is particularly intriguing due to its numerous benefits. It stabilizes gain against component variations and drift, reduces distortion and certain noises, controls input and output resistances to mitigate loading effects, and can enhance the amplifier's dynamics, such as extending bandwidth and improving transient response.\n\nHowever, negative feedback has its drawbacks and risks:\n\n- To fully harness its benefits, a significantly higher initial gain is required than the application ultimately needs. Students familiar with operational amplifiers, designed for negative feedback, already understand this. Fortunately, high-gain amplifiers like op amps are now readily and inexpensively produced, making cost less of a concern.\n- A more critical issue is the risk of oscillation. As the signal travels through the amplifier, it encounters unavoidable delays, collectively known as phase lag. If the signal acquires a $-180^{\\circ}$ phase shift upon returning to the input, feedback shifts from negative to positive. If the signal remains strong, it becomes regenerative, causing high-frequency oscillation. While this is intentional in oscillator design, it is generally undesirable and can render a circuit useless. Thankfully, various techniques, termed frequency compensation, have been developed to manage unwanted oscillations, forming a fascinating aspect of systems theory in electronics and control.\n\nHarold Black introduced negative feedback in 1928 to reduce distortion in telephone repeaters. For example, a gain-of-ten voltage amplifier should ideally respond to an input $v_{I}$ with an output $v_{O}=10 v_{I}$. However, due to device nonlinearities (like vacuum tubes or transistors), this relationship holds only for small signals. In large-signal operation, amplifiers produce distorted outputs, as seen in Sections 2.5 and 3.6 when transistor amplifiers are overdriven. This can be modeled as:\n\n$$\nv_{O}=10 v_{I}+v_{U}\n$$\n\nTo minimize $v_{U}$, Black proposed: (a) taking a fraction of the output equal to the reciprocal of the desired gain, (b) subtracting this from the input to create a new signal $v_{E}$ (the error signal),\n\n$$\nv_{E}=v_{I}-\\frac{1}{10} v_{O}=v_{I}-\\frac{10 v_{I}+v_{U}}{10}=\\frac{-v_{U}}{10}\n$$\n\n(c) feeding $v_{E}$ to the amplifier (now termed the error amplifier), and (d) significantly increasing the gain (open-loop gain) so that $v_{O}$ is sustained with a minimal $v_{E}$ (or $v_{E} \\rightarrow 0$), thereby reducing $v_{U}$ and virtually eliminating distortion:\n\n$$\nv_{O} \\rightarrow 10 v_{I}\n$$\n\nThis simple yet profound reasoning led to a pivotal invention in electronics!\n\nInitially, negative feedback faced skepticism due to the oscillation risk. However, once the risk was better understood and managed, it became foundational in electronic circuit design, automatic control, and biological system modeling. Students have encountered negative feedback in various contexts: op amp circuits, feedback bias for transistor stabilization, and emitter/source degeneration. Having informally encountered negative feedback, we are now prepared to study it comprehensively and systematically.\n\nCHAPTER HIGHLIGHTS\n\nThe chapter initiates with the basics of negative feedback, emphasizing loop gain as a key parameter. It illustrates feedback's benefits in distortion and noise reduction, and broadbanding.\n\nNext, it introduces four fundamental negative-feedback topologies, discussing their impact on gain and I/O resistances. Building on students' informal exposure to op amps, the chapter systematically expands this knowledge to cover various feedback topologies.\n\nReal-world feedback circuits involve loading interactions between the amplifier and feedback network, necessitating methods like two-port analysis, demonstrated through diverse circuit examples, from op amps to single-transistor stages.\n\nAn alternative method, return-ratio analysis, is also explored, along with Blackman's impedance formula and injection methods, useful in lab measurements and simulations.\n\nThe chapter then delves into stability and frequency compensation techniques, providing tools for assessing circuit stability and examining internal frequency compensation in common op amps.\n\nConcluding with noise in integrated circuits, it covers basic noise properties, analytical tools, and noise models for diodes and transistors, culminating in the noise analysis of key configurations like op amp circuits and differential pairs.\n\nThe chapter extensively employs PSpice for verifying calculations and visualizing critical waveforms, particularly in studying distortion reduction, stability, frequency compensation, and noise performance."
},
{
    "text": "Chapter Outline\n7.1 Fundamentals of Negative Feedback 688\n7.2 Impact of Feedback on Distortion, Noise, and Bandwidth 695\n7.3 Feedback Configurations and Closed-Loop I/O Resistances 704\n7.4 Common Configurations and Loading Effects 714\n7.5 Return-Ratio Analysis 741\n7.6 Blackman's Impedance Formula and Injection Techniques 755\n7.7 Stability in Negative-Feedback Circuits 762\n7.8 Dominant-Pole Compensation 772\n7.9 Frequency Compensation of Monolithic Op Amps 780\n7.10 Noise 795\n\nReferences 811\nProblems 811\n\nFeedback in electronics involves a scenario where a signal from the output port of an amplifier is fed back to the input port, combining with the external input signal to form a new signal for the amplifier to process. The primary methods of combination are addition and subtraction. When the feedback signal is added to the external signal, it results in positive feedback; when subtracted, it results in negative feedback.\n\nIn positive feedback, the returned signal is intended to amplify the input signal, deliberately driving the amplifier into saturation. Also known as regenerative feedback, it is utilized in the creation of digital circuits like flip-flops and Schmitt triggers.\n\nIn negative feedback, the returned signal is designed to counteract (rather than amplify) the input signal, hence its designation as degenerative feedback. This form of feedback is particularly intriguing due to its numerous potential benefits. Firstly, it stabilizes the gain against variations and drift in the amplifier's components. Secondly, it reduces distortion and certain types of noise. Thirdly, it can control input and output resistances to mitigate loading effects. Lastly, it can enhance the amplifier's dynamics, such as extending bandwidth and improving transient response.\n\nHowever, like many innovations, negative feedback has its drawbacks and risks:\n\n- To fully harness its benefits, a significantly higher initial gain is required than what the application ultimately needs. (Students familiar with operational amplifiers, the most common type for negative-feedback applications, already recognize this.) Fortunately, in modern integrated-circuit technology, high-gain amplifiers like op amps are produced readily and cost-effectively, making cost less of a concern.\n- A more critical issue is the risk of oscillation posed by negative feedback. As the signal travels through the amplifier, it encounters inevitable delays, collectively termed phase lag. If the signal acquires a $-180^{\\circ}$ phase shift upon returning to the input, feedback shifts from negative to positive. Furthermore, if the signal remains at least as strong as it was initially, feedback becomes regenerative, leading to high-frequency oscillations. While this effect is intentionally used in oscillator design, it is generally undesirable as it can render a circuit ineffective. Thankfully, various techniques have been developed to control unwanted oscillations, known as frequency compensation techniques, which are a fascinating aspect of systems theory in electronics and control.\n\nHarold Black introduced negative feedback in 1928 to reduce distortion in telephone repeaters. For example, with a voltage amplifier having a gain of ten, we expect the output $v_{O}=10 v_{I}$ for a given input $v_{I}$. In reality, due to the nonlinearities of the amplifier's components (formerly vacuum tubes, now transistors), this relationship holds only for small signals. For large signals, the output is significantly distorted, as seen in Sections 2.5 and 3.6 when transistor amplifiers are overdriven. This can be modeled by considering the output as the desired component $10 v_{I}$ plus an unwanted component (or noise) $v_{U}$,\n\n$$\nv_{O}=10 v_{I}+v_{U}\n$$\n\nTo reduce $v_{U}$, Harold Black proposed: (a) taking a fraction of the output equal to the reciprocal of the desired gain, or $(1 / 10) v_{O}$; (b) subtracting this fraction from the input to create a new signal $v_{E}$ (the error signal)\n\n$$\nv_{E}=v_{I}-\\frac{1}{10} v_{O}=v_{I}-\\frac{10 v_{I}+v_{U}}{10}=\\frac{-v_{U}}{10}\n$$\n\n(c) feeding this new signal $v_{E}$ to the amplifier (now termed the error amplifier); and (d) significantly increasing the gain (now called open-loop gain) so that the amplifier can maintain $v_{O}$ with a very small $v_{E}$ (or $\\left.v_{E} \\rightarrow 0\\right)$, thereby minimizing $v_{U}\\left(=-10 v_{E}\\right)$ and virtually eliminating the distortion $v_{U}$ from the output, resulting in\n\n$$\nv_{O} \\rightarrow 10 v_{I}\n$$\n\nIt's remarkable that such a straightforward reasoning led to one of the most pivotal inventions in electronics!\n\nInitially, negative feedback was not widely accepted by engineers due to the oscillation risk it entailed. However, once the risks were better understood and effective solutions were developed to control unwanted oscillations, negative feedback became fundamental not only in electronic circuit design but also in fields like automatic control and biological system modeling. Students have already encountered negative feedback informally in various contexts: op amp circuits, feedback bias techniques for transistor stabilization, and emitter/source degeneration as a method to stabilize gain against transistor parameter variations. Having had this informal exposure, we are now prepared to explore negative feedback in a comprehensive and systematic manner.\n\nCHAPTER HIGHLIGHTS\n\nThe chapter starts with the basics of negative feedback, focusing on loop gain as a key parameter. It illustrates the beneficial effects of feedback in scenarios like distortion and noise reduction, and broadbanding.\n\nSubsequently, the chapter introduces four fundamental negative-feedback topologies and examines the impact of feedback on gain, as well as input and output resistances. Prerequisite courses have provided students with an informal understanding of negative feedback through operational amplifiers. This section builds on that foundation to systematically explore various feedback topologies.\n\nIn practical feedback circuits, the basic amplifier and the feedback network tend to interact through loading, necessitating appropriate methods to analyze different topologies under loading conditions. The first such method, two-port analysis, is demonstrated through various circuit examples, from comprehensive op amps and current-feedback amplifiers to multi-transistor configurations and single-transistor stages (students will finally appreciate the stabilizing effects of familiar single-transistor feedback schemes like emitter/source degeneration and feedback bias).\n\nAn alternative to two-port analysis, return-ratio analysis, is also illustrated with diverse circuit examples. Closely related are Blackman's impedance formula and injection methods, which are particularly valuable for laboratory measurements and computer simulations.\n\nThe chapter then delves into stability and frequency compensation techniques. After introducing tools for assessing the stability of negative-feedback circuits, it examines the internal frequency compensation of common op amps discussed in Chapter 5: the bipolar 741-type op amp, and the two-stage and cascode CMOS op amps.\n\nThe chapter concludes with a discussion on noise in integrated circuits. It begins with an introduction to basic noise properties, analytical tools, and types of noise, followed by noise models of diodes and transistors. The chapter wraps up with noise analysis of significant circuit configurations, such as op amp circuits and differential pairs, both bipolar and CMOS.\n\nThroughout the chapter, PSpice is extensively used both for verifying paper-and-pencil calculations and as a software oscilloscope to display critical waveforms, especially when exploring the effects on distortion, stability and frequency compensation issues, and understanding circuit noise performance."
},
{
    "text": "Figure 7.1 illustrates the structure of a negative feedback system. Its primary components are an error amplifier and a feedback network. The system accepts an external input signal $s_{i}$ (typically a voltage or current in electronic circuits) and generates an output signal $s_{o}$ (also a voltage or current). The feedback network detects $s_{o}$ to create a scaled version known as the feedback signal $s_{f}$, defined by\n\n$$\n\\begin{equation*}\ns_{f}=b s_{o} \\tag{7.1}\n\\end{equation*}\n$$\n\nwhere $b$ is termed the feedback factor. This feedback signal is then directed to an input summer, where it is subtracted from the input signal to form the error signal $s_{\\varepsilon}$,\n\n$$\n\\begin{equation*}\ns_{\\varepsilon}=s_{i}-s_{f} \\tag{7.2}\n\\end{equation*}\n$$\n\nThis error signal is subsequently fed into the error amplifier, thereby completing a signal-propagation loop around the amplifier.\n\nAs Eq. (7.2) suggests, the objective of negative feedback is to diminish the input signal $s_{i}$ to a smaller error signal $s_{\\varepsilon}$. If we were to add (instead of subtract) $s_{f}$ to $s_{i}$, $s_{\\varepsilon}$ would exceed $s_{i}$. Following further amplification, the signal would grow even larger, perpetuating a cycle until the amplifier reaches saturation. This scenario, known as positive feedback, is utilized in highly nonlinear circuits like flip flops and Schmitt triggers. This chapter focuses exclusively on negative feedback.\n\nOur goal now is to derive a relationship between the system's output $s_{o}$ and input $s_{i}$. By definition, the error amplifier provides\n\n$$\n\\begin{equation*}\ns_{o}=a S_{\\varepsilon} \\tag{7.3}\n\\end{equation*}\n$$\n\nwhere $a$ is the amplifier's gain. If we interrupt the feedback loop to make $s_{f}=0$, the amplifier would yield $s_{o}=a s_{i}$, indicating that $a$ is the gain in the absence of feedback, termed the open-loop gain. Combining these equations,\n\n$$\ns_{o}=a\\left(s_{i}-s_{f}\\right)=a\\left(s_{i}-b s_{o}\\right)\n$$\n\nSolving for $s_{o}$, we obtain\n\n$$\n\\begin{equation*}\ns_{o}=A s_{i} \\tag{7.4}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b} \\tag{7.5}\n\\end{equation*}\n$$\n\nrepresents the overall gain of the negative-feedback system, known as the closed-loop gain. It is crucial to distinguish $A\\left(=s_{o} / s_{i}\\right)$ from the open-loop gain $a\\left(=s_{o} / s_{\\varepsilon}\\right)$. To clarify this distinction, we use uppercase letters for closed-loop parameters (e.g., $A, R_{i}, R_{o}$) and lowercase letters for open-loop parameters (e.g., $a, r_{i}, r_{o}$).\n\nAs a signal travels around the loop, it first amplifies by $a$ in the amplifier, then attenuates by $b$ in the feedback network, and finally inverts ($-$) at the summer $\\Sigma$. The overall loop gain is thus $-a b$, with its negative termed the loop gain $L$,\n\n$$\n\\begin{equation*}\nL=a b \\tag{7.6}\n\\end{equation*}\n$$\n\n$L$ is pivotal in a feedback system. Rearranging Eq. (7.5) as\n\n$$\nA=\\frac{1}{b} \\frac{a b}{1+a b}=\\frac{1}{b} \\frac{1}{1+1 /(a b)}\n$$\n\nwe can express the closed-loop gain in an insightful form\n\n$$\n\\begin{equation*}\nA=\\frac{1}{b} \\times \\frac{1}{1+1 / L} \\tag{7.7}\n\\end{equation*}\n$$\n\nNotably, when $L \\gg 1$, Eq. (7.7) approximates to\n\n$$\n\\begin{equation*}\nA \\cong \\frac{1}{b}\\left(1-\\frac{1}{L}\\right) \\cong \\frac{1}{b} \\tag{7.8}\n\\end{equation*}\n$$\n\nThis highlights two key advantages of negative feedback under $L \\gg 1$:\n\n- The closed-loop gain $A$ is largely independent of the open-loop gain $a$, which is beneficial since $a$ is often poorly defined and varies with transistor parameters, biasing conditions, temperature, time, and fabrication variations.\n- $A$ can be tailored for various applications by appropriately designing the feedback network, typically using passive components like resistors and capacitors, ensuring predictability, accuracy, and stability.\n\nConsidering $1 / L$ as an error term in Eq. (7.8), a larger $L$ indicates closer alignment of $A$ to the ideal gain $1 / b$. Thus, for a given $b$, a high $a$ is necessary to achieve a large $L$, translating to a high open-loop gain $a$ for a stable and predictable closed-loop gain $A$. This involves sacrificing some gain, quantified by $(1+L)$, but is justified by the benefits and the feasibility of achieving high gains with modern IC technology.\n\nAs we progress, we'll refer to $L \\rightarrow \\infty$ as the ideal scenario, yielding the closed-loop gain\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\lim _{T \\rightarrow \\infty} A=\\frac{1}{b} \\tag{7.9}\n\\end{equation*}\n$$\n\nThough unattainable physically, designers aim to approach this ideal within a specified accuracy by ensuring a high loop gain $L$, thereby using an amplifier with a correspondingly high open-loop gain $a(=L / b)$.\n\n**EXAMPLE 7.1**\n\n(a) An engineer is tasked with designing a voltage amplifier with a closed-loop gain of $10 \\mathrm{~V} / \\mathrm{V}$ and an error of $1 \\%$ or less. What values of $a$ and $b$ are required? What is the resulting $A$?\n\n(b) To ensure reliability, the engineer opts for an amplifier with a gain $a$ ten times that calculated in part (a). What is the resulting $A$?\n\n#### Solution\n\n(a) Setting $10 \\mathrm{~V} / \\mathrm{V}=1 / b$ gives $b=0.1 \\mathrm{~V} / \\mathrm{V}$. For a $1 \\%$ error, $1 / L=1 / 100$, so $a=L / b=100 / 0.1=1000 \\mathrm{~V} / \\mathrm{V}$. Thus, $A \\cong(1 / b) \\times(1-1 / L)=10(1-1 / 100)=9.9 \\mathrm{~V} / \\mathrm{V}$.\n\n(b) With $L=1000$, $A \\cong 10(1-1 / 1000)=9.99 \\mathrm{~V} / \\mathrm{V}$, closer to the ideal $10 \\mathrm{~V} / \\mathrm{V}$."
},
{
    "text": "Figure 7.1 illustrates the configuration of a negative feedback system, comprising primarily an error amplifier and a feedback network. The system accepts an external input signal $s_{i}$, typically a voltage or current in electronic circuits, and generates an output signal $s_{o}$, also a voltage or current. The feedback network detects $s_{o}$ and produces a scaled version known as the feedback signal $s_{f}$, defined by\n\n$$\n\\begin{equation*}\ns_{f}=b s_{o} \\tag{7.1}\n\\end{equation*}\n$$\n\nwhere $b$ is termed the feedback factor. This feedback signal is then directed to an input summer, where it is subtracted from the input signal to form the error signal $s_{\\varepsilon}$,\n\n$$\n\\begin{equation*}\ns_{\\varepsilon}=s_{i}-s_{f} \\tag{7.2}\n\\end{equation*}\n$$\n\nThis error signal is subsequently fed into the error amplifier, thus completing a signal-propagation loop.\n\nAs Eq. (7.2) suggests, the objective of negative feedback is to diminish the input signal $s_{i}$ to a smaller error signal $s_{\\varepsilon}$. If $s_{f}$ were added to $s_{i}$ instead of subtracted, $s_{\\varepsilon}$ would exceed $s_{i}$. Following further amplification, the signal would grow even larger upon returning to the summer, leading to a continuous escalation until the amplifier reaches saturation. This scenario, known as positive feedback, is utilized in creating highly nonlinear circuits like flip flops and Schmitt triggers. However, this chapter focuses exclusively on negative feedback.\n\nWe now aim to derive a relationship between the system's output $s_{o}$ and input $s_{i}$. By definition, the error amplifier provides\n\n$$\n\\begin{equation*}\ns_{o}=a S_{\\varepsilon} \\tag{7.3}\n\\end{equation*}\n$$\n\nwhere $a$ represents the amplifier's gain. If the feedback loop were interrupted to make $s_{f}=0$, the amplifier would yield $s_{o}=a s_{i}$, indicating that $a$ is the gain in the absence of feedback, termed the open-loop gain. Combining these equations,\n\n$$\ns_{o}=a\\left(s_{i}-s_{f}\\right)=a\\left(s_{i}-b s_{o}\\right)\n$$\n\nSolving for $s_{o}$ results in\n\n$$\n\\begin{equation*}\ns_{o}=A s_{i} \\tag{7.4}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b} \\tag{7.5}\n\\end{equation*}\n$$\n\nis the gain of the overall negative-feedback system, known as the closed-loop gain. It is crucial to distinguish $A\\left(=s_{o} / s_{i}\\right)$ from the open-loop gain $a\\left(=s_{o} / s_{\\varepsilon}\\right)$. To clarify this distinction, we use uppercase letters for closed-loop parameters (e.g., $A, R_{i}, R_{o}$) and lowercase letters for open-loop parameters (e.g., $a, r_{i}, r_{o}$).\n\nAs a signal travels around the loop, it first amplifies by $a$ through the amplifier, then attenuates by $b$ in the feedback network, and finally inverts (-) at the summer Σ. The overall loop gain is thus $-a b$, with its negative value termed the loop gain $L$,\n\n$$\n\\begin{equation*}\nL=a b \\tag{7.6}\n\\end{equation*}\n$$\n\n$L$ is pivotal in feedback systems. By manipulating Eq. (7.5), we can express the closed-loop gain as\n\n$$\n\\begin{equation*}\nA=\\frac{1}{b} \\times \\frac{1}{1+1 / L} \\tag{7.7}\n\\end{equation*}\n$$\n\nNotably, when $L \\gg 1$, Eq. (7.7) approximates to\n\n$$\n\\begin{equation*}\nA \\cong \\frac{1}{b}\\left(1-\\frac{1}{L}\\right) \\cong \\frac{1}{b} \\tag{7.8}\n\\end{equation*}\n$$\n\nThis highlights two key advantages of negative feedback under $L \\gg 1$:\n\n- The closed-loop gain $A$ is largely independent of the open-loop gain $a$, which is beneficial since $a$ is often poorly defined and subject to variations in transistor parameters due to biasing, temperature, time, and manufacturing differences.\n- $A$ can be precisely tailored for various applications by appropriately designing the feedback network, typically using passive components like resistors and capacitors, ensuring predictability, accuracy, and stability.\n\nRegarding $1 / L$ as an error term in Eq. (7.8), a larger $L$ indicates a closer approximation of $A$ to the ideal gain $1 / b$. Thus, a high open-loop gain $a$ is necessary to achieve a stable and predictable closed-loop gain $A$. This involves sacrificing some gain, but the benefits justify this trade-off, especially given the ease of achieving high gains with modern IC technology.\n\nWe will refer to the limit $L \\rightarrow \\infty$ as the ideal scenario, yielding the closed-loop gain\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\lim _{T \\rightarrow \\infty} A=\\frac{1}{b} \\tag{7.9}\n\\end{equation*}\n$$\n\nAlthough physically unattainable, designers aim to approach this ideal by ensuring a sufficiently high loop gain $L$, thereby using an amplifier with a correspondingly high open-loop gain $a(=L / b)$.\n\n**EXAMPLE 7.1**\n\n(a) An engineer is tasked with designing a voltage amplifier with a closed-loop gain of $10 \\mathrm{~V} / \\mathrm{V}$ and an error margin of $1 \\%$ or less. What values of $a$ and $b$ are required? What is the resulting $A$?\n\n(b) To ensure reliability, the engineer opts for an amplifier with a gain $a$ ten times that calculated in part (a). What is the resulting $A$?\n\n#### Solution\n\n(a) Setting $10 \\mathrm{~V} / \\mathrm{V}=1 / b$ gives $b=0.1 \\mathrm{~V} / \\mathrm{V}$. For a $1 \\%$ error, $1 / L=1 / 100$, so $a=L / b=100 / 0.1=1000 \\mathrm{~V} / \\mathrm{V}$. Thus, $A \\cong(1 / b) \\times(1-1 / L)=10(1-1 / 100)=9.9 \\mathrm{~V} / \\mathrm{V}$.\n\n(b) With $L=1000$, $A \\cong 10(1-1 / 1000)=9.99 \\mathrm{~V} / \\mathrm{V}$, closely approaching the ideal value of $10 \\mathrm{~V} / \\mathrm{V}$."
},
{
    "text": "Figure 7.1 illustrates the structure of a negative feedback system. Its primary components are an error amplifier and a feedback network. The system accepts an external input signal $s_{i}$ (commonly a voltage or current in electronic circuits) and generates an output signal $s_{o}$ (also a voltage or current). The feedback network detects $s_{o}$ and produces a scaled version of it, known as the feedback signal $s_{f}$, according to the equation:\n\n$$\n\\begin{equation*}\ns_{f}=b s_{o} \\tag{7.1}\n\\end{equation*}\n$$\n\nHere, $b$ is termed the feedback factor. This feedback signal is then directed to an input summer, where it is subtracted from the input signal to create the error signal $s_{\\varepsilon}$,\n\n$$\n\\begin{equation*}\ns_{\\varepsilon}=s_{i}-s_{f} \\tag{7.2}\n\\end{equation*}\n$$\n\nThis error signal is subsequently fed into the error amplifier, thereby completing a signal-propagation loop around the amplifier.\n\nAs indicated by Eq. (7.2), the objective of negative feedback is to diminish the input signal $s_{i}$ to a smaller error signal $s_{\\varepsilon}$. If we were to add (instead of subtract) $s_{f}$ to $s_{i}$, $s_{\\varepsilon}$ would exceed $s_{i}$. Following further amplification, the signal would grow even larger upon returning to the summer, perpetually amplifying itself until the amplifier reaches saturation. This type of feedback, known as positive feedback, is utilized in the creation of highly nonlinear circuits like flip flops and Schmitt triggers. This chapter, however, focuses exclusively on negative feedback.\n\nOur goal now is to derive a relationship between the system's output $s_{o}$ and input $s_{i}$. By definition, the error amplifier provides:\n\n$$\n\\begin{equation*}\ns_{o}=a S_{\\varepsilon} \\tag{7.3}\n\\end{equation*}\n$$\n\nwhere $a$ represents the amplifier's gain. If we were to interrupt the feedback loop to make $s_{f}=0$, the amplifier would yield $s_{o}=a s_{i}$, signifying that $a$ is the gain that would amplify $s_{i}$ in the absence of any feedback. Thus, $a$ is referred to as the open-loop gain. By combining the preceding equations,\n\n$$\ns_{o}=a\\left(s_{i}-s_{f}\\right)=a\\left(s_{i}-b s_{o}\\right)\n$$\n\nSolving for $s_{o}$, we obtain:\n\n$$\n\\begin{equation*}\ns_{o}=A s_{i} \\tag{7.4}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b} \\tag{7.5}\n\\end{equation*}\n$$\n\nis the gain of the entire negative-feedback system in amplifying the input $s_{i}$. This is aptly named the closed-loop gain, $A\\left(=s_{o} / s_{i}\\right)$, and should not be confused with the open-loop gain $a\\left(=s_{o} / s_{\\varepsilon}\\right)$. To emphasize the distinction, we will use uppercase letters for closed-loop parameters (e.g., gain, input and output resistances $\\left(A, R_{i}, R_{o}\\right)$) and lowercase letters for the basic error amplifier's parameters, known as open-loop parameters $\\left(a, r_{i}, r_{o}\\right)$.\n\nAs a signal travels around the loop, it first undergoes amplification by $a$ in the amplifier, then attenuation by $b$ in the feedback network, and finally inversion $(-)$ at the summer $\\Sigma$. The overall loop gain is thus $-a b$. The negative of this gain is referred to as the loop gain $L$,\n\n$$\n\\begin{equation*}\nL=a b \\tag{7.6}\n\\end{equation*}\n$$\n\nAs we will see, $L$ is pivotal in a feedback system. By manipulating Eq. (7.5) as\n\n$$\nA=\\frac{1}{b} \\frac{a b}{1+a b}=\\frac{1}{b} \\frac{1}{1+1 /(a b)}\n$$\n\nwe can express the closed-loop gain in a revealing alternative form:\n\n$$\n\\begin{equation*}\nA=\\frac{1}{b} \\times \\frac{1}{1+1 / L} \\tag{7.7}\n\\end{equation*}\n$$\n\nOf special interest is the scenario where $L \\gg 1$, allowing Eq. (7.7) to be approximated as:\n\n$$\n\\begin{equation*}\nA \\cong \\frac{1}{b}\\left(1-\\frac{1}{L}\\right) \\cong \\frac{1}{b} \\tag{7.8}\n\\end{equation*}\n$$\n\nThis highlights two key advantages of using negative feedback when $L \\gg 1$:\n\n- The closed-loop gain $A$ is largely independent of the open-loop gain $a$, which is beneficial since $a$ is often an ill-defined parameter influenced by transistor characteristics that vary with biasing, temperature, time, and manufacturing inconsistencies.\n- $A$ can be customized for various applications by appropriately designing the feedback network, typically composed of passive components like resistors and capacitors. High-quality components ensure that $A$ is predictable, accurate, and stable.\n\nConsidering $1 / L$ as an error term in Eq. (7.8), it is clear that a larger $L$ results in $A$ being closer to the ideal gain $1 / b$. Consequently, to achieve a sufficiently large $L$ for a given $b$, an amplifier with a high gain $a$ is required. Essentially, a high open-loop gain $a$ is necessary to attain a lower but more stable and predictable closed-loop gain $A$. Since the gain decreases from $a$ to $a /(1+L)$, we effectively sacrifice gain by the feedback amount $(1+L)$. Given the benefits and the ease of achieving high gains with modern IC technology, this trade-off is justified.\n\nAs we progress, we will refer to the limit $L \\rightarrow \\infty$ as the ideal scenario. The corresponding closed-loop gain is then:\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\lim _{T \\rightarrow \\infty} A=\\frac{1}{b} \\tag{7.9}\n\\end{equation*}\n$$\n\nAlthough this ideal condition is not physically achievable, designers aim to approach it within a specified accuracy by ensuring a high loop gain $L$, thereby using an amplifier with a correspondingly high open-loop gain $a(=L / b)$.\n\n**EXAMPLE 7.1**\n\n(a) An engineer is tasked with designing a voltage amplifier with a closed-loop gain of $10 \\mathrm{~V} / \\mathrm{V}$ and an error of $1 \\%$ or less. What values of $a$ and $b$ are required? What is the resulting value of $A$?\n(b) To ensure accuracy, the engineer opts for an amplifier with a gain $a$ ten times that calculated in part (a). What is the resulting value of $A$?\n\n#### Solution\n\n(a) Setting $10 \\mathrm{~V} / \\mathrm{V}=1 / b$ gives $b=0.1 \\mathrm{~V} / \\mathrm{V}$. For a $1 \\%$ error, $1 / L=1 / 100$, so $a=L / b=100 / 0.1=1000 \\mathrm{~V} / \\mathrm{V}$. Thus, $A \\cong(1 / b) \\times(1-1 / L)=10(1-1 / 100)=9.9 \\mathrm{~V} / \\mathrm{V}$.\n(b) With $L=1000$, $A \\cong 10(1-1 / 1000)=9.99 \\mathrm{~V} / \\mathrm{V}$, closer to the ideal value of $10 \\mathrm{~V} / \\mathrm{V}$."
},
{
    "text": "Figure 7.1 illustrates the architecture of a negative feedback system, comprising primarily an error amplifier and a feedback network. The system accepts an external input signal \\( s_i \\) (commonly a voltage or current in electronic circuits) and generates an output signal \\( s_o \\) (also a voltage or current). The feedback network detects \\( s_o \\) and produces a scaled version known as the feedback signal \\( s_f \\), defined by\n\n$$\n\\begin{equation*}\ns_f = b s_o \\tag{7.1}\n\\end{equation*}\n$$\n\nwhere \\( b \\) is termed the feedback factor. This feedback signal is then directed to an input summer, where it is subtracted from the input signal to form the error signal \\( s_\\varepsilon \\),\n\n$$\n\\begin{equation*}\ns_\\varepsilon = s_i - s_f \\tag{7.2}\n\\end{equation*}\n$$\n\nThis error signal is subsequently fed into the error amplifier, thus completing a signal-propagation loop.\n\nAs indicated by Eq. (7.2), the objective of negative feedback is to diminish the input signal \\( s_i \\) to a smaller error signal \\( s_\\varepsilon \\). If \\( s_f \\) were added to \\( s_i \\) instead of subtracted, \\( s_\\varepsilon \\) would exceed \\( s_i \\). Following further amplification, the signal would grow even larger upon returning to the summer, perpetuating this cycle until the amplifier reaches saturation. This scenario, known as positive feedback, is utilized in highly nonlinear circuits like flip flops and Schmitt triggers. This chapter focuses exclusively on negative feedback.\n\nOur goal now is to derive a relationship between the system's output \\( s_o \\) and input \\( s_i \\). By definition, the error amplifier provides\n\n$$\n\\begin{equation*}\ns_o = a s_\\varepsilon \\tag{7.3}\n\\end{equation*}\n$$\n\nwhere \\( a \\) is the amplifier's gain. If the feedback loop were broken, making \\( s_f = 0 \\), the amplifier would yield \\( s_o = a s_i \\), indicating that \\( a \\) represents the gain in the absence of feedback, hence termed the open-loop gain. Combining these equations,\n\n$$\ns_o = a (s_i - s_f) = a (s_i - b s_o)\n$$\n\nSolving for \\( s_o \\) yields\n\n$$\n\\begin{equation*}\ns_o = A s_i \\tag{7.4}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA = \\frac{a}{1 + a b} \\tag{7.5}\n\\end{equation*}\n$$\n\nis the overall gain of the negative-feedback system. Referred to as the closed-loop gain, \\( A \\left(= s_o / s_i \\right) \\) should not be confused with the open-loop gain \\( a \\left(= s_o / s_\\varepsilon \\right) \\). To clarify this distinction, we use uppercase letters for closed-loop parameters (e.g., \\( A, R_i, R_o \\)) and lowercase letters for open-loop parameters (e.g., \\( a, r_i, r_o \\)).\n\nAs a signal travels around the loop, it first amplifies by \\( a \\) in the amplifier, then attenuates by \\( b \\) in the feedback network, and finally inverts at the summer \\( \\Sigma \\). The overall loop gain is thus \\( -a b \\), with its negative termed the loop gain \\( L \\),\n\n$$\n\\begin{equation*}\nL = a b \\tag{7.6}\n\\end{equation*}\n$$\n\n\\( L \\) is pivotal in feedback systems. Manipulating Eq. (7.5) as\n\n$$\nA = \\frac{1}{b} \\frac{a b}{1 + a b} = \\frac{1}{b} \\frac{1}{1 + 1 / (a b)}\n$$\n\nallows us to express the closed-loop gain in an insightful form:\n\n$$\n\\begin{equation*}\nA = \\frac{1}{b} \\times \\frac{1}{1 + 1 / L} \\tag{7.7}\n\\end{equation*}\n$$\n\nOf special interest is the condition \\( L \\gg 1 \\), where Eq. (7.7) approximates to\n\n$$\n\\begin{equation*}\nA \\cong \\frac{1}{b} \\left(1 - \\frac{1}{L}\\right) \\cong \\frac{1}{b} \\tag{7.8}\n\\end{equation*}\n$$\n\nThis highlights two key advantages of negative feedback when \\( L \\gg 1 \\):\n\n- The closed-loop gain \\( A \\) is largely independent of the open-loop gain \\( a \\), beneficial since \\( a \\) is often poorly defined and varies with transistor parameters, biasing conditions, temperature, and manufacturing variations.\n- \\( A \\) can be tailored for various applications by appropriately designing the feedback network, typically using passive components like resistors and capacitors, ensuring predictability, accuracy, and stability.\n\nConsidering \\( 1 / L \\) as an error term in Eq. (7.8), \\( L \\) indicates how closely \\( A \\) approaches the ideal gain \\( 1 / b \\). A larger \\( L \\) implies better performance. Since \\( L = a b \\), achieving a sufficiently large \\( L \\) for a given \\( b \\) requires a high open-loop gain \\( a \\). Essentially, we trade high open-loop gain for a lower but more stable closed-loop gain \\( A \\). Despite the gain reduction from \\( a \\) to \\( a / (1 + L) \\), the benefits justify this trade-off, especially given the ease and cost-effectiveness of achieving high gains with modern IC technology.\n\nAs we progress, we'll refer to \\( L \\rightarrow \\infty \\) as the ideal scenario, yielding the closed-loop gain\n\n$$\n\\begin{equation*}\nA_{\\text{ideal}} = \\lim_{L \\rightarrow \\infty} A = \\frac{1}{b} \\tag{7.9}\n\\end{equation*}\n$$\n\nThough physically unattainable, designers aim to approach this ideal by ensuring a high loop gain \\( L \\), thus using an amplifier with a correspondingly high open-loop gain \\( a \\left(= L / b\\right) \\).\n\n**EXAMPLE 7.1**\n\n(a) An engineer is tasked with designing a voltage amplifier with a closed-loop gain of \\( 10 \\mathrm{~V} / \\mathrm{V} \\) and an error of \\( 1 \\% \\) or less. What values of \\( a \\) and \\( b \\) are required? What is the resulting \\( A \\)?\n\n(b) To ensure reliability, the engineer opts for an amplifier with a gain \\( a \\) ten times that calculated in part (a). What is the resulting \\( A \\)?\n\n#### Solution\n\n(a) Setting \\( 10 \\mathrm{~V} / \\mathrm{V} = 1 / b \\) gives \\( b = 0.1 \\mathrm{~V} / \\mathrm{V} \\). For a \\( 1 \\% \\) error, \\( 1 / L = 1 / 100 \\), so \\( a = L / b = 100 / 0.1 = 1000 \\mathrm{~V} / \\mathrm{V} \\). Thus, \\( A \\cong (1 / b) \\times (1 - 1 / L) = 10 (1 - 1 / 100) = 9.9 \\mathrm{~V} / \\mathrm{V} \\).\n\n(b) With \\( L = 1000 \\), \\( A \\cong 10 (1 - 1 / 1000) = 9.99 \\mathrm{~V} / \\mathrm{V} \\), closely approaching the ideal \\( 10 \\mathrm{~V} / \\mathrm{V} \\)."
},
{
    "text": "Figure 7.1 illustrates the structure of a negative feedback system. Its primary components are an error amplifier and a feedback network. The system accepts an external input signal \\( s_i \\) (typically a voltage or current in electronic circuits) and generates an output signal \\( s_o \\) (also a voltage or current). The feedback network detects \\( s_o \\) to produce a scaled version, known as the feedback signal \\( s_f \\), according to:\n\n$$\n\\begin{equation*}\ns_{f}=b s_{o} \\tag{7.1}\n\\end{equation*}\n$$\n\nHere, \\( b \\) is termed the feedback factor. This feedback signal is then directed to an input summer, where it is subtracted from the input signal to create the error signal \\( s_{\\varepsilon} \\),\n\n$$\n\\begin{equation*}\ns_{\\varepsilon}=s_{i}-s_{f} \\tag{7.2}\n\\end{equation*}\n$$\n\nThis error signal is subsequently fed into the error amplifier, thereby completing a signal-propagation loop.\n\nAs indicated by Eq. (7.2), the objective of negative feedback is to diminish the input signal \\( s_i \\) to a smaller error signal \\( s_{\\varepsilon} \\). If \\( s_f \\) were added to \\( s_i \\) instead of subtracted, \\( s_{\\varepsilon} \\) would exceed \\( s_i \\). Following further amplification, the signal would grow even larger upon returning to the summer, perpetuating this cycle until the amplifier reaches saturation. This type of feedback, known as positive feedback, is utilized in highly nonlinear circuits like flip flops and Schmitt triggers. This chapter, however, focuses exclusively on negative feedback.\n\nWe now seek to derive a relationship between the system's output \\( s_o \\) and input \\( s_i \\). By definition, the error amplifier provides:\n\n$$\n\\begin{equation*}\ns_{o}=a S_{\\varepsilon} \\tag{7.3}\n\\end{equation*}\n$$\n\nwhere \\( a \\) represents the amplifier's gain. If the feedback loop were broken, making \\( s_f = 0 \\), the amplifier would yield \\( s_o = a s_i \\), showing that \\( a \\) is the gain in the absence of feedback, termed the open-loop gain. Combining the previous equations:\n\n$$\ns_{o}=a\\left(s_{i}-s_{f}\\right)=a\\left(s_{i}-b s_{o}\\right)\n$$\n\nSolving for \\( s_o \\) results in:\n\n$$\n\\begin{equation*}\ns_{o}=A s_{i} \\tag{7.4}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b} \\tag{7.5}\n\\end{equation*}\n$$\n\nis the gain of the overall negative-feedback system, known as the closed-loop gain \\( A \\left(=s_{o} / s_{i}\\right) \\), distinct from the open-loop gain \\( a \\left(=s_{o} / s_{\\varepsilon}\\right) \\). To emphasize this distinction, uppercase letters denote closed-loop parameters (e.g., \\( A, R_i, R_o \\)), while lowercase letters denote open-loop parameters (e.g., \\( a, r_i, r_o \\)).\n\nAs a signal travels through the loop, it first amplifies by \\( a \\) in the amplifier, then attenuates by \\( b \\) in the feedback network, and finally inverts at the summer \\( \\Sigma \\). The overall loop gain is thus \\( -ab \\), with its negative termed the loop gain \\( L \\):\n\n$$\n\\begin{equation*}\nL=a b \\tag{7.6}\n\\end{equation*}\n$$\n\n\\( L \\) plays a pivotal role in feedback systems. Rearranging Eq. (7.5) gives an insightful form of the closed-loop gain:\n\n$$\n\\begin{equation*}\nA=\\frac{1}{b} \\times \\frac{1}{1+1 / L} \\tag{7.7}\n\\end{equation*}\n$$\n\nFor \\( L \\gg 1 \\), Eq. (7.7) approximates to:\n\n$$\n\\begin{equation*}\nA \\cong \\frac{1}{b}\\left(1-\\frac{1}{L}\\right) \\cong \\frac{1}{b} \\tag{7.8}\n\\end{equation*}\n$$\n\nThis highlights two key advantages of negative feedback when \\( L \\gg 1 \\):\n\n- The closed-loop gain \\( A \\) is largely independent of the open-loop gain \\( a \\), beneficial since \\( a \\) is often poorly defined and variable.\n- \\( A \\) can be tailored for various applications by appropriately designing the feedback network, typically using stable passive components like resistors and capacitors.\n\nConsidering \\( 1 / L \\) as an error term in Eq. (7.8), a larger \\( L \\) indicates a closer approximation to the ideal gain \\( 1 / b \\). Thus, a high open-loop gain \\( a \\) is necessary to achieve a stable and predictable closed-loop gain \\( A \\). This involves sacrificing some gain, but the benefits justify this trade-off, especially given modern IC technology.\n\nWe will refer to \\( L \\rightarrow \\infty \\) as the ideal scenario, yielding:\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\lim _{T \\rightarrow \\infty} A=\\frac{1}{b} \\tag{7.9}\n\\end{equation*}\n$$\n\nThough unattainable in practice, designers aim to approach this ideal by ensuring a high loop gain \\( L \\), hence using an amplifier with a high open-loop gain \\( a(=L / b) \\).\n\n**EXAMPLE 7.1**\n\n(a) An engineer is tasked with designing a voltage amplifier with a closed-loop gain of \\( 10 \\mathrm{~V} / \\mathrm{V} \\) and an error of \\( 1 \\% \\) or less. What values of \\( a \\) and \\( b \\) are required? What is the resulting \\( A \\)?\n\n(b) To ensure accuracy, the engineer opts for an amplifier with a gain \\( a \\) ten times that calculated in part (a). What is the resulting \\( A \\)?\n\n#### Solution\n\n(a) Setting \\( 10 \\mathrm{~V} / \\mathrm{V} = 1 / b \\) gives \\( b = 0.1 \\mathrm{~V} / \\mathrm{V} \\). For a \\( 1 \\% \\) error, \\( 1 / L = 1 / 100 \\), so \\( a = L / b = 100 / 0.1 = 1000 \\mathrm{~V} / \\mathrm{V} \\). Thus, \\( A \\cong (1 / b) \\times (1 - 1 / L) = 10(1 - 1 / 100) = 9.9 \\mathrm{~V} / \\mathrm{V} \\).\n\n(b) With \\( L = 1000 \\), \\( A \\cong 10(1 - 1 / 1000) = 9.99 \\mathrm{~V} / \\mathrm{V} \\), closer to the ideal \\( 10 \\mathrm{~V} / \\mathrm{V} \\)."
},
{
    "text": "Figure 7.1 illustrates the architecture of a negative feedback system. Its primary components include an error amplifier and a feedback network. The system accepts an external input signal $s_{i}$ (commonly a voltage or current in electronic circuits) and generates an output signal $s_{o}$ (also a voltage or current). The feedback network detects $s_{o}$ and produces a scaled version known as the feedback signal $s_{f}$, defined by\n\n$$\n\\begin{equation*}\ns_{f}=b s_{o} \\tag{7.1}\n\\end{equation*}\n$$\n\nwhere $b$ is termed the feedback factor. This feedback signal is then directed to an input summer, where it is subtracted from the input signal to create the error signal $s_{\\varepsilon}$,\n\n$$\n\\begin{equation*}\ns_{\\varepsilon}=s_{i}-s_{f} \\tag{7.2}\n\\end{equation*}\n$$\n\nThis error signal is subsequently fed into the error amplifier, thus completing a signal-propagation loop.\n\nAs indicated by Eq. (7.2), the objective of negative feedback is to diminish the input signal $s_{i}$ to a smaller error signal $s_{\\varepsilon}$. If $s_{f}$ were added to $s_{i}$ instead of subtracted, $s_{\\varepsilon}$ would exceed $s_{i}$. Following further amplification, the signal would grow even larger upon returning to the summer, perpetuating this cycle until the amplifier reaches saturation. This scenario, known as positive feedback, is utilized in highly nonlinear circuits like flip-flops and Schmitt triggers. This chapter, however, focuses solely on negative feedback.\n\nOur goal now is to derive a relationship between the system's output $s_{o}$ and input $s_{i}$. By definition, the error amplifier provides\n\n$$\n\\begin{equation*}\ns_{o}=a S_{\\varepsilon} \\tag{7.3}\n\\end{equation*}\n$$\n\nwhere $a$ represents the amplifier's gain. If the feedback loop were interrupted to make $s_{f}=0$, the amplifier would yield $s_{o}=a s_{i}$, signifying that $a$ is the gain in the absence of feedback, hence termed the open-loop gain. Combining these equations,\n\n$$\ns_{o}=a\\left(s_{i}-s_{f}\\right)=a\\left(s_{i}-b s_{o}\\right)\n$$\n\nSolving for $s_{o}$ results in\n\n$$\n\\begin{equation*}\ns_{o}=A s_{i} \\tag{7.4}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b} \\tag{7.5}\n\\end{equation*}\n$$\n\nis the gain of the overall negative-feedback system, known as the closed-loop gain $A\\left(=s_{o} / s_{i}\\right)$, distinct from the open-loop gain $a\\left(=s_{o} / s_{\\varepsilon}\\right)$. To emphasize this distinction, we use uppercase letters for closed-loop parameters (e.g., $A, R_{i}, R_{o}$) and lowercase letters for open-loop parameters (e.g., $a, r_{i}, r_{o}$).\n\nAs a signal travels around the loop, it first amplifies by $a$ through the amplifier, then attenuates by $b$ in the feedback network, and finally inverts (-) at the summer $\\Sigma$. The overall loop gain is thus $-a b$. The negative of this is termed the loop gain $L$,\n\n$$\n\\begin{equation*}\nL=a b \\tag{7.6}\n\\end{equation*}\n$$\n\n$L$ is pivotal in feedback systems. By manipulating Eq. (7.5),\n\n$$\nA=\\frac{1}{b} \\frac{a b}{1+a b}=\\frac{1}{b} \\frac{1}{1+1 /(a b)}\n$$\n\nwe can express the closed-loop gain as\n\n$$\n\\begin{equation*}\nA=\\frac{1}{b} \\times \\frac{1}{1+1 / L} \\tag{7.7}\n\\end{equation*}\n$$\n\nWhen $L \\gg 1$, Eq. (7.7) approximates to\n\n$$\n\\begin{equation*}\nA \\cong \\frac{1}{b}\\left(1-\\frac{1}{L}\\right) \\cong \\frac{1}{b} \\tag{7.8}\n\\end{equation*}\n$$\n\nThis highlights two key advantages of negative feedback under $L \\gg 1$:\n\n- The closed-loop gain $A$ is largely independent of the open-loop gain $a$, beneficial since $a$ is often poorly defined and varies with transistor parameters, biasing conditions, temperature, time, and manufacturing variations.\n- $A$ can be tailored for various applications by selecting an appropriate feedback network, typically composed of passive components like resistors and capacitors, ensuring predictability, accuracy, and stability.\n\nConsidering $1 / L$ as an error term in Eq. (7.8), a larger $L$ indicates a closer approximation to the ideal gain $1 / b$. To achieve a substantial $L$ for a given $b$, a high open-loop gain $a$ is necessary. Essentially, a high $a$ is traded for a lower but more stable and predictable $A$. The gain reduction from $a$ to $a /(1+L)$ is the price paid for feedback, a cost justified by the benefits and the affordability of high-gain ICs.\n\nAs we progress, we'll refer to $L \\rightarrow \\infty$ as the ideal scenario, yielding the closed-loop gain\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\lim _{T \\rightarrow \\infty} A=\\frac{1}{b} \\tag{7.9}\n\\end{equation*}\n$$\n\nThough unattainable physically, designers aim to approach this ideal within a specified accuracy by ensuring a high loop gain $L$, thus employing an amplifier with a correspondingly high open-loop gain $a(=L / b)$.\n\n**EXAMPLE 7.1**\n\n(a) An engineer is tasked with designing a voltage amplifier with a closed-loop gain of $10 \\mathrm{~V} / \\mathrm{V}$ and an error of $1 \\%$ or less. What are the required values of $a$ and $b$, and what is the resulting $A$?\n(b) To ensure accuracy, the engineer opts for an amplifier with a gain $a$ ten times that calculated in (a). What is the resulting $A$?\n\n#### Solution\n\n(a) Setting $10 \\mathrm{~V} / \\mathrm{V}=1 / b$ gives $b=0.1 \\mathrm{~V} / \\mathrm{V}$. For a $1 \\%$ error, $1 / L=1 / 100$, so $a=L / b=100 / 0.1=1000 \\mathrm{~V} / \\mathrm{V}$. Thus, $A \\cong(1 / b) \\times(1-1 / L)=10(1-1 / 100)=9.9 \\mathrm{~V} / \\mathrm{V}$.\n(b) With $L=1000$, $A \\cong 10(1-1 / 1000)=9.99 \\mathrm{~V} / \\mathrm{V}$, closer to the ideal $10 \\mathrm{~V} / \\mathrm{V}$."
},
{
    "text": "Figure 7.1 illustrates the architecture of a negative feedback system, primarily comprising an error amplifier and a feedback network. This system accepts an external input signal $s_{i}$ (commonly a voltage or current in electronic circuits) and generates an output signal $s_{o}$ (also a voltage or current). The feedback network detects $s_{o}$ and produces a scaled version known as the feedback signal $s_{f}$, defined by\n\n$$\n\\begin{equation*}\ns_{f}=b s_{o} \\tag{7.1}\n\\end{equation*}\n$$\n\nwhere $b$ is termed the feedback factor. This feedback signal is then directed to an input summer, where it is subtracted from the input signal to form the error signal $s_{\\varepsilon}$,\n\n$$\n\\begin{equation*}\ns_{\\varepsilon}=s_{i}-s_{f} \\tag{7.2}\n\\end{equation*}\n$$\n\nThis error signal is subsequently fed into the error amplifier, thus establishing a signal-propagation loop.\n\nAs indicated by Eq. (7.2), the objective of negative feedback is to diminish the input signal $s_{i}$ to a smaller error signal $s_{\\varepsilon}$. If $s_{f}$ were added to $s_{i}$ instead of subtracted, $s_{\\varepsilon}$ would exceed $s_{i}$. Following further amplification, the signal would grow even larger upon returning to the summer, perpetuating a cycle until the amplifier reaches saturation. This scenario, known as positive feedback, is utilized in creating highly nonlinear circuits like flip-flops and Schmitt triggers. This chapter, however, focuses exclusively on negative feedback.\n\nOur goal now is to derive a relationship between the system's output $s_{o}$ and input $s_{i}$. By definition, the error amplifier provides\n\n$$\n\\begin{equation*}\ns_{o}=a S_{\\varepsilon} \\tag{7.3}\n\\end{equation*}\n$$\n\nwhere $a$ represents the amplifier's gain. If the feedback loop were interrupted to make $s_{f}=0$, the amplifier would yield $s_{o}=a s_{i}$, signifying that $a$ is the gain in the absence of feedback, hence termed the open-loop gain. Combining these equations,\n\n$$\ns_{o}=a\\left(s_{i}-s_{f}\\right)=a\\left(s_{i}-b s_{o}\\right)\n$$\n\nSolving for $s_{o}$ results in\n\n$$\n\\begin{equation*}\ns_{o}=A s_{i} \\tag{7.4}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b} \\tag{7.5}\n\\end{equation*}\n$$\n\nis the gain of the overall negative-feedback system, known as the closed-loop gain $A\\left(=s_{o} / s_{i}\\right)$, distinct from the open-loop gain $a\\left(=s_{o} / s_{\\varepsilon}\\right)$. To emphasize this distinction, uppercase letters denote closed-loop parameters (e.g., $A, R_{i}, R_{o}$), while lowercase letters denote open-loop parameters (e.g., $a, r_{i}, r_{o}$).\n\nAs a signal travels through the loop, it first amplifies by $a$ in the amplifier, then attenuates by $b$ in the feedback network, and finally inverts at the summer $\\Sigma$. The overall loop gain is thus $-a b$, with its negative value, $L$,\n\n$$\n\\begin{equation*}\nL=a b \\tag{7.6}\n\\end{equation*}\n$$\n\nplaying a crucial role in the feedback system. Rearranging Eq. (7.5) yields an insightful form of the closed-loop gain:\n\n$$\n\\begin{equation*}\nA=\\frac{1}{b} \\times \\frac{1}{1+1 / L} \\tag{7.7}\n\\end{equation*}\n$$\n\nNotably, when $L \\gg 1$, Eq. (7.7) approximates to\n\n$$\n\\begin{equation*}\nA \\cong \\frac{1}{b}\\left(1-\\frac{1}{L}\\right) \\cong \\frac{1}{b} \\tag{7.8}\n\\end{equation*}\n$$\n\nThis highlights two key advantages of negative feedback under $L \\gg 1$:\n\n- The closed-loop gain $A$ is largely independent of the open-loop gain $a$, beneficial since $a$ is often ill-defined and varies with transistor parameters, biasing conditions, temperature, and fabrication variations.\n- $A$ can be precisely tailored for various applications by selecting an appropriate feedback network, typically composed of passive components like resistors and capacitors, ensuring predictability, accuracy, and stability.\n\nConsidering $1 / L$ as an error term in Eq. (7.8), a larger $L$ indicates closer alignment of $A$ to the ideal gain $1 / b$. Thus, a high open-loop gain $a$ is necessary to achieve a stable and predictable closed-loop gain $A$. While this involves sacrificing some gain, the benefits justify this trade-off, especially given modern IC technology's ability to provide high gains inexpensively.\n\nThe limit $L \\rightarrow \\infty$ represents the ideal scenario, yielding the closed-loop gain\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\lim _{T \\rightarrow \\infty} A=\\frac{1}{b} \\tag{7.9}\n\\end{equation*}\n$$\n\nThough unattainable physically, designers aim to approach this ideal by ensuring a high loop gain $L$ and thus a high open-loop gain $a(=L / b)$.\n\n**EXAMPLE 7.1**\n(a) An engineer is tasked with designing a voltage amplifier with a closed-loop gain of $10 \\mathrm{~V} / \\mathrm{V}$ and an error of $1 \\%$ or less. What values of $a$ and $b$ are required? What is the resulting $A$?\n(b) To ensure accuracy, the engineer opts for an amplifier with a gain $a$ ten times that calculated in (a). What is the resulting $A$?\n\n#### Solution\n\n(a) Setting $10 \\mathrm{~V} / \\mathrm{V}=1 / b$ gives $b=0.1 \\mathrm{~V} / \\mathrm{V}$. For a $1 \\%$ error, $1 / L=1 / 100$, so $a=L / b=100 / 0.1=1000 \\mathrm{~V} / \\mathrm{V}$. Thus, $A \\cong 10(1-1 / 100)=9.9 \\mathrm{~V} / \\mathrm{V}$.\n(b) With $L=1000$, $A \\cong 10(1-1 / 1000)=9.99 \\mathrm{~V} / \\mathrm{V}$, closer to the ideal $10 \\mathrm{~V} / \\mathrm{V}$."
},
{
    "text": "Figure 7.1 illustrates the configuration of a negative feedback system, which primarily consists of an error amplifier and a feedback network. This system accepts an external input signal $s_{i}$ (commonly a voltage or current in electronic circuits) and generates an output signal $s_{o}$ (also a voltage or current). The feedback network detects $s_{o}$ and produces a scaled version known as the feedback signal $s_{f}$, defined by\n\n$$\n\\begin{equation*}\ns_{f}=b s_{o} \\tag{7.1}\n\\end{equation*}\n$$\n\nwhere $b$ is termed the feedback factor. This feedback signal is then directed to an input summer, where it is subtracted from the input signal to create the error signal $s_{\\varepsilon}$,\n\n$$\n\\begin{equation*}\ns_{\\varepsilon}=s_{i}-s_{f} \\tag{7.2}\n\\end{equation*}\n$$\n\nThis error signal is subsequently fed into the error amplifier, thereby completing a signal-propagation loop.\n\nAs indicated by Eq. (7.2), the objective of negative feedback is to diminish the input signal $s_{i}$ to a smaller error signal $s_{\\varepsilon}$. If $s_{f}$ were added to $s_{i}$ instead of subtracted, $s_{\\varepsilon}$ would exceed $s_{i}$. Following further amplification, the signal would grow even larger upon returning to the summer, leading to a continuous escalation until the amplifier reaches saturation. This scenario, known as positive feedback, is utilized in creating highly nonlinear circuits like flip flops and Schmitt triggers. However, this chapter focuses exclusively on negative feedback.\n\nOur goal now is to derive a relationship between the system's output $s_{o}$ and input $s_{i}$. By definition, the error amplifier provides\n\n$$\n\\begin{equation*}\ns_{o}=a S_{\\varepsilon} \\tag{7.3}\n\\end{equation*}\n$$\n\nwhere $a$ represents the amplifier's gain. If the feedback loop were broken, making $s_{f}=0$, the amplifier would yield $s_{o}=a s_{i}$, signifying that $a$ is the gain in the absence of feedback, hence termed the open-loop gain. Combining these equations,\n\n$$\ns_{o}=a\\left(s_{i}-s_{f}\\right)=a\\left(s_{i}-b s_{o}\\right)\n$$\n\nSolving for $s_{o}$ results in\n\n$$\n\\begin{equation*}\ns_{o}=A s_{i} \\tag{7.4}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b} \\tag{7.5}\n\\end{equation*}\n$$\n\nis the gain of the overall negative-feedback system, referred to as the closed-loop gain. It is crucial to distinguish $A\\left(=s_{o} / s_{i}\\right)$ from the open-loop gain $a\\left(=s_{o} / s_{\\varepsilon}\\right)$. To clarify this distinction, we will use uppercase letters for closed-loop parameters (e.g., $A, R_{i}, R_{o}$) and lowercase letters for open-loop parameters (e.g., $a, r_{i}, r_{o}$).\n\nAs a signal travels around the loop, it first undergoes amplification by $a$ in the amplifier, then attenuation by $b$ in the feedback network, and finally inversion ($-$) at the summer $\\Sigma$. The overall loop gain is thus $-a b$, and its negative is termed the loop gain $L$,\n\n$$\n\\begin{equation*}\nL=a b \\tag{7.6}\n\\end{equation*}\n$$\n\n$L$ plays a pivotal role in feedback systems. By manipulating Eq. (7.5), we can express the closed-loop gain in an insightful form:\n\n$$\n\\begin{equation*}\nA=\\frac{1}{b} \\times \\frac{1}{1+1 / L} \\tag{7.7}\n\\end{equation*}\n$$\n\nNotably, when $L \\gg 1$, Eq. (7.7) approximates to\n\n$$\n\\begin{equation*}\nA \\cong \\frac{1}{b}\\left(1-\\frac{1}{L}\\right) \\cong \\frac{1}{b} \\tag{7.8}\n\\end{equation*}\n$$\n\nThis highlights two key advantages of negative feedback under $L \\gg 1$:\n\n- The closed-loop gain $A$ is largely independent of the open-loop gain $a$, which is beneficial since $a$ is often poorly defined and varies with transistor parameters, biasing conditions, temperature, and manufacturing variations.\n- $A$ can be tailored for various applications by appropriately designing the feedback network, typically using passive components like resistors and capacitors, ensuring predictability, accuracy, and stability.\n\nConsidering $1 / L$ as an error term in Eq. (7.8), a larger $L$ indicates a closer approximation of $A$ to the ideal gain $1 / b$. Thus, a high open-loop gain $a$ is necessary to achieve a stable and predictable closed-loop gain $A$. While this involves sacrificing some gain, the benefits are substantial, especially given the ease and low cost of achieving high gains with modern IC technology.\n\nWe will refer to the limit $L \\rightarrow \\infty$ as the ideal scenario, yielding the closed-loop gain\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\lim _{T \\rightarrow \\infty} A=\\frac{1}{b} \\tag{7.9}\n\\end{equation*}\n$$\n\nThough unattainable in practice, designers aim to approach this ideal by ensuring a sufficiently high loop gain $L$, thereby using an amplifier with a correspondingly high open-loop gain $a(=L / b)$.\n\n**EXAMPLE 7.1**\n(a) An engineer is tasked with designing a voltage amplifier with a closed-loop gain of $10 \\mathrm{~V} / \\mathrm{V}$ and an error margin of $1 \\%$ or less. What values of $a$ and $b$ are required? What is the resulting $A$?\n(b) To ensure accuracy, the engineer opts for an amplifier with a gain $a$ ten times that calculated in part (a). What is the resulting $A$?\n\n#### Solution\n\n(a) Setting $10 \\mathrm{~V} / \\mathrm{V}=1 / b$ gives $b=0.1 \\mathrm{~V} / \\mathrm{V}$. For a $1 \\%$ error, $1 / L=1 / 100$, so $a=L / b=100 / 0.1=1000 \\mathrm{~V} / \\mathrm{V}$. Thus, $A \\cong(1 / b) \\times(1-1 / L)=10(1-1 / 100)=9.9 \\mathrm{~V} / \\mathrm{V}$.\n(b) With $L=1000$, $A \\cong 10(1-1 / 1000)=9.99 \\mathrm{~V} / \\mathrm{V}$, closely approaching the ideal $10 \\mathrm{~V} / \\mathrm{V}$."
},
{
    "text": "Given that the open-loop gain $a$ is an ill-defined parameter due to production variations and environmental changes, we aim to explore the impact of these uncertainties on the closed-loop gain $A$. To achieve this, let us differentiate $A$ with respect to $a$ in Eq. (7.5),\n\n$$\n\\frac{d A}{d a}=\\frac{1 \\times(1+a b)-a \\times b}{(1+a b)^{2}}=\\frac{1}{(1+a b)^{2}}=\\frac{1}{1+a b} \\times \\frac{a}{1+a b} \\frac{1}{a}=\\frac{1}{1+a b} \\times \\frac{A}{a}\n$$\n\nBy multiplying both sides by 100da/A and substituting differentials ( $d$ ) with small differences ( $\\Delta$ ), we derive\n\n$$\n\\begin{equation*}\n100 \\frac{\\Delta A}{A} \\cong \\frac{1}{1+L}\\left(100 \\frac{\\Delta a}{a}\\right) \\tag{7.12}\n\\end{equation*}\n$$\n\nThis outcome shows that the percentage variation in the closed-loop gain $(100 \\times \\Delta A / A)$ resulting from a given percentage variation in the open-loop gain $(100 \\times \\Delta a / a)$ is roughly $(1+L)$ times smaller. When $L$ is sufficiently large, even a significant variation in $a$ will minimally affect $A$. This stabilizing influence is why $(1+L)$ is also termed the gain desensitivity. Again, we see that the magnitude of $L$ indicates how closely a negative-feedback system approaches ideal performance.\n\n**EXAMPLE 7.2** Assume the open-loop gain $a$ of the amplifier in Example 7.1 has a tolerance of $\\pm 20 \\%$. Estimate the tolerance of the closed-loop gain $A$. Repeat for Example 7.1 and comment on your observations.\n\n#### Solution\n\nIn Example 7.1, with $L=100$, the approximate tolerance of $A$ is $(\\pm 20 \\%)/ (1+100) \\cong \\pm 0.2 \\%$. In Example 7.1b, $L$ is ten times larger, so the tolerance of $A$ will be about ten times smaller, or $\\pm 0.02 \\%$. In both scenarios, negative feedback significantly stabilizes the closed-loop gain $A$."
},
{
    "text": "Considering that the open-loop gain $a$ is an ill-defined parameter due to production variations and environmental changes, we aim to explore the influence of these uncertainties on the closed-loop gain $A$. For this purpose, let us differentiate $A$ with respect to $a$ in Eq. (7.5),\n\n$$\n\\frac{d A}{d a}=\\frac{1 \\times(1+a b)-a \\times b}{(1+a b)^{2}}=\\frac{1}{(1+a b)^{2}}=\\frac{1}{1+a b} \\times \\frac{a}{1+a b} \\frac{1}{a}=\\frac{1}{1+a b} \\times \\frac{A}{a}\n$$\n\nBy multiplying both sides by 100da/A and substituting differentials ( $d$ ) with small differences ( $\\Delta$ ), we derive\n\n$$\n\\begin{equation*}\n100 \\frac{\\Delta A}{A} \\cong \\frac{1}{1+L}\\left(100 \\frac{\\Delta a}{a}\\right) \\tag{7.12}\n\\end{equation*}\n$$\n\nThis finding suggests that the percentage change in the closed-loop gain $(100 \\times \\Delta A / A)$ resulting from a given percentage change in the open-loop gain $(100 \\times$ $\\Delta A / A)$ is roughly $(1+L)$ times smaller. When $L$ is sufficiently large, even a drastic variation in $a$ will have a negligible impact on $A$. To highlight this stabilizing influence, the feedback amount $(1+L)$ is also termed the gain desensitivity. Again, we see that the magnitude of $L$ provides a gauge of how closely a negative-feedback system approaches the ideal.\n\nEXAMPLE 7.2 Assume the open-loop gain $a$ of the amplifier in Example 7.1 $a$ has a tolerance of $\\pm 20 \\%$. Estimate the tolerance of the closed-loop gain A. Repeat this for Example 7.1 , and discuss your observations.\n\n#### Solution\n\nIn Example 7.1 $a$, we have $L=100$, so the approximate tolerance of $A$ is ( $\\pm 20 \\%$ )/ $(1+100) \\cong \\pm 0.2 \\%$. In Example $7.1 b, L$ is ten times larger, thus the tolerance of $A$ will be approximately ten times smaller, or $\\pm 0.02 \\%$. In both scenarios, negative feedback significantly stabilizes the closed-loop gain $A$."
},
{
    "text": "Considering that the open-loop gain $a$ is an ill-defined parameter due to production variations and environmental changes, we aim to explore the effects of these uncertainties on the closed-loop gain $A$. For this purpose, let's differentiate $A$ with respect to $a$ in Eq. (7.5),\n\n$$\n\\frac{d A}{d a}=\\frac{1 \\times(1+a b)-a \\times b}{(1+a b)^{2}}=\\frac{1}{(1+a b)^{2}}=\\frac{1}{1+a b} \\times \\frac{a}{1+a b} \\frac{1}{a}=\\frac{1}{1+a b} \\times \\frac{A}{a}\n$$\n\nBy multiplying both sides by 100da/A and substituting differentials ( $d$ ) with small differences ( $\\Delta$ ), we derive\n\n$$\n\\begin{equation*}\n100 \\frac{\\Delta A}{A} \\cong \\frac{1}{1+L}\\left(100 \\frac{\\Delta a}{a}\\right) \\tag{7.12}\n\\end{equation*}\n$$\n\nThis finding shows that the percentage change in the closed-loop gain $(100 \\times \\Delta A / A)$ resulting from a given percentage change in the open-loop gain $(100 \\times \\Delta a / a)$ is roughly $(1+L)$ times smaller. When $L$ is sufficiently large, even a significant variation in $a$ will have a negligible impact on $A$. This stabilizing influence is reflected in the term $(1+L)$, also known as the gain desensitivity. Again, we see that the magnitude of $L$ provides a measure of how closely a negative-feedback system approaches the ideal.\n\nEXAMPLE 7.2 Assume the open-loop gain $a$ of the amplifier from Example 7.1 has a tolerance of $\\pm 20 \\%$. Estimate the tolerance of the closed-loop gain $A$. Repeat this for Example 7.1 and discuss your results.\n\n#### Solution\n\nIn Example 7.1, with $L=100$, the approximate tolerance of $A$ is $(\\pm 20 \\%)/ (1+100) \\cong \\pm 0.2 \\%$. In Example 7.1, where $L$ is ten times larger, the tolerance of $A$ will be approximately ten times smaller, or $\\pm 0.02 \\%$. In both scenarios, negative feedback significantly stabilizes the closed-loop gain $A$."
},
{
    "text": "Considering that the open-loop gain $a$ is an uncertain parameter due to manufacturing variations and environmental influences, we aim to explore the effects of these uncertainties on the closed-loop gain $A$. For this purpose, let us differentiate $A$ with respect to $a$ in Equation (7.5),\n\n$$\n\\frac{d A}{d a}=\\frac{1 \\times(1+a b)-a \\times b}{(1+a b)^{2}}=\\frac{1}{(1+a b)^{2}}=\\frac{1}{1+a b} \\times \\frac{a}{1+a b} \\frac{1}{a}=\\frac{1}{1+a b} \\times \\frac{A}{a}\n$$\n\nBy multiplying both sides by 100da/A and substituting differentials ( $d$ ) with small differences ( $\\Delta$ ), we derive\n\n$$\n\\begin{equation*}\n100 \\frac{\\Delta A}{A} \\cong \\frac{1}{1+L}\\left(100 \\frac{\\Delta a}{a}\\right) \\tag{7.12}\n\\end{equation*}\n$$\n\nThis outcome shows that the percentage change in the closed-loop gain $(100 \\times \\Delta A / A)$ resulting from a specific percentage change in the open-loop gain $(100 \\times \\Delta a / a)$ is roughly $(1+L)$ times smaller. When $L$ is sufficiently large, even a significant variation in $a$ will have a negligible impact on $A$. To highlight this stabilizing influence, the feedback amount $(1+L)$ is also termed the gain desensitivity. Again, we note that the magnitude of $L$ provides an indication of how closely a negative-feedback system approaches ideal behavior.\n\nEXAMPLE 7.2 Assume the open-loop gain $a$ of the amplifier from Example 7.1 has a tolerance of $\\pm 20 \\%$. Estimate the tolerance of the closed-loop gain $A$. Repeat this for Example 7.1 and discuss your observations.\n\n#### Solution\n\nIn Example 7.1, with $L=100$, the approximate tolerance of $A$ is $(\\pm 20 \\%)/ (1+100) \\cong \\pm 0.2 \\%$. In Example 7.1b, $L$ is ten times larger, so the tolerance of $A$ will be approximately ten times smaller, or $\\pm 0.02 \\%$. In both scenarios, negative feedback significantly stabilizes the closed-loop gain $A$."
},
{
    "text": "Considering that the open-loop gain $a$ is an inadequately defined parameter due to manufacturing variations and environmental fluctuations, we aim to explore the influence of these uncertainties on the closed-loop gain $A$. For this purpose, let us differentiate $A$ with respect to $a$ in Eq. (7.5),\n\n$$\n\\frac{d A}{d a}=\\frac{1 \\times(1+a b)-a \\times b}{(1+a b)^{2}}=\\frac{1}{(1+a b)^{2}}=\\frac{1}{1+a b} \\times \\frac{a}{1+a b} \\frac{1}{a}=\\frac{1}{1+a b} \\times \\frac{A}{a}\n$$\n\nBy multiplying both sides by 100da/A and substituting differentials ( $d$ ) with small differences ( $\\Delta$ ), we derive\n\n$$\n\\begin{equation*}\n100 \\frac{\\Delta A}{A} \\cong \\frac{1}{1+L}\\left(100 \\frac{\\Delta a}{a}\\right) \\tag{7.12}\n\\end{equation*}\n$$\n\nThis outcome shows that the percentage change in the closed-loop gain $(100 \\times \\Delta A / A)$ resulting from a given percentage change in the open-loop gain $(100 \\times \\Delta a / a)$ is roughly $(1+L)$ times smaller. When $L$ is sufficiently large, even a drastic variation in $a$ will have a negligible impact on $A$! This stabilizing influence is reflected by the term $(1+L)$, also known as the gain desensitivity. Again, we note that the magnitude of $L$ provides an indicator of how closely a negative-feedback system approaches the ideal.\n\nEXAMPLE 7.2 Assume the open-loop gain $a$ of the amplifier in Example 7.1 $a$ has a tolerance of $\\pm 20 \\%$. Estimate the tolerance of the closed-loop gain $A$. Repeat for Example 7.1 $b$ and discuss your results.\n\n#### Solution\n\nIn Example 7.1 $a$, we have $L=100$, so the approximate tolerance of $A$ is ( $\\pm 20 \\%$ )/ $(1+100) \\cong \\pm 0.2 \\%$. In Example 7.1 $b$, $L$ is ten times larger, resulting in a tolerance of $A$ that is about ten times smaller, or $\\pm 0.02 \\%$. In both scenarios, negative feedback significantly stabilizes the closed-loop gain $A$."
},
{
    "text": "Given that the open-loop gain $a$ is an indeterminate parameter due to production inconsistencies and environmental fluctuations, we aim to explore the influence of these uncertainties on the closed-loop gain $A$. For this purpose, let us differentiate $A$ with respect to $a$ in Eq. (7.5),\n\n$$\n\\frac{d A}{d a}=\\frac{1 \\times(1+a b)-a \\times b}{(1+a b)^{2}}=\\frac{1}{(1+a b)^{2}}=\\frac{1}{1+a b} \\times \\frac{a}{1+a b} \\frac{1}{a}=\\frac{1}{1+a b} \\times \\frac{A}{a}\n$$\n\nBy multiplying both sides by 100da/A and substituting differentials ( $d$ ) with small differences ( $\\Delta$ ), we derive\n\n$$\n\\begin{equation*}\n100 \\frac{\\Delta A}{A} \\cong \\frac{1}{1+L}\\left(100 \\frac{\\Delta a}{a}\\right) \\tag{7.12}\n\\end{equation*}\n$$\n\nThis finding reveals that the percentage change in the closed-loop gain $(100 \\times \\Delta A / A)$ resulting from a specific percentage change in the open-loop gain $(100 \\times \\Delta a / a)$ is roughly $(1+L)$ times smaller. When $L$ is sufficiently large, even a drastic variation in $a$ will have a negligible impact on $A$! This stabilizing influence is represented by the term $(1+L)$, also known as the gain desensitivity. Again, we see that the magnitude of $L$ provides an indication of how closely a negative-feedback system approximates ideal behavior.\n\nEXAMPLE 7.2 Assume the open-loop gain $a$ of the amplifier in Example 7.1 has a tolerance of $\\pm 20 \\%$. Estimate the tolerance of the closed-loop gain $A$. Repeat the process for Example 7.1 and discuss your observations.\n\n#### Solution\n\nIn Example 7.1, we have $L=100$, so the estimated tolerance of $A$ is ( $\\pm 20 \\%$ )/ $(1+100) \\cong \\pm 0.2 \\%$. In Example 7.1b, $L$ is ten times larger, thus the tolerance of $A$ will be approximately ten times smaller, or $\\pm 0.02 \\%$. In both scenarios, negative feedback significantly stabilizes the closed-loop gain $A$."
},
{
    "text": "Given that the open-loop gain $a$ is an ill-defined parameter due to production variations and environmental changes, we aim to examine the influence of these uncertainties on the closed-loop gain $A$. For this purpose, let us differentiate $A$ with respect to $a$ in Eq. (7.5),\n\n$$\n\\frac{d A}{d a}=\\frac{1 \\times(1+a b)-a \\times b}{(1+a b)^{2}}=\\frac{1}{(1+a b)^{2}}=\\frac{1}{1+a b} \\times \\frac{a}{1+a b} \\frac{1}{a}=\\frac{1}{1+a b} \\times \\frac{A}{a}\n$$\n\nBy multiplying both sides by 100da/A and substituting differentials ( $d$ ) with small differences ( $\\Delta$ ), we derive\n\n$$\n\\begin{equation*}\n100 \\frac{\\Delta A}{A} \\cong \\frac{1}{1+L}\\left(100 \\frac{\\Delta a}{a}\\right) \\tag{7.12}\n\\end{equation*}\n$$\n\nThis finding shows that the percentage change in the closed-loop gain $(100 \\times \\Delta A / A)$ resulting from a given percentage change in the open-loop gain $(100 \\times \\Delta a / a)$ is roughly $(1+L)$ times smaller. When $L$ is sufficiently large, even a significant variation in $a$ will have a negligible impact on $A$. To highlight this stabilizing influence, the feedback amount $(1+L)$ is also termed the gain desensitivity. Again, we see that the magnitude of $L$ provides a measure of how closely a negative-feedback system approaches the ideal.\n\nEXAMPLE 7.2 Assume the open-loop gain $a$ of the amplifier in Example 7.1 has a tolerance of $\\pm 20 \\%$. Estimate the tolerance of the closed-loop gain $A$. Repeat for Example 7.1 and comment on your observations.\n\n#### Solution\n\nIn Example 7.1, we have $L=100$, so the approximate tolerance of $A$ is ( $\\pm 20 \\%$ )/ $(1+100) \\cong \\pm 0.2 \\%$. In Example 7.1b, $L$ is ten times larger, thus the tolerance of $A$ will be approximately ten times smaller, or $\\pm 0.02 \\%$. In both scenarios, negative feedback significantly stabilizes the closed-loop gain $A$."
},
{
    "text": "Considering that the open-loop gain $a$ is an indeterminate parameter due to manufacturing variations and environmental fluctuations, we aim to explore the influence of these uncertainties on the closed-loop gain $A$. For this purpose, let us differentiate $A$ with respect to $a$ in Eq. (7.5),\n\n$$\n\\frac{d A}{d a}=\\frac{1 \\times(1+a b)-a \\times b}{(1+a b)^{2}}=\\frac{1}{(1+a b)^{2}}=\\frac{1}{1+a b} \\times \\frac{a}{1+a b} \\frac{1}{a}=\\frac{1}{1+a b} \\times \\frac{A}{a}\n$$\n\nBy multiplying both sides by 100da/A and substituting differentials ( $d$ ) with small differences ( $\\Delta$ ), we derive\n\n$$\n\\begin{equation*}\n100 \\frac{\\Delta A}{A} \\cong \\frac{1}{1+L}\\left(100 \\frac{\\Delta a}{a}\\right) \\tag{7.12}\n\\end{equation*}\n$$\n\nThis finding suggests that the percentage change in the closed-loop gain $(100 \\times \\Delta A / A)$ resulting from a specific percentage change in the open-loop gain $(100 \\times \\Delta A / A)$ is roughly $(1+L)$ times less significant. When $L$ is sufficiently large, even an extreme variation in $a$ will have a negligible impact on $A$! This stabilizing influence is represented by the feedback amount $(1+L)$, also known as the gain desensitivity. Again, we note that the magnitude of $L$ provides an indicator of how closely a negative-feedback system approaches the ideal.\n\nEXAMPLE 7.2 Assume the open-loop gain $a$ of the amplifier from Example 7.1 $a$ has a tolerance of $\\pm 20 \\%$. Estimate the tolerance of the closed-loop gain $A$. Repeat the process for Example 7.1, and discuss your observations.\n\n#### Solution\n\nIn Example 7.1 $a$, with $L=100$, the approximate tolerance of $A$ is ( $\\pm 20 \\%$ )/ $(1+100) \\cong \\pm 0.2 \\%$. In Example 7.1 $b$, $L$ is ten times greater, so the tolerance of $A$ will be approximately ten times smaller, or $\\pm 0.02 \\%$. In both scenarios, negative feedback significantly stabilizes the closed-loop gain $A$."
},
{
    "text": "A circuit that precisely matches the diagram in Fig. 7.1, incorporating all previously discussed features, is the well-known non-inverting op amp configuration depicted in Fig. 7.2. This op amp serves dual roles as an error amplifier and a summer, the latter function enabled by its response to the difference between its input voltages. The feedback network consists of a simple voltage divider, resulting in\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.13}\n\\end{equation*}\n$$\n\nOp amps are intentionally designed with very high open-loop gains to ensure substantial loop gains, thereby approximating ideal behavior in negative-feedback operation. In the ideal scenario where $a \\rightarrow \\infty$, the circuit would yield $L \\rightarrow \\infty$, leading to $v_{\\varepsilon} \\rightarrow 0$ and $v_{f} \\rightarrow v_{i}$. Consequently, the closed-loop gain would achieve the ideal value\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b}=1+\\frac{R_{2}}{R_{1}} \\tag{7.14}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.2\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: Op amp, type: OpAmp, value: a, ports: {InP: Vi, InN: Vf, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: Vf}\n]\nextrainfo:This is a non-inverting op amp circuit with a feedback network composed of R1 and R2. The op amp features a high open-loop gain, providing negative feedback to stabilize the closed-loop gain.\n\nFIGURE 7.2 The non-inverting op amp circuit as a quintessential example of a negative-feedback system.\n(a) Consider the op amp in Fig. 7.2 to be the widely used 741-type, with data sheets indicating a typical gain of $a=200,000 \\mathrm{~V} / \\mathrm{V}$. Determine the closed-loop gain when $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=3.0 \\mathrm{k} \\Omega$.\n(b) Calculate $v_{o}, v_{f}$, and $v_{\\varepsilon}$ if $v_{i}=2.0 \\mathrm{~V}$. Provide comments on your findings.\n(c) Data sheets also note that due to manufacturing variations, the gain $a$ can be as low as $50,000 \\mathrm{~V} / \\mathrm{V}$. Discuss how this affects the results from part (a) and comment.\n\n#### Solution\n\n(a) We find $b=1 /(1+3)=1 / 4, L=a b=200,000 / 4=50,000$, and $A \\approx 4(1-1 / 50,000)=3.99992 \\mathrm{~V} / \\mathrm{V}$. Thanks to the high loop gain, $A$ is nearly equal to $A_{\\text {ideal }}(=4.0 \\mathrm{~V} / \\mathrm{V})$.\n(b) We obtain $v_{o}=A v_{i}=3.99992 \\times 2.0=7.99984 \\mathrm{~V}, v_{f}=v_{i} /(1+1 / L)=2.0 / (1+1 / 50,000)=1.99996 \\mathrm{~V}$, and $v_{\\varepsilon}=v_{i} /(1+L) \\approx 2.0 / 50,000=40 \\times 10^{-6} \\mathrm{~V}=40 \\mu \\mathrm{~V}$. Practically, $v_{o} \\approx 8 \\mathrm{~V}, v_{f} \\approx 2 \\mathrm{~V}$, and $v_{\\varepsilon} \\approx 0$. We note that as the voltage divider reduces $v_{o}$ by 4 to yield $v_{f}$, the op amp inversely amplifies $v_{i}$ by 4 to produce $v_{o}$.\n(c) Now, $L=a b=50,000 / 4=12,500$, so $A \\approx 4(1-1 / 12,500)=3.99968 \\mathrm{~V} / \\mathrm{V}$. The change in $A$ is minimal ( $-0.006 \\%$ ), and similarly for $v_{o}$ and $v_{f}$, which remain very close to their ideal values of 8.0 V and 2.0 V, respectively. However, due to the reduced $a$, $v_{\\varepsilon}=v_{o} / a \\approx 8 / 50,000=160 \\mu \\mathrm{~V}$, higher than in part (b) but still negligible compared to other circuit voltages.\n(a) Modify the circuit in Fig. 7.2 to amplify a transducer signal\n\nEXAMPLE 7.4\n$v_{i}=5 \\mathrm{mV}$ with a closed-loop gain of $1000 \\mathrm{~V} / \\mathrm{V}$.\n(b) Assuming a 741-type op amp, estimate $A, v_{o}, v_{f}$, and $v_{\\varepsilon}$.\n(c) Compare with Example $7.3a$ and comment.\n\n#### Solution\n\n(a) By setting $1000=1+R_{2} / R_{1}$, we derive $R_{2} / R_{1}=999$. One approach is to keep $R_{1}=1.0 \\mathrm{k} \\Omega$ and set $R_{2}=999 \\mathrm{k} \\Omega$. (In practice, one would choose the nearest standard value of $1.0 \\mathrm{M} \\Omega$.)\n(b) We now have $b \\approx 0.001 \\mathrm{~V} / \\mathrm{V}, L=a b \\approx 200,000 \\times 0.001=200, A \\approx 1000(1-1 / 200)=995 \\mathrm{~V} / \\mathrm{V}, v_{o}=995 \\times 5 \\mathrm{mV}=4.975 \\mathrm{~V}, v_{f}=(5 \\mathrm{mV}) / (1+1 / 200)=4.975 \\mathrm{mV}$, and $v_{\\varepsilon} \\approx (5 \\mathrm{mV}) / (1+200) \\approx 25 \\mu \\mathrm{~V}$.\n(c) Due to the significantly higher gain $A$ sought, $b$ is much lower than in Example 7.3a, resulting in a loop gain of 200. This leads to a $0.5 \\%$ deviation of $A$ and $v_{f}$ from their ideal values, still a minor deviation. The op amp's input $v_{\\varepsilon}=v_{o} / a$, meaning the deviation of $v_{\\varepsilon}$ from its ideal 0 V depends solely on $v_{o}$ and $a$, irrespective of the loop gain $L$."
},
{
    "text": "An example circuit that precisely matches the diagram in Fig. 7.1, incorporating all previously discussed features, is the well-known non-inverting op amp configuration depicted in Fig. 7.2. This op amp serves dual roles as an error amplifier and a summer, the latter function being possible due to its response to the difference between its input voltages. The feedback network consists of a simple voltage divider, yielding\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.13}\n\\end{equation*}\n$$\n\nOp amps are intentionally designed with very high open-loop gains to ensure substantial loop gains, thereby approaching ideal behavior in negative-feedback scenarios. In the ideal limit where $a \\rightarrow \\infty$, the circuit would result in $L \\rightarrow \\infty$, leading to $v_{\\varepsilon} \\rightarrow 0$ and $v_{f} \\rightarrow v_{i}$. Consequently, the closed-loop gain would achieve the ideal value\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b}=1+\\frac{R_{2}}{R_{1}} \\tag{7.14}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.2\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: Op amp, type: OpAmp, value: a, ports: {InP: Vi, InN: Vf, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: Vf}\n]\nextrainfo:This is a non-inverting op amp circuit with a feedback network formed by R1 and R2. The op amp has a high open-loop gain, providing negative feedback to stabilize the closed-loop gain.\n\nFIGURE 7.2 The non-inverting op amp circuit as a classic example of a negative-feedback system.\n(a) Consider the op amp in Fig. 7.2 to be the widely used 741-type, with data sheets indicating a typical gain of $a=200,000 \\mathrm{~V} / \\mathrm{V}$. Determine the closed-loop gain for $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=3.0 \\mathrm{k} \\Omega$.\n(b) Calculate $v_{o}, v_{f}$, and $v_{\\varepsilon}$ if $v_{i}=2.0 \\mathrm{~V}$. Provide comments on your findings.\n(c) The data sheets also note that due to manufacturing variations, the gain $a$ can be as low as $50,000 \\mathrm{~V} / \\mathrm{V}$. Discuss how this affects the results from part (a).\n\n#### Solution\n\n(a) We find $b=1 /(1+3)=1 / 4, L=a b=200,000 / 4=50,000$, and $A \\approx 4(1-1 / 50,000)=3.99992 \\mathrm{~V} / \\mathrm{V}$. Thanks to the high loop gain, $A$ is nearly equal to $A_{\\text {ideal }}(=4.0 \\mathrm{~V} / \\mathrm{V})$.\n(b) We obtain $v_{o}=A v_{i}=3.99992 \\times 2.0=7.99984 \\mathrm{~V}, v_{f}=v_{i} /(1+1 / L)=2.0 /(1+1 / 50,000)=1.99996 \\mathrm{~V}$, and $v_{\\varepsilon}=v_{i} /(1+L) \\approx 2.0 / 50,000=40 \\times 10^{-6} \\mathrm{~V}=40 \\mu \\mathrm{~V}$. Practically, $v_{o} \\approx 8 \\mathrm{~V}, v_{f} \\approx 2 \\mathrm{~V}$, and $v_{\\varepsilon} \\approx 0$. We note that the voltage divider reduces $v_{o}$ by 4 to produce $v_{f}$, while the op amp amplifies $v_{i}$ by 4 to generate $v_{o}$.\n(c) Now, $L=a b=50,000 / 4=12,500$, so $A \\approx 4(1-1 / 12,500)=3.99968 \\mathrm{~V} / \\mathrm{V}$. The change in $A$ is minimal ( $-0.006 \\%$ ), and similarly for $v_{o}$ and $v_{f}$, which remain very close to their ideal values of 8.0 V and 2.0 V, respectively. However, due to the reduced $a$, $v_{\\varepsilon}=v_{o} / a \\approx 8 / 50,000=160 \\mu \\mathrm{~V}$, higher than in part (b) but still negligible compared to other circuit voltages.\n(a) Modify the circuit in Fig. 7.2 to amplify a transducer signal\n\nEXAMPLE 7.4\n$v_{i}=5 \\mathrm{mV}$ with a closed-loop gain of $1000 \\mathrm{~V} / \\mathrm{V}$.\n(b) Assuming a 741-type op amp, estimate $A, v_{o}, v_{f}$, and $v_{\\varepsilon}$.\n(c) Compare with Example $7.3a$ and comment.\n\n#### Solution\n\n(a) By setting $1000=1+R_{2} / R_{1}$, we derive $R_{2} / R_{1}=999$. One approach is to keep $R_{1}=1.0 \\mathrm{k} \\Omega$ and set $R_{2}=999 \\mathrm{k} \\Omega$. (In practice, one would choose the nearest standard value of $1.0 \\mathrm{M} \\Omega$.)\n(b) We now have $b \\approx 0.001 \\mathrm{~V} / \\mathrm{V}, L=a b \\approx 200,000 \\times 0.001=200, A \\approx 1000(1-1 / 200)=995 \\mathrm{~V} / \\mathrm{V}, v_{o}=995 \\times 5 \\mathrm{mV}=4.975 \\mathrm{~V}, v_{f}=(5 \\mathrm{mV}) /(1+1 / 200)=4.975 \\mathrm{mV}$, and $v_{\\varepsilon} \\approx (5 \\mathrm{mV}) /(1+200) \\approx 25 \\mu \\mathrm{~V}$.\n(c) Due to the significantly higher gain $A$ required, $b$ is much lower than in Example 7.3a, resulting in a loop gain of 200. This leads to a $0.5 \\%$ deviation of $A$ and $v_{f}$ from their ideal values, still a minor deviation. The op amp's input $v_{\\varepsilon}=v_{o} / a$ indicates that the deviation of $v_{\\varepsilon}$ from its ideal value of 0 V depends solely on $v_{o}$ and $a$, irrespective of the loop gain $L$."
},
{
    "text": "A circuit that precisely matches the diagram in Fig. 7.1, incorporating all previously discussed features, is the well-known non-inverting op amp configuration depicted in Fig. 7.2. The op amp serves dual roles as an error amplifier and a summer, the latter function being enabled by its response to the difference between its input voltages. The feedback network consists of a simple voltage divider, yielding\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.13}\n\\end{equation*}\n$$\n\nOp amps are intentionally designed with very high open-loop gains to ensure substantial loop gains, thereby approaching ideal behavior in negative-feedback operation. In the ideal scenario where $a \\rightarrow \\infty$, the circuit would result in $L \\rightarrow \\infty$, leading to $v_{\\varepsilon} \\rightarrow 0$ and $v_{f} \\rightarrow v_{i}$. The closed-loop gain would then achieve the ideal value\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b}=1+\\frac{R_{2}}{R_{1}} \\tag{7.14}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.2\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: Op amp, type: OpAmp, value: a, ports: {InP: Vi, InN: Vf, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: Vf}\n]\nextrainfo:This is a non-inverting op amp circuit with a feedback network formed by R1 and R2. The op amp has a high open-loop gain, providing negative feedback to stabilize the closed-loop gain.\n\nFIGURE 7.2 The non-inverting op amp circuit as a classic example of a negative-feedback system.\n(a) Consider the op amp in Fig. 7.2 to be the widely used 741-type, with data sheets indicating a typical gain of $a=200,000 \\mathrm{~V} / \\mathrm{V}$. Determine the closed-loop gain for $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=3.0 \\mathrm{k} \\Omega$.\n(b) Calculate $v_{o}, v_{f}$, and $v_{\\varepsilon}$ if $v_{i}=2.0 \\mathrm{~V}$. Provide comments on your findings.\n(c) The data sheets also note that due to manufacturing variations, the gain $a$ can be as low as $50,000 \\mathrm{~V} / \\mathrm{V}$. Discuss how this affects the results from part (a).\n\n#### Solution\n\n(a) We find $b=1 /(1+3)=1 / 4, L=a b=200,000 / 4=50,000$, and $A \\approx$ $4(1-1 / 50,000)=3.99992 \\mathrm{~V} / \\mathrm{V}$. Thanks to the high loop gain, $A$ is nearly equal to $A_{\\text {ideal }}(=4.0 \\mathrm{~V} / \\mathrm{V})$.\n(b) We obtain $v_{o}=A v_{i}=3.99992 \\times 2.0=7.99984 \\mathrm{~V}, v_{f}=v_{i} /(1+1 / L)=2.0 /$ $(1+1 / 50,000)=1.99996 \\mathrm{~V}$, and $v_{\\varepsilon}=v_{i} /(1+L) \\approx 2.0 / 50,000=40 \\times$ $10^{-6} \\mathrm{~V}=40 \\mu \\mathrm{~V}$. Practically, we can say $v_{o} \\approx 8 \\mathrm{~V}, v_{f} \\approx 2 \\mathrm{~V}$, and $v_{\\varepsilon} \\approx 0$. We note that just as the voltage divider reduces $v_{o}$ by 4 to yield $v_{f}$, the op amp performs the reverse operation, multiplying $v_{i}$ by 4 to produce $v_{o}$.\n(c) Now, $L=a b=50,000 / 4=12,500$, so $A \\approx 4(1-1 / 12,500)=$ $3.99968 \\mathrm{~V} / \\mathrm{V}$. The change in $A$ is minimal ( $-0.006 \\%$ ), and the changes in $v_{o}$ and $v_{f}$ are similarly negligible, both remaining very close to their ideal values of 8.0 V and 2.0 V, respectively. However, due to the reduced $a$, we now have $v_{\\varepsilon}=v_{o} / a \\approx 8 / 50,000=160 \\mu \\mathrm{~V}$, higher than in part (b) but still negligible compared to other circuit voltages.\n(a) Modify the circuit in Fig. 7.2 to amplify a transducer signal\n\nEXAMPLE 7.4\n$v_{i}=5 \\mathrm{mV}$ with a closed-loop gain of $1000 \\mathrm{~V} / \\mathrm{V}$.\n(b) Assuming a 741-type op amp, estimate $A, v_{o}, v_{f}$, and $v_{\\varepsilon}$.\n(c) Compare with Example $7.3a$ and comment.\n\n#### Solution\n\n(a) By setting $1000=1+R_{2} / R_{1}$, we get $R_{2} / R_{1}=999$. One approach is to keep $R_{1}=1.0 \\mathrm{k} \\Omega$ and set $R_{2}=999 \\mathrm{k} \\Omega$. (In practice, one would choose the nearest standard value of $1.0 \\mathrm{M} \\Omega$.)\n(b) We now have $b \\approx 0.001 \\mathrm{~V} / \\mathrm{V}, L=a b \\approx 200,000 \\times 0.001=200, A \\approx$ $1000(1-1 / 200)=995 \\mathrm{~V} / \\mathrm{V}, v_{o}=995 \\times 5 \\mathrm{mV}=4.975 \\mathrm{~V}, v_{f}=(5 \\mathrm{mV}) /$ $(1+1 / 200)=4.975 \\mathrm{mV}$, and $v_{\\varepsilon} \\approx(5 \\mathrm{mV}) /(1+200) \\approx 25 \\mu \\mathrm{~V}$.\n(c) Due to the significantly higher gain $A$ sought, $b$ is much lower than in Example 7.3a, resulting in a loop gain of 200. This leads to a $0.5 \\%$ deviation of $A$ and $v_{f}$ from their ideal values, still a minor deviation. The op amp's input voltage $v_{\\varepsilon}=v_{o} / a$, meaning the deviation of $v_{\\varepsilon}$ from its ideal value of 0 V depends solely on $v_{o}$ and $a$, irrespective of the loop gain $L$."
},
{
    "text": "A circuit that precisely matches the diagram in Fig. 7.1, incorporating all previously discussed features, is the well-known non-inverting op amp configuration depicted in Fig. 7.2. The op amp serves dual roles as an error amplifier and a summer, the latter function being possible due to its response to the difference between its input voltages. The feedback network consists of a simple voltage divider, resulting in\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.13}\n\\end{equation*}\n$$\n\nOp amps are intentionally designed to have very high open-loop gains to ensure high loop gains, thereby exhibiting nearly ideal behavior in negative-feedback operation. In the ideal scenario where $a \\rightarrow \\infty$, the circuit would yield $L \\rightarrow \\infty$, leading to $v_{\\varepsilon} \\rightarrow 0$ and $v_{f} \\rightarrow v_{i}$. Consequently, the closed-loop gain would achieve the ideal value\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b}=1+\\frac{R_{2}}{R_{1}} \\tag{7.14}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.2\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: Op amp, type: OpAmp, value: a, ports: {InP: Vi, InN: Vf, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: Vf}\n]\nextrainfo:This is a non-inverting op amp circuit with a feedback network composed of R1 and R2. The op amp has a high open-loop gain, providing negative feedback to stabilize the closed-loop gain.\n\nFIGURE 7.2 The non-inverting op amp circuit as a classic example of a negative-feedback system.\n(a) Consider the op amp in Fig. 7.2 to be the widely used 741-type, with data sheets indicating a typical gain of $a=200,000 \\mathrm{~V} / \\mathrm{V}$. Determine the closed-loop gain if $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=3.0 \\mathrm{k} \\Omega$.\n(b) Calculate $v_{o}, v_{f}$, and $v_{\\varepsilon}$ for $v_{i}=2.0 \\mathrm{~V}$. Discuss your findings.\n(c) Data sheets also state that due to manufacturing variations, the gain $a$ can be as low as $50,000 \\mathrm{~V} / \\mathrm{V}$. Assess the impact on the results from part (a) and provide comments.\n\n#### Solution\n\n(a) We find $b=1 /(1+3)=1 / 4, L=a b=200,000 / 4=50,000$, and $A \\approx 4(1-1 / 50,000)=3.99992 \\mathrm{~V} / \\mathrm{V}$. Thanks to the high loop gain, $A$ is nearly equal to $A_{\\text {ideal }}(=4.0 \\mathrm{~V} / \\mathrm{V})$.\n(b) We calculate $v_{o}=A v_{i}=3.99992 \\times 2.0=7.99984 \\mathrm{~V}, v_{f}=v_{i} /(1+1 / L)=2.0 / (1+1 / 50,000)=1.99996 \\mathrm{~V}$, and $v_{\\varepsilon}=v_{i} /(1+L) \\approx 2.0 / 50,000=40 \\times 10^{-6} \\mathrm{~V}=40 \\mu \\mathrm{~V}$. Practically, we can assert that $v_{o} \\approx 8 \\mathrm{~V}, v_{f} \\approx 2 \\mathrm{~V}$, and $v_{\\varepsilon} \\approx 0$. We note that as the voltage divider reduces $v_{o}$ by 4 to yield $v_{f}$, the op amp performs the reverse operation, multiplying $v_{i}$ by 4 to produce $v_{o}$.\n(c) Now, $L=a b=50,000 / 4=12,500$, so $A \\approx 4(1-1 / 12,500)=3.99968 \\mathrm{~V} / \\mathrm{V}$. The change in $A$ is minimal ( $-0.006 \\%$ ), and the changes in $v_{o}$ and $v_{f}$ are similarly negligible, remaining very close to their ideal values of 8.0 V and 2.0 V, respectively. However, due to the reduced $a$, we now have $v_{\\varepsilon}=v_{o} / a \\approx 8 / 50,000=160 \\mu \\mathrm{~V}$, higher than in part (b) but still insignificantly small compared to other circuit voltages.\n(a) Modify the circuit in Fig. 7.2 to amplify a transducer signal\n\nEXAMPLE 7.4\n$v_{i}=5 \\mathrm{mV}$ with a closed-loop gain of $1000 \\mathrm{~V} / \\mathrm{V}$.\n(b) Using a 741-type op amp, estimate $A, v_{o}, v_{f}$, and $v_{\\varepsilon}$.\n(c) Compare with Example $7.3a$ and comment.\n\n#### Solution\n\n(a) By setting $1000=1+R_{2} / R_{1}$, we derive $R_{2} / R_{1}=999$. One approach is to keep $R_{1}=1.0 \\mathrm{k} \\Omega$ and set $R_{2}=999 \\mathrm{k} \\Omega$. (In practice, one would choose the nearest standard value of $1.0 \\mathrm{M} \\Omega$.)\n(b) We now obtain $b \\approx 0.001 \\mathrm{~V} / \\mathrm{V}, L=a b \\approx 200,000 \\times 0.001=200, A \\approx 1000(1-1 / 200)=995 \\mathrm{~V} / \\mathrm{V}, v_{o}=995 \\times 5 \\mathrm{mV}=4.975 \\mathrm{~V}, v_{f}=(5 \\mathrm{mV}) / (1+1 / 200)=4.975 \\mathrm{mV}$, and $v_{\\varepsilon} \\approx (5 \\mathrm{mV}) / (1+200) \\approx 25 \\mu \\mathrm{~V}$.\n(c) Due to the significantly higher gain $A$ required, $b$ is much lower than in Example 7.3a, resulting in a loop gain of 200. This leads to a $0.5 \\%$ deviation of $A$ and $v_{f}$ from their ideal values, still a relatively small deviation. The op amp's input voltage $v_{\\varepsilon}=v_{o} / a$ indicates that the deviation of $v_{\\varepsilon}$ from its ideal value of 0 V depends solely on $v_{o}$ and $a$, irrespective of the loop gain $L$."
},
{
    "text": "A circuit that precisely matches the diagram in Fig. 7.1, incorporating all previously discussed features, is the well-known non-inverting op amp configuration depicted in Fig. 7.2. The op amp serves dual roles as an error amplifier and a summer, the latter due to its response to the difference between its input voltages. The feedback network consists of a simple voltage divider, yielding\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.13}\n\\end{equation*}\n$$\n\nOp amps are intentionally designed with very high open-loop gains to ensure significant loop gains, thereby approaching ideal behavior in negative-feedback operation. In the ideal scenario where $a \\rightarrow \\infty$, the circuit would result in $L \\rightarrow \\infty$, leading to $v_{\\varepsilon} \\rightarrow 0$ and $v_{f} \\rightarrow v_{i}$. Consequently, the closed-loop gain would achieve the ideal value\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b}=1+\\frac{R_{2}}{R_{1}} \\tag{7.14}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.2\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: Op amp, type: OpAmp, value: a, ports: {InP: Vi, InN: Vf, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: Vf}\n]\nextrainfo:This is a non-inverting op amp circuit with a feedback network composed of R1 and R2. The op amp has a high open-loop gain, providing negative feedback to stabilize the closed-loop gain.\n\nFIGURE 7.2 The non-inverting op amp circuit as a typical example of a negative-feedback system.\n(a) Consider the op amp in Fig. 7.2 to be the widely used 741-type, with a typical gain of $a=200,000 \\mathrm{~V} / \\mathrm{V}$. Determine the closed-loop gain for $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=3.0 \\mathrm{k} \\Omega$.\n(b) Calculate $v_{o}, v_{f}$, and $v_{\\varepsilon}$ if $v_{i}=2.0 \\mathrm{~V}$. Provide comments on your findings.\n(c) The data sheets indicate that due to manufacturing variations, the gain $a$ can be as low as $50,000 \\mathrm{~V} / \\mathrm{V}$. Discuss the impact on the results from part (a).\n\n#### Solution\n\n(a) We find $b=1 /(1+3)=1 / 4, L=a b=200,000 / 4=50,000$, and $A \\approx 4(1-1 / 50,000)=3.99992 \\mathrm{~V} / \\mathrm{V}$. Thanks to the high loop gain, $A$ is nearly equal to $A_{\\text {ideal }}(=4.0 \\mathrm{~V} / \\mathrm{V})$.\n(b) We obtain $v_{o}=A v_{i}=3.99992 \\times 2.0=7.99984 \\mathrm{~V}, v_{f}=v_{i} /(1+1 / L)=2.0 / (1+1 / 50,000)=1.99996 \\mathrm{~V}$, and $v_{\\varepsilon}=v_{i} /(1+L) \\approx 2.0 / 50,000=40 \\times 10^{-6} \\mathrm{~V}=40 \\mu \\mathrm{~V}$. Practically, $v_{o} \\approx 8 \\mathrm{~V}, v_{f} \\approx 2 \\mathrm{~V}$, and $v_{\\varepsilon} \\approx 0$. We note that the voltage divider reduces $v_{o}$ by 4 to produce $v_{f}$, while the op amp inversely multiplies $v_{i}$ by 4 to generate $v_{o}$.\n(c) Now, $L=a b=50,000 / 4=12,500$, so $A \\approx 4(1-1 / 12,500)=3.99968 \\mathrm{~V} / \\mathrm{V}$. The change in $A$ is negligible ( $-0.006 \\%$ ), and similarly for $v_{o}$ and $v_{f}$, which remain very close to their ideal values of 8.0 V and 2.0 V, respectively. However, due to the reduced $a$, $v_{\\varepsilon}=v_{o} / a \\approx 8 / 50,000=160 \\mu \\mathrm{~V}$, higher than in part (b) but still insignificant compared to other circuit voltages.\n(a) Modify the circuit in Fig. 7.2 to amplify a transducer signal\n\nEXAMPLE 7.4\n$v_{i}=5 \\mathrm{mV}$ with a closed-loop gain of $1000 \\mathrm{~V} / \\mathrm{V}$.\n(b) Assuming a 741-type op amp, estimate $A, v_{o}, v_{f}$, and $v_{\\varepsilon}$.\n(c) Compare with Example $7.3a$ and comment.\n\n#### Solution\n\n(a) By setting $1000=1+R_{2} / R_{1}$, we get $R_{2} / R_{1}=999$. One approach is to keep $R_{1}=1.0 \\mathrm{k} \\Omega$ and set $R_{2}=999 \\mathrm{k} \\Omega$. (In practice, one would choose the nearest standard value of $1.0 \\mathrm{M} \\Omega$.)\n(b) We now have $b \\approx 0.001 \\mathrm{~V} / \\mathrm{V}, L=a b \\approx 200,000 \\times 0.001=200, A \\approx 1000(1-1 / 200)=995 \\mathrm{~V} / \\mathrm{V}, v_{o}=995 \\times 5 \\mathrm{mV}=4.975 \\mathrm{~V}, v_{f}=(5 \\mathrm{mV}) / (1+1 / 200)=4.975 \\mathrm{mV}$, and $v_{\\varepsilon} \\approx (5 \\mathrm{mV}) /(1+200) \\approx 25 \\mu \\mathrm{~V}$.\n(c) Due to the much higher desired gain $A$, $b$ is significantly lower than in Example 7.3a, resulting in a loop gain of 200. This leads to a $0.5 \\%$ deviation of $A$ and $v_{f}$ from their ideal values, still a minor deviation. The op amp's input $v_{\\varepsilon}=v_{o} / a$ indicates that the deviation of $v_{\\varepsilon}$ from its ideal value of 0 V depends solely on $v_{o}$ and $a$, irrespective of the loop gain $L$."
},
{
    "text": "A circuit that precisely matches the diagram in Fig. 7.1, incorporating all previously discussed features, is the well-known non-inverting op amp configuration depicted in Fig. 7.2. The op amp serves dual roles as an error amplifier and a summer, the latter function being facilitated by its response to the voltage difference between its inputs. The feedback network consists of a simple voltage divider, yielding\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.13}\n\\end{equation*}\n$$\n\nOp amps are intentionally designed with very high open-loop gains to ensure substantial loop gains, thereby approaching ideal behavior in negative-feedback applications. In the ideal scenario where $a \\rightarrow \\infty$, the circuit would result in $L \\rightarrow \\infty$, leading to $v_{\\varepsilon} \\rightarrow 0$ and $v_{f} \\rightarrow v_{i}$. Consequently, the closed-loop gain would achieve the ideal value\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b}=1+\\frac{R_{2}}{R_{1}} \\tag{7.14}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.2\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: Op amp, type: OpAmp, value: a, ports: {InP: Vi, InN: Vf, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: Vf}\n]\nextrainfo:This is a non-inverting op amp circuit with a feedback network composed of R1 and R2. The op amp features a high open-loop gain, providing negative feedback to stabilize the closed-loop gain.\n\nFIGURE 7.2 The non-inverting op amp circuit exemplifies a typical negative-feedback system.\n(a) Consider the op amp in Fig. 7.2 to be the widely-used 741 type, with a typical gain of $a=200,000 \\mathrm{~V} / \\mathrm{V}$. Determine the closed-loop gain for $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=3.0 \\mathrm{k} \\Omega$.\n(b) Calculate $v_{o}, v_{f}$, and $v_{\\varepsilon}$ if $v_{i}=2.0 \\mathrm{~V}$. Provide insights into your findings.\n(c) The data sheets indicate that due to manufacturing variations, the gain $a$ can be as low as $50,000 \\mathrm{~V} / \\mathrm{V}$. Assess the impact on the results from part (a) and comment.\n\n#### Solution\n\n(a) We find $b=1 /(1+3)=1 / 4, L=a b=200,000 / 4=50,000$, and $A \\approx$ $4(1-1 / 50,000)=3.99992 \\mathrm{~V} / \\mathrm{V}$. Thanks to the high loop gain, $A$ is nearly equal to $A_{\\text {ideal }}(=4.0 \\mathrm{~V} / \\mathrm{V})$.\n(b) We obtain $v_{o}=A v_{i}=3.99992 \\times 2.0=7.99984 \\mathrm{~V}, v_{f}=v_{i} /(1+1 / L)=2.0 /$ $(1+1 / 50,000)=1.99996 \\mathrm{~V}$, and $v_{\\varepsilon}=v_{i} /(1+L) \\approx 2.0 / 50,000=40 \\times$ $10^{-6} \\mathrm{~V}=40 \\mu \\mathrm{~V}$. Practically, $v_{o} \\approx 8 \\mathrm{~V}, v_{f} \\approx 2 \\mathrm{~V}$, and $v_{\\varepsilon} \\approx 0$. We note that the voltage divider reduces $v_{o}$ by 4 to yield $v_{f}$, while the op amp inversely amplifies $v_{i}$ by 4 to produce $v_{o}$.\n(c) Now, $L=a b=50,000 / 4=12,500$, so $A \\approx 4(1-1 / 12,500)=$ $3.99968 \\mathrm{~V} / \\mathrm{V}$. The change in $A$ is minimal ( $-0.006 \\%$ ), and similarly for $v_{o}$ and $v_{f}$, both remaining very close to their ideal values of 8.0 V and 2.0 V, respectively. However, due to the reduced $a$, $v_{\\varepsilon}=v_{o} / a \\approx 8 / 50,000=160 \\mu \\mathrm{~V}$, higher than in part (b) but still negligible compared to other circuit voltages.\n(a) Modify the circuit in Fig. 7.2 to amplify a transducer signal\n\nEXAMPLE 7.4\n$v_{i}=5 \\mathrm{mV}$ with a closed-loop gain of $1000 \\mathrm{~V} / \\mathrm{V}$.\n(b) Using a 741-type op amp, estimate $A, v_{o}, v_{f}$, and $v_{\\varepsilon}$.\n(c) Compare with Example $7.3a$ and provide comments.\n\n#### Solution\n\n(a) By setting $1000=1+R_{2} / R_{1}$, we derive $R_{2} / R_{1}=999$. One approach is to keep $R_{1}=1.0 \\mathrm{k} \\Omega$ and set $R_{2}=999 \\mathrm{k} \\Omega$. (In practice, one would choose the nearest standard value of $1.0 \\mathrm{M} \\Omega$.)\n(b) We now have $b \\approx 0.001 \\mathrm{~V} / \\mathrm{V}, L=a b \\approx 200,000 \\times 0.001=200, A \\approx$ $1000(1-1 / 200)=995 \\mathrm{~V} / \\mathrm{V}, v_{o}=995 \\times 5 \\mathrm{mV}=4.975 \\mathrm{~V}, v_{f}=(5 \\mathrm{mV}) /$ $(1+1 / 200)=4.975 \\mathrm{mV}$, and $v_{\\varepsilon} \\approx(5 \\mathrm{mV}) /(1+200) \\approx 25 \\mu \\mathrm{~V}$.\n(c) Due to the significantly higher gain $A$ required, $b$ is much lower than in Example 7.3a, resulting in a loop gain of 200. This leads to a $0.5 \\%$ deviation of $A$ and $v_{f}$ from their ideal values, still a minor deviation. The op amp's input $v_{\\varepsilon}=v_{o} / a$ indicates that the deviation of $v_{\\varepsilon}$ from its ideal value of 0 V depends solely on $v_{o}$ and $a$, irrespective of the loop gain $L$."
},
{
    "text": "A circuit that precisely matches the diagram in Fig. 7.1, incorporating all previously discussed features, is the well-known non-inverting op amp configuration shown in Fig. 7.2. This op amp serves dual roles as an error amplifier and a summer, the latter function being enabled by its response to the voltage difference between its inputs. The feedback network consists of a simple voltage divider, yielding\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.13}\n\\end{equation*}\n$$\n\nOp amps are intentionally designed with very high open-loop gains to ensure substantial loop gains, thereby approaching ideal behavior in negative-feedback operation. In the ideal scenario where $a \\rightarrow \\infty$, the circuit would result in $L \\rightarrow \\infty$, leading to $v_{\\varepsilon} \\rightarrow 0$ and $v_{f} \\rightarrow v_{i}$. Consequently, the closed-loop gain would achieve the ideal value\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b}=1+\\frac{R_{2}}{R_{1}} \\tag{7.14}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.2\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: Op amp, type: OpAmp, value: a, ports: {InP: Vi, InN: Vf, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: Vf}\n]\nextrainfo:This is a non-inverting op amp circuit with a feedback network consisting of R1 and R2. The op amp has a high open-loop gain, providing negative feedback to stabilize the closed-loop gain.\n\nFIGURE 7.2 The non-inverting op amp circuit as a classic example of a negative-feedback system.\n(a) Consider the op amp in Fig. 7.2 to be the widely used 741-type, with a typical gain of $a=200,000 \\mathrm{~V} / \\mathrm{V}$ as per its data sheets. Determine the closed-loop gain for $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=3.0 \\mathrm{k} \\Omega$.\n(b) Calculate $v_{o}, v_{f}$, and $v_{\\varepsilon}$ if $v_{i}=2.0 \\mathrm{~V}$. Provide comments on your findings.\n(c) The data sheets also indicate that due to manufacturing process variations, the gain $a$ can be as low as $50,000 \\mathrm{~V} / \\mathrm{V}$. Discuss how this affects the results from part (a) and provide comments.\n\n#### Solution\n\n(a) We find $b=1 /(1+3)=1 / 4, L=a b=200,000 / 4=50,000$, and $A \\approx 4(1-1 / 50,000)=3.99992 \\mathrm{~V} / \\mathrm{V}$. Thanks to the high loop gain, $A$ is very close to $A_{\\text {ideal }}(=4.0 \\mathrm{~V} / \\mathrm{V})$.\n(b) We obtain $v_{o}=A v_{i}=3.99992 \\times 2.0=7.99984 \\mathrm{~V}, v_{f}=v_{i} /(1+1 / L)=2.0 / (1+1 / 50,000)=1.99996 \\mathrm{~V}$, and $v_{\\varepsilon}=v_{i} /(1+L) \\approx 2.0 / 50,000=40 \\times 10^{-6} \\mathrm{~V}=40 \\mu \\mathrm{~V}$. Practically, we can say $v_{o} \\approx 8 \\mathrm{~V}, v_{f} \\approx 2 \\mathrm{~V}$, and $v_{\\varepsilon} \\approx 0$. We note that just as the voltage divider reduces $v_{o}$ by 4 to yield $v_{f}$, the op amp performs the inverse, multiplying $v_{i}$ by 4 to produce $v_{o}$.\n(c) Now, $L=a b=50,000 / 4=12,500$, so $A \\approx 4(1-1 / 12,500)=3.99968 \\mathrm{~V} / \\mathrm{V}$. The change in $A$ is negligible ( $-0.006 \\%$ ), and similarly for $v_{o}$ and $v_{f}$, which remain very close to their ideal values of 8.0 V and 2.0 V, respectively. However, due to the reduced $a$, we now have $v_{\\varepsilon}=v_{o} / a \\approx 8 / 50,000=160 \\mu \\mathrm{~V}$, higher than in part (b) but still insignificant compared to other circuit voltages.\n(a) Modify the circuit in Fig. 7.2 to amplify a transducer signal\n\nEXAMPLE 7.4\n$v_{i}=5 \\mathrm{mV}$ with a closed-loop gain of $1000 \\mathrm{~V} / \\mathrm{V}$.\n(b) Assuming a 741-type op amp, estimate $A, v_{o}, v_{f}$, and $v_{\\varepsilon}$.\n(c) Compare with Example $7.3a$ and comment.\n\n#### Solution\n\n(a) By setting $1000=1+R_{2} / R_{1}$, we get $R_{2} / R_{1}=999$. One approach is to keep $R_{1}=1.0 \\mathrm{k} \\Omega$ and set $R_{2}=999 \\mathrm{k} \\Omega$. (In practice, one would choose the nearest standard value of $1.0 \\mathrm{M} \\Omega$.)\n(b) We now have $b \\approx 0.001 \\mathrm{~V} / \\mathrm{V}, L=a b \\approx 200,000 \\times 0.001=200, A \\approx 1000(1-1 / 200)=995 \\mathrm{~V} / \\mathrm{V}, v_{o}=995 \\times 5 \\mathrm{mV}=4.975 \\mathrm{~V}, v_{f}=(5 \\mathrm{mV}) / (1+1 / 200)=4.975 \\mathrm{mV}$, and $v_{\\varepsilon} \\approx (5 \\mathrm{mV}) / (1+200) \\approx 25 \\mu \\mathrm{~V}$.\n(c) Due to the significantly higher gain $A$ required, $b$ is much lower than in Example 7.3a, resulting in a loop gain of 200. This leads to a $0.5 \\%$ deviation of $A$ and $v_{f}$ from their ideal values, still a minor deviation. The op amp's input voltage $v_{\\varepsilon}=v_{o} / a$ indicates that the deviation of $v_{\\varepsilon}$ from its ideal value of 0 V depends solely on $v_{o}$ and $a$, regardless of the loop gain $L$."
},
{
    "text": "An example circuit that precisely matches the diagram in Fig. 7.1, incorporating all previously discussed features, is the well-known non-inverting op amp configuration depicted in Fig. 7.2. The op amp serves dual roles as an error amplifier and a summer, the latter function enabled by its response to the voltage difference between its inputs. The feedback network consists of a simple voltage divider, yielding\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.13}\n\\end{equation*}\n$$\n\nOp amps are intentionally designed with very high open-loop gains to ensure substantial loop gains, thereby approaching ideal behavior in negative-feedback scenarios. In the ideal limit where $a \\rightarrow \\infty$, the circuit would result in $L \\rightarrow \\infty$, leading to $v_{\\varepsilon} \\rightarrow 0$ and $v_{f} \\rightarrow v_{i}$. The closed-loop gain would then ideally be\n\n$$\n\\begin{equation*}\nA_{\\text {ideal }}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b}=1+\\frac{R_{2}}{R_{1}} \\tag{7.14}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.2\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: Op amp, type: OpAmp, value: a, ports: {InP: Vi, InN: Vf, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: Vf}\n]\nextrainfo:This is a non-inverting op amp circuit with a feedback network comprising R1 and R2. The op amp features a high open-loop gain, providing negative feedback to stabilize the closed-loop gain.\n\nFIGURE 7.2 The non-inverting op amp circuit exemplifies a typical negative-feedback system.\n(a) Consider the op amp in Fig. 7.2 to be the commonly used 741-type, with a typical gain of $a=200,000 \\mathrm{~V} / \\mathrm{V}$. Determine the closed-loop gain for $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=3.0 \\mathrm{k} \\Omega$.\n(b) Calculate $v_{o}, v_{f}$, and $v_{\\varepsilon}$ given $v_{i}=2.0 \\mathrm{~V}$. Discuss your findings.\n(c) Data sheets indicate that due to manufacturing variations, the gain $a$ can be as low as $50,000 \\mathrm{~V} / \\mathrm{V}$. How does this affect the results from part (a)? Comment.\n\n#### Solution\n\n(a) We find $b=1 /(1+3)=1 / 4, L=a b=200,000 / 4=50,000$, and $A \\approx$ $4(1-1 / 50,000)=3.99992 \\mathrm{~V} / \\mathrm{V}$. Thanks to the high loop gain, $A$ is nearly equal to $A_{\\text {ideal }}(=4.0 \\mathrm{~V} / \\mathrm{V})$.\n(b) We calculate $v_{o}=A v_{i}=3.99992 \\times 2.0=7.99984 \\mathrm{~V}, v_{f}=v_{i} /(1+1 / L)=2.0 /$ $(1+1 / 50,000)=1.99996 \\mathrm{~V}$, and $v_{\\varepsilon}=v_{i} /(1+L) \\approx 2.0 / 50,000=40 \\times$ $10^{-6} \\mathrm{~V}=40 \\mu \\mathrm{~V}$. Practically, $v_{o} \\approx 8 \\mathrm{~V}, v_{f} \\approx 2 \\mathrm{~V}$, and $v_{\\varepsilon} \\approx 0$. We note that while the voltage divider reduces $v_{o}$ by 4 to yield $v_{f}$, the op amp inversely amplifies $v_{i}$ by 4 to produce $v_{o}$.\n(c) Now, $L=a b=50,000 / 4=12,500$, so $A \\approx 4(1-1 / 12,500)=$ $3.99968 \\mathrm{~V} / \\mathrm{V}$. The change in $A$ is minimal ( $-0.006 \\%$ ), and the changes in $v_{o}$ and $v_{f}$ are similarly negligible, remaining very close to their ideal values of 8.0 V and 2.0 V, respectively. However, due to the reduced $a$, $v_{\\varepsilon}=v_{o} / a \\approx 8 / 50,000=160 \\mu \\mathrm{~V}$, higher than in part (b) but still insignificantly small compared to other circuit voltages.\n(a) Modify the circuit in Fig. 7.2 to amplify a transducer signal\n\nEXAMPLE 7.4\n$v_{i}=5 \\mathrm{mV}$ with a closed-loop gain of $1000 \\mathrm{~V} / \\mathrm{V}$.\n(b) Using a 741-type op amp, estimate $A, v_{o}, v_{f}$, and $v_{\\varepsilon}$.\n(c) Compare with Example $7.3a$ and comment.\n\n#### Solution\n\n(a) By setting $1000=1+R_{2} / R_{1}$, we get $R_{2} / R_{1}=999$. One approach is to keep $R_{1}=1.0 \\mathrm{k} \\Omega$ and set $R_{2}=999 \\mathrm{k} \\Omega$. (In practice, one would use the nearest standard value of $1.0 \\mathrm{M} \\Omega$.)\n(b) We now have $b \\approx 0.001 \\mathrm{~V} / \\mathrm{V}, L=a b \\approx 200,000 \\times 0.001=200, A \\approx$ $1000(1-1 / 200)=995 \\mathrm{~V} / \\mathrm{V}, v_{o}=995 \\times 5 \\mathrm{mV}=4.975 \\mathrm{~V}, v_{f}=(5 \\mathrm{mV}) /$ $(1+1 / 200)=4.975 \\mathrm{mV}$, and $v_{\\varepsilon} \\approx(5 \\mathrm{mV}) /(1+200) \\approx 25 \\mu \\mathrm{~V}$.\n(c) Due to the significantly higher gain $A$ required, $b$ is much lower than in Example 7.3a, resulting in a loop gain of 200. This leads to a $0.5 \\%$ deviation of $A$ and $v_{f}$ from their ideal values, still a relatively small deviation. The op amp's input voltage $v_{\\varepsilon}=v_{o} / a$ indicates that the deviation of $v_{\\varepsilon}$ from its ideal value of 0 V depends solely on $v_{o}$ and $a$, irrespective of the loop gain $L$."
},
{
    "text": "While Fig. 7.2 showcases feedback within a complex circuit like an op amp, which comprises numerous transistors, Fig. 7.3 portrays the contrasting scenario of feedback around a solitary transistor. This latter setup is a CG amplifier that employs the voltage divider $R_{1}-R_{2}$ as its feedback mechanism. Provided that $\\left(R_{1}+R_{2}\\right) \\gg R_{D}$, we can express\n\n$$\nv_{o} \\cong -g_{m}\\left(R_{D} / / r_{o}\\right) v_{g s} = -g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{g} - v_{s}\\right) = g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{s} - v_{g}\\right)\n$$\n\nwith the body effect disregarded. This formula aligns with the pattern\n\n$$\nv_{o} = a\\left(v_{i} - v_{f}\\right) = a\\left(v_{i} - b v_{o}\\right)\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: vi, Nn: GND}\nname: C, type: Capacitor, value: C, ports: {Np: vs, Nn: vi}\nname: ID, type: CurrentSource, value: ID, ports: {Np: vs, Nn: VSS}\nname: M1, type: NMOS, ports: {S: vs, D: vd, G: vg}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: vd, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: vo}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: GND}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The body effect is ignored in the analysis. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2).\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: vi, Nn: GND}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: Vo, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: Vo, N2: vf}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vf, N2: GND}\nname: M1, type: NMOS, ports: {S: Vi, D: Vo, G: vf}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2). The body effect is ignored in the analysis. The circuit conforms to a negative-feedback system.\n\n(b)\n\nFIGURE 7.3 (a) A single-transistor circuit exemplifying a negative-feedback system, and (b) its AC equivalent.\nassuming $v_{s} \\rightarrow v_{i}, v_{g} \\rightarrow v_{f}$, and $v_{s g} \\rightarrow v_{\\varepsilon}$, as illustrated in Fig. 7.3b. Additionally, the open-loop gain is $a = g_{m}\\left(R_{D} / / r_{o}\\right)$, and the feedback factor is\n\n$$\nb = \\frac{v_{g}}{v_{d}} = \\frac{R_{2}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}}\n$$\n\nMuch like the preceding op amp example, this circuit precisely matches the configuration in Fig. 7.1.\n\nConsider the FET in Fig. 7.3 with $g_{m} = 2 \\mathrm{~mA} / \\mathrm{V}$ and $r_{o} = 60 \\mathrm{k} \\Omega$. Estimate $L$ and $A$ for EXAMPLE 7.5 and provide comments.\n\n#### Solution\n\nWe find $a = g_{m}\\left(R_{D} / / r_{o}\\right) = 2(12 / / 60) = 20 \\mathrm{~V} / \\mathrm{V}, b = 1 / (1 + 10 / 10) = 1 / 2$, $L = a b = 20 / 2 = 10$, and\n\n$$\nA = \\frac{1}{b} \\frac{1}{1 + 1 / L} = 2 \\frac{1}{1 + 1 / 10} = 1.82 \\mathrm{~V} / \\mathrm{V}\n$$\n\nGiven the typically low voltage gains of FETs, it's unsurprising that the loop gain is significantly lower than that of an op amp, leading to a noticeable deviation of $A$ from its ideal value of $2 \\mathrm{~V} / \\mathrm{V}$. Nonetheless, examining this single-transistor circuit from a negative-feedback perspective is enlightening.\n\n#### Exercise 7.1\n\nAs we progress, we'll discover that negative feedback influences not just the gain but also the input and output resistances. Using the test method, demonstrate that for $R_{1} + R_{2} \\gg R_{D}$ in Fig. 7.3, the input resistance $R_{i}$ and the output resistance $R_{o}$ are\n\n$$\nR_{i} = \\frac{1}{g_{m}}(1 + L) \\quad R_{o} = \\frac{R_{D} / / r_{o}}{1 + L}\n$$"
},
{
    "text": "Fig. 7.2 showcases feedback in a complex circuit like an op amp, which comprises numerous transistors, whereas Fig. 7.3 represents the contrasting scenario of feedback around a single transistor. The latter example is a CG amplifier that employs the voltage divider $R_{1}-R_{2}$ as its feedback network. Provided that $\\left(R_{1}+R_{2}\\right) \\gg R_{D}$, we can express:\n\n$$\nv_{o} \\cong -g_{m}\\left(R_{D} / / r_{o}\\right) v_{g s} = -g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{g} - v_{s}\\right) = g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{s} - v_{g}\\right)\n$$\n\nHere, the body effect is disregarded. This formula aligns with the format:\n\n$$\nv_{o} = a\\left(v_{i} - v_{f}\\right) = a\\left(v_{i} - b v_{o}\\right)\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: vi, Nn: GND}\nname: C, type: Capacitor, value: C, ports: {Np: vs, Nn: vi}\nname: ID, type: CurrentSource, value: ID, ports: {Np: vs, Nn: VSS}\nname: M1, type: NMOS, ports: {S: vs, D: vd, G: vg}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: vd, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: vo}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with a voltage divider feedback network. The analysis excludes the body effect. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2).\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: vi, Nn: GND}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: Vo, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: Vo, N2: vf}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vf, N2: GND}\nname: M1, type: NMOS, ports: {S: Vi, D: Vo, G: vf}\n]\nextrainfo:This circuit is a common-gate amplifier with a voltage divider feedback network. The open-loop gain is a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2). The analysis ignores the body effect. The circuit aligns with a negative-feedback system.\n\n(b)\n\nFIGURE 7.3 (a) A single-transistor circuit exemplifying a negative-feedback system, and (b) its AC equivalent.\nassuming $v_{s} \\rightarrow v_{i}, v_{g} \\rightarrow v_{f}$, and $v_{s g} \\rightarrow v_{\\varepsilon}$, as illustrated in Fig. 7.3b. Additionally, the open-loop gain is $a = g_{m}\\left(R_{D} / / r_{o}\\right)$, and the feedback factor is\n\n$$\nb = \\frac{v_{g}}{v_{d}} = \\frac{R_{2}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}}\n$$\n\nMuch like the op amp example previously discussed, this circuit perfectly matches the diagram in Fig. 7.1.\n\nConsider the FET in Fig. 7.3 with $g_{m} = 2 \\mathrm{~mA} / \\mathrm{V}$ and $r_{o} = 60 \\mathrm{k} \\Omega$. Estimate $L$ and $A$, EXAMPLE 7.5, and provide comments.\n\n#### Solution\n\nWe find $a = g_{m}\\left(R_{D} / / r_{o}\\right) = 2(12 / / 60) = 20 \\mathrm{~V} / \\mathrm{V}, b = 1 / (1 + 10 / 10) = 1 / 2$, $L = a b = 20 / 2 = 10$, and\n\n$$\nA = \\frac{1}{b} \\frac{1}{1 + 1 / L} = 2 \\frac{1}{1 + 1 / 10} = 1.82 \\mathrm{~V} / \\mathrm{V}\n$$\n\nGiven the typically low voltage gains achievable with FETs, it is unsurprising that the loop gain is significantly lower than that of an op amp, leading to a noticeable deviation of $A$ from its ideal value of $2 \\mathrm{~V} / \\mathrm{V}$. Nevertheless, examining this single-transistor circuit from a negative-feedback perspective is highly instructive.\n\n#### Exercise 7.1\n\nAs we progress, we will discover that negative feedback influences not only the gain but also the input and output resistances. Using the test method, demonstrate that for $R_{1} + R_{2} \\gg R_{D}$ in Fig. 7.3, the resistances $R_{i}$ observed at the input terminal and $R_{o}$ observed at the output terminal are\n\n$$\nR_{i} = \\frac{1}{g_{m}}(1 + L) \\quad R_{o} = \\frac{R_{D} / / r_{o}}{1 + L}\n$$"
},
{
    "text": "While Fig. 7.2 showcases feedback in a complex circuit like an op amp with numerous transistors, Fig. 7.3 represents the other extreme, featuring feedback around a single transistor. This is a CG amplifier that employs the voltage divider $R_{1}-R_{2}$ as its feedback network. Provided that $\\left(R_{1}+R_{2}\\right) \\gg R_{D}$, we can express\n\n$$\nv_{o} \\cong -g_{m}\\left(R_{D} / / r_{o}\\right) v_{g s} = -g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{g} - v_{s}\\right) = g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{s} - v_{g}\\right)\n$$\n\nHere, the body effect is disregarded. This formula fits the pattern\n\n$$\nv_{o} = a\\left(v_{i} - v_{f}\\right) = a\\left(v_{i} - b v_{o}\\right)\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: vi, Nn: GND}\nname: C, type: Capacitor, value: C, ports: {Np: vs, Nn: vi}\nname: ID, type: CurrentSource, value: ID, ports: {Np: vs, Nn: VSS}\nname: M1, type: NMOS, ports: {S: vs, D: vd, G: vg}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: vd, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: vo}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: GND}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The body effect is ignored in the analysis. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2).\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: vi, Nn: GND}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: Vo, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: Vo, N2: vf}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vf, N2: GND}\nname: M1, type: NMOS, ports: {S: Vi, D: Vo, G: vf}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2). The body effect is ignored in the analysis. The circuit conforms to a negative-feedback system.\n\n(b)\n\nFIGURE 7.3 (a) A single-transistor circuit exemplifying a negative-feedback system, and (b) its AC equivalent.\nassuming $v_{s} \\rightarrow v_{i}, v_{g} \\rightarrow v_{f}$, and $v_{s g} \\rightarrow v_{\\varepsilon}$, as shown in Fig. 7.3b. Additionally, the open-loop gain is $a = g_{m}\\left(R_{D} / / r_{o}\\right)$, and the feedback factor is\n\n$$\nb = \\frac{v_{g}}{v_{d}} = \\frac{R_{2}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}}\n$$\n\nMuch like the op amp example previously discussed, this circuit aligns precisely with the diagram in Fig. 7.1.\n\nConsider the FET in Fig. 7.3 with $g_{m} = 2 \\mathrm{~mA} / \\mathrm{V}$ and $r_{o} = 60 \\mathrm{k} \\Omega$. Estimate $L$ and $A$ for EXAMPLE 7.5 and provide comments.\n\n#### Solution\n\nWe find $a = g_{m}\\left(R_{D} / / r_{o}\\right) = 2(12 / / 60) = 20 \\mathrm{~V} / \\mathrm{V}, b = 1 / (1 + 10 / 10) = 1 / 2$, $L = a b = 20 / 2 = 10$, and\n\n$$\nA = \\frac{1}{b} \\frac{1}{1 + 1 / L} = 2 \\frac{1}{1 + 1 / 10} = 1.82 \\mathrm{~V} / \\mathrm{V}\n$$\n\nGiven the inherently low voltage gains of FETs, it is unsurprising that the loop gain is significantly lower than that of an op amp, leading to a noticeable deviation of $A$ from its ideal value of $2 \\mathrm{~V} / \\mathrm{V}$. Nonetheless, analyzing this single-transistor circuit from a negative-feedback perspective is highly educational.\n\n#### Exercise 7.1\n\nAs we progress, we will discover that negative feedback impacts not only the gain but also the input and output resistances. Using the test method, demonstrate that for $R_{1} + R_{2} \\gg R_{D}$ in Fig. 7.3, the resistances $R_{i}$ observed at the input terminal and $R_{o}$ observed at the output terminal are\n\n$$\nR_{i} = \\frac{1}{g_{m}}(1 + L) \\quad R_{o} = \\frac{R_{D} / / r_{o}}{1 + L}\n$$"
},
{
    "text": "```\nIf Fig. 7.2 showcases feedback in a complex circuit like an op amp with numerous transistors, Fig. 7.3 presents the contrasting scenario of feedback around a single transistor. This latter setup is a CG amplifier that employs the voltage divider $R_{1}-R_{2}$ as its feedback network. Provided that $\\left(R_{1}+R_{2}\\right) \\gg R_{D}$, we can express\n\n$$\nv_{o} \\cong -g_{m}\\left(R_{D} / / r_{o}\\right) v_{g s} = -g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{g} - v_{s}\\right) = g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{s} - v_{g}\\right)\n$$\n\nwhere the body effect is disregarded. This formula fits the pattern\n\n$$\nv_{o} = a\\left(v_{i} - v_{f}\\right) = a\\left(v_{i} - b v_{o}\\right)\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: vi, Nn: GND}\nname: C, type: Capacitor, value: C, ports: {Np: vs, Nn: vi}\nname: ID, type: CurrentSource, value: ID, ports: {Np: vs, Nn: VSS}\nname: M1, type: NMOS, ports: {S: vs, D: vd, G: vg}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: vd, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: vo}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: GND}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The body effect is ignored in the analysis. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2).\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: vi, Nn: GND}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: Vo, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: Vo, N2: vf}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vf, N2: GND}\nname: M1, type: NMOS, ports: {S: Vi, D: Vo, G: vf}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2). The body effect is ignored in the analysis. The circuit conforms to a negative-feedback system.\n\n(b)\n\nFIGURE 7.3 (a) A single-transistor circuit exemplifying a negative-feedback system, and (b) its ac equivalent.\nassuming $v_{s} \\rightarrow v_{i}, v_{g} \\rightarrow v_{f}$, and $v_{s g} \\rightarrow v_{\\varepsilon}$, as illustrated in Fig. 7.3b. Additionally, the open-loop gain is $a = g_{m}\\left(R_{D} / / r_{o}\\right)$, and the feedback factor is\n\n$$\nb = \\frac{v_{g}}{v_{d}} = \\frac{R_{2}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}}\n$$\n\nJust like the preceding op amp example, this circuit aligns perfectly with the diagram in Fig. 7.1.\n\nConsider the FET in Fig. 7.3 with $g_{m} = 2 \\mathrm{~mA} / \\mathrm{V}$ and $r_{o} = 60 \\mathrm{k} \\Omega$. Estimate $L$ and $A$, EXAMPLE 7.5, and provide comments.\n\n#### Solution\n\nWe find $a = g_{m}\\left(R_{D} / / r_{o}\\right) = 2(12 / / 60) = 20 \\mathrm{~V} / \\mathrm{V}, b = 1 / (1 + 10 / 10) = 1 / 2$, $L = a b = 20 / 2 = 10$, and\n\n$$\nA = \\frac{1}{b} \\frac{1}{1 + 1 / L} = 2 \\frac{1}{1 + 1 / 10} = 1.82 \\mathrm{~V} / \\mathrm{V}\n$$\n\nGiven the typically low voltage gains of FETs, it is unsurprising that the loop gain is much lower than that of an op amp, leading to a significant deviation of $A$ from its ideal value of $2 \\mathrm{~V} / \\mathrm{V}$. Nevertheless, examining this single-transistor circuit from a negative-feedback perspective is highly educational!\n\n#### Exercise 7.1\n\nAs we progress, we will discover that negative feedback impacts not only the gain but also the input and output resistances. Using the test method, demonstrate that for $R_{1} + R_{2} \\gg R_{D}$ in Fig. 7.3, the resistances $R_{i}$ observed at the input terminal and $R_{o}$ observed at the output terminal are\n\n$$\nR_{i} = \\frac{1}{g_{m}}(1 + L) \\quad R_{o} = \\frac{R_{D} / / r_{o}}{1 + L}\n$$\n```"
},
{
    "text": "While Fig. 7.2 showcases feedback in a complex circuit like an op amp with numerous transistors, Fig. 7.3 presents the contrasting scenario of feedback around a single transistor. This latter setup is a CG amplifier that employs the voltage divider $R_{1}-R_{2}$ as its feedback network. Provided that $\\left(R_{1}+R_{2}\\right) \\gg R_{D}$, we can express:\n\n$$\nv_{o} \\cong -g_{m}\\left(R_{D} / / r_{o}\\right) v_{g s} = -g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{g} - v_{s}\\right) = g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{s} - v_{g}\\right)\n$$\n\nHere, the body effect is disregarded. This equation fits the form:\n\n$$\nv_{o} = a\\left(v_{i} - v_{f}\\right) = a\\left(v_{i} - b v_{o}\\right)\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: vi, Nn: GND}\nname: C, type: Capacitor, value: C, ports: {Np: vs, Nn: vi}\nname: ID, type: CurrentSource, value: ID, ports: {Np: vs, Nn: VSS}\nname: M1, type: NMOS, ports: {S: vs, D: vd, G: vg}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: vd, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: vo}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: GND}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The body effect is ignored in the analysis. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2).\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: vi, Nn: GND}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: Vo, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: Vo, N2: vf}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vf, N2: GND}\nname: M1, type: NMOS, ports: {S: Vi, D: Vo, G: vf}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2). The body effect is ignored in the analysis. The circuit conforms to a negative-feedback system.\n\n(b)\n\nFIGURE 7.3 (a) A single-transistor circuit exemplifying a negative-feedback system, and (b) its ac equivalent.\nassuming $v_{s} \\rightarrow v_{i}, v_{g} \\rightarrow v_{f}$, and $v_{s g} \\rightarrow v_{\\varepsilon}$, as shown in Fig. 7.3b. Additionally, the open-loop gain is $a = g_{m}\\left(R_{D} / / r_{o}\\right)$, and the feedback factor is\n\n$$\nb = \\frac{v_{g}}{v_{d}} = \\frac{R_{2}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}}\n$$\n\nMuch like the op amp example previously discussed, this circuit aligns perfectly with the diagram in Fig. 7.1.\n\nConsider the FET in Fig. 7.3 with $g_{m} = 2 \\mathrm{~mA} / \\mathrm{V}$ and $r_{o} = 60 \\mathrm{k} \\Omega$. Estimate $L$ and $A$, EXAMPLE 7.5 and provide comments.\n\n#### Solution\n\nWe find $a = g_{m}\\left(R_{D} / / r_{o}\\right) = 2(12 / / 60) = 20 \\mathrm{~V} / \\mathrm{V}, b = 1 / (1 + 10 / 10) = 1 / 2$, $L = a b = 20 / 2 = 10$, and\n\n$$\nA = \\frac{1}{b} \\frac{1}{1 + 1 / L} = 2 \\frac{1}{1 + 1 / 10} = 1.82 \\mathrm{~V} / \\mathrm{V}\n$$\n\nGiven the inherently low voltage gains of FETs, it is unsurprising that the loop gain is significantly lower than that of an op amp, leading to a noticeable deviation of $A$ from its ideal value of $2 \\mathrm{~V} / \\mathrm{V}$. Nevertheless, examining this single-transistor circuit from a negative-feedback perspective is highly educational.\n\n#### Exercise 7.1\n\nAs we progress, we will discover that negative feedback impacts not only the gain but also the input and output resistances. Using the test method, demonstrate that for $R_{1} + R_{2} \\gg R_{D}$ in Fig. 7.3, the resistances $R_{i}$ observed at the input terminal and $R_{o}$ observed at the output terminal are\n\n$$\nR_{i} = \\frac{1}{g_{m}}(1 + L) \\quad R_{o} = \\frac{R_{D} / / r_{o}}{1 + L}\n$$"
},
{
    "text": "Fig. 7.2 illustrates feedback within a complex circuit like an op amp, which comprises numerous transistors, whereas Fig. 7.3 showcases the opposite extreme, featuring feedback around a single transistor. The latter is a CG amplifier that employs the voltage divider $R_{1}-R_{2}$ as its feedback network. Provided that $\\left(R_{1}+R_{2}\\right) \\gg R_{D}$, we can express:\n\n$$\nv_{o} \\cong -g_{m}\\left(R_{D} / / r_{o}\\right) v_{g s} = -g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{g} - v_{s}\\right) = g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{s} - v_{g}\\right)\n$$\n\nHere, the body effect is disregarded. This formula fits the pattern:\n\n$$\nv_{o} = a\\left(v_{i} - v_{f}\\right) = a\\left(v_{i} - b v_{o}\\right)\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: vi, Nn: GND}\nname: C, type: Capacitor, value: C, ports: {Np: vs, Nn: vi}\nname: ID, type: CurrentSource, value: ID, ports: {Np: vs, Nn: VSS}\nname: M1, type: NMOS, ports: {S: vs, D: vd, G: vg}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: vd, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: vo}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with a voltage divider feedback network. The analysis excludes the body effect. The open-loop gain is a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2).\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: vi, Nn: GND}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: Vo, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: Vo, N2: vf}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vf, N2: GND}\nname: M1, type: NMOS, ports: {S: Vi, D: Vo, G: vf}\n]\nextrainfo:This circuit is a common-gate amplifier with a voltage divider feedback network. The open-loop gain is a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2). The analysis ignores the body effect. The circuit aligns with a negative-feedback system.\n\n(b)\n\nFIGURE 7.3 (a) A single-transistor circuit exemplifying a negative-feedback system, and (b) its AC equivalent.\nassuming $v_{s} \\rightarrow v_{i}, v_{g} \\rightarrow v_{f}$, and $v_{s g} \\rightarrow v_{\\varepsilon}$, as shown in Fig. 7.3b. Additionally, the open-loop gain is $a = g_{m}\\left(R_{D} / / r_{o}\\right)$, and the feedback factor is\n\n$$\nb = \\frac{v_{g}}{v_{d}} = \\frac{R_{2}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}}\n$$\n\nSimilar to the op amp example previously discussed, this circuit perfectly matches the diagram in Fig. 7.1.\n\nConsider the FET in Fig. 7.3 with $g_{m} = 2 \\mathrm{~mA} / \\mathrm{V}$ and $r_{o} = 60 \\mathrm{k} \\Omega$. Estimate $L$ and $A$, EXAMPLE 7.5, and provide comments.\n\n#### Solution\n\nWe find $a = g_{m}\\left(R_{D} / / r_{o}\\right) = 2(12 / / 60) = 20 \\mathrm{~V} / \\mathrm{V}, b = 1 / (1 + 10 / 10) = 1 / 2$, $L = a b = 20 / 2 = 10$, and\n\n$$\nA = \\frac{1}{b} \\frac{1}{1 + 1 / L} = 2 \\frac{1}{1 + 1 / 10} = 1.82 \\mathrm{~V} / \\mathrm{V}\n$$\n\nGiven the typically low voltage gains of FETs, it's unsurprising that the loop gain is much lower than that of an op amp, leading to a significant deviation of $A$ from its ideal value of $2 \\mathrm{~V} / \\mathrm{V}$. Nonetheless, examining this single-transistor circuit from a negative-feedback perspective is highly educational.\n\n#### Exercise 7.1\n\nAs we progress, we'll discover that negative feedback influences not just the gain, but also the input and output resistances. Using the test method, demonstrate that for $R_{1} + R_{2} \\gg R_{D}$ in Fig. 7.3, the resistances $R_{i}$ observed at the input terminal and $R_{o}$ observed at the output terminal are\n\n$$\nR_{i} = \\frac{1}{g_{m}}(1 + L) \\quad R_{o} = \\frac{R_{D} / / r_{o}}{1 + L}\n$$"
},
{
    "text": "While Fig. 7.2 showcases feedback within a complex circuit like an op amp with numerous transistors, Fig. 7.3 portrays the contrasting scenario of feedback around a single transistor. This latter setup is a CG amplifier that employs the voltage divider $R_{1}-R_{2}$ as its feedback network. Provided that $\\left(R_{1}+R_{2}\\right) \\gg R_{D}$, we can express:\n\n$$\nv_{o} \\cong -g_{m}\\left(R_{D} / / r_{o}\\right) v_{g s} = -g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{g} - v_{s}\\right) = g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{s} - v_{g}\\right)\n$$\n\nHere, the body effect is disregarded. This formula fits the pattern:\n\n$$\nv_{o} = a\\left(v_{i} - v_{f}\\right) = a\\left(v_{i} - b v_{o}\\right)\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: vi, Nn: GND}\nname: C, type: Capacitor, value: C, ports: {Np: vs, Nn: vi}\nname: ID, type: CurrentSource, value: ID, ports: {Np: vs, Nn: VSS}\nname: M1, type: NMOS, ports: {S: vs, D: vd, G: vg}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: vd, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: vo}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: GND}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The body effect is ignored in the analysis. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2).\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: vi, Nn: GND}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: Vo, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: Vo, N2: vf}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vf, N2: GND}\nname: M1, type: NMOS, ports: {S: Vi, D: Vo, G: vf}\n]\nextrainfo:The circuit is a common-gate amplifier with a voltage divider feedback network. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2). The body effect is ignored in the analysis. The circuit conforms to a negative-feedback system.\n\n(b)\n\nFIGURE 7.3 (a) A single-transistor circuit exemplifying a negative-feedback system, and (b) its ac equivalent.\nassuming $v_{s} \\rightarrow v_{i}, v_{g} \\rightarrow v_{f}$, and $v_{s g} \\rightarrow v_{\\varepsilon}$, as illustrated in Fig. 7.3b. Additionally, the open-loop gain is $a = g_{m}\\left(R_{D} / / r_{o}\\right)$, and the feedback factor is\n\n$$\nb = \\frac{v_{g}}{v_{d}} = \\frac{R_{2}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}}\n$$\n\nMuch like the op amp example previously discussed, this circuit aligns precisely with the diagram in Fig. 7.1.\n\nConsider the FET in Fig. 7.3 with $g_{m} = 2 \\mathrm{~mA} / \\mathrm{V}$ and $r_{o} = 60 \\mathrm{k} \\Omega$. Estimate $L$ and $A$ for EXAMPLE 7.5 and provide comments.\n\n#### Solution\n\nWe find $a = g_{m}\\left(R_{D} / / r_{o}\\right) = 2(12 / / 60) = 20 \\mathrm{~V} / \\mathrm{V}, b = 1 / (1 + 10 / 10) = 1 / 2$, $L = a b = 20 / 2 = 10$, and\n\n$$\nA = \\frac{1}{b} \\frac{1}{1 + 1 / L} = 2 \\frac{1}{1 + 1 / 10} = 1.82 \\mathrm{~V} / \\mathrm{V}\n$$\n\nGiven the typically low voltage gains achievable with FETs, it is unsurprising that the loop gain is significantly lower than that of an op amp, leading to a noticeable deviation of $A$ from its ideal value of $2 \\mathrm{~V} / \\mathrm{V}$. Nevertheless, examining this single-transistor circuit from a negative-feedback perspective is highly educational.\n\n#### Exercise 7.1\n\nAs we progress, we will discover that negative feedback impacts not only the gain but also the input and output resistances. Using the test method, demonstrate that for $R_{1} + R_{2} \\gg R_{D}$ in Fig. 7.3, the resistances $R_{i}$ observed at the input terminal and $R_{o}$ observed at the output terminal are\n\n$$\nR_{i} = \\frac{1}{g_{m}}(1 + L) \\quad R_{o} = \\frac{R_{D} / / r_{o}}{1 + L}\n$$"
},
{
    "text": "```\nIf Fig. 7.2 illustrates feedback in a complex circuit like an op amp, which comprises numerous transistors, Fig. 7.3 portrays the contrasting scenario of feedback around a single transistor. The latter is a CG amplifier that employs the voltage divider $R_{1}-R_{2}$ as its feedback network. Provided that $\\left(R_{1}+R_{2}\\right) \\gg R_{D}$, we can express\n\n$$\nv_{o} \\cong -g_{m}\\left(R_{D} / / r_{o}\\right) v_{g s} = -g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{g} - v_{s}\\right) = g_{m}\\left(R_{D} / / r_{o}\\right) \\times \\left(v_{s} - v_{g}\\right)\n$$\n\nwhere the body effect is disregarded. This formula fits the pattern\n\n$$\nv_{o} = a\\left(v_{i} - v_{f}\\right) = a\\left(v_{i} - b v_{o}\\right)\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: vi, Nn: GND}\nname: C, type: Capacitor, value: C, ports: {Np: vs, Nn: vi}\nname: ID, type: CurrentSource, value: ID, ports: {Np: vs, Nn: VSS}\nname: M1, type: NMOS, ports: {S: vs, D: vd, G: vg}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: vd, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: vo}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vg, N2: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with a voltage divider feedback network. The body effect is omitted in the analysis. The open-loop gain is given by a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2).\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: vi, Nn: GND}\nname: RD, type: Resistor, value: 12kΩ, ports: {N1: Vo, N2: VDD}\nname: R2, type: Resistor, value: 10MΩ, ports: {N1: Vo, N2: vf}\nname: R1, type: Resistor, value: 10MΩ, ports: {N1: vf, N2: GND}\nname: M1, type: NMOS, ports: {S: Vi, D: Vo, G: vf}\n]\nextrainfo:This circuit is a common-gate amplifier with a voltage divider feedback network. The open-loop gain is a = gm(RD || ro), and the feedback factor is b = R2/(R1 + R2). The body effect is omitted in the analysis. The circuit adheres to a negative-feedback system.\n\n(b)\n\nFIGURE 7.3 (a) A single-transistor circuit exemplifying a negative-feedback system, and (b) its AC equivalent.\nassuming $v_{s} \\rightarrow v_{i}, v_{g} \\rightarrow v_{f}$, and $v_{s g} \\rightarrow v_{\\varepsilon}$, as shown in Fig. 7.3b. Additionally, the open-loop gain is $a = g_{m}\\left(R_{D} / / r_{o}\\right)$, and the feedback factor is\n\n$$\nb = \\frac{v_{g}}{v_{d}} = \\frac{R_{2}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}}\n$$\n\nMuch like the op amp example previously discussed, this circuit precisely matches the diagram in Fig. 7.1.\n\nConsider the FET in Fig. 7.3 with $g_{m} = 2 \\mathrm{~mA} / \\mathrm{V}$ and $r_{o} = 60 \\mathrm{k} \\Omega$. Estimate $L$ and $A$ for EXAMPLE 7.5 and provide comments.\n\n#### Solution\n\nWe find $a = g_{m}\\left(R_{D} / / r_{o}\\right) = 2(12 / / 60) = 20 \\mathrm{~V} / \\mathrm{V}, b = 1 / (1 + 10 / 10) = 1 / 2$, $L = a b = 20 / 2 = 10$, and\n\n$$\nA = \\frac{1}{b} \\frac{1}{1 + 1 / L} = 2 \\frac{1}{1 + 1 / 10} = 1.82 \\mathrm{~V} / \\mathrm{V}\n$$\n\nGiven the typically low voltage gains achievable with FETs, it is unsurprising that the loop gain is significantly lower than that of an op amp, leading to a noticeable deviation of $A$ from its ideal value of $2 \\mathrm{~V} / \\mathrm{V}$. Nevertheless, it is enlightening to examine this single-transistor circuit from a negative-feedback perspective!\n\n#### Exercise 7.1\n\nAs we progress, we will discover that negative feedback influences not only the gain but also the input and output resistances. Using the test method, demonstrate that for $R_{1} + R_{2} \\gg R_{D}$ in Fig. 7.3, the resistances $R_{i}$ observed at the input terminal and $R_{o}$ observed at the output terminal are\n\n$$\nR_{i} = \\frac{1}{g_{m}}(1 + L) \\quad R_{o} = \\frac{R_{D} / / r_{o}}{1 + L}\n$$\n```"
},
{
    "text": "Equation (7.3) indicates a linear relationship between output and input, with the proportionality constant being the open-loop gain $a$. A practical amplifier, such as an IC op amp, comprises transistors, which are inherently nonlinear devices. Additionally, the amplifier's output cannot exceed its power supply voltages. As a result, the voltage transfer curve (VTC) of a practical amplifier is not linear but a nonlinear curve, as exemplified in Fig. 7.4a (top). When the operation is confined near the origin, the curve can be considered approximately linear, with the steepest slope, representing the gain $a$, at that point. However, as the operation moves away from the origin, the slope gradually decreases until the VTC eventually flattens out or saturates, causing the gain $a$ to drop to zero. (In the example shown, $v_{O}$ saturates at $\\pm 10 \\mathrm{~V}$.) The open-loop gain is now more accurately defined as\n\n$$\n\\begin{equation*}\na=\\frac{d v_{O}}{d v_{E}} \\tag{7.15}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ is the instantaneous output voltage and $v_{E}$ is the instantaneous input error voltage. As depicted in Fig. 7.4a (bottom), the gain $a$ reaches its peak of $1000 \\mathrm{~V} / \\mathrm{V}$ at the origin and decreases progressively as we move away from the origin, eventually dropping to zero when the amplifier saturates.\n\nDue to its nonlinear VTC, a practical amplifier typically produces a distorted output. This is illustrated in Fig. 7.4b, where a triangular input wave (top) results in an output wave (bottom) that is a magnified but compressed version of the input due to reduced gain at the peaks. How can we use such a nonlinear device in applications like high-fidelity audio or precision instrumentation, where distortion is unacceptable? As we will see, negative feedback provides a solution.\n\nWhen a nonlinear amplifier is incorporated into a negative-feedback loop, it produces a closed-loop VTC, whose slope represents the closed-loop gain $A$,\n\n$$\n\\begin{equation*}\nA=\\frac{d v_{O}}{d v_{I}} \\tag{7.16}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ and $v_{I}$ are the instantaneous output and input voltages. By rewriting Eq. (7.15) as\n\n$$\n\\frac{1}{a}=\\left[\\frac{d v_{O}}{d\\left(v_{I}-v_{F}\\right)}\\right]^{-1}=\\frac{d v_{I}-d\\left(b v_{O}\\right)}{d v_{O}}=\\frac{1}{A}-b\n$$\n\nand rearranging, we derive the well-known formula\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b}=A_{\\text {ideal }} \\times \\frac{1}{1+1 / L} \\tag{7.17}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$, and $L=a b$ is the loop gain. This shows that if the open-loop gain $a$ is sufficiently high to ensure a substantial loop gain $L$, the closed-loop gain $A$ will be close to $A_{\\text {ideal }}$, even as $a$ decreases away from the origin. Thus, negative feedback can significantly linearize the VTC of an amplifier.\n\nFor instance, consider the PSpice circuit in Fig. 7.5, where an error amplifier with the nonlinear VTC of Fig. 7.4a is placed in a negative-feedback loop with $b=R_{1} /\\left(R_{1}+R_{2}\\right)=1 / 4$. The linearizing effect of negative feedback is demonstrated in Fig. 7.6. Compared to the open-loop VTC in Fig. 7.4a, the closed-loop VTC in Fig. 7.6a is much more linear, and the gain $A$ is near its ideal value of $1 / b$ $(=4 \\mathrm{~V} / \\mathrm{V}$ in this case) over a broader range of output voltages. As long as the circuit operates within this range, the output will be a faithful, magnified-by-four replica of the input. This is shown in Fig. 7.6b (top) for a triangular input waveform with peak values of $\\pm 2 \\mathrm{~V}$, resulting in an output waveform with peak values of $\\pm 8 \\mathrm{~V}$. The error signal $v_{E}$ displayed in Fig. 7.6b (bottom) reveals the effort required by the error amplifier to achieve $v_{O}=4 v_{r}$. It is evident that to compensate for the decline in its open-loop gain away from the origin, the amplifier pre-distorts its error signal. Historically, Harold Black invented negative feedback primarily to reduce output distortion."
},
{
    "text": "Equation (7.3) indicates a linear proportionality relationship between output and input, with the proportionality constant being the open-loop gain $a$. A practical amplifier, such as an IC op amp, comprises transistors, which are inherently nonlinear devices. Additionally, the amplifier cannot exceed its power supply voltages. As a result, the voltage transfer curve (VTC) of a practical amplifier is not linear but a nonlinear curve, as depicted in Fig. 7.4a (top). When the operation is confined near the origin, the curve can be considered approximately linear, with the steepest slope, representing the gain $a$, at that point. However, as the operation moves away from the origin, the slope gradually decreases until the VTC\n\nimage_name:(a)\ndescription:### Graph Type and Function:\nThe graph labeled \"(a)\" comprises two sections: the top graph shows a Voltage Transfer Curve (VTC), and the bottom graph illustrates the open-loop gain of a practical error amplifier.\n\nAxes Labels and Units:\n- **Top Graph (VTC):**\n- **X-axis:** Input voltage \\( v_E \\) in millivolts (mV), ranging from -30 mV to 30 mV.\n- **Y-axis:** Output voltage \\( v_O \\) in volts (V), ranging from -10 V to 10 V.\n- **Bottom Graph (Open-loop Gain):**\n- **X-axis:** Input voltage \\( v_E \\) in millivolts (mV), identical range to the top graph.\n- **Y-axis:** Open-loop gain \\( a \\) in volts per volt (V/V), ranging from 0 to 1000 V/V.\n\nOverall Behavior and Trends:\n- **Top Graph (VTC):**\n- The curve initiates at \\( -10 \\) V for \\( v_E = -30 \\) mV and rises steeply through the origin.\n- It asymptotically approaches \\( 10 \\) V as \\( v_E \\) increases to 30 mV, indicating saturation.\n- The slope is sharpest near the origin, indicating maximum gain in this region.\n- **Bottom Graph (Open-loop Gain):**\n- The gain \\( a \\) is zero at both ends of the input range (\\( v_E = -30 \\) mV and \\( v_E = 30 \\) mV).\n- It peaks at the origin, reaching a maximum of approximately 1000 V/V.\n- The gain decreases symmetrically as \\( v_E \\) moves away from the origin.\n\nKey Features and Technical Details:\n- **Top Graph (VTC):**\n- The curve is nonlinear, with a linear region around the origin where the gain is highest.\n- Saturation occurs at \\( \\pm 10 \\) V, beyond which the output does not increase with input.\n- **Bottom Graph (Open-loop Gain):**\n- The peak gain value is about 1000 V/V at \\( v_E = 0 \\) mV.\n- The gain curve is bell-shaped, indicating the amplifier's effectiveness is highest near the origin.\n\nAnnotations and Specific Data Points:\n- The top graph is labeled \"VTC\" with an arrow pointing to the curve, and the slope is marked by \\( a \\).\n- The bottom graph is labeled with an arrow indicating the peak gain value \\( a \\).\nimage_name:(b)\ndescription:The graph labeled (b) includes two plots showing input and output waveforms over time for a practical amplifier.\n\n1. **Graph Type and Function:**\n- Time-domain waveform graph.\n\n2. **Axes Labels and Units:**\n- **Input (Top):**\n- X-axis: Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- Y-axis: Input voltage \\( v_E \\) in millivolts (mV), ranging from -20 mV to 20 mV.\n- **Output (Bottom):**\n- X-axis: Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- Y-axis: Output voltage \\( v_O \\) in volts (V), ranging from -10 V to 10 V.\n\n3. **Overall Behavior and Trends:**\n- **Input (Top):**\n- The input waveform is a triangular wave oscillating between -20 mV and 20 mV, with peaks at approximately 0.5 ms and 1.5 ms, and zero crossings at 0 ms, 1 ms, and 2 ms.\n- **Output (Bottom):**\n- The output waveform is a clipped sinusoidal wave with peaks at approximately 0.5 ms and 1.5 ms, and zero crossings at 0 ms, 1 ms, and 2 ms. The waveform saturates at \\( \\pm 10 \\) V, indicating the amplifier's output limits.\n\n4. **Key Features and Technical Details:**\n- The input waveform is a perfect triangular wave, while the output waveform shows saturation due to the amplifier's power supply limits, resulting in flattened peaks.\n- Saturation at \\( \\pm 10 \\) V indicates the maximum output voltage the amplifier can produce.\n- The clipping effect in the output waveform results from the amplifier's non-linear characteristics when the input exceeds certain thresholds.\n\n5. **Annotations and Specific Data Points:**\n- Vertical grid lines mark the time points of interest where the input and output waveforms peak and cross zero, providing a reference for understanding waveform timing.\n\nFIGURE 7.4 (a) The voltage transfer curve (VTC) of a practical error amplifier (top) and its slope (bottom), representing the open-loop gain $a$. (b) Input (top) and output (bottom) waveforms.\neventually flattens out (or saturates), causing the gain $a$ to drop to zero. (In the example shown, $v_{O}$ saturates at $\\pm 10 \\mathrm{~V}$.) The open-loop gain is now more accurately defined as\n\n$$\n\\begin{equation*}\na=\\frac{d v_{O}}{d v_{E}} \\tag{7.15}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ is the instantaneous output voltage and $v_{E}$ is the instantaneous error voltage at the input. As shown in Fig. 7.4a (bottom), the gain $a$ reaches its maximum of $1000 \\mathrm{~V} / \\mathrm{V}$ at the origin, progressively decreasing as we move away from the origin, and ultimately dropping to zero when the amplifier saturates.\n\nDue to its nonlinear VTC, a practical amplifier typically produces a distorted output. This is illustrated in Fig. 7.4b for a triangular wave input (top). The output (bottom) can be seen as an amplified version of the input, but with significantly compressed peaks due to the reduced gain in those regions. How should we handle such a nonlinear device in demanding applications like high-fidelity (hi-fi) audio or precision instrumentation, where distortion is unacceptable? As we will see next, this is another scenario where negative feedback proves invaluable.\n\nWhen a nonlinear amplifier is incorporated into a negative-feedback loop, a closed-loop VTC is formed, whose slope represents the closed-loop gain $A$,\n\n$$\n\\begin{equation*}\nA=\\frac{d v_{O}}{d v_{I}} \\tag{7.16}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ and $v_{I}$ are the instantaneous output and input voltages. Rewriting Eq. (7.15) as\n\n$$\n\\frac{1}{a}=\\left[\\frac{d v_{O}}{d\\left(v_{I}-v_{F}\\right)}\\right]^{-1}=\\frac{d v_{I}-d\\left(b v_{O}\\right)}{d v_{O}}=\\frac{1}{A}-b\n$$\n\nand rearranging, we obtain the well-known result\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b}=A_{\\text {ideal }} \\times \\frac{1}{1+1 / L} \\tag{7.17}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$, and $L=a b$ is the familiar loop gain. This shows that as long as the open-loop gain $a$ is sufficiently large to ensure a high loop gain $L$, the closed-loop gain $A$ will be close to $A_{\\text {ideal }}$, even though the gain $a$ decreases away from the origin. Thus, negative feedback can dramatically linearize the VTC of an amplifier!\n\nTo illustrate, consider the PSpice circuit in Fig. 7.5, where an error amplifier with the nonlinear VTC of Fig. 7.4a is placed inside a negative-feedback loop with $b=R_{1} /\\left(R_{1}+R_{2}\\right)=1 / 4$. The linearizing effects of negative feedback are demonstrated in Fig. 7.6. Compared to the open-loop VTC in Fig. 7.4a, the closed-loop VTC in Fig. 7.6a is much more linear, and the gain $A$ is near its ideal value of $1 / b$ $(=4 \\mathrm{~V} / \\mathrm{V}$ in this example) over a wider range of output voltages. As long as we restrict circuit operation within this range, the output will be a faithful (magnified-by-four) replica of the input. This is shown in Fig. 7.6b (top) for a triangular wave input $v_{I}$ with peak values of $\\pm 2 \\mathrm{~V}$, resulting in an output $v_{O}$ that is a relatively undistorted triangular wave with peak values of $\\pm 8 \\mathrm{~V}$. Even more insightful is the error signal $v_{E}$ displayed in Fig. 7.6b (bottom), which reveals the effort required by the error amplifier to achieve $v_{O}=4 v_{r}$. It is evident that to compensate for the decrease in its open-loop gain away from the origin, the amplifier appropriately pre-distorts its own error signal! Historically, the concept of negative feedback was introduced by Harold Black primarily to reduce output distortion.\n\nEVALUE $10 *((\\exp (2 \\mathrm{E} 2 * \\mathrm{~V}(\\% \\mathrm{IN}+, \\% \\mathrm{IN}-))-1) /(\\exp (2 \\mathrm{E} 2 * \\mathrm{~V}(\\% \\mathrm{IN}+, \\% \\mathrm{IN}-))+1))$\nimage_name:FIGURE 7.5\ndescription:\n[\nname: VI, type: VoltageSource, value: VI, ports: {Np: VI, Nn: GND}\nname: R1, type: Resistor, value: 1.0 kΩ, ports: {N1: VF, N2: GND}\nname: R2, type: Resistor, value: 3.0 kΩ, ports: {N1: VF, N2: VO}\nname: RL, type: Resistor, value: 10 kΩ, ports: {N1: VO, N2: GND}\nname: EAMP, type: OpAmp, value: EAMP, ports: {InP: VE, InN: VF, OutP: VO, OutN: GND}\n]\nextrainfo:The circuit is a negative-feedback system using an error amplifier to control the output voltage. The feedback network consists of resistors R1 and R2, forming a voltage divider. The load resistor RL is connected from the output to ground. The op-amp EAMP has differential inputs and outputs. The input voltage VI is applied to the non-inverting terminal of the op-amp.\n\nFIGURE 7.5 PSpice circuit to display the waveforms of a negative-feedback system utilizing an error amplifier with the nonlinear VTC of Fig. 7.4a.\nimage_name:(a)\ndescription:The graph labeled (a) consists of two parts, depicting the closed-loop voltage transfer characteristic (VTC) and the closed-loop gain for a negative-feedback system using an error amplifier.\n\n1. **Graph Type and Function:**\n- The top part shows the voltage transfer characteristic (VTC) of the system, plotting output voltage \\( v_o \\) against input voltage \\( v_I \\).\n- The bottom part displays the closed-loop gain \\( A \\) as a function of the input voltage \\( v_I \\).\n\n2. **Axes Labels and Units:**\n- **Top Graph:**\n- **X-axis:** Input \\( v_I \\) in volts (V), ranging from -2 to 2 volts.\n- **Y-axis:** Output \\( v_o \\) in volts (V), ranging from -10 to 10 volts.\n- **Bottom Graph:**\n- **X-axis:** Input \\( v_I \\) in volts (V), ranging from -2 to 2 volts.\n- **Y-axis:** Closed-loop gain \\( A \\) in volts/volt (V/V), ranging from 0 to 4 V/V.\n\n3. **Overall Behavior and Trends:**\n- **Top Graph (VTC):**\n- The VTC is linear within the input range of -2 to 2 volts, indicating a proportional relationship between input and output voltages. The slope of this line represents the closed-loop gain.\n- **Bottom Graph (Closed-loop Gain):**\n- The gain \\( A \\) is relatively constant and high (around 4 V/V) across most of the input range but decreases sharply at the extreme ends of the input range (-2 and 2 volts), indicating saturation effects.\n\n4. **Key Features and Technical Details:**\n- **Top Graph:**\n- The linear region indicates a stable feedback system with consistent gain.\n- The slope of the VTC represents the gain, consistent with the gain shown in the bottom graph.\n- **Bottom Graph:**\n- The gain \\( A \\) approaches its maximum value of 4 V/V in the linear region, indicating effective feedback control.\n- The sharp decrease in gain at the input extremes suggests the limits of the amplifier's linear operating range.\n\n5. **Annotations and Specific Data Points:**\n- The top graph includes an annotation \"VTC\" indicating the linear portion of the graph and \"A\" representing the slope.\n- The bottom graph includes an annotation \"A\" at the peak gain level, highlighting the closed-loop gain value.\nimage_name:(b)\ndescription:The graph labeled as \"(b)\" comprises two subplots showing the behavior of waveforms in a negative-feedback system involving an error amplifier.\n\n1. **Graph Type and Function:**\n- The top subplot is a time-domain waveform graph displaying the input and output voltages of the system.\n- The bottom subplot is also a time-domain waveform graph showing the error voltage over time.\n\n2. **Axes Labels and Units:**\n- **Top Subplot:**\n- The x-axis is labeled \"Time t (ms)\" and represents time in milliseconds, ranging from 0 to 2 ms.\n- The y-axis is labeled \"Waveforms (V)\" and shows voltage in volts, ranging from -10 V to 10 V.\n- **Bottom Subplot:**\n- The x-axis is the same as the top subplot, \"Time t (ms)\", ranging from 0 to 2 ms.\n- The y-axis is labeled \"Error voltage v_E (mV)\" and displays voltage in millivolts, ranging from -10 mV to 10 mV.\n\n3. **Overall Behavior and Trends:**\n- **Top Subplot:**\n- The waveform for the input voltage \\(v_I\\) appears as a triangular wave, starting at -10 V, peaking at 10 V, and returning to -10 V, completing one cycle over 1 ms.\n- The output voltage \\(v_O\\) follows a similar triangular pattern but with a phase shift and possibly different amplitude, indicating the effect of the feedback system.\n- **Bottom Subplot:**\n- The error voltage \\(v_E\\) also shows a triangular waveform, synchronized with the input and output waveforms, but with a much smaller amplitude, peaking at about ±10 mV.\n\n4. **Key Features and Technical Details:**\n- The triangular waveforms indicate a periodic signal with a frequency of approximately 1 kHz (since one full cycle is completed in 1 ms).\n- The small amplitude of the error voltage \\(v_E\\) suggests effective feedback control, minimizing the error between input and output.\n\n5. **Annotations and Specific Data Points:**\n- The graph does not include specific numerical annotations or reference lines beyond the axes labels and units.\n- The symmetry and periodicity of the waveforms are key features, highlighting the system's response to the input signal and the feedback mechanism's role in reducing error.\n\nFIGURE 7.6 Illustrating the linearizing properties of negative feedback: (a) the closed-loop VTC (top) and its slope (bottom), representing the closed-loop gain $A$; (b) the input and output waveforms (top) and the error waveform (bottom)."
},
{
    "text": "Equation (7.3) establishes a linear proportionality relationship between output and input, with the proportionality constant being the open-loop gain $a$. A practical amplifier, such as an IC op amp, comprises transistors, which are inherently nonlinear devices. Additionally, the amplifier's output cannot exceed its power supply voltages. Consequently, the voltage transfer curve (VTC) of a practical amplifier is not linear but a nonlinear curve, as exemplified in Fig. 7.4a (top). When operation is confined near the origin, the curve can be considered approximately linear, with the steepest slope, representing the gain $a$, at that point. However, as we move away from the origin, the slope gradually decreases until the VTC eventually flattens out or saturates, causing the gain $a$ to drop to zero. (In the example shown, $v_{O}$ saturates at $\\pm 10 \\mathrm{~V}$.) The open-loop gain is now more appropriately defined as\n\n$$\n\\begin{equation*}\na=\\frac{d v_{O}}{d v_{E}} \\tag{7.15}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ is the instantaneous output voltage and $v_{E}$ is the instantaneous error voltage at the input. As depicted in Fig. 7.4a (bottom), the gain $a$ reaches its peak of $1000 \\mathrm{~V} / \\mathrm{V}$ at the origin and decreases progressively as we move away, ultimately dropping to zero when the amplifier saturates.\n\nDue to its nonlinear VTC, a practical amplifier typically produces a distorted output. This is illustrated in Fig. 7.4b for a triangular input wave (top). The output (bottom) appears as a magnified version of the input but with significantly compressed peaks due to reduced gain in those regions. In demanding applications like high-fidelity audio or precision instrumentation, where distortion is unacceptable, what can be done with such a nonlinear device? As we will explore next, negative feedback offers a solution.\n\nWhen a nonlinear amplifier is incorporated into a negative-feedback loop, a closed-loop VTC is formed, with its slope representing the closed-loop gain $A$,\n\n$$\n\\begin{equation*}\nA=\\frac{d v_{O}}{d v_{I}} \\tag{7.16}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ and $v_{I}$ are the instantaneous output and input voltages. By rewriting Eq. (7.15) as\n\n$$\n\\frac{1}{a}=\\left[\\frac{d v_{O}}{d\\left(v_{I}-v_{F}\\right)}\\right]^{-1}=\\frac{d v_{I}-d\\left(b v_{O}\\right)}{d v_{O}}=\\frac{1}{A}-b\n$$\n\nand rearranging, we derive the well-known result\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b}=A_{\\text {ideal }} \\times \\frac{1}{1+1 / L} \\tag{7.17}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$, and $L=a b$ is the familiar loop gain. This indicates that if the open-loop gain $a$ is sufficiently large to ensure a high loop gain $L$, the closed-loop gain $A$ will be close to $A_{\\text {ideal }}$, even as the gain $a$ decreases away from the origin. Thus, negative feedback can significantly linearize the VTC of an amplifier.\n\nTo illustrate, consider the PSpice circuit in Fig. 7.5, where an error amplifier with the nonlinear VTC of Fig. 7.4a is placed in a negative-feedback loop with $b=R_{1} /\\left(R_{1}+R_{2}\\right)=1 / 4$. The linearizing effects of negative feedback are demonstrated in Fig. 7.6. Compared to the open-loop VTC in Fig. 7.4a, the closed-loop VTC in Fig. 7.6a is much more linear, and the gain $A$ is near its ideal value of $1 / b$ $(=4 \\mathrm{~V} / \\mathrm{V}$ in this case) over a broader range of output voltages. As long as operation is restricted within this range, the output will be a faithful, magnified-by-four replica of the input. This is shown in Fig. 7.6b (top) for a triangular input waveform with peak values of $\\pm 2 \\mathrm{~V}$, resulting in an output waveform with peak values of $\\pm 8 \\mathrm{~V}$ that is relatively undistorted. Even more revealing is the error signal $v_{E}$ displayed in Fig. 7.6b (bottom), which illustrates the effort required by the error amplifier to achieve $v_{O}=4 v_{r}$. It is evident that to compensate for the decline in its open-loop gain away from the origin, the amplifier pre-distorts its error signal. Historically, Harold Black invented negative feedback primarily to reduce output distortion."
},
{
    "text": "Equation (7.3) indicates a linear relationship between output and input, with the proportionality constant being the open-loop gain $a$. A practical amplifier, such as an IC op amp, comprises transistors, which are inherently nonlinear devices. Additionally, the amplifier's output cannot exceed its power supply voltages. As a result, the voltage transfer curve (VTC) of a practical amplifier is not linear but a nonlinear curve, as depicted in Fig. 7.4a (top). When the operation is confined near the origin, the curve can be considered approximately linear, with the steepest slope, representing the gain $a$, at that point. However, as we move away from the origin, the slope gradually decreases until the VTC eventually flattens out or saturates, causing the gain $a$ to drop to zero (in the example shown, $v_{O}$ saturates at $\\pm 10 \\mathrm{~V}$). The open-loop gain is now more accurately defined as\n\n$$\n\\begin{equation*}\na=\\frac{d v_{O}}{d v_{E}} \\tag{7.15}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ is the instantaneous output voltage and $v_{E}$ is the instantaneous input error voltage. As illustrated in Fig. 7.4a (bottom), the gain $a$ peaks at $1000 \\mathrm{~V} / \\mathrm{V}$ at the origin, decreases as we move away from the origin, and ultimately drops to zero when the amplifier saturates.\n\nDue to its nonlinear VTC, a practical amplifier typically produces a distorted output. This is shown in Fig. 7.4b for a triangular input wave (top). The output (bottom) appears as a magnified version of the input but with significantly reduced peaks due to the decreased gain. In demanding applications like high-fidelity audio or precision instrumentation, where distortion is unacceptable, what can be done with such a nonlinear device? As we will see, negative feedback offers a solution.\n\nWhen a nonlinear amplifier is incorporated into a negative-feedback loop, a closed-loop VTC is formed, with its slope representing the closed-loop gain $A$,\n\n$$\n\\begin{equation*}\nA=\\frac{d v_{O}}{d v_{I}} \\tag{7.16}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ and $v_{I}$ are the instantaneous output and input voltages. Rewriting Eq. (7.15) as\n\n$$\n\\frac{1}{a}=\\left[\\frac{d v_{O}}{d\\left(v_{I}-v_{F}\\right)}\\right]^{-1}=\\frac{d v_{I}-d\\left(b v_{O}\\right)}{d v_{O}}=\\frac{1}{A}-b\n$$\n\nand rearranging, we obtain the well-known result\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b}=A_{\\text {ideal }} \\times \\frac{1}{1+1 / L} \\tag{7.17}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$, and $L=a b$ is the familiar loop gain. This shows that if the open-loop gain $a$ is sufficiently large to ensure a high loop gain $L$, the closed-loop gain $A$ will be close to $A_{\\text {ideal }}$, even as the gain $a$ decreases away from the origin. Thus, negative feedback can significantly linearize the VTC of an amplifier.\n\nFor instance, consider the PSpice circuit in Fig. 7.5, where an error amplifier with the nonlinear VTC of Fig. 7.4a is placed in a negative-feedback loop with $b=R_{1} /\\left(R_{1}+R_{2}\\right)=1 / 4$. The linearizing effects of negative feedback are demonstrated in Fig. 7.6. Compared to the open-loop VTC in Fig. 7.4a, the closed-loop VTC in Fig. 7.6a is much more linear, and the gain $A$ is near its ideal value of $1 / b$ $(=4 \\mathrm{~V} / \\mathrm{V}$ in this example) over a broader range of output voltages. As long as the circuit operates within this range, the output will be a faithful, magnified-by-four replica of the input. This is shown in Fig. 7.6b (top) for a triangular input waveform with peak values of $\\pm 2 \\mathrm{~V}$, resulting in an output waveform with peak values of $\\pm 8 \\mathrm{~V}$. Even more insightful is the error signal $v_{E}$ displayed in Fig. 7.6b (bottom), which reveals the effort required by the error amplifier to achieve $v_{O}=4 v_{r}$. It is clear that to compensate for the reduced open-loop gain away from the origin, the amplifier pre-distorts its own error signal. Historically, Harold Black invented negative feedback primarily to reduce output distortion.\n\nEVALUE $10 *((\\exp (2 \\mathrm{E} 2 * \\mathrm{~V}(\\% \\mathrm{IN}+, \\% \\mathrm{IN}-))-1) /(\\exp (2 \\mathrm{E} 2 * \\mathrm{~V}(\\% \\mathrm{IN}+, \\% \\mathrm{IN}-))+1))$\nFIGURE 7.5 PSpice circuit demonstrating the waveforms of a negative-feedback system using an error amplifier with the nonlinear VTC of Fig. 7.4a.\nFIGURE 7.6 Illustrating the linearizing effects of negative feedback: (a) the closed-loop VTC (top) and its slope (bottom), representing the closed-loop gain $A$; (b) the input and output waveforms (top) and the error waveform (bottom)."
},
{
    "text": "Equation (7.3) establishes a linear relationship between output and input, with the proportionality constant being the open-loop gain $a$. A practical amplifier, such as an IC op amp, comprises transistors, which are inherently nonlinear devices. Additionally, the amplifier's output cannot exceed its power supply voltages. Consequently, the voltage transfer curve (VTC) of a practical amplifier is not linear but a nonlinear curve, as exemplified in Fig. 7.4a (top). When the operation is confined near the origin, the curve can be considered approximately linear, with the steepest slope, representing the gain $a$, at that point. However, as the operation moves away from the origin, the slope decreases progressively until the VTC\n\nimage_name:(a)\ndescription:### Type of Graph and Function:\nThe graph labeled \"(a)\" comprises two sections: the top graph is a Voltage Transfer Curve (VTC), and the bottom graph represents the open-loop gain of a practical error amplifier.\n\nAxes Labels and Units:\n- **Top Graph (VTC):**\n- **X-axis:** Input voltage \\( v_E \\) in millivolts (mV), ranging from -30 mV to 30 mV.\n- **Y-axis:** Output voltage \\( v_O \\) in volts (V), ranging from -10 V to 10 V.\n- **Bottom Graph (Open-loop Gain):**\n- **X-axis:** Input voltage \\( v_E \\) in millivolts (mV), same range as the top graph.\n- **Y-axis:** Open-loop gain \\( a \\) in volts per volt (V/V), ranging from 0 to 1000 V/V.\n\nOverall Behavior and Trends:\n- **Top Graph (VTC):**\n- The curve initiates at \\( -10 \\) V for \\( v_E = -30 \\) mV and rises steeply through the origin.\n- It approaches an asymptote at \\( 10 \\) V as \\( v_E \\) increases to 30 mV, indicating saturation.\n- The slope is steepest near the origin, indicating the highest gain in this region.\n- **Bottom Graph (Open-loop Gain):**\n- The gain \\( a \\) is zero at both ends of the input range (\\( v_E = -30 \\) mV and \\( v_E = 30 \\) mV).\n- It peaks at the origin, reaching a maximum gain of approximately 1000 V/V.\n- The gain decreases symmetrically as \\( v_E \\) moves away from the origin in either direction.\n\nKey Features and Technical Details:\n- **Top Graph (VTC):**\n- The curve is nonlinear, with a linear region around the origin where the gain is highest.\n- Saturation occurs at \\( \\pm 10 \\) V, beyond which the output does not increase with increasing input.\n- **Bottom Graph (Open-loop Gain):**\n- The peak gain value is about 1000 V/V at \\( v_E = 0 \\) mV.\n- The gain curve is bell-shaped, indicating that the amplifier is most effective in a narrow range around the origin.\n\nAnnotations and Specific Data Points:\n- The top graph is labeled \"VTC\" with an arrow pointing to the curve, and the slope is denoted by \\( a \\).\n- The bottom graph is labeled with an arrow indicating the peak gain value \\( a \\).\nimage_name:(b)\ndescription:The graph labeled (b) comprises two plots depicting the input and output waveforms over time for a practical amplifier.\n\n1. **Type of Graph and Function:**\n- Time-domain waveform graph.\n\n2. **Axes Labels and Units:**\n- **Input (Top):**\n- X-axis: Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- Y-axis: Input voltage \\( v_E \\) in millivolts (mV), ranging from -20 mV to 20 mV.\n- **Output (Bottom):**\n- X-axis: Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- Y-axis: Output voltage \\( v_O \\) in volts (V), ranging from -10 V to 10 V.\n\n3. **Overall Behavior and Trends:**\n- **Input (Top):**\n- The input waveform is a triangular wave oscillating between -20 mV and 20 mV, with peaks at approximately 0.5 ms and 1.5 ms, and zero crossings at 0 ms, 1 ms, and 2 ms.\n- **Output (Bottom):**\n- The output waveform is a clipped sinusoidal wave with peaks at approximately 0.5 ms and 1.5 ms, and zero crossings at 0 ms, 1 ms, and 2 ms. The waveform is saturated at \\( \\pm 10 \\) V, indicating the limits of the amplifier's output swing.\n\n4. **Key Features and Technical Details:**\n- The input waveform is a perfect triangular wave, while the output waveform shows saturation due to the amplifier's power supply limits, resulting in a flattened peak.\n- The saturation at \\( \\pm 10 \\) V indicates the maximum output voltage the amplifier can produce.\n- The clipping effect in the output waveform is a result of the non-linear characteristics of the amplifier when the input exceeds certain thresholds.\n\n5. **Annotations and Specific Data Points:**\n- The time points of interest where the input and output waveforms peak and cross zero are clearly marked by vertical grid lines, providing a reference for understanding the timing of the waveform features.\n\nFIGURE 7.4 (a) The voltage transfer curve (VTC) of a practical error amplifier (top), and its slope (bottom), representing the open-loop gain $a$. (b) Input (top) and output (bottom) waveforms.\neventually flattens out (or saturates), causing the gain $a$ to drop to zero. (In the example shown, $v_{O}$ saturates at $\\pm 10 \\mathrm{~V}$.) The open-loop gain is now more accurately defined as\n\n$$\n\\begin{equation*}\na=\\frac{d v_{O}}{d v_{E}} \\tag{7.15}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ is the instantaneous output voltage and $v_{E}$ is the instantaneous error voltage at the input. As depicted in Fig. $7.4 a$ (bottom), the gain $a$ reaches its maximum of $1000 \\mathrm{~V} / \\mathrm{V}$ at the origin, progressively decreasing as we move away from the origin, and finally dropping to zero when the amplifier saturates.\n\nDue to its nonlinear VTC, a practical amplifier typically produces a distorted output. This is illustrated in Fig. 7.4b for a triangular wave input (top). The output (bottom) can be seen as an enlarged version of the input, but with significantly compressed peaks due to the reduced gain in those regions. How should we handle such a nonlinear device in demanding applications like high-fidelity (hi-fi) audio or precision instrumentation, where distortion is unacceptable? As we will see next, this is another scenario where negative feedback proves invaluable.\n\nWhen a nonlinear amplifier is incorporated into a negative-feedback loop, a closed-loop VTC is formed, whose slope represents the closed-loop gain $A$,\n\n$$\n\\begin{equation*}\nA=\\frac{d v_{O}}{d v_{I}} \\tag{7.16}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ and $v_{I}$ are the instantaneous output and input voltages. Rewriting Eq. (7.15) as\n\n$$\n\\frac{1}{a}=\\left[\\frac{d v_{O}}{d\\left(v_{I}-v_{F}\\right)}\\right]^{-1}=\\frac{d v_{I}-d\\left(b v_{O}\\right)}{d v_{O}}=\\frac{1}{A}-b\n$$\n\nand rearranging, we obtain the familiar result\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b}=A_{\\text {ideal }} \\times \\frac{1}{1+1 / L} \\tag{7.17}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$, and $L=a b$ is the well-known loop gain. This demonstrates that as long as the open-loop gain $a$ is sufficiently large to ensure a high loop gain $L$, the closed-loop gain $A$ will be close to $A_{\\text {ideal }}$, even though the gain $a$ decreases as we move away from the origin. Thus, negative feedback can significantly linearize the VTC of an amplifier!\n\nTo illustrate, consider the PSpice circuit in Fig. 7.5, where an error amplifier with the nonlinear VTC of Fig. 7.4a is placed within a negative-feedback loop with $b=R_{1} /\\left(R_{1}+R_{2}\\right)=1 / 4$. The linearizing effects of negative feedback are shown in Fig. 7.6. Compared to the open-loop VTC in Fig. 7.4a, the closed-loop VTC in Fig. 7.6a is much more linear, and the gain $A$ is near its ideal value of $1 / b$ $(=4 \\mathrm{~V} / \\mathrm{V}$ in this case) over a broader range of output voltages. As long as the circuit operates within this range, the output will be a faithful (magnified-by-four) replica of the input. This is demonstrated in Fig. 7.6 b (top) for a triangular input waveform with peak values of $\\pm 2 \\mathrm{~V}$, resulting in an output waveform with peak values of $\\pm 8 \\mathrm{~V}$. Even more insightful is the error signal $v_{E}$ shown in Fig. $7.6 b$ (bottom), which reveals the effort required of the error amplifier to achieve $v_{O}=4 v_{r}$. It is evident that to compensate for the decrease in its open-loop gain away from the origin, the amplifier appropriately pre-distorts its own error signal! Historically, the concept of negative feedback was developed by Harold Black primarily to reduce output distortion.\n\nEVALUE $10 *((\\exp (2 \\mathrm{E} 2 * \\mathrm{~V}(\\% \\mathrm{IN}+, \\% \\mathrm{IN}-))-1) /(\\exp (2 \\mathrm{E} 2 * \\mathrm{~V}(\\% \\mathrm{IN}+, \\% \\mathrm{IN}-))+1))$\nimage_name:FIGURE 7.5\ndescription:\n[\nname: VI, type: VoltageSource, value: VI, ports: {Np: VI, Nn: GND}\nname: R1, type: Resistor, value: 1.0 kΩ, ports: {N1: VF, N2: GND}\nname: R2, type: Resistor, value: 3.0 kΩ, ports: {N1: VF, N2: VO}\nname: RL, type: Resistor, value: 10 kΩ, ports: {N1: VO, N2: GND}\nname: EAMP, type: OpAmp, value: EAMP, ports: {InP: VE, InN: VF, OutP: VO, OutN: GND}\n]\nextrainfo:The circuit is a negative-feedback system using an error amplifier to control the output voltage. The feedback network consists of resistors R1 and R2, forming a voltage divider. The load resistor RL is connected from the output to ground. The op-amp EAMP has differential inputs and outputs. The input voltage VI is applied to the non-inverting terminal of the op-amp.\n\nFIGURE 7.5 PSpice circuit to display the waveforms of a negative-feedback system utilizing an error amplifier with the nonlinear VTC of Fig. 7.4a.\nimage_name:(a)\ndescription:The graph labeled (a) consists of two parts, illustrating the closed-loop voltage transfer characteristic (VTC) and the closed-loop gain for a negative-feedback system using an error amplifier.\n\n1. **Type of Graph and Function:**\n- The top part of the graph shows the voltage transfer characteristic (VTC) of the system, plotting output voltage \\( v_o \\) against input voltage \\( v_I \\).\n- The bottom part of the graph displays the closed-loop gain \\( A \\) as a function of the input voltage \\( v_I \\).\n\n2. **Axes Labels and Units:**\n- **Top Graph:**\n- **X-axis:** Input \\( v_I \\) in volts (V), ranging from -2 to 2 volts.\n- **Y-axis:** Output \\( v_o \\) in volts (V), ranging from -10 to 10 volts.\n- **Bottom Graph:**\n- **X-axis:** Input \\( v_I \\) in volts (V), ranging from -2 to 2 volts.\n- **Y-axis:** Closed-loop gain \\( A \\) in volts/volt (V/V), ranging from 0 to 4 V/V.\n\n3. **Overall Behavior and Trends:**\n- **Top Graph (VTC):**\n- The VTC is linear within the input range from -2 to 2 volts, indicating a proportional relationship between input and output voltages. The slope of the line represents the closed-loop gain.\n- **Bottom Graph (Closed-loop Gain):**\n- The gain \\( A \\) is relatively constant and high (around 4 V/V) over most of the input range but decreases sharply at the extreme ends of the input range (-2 and 2 volts), indicating saturation effects.\n\n4. **Key Features and Technical Details:**\n- **Top Graph:**\n- The linear region indicates a stable feedback system with consistent gain.\n- The slope of the VTC represents the gain, which aligns with the gain shown in the bottom graph.\n- **Bottom Graph:**\n- The gain \\( A \\) approaches its maximum value of 4 V/V in the linear region, indicating effective feedback control.\n- The sharp decrease in gain at the input extremes suggests the limits of the amplifier's linear operating range.\n\n5. **Annotations and Specific Data Points:**\n- The top graph includes an annotation \"VTC\" indicating the linear portion of the graph and \"A\" representing the slope.\n- The bottom graph includes an annotation \"A\" at the peak gain level, highlighting the closed-loop gain value.\nimage_name:(b)\ndescription:The graph labeled as \"(b)\" consists of two subplots illustrating the behavior of waveforms in a negative-feedback system involving an error amplifier.\n\n1. **Type of Graph and Function:**\n- The top subplot is a time-domain waveform graph showing the input and output voltages of the system.\n- The bottom subplot is also a time-domain waveform graph displaying the error voltage over time.\n\n2. **Axes Labels and Units:**\n- **Top Subplot:**\n- The x-axis is labeled \"Time t (ms)\" and represents time in milliseconds, ranging from 0 to 2 ms.\n- The y-axis is labeled \"Waveforms (V)\" and shows voltage in volts, with a range from -10 V to 10 V.\n- **Bottom Subplot:**\n- The x-axis is the same as the top subplot, \"Time t (ms)\", ranging from 0 to 2 ms.\n- The y-axis is labeled \"Error voltage v_E (mV)\" and displays voltage in millivolts, ranging from -10 mV to 10 mV.\n\n3. **Overall Behavior and Trends:**\n- **Top Subplot:**\n- The waveform for the input voltage \\(v_I\\) appears as a triangular wave, starting at -10 V, peaking at 10 V, and returning to -10 V, completing one cycle over 1 ms.\n- The output voltage \\(v_O\\) follows a similar triangular pattern but with a phase shift and possibly different amplitude, indicating the effect of the feedback system.\n- **Bottom Subplot:**\n- The error voltage \\(v_E\\) also shows a triangular waveform, synchronized with the input and output waveforms, but with a much smaller amplitude, peaking at about ±10 mV.\n\n4. **Key Features and Technical Details:**\n- The triangular waveforms indicate a periodic signal with a frequency of approximately 1 kHz (since one full cycle is completed in 1 ms).\n- The small amplitude of the error voltage \\(v_E\\) suggests effective feedback control, minimizing the error between input and output.\n\n5. **Annotations and Specific Data Points:**\n- The graph does not include specific numerical annotations or reference lines beyond the axes labels and units.\n- The symmetry and periodicity of the waveforms are key features, highlighting the system's response to the input signal and the feedback mechanism's role in reducing error.\n\nFIGURE 7.6 Illustrating the linearizing properties of negative feedback: (a) the closed-loop VTC (top) and its slope (bottom), representing the closed-loop gain $A$; (b) the input and output waveforms (top) and the error waveform (bottom)."
},
{
    "text": "Equation (7.3) indicates a linear proportionality relationship between output and input, with the proportionality constant being the open-loop gain $a$. A practical amplifier, such as an IC op amp, comprises transistors, which are inherently nonlinear devices. Additionally, the amplifier cannot exceed its power supply voltages. As a result, the voltage transfer curve (VTC) of a practical amplifier is not linear but a nonlinear curve, as shown in Fig. 7.4a (top). When operation is confined near the origin, the curve can be considered approximately linear, with the steepest slope, representing the gain $a$, at that point. However, as we move away from the origin, the slope gradually decreases until the VTC eventually flattens out or saturates, causing the gain $a$ to drop to zero. (In the example shown, $v_{O}$ saturates at $\\pm 10 \\mathrm{~V}$.) The open-loop gain is now more accurately defined as\n\n$$\n\\begin{equation*}\na=\\frac{d v_{O}}{d v_{E}} \\tag{7.15}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ is the instantaneous output voltage and $v_{E}$ is the instantaneous error voltage at the input. As depicted in Fig. 7.4a (bottom), the gain $a$ peaks at $1000 \\mathrm{~V} / \\mathrm{V}$ at the origin, decreasing as we move away from the origin, and ultimately drops to zero when the amplifier saturates.\n\nDue to its nonlinear VTC, a practical amplifier typically produces a distorted output. This is illustrated in Fig. 7.4b, where a triangular wave input (top) results in an output (bottom) that is a magnified but peak-compressed version of the input due to reduced gain. How do we handle such a nonlinear device in applications like high-fidelity audio or precision instrumentation, where distortion is unacceptable? As we will see, negative feedback provides a solution.\n\nWhen a nonlinear amplifier is incorporated into a negative-feedback loop, a closed-loop VTC is formed, with its slope representing the closed-loop gain $A$,\n\n$$\n\\begin{equation*}\nA=\\frac{d v_{O}}{d v_{I}} \\tag{7.16}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ and $v_{I}$ are the instantaneous output and input voltages. Rewriting Eq. (7.15) as\n\n$$\n\\frac{1}{a}=\\left[\\frac{d v_{O}}{d\\left(v_{I}-v_{F}\\right)}\\right]^{-1}=\\frac{d v_{I}-d\\left(b v_{O}\\right)}{d v_{O}}=\\frac{1}{A}-b\n$$\n\nand rearranging, we obtain the well-known result\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b}=A_{\\text {ideal }} \\times \\frac{1}{1+1 / L} \\tag{7.17}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$, and $L=a b$ is the familiar loop gain. This shows that if the open-loop gain $a$ is sufficiently large to ensure a high loop gain $L$, the closed-loop gain $A$ will be close to $A_{\\text {ideal }}$, even as the gain $a$ decreases away from the origin. Thus, negative feedback can significantly linearize the VTC of an amplifier.\n\nFor example, consider the PSpice circuit in Fig. 7.5, where an error amplifier with the nonlinear VTC of Fig. 7.4a is placed in a negative-feedback loop with $b=R_{1} /\\left(R_{1}+R_{2}\\right)=1 / 4$. The linearizing effect of negative feedback is demonstrated in Fig. 7.6. Compared to the open-loop VTC in Fig. 7.4a, the closed-loop VTC in Fig. 7.6a is much more linear, and the gain $A$ is near its ideal value of $1 / b$ $(=4 \\mathrm{~V} / \\mathrm{V}$ in this case) over a broader range of output voltages. As long as operation remains within this range, the output will be a faithful, magnified-by-four replica of the input. This is shown in Fig. 7.6b (top) for a triangular input waveform with peak values of $\\pm 2 \\mathrm{~V}$, resulting in an output waveform with peak values of $\\pm 8 \\mathrm{~V}$. The error signal $v_{E}$ in Fig. 7.6b (bottom) reveals the effort required by the error amplifier to achieve $v_{O}=4 v_{r}$. It is evident that the amplifier pre-distorts its error signal to compensate for the decrease in open-loop gain away from the origin. Historically, Harold Black invented negative feedback primarily to reduce output distortion."
},
{
    "text": "Equation (7.3) establishes a linear proportionality between output and input, with the proportionality constant being the open-loop gain \\(a\\). A practical amplifier, such as an IC op amp, comprises transistors, which are inherently nonlinear devices. Additionally, the amplifier's output cannot exceed its power supply voltages. As a result, the voltage transfer curve (VTC) of a practical amplifier is not linear but a nonlinear curve, as depicted in Fig. 7.4a (top). When operation is confined near the origin, the curve can be considered approximately linear, with the steepest slope, representing the gain \\(a\\), at that point. However, as we move away from the origin, the slope gradually decreases until the VTC eventually flattens out or saturates, causing the gain \\(a\\) to drop to zero. (In the example shown, \\(v_{O}\\) saturates at \\(\\pm 10 \\mathrm{~V}\\).) The open-loop gain is now more accurately defined as\n\n$$\n\\begin{equation*}\na=\\frac{d v_{O}}{d v_{E}} \\tag{7.15}\n\\end{equation*}\n$$\n\nwhere \\(v_{O}\\) is the instantaneous output voltage and \\(v_{E}\\) is the instantaneous input error voltage. As illustrated in Fig. 7.4a (bottom), the gain \\(a\\) peaks at \\(1000 \\mathrm{~V} / \\mathrm{V}\\) at the origin, decreases as we move away from the origin, and ultimately drops to zero when the amplifier saturates.\n\nDue to its nonlinear VTC, a practical amplifier typically produces a distorted output. This is shown in Fig. 7.4b for a triangular input wave (top). The output (bottom) appears as a magnified version of the input but with significantly compressed peaks due to reduced gain. In demanding applications like high-fidelity audio or precision instrumentation, where distortion is unacceptable, what can be done with such a nonlinear device? As we will see, negative feedback provides a solution.\n\nWhen a nonlinear amplifier is incorporated into a negative-feedback loop, a closed-loop VTC is formed, with its slope representing the closed-loop gain \\(A\\),\n\n$$\n\\begin{equation*}\nA=\\frac{d v_{O}}{d v_{I}} \\tag{7.16}\n\\end{equation*}\n$$\n\nwhere \\(v_{O}\\) and \\(v_{I}\\) are the instantaneous output and input voltages. By rewriting Eq. (7.15) as\n\n$$\n\\frac{1}{a}=\\left[\\frac{d v_{O}}{d\\left(v_{I}-v_{F}\\right)}\\right]^{-1}=\\frac{d v_{I}-d\\left(b v_{O}\\right)}{d v_{O}}=\\frac{1}{A}-b\n$$\n\nand rearranging, we derive the well-known result\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b}=A_{\\text {ideal }} \\times \\frac{1}{1+1 / L} \\tag{7.17}\n\\end{equation*}\n$$\n\nwhere \\(A_{\\text {ideal }}=1 / b\\), and \\(L=a b\\) is the familiar loop gain. This indicates that if the open-loop gain \\(a\\) is sufficiently large to ensure a high loop gain \\(L\\), the closed-loop gain \\(A\\) will closely approximate \\(A_{\\text {ideal }}\\), even as \\(a\\) decreases away from the origin. Thus, negative feedback can significantly linearize the VTC of an amplifier.\n\nTo illustrate, consider the PSpice circuit in Fig. 7.5, where an error amplifier with the nonlinear VTC of Fig. 7.4a is placed in a negative-feedback loop with \\(b=R_{1} /\\left(R_{1}+R_{2}\\right)=1 / 4\\). The linearizing effects of negative feedback are demonstrated in Fig. 7.6. Compared to the open-loop VTC in Fig. 7.4a, the closed-loop VTC in Fig. 7.6a is much more linear, and the gain \\(A\\) is close to its ideal value of \\(1 / b\\) (\\(=4 \\mathrm{~V} / \\mathrm{V}\\) in this example) over a broader range of output voltages. As long as operation is restricted within this range, the output will be a faithful, magnified-by-four replica of the input. This is shown in Fig. 7.6b (top) for a triangular input waveform with peak values of \\(\\pm 2 \\mathrm{~V}\\), resulting in an output waveform with peak values of \\(\\pm 8 \\mathrm{~V}\\). Even more revealing is the error signal \\(v_{E}\\) displayed in Fig. 7.6b (bottom), which illustrates the effort required by the error amplifier to achieve \\(v_{O}=4 v_{r}\\). It is evident that to compensate for the decline in its open-loop gain away from the origin, the amplifier pre-distorts its own error signal. Historically, Harold Black introduced negative feedback primarily to reduce output distortion.\n\nEVALUE \\(10 *((\\exp (2 \\mathrm{E} 2 * \\mathrm{~V}(\\% \\mathrm{IN}+, \\% \\mathrm{IN}-))-1) /(\\exp (2 \\mathrm{E} 2 * \\mathrm{~V}(\\% \\mathrm{IN}+, \\% \\mathrm{IN}-))+1))\\)\n\nFIGURE 7.5 PSpice circuit illustrating the waveforms of a negative-feedback system using an error amplifier with the nonlinear VTC of Fig. 7.4a.\n\nFIGURE 7.6 Demonstrating the linearizing effects of negative feedback: (a) the closed-loop VTC (top) and its slope (bottom), representing the closed-loop gain \\(A\\); (b) the input and output waveforms (top) and the error waveform (bottom)."
},
{
    "text": "Equation (7.3) indicates a linear proportionality between output and input, with the proportionality constant being the open-loop gain $a$. A practical amplifier, such as an IC op amp, comprises transistors, which are inherently nonlinear devices. Additionally, the amplifier's output cannot exceed its power supply voltages. Consequently, the voltage transfer curve (VTC) of a practical amplifier is not linear but a nonlinear curve, as depicted in Fig. 7.4a (top). When operation is confined near the origin, the curve can be approximated as linear, with the steepest slope, representing the gain $a$, at that point. However, as we move away from the origin, the slope gradually decreases until the VTC eventually flattens out or saturates, causing the gain $a$ to drop to zero. (In the example shown, $v_{O}$ saturates at $\\pm 10 \\mathrm{~V}$.) The open-loop gain is now more accurately defined as\n\n$$\n\\begin{equation*}\na=\\frac{d v_{O}}{d v_{E}} \\tag{7.15}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ is the instantaneous output voltage and $v_{E}$ is the instantaneous error voltage at the input. As illustrated in Fig. 7.4a (bottom), the gain $a$ peaks at $1000 \\mathrm{~V} / \\mathrm{V}$ at the origin, decreases as we move away from the origin, and ultimately drops to zero when the amplifier saturates.\n\nDue to its nonlinear VTC, a practical amplifier typically produces a distorted output. This is shown in Fig. 7.4b for a triangular input wave (top). The output (bottom) appears as a magnified version of the input but with significantly reduced peaks due to the decreased gain. How can we use such a nonlinear device in applications like high-fidelity audio or precision instrumentation, where distortion is unacceptable? As we will see, negative feedback offers a solution.\n\nWhen a nonlinear amplifier is incorporated into a negative-feedback loop, a closed-loop VTC is formed, with its slope representing the closed-loop gain $A$,\n\n$$\n\\begin{equation*}\nA=\\frac{d v_{O}}{d v_{I}} \\tag{7.16}\n\\end{equation*}\n$$\n\nwhere $v_{O}$ and $v_{I}$ are the instantaneous output and input voltages. Rewriting Eq. (7.15) as\n\n$$\n\\frac{1}{a}=\\left[\\frac{d v_{O}}{d\\left(v_{I}-v_{F}\\right)}\\right]^{-1}=\\frac{d v_{I}-d\\left(b v_{O}\\right)}{d v_{O}}=\\frac{1}{A}-b\n$$\n\nand rearranging, we derive the familiar result\n\n$$\n\\begin{equation*}\nA=\\frac{a}{1+a b}=A_{\\text {ideal }} \\times \\frac{1}{1+1 / L} \\tag{7.17}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$, and $L=a b$ is the loop gain. This shows that if the open-loop gain $a$ is sufficiently large to ensure a high loop gain $L$, the closed-loop gain $A$ will be close to $A_{\\text {ideal }}$, even as the gain $a$ decreases away from the origin. Thus, negative feedback can significantly linearize the VTC of an amplifier.\n\nTo illustrate, consider the PSpice circuit in Fig. 7.5, where an error amplifier with the nonlinear VTC of Fig. 7.4a is placed in a negative-feedback loop with $b=R_{1} /\\left(R_{1}+R_{2}\\right)=1 / 4$. The linearizing effects of negative feedback are demonstrated in Fig. 7.6. Compared to the open-loop VTC in Fig. 7.4a, the closed-loop VTC in Fig. 7.6a is much more linear, and the gain $A$ is near its ideal value of $1 / b$ $(=4 \\mathrm{~V} / \\mathrm{V}$ in this case) over a broader range of output voltages. As long as operation is restricted within this range, the output will be a faithful, magnified-by-four replica of the input. This is shown in Fig. 7.6b (top) for a triangular input waveform with peak values of $\\pm 2 \\mathrm{~V}$, resulting in an output waveform with peak values of $\\pm 8 \\mathrm{~V}$. The error signal $v_{E}$ in Fig. 7.6b (bottom) reveals the effort required by the error amplifier to achieve $v_{O}=4 v_{r}$. It is evident that to compensate for the reduced open-loop gain away from the origin, the amplifier pre-distorts its error signal. Historically, Harold Black invented negative feedback primarily to reduce output distortion."
},
{
    "text": "Our current objective is to examine the impact of negative feedback on disturbances, which we will hereafter refer to as noise. This noise can infiltrate the amplifier at various points: the input node $\\left(v_{n 1}\\right)$, an intermediate node $\\left(v_{n 2}\\right)$, or the output node $\\left(v_{n 3}\\right)$. As shown in Fig. 7.7, we utilize summers to simulate the insertion points of the different noise elements. Additionally, to model the introduction of intermediate noise, we divide the amplifier into two stages, each with its own gain $a_{1}$ and $a_{2}$, respectively (obviously, the total gain is $a=a_{1} \\times a_{2}$). Starting from the right and moving leftwards, we express the following:\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nimage_name:Figure 7.7\ndescription:Figure 7.7, a system block diagram, depicts a model for analyzing the impact of negative feedback on voltage noise. The diagram presents several key components arranged sequentially to demonstrate the introduction and amplification of various noise components within a feedback loop.\n\n1. **Main Components:**\n- **Summers (Σ):** There are three summers in the diagram. These are used to simulate the entry points of noise components. Each summer adds its respective noise voltage to the signal.\n- **Amplifiers (a₁ and a₂):** The system includes two amplifiers, each with gains labeled as \\(a₁\\) and \\(a₂\\). These are used to amplify the input signal and the noise components.\n- **Feedback Amplifier (b):** A feedback path is present with a gain labeled as \\(b\\), which is used to provide negative feedback to the system.\n\n2. **Flow of Information or Control:**\n- The input voltage \\(v_i\\) enters the first summer, where it is combined with a noise component \\(v_{n1}\\) and a feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- The output of the first summer is then amplified by the first amplifier with gain \\(a₁\\).\n- The amplified signal is fed into the second summer, where another noise component \\(v_{n2}\\) is added.\n- This combined signal is then amplified by the second amplifier with gain \\(a₂\\).\n- The output of the second amplifier is fed into the third summer, where the final noise component \\(v_{n3}\\) is added.\n- The final output voltage \\(v_o\\) is taken from the output of the third summer.\n- The feedback loop is completed by feeding \\(v_o\\) back through the feedback amplifier with gain \\(b\\), producing \\(v_f\\), which is subtracted at the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is labeled with a plus sign to indicate the addition of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The gains of the amplifiers are labeled as \\(a₁\\) and \\(a₂\\), with the feedback gain labeled as \\(b\\).\n\n4. **Overall System Function:**\n- The primary function of this system is to model the impact of negative feedback on voltage noise in an amplifier circuit. The arrangement of summers and amplifiers demonstrates how noise is introduced at various stages and how feedback influences the overall output. The closed-loop gain of the system is determined by the product of the individual gains and the feedback factor, effectively amplifying the input signal and the noise terms while stabilizing the system through negative feedback.\n\nFIGURE 7.7 Model to analyze the impact of negative feedback upon voltage noise.\nwhere we have used $v_{f}=b v_{o}$. Collecting, letting $a=a_{1} \\times a_{2}$, and solving for $v_{o}$, we obtain, after minor algebra,\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere $A$ is the closed-loop gain of Eq. (7.17). We observe that a negative-feedback circuit amplifies all three noise terms with the same gain $A$ as the useful signal $v_{i}$. However, while $v_{n 1}$ remains unchanged, $v_{n 2}$ is divided by $a_{1}$, and $v_{n 3}$ is divided by $a_{1} \\times a_{2}$. We summarize this by stating that in a negative-feedback circuit, a noise component, reflected to the input, gets divided by the gain(s) of the stage(s) preceding it. This property is often utilized to mitigate the effect of a specific noise source, such as hum creeping into the power stage of an audio system. If we precede this stage by an additional amplifier with suitably high gain, and we close a negative-feedback loop around the composite circuit, we can make the hum component, reflected to the input, as small as desired compared to the audio signal $v_{i}$, thus raising the signal-to-noise ratio to an acceptable level.\n\nAs a striking illustration of the corrective properties of negative feedback on noise, consider the scenario depicted in Fig. 7.8a, where a source $v_{I}$ is buffered to a load $R_{L}$ via the Class AB push-pull stage $Q_{1}-Q_{2}$. Ideally, the buffer should yield\n\n$$\nv_{O(\\text { ideal })}=v_{I}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Q1, type: NPN, ports: {C: VCC, B: VI, E: VO}\nname: Q2, type: PNP, ports: {C: VEE, B: VI, E: VO}\nname: V1, type: VoltageSource, value: V1, ports: {Np: VI, Nn: GND}\nname: RL, type: Resistor, value: 1kΩ, ports: {N1: VO, N2: GND}\n]\nextrainfo:The circuit is a Class AB push-pull amplifier with a voltage source V1 driving a load resistor RL through transistors Q1 (NPN) and Q2 (PNP). The power supply voltages are VCC (+5V) and VEE (-5V).\n\n(a)\nimage_name:(b) Input and output waveforms\ndescription:The graph consists of two parts: the top graph shows the input and output waveforms, and the bottom graph illustrates the output noise.\n\n**Top Graph: Input and Output Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The input waveform is a sinusoidal wave with peaks at approximately ±2 V.\n- The output waveform \\( v_O \\) follows the input waveform but shows a noticeable distortion around the zero-crossing points due to the dead zone created by the 0.7 V threshold required to turn on the BJTs.\n- The ideal output \\( v_{O(ideal)} \\) is also plotted, showing a perfect sinusoidal shape without distortion.\n- **Key Features and Technical Details:**\n- The output waveform \\( v_O \\) deviates from the ideal waveform within the range of -0.7 V to 0.7 V, where the output remains at zero, illustrating the dead zone effect.\n- Outside this range, the output approximately matches the input but offset by ±0.7 V, as described in the context.\n\n**Bottom Graph: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_N \\) in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The output noise \\( v_N \\) shows a rectangular waveform pattern, with distinct flat regions at approximately ±0.7 V.\n- **Key Features and Technical Details:**\n- The noise waveform indicates the difference between the actual output and the ideal output, highlighting the distortion primarily around the zero-crossing points.\n- The noise levels are consistent with the dead zone effect, maintaining a flat level during these periods and returning to zero when the input signal is sufficient to overcome the transistor threshold voltage.\nimage_name:Output noise\ndescription:The graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nTop Section: Input and Output Waveforms\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage (V), ranging from -2 V to 2 V.\n\n- **Overall Behavior and Trends:**\n- The plot illustrates two waveforms: the ideal output voltage \\( v_{O(ideal)} \\) and the actual output voltage \\( v_{O} \\).\n- Both waveforms are sinusoidal with a period of approximately 1 ms, indicating a frequency of about 1 kHz.\n- The ideal waveform \\( v_{O(ideal)} \\) is smooth and continuous, while the actual output \\( v_{O} \\) shows distortion, particularly around zero crossings.\n\n- **Key Features and Technical Details:**\n- The actual output waveform \\( v_{O} \\) deviates from the ideal waveform \\( v_{O(ideal)} \\) due to the 0.7 V threshold required to turn on the BJTs, resulting in a dead zone around zero crossings.\n- The output voltage \\( v_{O} \\) is approximately zero for input voltages between -0.7 V and 0.7 V, leading to visible clipping in this range.\n\nBottom Section: Output Noise\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_{N} \\) in volts (V), ranging from -2 V to 2 V.\n\n- **Overall Behavior and Trends:**\n- The noise waveform \\( v_{N} \\) is a stepped waveform with distinct levels, reflecting the difference between the actual and ideal output voltages.\n- The waveform is periodic with a period of approximately 1 ms, matching the frequency of the input and output waveforms.\n\n- **Key Features and Technical Details:**\n- The noise voltage \\( v_{N} \\) peaks at approximately ±0.7 V, corresponding to the voltage drop across the BJTs when they turn on.\n- The noise waveform highlights the distortion introduced by the dead zone, with distinct flat sections around the zero crossings where the BJTs are not conducting.\n\nThis analysis provides a comprehensive understanding of the output noise characteristics in the context of a Class AB push-pull amplifier circuit, illustrating the effects of transistor turn-on thresholds on the output waveform.\n\n(b)\n\nFIGURE 7.8 (a) PSpice circuit simulating a source $v_{\\text {, }}$ driving a load $R_{L}$ via a push-pull stage $Q_{1}-Q_{2}$. (b) Input and output waveforms (top), and output noise $v_{N}=v_{0}-v_{\\text {O(idea) }}$ (bottom).\n\nHowever, since it takes about 0.7 V for each BJT to turn on, the circuit yields $v_{O}=0$ for $-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}, v_{O} \\cong v_{I}-0.7 \\mathrm{~V}$ for $v_{I}>0.7 \\mathrm{~V}$, and $v_{O} \\cong v_{I}+0.7 \\mathrm{~V}$ for $v_{I}$ $<0.7 \\mathrm{~V}$. The waveforms, shown in Fig. $7.8 b$ (top), reveal a much distorted output. In fact, things go as if the non-linearity of the push-pull stage resulted in the injection of the voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\ndepicted in Fig. 7.8b (bottom). We can reduce $v_{N}$ by preceding the buffer by a suitable error amplifier and then closing a negative-feedback loop around the composite circuit. The example depicted in Fig. 7.9a uses an amplifier with gain of only $a=$ $10 \\mathrm{~V} / \\mathrm{V}$, and a plain wire as the feedback network to yield $b=1 \\mathrm{~V} / \\mathrm{V}$. The ensuing reduction in distortion can be appreciated by comparing the waveforms of Fig. 7.9b (top and middle) with their counterparts of Fig. $7.8 b$ (top and bottom). One can readily see that the insertion of the amplifier makes the 0.7 -voltage drops appear as if they were reduced to about $(0.7 \\mathrm{~V}) / a$, or 0.07 V in our example.\nimage_name:(a)\ndescription:\n[\nname: V_I, type: VoltageSource, value: V_I, ports: {Np: V_I, Nn: GND}\nname: U1, type: OpAmp, value: 10 V/V, ports: {InP: V_I, InN: V_F, OutP: V_OA, OutN: GND}\nname: Q1, type: NPN, ports: {C: V_CC, B: V_OA, E: V_O}\nname: Q2, type: PNP, ports: {C: V_EE, B: V_OA, E: V_O}\nname: R_L, type: Resistor, value: 1 kΩ, ports: {N1: V_O, N2: GND}\n]\nextrainfo:The circuit employs an op-amp with a gain of 10 V/V in a negative-feedback configuration to drive a push-pull stage consisting of NPN and PNP transistors. This setup is used to reduce output distortion by minimizing voltage drops across the transistors.\n\n(a)\nimage_name:I/O waveforms\ndescription:The function graph consists of three subplots, each illustrating different aspects of the circuit's performance over time. The horizontal axis in all graphs is labeled as time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n\n1. **Top Subplot: I/O Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows two waveforms: the actual output voltage \\( v_O \\) and the ideal output voltage \\( v_{O(ideal)} \\). Both waveforms are sinusoidal with a peak-to-peak amplitude of approximately 4 V, oscillating between -2 V and 2 V.\n- **Key Features and Technical Details:** The actual output \\( v_O \\) closely follows the ideal output \\( v_{O(ideal)} \\), with minor deviations indicating slight distortion.\n\n2. **Middle Subplot: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows the output noise \\( v_N \\), which is the difference between the actual output and the ideal output. The waveform has a smaller amplitude compared to the I/O waveforms, indicating minor noise or distortion.\n- **Key Features and Technical Details:** The noise appears periodic and correlates with the peaks and troughs of the input waveform.\n\n3. **Bottom Subplot: Amplifier Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** This plot shows the amplifier output voltage \\( v_{OA} \\) and the actual output voltage \\( v_O \\). The amplifier output \\( v_{OA} \\) has a higher amplitude and shows more pronounced peaks and troughs compared to \\( v_O \\).\n- **Key Features and Technical Details:** The amplifier output waveform \\( v_{OA} \\) is more exaggerated, indicating the amplifier's role in driving the push-pull stage and compensating for distortion.\nimage_name:Output noise\ndescription:The graph titled 'Output noise' is part of a set of three time-domain waveform graphs. Each graph is plotted over a time period ranging from 0 to 2 milliseconds (ms) on the x-axis. The y-axis of each graph represents voltage in volts (V), with a range from -2.0 V to 2.0 V.\n\n1. **Top Graph (I/O Waveforms):**\n- This graph compares the actual output voltage $v_O$ with the ideal output voltage $v_{O(ideal)}$. The ideal waveform is depicted as a smooth sine wave oscillating between 2.0 V and -2.0 V, suggesting a perfect sinusoidal input. The actual output waveform $v_O$ closely follows the ideal but shows slight deviations, indicating minor distortions.\n\n2. **Middle Graph (Output Noise):**\n- This graph shows the output noise $v_N$, defined as the difference between the actual output voltage $v_O$ and the ideal output voltage $v_{O(ideal)}$. The waveform oscillates around 0 V, with small amplitude variations indicating the presence of noise or distortion. The noise peaks are relatively small, staying well within ±0.5 V, showing that the distortion is minimal.\n\n3. **Bottom Graph (Amplifier Waveforms):**\n- This graph displays the amplifier output waveform $v_{OA}$ compared to the actual output $v_O$. The amplifier output $v_{OA}$ shows a more pronounced deviation from the sinusoidal shape, particularly at the peaks and troughs, indicating the amplifier's role in compensating for the distortion and maintaining the output close to the ideal.\n\n**Overall Trends and Key Features:**\n- The waveforms indicate a sinusoidal signal being processed by the amplifier circuit.\n- The top plot"
},
{
    "text": "We aim to explore how negative feedback influences disturbances, which we will refer to as noise. This noise can infiltrate the amplifier at the input node $\\left(v_{n 1}\\right)$, an intermediate node $\\left(v_{n 2}\\right)$, or the output node $\\left(v_{n 3}\\right)$. As shown in Fig. 7.7, we utilize summers to simulate the entry points of various noise components. To model the introduction of intermediate noise, we divide the amplifier into two stages with respective gains $a_{1}$ and $a_{2}$ (with the total gain being $a=a_{1} \\times a_{2}$). Starting from the right and moving leftward, we write\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nimage_name:Figure 7.7\ndescription:Figure 7.7 is a system block diagram that illustrates a model for studying the impact of negative feedback on voltage noise. The diagram features several key components arranged sequentially to demonstrate how different noise components are introduced and amplified within a feedback loop.\n\n1. **Main Components:**\n- **Summers (Σ):** There are three summers in the diagram. These are used to simulate the entry points of noise components. Each summer adds its respective noise voltage to the signal.\n- **Amplifiers (a₁ and a₂):** The system includes two amplifiers, each with gains labeled as \\(a₁\\) and \\(a₂\\). These are used to amplify the input signal and the noise components.\n- **Feedback Amplifier (b):** A feedback path is present with a gain labeled as \\(b\\), which is used to provide negative feedback to the system.\n\n2. **Flow of Information or Control:**\n- The input voltage \\(v_i\\) enters the first summer, where it is combined with a noise component \\(v_{n1}\\) and a feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- The output of the first summer is then amplified by the first amplifier with gain \\(a₁\\).\n- The amplified signal is fed into the second summer, where another noise component \\(v_{n2}\\) is added.\n- This combined signal is then amplified by the second amplifier with gain \\(a₂\\).\n- The output of the second amplifier is fed into the third summer, where the final noise component \\(v_{n3}\\) is added.\n- The final output voltage \\(v_o\\) is taken from the output of the third summer.\n- The feedback loop is completed by feeding \\(v_o\\) back through the feedback amplifier with gain \\(b\\), producing \\(v_f\\), which is subtracted at the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is labeled with a plus sign to indicate the addition of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The gains of the amplifiers are labeled as \\(a₁\\) and \\(a₂\\), with the feedback gain labeled as \\(b\\).\n\n4. **Overall System Function:**\n- The primary function of this system is to model the impact of negative feedback on voltage noise in an amplifier circuit. The arrangement of summers and amplifiers demonstrates how noise is introduced at various stages and how feedback influences the overall output. The closed-loop gain of the system is determined by the product of the individual gains and the feedback factor, effectively amplifying the input signal and the noise terms while stabilizing the system through negative feedback.\n\nFIGURE 7.7 Model to investigate the impact of negative feedback upon voltage noise.\nwhere we have used $v_{f}=b v_{o}$. Collecting, letting $a=a_{1} \\times a_{2}$, and solving for $v_{o}$, we get, after minor algebra,\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere $A$ is the closed-loop gain of Eq. (7.17). We observe that a negative-feedback circuit amplifies all three noise terms with the same gain $A$ as the useful signal $v_{i}$. However, while $v_{n 1}$ is unchanged, $v_{n 2}$ is divided by $a_{1}$, and $v_{n 3}$ is divided by $a_{1} \\times a_{2}$. We summarize this by saying that in a negative-feedback circuit a noise component, reflected to the input, gets divided by the gain(s) of the stage(s) preceding it. This property is often exploited to reduce the effect of a given noise source, such as hum creeping into the power stage of an audio system. If we precede this stage by an additional amplifier with suitably high gain, and we close a negative-feedback loop around the composite circuit, we can make the hum component, reflected to the input, as small as desired compared to the audio signal $v_{i}$, thus raising the signal-tonoise ratio to an acceptable level.\n\nAs a dramatic demonstration of the curative properties of negative feedback upon noise, consider the situation of Fig. 7.8a, where a source $v_{I}$ is buffered to a load $R_{L}$ via the Class AB push-pull stage $Q_{1}-Q_{2}$. Ideally, the buffer should give\n\n$$\nv_{O(\\text { deal })}=v_{I}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Q1, type: NPN, ports: {C: VCC, B: VI, E: VO}\nname: Q2, type: PNP, ports: {C: VEE, B: VI, E: VO}\nname: V1, type: VoltageSource, value: V1, ports: {Np: VI, Nn: GND}\nname: RL, type: Resistor, value: 1kΩ, ports: {N1: VO, N2: GND}\n]\nextrainfo:The circuit is a Class AB push-pull amplifier with a voltage source V1 driving a load resistor RL through transistors Q1 (NPN) and Q2 (PNP). The power supply voltages are VCC (+5V) and VEE (-5V).\n\n(a)\nimage_name:(b) Input and output waveforms\ndescription:The graph consists of two parts: the top graph shows the input and output waveforms, and the bottom graph illustrates the output noise.\n\n**Top Graph: Input and Output Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The input waveform is a sinusoidal wave with peaks at approximately ±2 V.\n- The output waveform \\( v_O \\) follows the input waveform but shows a noticeable distortion around the zero-crossing points due to the dead zone created by the 0.7 V threshold required to turn on the BJTs.\n- The ideal output \\( v_{O(ideal)} \\) is also plotted, showing a perfect sinusoidal shape without distortion.\n- **Key Features and Technical Details:**\n- The output waveform \\( v_O \\) deviates from the ideal waveform within the range of -0.7 V to 0.7 V, where the output remains at zero, illustrating the dead zone effect.\n- Outside this range, the output approximately matches the input but offset by ±0.7 V, as described in the context.\n\n**Bottom Graph: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_N \\) in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The output noise \\( v_N \\) shows a rectangular waveform pattern, with distinct flat regions at approximately ±0.7 V.\n- **Key Features and Technical Details:**\n- The noise waveform indicates the difference between the actual output and the ideal output, highlighting the distortion primarily around the zero-crossing points.\n- The noise levels are consistent with the dead zone effect, maintaining a flat level during these periods and returning to zero when the input signal is sufficient to overcome the transistor threshold voltage.\nimage_name:Output noise\ndescription:The graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nTop Section: Input and Output Waveforms\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage (V), ranging from -2 V to 2 V.\n\n- **Overall Behavior and Trends:**\n- The plot illustrates two waveforms: the ideal output voltage \\( v_{O(ideal)} \\) and the actual output voltage \\( v_{O} \\).\n- Both waveforms are sinusoidal with a period of approximately 1 ms, indicating a frequency of about 1 kHz.\n- The ideal waveform \\( v_{O(ideal)} \\) is smooth and continuous, while the actual output \\( v_{O} \\) shows distortion, particularly around zero crossings.\n\n- **Key Features and Technical Details:**\n- The actual output waveform \\( v_{O} \\) deviates from the ideal waveform \\( v_{O(ideal)} \\) due to the 0.7 V threshold required to turn on the BJTs, resulting in a dead zone around zero crossings.\n- The output voltage \\( v_{O} \\) is approximately zero for input voltages between -0.7 V and 0.7 V, leading to visible clipping in this range.\n\nBottom Section: Output Noise\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_{N} \\) in volts (V), ranging from -2 V to 2 V.\n\n- **Overall Behavior and Trends:**\n- The noise waveform \\( v_{N} \\) is a stepped waveform with distinct levels, reflecting the difference between the actual and ideal output voltages.\n- The waveform is periodic with a period of approximately 1 ms, matching the frequency of the input and output waveforms.\n\n- **Key Features and Technical Details:**\n- The noise voltage \\( v_{N} \\) peaks at approximately ±0.7 V, corresponding to the voltage drop across the BJTs when they turn on.\n- The noise waveform highlights the distortion introduced by the dead zone, with distinct flat sections around the zero crossings where the BJTs are not conducting.\n\nThis analysis provides a comprehensive understanding of the output noise characteristics in the context of a Class AB push-pull amplifier circuit, illustrating the effects of transistor turn-on thresholds on the output waveform.\n\n(b)\n\nFIGURE 7.8 (a) PSpice circuit simulating a source $v_{\\text {, }}$ driving a load $R_{L}$ via a push-pull stage $Q_{1}-Q_{2}$. (b) Input and output waveforms (top), and output noise $v_{N}=v_{0}-v_{\\text {O(idea) }}$ (bottom).\n\nHowever, since it takes about 0.7 V for each BJT to turn on, the circuit gives $v_{O}=0$ for $-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}, v_{O} \\cong v_{I}-0.7 \\mathrm{~V}$ for $v_{I}>0.7 \\mathrm{~V}$, and $v_{O} \\cong v_{I}+0.7 \\mathrm{~V}$ for $v_{I}$ $<0.7 \\mathrm{~V}$. The waveforms, shown in Fig. $7.8 b$ (top), reveal a much distorted output. In fact, things go as if the non-linearity of the push-pull stage resulted in the injection of the voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\ndepicted in Fig. 7.8b (bottom). We can reduce $v_{N}$ by preceding the buffer by a suitable error amplifier and then closing a negative-feedback loop around the composite circuit. The example depicted in Fig. 7.9a uses an amplifier with gain of only $a=$ $10 \\mathrm{~V} / \\mathrm{V}$, and a plain wire as the feedback network to yield $b=1 \\mathrm{~V} / \\mathrm{V}$. The ensuing reduction in distortion can be appreciated by comparing the waveforms of Fig. 7.9b (top and middle) with their counterparts of Fig. $7.8 b$ (top and bottom). One can readily see that the insertion of the amplifier makes the 0.7 -voltage drops appear as if they were reduced to about $(0.7 \\mathrm{~V}) / a$, or 0.07 V in our example.\nimage_name:(a)\ndescription:\n[\nname: V_I, type: VoltageSource, value: V_I, ports: {Np: V_I, Nn: GND}\nname: U1, type: OpAmp, value: 10 V/V, ports: {InP: V_I, InN: V_F, OutP: V_OA, OutN: GND}\nname: Q1, type: NPN, ports: {C: V_CC, B: V_OA, E: V_O}\nname: Q2, type: PNP, ports: {C: V_EE, B: V_OA, E: V_O}\nname: R_L, type: Resistor, value: 1 kΩ, ports: {N1: V_O, N2: GND}\n]\nextrainfo:The circuit employs an op-amp with a gain of 10 V/V in a negative-feedback configuration to drive a push-pull stage consisting of NPN and PNP transistors. This setup is used to reduce output distortion by minimizing voltage drops across the transistors.\n\n(a)\nimage_name:I/O waveforms\ndescription:The function graph consists of three subplots, each illustrating different aspects of the circuit's performance over time. The horizontal axis in all graphs is labeled as time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n\n1. **Top Subplot: I/O Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows two waveforms: the actual output voltage \\( v_O \\) and the ideal output voltage \\( v_{O(ideal)} \\). Both waveforms are sinusoidal with a peak-to-peak amplitude of approximately 4 V, oscillating between -2 V and 2 V.\n- **Key Features and Technical Details:** The actual output \\( v_O \\) closely follows the ideal output \\( v_{O(ideal)} \\), with minor deviations indicating slight distortion.\n\n2. **Middle Subplot: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows the output noise \\( v_N \\), which is the difference between the actual output and the ideal output. The waveform has a smaller amplitude compared to the I/O waveforms, indicating minor noise or distortion.\n- **Key Features and Technical Details:** The noise appears periodic and correlates with the peaks and troughs of the input waveform.\n\n3. **Bottom Subplot: Amplifier Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** This plot shows the amplifier output voltage \\( v_{OA} \\) and the actual output voltage \\( v_O \\). The amplifier output \\( v_{OA} \\) has a higher amplitude and shows more pronounced peaks and troughs compared to \\( v_O \\).\n- **Key Features and Technical Details:** The amplifier output waveform \\( v_{OA} \\) is more exaggerated, indicating the amplifier's role in driving the push-pull stage and compensating for distortion.\nimage_name:Output noise\ndescription:The graph titled 'Output noise' is part of a set of three time-domain waveform graphs. Each graph is plotted over a time period ranging from 0 to 2 milliseconds (ms) on the x-axis. The y-axis of each graph represents voltage in volts (V), with a range from -2.0 V to 2.0 V.\n\n1. **Top Graph (I/O Waveforms):**\n- This graph compares the actual output voltage $v_O$ with the ideal output voltage $v_{O(ideal)}$. The ideal waveform is depicted as a smooth sine wave oscillating between 2.0 V and -2.0 V, suggesting a perfect sinusoidal input. The actual output waveform $v_O$ closely follows the ideal but shows slight deviations, indicating minor distortions.\n\n2. **Middle Graph (Output Noise):**\n- This graph shows the output noise $v_N$, defined as the difference between the actual output voltage $v_O$ and the ideal output voltage $v_{O(ideal)}$. The waveform oscillates around 0 V, with small amplitude variations indicating the presence of noise or distortion. The noise peaks are relatively small, staying well within ±0.5 V, showing that the distortion is minimal.\n\n3. **Bottom Graph (Amplifier Waveforms):**\n- This graph displays the amplifier output waveform $v_{OA}$ compared to the actual output $v_O$. The amplifier output $v_{OA}$ shows a more pronounced deviation from the sinusoidal shape, particularly at the peaks and troughs, indicating the amplifier's role in compensating for the distortion and maintaining the output close to the ideal.\n\n**Overall Trends and Key Features:**\n- The waveforms indicate a sinusoidal signal being processed by the amplifier circuit.\n- The top plot highlights the slight distortion between the ideal and actual outputs, addressed in the feedback loop.\n- The middle plot quantifies the"
},
{
    "text": "The provided text has been rephrased to maintain its original meaning and length:\n\n---\n\nImage Descriptions: All images linked within the [Context Provided] have been converted into text-based descriptions.\n\n---\n\nPlease rephrase the text in the [Context Provided] Section to ensure the rephrased version maintains the original meaning and length.\n\n---\n\n[Context Provided]\n\nThe original text has been rephrased as follows:\n\n---\n\nIn our current study, we aim to explore the impact of negative feedback on disturbances, which we term noise. Such noise can enter the amplifier through the input node (\\(v_{n 1}\\)), an intermediate node (\\(v_{n 2}\\)), or the output node (\\(v_{n 3}\\)). As shown in Figure 7.7, we utilize summer circuits to simulate the entry points of different noise elements. Additionally, to simulate the introduction of noise at intermediate points, we divide the amplifier into two sections, each with a separate gain (\\(a_{1}\\) and \\(a_{2}\\)), resulting in an overall gain of \\(a=a_{1} \\times a_{2}\\). Starting from the right and progressing towards the left, we derive the following equation:\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nimage_name:Figure 7.7\ndescription:The block diagram in Figure 7.7, designated as Figure 7.7, illustrates a model for analyzing how negative feedback affects voltage noise. The diagram includes various key components arranged to demonstrate the introduction and amplification of noise components within a feedback loop.\n\n1. **Key Components:**\n- **Summers (Σ):** There are three summers in the diagram, which are used to model the entry points of noise elements. Each summer combines its respective noise voltage with the signal.\n- **Amplifiers (a₁ and a₂):** The system contains two amplifiers, each with gains designated as \\(a₁\\) and \\(a₂\\). These amplifiers are employed to amplify the input signal and the noise elements.\n- **Feedback Amplifier (b):** A feedback path is included with a gain labeled as \\(b\\), which provides negative feedback to the system.\n\n2. **Flow of Information or Control:**\n- The input voltage \\(v_i\\) enters the first summer, where it is combined with the noise component \\(v_{n1}\\) and the feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- The output of the first summer is then amplified by the first amplifier with gain \\(a₁\\).\n- This amplified signal is then fed into the second summer, where an additional noise component \\(v_{n2}\\) is incorporated.\n- The combined signal is next amplified by the second amplifier with gain \\(a₂\\).\n- The output of the second amplifier is introduced into the third summer, where the final noise component \\(v_{n3}\\) is added.\n- The resulting output voltage \\(v_o\\) is obtained from the output of the third summer.\n- The feedback loop is completed by feeding \\(v_o\\) back through the feedback amplifier with gain \\(b\\) to produce \\(v_f\\), which is subtracted from the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is marked with a plus sign to indicate the addition of noise elements \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The gains of the amplifiers are labeled as \\(a₁\\) and \\(a₂\\), with the feedback gain labeled as \\(b\\).\n\n4. **Overall System Function:**\n- The primary purpose of this system is to model the impact of negative feedback on voltage noise within an amplifier circuit. The arrangement of summers and amplifiers demonstrates how noise is introduced at various stages and how feedback affects the overall output. The closed-loop gain of the system is determined by the product of the individual gains and the feedback factor, effectively amplifying the input signal and the noise terms while stabilizing the system through negative feedback.\n\nFigure 7.7: Model for investigating the effect of negative feedback on voltage noise.\nwhere \\(v_{f}=b v_{o}\\). By combining terms, letting \\(a=a_{1} \\times a_{2}\\), and solving for \\(v_{o}\\), after slight algebraic manipulation, we obtain:\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere \\(A\\) represents the closed-loop gain of Eq. (7.17). We note that a negative-feedback circuit amplifies all three noise components with the same gain \\(A\\) as the useful signal \\(v_{i}\\). However, while \\(v_{n 1}\\) remains unchanged, \\(v_{n 2}\\) is divided by \\(a_{1}\\), and \\(v_{n 3}\\) is divided by \\(a_{1} \\times a_{2}\\). We summarize this by stating that in a negative-feedback circuit, a noise component reflected to the input is divided by the gain(s) of the stage(s) preceding it. This property is frequently utilized to decrease the effect of a specific noise source, such as hum entering the power stage of an audio system. By adding an additional amplifier with an appropriately high gain before this stage and closing a negative-feedback loop around the combined circuit, we can minimize the hum component reflected to the input, making it significantly smaller compared to the audio signal \\(v_{i}\\), thus improving the signal-to-noise ratio to an acceptable level.\n\nFor a striking illustration of the restorative properties of negative feedback on noise, consider the scenario depicted in Figure 7.8a, where a source \\(v_{I}\\) is buffered to a load \\(R_{L}\\) through a Class AB push-pull stage \\(Q_{1}-Q_{2}\\). Ideally, the buffer should provide\n\n$$\nv_{O(\\text { deal })}=v_{I}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Q1, type: NPN, ports: {C: VCC, B: VI, E: VO}\nname: Q2, type: PNP, ports: {C: VEE, B: VI, E: VO}\nname: V1, type: VoltageSource, value: V1, ports: {Np: VI, Nn: GND}\nname: RL, type: Resistor, value: 1kΩ, ports: {N1: VO, N2: GND}\n]\nextrainfo:The circuit is a Class AB push-pull amplifier powered by a voltage source V1 and driving a load resistor RL through transistors Q1 (NPN) and Q2 (PNP). The power supply voltages are VCC (+5V) and VEE (-5V).\n\n(a)\nimage_name:(b) Input and output waveforms\ndescription:The graph features two sections: the upper section shows the input and output waveforms, and the lower section displays the output noise.\n\n**Upper Section: Input and Output Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The input waveform is a sinusoidal wave with peaks at approximately ±2 V.\n- The output waveform \\( v_O \\) follows the input waveform, but exhibits noticeable distortion near the zero-crossing points due to the dead zone created by the 0.7 V threshold needed to activate the BJTs.\n- The ideal output \\( v_{O(ideal)} \\) is also plotted, showing a pure sinusoidal shape without distortion.\n- **Key Features and Technical Details:**\n- The output waveform \\( v_O \\) differs from the ideal waveform within the range of -0.7 V to 0.7 V, where the output is at zero, highlighting the dead zone effect.\n- Outside this range, the output aligns approximately with the input but offset by ±0.7 V, as described in the context.\n\n**Lower Graph: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_N \\) in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The output noise \\( v_N \\) presents a rectangular waveform pattern with distinct flat sections at approximately ±0.7 V.\n- **Key Features and Technical Details:**\n- The noise waveform reflects the difference between the actual output and the ideal output, emphasizing the distortion primarily around the zero-crossing points.\n- The noise levels are consistent with the dead zone effect, maintaining a flat level during these periods and returning to zero when the input signal is strong enough to overcome the transistor threshold voltage.\n\nThis analysis offers a thorough understanding of the output noise characteristics in the context of a Class AB push-pull amplifier circuit, highlighting the impact of transistor turn-on thresholds on the output waveform.\n\n(b)\n\nFigure 7.8: (a) PSpice circuit simulating a source \\(v_{\\text {, }}\\) driving a load \\(R_{L}\\) via a push-pull stage \\(Q_{1}-Q_{2}\\). (b) Input and output waveforms (top), and output noise \\(v_{N}=v_{0}-v_{\\text {O(idea) }}\\) (bottom).\n\nHowever, since it requires about 0.7 V for each BJT to turn on, the circuit yields \\(v_{O}=0\\) for \\(-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}\\), \\(v_{O} \\cong v_{I}-0.7 \\mathrm{~V}\\) for \\(v_{I}>0.7 \\mathrm{~V}\\), and \\(v_{O} \\cong v_{I}+0.7 \\mathrm{~V}\\) for \\(v_{I}<0.7 \\mathrm{~V}\\). The waveforms depicted in Figure 7.8b (top) reveal a significantly distorted output. In fact, it appears as if the non-linearity of the push-pull stage introduces voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\nas shown in Figure 7.8b (bottom). We can reduce \\(v_{N}\\) by inserting a suitable error amplifier before the buffer and then closing a negative-feedback loop around the combined circuit. The example illustrated in Figure 7.9a utilizes an amplifier with a gain of only \\(a=10 \\mathrm{~V} / \\mathrm{V}\\), and a plain wire as the feedback network to yield \\(b=1 \\mathrm{~V} / \\mathrm{V}\\). The subsequent reduction in distortion can be observed by comparing the waveforms in Figure 7.9b (top and middle) with their counterparts in Figure 7.8b (top and bottom). It is evident that adding the amplifier reduces the 0.7 V voltage drops to approximately \\((0.7 \\mathrm{~V}) / a\\), or 0.07 V in this example.\n\nimage_name:(a)\ndescription:\n[\nname: V_I, type: VoltageSource, value: V_I, ports: {Np: V_I, Nn: GND}\nname: U1, type: OpAmp, value: 10 V/V, ports: {InP: V_I, InN: V_F, OutP: V_OA, OutN: GND}\nname: Q1, type: NPN, ports: {C: V_CC, B: V_OA, E: V_O}\nname: Q2, type: PNP, ports: {C: V_EE, B: V_OA, E: V_O}\nname: R_L, type: Resistor, value: 1 kΩ, ports: {N1: V_O, N2: GND}\n]\nextrainfo:The circuit incorporates an op-amp with a gain of 10 V/V in a negative-feedback setup to drive a push-pull stage consisting of NPN and PNP transistors. This configuration is used to minimize output distortion by reducing voltage drops across the transistors.\n\n(a)\nimage_name:I/O waveforms\ndescription:The function graph includes three subplots, each illustrating different aspects of the circuit's performance over time. The horizontal axis in all graphs is labeled as time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n\n1. **Top Subplot: I/O Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot presents two waveforms: the actual output voltage \\( v_O \\) and the ideal output voltage \\( v_{O(ideal)} \\). Both waveforms are sinusoidal with a peak-to-peak amplitude of approximately 4 V, oscillating between -2 V and 2 V.\n- **Key Features and Technical Details:** The actual output \\( v_O \\) closely follows the ideal output \\( v_{O(ideal)} \\), with minor deviations indicating slight distortion.\n\n2. **Middle Subplot: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows the output noise \\( v_N \\), which is the difference between the actual output and the ideal output. The waveform has a smaller amplitude compared to the I/O waveforms, indicating minor noise or distortion.\n- **Key Features and Technical Details:** The noise waveform oscillates around 0 V, showing small amplitude variations indicating the presence of noise or distortion. The noise peaks are relatively small, staying well within ±0.5 V, showing that the distortion is minimal.\n\n3. **Bottom Subplot: Amplifier Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** This plot shows the amplifier output voltage \\( v_{OA} \\) and the actual output voltage \\( v_O \\). The amplifier output \\( v_{OA} \\) has a higher amplitude and shows more pronounced peaks and troughs compared to \\( v_O \\).\n- **Key Features and Technical Details:** The amplifier output waveform \\( v_{OA} \\) is more exaggerated, indicating the amplifier's role in driving the push-pull stage and compensating for distortion. The op-amp output is depicted in black, while the actual output is in gray.\n\n**Overall Trends and Key Features:**\n- The waveforms indicate a sinusoidal signal being processed by the amplifier circuit.\n- The top plot highlights the slight distortion between the ideal and actual outputs, which is addressed by the feedback loop.\n- The middle plot quantifies the output noise, showing minimal deviation.\n- The bottom plot illustrates the role of the op-amp in amplifying the signal, with the op-amp output having a larger amplitude than the final output, suggesting a gain reduction through feedback.\n\nFigure 7.9: (a) Adding an amplifier before the push-pull stage of Figure 7.8a and closing a negative-feedback loop around the entire circuit to reduce output distortion. (b) Input and output waveforms (top), output noise \\(v_{N}=v_{O}-v_{\\text {O(ideal) }}\\) (middle), and the op amp output waveform \\(v_{O A}\\) (bottom).\n\nTo fully appreciate the role of the amplifier, it is beneficial to display its output \\(v_{O A}\\), which is presented in Figure 7.9b (bottom). In its effort to make \\(v_{O}\\) follow \\(v_{I}\\), the amplifier must swing its output \\(v_{O A}\\) approximately 0.7 V above \\(v_{O}\\) during positive alternations and 0.7 V below \\(v_{o}\\) during negative alternations. In this example, we have employed an amplifier with a gain of only \\(10 \\mathrm{~V} / \\mathrm{V}\\), but a unit with a much higher gain would reduce distortion proportionally, making \\(v_{O}\\) a much more accurate representation of \\(v_{I}\\). Recall that we have already observed this behavior in connection with the superdiode circuit of Section 1.10. Now, we are simply revisiting a familiar concept but through the lens of negative feedback.\nRemark: The objective of the negative-feedback circuit example in Figure 7.9a is to implement an amplifier with gain \\(A=1 \\mathrm{~V} / \\mathrm{V}\\) and reduced distortion. To achieve this, an error amplifier with gain \\(a=10 \\mathrm{~V} / \\mathrm{V}\\) is inserted. By doing so, we effectively sacrifice a gain-of-ten to achieve only a gain-of-one, but this is a worthwhile trade-off considering the resulting reduction in distortion. It goes without saying that it is crucial to differentiate between the basic error amplifier and the overall amplifier obtained by operating the former in conjunction with the negative feedback network (a mere wire in the current example).\n\n---"
},
{
    "text": "Our focus is now on understanding the impact of negative feedback on disturbances, which we will refer to as noise. This noise can intrude upon the amplifier at various points: the input node ($v_{n1}$), an intermediate node ($v_{n2}$), or the output node ($v_{n3}$). To represent these points of intrusion for the different noise components, as shown in Fig. 7.7, we employ summers. To simulate the introduction of intermediate noise, the amplifier is divided into two stages with respective gains $a_{1}$ and $a_{2}$, with the overall gain expressed as $a = a_{1} \\times a_{2}$. Progressing from right to left, the equation for the output voltage $v_{o}$ is expressed as\n\n$$\nv_{o} = v_{n3} + a_{2}\\left[v_{n2} + a_{1}\\left(v_{i} + v_{n1} - b v_{o}\\right)\\right]\n$$\n\nThe system block diagram in Figure 7.7 is a model that investigates the effects of negative feedback on voltage noise. It consists of key components arranged sequentially to demonstrate how noise components are introduced and amplified within a feedback loop.\n\nThe diagram includes:\n- Three summers (Σ) that represent the points where noise components are introduced.\n- Two amplifiers with gains $a_{1}$ and $a_{2}$ that amplify the input signal and noise components.\n- A feedback amplifier with gain $b$ that provides negative feedback to the system.\n\nThe flow of information or control is as follows:\n- The input voltage $v_i$ enters the first summer along with the noise component $v_{n1}$ and the feedback voltage $v_f$ (which is the output voltage $v_o$ multiplied by the feedback gain $b$).\n- The output of the first summer is amplified by the first amplifier with gain $a_{1}$.\n- The amplified signal enters the second summer, where another noise component $v_{n2}$ is added.\n- The combined signal is then amplified by the second amplifier with gain $a_{2}$.\n- The output of the second amplifier is fed into the third summer, where the final noise component $v_{n3}$ is added.\n- The final output voltage $v_o$ is obtained from the output of the third summer.\n- The feedback loop is completed by feeding $v_o$ back through the feedback amplifier with gain $b$, producing $v_f$, which is subtracted at the first summer.\n\nThe diagram labels, annotations, and key indicators include:\n- Each summer is labeled with a plus sign to indicate the addition of noise components $v_{n1}, v_{n2}, v_{n3}$.\n- The gains of the amplifiers are labeled as $a_{1}$ and $a_{2}$, with the feedback gain labeled as $b$.\n\nThe overall system function is to model the effect of negative feedback on voltage noise in an amplifier circuit. The arrangement of summers and amplifiers demonstrates how noise is introduced at various stages and how feedback influences the overall output. The closed-loop gain of the system is determined by the product of the individual gains and the feedback factor, effectively amplifying the input signal and the noise terms while stabilizing the system through negative feedback.\n\nAfter the equation, the output voltage $ we use $v_{f} = b v_{o}$. By collecting terms, letting"
},
{
    "text": "---[Attention]---\nImage Descriptions: Textual descriptions of images referenced in the [Context Provided] section have been created. Please rephrase the provided text in the [Context Provided] Section, ensuring the rephrased version retains the original meaning and length.\n---[Task]---\nRephrase the text in the [Context Provided] Section while preserving its original meaning and length. Provide only the rephrased text.\n\n---[Context Provided]---\nThe rephrased text:\n\n```\nWe aim to explore how negative feedback influences noise-related disturbances within the amplifier. Noise, which we will refer to as disturbances, can infiltrate the amplifier at the input node \\(v_{n 1}\\), an intermediate node \\(v_{n 2}\\), or the output node \\(v_{n 3}\\). As illustrated in Figure 7.7, we utilize summer circuits to represent the entry points of various noise components. Additionally, to simulate the introduction of intermediate noise, we segment the amplifier into two stages, each with its own gain \\(a_{1}\\) and \\(a_{2}\\), respectively (where the overall gain is \\(a = a_{1} \\times a_{2}\\)). Starting from the right and moving leftward, we express\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nimage_name:Figure 7.7\ndescription:The block diagram in Figure 7.7, identified as Figure 7.7, portrays a model designed to examine the impact of negative feedback on voltage noise. The diagram is composed of key components arranged in a specific order to illustrate how various noise components are introduced and amplified within a feedback loop.\n\n1. **Key Components:**\n- **Summers (Σ):** The diagram includes three summers, which are used to simulate the points at which noise components enter the system. Each summer combines the noise voltage with the signal voltage.\n- **Amplifiers (a₁ and a₂):** The system incorporates two amplifiers, each with a gain denoted as \\(a₁\\) and \\(a₂\\). These amplifiers are responsible for boosting both the input signal and the noise components.\n- **Feedback Amplifier (b):** A feedback path is present featuring a gain labeled as \\(b\\), which serves to provide negative feedback to the system.\n\n2. **Information Flow or Control:**\n- The input voltage \\(v_i\\) is introduced to the first summer, where it is merged with the noise component \\(v_{n1}\\) and the feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- The output of the first summer is then amplified by the first amplifier with gain \\(a₁\\).\n- The amplified signal is then passed to the second summer, where another noise component \\(v_{n2}\\) is added.\n- This combined signal is next amplified by the second amplifier with gain \\(a₂\\).\n- The output of the second amplifier is directed to the third summer, where the final noise component \\(v_{n3}\\) is integrated.\n- The resultant output voltage \\(v_o\\) is extracted from the third summer.\n- The feedback loop is closed by routing \\(v_o\\) back through the feedback amplifier with gain \\(b\\), generating \\(v_f\\), which is subtracted at the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is marked with a plus sign to signify the addition of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The gains of the amplifiers are labeled as \\(a₁\\) and \\(a₂\\), with the feedback gain designated as \\(b\\).\n\n4. **Overall System Function:**\n- The primary function of this system is to replicate the effect of negative feedback on voltage noise within an amplifier circuit. The layout of the summers and amplifiers demonstrates how noise is introduced at multiple stages and how feedback affects the overall output. The closed-loop gain of the system is calculated by multiplying the individual gains and the feedback factor, thereby enhancing both the input signal and the noise terms while stabilizing the system through negative feedback.\n\nFIGURE 7.7 Model for investigating the effect of negative feedback on voltage noise.\nIn this case, \\(v_{f}=b v_{o}\\). By combining, assigning \\(a=a_{1} \\times a_{2}\\), and solving for \\(v_{o}\\), after some basic algebra, we obtain\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere \\(A\\) is the closed-loop gain of Eq. (7.17). Notably, a negative-feedback circuit amplifies all three noise terms with the same gain \\(A\\) as the useful signal \\(v_{i}\\). Nonetheless, while \\(v_{n 1}\\) remains unchanged, \\(v_{n 2}\\) is divided by \\(a_{1}\\), and \\(v_{n 3}\\) is divided by \\(a_{1} \\times a_{2}\\). We summarize this by stating that in a negative-feedback circuit, a noise component reflected to the input is divided by the gain(s) of the stage(s) preceding it. This characteristic is often utilized to diminish the influence of a specific noise source, such as hum infiltrating the power stage of an audio system. Should an additional amplifier with adequate gain precede this stage and a negative-feedback loop encircle the combined circuit, the hum component reflected to the input can be reduced to a negligible level in relation to the audio signal \\(v_{i}\\), thereby enhancing the signal-to-noise ratio to an acceptable level.\n\nFor a compelling demonstration of the corrective capabilities of negative feedback on noise, let's examine the scenario depicted in Figure 7.8a, in which a source \\(v_{I}\\) is buffered to a load \\(R_{L}\\) via a Class AB push-pull stage \\(Q_{1}-Q_{2}\\). Ideally, the buffer should provide\n\n$$\nv_{O(\\text { deal })}=v_{I}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Q1, type: NPN, ports: {C: VCC, B: VI, E: VO}\nname: Q2, type: PNP, ports: {C: VEE, B: VI, E: VO}\nname: V1, type: VoltageSource, value: V1, ports: {Np: VI, Nn: GND}\nname: RL, type: Resistor, value: 1kΩ, ports: {N1: VO, N2: GND}\n]\nextrainfo:The circuit is a Class AB push-pull amplifier driven by a voltage source V1 and a load resistor RL, using transistors Q1 (NPN) and Q2 (PNP) for power supply voltages VCC (+5V) and VEE (-5V).\n\n(a)\nimage_name:(b) Input and output waveforms\ndescription:This graph includes two sections: the upper section displays input and output waveforms, and the lower section presents the output noise.\n\n**Top Graph: Input and Output Waveforms**\n- **Graph Type:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage (V), ranging from -2.0 V to 2.0 V.\n- **Behavior and Trends:** The input waveform is a sine wave peaking at around ±2 V.\n- **Key Features and Technical Details:** The ideal output \\( v_{O(ideal)} \\) is plotted alongside the actual output \\( v_O \\), which exhibits distortion particularly around the zero-crossing points, due to the dead zone created by the 0.7 V threshold needed to activate the BJTs.\n\n**Bottom Graph: Output Noise**\n- **Graph Type:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_N \\) in volts (V), ranging from -2.0 V to 2.0 V.\n- **Behavior and Trends:** The output noise \\( v_N \\) exhibits a rectangular waveform pattern, with flat regions at about ±0.7 V.\n- **Key Features and Technical Details:** The noise waveform signifies the discrepancy between the actual and ideal outputs, focusing on the distortion primarily around the zero-crossing points.\n\nThis analysis gives a thorough understanding of the noise characteristics in the context of a Class AB push-pull amplifier circuit, showing the impact of BJT turn-on thresholds on the output waveform.\n\n(b)\n\nFIGURE 7.8 (a) PSpice circuit simulating a source \\(v_{\\text {, }}\\) delivering power to a load \\(R_{L}\\) through a push-pull stage \\(Q_{1}-Q_{2}\\). (b) Input and output waveforms (top), and output noise \\(v_{N}=v_{0}-v_{\\text {O(idea) }}\\) (bottom).\n\nOn the other hand, because it takes approximately 0.7 V for each BJT to turn on, the circuit delivers \\(v_{O}=0\\) for \\(-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}\\), \\(v_{O} \\cong v_{I}-0.7 \\mathrm{~V}\\) for \\(v_{I}>0.7 \\mathrm{~V}\\), and \\(v_{O} \\cong v_{I}+0.7 \\mathrm{~V}\\) for \\(v_{I}<-0.7 \\mathrm{~V}\\). The waveforms presented in Figure 7.8b (top) reveal a significantly distorted output. In fact, the push-pull stage's non-linear characteristics seem to inject the voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\nas depicted in Figure 7.8b (bottom). To reduce \\(v_{N}\\), one can prepend an error amplifier to the buffer and close a negative-feedback loop around the combined circuit. The example in Figure 7.9a utilizes an amplifier with a gain of merely \\(a=10 \\mathrm{~V} / \\mathrm{V}\\), and a simple wire as the feedback network to yield \\(b=1 \\mathrm{~V} / \\mathrm{V}\\). The subsequent reduction in distortion can be observed by contrasting the waveforms in Figure 7.9b (top and middle) with those in Figure 7.8b (top and bottom). Clearly, the addition of the amplifier reduces the 0.7 V voltage drops to about \\((0.7 \\mathrm{~V}) / a\\), or 0.07 V in our example.\nimage_name:(a)\ndescription:\n[\nname: V_I, type: VoltageSource, value: V_I, ports: {Np: V_I, Nn: GND}\nname: U1, type: OpAmp, value: 10 V/V, ports: {InP: V_I, InN: V_F, OutP: V_OA, OutN: GND}\nname: Q1, type: NPN, ports: {C: V_CC, B: V_OA, E: V_O}\nname: Q2, type: PNP, ports: {C: V_EE, B: V_OA, E: V_O}\nname: R_L, type: Resistor, value: 1 kΩ, ports: {N1: V_O, N2: GND}\n]\nextrainfo:This circuit integrates an op-amp with a gain of 10 V/V in a negative-feedback configuration to drive a push-pull stage composed of NPN and PNP transistors. This arrangement is implemented to decrease output distortion by minimizing voltage drops across the transistors.\n\n(a)\nimage_name:I/O waveforms\ndescription:The function graph contains three subplots, each showing different aspects of the circuit's performance over time. The horizontal axis in all graphs is labeled as time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n\n1. **Top Subplot: I/O Waveforms**\n- **Graph Type:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Behavior and Trends:** The plot depicts two waveforms: the actual output voltage \\( v_O \\) and the ideal output voltage \\( v_{O(ideal)} \\). Both are sinusoidal with a peak-to-peak amplitude of approximately 4 V, varying between -2 V and 2 V.\n- **Key Features and Technical Details:** The actual output \\( v_O \\) closely matches the ideal output \\( v_{O(ideal)} \\), with minor deviations indicating slight distortion.\n\n2. **Middle Subplot: Output Noise**\n- **Graph Type:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, ranging from -2.0 V to 2.0 V.\n- **Behavior and Trends:** The plot illustrates the output noise \\( v_N \\), which is the difference between the actual output and the ideal output. The waveform fluctuates around 0 V, with small amplitude variations indicating minimal noise or distortion.\n- **Key Features and Technical Details:** The noise waveform is periodic and aligns with the peaks and troughs of the input waveform.\n\n3. **Bottom Subplot: Amplifier Waveforms**\n- **Graph Type:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Behavior and Trends:** This plot displays the amplifier output voltage \\( v_{OA} \\) and the actual output voltage \\( v_O \\). The amplifier output \\( v_{OA} \\) exhibits a higher amplitude and shows more pronounced peaks and troughs compared to \\( v_O \\).\n- **Key Features and Technical Details:** The amplifier output waveform \\( v_{OA} \\) is more exaggerated, indicating the amplifier's role in driving the push-pull stage and mitigating distortion.\n\nOverall, these graphs demonstrate the efficacy of the negative-feedback loop in diminishing output distortion, with the amplifier actively working to minimize the disparity between the actual and ideal output voltages.\nimage_name:Output noise\ndescription:The graph titled 'Output noise' is part of a set of three time-domain waveform graphs. Each graph is plotted over a time period ranging from 0 to 2 milliseconds (ms) on the x-axis. The y-axis of each graph represents voltage in volts (V), with a range from -2.0 V to 2.0 V.\n\n1. **Top Graph (I/O Waveforms):**\n- This graph contrasts the actual output voltage \\(v_O\\) with the ideal output voltage \\(v_{O(ideal)}\\). The ideal waveform is a smooth sine wave oscillating between 2.0 V and -2.0 V, suggesting a perfect sinusoidal input. The actual output waveform \\(v_O\\) closely follows the ideal but shows slight deviations, indicating minor distortions.\n\n2. **Middle Graph (Output Noise):**\n- This graph shows the output noise \\(v_N\\), defined as the difference between the actual output voltage \\(v_O\\) and the ideal output voltage \\(v_{O(ideal)}\\). The waveform oscillates around 0 V, with small amplitude variations indicating the presence of noise or distortion. The noise peaks are relatively small, staying within ±0.5 V, showing that the distortion is minimal.\n\n3. **Bottom Graph (Amplifier Waveforms):**\n- This graph displays the amplifier output waveform \\(v_{OA}\\) compared to the actual output \\(v_O\\). The amplifier output \\(v_{OA}\\) shows a more pronounced deviation from the sinusoidal shape, particularly at the peaks and troughs, indicating the amplifier's role in compensating for the distortion and maintaining the output close to the ideal.\n\nIn summary, these graphs illustrate the effectiveness of the negative-feedback circuit in reducing output distortion, with the amplifier actively adjusting to minimize the difference between the actual and ideal output voltages.\nimage_name:Amplifier waveforms\ndescription:The graph titled \"Amplifier waveforms\" comprises three subplots, each depicting a different aspect of the amplifier's performance over time.\n\n1. **Top Plot (I/O waveforms):**\n- **Graph Type:** Time-domain waveform.\n- **Axes:** The vertical axis represents voltage (V), with a range from -2 V to 2 V. The horizontal axis represents time (ms), ranging from 0 to 2 ms.\n- **Behavior:** The plot illustrates two waveforms: the ideal output voltage \\(v_{O(ideal)}\\) and the actual output voltage \\(v_O\\). Both are sinusoidal, but the actual output slightly deviates from the ideal, especially noticeable at the peaks.\n- **Key Features:** The ideal waveform is depicted in light gray, and the actual output is shown in black.\n\n2. **Middle Plot (Output noise):**\n- **Graph Type:** Time-domain waveform.\n- **Axes:** The vertical axis represents voltage (V), ranging from -2 V to 2 V. The horizontal axis represents time (ms), ranging from 0 to 2 ms.\n- **Behavior:** This plot shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n- **Key Features:** The noise is relatively small compared to the main signal.\n\n3. **Bottom Plot (Amplifier waveforms):**\n- **Graph Type:** Time-domain waveform.\n- **Axes:** The vertical axis represents voltage (V), with a range from -2 V to 2 V. The horizontal axis represents time (ms), ranging from 0 to 2 ms.\n- **Behavior:** This plot displays the op-amp output \\(v_{OA}\\) and the actual output \\(v_O\\). The op-amp output waveform is more pronounced, showing a larger amplitude than the actual output.\n- **Key Features:** The op-amp output is depicted in black, while the actual output is in gray.\n\n**Overall Trends and Key Features:**\n- The waveforms suggest a sinusoidal signal processed by the amplifier circuit.\n- The top plot reveals minor distortion between the ideal and actual outputs, which is corrected by the feedback loop.\n- The middle plot quantifies the output noise, demonstrating minimal deviation.\n- The bottom plot illustrates the amplifier's role in amplifying the signal, with the op-amp output having a larger amplitude, suggesting a reduction in gain through feedback.\n\n(b)\n\nFIGURE 7.9 (a) Inserting an amplifier in front of the push-pull stage of Figure 7.8a"
},
{
    "text": "We aim to study the impact of negative feedback on disturbances, termed noise, which can infiltrate the amplifier at various stages—initially at the input node $\\left(v_{n 1}\\right)$, at some intermediate node $\\left(v_{n 2}\\right)$, or at the output node $\\left(v_{n 3}\\right)$. As illustrated in Fig. 7.7, summers are employed to simulate the entry points for the diverse noise elements. Furthermore, to represent the entry of intermediate noise, we segment the amplifier into two sections with distinct gains $a_{1}$ and $a_{2}$ (ultimately, the total gain is $a=a_{1} \\times a_{2}$). Commencing from the right and progressively shifting towards the left, we formulate\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nFIGURE 7.7 Model to investigate the effect of negative feedback upon voltage noise.\nwhere $v_{f}=b v_{o}$. Simplifying, we define $a=a_{1} \\times a_{2}$ and solve for $v_{o}$, resulting in the expression\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere $A$ denotes the closed-loop gain of Eq. (7.17). We note that a negative-feedback circuit amplifies all three noise terms with the same gain $A$ as the input signal $v_{i}$. However, $v_{n 1}$ remains unaltered, $v_{n 2}$ is diminished by $a_{1}$, and $v_{n 3}$ is diminished by $a_{1} \\times a_{2}$. This implies that in a negative-feedback circuit, noise components, reflected to the input, are divided by the gain(s) of the preceding stage(s). This property is frequently utilized to diminish the impact of specific noise sources, such as hum infiltrating the power stage of an audio system. By introducing an additional amplifier with an appropriately high gain before this stage and implementing a negative-feedback loop around the complete circuit, we can substantially reduce the hum component, relative to the audio signal $v_{i}$, thereby enhancing the signal-to-noise ratio to an acceptable level.\n\nTo vividly illustrate the noise-reduction capabilities of negative feedback, consider the scenario depicted in Fig. 7.8a, where a source $v_{I}$ is buffered to a load $R_{L}$ via the Class AB push-pull stage $Q_{1}-Q_{2}$. Ideally, the buffer should produce\n\n$$\nv_{O(\\text { deal })}=v_{I}\n$$\n\nFIGURE 7.8 (a) PSpice circuit simulating a source $v_{\\text {, }}$ driving a load $R_{L}$ via a push-pull stage $Q_{1}-Q_{2}$. (b) Input and output waveforms (top), and output noise $v_{N}=v_{0}-v_{\\text {O(idea) }}$ (bottom).\n\nHowever, due to the 0.7 V threshold required for each BJT to activate, the circuit yields $v_{O}=0$ for $-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}$, $v_{O} \\cong v_{I}-0.7 \\mathrm{~V}$ for $v_{I}>0.7 \\mathrm{~V}$, and $v_{O} \\cong v_{I}+0.7 \\mathrm{~V}$ for $v_{I}<0.7 \\mathrm{~V}$. The waveforms, as shown in Fig. $7.8 b$ (top), exhibit pronounced distortion. In essence, the non-linearity of the push-pull stage induces voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\ndepicted in Fig. 7.8b (bottom). We can mitigate $v_{N}$ by inserting a suitable error amplifier before the buffer and then enveloping the composite circuit with a negative-feedback loop. The example illustrated in Fig. 7.9a employs an amplifier with a gain of $a=$ $10 \\mathrm{~V} / \\mathrm{V}$, and a simple wire as the feedback network to yield $b=1 \\mathrm{~V} / \\mathrm{V}$. The resultant decrease in distortion can be discerned by comparing the waveforms of Fig. 7.9b (top and middle) with those in Fig. $7.8 b$ (top and bottom). The insertion of the amplifier effectively reduces the 0.7 V voltage drops to approximately $(0.7 \\mathrm{~V}) / a$, or 0.07 V in our case.\n\nFIGURE 7.9 (a) Preceding the push-pull stage of Fig. 7.8a by an amplifier, and closing a negative-feedback loop around the whole circuit in order to reduce output distortion. (b) Input and output waveforms (top), output noise $v_{N}=v_{O}-v_{\\text {O(ideal) }}$ (middle), and the op amp output waveform $v_{O A}$ (bottom).\n\nTo comprehend the amplifier's role comprehensively, it is helpful to examine its output $v_{O A}$, presented in Fig. $7.9 b$ (bottom). As the amplifier strives to align $v_{O}$ with $v_{I}$, its output $v_{O A}$ must swing about 0.7 V above $v_{O}$ during positive cycles, and 0.7 V below $v_{o}$ during negative cycles. In our example, we utilized an amplifier with a modest gain of $10 \\mathrm{~V} / \\mathrm{V}$, but a unit with significantly higher gain would proportionally decrease distortion, rendering $v_{O}$ a more accurate reproduction of $v_{I}$. This principle is reminiscent of the superdiode circuit discussed in Section 1.10. Here, we are revisiting a familiar concept but through the lens of negative feedback."
},
{
    "text": "We aim to explore how negative feedback influences disturbances, hereafter termed noise, which can infiltrate the amplifier at the input node ($v_{n1}$), an intermediate node ($v_{n2}$), or the output node ($v_{n3}$). As shown in Fig. 7.7, we utilize summers to simulate the entry points of the various noise components. Furthermore, to model intermediate noise entry, we divide the amplifier into two stages with individual gains $a_{1}$ and $a_{2}$, respectively (with the overall gain being $a=a_{1} \\times a_{2}$). Progressing from right to left, we formulate the equation\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nFIGURE 7.7 depicts a system block diagram, which represents a model for studying the impact of negative feedback on voltage noise. The diagram includes several components arranged sequentially to show how various noise components are introduced and amplified within a feedback loop.\n\n1. **Key Components:**\n- **Summers (Σ):** The diagram features three summers, used to model the entry points of noise components. Each summer adds its respective noise voltage to the signal.\n- **Amplifiers (a₁ and a₂):** The system incorporates two amplifiers, each with gains denoted as \\(a₁\\) and \\(a₂\\), used to amplify the input signal and the noise components.\n- **Feedback Amplifier (b):** A feedback path exists with a gain denoted as \\(b\\), providing negative feedback to the system.\n\n2. **Information or Control Flow:**\n- The input voltage \\(v_i\\) enters the first summer, where it is combined with a noise component \\(v_{n1}\\) and a feedback voltage \\(v_f\\) (the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- The output of the first summer is then amplified by the first amplifier with gain \\(a₁\\).\n- The amplified signal is fed into the second summer, where another noise component \\(v_{n2}\\) is added.\n- This combined signal is then amplified by the second amplifier with gain \\(a₂\\).\n- The output of the second amplifier is fed into the third summer, where the final noise component \\(v_{n3}\\) is added.\n- The final output voltage \\(v_o\\) is taken from the output of the third summer.\n- The feedback loop is completed by feeding \\(v_o\\) back through the feedback amplifier with gain \\(b\\), producing \\(v_f\\), which is subtracted at the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is labeled with a plus sign to indicate the addition of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The gains of the amplifiers are labeled as \\(a₁\\) and \\(a₂\\), with the feedback gain labeled as \\(b\\).\n\n4. **Overall System Function:**\n- The primary function of this system is to model the impact of negative feedback on voltage noise in an amplifier circuit. The arrangement of summers and amplifiers demonstrates how noise is introduced at various stages and how feedback influences the overall output. The closed-loop gain of the system is determined by the product of the individual gains and the feedback factor, effectively amplifying the input signal and the noise terms while stabilizing the system through negative feedback.\n\nwhere we have used $v_{f}=b v_{o}$. Simplifying, letting $a=a_{1} \\times a_{2}$, and solving for $v_{o}$, we derive, after minor algebra,\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere $A$ is the closed-loop gain of Eq. (7.17). We observe that a negative-feedback circuit amplifies all three noise terms with the same gain $A$ as the useful signal $v_{i}$. However, while $v_{n 1}$ remains unchanged, $v_{n 2}$ is divided by $a_{1}$, and $v_{n 3}$ is divided by $a_{1} \\times a_{2}$. We summarize this by stating that in a negative-feedback circuit, a noise component, reflected to the input, gets divided by the gain(s) of the stage(s) preceding it. This property is often utilized to diminish the effect of a given noise source, such as hum infiltrating the power stage of an audio system. By preceding this stage with an additional amplifier with suitably high gain and closing a negative-feedback loop around the composite circuit, we can minimize the hum component, reflected to the input, compared to the audio signal $v_{i}$, thereby enhancing the signal-to-noise ratio to an acceptable level.\n\nAs a striking illustration of the mitigating properties of negative feedback on noise, consider the scenario depicted in Fig. 7.8a, where a source $v_{I}$ is buffered to a load $R_{L}$ via the Class AB push-pull stage $Q_{1}-Q_{2}$. Ideally, the buffer should yield\n\n$$\nv_{O(\\text { ideal })}=v_{I}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Q1, type: NPN, ports: {C: VCC, B: VI, E: VO}\nname: Q2, type: PNP, ports: {C: VEE, B: VI, E: VO}\nname: V1, type: VoltageSource, value: V1, ports: {Np: VI, Nn: GND}\nname: RL, type: Resistor, value: 1kΩ, ports: {N1: VO, N2: GND}\n]\nextrainfo:The circuit is a Class AB push-pull amplifier with a voltage source V1 driving a load resistor RL through transistors Q1 (NPN) and Q2 (PNP). The power supply voltages are VCC (+5V) and VEE (-5V).\n\n(a)\nimage_name:(b) Input and output waveforms\ndescription:This graph presents two sections: the top section displays input and output waveforms, while the bottom section focuses on the output noise.\n\n**Top Section: Input and Output Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The input waveform is a sinusoidal wave with peaks at approximately ±2 V.\n- The output waveform \\( v_O \\) follows the input waveform but exhibits noticeable distortion around the zero-crossing points due to the dead zone created by the 0.7 V threshold required to activate the BJTs.\n- The ideal output \\( v_{O(ideal)} \\) is also plotted, showing a perfect sinusoidal shape without distortion.\n- **Key Features and Technical Details:**\n- The output waveform \\( v_O \\) deviates from the ideal waveform within the range of -0.7 V to 0.7 V, where the output remains at zero, illustrating the dead zone effect.\n- Beyond this range, the output approximately matches the input but is offset by ±0.7 V, as described in the context.\n\n**Bottom Section: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_N \\) in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The output noise \\( v_N \\) exhibits a rectangular waveform pattern, with distinct flat regions at approximately ±0.7 V.\n- **Key Features and Technical Details:**\n- The noise waveform indicates the difference between the actual output and the ideal output, highlighting the distortion primarily around the zero-crossing points.\n- The noise levels correspond to the dead zone effect, maintaining a flat level during these periods and returning to zero when the input signal is sufficient to overcome the transistor threshold voltage.\nimage_name:Output noise\ndescription:The graph titled \"Output noise\" is a time-domain waveform plot that showcases the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section displays input and output waveforms, while the bottom section focuses on the output noise.\n\nTop Section: Input and Output Waveforms\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage (V), ranging from -2 V to 2 V.\n\n- **Overall Behavior and Trends:**\n- The plot illustrates two waveforms: the ideal output voltage \\( v_{O(ideal)} \\) and the actual output voltage \\( v_{O} \\).\n- Both waveforms are sinusoidal with a period of approximately 1 ms, indicating a frequency of about 1 kHz.\n- The ideal waveform \\( v_{O(ideal)} \\) is smooth and continuous, while the actual output \\( v_{O} \\) shows distortion, particularly around zero crossings.\n\n- **Key Features and Technical Details:**\n- The actual output waveform \\( v_{O} \\) deviates from the ideal waveform \\( v_{O(ideal)} \\) due to the 0.7 V threshold required to activate the BJTs, resulting in a dead zone around zero crossings.\n- The output voltage \\( v_{O} \\) is approximately zero for input voltages between -0.7 V and 0.7 V, leading to visible clipping in this range.\n\nBottom Section: Output Noise\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_{N} \\) in volts (V), ranging from -2 V to 2 V.\n\n- **Overall Behavior and Trends:**\n- The noise waveform \\( v_{N} \\) is a stepped waveform with distinct levels, reflecting the difference between the actual and ideal output voltages.\n- The waveform is periodic with a period of approximately 1 ms, matching the frequency of the input and output waveforms.\n\n- **Key Features and Technical Details:**\n- The noise voltage \\( v_{N} \\) peaks at approximately ±0.7 V, corresponding to the voltage drop across the BJTs when they turn on.\n- The noise waveform highlights the distortion introduced by the dead zone, with distinct flat sections around the zero crossings where the BJTs are not conducting.\n\nThis analysis provides a comprehensive understanding of the output noise characteristics in the context of a Class AB push-pull amplifier circuit, illustrating the effects of transistor turn-on thresholds on the output waveform.\n\n(b)\n\nFIGURE 7.8 (a) PSpice circuit simulating a source $v_{\\text {, }}$ driving a load $R_{L}$ via a push-pull stage $Q_{1}-Q_{2}$. (b) Input and output waveforms (top), and output noise $v_{N}=v_{0}-v_{\\text {O(ideal) }}$ (bottom).\n\nHowever, since it takes about 0.7 V for each BJT to turn on, the circuit yields $v_{O}=0$ for $-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}, v_{O} \\cong v_{I}-0.7 \\mathrm{~V}$ for $v_{I}>0.7 \\mathrm{~V}$, and $v_{O} \\cong v_{I}+0.7 \\mathrm{~V}$ for $v_{I}$ $<0.7 \\mathrm{~V}$. The waveforms, shown in Fig. $7.8 b$ (top), reveal a much distorted output. In fact, the non-linearity of the push-pull stage seems to result in the injection of voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\ndepicted in Fig. 7.8b (bottom). We can minimize $v_{N}$ by preceding the buffer with a suitable error amplifier and then closing a negative-feedback loop around the composite circuit. The example illustrated in Fig. 7.9a employs an amplifier with a gain of only $a=$ $10 \\mathrm{~V} / \\mathrm{V}$, and a plain wire as the feedback network to yield $b=1 \\mathrm{~V} / \\mathrm{V}$. The subsequent reduction in distortion can be observed by comparing the waveforms of Fig. 7.9b (top and middle) with their counterparts of Fig. $7.8 b$ (top and bottom). It is evident that the addition of the amplifier makes the 0.7 V voltage drops appear as if they were reduced to about $(0.7 \\mathrm{~V}) / a$, or 0.07 V in our example.\nimage_name:(a)\ndescription:\n[\nname: V_I, type: VoltageSource, value: V_I, ports: {Np: V_I, Nn: GND}\nname: U1, type: OpAmp, value: 10 V/V, ports: {InP: V_I, InN: V_F, OutP: V_OA, OutN: GND}\nname: Q1, type: NPN, ports: {C: V_CC, B: V_OA, E: V_O}\nname: Q2, type: PNP, ports: {C: V_EE, B: V_OA, E: V_O}\nname: R_L, type: Resistor, value: 1 kΩ, ports: {N1: V_O, N2: GND}\n]\nextrainfo:The circuit employs an op-amp with a gain of 10 V/V in a negative-feedback configuration to drive a push-pull stage consisting of NPN and PNP transistors. This setup is used to reduce output distortion by minimizing voltage drops across the transistors.\n\n(a)\nimage_name:I/O waveforms\ndescription:This graph consists of three subplots, each illustrating different aspects of the circuit's performance over time. The horizontal axis in all graphs is labeled as time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n\n1. **Top Subplot: I/O Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows two waveforms: the actual output voltage \\( v_O \\) and the ideal output voltage \\( v_{O(ideal)} \\). Both waveforms are sinusoidal with a peak-to-peak amplitude of approximately 4 V, oscillating between -2 V and 2 V.\n- **Key Features and Technical Details:** The actual output \\( v_O \\) closely follows the ideal output \\( v_{O(ideal)} \\), with minor deviations indicating slight distortion.\n\n2. **Middle Subplot: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows the output noise \\( v_N \\), which is the difference between the actual output and the ideal output. The waveform has a smaller amplitude compared to the I/O waveforms, indicating minor noise or distortion.\n- **Key Features and Technical Details:** The noise appears periodic and correlates with the peaks and troughs of the input waveform.\n\n3. **Bottom Subplot: Amplifier Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** This plot shows the amplifier output voltage \\( v_{OA} \\) and the actual output voltage \\( v_O \\). The amplifier output \\( v_{OA} \\) has a higher amplitude and shows more pronounced peaks and troughs compared to \\( v_O \\).\n- **Key Features and Technical Details:** The amplifier output waveform \\( v_{OA} \\) is more exaggerated, indicating the amplifier's role in driving the push-pull stage and compensating for distortion.\nimage_name:Output noise\ndescription:The graph titled 'Output noise' is part of a set of three time-domain waveform graphs. Each graph is plotted over a time period ranging from 0 to 2 milliseconds (ms) on the x-axis. The y-axis of each graph represents voltage in volts (V), with a range from -2.0 V to 2.0 V.\n\n1. **Top Graph (I/O Waveforms):**\n- This graph compares the actual output voltage $v_O$ with the ideal output voltage $v_{O(ideal)}$. The ideal waveform is depicted as a smooth sine wave oscillating between 2.0 V and -2.0 V, suggesting a perfect sinusoidal input. The actual output waveform $v_O$ closely follows the ideal but shows slight deviations, indicating minor distortions.\n\n2. **Middle Graph (Output Noise):**\n- This graph shows the output noise $v_N$, defined as the difference between the actual output voltage $v_O$ and the ideal output voltage $v_{O(ideal)}$. The waveform oscillates around 0 V, with small amplitude variations indicating the presence of noise or distortion. The noise peaks are relatively small, staying well within ±0.5 V, showing that the distortion is minimal.\n\n3. **Bottom Graph (Amplifier Waveforms):**\n- This graph displays the amplifier output waveform $v_{OA}$ compared to the actual output $v_O$. The amplifier output $v_{OA}$ shows a more pronounced deviation from the sinusoidal shape, particularly at the peaks and troughs, indicating the amplifier's role in compensating for the distortion and maintaining the output close to the ideal.\n\n**Overall Trends and Key Features:**\n- The waveforms indicate a sinusoidal signal being processed by the amplifier circuit.\n- The top plot highlights the slight distortion between the ideal and actual outputs, addressed in the feedback loop.\n- The middle plot quantifies the output noise, showing minimal deviation.\n- The bottom plot illustrates the role of the op-amp in amplifying the signal, with the op-amp output having a larger amplitude than the final output, suggesting a gain reduction through feedback.\n\n(b)\n\nFIGURE 7.9 (a) Preceding the push-pull"
},
{
    "text": "The textual description of images related to the given context has been transformed into written descriptions. Further, you are tasked with rewording the text within the [Context Provided] section, ensuring that the revised version retains the original meaning and length. Here is the rephrased text:\n\nIn our pursuit to explore how negative feedback impacts disturbances, also known as noise, we examine the potential entry points of such noise into the amplifier—either at the input terminal \\(v_{n 1}\\), at an intermediate terminal \\(v_{n 2}\\), or at the output terminal \\(v_{n 3}\\). As illustrated in Figure 7.7, we utilize summer circuits to represent the entry points of distinct noise elements. Additionally, to simulate the presence of noise at intermediate stages, we divide the amplifier into two segments with separate gains \\(a_{1}\\) and \\(a_{2}\\) each. The overall gain, therefore, is \\(a = a_{1} \\times a_{2}\\). Starting from the rightmost side and moving gradually to the left, we express the output voltage \\(v_{o}\\) as follows:\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nRefer to Figure 7.7 for the model employed to study the impact of negative feedback on voltage noise.\n\nCollecting terms, setting \\(a = a_{1} \\times a_{2}\\), and solving for \\(v_{o}\\) after some algebraic manipulation yields:\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nHere, \\(A\\) represents the closed-loop gain of Eq. (7.17). We notice that a negative-feedback circuit amplifies all three noise components, \\(v_{n 1}\\), \\(v_{n 2}\\), and \\(v_{n 3}\\), with the same gain \\(A\\) as the useful signal \\(v_{i}\\). Although \\(v_{n 1}\\) remains unaltered, \\(v_{n 2}\\) is divided by \\(a_{1}\\) and \\(v_{n 3}\\) by \\(a_{1} \\times a_{2}\\). We summarize this by stating that within a negative-feedback circuit, a noise component reflected at the input is divided by the gain of the preceding stage. This characteristic is commonly utilized to diminish the effect of a specific noise source, such as hum entering the power stage of an audio system. By inserting an additional amplifier with high gain before this stage and closing a negative-feedback loop around the combined circuit, we can significantly reduce the hum component at the input, thereby enhancing the signal-to-noise ratio to an acceptable level.\n\nTo exemplify the beneficial effects of negative feedback on noise, let's consider the setup in Figure 7.8a, where a source \\(v_{I}\\) is connected to a load \\(R_{L}\\) via a Class AB push-pull stage \\(Q_{1}-Q_{2}\\). Ideally, the buffer should produce\n\n$$\nv_{O(\\text { deal })}=v_{I}\n$$\n\nIn Figure 7.8b (a), the circuit is shown to be a Class AB push-pull amplifier driven by a voltage source \\(V1\\) and tasked with powering a load resistor \\(RL\\) through transistors \\(Q1\\) (NPN) and \\(Q2\\) (PNP). The power supply voltages are \\(VCC (+5V)\\) and \\(VEE (-5V)\\).\n\nIn Figure 7.8b (top), the input and output waveforms are depicted, with the bottom graph illustrating the output noise.\n\nThe top graph of Figure 7.8b (top) presents the input and output waveforms. The input waveform is sinusoidal with peaks around ±2 V. The output waveform \\(v_O\\) follows the input waveform but exhibits distortion at the zero-crossing points due to the dead zone effect, which is the 0.7 V threshold required to activate the BJTs. The ideal output \\(v_{O(ideal)}\\) is also shown, maintaining a perfect sinusoidal shape without distortion. The output waveform \\(v_O\\) differs from the ideal waveform within the range of -0.7 V to 0.7 V, remaining at zero, and shows clipping within this range.\n\nThe bottom graph of Figure 7.8b (bottom) presents the output noise. The output noise \\(v_N\\) is a stepped waveform with flat regions at ±0.7 V. The noise waveform highlights the distortion primarily around the zero-crossing points, with noise levels consistent with the dead zone effect, maintaining a flat level during these periods and returning to zero when the input signal is strong enough to overcome the BJT threshold voltage.\n\nThis analysis offers a detailed insight into the noise characteristics of a Class AB push-pull amplifier circuit, showcasing how the transistor turn-on thresholds influence the output waveform.\n\nIn Figure 7.8b (bottom), the output noise \\(v_N\\) is depicted as a time-domain waveform plot. It reveals the noise voltage of a Class AB push-pull amplifier circuit. The plot is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise plot displays the input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise plot shows the output noise \\(v_N\\), which is the difference between the actual output and the ideal output. The waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe figure titled \"Output noise\" in Figure 7.8b (bottom) is a time-domain waveform plot displaying the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section presents input and output waveforms, and the bottom section concentrates on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is also shown, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" in the figure is a time-domain waveform plot that demonstrates the output noise voltage of a Class AB push-pull amplifier circuit. The plot includes two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nIn the top section of the output noise graph, the input and output waveforms are presented. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph displays the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates the input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe figure titled \"Output noise\" is a time-domain waveform plot that demonstrates the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph displays the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph displays the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe figure titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nThe top section of the output noise graph illustrates input and output waveforms. The input waveform is sinusoidal, with the output waveform \\(v_O\\) showing distortion at the zero-crossing points due to the dead zone effect. The ideal output \\(v_{O(ideal)}\\) is depicted, maintaining a perfect sinusoidal shape without distortion.\n\nThe bottom section of the output noise graph shows the output noise \\(v_N\\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit"
},
{
    "text": "We aim to explore how negative feedback impacts noise disturbances within the amplifier. Noise, henceforth referred to simply as noise, can infiltrate the amplifier at the input terminal (\\(v_{n 1}\\)), at a midpoint node (\\(v_{n 2}\\)), or at the output terminal (\\(v_{n 3}\\)). As illustrated in Figure 7.7, we utilize summation nodes, or summers, to simulate the points where noise components enter. Additionally, to model the noise introduced at intermediate stages, we divide the amplifier into two sections with separate gains \\(a_{1}\\) and \\(a_{2}\\) each (notably, the total gain is \\(a=a_{1} \\times a_{2}\\)). Starting from the rightmost section and proceeding to the left, we formulate the following equation:\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nimage_name:Figure 7.7\ndescription:The system's block diagram, as depicted in Figure 7.7, provides a model for examining the impact of negative feedback on voltage noise. The diagram is composed of several critical elements arranged sequentially to demonstrate the introduction and amplification of various noise components within a feedback system.\n\n1. **Principal Components:**\n- **Summers (Σ):** The diagram contains three summers. These components simulate the entry points of different noise components. Each summer adds its corresponding noise voltage to the signal.\n- **Amplifiers (a₁ and a₂):** The system is equipped with two amplifiers, each having a gain labeled as \\(a₁\\) and \\(a₂\\), respectively. These amplifiers are used to enhance the input signal and the noise components.\n- **Feedback Amplifier (b):** A feedback path is included with a gain denoted as \\(b\\), which serves to provide negative feedback to the system.\n\n2. **Flow of Information or Control:**\n- The input voltage \\(v_i\\) enters the first summer, where it combines with a noise component \\(v_{n1}\\) and a feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- The output of the first summer is then amplified by the first amplifier with a gain of \\(a₁\\).\n- The amplified signal is directed into the second summer, where another noise component \\(v_{n2}\\) is added.\n- This combined signal is further amplified by the second amplifier with a gain of \\(a₂\\).\n- The output of the second amplifier is then passed to the third summer, where the final noise component \\(v_{n3}\\) is incorporated.\n- The final output voltage \\(v_o\\) is obtained from the output of the third summer.\n- The feedback loop is closed by returning \\(v_o\\) to the feedback amplifier with a gain of \\(b\\), which produces \\(v_f\\), and this is subtracted in the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is marked with a plus sign to signify the addition of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The amplifiers' gains are labeled as \\(a₁\\) and \\(a₂\\), while the feedback gain is labeled as \\(b\\).\n\n4. **Overall System Function:**\n- The primary purpose of this system is to simulate the effect of negative feedback on voltage noise in an amplifier circuit. The arrangement of summers and amplifiers shows how noise is introduced at various levels and how feedback affects the overall outcome. The system's closed-loop gain is determined by the product of the individual gains and the feedback factor, which amplifies both the input signal and the noise terms while stabilizing the system through negative feedback.\n\nFigure 7.7 Model for investigating the effect of negative feedback on voltage noise, where we denote \\(v_{f}=b v_{o}\\). By consolidating, letting \\(a=a_{1} \\times a_{2}\\), and solving for \\(v_{o}\\), we derive, after some algebraic manipulation,\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere \\(A\\) represents the closed-loop gain of Equation (7.17). Notably, a negative-feedback circuit amplifies all three noise terms with the same gain \\(A\\) as the useful signal \\(v_{i}\\). However, while \\(v_{n 1}\\) remains unchanged, \\(v_{n 2}\\) is divided by \\(a_{1}\\), and \\(v_{n 3}\\) is divided by \\(a_{1} \\times a_{2}\\). We summarize this by stating that in a negative-feedback circuit, a noise component, when reflected back to the input, is divided by the gain(s) of the stage(s) ahead of it. This characteristic is often utilized to diminish the influence of a specific noise source, such as hum that enters the power stage of an audio system. By inserting an additional amplifier with an appropriate high gain before this stage and closing a negative-feedback loop around the combined circuit, one can make the hum component, when reflected to the input, as minimal as desired compared to the audio signal \\(v_{i}\\), thereby improving the signal-to-noise ratio to an acceptable level.\n\nTo illustrate the beneficial effects of negative feedback on noise, consider the configuration in Figure 7.8a, where a source \\(v_{I}\\) is routed to a load \\(R_{L}\\) via the Class AB push-pull stage \\(Q_{1}-Q_{2}\\). Ideally, the buffer should produce\n\n$$\nv_{O(\\text { deal })}=v_{I}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Q1, type: NPN, ports: {C: VCC, B: VI, E: VO}\nname: Q2, type: PNP, ports: {C: VEE, B: VI, E: VO}\nname: V1, type: VoltageSource, value: V1, ports: {Np: VI, Nn: GND}\nname: RL, type: Resistor, value: 1kΩ, ports: {N1: VO, N2: GND}\n]\nextrainfo:The circuit is a Class AB push-pull amplifier with a voltage source V1 driving a load resistor RL through transistors Q1 (NPN) and Q2 (PNP). The power supply voltages are VCC (+5V) and VEE (-5V).\n\n(a)\nimage_name:(b) Input and output waveforms\ndescription:The provided graph contains two components: the upper component displays input and output waveforms, while the lower component presents the output noise.\n\n**Top Graph: Input and Output Waveforms**\n- **Graph Type:** Time-domain waveform.\n- **Axes and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage in volts (V), ranging from -2.0 V to 2.0 V.\n- **Behavior and Trends:**\n- The input waveform is a sine wave with peaks around ±2 V.\n- The output waveform \\( v_O \\) follows the input waveform but exhibits noticeable distortion around the zero-crossing points due to the dead zone created by the 0.7 V threshold needed to activate the BJTs.\n- The ideal output \\( v_{O(ideal)} \\) is also plotted, representing a perfect sine wave without distortion.\n- **Key Features and Technical Details:**\n- The output waveform \\( v_O \\) deviates from the ideal waveform within the range of -0.7 V to 0.7 V, where the output is held at zero, illustrating the dead zone effect.\n- Beyond this range, the output approximates the input but is offset by ±0.7 V, as explained in the context.\n\n**Bottom Graph: Output Noise**\n- **Graph Type:** Time-domain waveform.\n- **Axes and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_N \\) in volts (V), ranging from -2.0 V to 2.0 V.\n- **Behavior and Trends:**\n- The output noise \\( v_N \\) presents a rectangular waveform pattern, characterized by distinct flat regions around ±0.7 V.\n- **Key Features and Technical Details:**\n- The noise waveform signifies the difference between the actual output and the ideal output, emphasizing the distortion primarily around the zero-crossing points.\n- The noise levels are consistent with the dead zone effect, maintaining a flat level during these intervals and returning to zero when the input signal is strong enough to surpass the transistor threshold voltage.\n\nThis analysis offers a comprehensive grasp of the noise characteristics at the output of a Class AB push-pull amplifier circuit, demonstrating the influence of transistor turn-on thresholds on the output waveform.\n\n(b)\n\nFigure 7.8 (a) PSpice simulation of a source \\(v_{\\text {, }}\\) powering a load \\(R_{L}\\) through a push-pull stage \\(Q_{1}-Q_{2}\\). (b) Input and output waveforms (top), and output noise \\(v_{N}=v_{0}-v_{\\text {O(idea) }}\\) (bottom).\n\nNonetheless, as it requires approximately 0.7 V for each BJT to activate, the circuit generates \\(v_{O}=0\\) for \\(-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}\\), \\(v_{O} \\cong v_{I}-0.7 \\mathrm{~V}\\) for \\(v_{I}>0.7 \\mathrm{~V}\\), and \\(v_{O} \\cong v_{I}+0.7 \\mathrm{~V}\\) for \\(v_{I}<0.7 \\mathrm{~V}\\). The waveforms depicted in Figure 7.8b (top) reveal a severely distorted output. Indeed, the non-linearity of the push-pull stage seems to inject the voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\ndemonstrated in Figure 7.8b (bottom). To diminish \\(v_{N}\\), we can precede the buffer with an appropriate error amplifier and then close a negative-feedback loop around the combined circuit. The example in Figure 7.9a employs an amplifier with a gain of only \\(a=10 \\mathrm{~V} / \\mathrm{V}\\) and a plain wire as the feedback network to achieve \\(b=1 \\mathrm{~V} / \\mathrm{V}\\). The resulting reduction in distortion can be observed by comparing the waveforms in Figure 7.9b (top and middle) with those in Figure 7.8b (top and bottom). It is evident that incorporating the amplifier reduces the 0.7-V voltage drops to approximately \\((0.7 \\mathrm{~V}) / a\\), or 0.07 V in our instance.\nimage_name:(a)\ndescription:\n[\nname: V_I, type: VoltageSource, value: V_I, ports: {Np: V_I, Nn: GND}\nname: U1, type: OpAmp, value: 10 V/V, ports: {InP: V_I, InN: V_F, OutP: V_OA, OutN: GND}\nname: Q1, type: NPN, ports: {C: V_CC, B: V_OA, E: V_O}\nname: Q2, type: PNP, ports: {C: V_EE, B: V_OA, E: V_O}\nname: R_L, type: Resistor, value: 1 kΩ, ports: {N1: V_O, N2: GND}\n]\nextrainfo:The circuit incorporates an op-amp with a gain of 10 V/V in a negative-feedback setup to drive a push-pull stage comprising NPN and PNP transistors. This configuration is used to reduce output distortion by minimizing voltage drops across the transistors.\n\n(a)\nimage_name:I/O waveforms\ndescription:The graph comprises three subplots, each showing various aspects of the circuit's performance over time. The horizontal axis in all graphs is labeled as time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n\n1. **Top Subplot: I/O Waveforms**\n- **Graph Type:** Time-domain waveform.\n- **Axes and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Behavior and Trends:** The plot presents two waveforms: the actual output voltage \\( v_O \\) and the ideal output voltage \\( v_{O(ideal)} \\). Both waveforms are sinusoidal with a peak-to-peak amplitude of around 4 V, oscillating between -2 V and 2 V.\n- **Key Features and Technical Details:** The actual output \\( v_O \\) closely tracks the ideal output \\( v_{O(ideal)} \\), with minor discrepancies indicating slight distortion.\n\n2. **Middle Subplot: Output Noise**\n- **Graph Type:** Time-domain waveform.\n- **Axes and Units:** The vertical axis represents voltage \\( V \\) in volts, ranging from -2.0 V to 2.0 V.\n- **Behavior and Trends:** This plot shows the output noise \\( v_N \\), which is the difference between the actual output and the ideal output. The waveform oscillates around 0 V, with small amplitude fluctuations indicating the presence of noise or distortion. The noise peaks are relatively minor, staying well within ±0.5 V, suggesting minimal distortion.\n\n3. **Bottom Subplot: Amplifier Waveforms**\n- **Graph Type:** Time-domain waveform.\n- **Axes and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Behavior and Trends:** This plot depicts the amplifier output voltage \\( v_{OA} \\) and the actual output voltage \\( v_O \\). The amplifier output \\( v_{OA} \\) has a higher amplitude and shows more pronounced peaks and troughs compared to \\( v_O \\).\n- **Key Features and Technical Details:** The amplifier output waveform \\( v_{OA} \\) is more exaggerated, indicating the amplifier's role in driving the push-pull stage and mitigating distortion.\n\nIn summary, these graphs highlight the effectiveness of the negative-feedback loop in diminishing output distortion, with the amplifier actively adjusting to minimize the discrepancy between the actual and ideal output voltages.\nimage_name:Output noise\ndescription:The 'Output noise' graph is one of three time-domain waveform graphs. Each graph is plotted over a time interval ranging from 0 to 2 milliseconds (ms) on the x-axis. The y-axis of each graph represents voltage in volts (V), with a range from -2.0 V to 2.0 V.\n\n1. **Top Graph (I/O Waveforms):**\n- This graph compares the actual output voltage $v_O$ with the ideal output voltage $v_{O(ideal)}$. The ideal waveform is depicted as a smooth sine wave oscillating between 2.0 V and -2.0 V, suggesting a perfect sinusoidal input. The actual output waveform $v_O$ closely follows the ideal but shows slight deviations, indicating minor distortions.\n\n2. **Middle Graph (Output Noise):**\n- This graph illustrates the output noise $v_N$, which is defined as the difference between the actual output voltage $v_O$ and the ideal output voltage $v_{O(ideal)}$. The waveform oscillates around 0 V, with small amplitude variations indicating the presence of noise or distortion. The noise peaks are relatively small, remaining well within ±0.5 V, showing that the distortion is minimal.\n\n3. **Bottom Graph (Amplifier Waveforms):**\n- This graph displays the amplifier output waveform $v_{OA}$ in comparison to the actual output $v_O$. The amplifier output $v_{OA}$ shows a more pronounced deviation from the sinusoidal shape, particularly at the peaks and troughs, illustrating the amplifier's role in compensating for distortion and keeping the output close to the ideal.\n\nOverall, these graphs depict the efficiency of the negative-feedback loop in reducing output distortion, with the amplifier actively adjusting to minimize the difference between the actual and ideal output voltages.\nimage_name:Amplifier waveforms\ndescription:The \"Amplifier waveforms\" graph consists of three subplots, each showcasing a distinct aspect of the amplifier's performance over time.\n\n1. **Top Plot (I/O waveforms):**\n- **Type:** Time-domain waveform.\n- **Axes:** The horizontal axis is labeled time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms, and the vertical axis is voltage (V), ranging from -2 V to 2 V.\n- **Behavior:** The plot features two waveforms: the ideal output voltage \\( v_{O(ideal)} \\) and the actual output voltage \\( v_O \\). Both waveforms are sinusoidal with a peak-to-peak amplitude of approximately 4 V, oscillating between -2 V and 2 V.\n- **Key Features and Technical Details:** The actual output \\( v_O \\) closely follows the ideal output \\( v_{O(ideal)} \\), with minor deviations indicating slight distortion.\n\n2. **Middle Plot (Output noise):**\n- **Type:** Time-domain waveform.\n- **Axes:** The horizontal axis is time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms, and the vertical axis is voltage (V), ranging from -2 V to 2 V.\n- **Behavior:** This plot shows the output noise \\( v_N \\), defined as the difference between the actual output and the ideal output. The noise waveform oscillates around 0 V, indicating minor deviations from the ideal output.\n- **Key Features and Technical Details:** The noise is relatively small compared to the main signal, with the amplitude of the noise waveform remaining well below ±0.5 V, suggesting minimal distortion.\n\n3. **Bottom Plot (Amplifier waveforms):**\n- **Type:** Time-domain waveform.\n- **Axes:** The horizontal axis is time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms, and the vertical axis is voltage (V), ranging from -2 V to 2 V.\n- **Behavior:** This plot depicts the op-amp output \\( v_{OA} \\) and the actual output \\( v_O \\). The op-amp output waveform has a higher amplitude and shows more pronounced peaks and troughs compared to \\( v_O \\).\n- **Key Features and Technical Details:** The op-amp output waveform \\( v_{OA} \\) is more exaggerated, indicating the amplifier's role in driving the push-pull stage and compensating for distortion, with the op-amp output being"
},
{
    "text": "---[Attention]---\nImage Descriptions: All images referenced within the [Context Provided] section have been converted into textual descriptions. This rephrased text preserves the original meaning and length.\n---[Task]---\nPlease rephrase the provided text in the [Context Provided] Section, ensuring the rephrased version retains the original meaning and length. Only output the rephrased text.\n---[Context Provided]---\nThe rephrased text:\n```\nWe aim to explore how negative feedback impacts noise disturbances within amplifiers. Noise, or disturbances, can enter the amplifier at the input node \\(v_{n1}\\), at an intermediate node \\(v_{n2}\\), or at the output node \\(v_{n3}\\). As illustrated in Fig. 7.7, we utilize summer circuits to represent the entry points of various noise sources. Additionally, to simulate the insertion of intermediate noise, we divide the amplifier into two sections with individual gains \\(a_1\\) and \\(a_2\\) (hence, the total gain is \\(a=a_1 \\times a_2\\)). Starting from the right side and moving towards the left, we express the voltage at the output, \\(v_o\\), as follows:\n\n$$\nv_{o}=v_{n3}+a_{2}\\left[v_{n2}+a_{1}\\left(v_{i}+v_{n1}-b v_{o}\\right)\\right]\n$$\n\nFigure 7.7: System block diagram for investigating the effect of negative feedback on voltage noise.\n\n1. **Main Components:**\n- **Summers (Σ):** The diagram features three summers, each representing a point where noise is introduced into the signal path.\n- **Amplifiers (a₁ and a₂):** The system includes two amplifiers with gains \\(a_1\\) and \\(a_2\\) to amplify the input signal and noise.\n- **Feedback Amplifier (b):** The feedback path employs a gain \\(b\\) to apply negative feedback to the system.\n\n2. **Flow of Information or Control:**\n- The input voltage \\(v_i\\) is combined with \\(v_{n1}\\) and feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)) in the first summer.\n- This combination is then amplified by \\(a_1\\) in the first amplifier.\n- The resulting signal is summed with \\(v_{n2}\\) in the second summer and amplified by \\(a_2\\) in the second amplifier.\n- The output of the second amplifier feeds the third summer, which adds the final noise component \\(v_{n3}\\).\n- The output voltage \\(v_o\\) is the result from the third summer.\n- The feedback loop closes by feeding \\(v_o\\) back through the feedback amplifier, producing \\(v_f\\), which is subtracted in the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is marked with a plus sign to signify the addition of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The amplifiers' gains are labeled as \\(a_1\\) and \\(a_2\\), and the feedback gain as \\(b\\).\n\n4. **Overall System Function:**\n- The system's primary role is to model how negative feedback influences voltage noise in an amplifier circuit. The arrangement of summers and amplifiers demonstrates how noise is introduced and amplified within a feedback loop. The system's closed-loop gain is the product of the individual gains and the feedback factor, responsible for amplifying the input signal and noise while stabilizing the circuit through negative feedback.\n\nModel in Fig. 7.7 for examining the impact of negative feedback on voltage noise.\nHere, \\(v_{f}=b v_{o}\\). Summing up and assuming \\(a=a_{1} \\times a_{2}\\), we solve for \\(v_{o}\\) after some algebraic manipulation, resulting in:\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere \\(A\\) is the closed-loop gain from Eq. (7.17). Noticing that the negative-feedback circuit amplifies all noise terms at the same gain \\(A\\) as the useful signal \\(v_{i}\\), we deduce that the noise components are amplified identically. Although \\(v_{n 1}\\) remains unchanged, \\(v_{n 2}\\) is divided by \\(a_{1}\\), and \\(v_{n 3}\\) by \\(a_{1} \\times a_{2}\\). This indicates that in a negative-feedback circuit, a noise component reflected to the input is divided by the gains of the stages preceding it. This property is often utilized to mitigate the impact of noise sources, like hum in audio systems. By using a high-gain amplifier before this stage and implementing negative feedback around the combined circuit, we can minimize the hum component reflected at the input, enhancing the signal-to-noise ratio to an acceptable level.\n\nA striking example of negative feedback's beneficial effect on noise is demonstrated in Fig. 7.8a, where a source \\(v_{I}\\) is buffered to a load \\(R_{L}\\) through the Class AB push-pull stage \\(Q_{1}-Q_{2}\\). Ideally, the buffer should output\n\n$$\nv_{O(\\text { deal })}=v_{I}\n$$\n\nFigure 7.8a: PSpice circuit simulating a source \\(v_{I}\\) driving a load \\(R_{L}\\) through a push-pull stage \\(Q_{1}-Q_{2}\\).\n\n(a)\nFigure 7.8b: Input and output waveforms (top), and output noise (bottom).\n\n**Top Graph: Input and Output Waveforms**\n- **Graph Type:** Time-domain waveform.\n- **Axes and Units:** X-axis: Time \\( t \\) in milliseconds (ms), Y-axis: Voltage in volts (V).\n- **Behavior:** The input waveform is a sinusoidal with peaks at approximately ±2 V. The output waveform \\( v_O \\) follows the input but is distorted around the zero-crossing points due to the dead zone created by the 0.7 V threshold required to turn on the BJTs.\n- **Key Features:** The output waveform \\( v_O \\) deviates from the ideal waveform within the range of -0.7 V to 0.7 V, where the output remains at zero, highlighting the dead zone effect. Outside this range, the output matches the input but offset by ±0.7 V, as described in the context.\n\n**Bottom Graph: Output Noise**\n- **Graph Type:** Time-domain waveform.\n- **Axes and Units:** X-axis: Time \\( t \\) in milliseconds (ms), Y-axis: Output noise voltage \\( v_N \\) in volts (V).\n- **Behavior:** The output noise \\( v_N \\) is a stepped waveform with distinct flat regions at approximately ±0.7 V.\n- **Key Features:** The noise waveform indicates the difference between the actual output and the ideal output, focusing on distortion primarily around the zero-crossing points.\n\nFigure 7.8 (a) PSpice circuit simulating a source \\(v_{I}\\) driving a load \\(R_{L}\\) via a push-pull stage \\(Q_{1}-Q_{2}\\). (b) Input and output waveforms (top), and output noise \\(v_{N}=v_{0}-v_{\\text {O(idea) }}\\) (bottom).\n\nHowever, since it takes about 0.7 V for each BJT to turn on, the circuit provides \\(v_{O}=0\\) for \\(-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}\\), \\(v_{O} \\cong v_{I}-0.7 \\mathrm{~V}\\) for \\(v_{I}>0.7 \\mathrm{~V}\\), and \\(v_{O} \\cong v_{I}+0.7 \\mathrm{~V}\\) for \\(v_{I}<0.7 \\mathrm{~V}\\). The waveforms in Fig. 7.8b (top) reveal a severely distorted output. In reality, the non-linearity of the push-pull stage injects voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\nas depicted in Fig. 7.8b (bottom). We can diminish \\(v_{N}\\) by inserting an error amplifier before the buffer and then wrapping a negative-feedback loop around the entire circuit. The example in Fig. 7.9a employs an amplifier with gain \\(a=\\) \\(10 \\mathrm{~V} / \\mathrm{V}\\) and a simple wire as the feedback network to give \\(b=1 \\mathrm{~V} / \\mathrm{V}\\). The subsequent reduction in distortion is evident when comparing the waveforms in Fig. 7.9b (top and middle) with those in Fig. 7.8b (top and bottom). It is clear that incorporating the amplifier lessens the 0.7-volt drops to about \\((0.7 \\mathrm{~V}) / a\\), or 0.07 V in this instance.\n\nFigure 7.9a: Preceding the push-pull stage of Fig. 7.8a by an amplifier and wrapping a negative-feedback loop around the entire circuit to minimize output distortion.\n\nFigure 7.9b: Input and output waveforms (top), output noise \\(v_{N}=v_{O}-v_{\\text {O(ideal) }}\\) (middle), and the op amp output waveform \\(v_{O A}\\) (bottom).\n\nThe key to understanding the amplifier's function is to visualize its output \\(v_{O A}\\), which is presented in Fig. 7.9b (bottom). To closely mimic \\(v_{O}\\), the amplifier must move its output \\(v_{O A}\\) approximately 0.7 V above \\(v_{O}\\) during positive alternations and 0.7 V below \\(v_{o}\\) during negative alternations. In this example, we utilized an amplifier with a gain of only \\(10 \\mathrm{~V} / \\mathrm{V}\\), but a unit with a higher gain would reduce distortion proportionally, resulting in a more accurate representation of \\(v_{I}\\). We have encountered this behavior previously in the context of the superdiode circuit in Section 1.10. Now, we are merely revisiting the same concept, but from the perspective of negative feedback.\n\nNote: The objective of the negative-feedback circuit example in Fig. 7.9a is to create an amplifier with a gain \\(A=1 \\mathrm{~V} / \\mathrm{V}\\) and less distortion. To achieve this, we incorporate an error amplifier with gain \\(a=10 \\mathrm{~V} / \\mathrm{V}\\). By doing so, we effectively sacrifice a gain-of-ten to obtain only a gain-of-one, but this cost is justified by the significant reduction in distortion. It is essential to differentiate between the basic error amplifier and the overall amplifier resulting from operating the error amplifier in conjunction with the negative feedback network (simply a wire in this case).\n```"
},
{
    "text": "The effect of negative feedback on the introduction of noise into an amplifier is a topic we aim to explore. Disturbances, also known as noise, can infiltrate the amplifier at the input node \\(v_{n 1}\\), at an intermediate node \\(v_{n 2}\\), or at the output node \\(v_{n 3}\\). As depicted in Figure 7.7, we utilize summers to represent the entry points for various noise components. Additionally, to model the entry of noise at intermediate stages, we divide the amplifier into two sections with individual gains \\(a_{1}\\) and \\(a_{2}\\), respectively (the combined gain is \\(a = a_{1} \\times a_{2}\\)). Starting from the right side and moving progressively to the left, we express the following equation:\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nIn Figure 7.7, the system block diagram is presented to illustrate a model for studying the impact of negative feedback on voltage noise. The diagram includes key components arranged sequentially to demonstrate the introduction and amplification of various noise components within a feedback loop.\n\n1. **Principal Components:**\n- **Summers (Σ):** There are three summers in the diagram, which are used to simulate the entry points of noise components. Each summer adds its corresponding noise voltage to the signal.\n- **Amplifiers (a₁ and a₂):** The system includes two amplifiers, each with gains denoted as \\(a₁\\) and \\(a₂\\). These amplifiers are used to amplify the input signal and the noise components.\n- **Feedback Amplifier (b):** A feedback path is incorporated with a gain denoted as \\(b\\), which serves to provide negative feedback to the system.\n\n2. **Flow of Information or Control:**\n- The input voltage \\(v_i\\) enters the first summer, where it combines with a noise component \\(v_{n1}\\) and a feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- The output of the first summer is then amplified by the first amplifier with gain \\(a₁\\).\n- The amplified signal is fed into the second summer, where another noise component \\(v_{n2}\\) is added.\n- This combined signal is then amplified by the second amplifier with gain \\(a₂\\).\n- The output of the second amplifier is fed into the third summer, where the final noise component \\(v_{n3}\\) is added.\n- The final output voltage \\(v_o\\) is obtained from the output of the third summer.\n- The feedback loop is closed by feeding \\(v_o\\) back through the feedback amplifier with gain \\(b\\), producing \\(v_f\\), which is subtracted at the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is labeled with a plus sign to denote the addition of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The gains of the amplifiers are labeled as \\(a₁\\) and \\(a₂\\), with the feedback gain labeled as \\(b\\).\n\n4. **Overall System Function:**\n- The primary function of this system is to simulate the effect of negative feedback on voltage noise within an amplifier circuit. The arrangement of summers and amplifiers illustrates how noise is introduced at different stages and how feedback affects the overall output. The closed-loop gain of the system is determined by the product of the individual gains and the feedback factor, effectively amplifying both the input signal and the noise terms while stabilizing the system through negative feedback.\n\nIn Figure 7.7, we present a model designed to examine the influence of negative feedback on voltage noise. The variable \\(v_{f}\\) is defined as \\(b v_{o}\\). By collecting terms, assuming \\(a = a_{1} \\times a_{2}\\), and solving for \\(v_{o}\\), after simplification, we obtain:\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere \\(A\\) is the closed-loop gain of Equation (7.17). We note that a negative-feedback circuit amplifies all three noise terms with the same gain \\(A\\) as the useful signal \\(v_{i}\\). While \\(v_{n 1}\\) remains unchanged, \\(v_{n 2}\\) is divided by \\(a_{1}\\), and \\(v_{n 3}\\) is divided by \\(a_{1} \\times a_{2}\\). This can be summarized by stating that in a negative-feedback circuit, a noise component reflected to the input is divided by the gain(s) of the stage(s) preceding it. This property is frequently utilized to diminish the impact of a specific noise source, such as hum entering the power stage of an audio system. If we precede this stage with an extra amplifier having an appropriately high gain and close a negative-feedback loop around the combined circuit, we can reduce the hum component reflected to the input to an extremely low level compared to the audio signal \\(v_{i}\\), thereby enhancing the signal-to-noise ratio to an acceptable level.\n\nTo demonstrate the therapeutic effects of negative feedback on noise, consider the configuration of Figure 7.8a, in which a source \\(v_{I}\\) is buffered to a load \\(R_{L}\\) via a Class AB push-pull stage \\(Q_{1}-Q_{2}\\). Ideally, the buffer should provide\n\n$$\nv_{O(\\text { deal })}=v_{I}\n$$\n\nIn Figure 7.8a, a Class AB push-pull amplifier circuit is simulated using PSpice, with a voltage source \\(V1\\) driving a load resistor \\(R_{L}\\) through transistors \\(Q_{1}\\) (NPN) and \\(Q_{2}\\) (PNP). The power supply voltages are \\(V_{CC}\\) (+5V) and \\(V_{EE}\\) (-5V).\n\nIn Figure 7.8b (top), the waveforms of the input and output are depicted, showing the input waveform as a sinusoidal wave and the output waveform as following the input waveform but with distortion around the zero-crossing points due to the dead zone created by the 0.7V threshold required to turn on the BJTs. The ideal output \\(v_{O(ideal)}\\) is also plotted, indicating a perfect sinusoidal shape without distortion.\n\nIn Figure 7.8b (bottom), the output noise \\(v_{N}=v_{0}-v_{O(ideal)}\\) is displayed. The noise waveform indicates the difference between the actual output and the ideal output, highlighting the distortion primarily around the zero-crossing points. The noise levels are consistent with the dead zone effect, remaining flat during these periods and returning to zero when the input signal is sufficient to surpass the transistor threshold voltage.\n\nTo reduce the output noise \\(v_{N}\\), an error amplifier with a suitable gain can be added before the buffer stage, and a negative-feedback loop can be closed around the composite circuit. The example shown in Figure 7.9a employs an amplifier with a gain of only \\(a = 10 \\mathrm{~V} / \\mathrm{V}\\), and a simple wire as the feedback network to yield \\(b = 1 \\mathrm{~V} / \\mathrm{V}\\). The resulting reduction in distortion is apparent when comparing the waveforms of Figure 7.9b (top and middle) with those of Figure 7.8b (top and bottom). It can be observed that the inclusion of the amplifier causes the 0.7V voltage drops to appear as if they were reduced to approximately \\((0.7 \\mathrm{~V}) / a\\), or 0.07V in our case.\n\nFigure 7.9a shows a circuit that precedes the push-pull stage of Figure 7.8a with an amplifier and closes a negative-feedback loop around the entire circuit to minimize output distortion. Figure 7.9b (top and middle) illustrates the input and output waveforms, while Figure 7.9b (bottom) displays the op-amp output waveform \\(v_{OA}\\).\n\nTo fully appreciate the role of the amplifier, its output \\(v_{OA}\\) is also presented in Figure 7.9b (bottom). The amplifier, in an attempt to make \\(v_{O}\\) follow \\(v_{I}\\), must swing its output \\(v_{OA}\\) about 0.7V above and 0.7V below \\(v_{O}\\) during positive and negative alternations, respectively. In this example, an amplifier with a gain of \\(10 \\mathrm{~V} / \\mathrm{V}\\) is used, but a unit with a higher gain would reduce distortion proportionally, making \\(v_{O}\\) a more accurate replica of \\(v_{I}\\). This behavior has been previously observed in the context of the superdiode circuit of Section 1.10 and is now revisited from the perspective of negative feedback.\n\nThe objective of the negative-feedback circuit example in Figure 7.9a is to create an amplifier with a gain \\(A = 1 \\mathrm{~V} / \\mathrm{V}\\) and reduced distortion. This is achieved by inserting an error amplifier with a gain \\(a = 10 \\mathrm{~V} / \\mathrm{V}\\). By doing so, a gain-of-ten is discarded to achieve only a gain-of-one, but this cost is justified by the subsequent reduction in distortion. It is crucial to differentiate between the basic error amplifier and the overall amplifier obtained by operating the former in conjunction with the negative feedback network, which, in this example, is a simple wire."
},
{
    "text": "In our pursuit of examining the impact of negative feedback on disruptions, or noise as we shall denote it, we will explore this further. Noise can potentially infiltrate the amplifier at its input node, at a midway node, or at its output node. Figure 7.7 presents our model for this analysis, utilizing summers to represent the entry points of the diverse noise elements. Furthermore, we dissect the amplifier into two stages, each with distinct gains \\(a_1\\) and \\(a_2\\) (where the cumulative gain is \\(a = a_1 \\times a_2\\)). Moving from right to left, we derive the following expression:\n\n$$\nv_{o} = v_{n 3} + a_{2}\\left[v_{n 2} + a_{1}\\left(v_{i} + v_{n 1} - b v_{o}\\right)\\right]\n$$\n\nThe system block diagram, depicted in Figure 7.7, serves as our tool to study the influence of negative feedback on voltage noise. The diagram comprises several critical elements arranged in a logical order to illustrate the introduction and amplification of various noise components within a feedback loop.\n\n1. **Primary Components:**\n- **Summers (Σ):** Our diagram contains three summers, which are responsible for simulating the noise entry points. Each summer incorporates its respective noise voltage into the signal.\n- **Amplifiers (a₁ and a₂):** The system is equipped with two amplifiers, both denoted with gains \\(a_1\\) and \\(a_2\\), which amplify the input signal and the noise components.\n- **Feedback Amplifier (b):** A feedback path is in place with a gain denoted as \\(b\\), serving to apply negative feedback to the system.\n\n2. **Information or Control Flow:**\n- The input voltage \\(v_i\\) commences its journey at the first summer, merging with a noise component \\(v_{n1}\\) and a feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- This output from the first summer is then magnified by the first amplifier with gain \\(a_1\\).\n- The amplified signal is then passed to the second summer, where an additional noise component \\(v_{n2}\\) is integrated.\n- This combined signal is then magnified by the second amplifier with gain \\(a_2\\).\n- The output from the second amplifier is conveyed to the third summer, where the ultimate noise component \\(v_{n3}\\) is added.\n- The final output voltage \\(v_o\\) is extracted from the third summer.\n- The feedback loop is concluded by routing \\(v_o\\) back through the feedback amplifier with gain \\(b\\) to produce \\(v_f\\), which is subtracted at the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is marked with a plus sign to signify the incorporation of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The gains of the amplifiers are identified as \\(a_1\\) and \\(a_2\\), with the feedback gain designated as \\(b\\).\n\n4. **Overall System Function:**\n- The system's primary role is to mimic the effect of negative feedback on voltage noise within an amplifier circuit. The arrangement of summers and amplifiers showcases how noise is introduced across different stages and how feedback shapes the overall output. The closed-loop gain of the system is dictated by the product of the individual gains and the feedback factor, thus enhancing both the input signal and noise terms while stabilizing the system through negative feedback.\n\nFor our model to assess the impact of negative feedback on voltage noise, we denote \\(v_{f}=b v_{o}\\) and, upon consolidating, setting \\(a=a_{1} \\times a_{2}\\), and solving for \\(v_{o}\\), we find, after a little algebra,\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere \\(A\\) is the closed-loop gain of Eq. (7.17). We note that a negative-feedback circuit amplifies all three noise components with the same gain \\(A\\) as the signal \\(v_{i}\\). However, while \\(v_{n 1}\\) remains unchanged, \\(v_{n 2}\\) is divided by \\(a_{1}\\), and \\(v_{n 3}\\) is divided by \\(a_{1} \\times a_{2}\\). We summarize this by stating that in a negative-feedback circuit, a noise component, when reflected back to the input, is divided by the gain(s) of the preceding stage(s). This characteristic is frequently utilized to mitigate the impact of a particular noise source, such as hum in the power stage of an audio system. By inserting an additional amplifier with a high gain before this stage and closing a negative-feedback loop around the combined circuit, we can diminish the hum component at the input to a level as low as desired relative to the audio signal \\(v_{i}\\), thereby enhancing the signal-to-noise ratio to an acceptable level.\n\nA striking illustration of the remedial properties of negative feedback on noise can be seen in the scenario of Figure 7.8a, where a source \\(v_{I}\\) is routed to a load \\(R_{L}\\) through the Class AB push-pull stage \\(Q_{1}-Q_{2}\\). Ideally, the buffer should provide \\(v_{O(\\text {deal })}=v_{I}\\). However, since it requires approximately 0.7 V for each BJT to activate, the circuit produces \\(v_{O}=0\\) for \\(-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}\\), \\(v_{O} \\cong v_{I}-0.7 \\mathrm{~V}\\) for \\(v_{I}>0.7 \\mathrm{~V}\\), and \\(v_{O} \\cong v_{I}+0.7 \\mathrm{~V}\\) for \\(v_{I}<0.7 \\mathrm{~V}\\). The waveforms depicted in Figure 7.8b (top) reveal a significantly distorted output. Essentially, the non-linearity of the push-pull stage appears to inject voltage noise given by\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\nas shown in Figure 7.8b (bottom). We can decrease \\(v_{N}\\) by preceding the buffer with an appropriate error amplifier and then closing a negative-feedback loop around the combined circuit. The example in Figure 7.9a utilizes an amplifier with a gain of only \\(a=10 \\mathrm{~V} / \\mathrm{V}\\), and a plain wire as the feedback network to yield \\(b=1 \\mathrm{~V} / \\mathrm{V}\\). The resultant decrease in distortion is evident by contrasting the waveforms in Figure 7.9b (top and middle) with those in Figure 7.8b (top and bottom). It is apparent that the inclusion of the amplifier reduces the 0.7-V voltage drops to approximately \\((0.7 \\mathrm{~V}) / a\\), or 0.07 V in this case.\n\nHowever, as turning on each BJT necessitates about 0.7 V, the circuit yields \\(v_{O}=0\\) for \\(-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}\\), \\(v_{O} \\cong v_{I}-0.7 \\mathrm{~V}\\) for \\(v_{I}>0.7 \\mathrm{~V}\\), and \\(v_{O} \\cong v_{I}+0.7 \\mathrm{~V}\\) for \\(v_{I}<0.7 \\mathrm{~V}\\). The waveforms presented in Figure 7.8b (top) display a markedly distorted output. In fact, it seems as though the non-linearity of the push-pull stage injects voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\nas depicted in Figure 7.8b (bottom). We can reduce \\(v_{N}\\) by positioning a suitable error amplifier ahead of the buffer and then closing a negative-feedback loop around the entire circuit. The circuit depicted in Figure 7.9a uses an amplifier with a gain of merely \\(a=10 \\mathrm{~V} / \\mathrm{V}\\), and a simple wire as the feedback network to achieve \\(b=1 \\mathrm{~V} / \\mathrm{V}\\). The resulting reduction in distortion can be appreciated by comparing the waveforms in Figure 7.9b (top and middle) with their counterparts in Figure 7.8b (top and bottom). One can clearly see that the addition of the amplifier renders the 0.7-V voltage drops as if they were diminished to about \\((0.7 \\mathrm{~V}) / a\\), or 0.07 V in this instance.\n\nTo gain a comprehensive grasp of the output noise characteristics within the context of a Class AB push-pull amplifier circuit, it is instructive to also display the output of the amplifier, which is presented in Figure 7.9b (bottom). As the amplifier endeavors to make \\(v_{O}\\) mimic \\(v_{I}\\), it must adjust its output \\(v_{O A}\\) by approximately 0.7 V in relation to \\(v_{O}\\) during positive alternations, and by 0.7 V below \\(v_{o}\\) during negative alternations. In this case, we have employed an amplifier with a gain of only \\(10 \\mathrm{~V} / \\mathrm{V}\\), but a unit with a higher gain will proportionally reduce distortion, making \\(v_{O}\\) a closer replica of \\(v_{I}\\). This behavior has previously been observed in relation to the superdiode circuit in Section 1.10. We are merely revisiting a familiar concept, now viewed through the lens of negative feedback.\n\nNote: The objective of the negative-feedback circuit example in Figure 7.9a is to construct an amplifier with a gain \\(A=1 \\mathrm{~V} / \\mathrm{V}\\) and minimized distortion. To achieve this, we incorporate an error amplifier with a gain \\(a=10 \\mathrm{~V} / \\mathrm{V}\\). By doing so, we effectively discard a gain-of-ten to realize only a gain-of-one, but this sacrifice is justified by the significant reduction in distortion. It goes without saying that it is crucial to differentiate between the fundamental error amplifier and the entire amplifier resulting from operating the former in conjunction with the negative feedback network (a mere wire in this example)."
},
{
    "text": "We aim to study the impact of negative feedback on disturbances, which we will now refer to as noise. This noise can infiltrate the amplifier at various points: the input node $\\left(v_{n 1}\\right)$, an intermediate node $\\left(v_{n 2}\\right)$, or the output node $\\left(v_{n 3}\\right)$. As shown in Fig. 7.7, we utilize summers to simulate the entry points of the different noise elements. Additionally, to model the introduction of intermediate noise, we divide the amplifier into two stages, each with its own gain $a_{1}$ and $a_{2}$, respectively (with the total gain being $a=a_{1} \\times a_{2}$). Starting from the right and moving leftward, we have\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nThe system block diagram, labeled as Figure 7.7, represents a model for exploring the effect of negative feedback on voltage noise. The diagram features several key components arranged sequentially to illustrate how various noise components are introduced and amplified within a feedback loop.\n\n1. **Main Components:**\n- **Summers (Σ):** There are three summers in the diagram. These are used to simulate the entry points of noise elements. Each summer adds its respective noise voltage to the signal.\n- **Amplifiers (a₁ and a₂):** The system includes two amplifiers, each with gains labeled as \\(a₁\\) and \\(a₂\\). These are used to amplify the input signal and the noise elements.\n- **Feedback Amplifier (b):** A feedback path is present with a gain labeled as \\(b\\), which is used to provide negative feedback to the system.\n\n2. **Flow of Information or Control:**\n- The input voltage \\(v_i\\) enters the first summer, where it is combined with a noise component \\(v_{n1}\\) and a feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- The output of the first summer is then amplified by the first amplifier with gain \\(a₁\\).\n- The amplified signal is fed into the second summer, where another noise component \\(v_{n2}\\) is added.\n- This combined signal is then amplified by the second amplifier with gain \\(a₂\\).\n- The output of the second amplifier is fed into the third summer, where the final noise component \\(v_{n3}\\) is added.\n- The final output voltage \\(v_o\\) is taken from the output of the third summer.\n- The feedback loop is completed by feeding \\(v_o\\) back through the feedback amplifier with gain \\(b\\), producing \\(v_f\\), which is subtracted at the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is labeled with a plus sign to indicate the addition of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The gains of the amplifiers are labeled as \\(a₁\\) and \\(a₂\\), with the feedback gain labeled as \\(b\\).\n\n4. **Overall System Function:**\n- The primary function of this system is to simulate the effect of negative feedback on voltage noise in an amplifier circuit. The arrangement of summers and amplifiers demonstrates how noise is introduced at various stages and how feedback influences the overall output. The closed-loop gain of the system is determined by the product of the individual gains and the feedback factor, effectively amplifying the input signal and the noise terms while stabilizing the system through negative feedback.\n\nFIGURE 7.7 Model to explore the effect of negative feedback on voltage noise.\nwhere we have used $v_{f}=b v_{o}$. Collecting, letting $a=a_{1} \\times a_{2}$, and solving for $v_{o}$, we obtain, after minor algebra,\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere $A$ is the closed-loop gain of Eq. (7.17). We observe that a negative-feedback circuit amplifies all three noise terms with the same gain $A$ as the useful signal $v_{i}$. However, while $v_{n 1}$ remains unchanged, $v_{n 2}$ is divided by $a_{1}$, and $v_{n 3}$ is divided by $a_{1} \\times a_{2}$. We summarize this by stating that in a negative-feedback circuit, a noise component reflected to the input is divided by the gain(s) of the stage(s) preceding it. This property is often utilized to mitigate the effect of a specific noise source, such as hum infiltrating the power stage of an audio system. By preceding this stage with an additional amplifier with suitably high gain and closing a negative-feedback loop around the composite circuit, we can make the hum component, reflected to the input, as small as desired compared to the audio signal $v_{i}$, thus raising the signal-to-noise ratio to an acceptable level.\n\nTo dramatically illustrate the mitigating effects of negative feedback on noise, consider the scenario depicted in Fig. 7.8a, where a source $v_{I}$ is buffered to a load $R_{L}$ via the Class AB push-pull stage $Q_{1}-Q_{2}$. Ideally, the buffer should provide\n\n$$\nv_{O(\\text { ideal })}=v_{I}\n$$\n\nThe circuit is a Class AB push-pull amplifier with a voltage source V1 driving a load resistor RL through transistors Q1 (NPN) and Q2 (PNP). The power supply voltages are VCC (+5V) and VEE (-5V).\n\n(a)\nimage_name:(b) Input and output waveforms\ndescription:\nThe graph consists of two parts: the top graph shows the input and output waveforms, and the bottom graph illustrates the output noise.\n\n**Top Graph: Input and Output Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The input waveform is a sinusoidal wave with peaks at approximately ±2 V.\n- The output waveform \\( v_O \\) follows the input waveform but shows noticeable distortion around the zero-crossing points due to the dead zone created by the 0.7 V threshold required to turn on the BJTs.\n- The ideal output \\( v_{O(ideal)} \\) is also plotted, showing a perfect sinusoidal shape without distortion.\n- **Key Features and Technical Details:**\n- The output waveform \\( v_O \\) deviates from the ideal waveform within the range of -0.7 V to 0.7 V, where the output remains at zero, illustrating the dead zone effect.\n- Outside this range, the output approximately matches the input but offset by ±0.7 V, as described in the context.\n\n**Bottom Graph: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_N \\) in volts (V), ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:**\n- The output noise \\( v_N \\) shows a rectangular waveform pattern, with distinct flat regions at approximately ±0.7 V.\n- **Key Features and Technical Details:**\n- The noise waveform indicates the difference between the actual output and the ideal output, highlighting the distortion primarily around the zero-crossing points.\n- The noise levels are consistent with the dead zone effect, maintaining a flat level during these periods and returning to zero when the input signal is sufficient to overcome the transistor threshold voltage.\nimage_name:Output noise\ndescription:\nThe graph titled \"Output noise\" is a time-domain waveform plot that displays the output noise voltage of a Class AB push-pull amplifier circuit. It is divided into two sections: the top section shows input and output waveforms, while the bottom section focuses on the output noise.\n\nTop Section: Input and Output Waveforms\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Voltage (V), ranging from -2 V to 2 V.\n\n- **Overall Behavior and Trends:**\n- The plot illustrates two waveforms: the ideal output voltage \\( v_{O(ideal)} \\) and the actual output voltage \\( v_{O} \\).\n- Both waveforms are sinusoidal with a period of approximately 1 ms, indicating a frequency of about 1 kHz.\n- The ideal waveform \\( v_{O(ideal)} \\) is smooth and continuous, while the actual output \\( v_{O} \\) shows distortion, particularly around zero crossings.\n\n- **Key Features and Technical Details:**\n- The actual output waveform \\( v_{O} \\) deviates from the ideal waveform \\( v_{O(ideal)} \\) due to the 0.7 V threshold required to turn on the BJTs, resulting in a dead zone around zero crossings.\n- The output voltage \\( v_{O} \\) is approximately zero for input voltages between -0.7 V and 0.7 V, leading to visible clipping in this range.\n\nBottom Section: Output Noise\n- **Axes Labels and Units:**\n- **X-axis:** Time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n- **Y-axis:** Output noise voltage \\( v_{N} \\) in volts (V), ranging from -2 V to 2 V.\n\n- **Overall Behavior and Trends:**\n- The noise waveform \\( v_{N} \\) is a stepped waveform with distinct levels, reflecting the difference between the actual and ideal output voltages.\n- The waveform is periodic with a period of approximately 1 ms, matching the frequency of the input and output waveforms.\n\n- **Key Features and Technical Details:**\n- The noise voltage \\( v_{N} \\) peaks at approximately ±0.7 V, corresponding to the voltage drop across the BJTs when they turn on.\n- The noise waveform highlights the distortion introduced by the dead zone, with distinct flat sections around the zero crossings where the BJTs are not conducting.\n\nThis analysis provides a comprehensive understanding of the output noise characteristics in the context of a Class AB push-pull amplifier circuit, illustrating the effects of transistor turn-on thresholds on the output waveform.\n\n(b)\n\nFIGURE 7.8 (a) PSpice circuit simulating a source $v_{\\text {, }}$ driving a load $R_{L}$ via a push-pull stage $Q_{1}-Q_{2}$. (b) Input and output waveforms (top), and output noise $v_{N}=v_{0}-v_{\\text {O(idea) }}$ (bottom).\n\nHowever, since it takes about 0.7 V for each BJT to turn on, the circuit yields $v_{O}=0$ for $-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}$, $v_{O} \\cong v_{I}-0.7 \\mathrm{~V}$ for $v_{I}>0.7 \\mathrm{~V}$, and $v_{O} \\cong v_{I}+0.7 \\mathrm{~V}$ for $v_{I}$ $<0.7 \\mathrm{~V}$. The waveforms, shown in Fig. $7.8 b$ (top), reveal a significantly distorted output. In fact, it appears as if the non-linearity of the push-pull stage resulted in the injection of voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\ndepicted in Fig. 7.8b (bottom). We can reduce $v_{N}$ by preceding the buffer with a suitable error amplifier and then closing a negative-feedback loop around the composite circuit. The example depicted in Fig. 7.9a employs an amplifier with a gain of only $a=$ $10 \\mathrm{~V} / \\mathrm{V}$, and a simple wire as the feedback network to yield $b=1 \\mathrm{~V} / \\mathrm{V}$. The resulting reduction in distortion can be observed by comparing the waveforms of Fig. 7.9b (top and middle) with their counterparts of Fig. $7.8 b$ (top and bottom). It is evident that the insertion of the amplifier makes the 0.7 V voltage drops appear as if they were reduced to about $(0.7 \\mathrm{~V}) / a$, or 0.07 V in our example.\nimage_name:(a)\ndescription:\n[\nname: V_I, type: VoltageSource, value: V_I, ports: {Np: V_I, Nn: GND}\nname: U1, type: OpAmp, value: 10 V/V, ports: {InP: V_I, InN: V_F, OutP: V_OA, OutN: GND}\nname: Q1, type: NPN, ports: {C: V_CC, B: V_OA, E: V_O}\nname: Q2, type: PNP, ports: {C: V_EE, B: V_OA, E: V_O}\nname: R_L, type: Resistor, value: 1 kΩ, ports: {N1: V_O, N2: GND}\n]\nextrainfo:\nThe circuit employs an op-amp with a gain of 10 V/V in a negative-feedback configuration to drive a push-pull stage consisting of NPN and PNP transistors. This setup is used to reduce output distortion by minimizing voltage drops across the transistors.\n\n(a)\nimage_name:I/O waveforms\ndescription:\nThe function graph consists of three subplots, each illustrating different aspects of the circuit's performance over time. The horizontal axis in all graphs is labeled as time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n\n1. **Top Subplot: I/O Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows two waveforms: the actual output voltage \\( v_O \\) and the ideal output voltage \\( v_{O(ideal)} \\). Both waveforms are sinusoidal with a peak-to-peak amplitude of approximately 4 V, oscillating between -2 V and 2 V.\n- **Key Features and Technical Details:** The actual output \\( v_O \\) closely follows the ideal output \\( v_{O(ideal)} \\), with minor deviations indicating slight distortion.\n\n2. **Middle Subplot: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows the output noise \\( v_N \\), which is the difference between the actual output and the ideal output. The waveform has a smaller amplitude compared to the I/O waveforms, indicating minor noise or distortion.\n- **Key Features and Technical Details:** The noise appears periodic and correlates with the peaks and troughs of the input waveform.\n\n3. **Bottom Subplot: Amplifier Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** This plot shows the amplifier output voltage \\( v_{OA} \\) and the actual output voltage \\( v_O \\). The amplifier output \\( v_{OA} \\) has a higher amplitude and shows more pronounced peaks and troughs compared to \\( v_O \\).\n- **Key Features and Technical Details:** The amplifier output waveform \\( v_{OA} \\) is more exaggerated, indicating the amplifier's role in driving the push-pull stage and compensating for distortion.\nimage_name:Output noise\ndescription:\nThe graph titled 'Output noise' is part of a set of three time-domain waveform graphs. Each graph is plotted over a time period ranging from 0 to 2 milliseconds (ms) on the x-axis. The y-axis of each graph represents voltage in volts (V), with a range from -2.0 V to 2.0 V.\n\n1. **Top Graph (I/O Waveforms):**\n- This graph compares the actual output voltage $v_O$ with the ideal output voltage $v_{O(ideal)}$. The ideal waveform is depicted as a smooth sine wave oscillating between 2.0 V and -2.0 V, suggesting a perfect sinusoidal input. The actual output waveform $v_O$ closely follows the ideal but shows slight deviations, indicating minor distortions.\n\n2. **Middle Graph (Output Noise):**\n- This graph shows the output noise $v_N$, defined as the difference between the actual output voltage $v_O$ and the ideal output voltage $v_{O(ideal)}$. The waveform oscillates around 0 V, with small amplitude variations indicating the presence of noise or distortion. The noise peaks are relatively small, staying well within ±0.5 V, showing that the distortion is minimal.\n\n3. **Bottom Graph (Amplifier Waveforms):**\n- This graph displays the amplifier output waveform $v_{OA}$ compared to the actual output $v_O$. The amplifier output $v_{OA}$ shows a more pronounced deviation from the sinusoidal shape, particularly at the peaks and troughs, indicating the amplifier's role in compensating for the distortion and maintaining the output close to the ideal.\n\n**Overall Trends and Key Features:**\n- The waveforms indicate a sinusoidal signal being processed by the amplifier circuit.\n- The top plot highlights the slight distortion between the ideal and actual outputs, addressed in the feedback loop.\n- The middle plot quantifies the output noise, showing minimal deviation.\n- The bottom plot illustrates the role of the op-amp in amplifying the signal, with the op-amp output having a larger amplitude than the final output, suggesting a gain reduction through feedback.\n\n(b)\n\nFIGURE 7.9 (a) Preceding the push-pull stage of Fig. 7.8a by an amplifier, and closing a negative-feedback loop around the whole circuit in order to reduce output distortion. (b) Input and output waveforms (top), output noise $v_{N}=v_{O}-v_{"
},
{
    "text": "We aim to explore the influence of negative feedback on the presence of disturbances, hereafter termed noise. This noise can infiltrate the amplifier at various points: the input node ($v_{n1}$), an intermediate node ($v_{n2}$), or the output node ($v_{n3}$). As depicted in Fig. 7.7, we employ summers to represent the insertion points of the different noise elements. To illustrate the introduction of noise at intermediate stages, we divide the amplifier into two sections, each with distinct gains of $a_{1}$ and $a_{2}$, respectively. It is noted that the overall gain is $a = a_{1} \\times a_{2}$. Starting from the right and shifting towards the left, we formulate\n\n$$\nv_{o} = v_{n3} + a_{2} \\left[ v_{n2} + a_{1} \\left( v_{i} + v_{n1} - b v_{o} \\right) \\right]\n$$\n\nThe system block diagram, Figure 7.7, delineates a model for examining the impact of negative feedback on voltage noise. The diagram arrays several core components sequentially to showcase how multiple noise elements are introduced and amplified within a feedback circuit.\n\n1. **Principal Components:**\n   - **Summers (Σ):** The diagram incorporates three summers that simulate the noise insertion points. Each summer appends its respective noise voltage to the signal.\n   - **Amplifiers (a₁ and a₂):** The system integrates two amplifiers, each marked with gains $a₁$ and $a₂$, utilized to amplify both the input signal and the noise components.\n   - **Feedback Amplifier (b):** A feedback route exists, marked with a gain $b$, which provides negative feedback to the system.\n\n2. **Information or Control Flow:**\n   - The input voltage $v_i$ reaches the first summer, where it merges with a noise component $v_{n1}$ and a feedback voltage $v_f$ (the product of the output voltage $v_o$ and the feedback gain $b$).\n   - The output from the first summer is then amplified by the first amplifier with gain $a₁$.\n   - The amplified signal is directed into the second summer, where an additional noise component $v_{n2}$ is incorporated.\n   - This merged signal is subsequently amplified by the second amplifier with gain $a₂$.\n   - The output from the second amplifier enters the third summer, where the concluding noise component $v_{n3}$ is added.\n   - The ultimate output voltage $v_o$ is derived from the third summer's output.\n   - The feedback loop is sealed by directing $v_o$ back through the feedback amplifier with gain $b$, generating $v_f$, which is subtracted at the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - Each summer is tagged with a plus sign to denote the addition of noise components $v_{n1}, v_{n2}, v_{n3}$.\n   - The amplifiers' gains are denoted as $a₁$ and $a₂$, with the feedback gain denoted as $b$.\n\n4. **Overall System Function:**\n   - The system's primary function is to model the effect of negative feedback on voltage noise within an amplifier circuit. The arrangement of summers and amplifiers demonstrates how noise is introduced at different phases and how feedback affects the total output. The closed-loop gain of the system is determined by the product of the individual gains and the feedback factor, effectively amplifying the input signal and the noise terms while stabilizing the system through negative feedback.\n\nFIGURE 7.7 Model to investigate the effect of negative feedback upon voltage noise.\nwhere we denote $v_{f} = b v_{o}$. Organizing, letting $a = a_{1} \\times a_{2}$, and solving for $v_{o}$, we obtain, after slight algebra,\n\n$$\n\\begin{equation*}\nv_{o} = A \\left( v_{i} + v_{n1} + \\frac{v_{n2}}{a_{1}} + \\frac{v_{n3}}{a_{1} \\times a_{2}} \\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere $A$ is the closed-loop gain of Eq. (7.17). We observe that a negative-feedback circuit amplifies all three noise terms with the same gain $A$ as the useful signal $v_{i}$. However, while $v_{n1}$ remains unchanged, $v_{n2}$ is divided by $a_{1}$, and $v_{n3}$ is divided by $a_{1} \\times a_{2}$. We summarize this by noting that in a negative-feedback circuit, a noise component, once reflected to the input, is divided by the gain(s) of the stage(s) preceding it. This characteristic is frequently exploited to diminish the impact of specific noise sources, such as hum infiltrating the power stage of an audio system. By preceding this stage with an additional amplifier of adequately high gain and enclosing it within a negative-feedback loop, we can diminish the hum component, once reflected to the input, to a negligible level compared to the audio signal $v_{i}$, thereby enhancing the signal-to-noise ratio to an acceptable level.\n\nTo vividly demonstrate the restorative properties of negative feedback on noise, consider the scenario in Fig. 7.8a, where a source $v_{I}$ is buffered to a load $R_{L}$ via the Class AB push-pull stage $Q_{1}-Q_{2}$. Ideally, the buffer should yield\n\n$$\nv_{O(\\text{ideal})} = v_{I}\n$$\n\nThe circuit depicted in Figure 7.8a simulates a source $v_{I}$ driving a load $R_{L}$ through a push-pull stage $Q_{1}-Q_{2}$. Figure 7.8b presents the input and output waveforms (top) and the output noise $v_{N} = v_{O} - v_{O(\\text{ideal})}$ (bottom).\n\nHowever, given that each BJT requires approximately 0.7 V to activate, the circuit yields $v_{O} = 0$ for $-0.7 \\text{V} < v_{I} < 0.7 \\text{V}$, $v_{O} \\cong v_{I} - 0.7 \\text{V}$ for $v_{I} > 0.7 \\text{V}$, and $v_{O} \\cong v_{I} + 0.7 \\text{V}$ for $v_{I} < 0.7 \\text{V}$. The waveforms in Fig. 7.8b (top) reveal a significantly distorted output. Indeed, the non-linearity of the push-pull stage appears to inject voltage noise\n\n$$\nv_{N} = v_{O} - v_{O(\\text{ideal})}\n$$\n\nas depicted in Fig. 7.8b (bottom). We can diminish $v_{N}$ by inserting a suitable error amplifier before the buffer and then enclosing the composite circuit within a negative-feedback loop. The example illustrated in Fig. 7.9a uses an amplifier with a gain of $a = 10 \\text{V/V}$ and a simple wire as the feedback network to yield $b = 1 \\text{V/V}$. The subsequent reduction in distortion can be discerned by comparing the waveforms of Fig. 7.9b (top and middle) with those of Fig. 7.8b (top and bottom). One can readily observe that the insertion of the amplifier causes the 0.7 V voltage drops to appear as though they were reduced to about $(0.7 \\text{V}) / a$, or 0.07 V in our case.\n\nTo fully comprehend the amplifier's role, it is instructive to also present its output $v_{OA}$, which is shown in Fig. 7.9b (bottom). In its effort to make $v_{O}$ track $v_{I}$, the amplifier will need to swing its output $v_{OA}$ about 0.7 V above $v_{O}$ during the positive cycles and 0.7 V below $v_{o}$ during the negative cycles. In this instance, we have used an amplifier with a gain of only $10 \\text{V/V}$, but a unit with much higher gain will proportionally reduce distortion, making $v_{O}$ a much more accurate reproduction of $v_{I}$. This behavior echoes our observations in connection with the superdiode circuit of Section 1.10. Here, we are revisiting a familiar concept but from the perspective of negative feedback.\n\nRemark: The objective of the negative-feedback circuit example in Fig. 7.9a is to execute an amplifier with gain $A = 1 \\text{V/V}$ and diminished distortion. To achieve this, we insert an error amplifier with gain $a = 10 \\text{V/V}$. By doing so, we effectively sacrifice a gain-of-ten to attain only a gain-of-one, but this trade-off is justified by the resulting reduction in distortion. It is crucial to differentiate between the fundamental error amplifier and the overall amplifier resulting from its operation in conjunction with the negative feedback network (a mere wire in the current example)."
},
{
    "text": "We aim to examine the impact of negative feedback on disturbances, now termed noise, which can infiltrate the amplifier at the input node ($v_{n1}$), an intermediate node ($v_{n2}$), or the output node ($v_{n3}$). As shown in Fig. 7.7, we utilize summers to simulate the entry points of various noise components. Furthermore, to model intermediate noise entry, we divide the amplifier into two stages with respective gains $a_{1}$ and $a_{2}$ (with the total gain being $a=a_{1} \\times a_{2}$). Progressing from right to left, we formulate\n\n$$\nv_{o}=v_{n 3}+a_{2}\\left[v_{n 2}+a_{1}\\left(v_{i}+v_{n 1}-b v_{o}\\right)\\right]\n$$\n\nThe system block diagram, denoted as Figure 7.7, represents a model for assessing the influence of negative feedback on voltage noise. The diagram presents several key components sequentially arranged to demonstrate how noise components are introduced and amplified within a feedback loop.\n\n1. **Key Components:**\n- **Summers (Σ):** The diagram features three summers, utilized to simulate the noise entry points. Each summer adds its corresponding noise voltage to the signal.\n- **Amplifiers (a₁ and a₂):** The system incorporates two amplifiers, each with gains denoted as \\(a₁\\) and \\(a₂\\), used to amplify the input signal and noise components.\n- **Feedback Amplifier (b):** A feedback path is present, characterized by a gain labeled as \\(b\\), which provides negative feedback to the system.\n\n2. **Information or Control Flow:**\n- The input voltage \\(v_i\\) enters the first summer, where it combines with the noise component \\(v_{n1}\\) and a feedback voltage \\(v_f\\) (which is the output voltage \\(v_o\\) multiplied by the feedback gain \\(b\\)).\n- The output from the first summer is then amplified by the first amplifier with gain \\(a₁\\).\n- The amplified signal is directed to the second summer, where another noise component \\(v_{n2}\\) is added.\n- This combined signal is subsequently amplified by the second amplifier with gain \\(a₂\\).\n- The output from the second amplifier is fed into the third summer, where the final noise component \\(v_{n3}\\) is included.\n- The final output voltage \\(v_o\\) is derived from the output of the third summer.\n- The feedback loop is completed by routing \\(v_o\\) back through the feedback amplifier with gain \\(b\\), generating \\(v_f\\), which is subtracted at the first summer.\n\n3. **Labels, Annotations, and Key Indicators:**\n- Each summer is marked with a plus sign to indicate the addition of noise components \\(v_{n1}, v_{n2}, v_{n3}\\).\n- The amplifiers' gains are labeled as \\(a₁\\) and \\(a₂\\), with the feedback gain denoted as \\(b\\).\n\n4. **Overall System Function:**\n- The primary purpose of this system is to model the effect of negative feedback on voltage noise within an amplifier circuit. The arrangement of summers and amplifiers illustrates how noise is introduced at various stages and how feedback impacts the overall output. The closed-loop gain of the system is determined by the product of the individual gains and the feedback factor, effectively amplifying the input signal and noise terms while stabilizing the system through negative feedback.\n\nFIGURE 7.7 Model to investigate the effect of negative feedback upon voltage noise.\n\nUsing $v_{f}=b v_{o}$, we collect and solve for $v_{o}$, obtaining after minor algebra,\n\n$$\n\\begin{equation*}\nv_{o}=A\\left(v_{i}+v_{n 1}+\\frac{v_{n 2}}{a_{1}}+\\frac{v_{n 3}}{a_{1} \\times a_{2}}\\right) \\tag{7.18}\n\\end{equation*}\n$$\n\nwhere $A$ is the closed-loop gain of Eq. (7.17). We note that a negative-feedback circuit amplifies all three noise terms with the same gain $A$ as the useful signal $v_{i}$. However, while $v_{n 1}$ remains unchanged, $v_{n 2}$ is divided by $a_{1}$, and $v_{n 3}$ is divided by $a_{1} \\times a_{2}$. We summarize this by stating that in a negative-feedback circuit, a noise component, reflected to the input, is divided by the gain(s) of the stage(s) preceding it. This property is often utilized to mitigate the effect of a specific noise source, such as hum infiltrating the power stage of an audio system. By preceding this stage with an additional amplifier with appropriately high gain and closing a negative-feedback loop around the composite circuit, we can minimize the hum component, reflected to the input, compared to the audio signal $v_{i}$, thereby enhancing the signal-to-noise ratio to an acceptable level.\n\nTo dramatically illustrate the noise-reducing properties of negative feedback, consider the scenario depicted in Fig. 7.8a, where a source $v_{I}$ is buffered to a load $R_{L}$ via the Class AB push-pull stage $Q_{1}-Q_{2}$. Ideally, the buffer should yield\n\n$$\nv_{O(\\text { deal })}=v_{I}\n$$\n\nThe circuit is a Class AB push-pull amplifier with a voltage source V1 driving a load resistor RL through transistors Q1 (NPN) and Q2 (PNP). The power supply voltages are VCC (+5V) and VEE (-5V).\n\n(a)\n\nFIGURE 7.8 (a) PSpice circuit simulating a source $v_{\\text {, }}$ driving a load $R_{L}$ via a push-pull stage $Q_{1}-Q_{2}$. (b) Input and output waveforms (top), and output noise $v_{N}=v_{0}-v_{\\text {O(idea) }}$ (bottom).\n\nHowever, as each BJT requires approximately 0.7 V to activate, the circuit yields $v_{O}=0$ for $-0.7 \\mathrm{~V}<v_{I}<0.7 \\mathrm{~V}$, $v_{O} \\cong v_{I}-0.7 \\mathrm{~V}$ for $v_{I}>0.7 \\mathrm{~V}$, and $v_{O} \\cong v_{I}+0.7 \\mathrm{~V}$ for $v_{I}$ $<0.7 \\mathrm{~V}$. The waveforms, presented in Fig. $7.8 b$ (top), reveal a significantly distorted output. In effect, the non-linearity of the push-pull stage leads to the injection of voltage noise\n\n$$\nv_{N}=v_{O}-v_{O(\\text { ideal })}\n$$\n\ndepicted in Fig. 7.8b (bottom). We can diminish $v_{N}$ by introducing a suitable error amplifier before the buffer and then establishing a negative-feedback loop around the composite circuit. The example depicted in Fig. 7.9a employs an amplifier with a gain of only $a=$ $10 \\mathrm{~V} / \\mathrm{V}$, and a simple wire as the feedback network to yield $b=1 \\mathrm{~V} / \\mathrm{V}$. The resulting reduction in distortion is evident when comparing the waveforms of Fig. 7.9b (top and middle) with those of Fig. $7.8 b$ (top and bottom). It is clear that the addition of the amplifier makes the 0.7 V voltage drops appear as if they were reduced to about $(0.7 \\mathrm{~V}) / a$, or 0.07 V in our case.\n\nThe circuit employs an op-amp with a gain of 10 V/V in a negative-feedback configuration to drive a push-pull stage consisting of NPN and PNP transistors. This setup is used to reduce output distortion by minimizing voltage drops across the transistors.\n\n(a)\n\nThe function graph consists of three subplots, each illustrating different aspects of the circuit's performance over time. The horizontal axis in all graphs is labeled as time \\( t \\) in milliseconds (ms), ranging from 0 to 2 ms.\n\n1. **Top Subplot: I/O Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows two waveforms: the actual output voltage \\( v_O \\) and the ideal output voltage \\( v_{O(ideal)} \\). Both waveforms are sinusoidal with a peak-to-peak amplitude of approximately 4 V, oscillating between -2 V and 2 V.\n- **Key Features and Technical Details:** The actual output \\( v_O \\) closely follows the ideal output \\( v_{O(ideal)} \\), with minor deviations indicating slight distortion.\n\n2. **Middle Subplot: Output Noise**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, ranging from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** The plot shows the output noise \\( v_N \\), which is the difference between the actual output and the ideal output. The waveform has a smaller amplitude compared to the I/O waveforms, indicating minor noise or distortion.\n- **Key Features and Technical Details:** The noise appears periodic and correlates with the peaks and troughs of the input waveform.\n\n3. **Bottom Subplot: Amplifier Waveforms**\n- **Type of Graph:** Time-domain waveform.\n- **Axes Labels and Units:** The vertical axis represents voltage \\( V \\) in volts, with a range from -2.0 V to 2.0 V.\n- **Overall Behavior and Trends:** This plot shows the amplifier output voltage \\( v_{OA} \\) and the actual output voltage \\( v_O \\). The amplifier output \\( v_{OA} \\) has a higher amplitude and shows more pronounced peaks and troughs compared to \\( v_O \\).\n- **Key Features and Technical Details:** The amplifier output waveform \\( v_{OA} \\) is more exaggerated, indicating the amplifier's role in driving the push-pull stage and compensating for distortion.\n\n(b)\n\nFIGURE 7.9 (a) Preceding the push-pull stage of Fig. 7.8a by an amplifier, and closing a negative-feedback loop around the whole circuit in order to reduce output distortion. (b) Input and output waveforms (top), output noise $v_{N}=v_{O}-v_{\\text {O(ideal) }}$ (middle), and the op amp output waveform $v_{O A}$ (bottom).\n\nTo fully appreciate the role of the amplifier, it is instructive to also display its output $v_{O A}$, which is shown in Fig. $7.9 b$ (bottom). In its attempt to make $v_{O}$ follow $v_{I}$, the amplifier will have to swing its output $v_{O A}$ about 0.7 V above $v_{O}$ during the positive alternations, and 0.7 V below $v_{o}$ during the negative alternations. In this example, we have used an amplifier with a gain of only $10 \\mathrm{~V} / \\mathrm{V}$, but a unit with much higher gain will reduce distortion in proportion, making $v_{O}$ a much more faithful replica of $v_{I}$. This behavior aligns with our observations in connection with the superdiode circuit of Section 1.10. Here, we are revisiting a familiar concept from a negative-feedback perspective.\nRemark: The objective of the negative-feedback circuit example of Fig. 7.9a is to implement an amplifier with gain $A=1 \\mathrm{~V} / \\mathrm{V}$ and reduced distortion. To achieve this, we insert an error amplifier with gain $a=10 \\mathrm{~V} / \\mathrm{V}$. By doing so, we effectively sacrifice a gain-of-ten to attain only a gain-of-one, but this trade-off is justified by the subsequent reduction in distortion. It is crucial to distinguish between the basic error amplifier and the overall amplifier resulting from its operation in conjunction with the negative feedback network (a mere wire in the present example)."
}
]