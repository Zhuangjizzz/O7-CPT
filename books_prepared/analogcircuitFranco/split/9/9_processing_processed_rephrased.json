[

{
    "text": "Negative feedback significantly impacts the frequency response. If not applied carefully, it can result in unwanted oscillations, necessitating stabilization measures. While the topic of stability will be covered in detail later, we now examine the influence of feedback on two op amp types: the voltage-feedback amplifier (VFA) and the current-feedback amplifier (CFA).\n\nWe begin with the noninverting VFA setup shown in Fig. 7.2, reillustrated in Fig. 7.10a for convenience. As discussed in Chapter 6, the VFA's open-loop gain is given by\n\n$$\n\\begin{equation*}\na(j f) \\cong \\frac{a_{0}}{1+j f / f_{b}} \\tag{7.19}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(a), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(a)}\nname: VFA, type: OpAmp, value: a, ports: {InP: Vi, InN: InN(a), OutP: Vo, OutN: GND}\n]\nextrainfo:The circuit is a noninverting voltage-feedback amplifier (VFA) configuration. It utilizes an operational amplifier with feedback resistors R1 and R2 to set the gain.\n\n(a)\nimage_name:Figure 7.10b\ndescription:The graph in Figure 7.10b is a Bode plot depicting the gain of an operational amplifier in both open-loop and closed-loop configurations. The vertical axis, labeled 'Gain,' is measured in decibels (dB), while the horizontal axis represents frequency, denoted by 'f,' likely in hertz (Hz), on a logarithmic scale.\n\nOverall Behavior and Trends:\n- **Open-Loop Gain (|a|):** The plot shows a high open-loop gain, \\(|a_0|\\), which remains constant from direct current (DC) up to a frequency \\(f_b\\). Beyond \\(f_b\\), the open-loop gain \\(|a|\\) decreases at a rate of \\(-20 \\text{ dB/decade}\\), indicating a single-pole roll-off.\n- **Closed-Loop Gain (|A|):** The closed-loop gain, \\(|A_0|\\), is constant over the frequency range shown and is lower than the open-loop gain, without following the roll-off of the open-loop gain.\n\nKey Features and Technical Details:\n- **Cutoff Frequency (\\(f_b\\)):** This marks the start of the open-loop gain decrease.\n- **Unity Gain Bandwidth (\\(f_t\\)):** Typically the frequency where the open-loop gain reaches 0 dB, though not explicitly marked.\n- **Slope of Roll-Off:** The open-loop gain decreases at \\(-20 \\text{ dB/decade}\\), typical for a first-order system.\n\nAnnotations and Specific Data Points:\n- Annotations indicate gain levels \\(|a_0|\\) and \\(|A_0|\\) and the slope of the open-loop gain roll-off.\n- Vertical lines at \\(f_b\\) and \\(f_B\\) highlight significant frequency response points.\n\nFIGURE 7.10 (a) Noninverting VFA configuration. (b) Visualizing the open-loop response $|a|$ and the closed-loop response $|A|$, both in dB.\nwhere $f$ is the input-signal frequency, $a_{0}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth. As shown in Fig. 7.10b, the gain $a$ is high (\\(\\cong a_{0}\\)) from DC up to $f_{b}$, then decreases with $f$ at \\(-20 \\text{ dB/decade}\\). A key metric for such amplifiers is the gain-bandwidth product\n\n$$\n\\begin{equation*}\n\\mathrm{GBP}=a_{0} \\times f_{b}=f_{t} \\tag{7.20}\n\\end{equation*}\n$$\n\nFor example, the 741 op amp has $a_{0}=200,000 \\mathrm{~V} / \\mathrm{V}$ and $f_{b}=5 \\mathrm{~Hz}$, resulting in GBP $=200,000 \\times 5=1 \\mathrm{MHz}$. The closed-loop gain, by Eqs. (7.6) and (7.7), is\n\n$$\nA(j f)=\\frac{V_{o}}{V_{i}}=\\frac{1}{b} \\frac{1}{1+\\frac{1+j f / f_{b}}{b a_{0}}}=\\frac{1}{b} \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\times \\frac{1}{1+\\frac{j f}{\\left(1+b a_{0}\\right) f_{b}}}\n$$\n\nwhere $b=1 /\\left(1+R_{2} / R_{1}\\right)$, by Eq. (7.13). This can be rewritten as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.21}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.22}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+b a_{0}\\right) f_{b} \\cong \\frac{a_{0}}{A_{0}} f_{b}=\\frac{f_{t}}{A_{0}} \\tag{7.23}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth. (Note the use of lowercase for open-loop parameters and uppercase for their closed-loop counterparts.) Referring to Fig. 7.10b, we see that negative feedback reduces the DC gain from $a_{0}$ to $A_{0} \\cong 1+R_{2} / R_{1}$ and expands the bandwidth from $f_{b}$ to $f_{B} \\cong\\left(a_{0} / A_{0}\\right) f_{b}$, keeping the closed-loop GBP $\\left(=A_{0} \\times f_{B}=f_{t}\\right)$ constant. This gain-bandwidth tradeoff is intentionally used by designers to manage amplifier dynamics.\n\nEXAMPLE 7.6 (a) Consider the non-inverting op amp in Fig. 7.2 using the 741 op amp with $a_{0}=200,000 \\mathrm{~V} / \\mathrm{V}$ and $f_{b}=5 \\mathrm{~Hz}$. Calculate $A_{0}$ and $f_{B}$ for $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=999 \\mathrm{k} \\Omega$.\n(b) Repeat for $R_{2}=9.0 \\mathrm{k} \\Omega$.\n(c) Determine the closed-loop gain that yields the widest closed-loop bandwidth.\n\n#### Solution\n\n(a) We find $A_{0} \\cong 1 / b=1+R_{2} / R_{1}=1+999 / 1=1000 \\mathrm{~V} / \\mathrm{V}, a_{0} b=200,000 / 1000=200$, and $f_{B}=\\left(1+a_{0} b\\right) f_{b}=(1+200) 5 \\cong 1.0 \\mathrm{kHz}$.\n(b) Now, $A_{0} \\cong 10 \\mathrm{~V} / \\mathrm{V}, a_{0} b=20,000$, and $f_{B} \\cong 100 \\mathrm{kHz}$. Compared to part (a), $A_{0}$ decreases by two decades while $f_{B}$ increases by two decades.\n(c) The widest bandwidth is achieved with $b=1$, configuring the op amp as a unity-gain voltage follower by replacing $R_{2}$ with a wire and removing $R_{1}$. Then, $A_{0} \\cong 1 \\mathrm{~V} / \\mathrm{V}, a_{0} b=a_{0} \\times 1=a_{0}$, and $f_{B}=\\left(1+a_{0}\\right) f_{b} \\cong a_{0} f_{b}=f_{t}=1 \\mathrm{MHz}$.\n\nNext, we analyze the CFA amplifier in Fig. 7.11a. From Eq. (6.114), the CFA's open-loop transimpedance gain is\n\n$$\n\\begin{equation*}\nz(j f) \\cong \\frac{R_{e q}}{1+j f / f_{b}} \\tag{7.24}\n\\end{equation*}\n$$\n\nwhere $f$ is the input-signal frequency, $R_{e q}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth (the magnitude plot of $z$ is in Fig. 7.11b). To find the closed-loop gain $A(j f)$, we adapt the expression from Section 5.6, replacing $R_{e q}$ with $z(j f)$. This yields\n\n$$\n\\begin{aligned}\nA(j f) & =\\frac{V_{o}}{V_{i}}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+\\frac{R_{2}\\left(1+j f / f_{b}\\right)}{R_{e q}}} \\\\\n& =\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\times \\frac{1}{1+\\frac{j f}{\\left(1+R_{e q} / R_{2}\\right) f_{b}}}\n\\end{aligned}\n$$\n\nWe express this as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.25}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(z), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(z)}\nname: CFA, type: OpAmp, value: CFA, ports: {InP: Vi, InN: GND, OutP: Vo}\n]\nextrainfo:The circuit is a non-inverting current feedback amplifier (CFA) configuration. It includes a voltage source Vi, resistors R1 and R2, and an op-amp labeled CFA to create an amplifier circuit with gain.\n\nimage_name:(b)\ndescription:The graph shows a Bode plot of the magnitude response of a system. The vertical axis is $|z(jf)|$ in decibels (dec), and the horizontal axis is frequency $f$ in decades (dec).\n\nOverall Behavior and Trends:\n- The graph starts at a level corresponding to $R_{eq}$ at low frequencies.\n- The magnitude response remains flat until reaching the corner frequency $f_b$.\n- Beyond $f_b$, the response declines at a rate of -1 dec/dec, indicating a first-order roll-off.\n- The graph continues to decrease until it reaches a point labeled $f_B$, where the magnitude approaches $R_2$.\n\nKey Features and Technical Details:\n- **Initial Level**: The response starts at $R_{eq}$, indicating the initial gain level.\n- **Corner Frequency ($f_b$)**: This is where the response begins to decline, marking the start of bandwidth limitation.\n- **Slope**: The -1 dec/dec slope indicates a single-pole roll-off.\n- **Final Level**: The response levels off at $R_2$, indicating the closed-loop gain determined by the feedback network.\n\nAnnotations and Specific Data Points:\n- Annotations mark the corner frequency $f_b$ and the bandwidth $f_B$.\n- The slope is marked as -1 dec/dec, highlighting the roll-off nature.\n\n(b)\n\nFIGURE 7.11 (a) Noninverting CFA configuration. (b) Visualizing the open-loop response $|z|$ and the closed-loop bandwidth $f_{B}$.\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.26}\n\\end{equation*}\n$$\n\nis the closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+\\frac{R_{e q}}{R_{2}}\\right) f_{b} \\cong \\frac{R_{e q}}{R_{2}} \\times \\frac{1}{2 \\pi R_{e q} C_{e q}}=\\frac{1}{2 \\pi R_{2} C_{e q}} \\tag{7.27}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth (both approximations assume $R_{2} \\ll R_{e q}$). Using simple geometry, $f_{B}$ is visualized as the frequency where $|z|$ drops to $R_{2}$, as shown in Fig. 7.11b. This frequency is set by the user via $R_{2}$, independent of the closed-loop gain $A_{0}$, which is controlled by $R_{1}$. Consequently, CFA circuits avoid the gain-bandwidth tradeoff of VFAs. Along with the absence of slew-rate limiting, this is a key advantage of CFAs over VFAs. (See Problem 7.10 for higher-order effects.)\n\nEXAMPLE 7.7 Suppose the CFA in Fig. 7.11 has $R_{e q}=750 \\mathrm{k} \\Omega$ and $C_{e q}=2.21 \\mathrm{pF}$. If the data sheets recommend $R_{2}=1.2 \\mathrm{k} \\Omega$, find $R_{1}$ for a closed-loop DC gain of $10 \\mathrm{~V} / \\mathrm{V}$. What is the closed-loop bandwidth?\n\n#### Solution\n\nImposing $1+1,200 / R_{1}=10$ gives $R_{1}=133.3 \\Omega$. Additionally,\n\n$$\nf_{B} \\cong \\frac{1}{2 \\pi R_{2} C_{e q}}=\\frac{1}{2 \\pi \\times 1200 \\times 2.21 \\times 10^{-12}}=60 \\mathrm{MHz}\n$$"
},
{
    "text": "Negative feedback significantly impacts the frequency response of amplifiers. If not used cautiously, it can result in unwanted oscillations, necessitating measures to stabilize the system. While the topic of stability will be discussed in detail later in this chapter, we now examine the influence of feedback on two op amp types: the voltage-feedback amplifier (VFA) and the current-feedback amplifier (CFA).\n\nLet's begin with the noninverting VFA configuration shown in Fig. 7.2, which is also depicted in Fig. 7.10a for convenience. As discussed in Chapter 6, the open-loop gain of the VFA is given by\n\n$$\n\\begin{equation*}\na(j f) \\cong \\frac{a_{0}}{1+j f / f_{b}} \\tag{7.19}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(a), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(a)}\nname: VFA, type: OpAmp, value: a, ports: {InP: Vi, InN: InN(a), OutP: Vo, OutN: GND}\n]\nextrainfo:The circuit is a noninverting voltage-feedback amplifier (VFA) configuration. It utilizes an operational amplifier with feedback resistors R1 and R2 to set the gain.\n\n(a)\nimage_name:Figure 7.10b\ndescription:Figure 7.10b presents a Bode plot depicting the gain of an operational amplifier in both open-loop and closed-loop configurations. The vertical axis, labeled 'Gain,' is measured in decibels (dB), while the horizontal axis represents frequency, denoted by 'f,' likely in hertz (Hz), and is on a logarithmic scale.\n\nOverall Behavior and Trends:\n- **Open-Loop Gain (|a|):** The plot shows a high open-loop gain, \\(|a_0|\\), which remains constant from direct current (DC) up to a frequency \\(f_b\\). Beyond \\(f_b\\), the open-loop gain \\(|a|\\) decreases at a rate of \\(-20 \\text{ dB/decade}\\), indicating a single-pole roll-off.\n- **Closed-Loop Gain (|A|):** The closed-loop gain, \\(|A_0|\\), is constant over the displayed frequency range and is lower than the open-loop gain. It remains flat and does not follow the roll-off of the open-loop gain.\n\nKey Features and Technical Details:\n- **Cutoff Frequency (\\(f_b\\)):** This is the frequency where the open-loop gain starts to decrease, marking the transition from constant gain to roll-off.\n- **Unity Gain Bandwidth (\\(f_t\\)):** Though not explicitly shown, it is typically the frequency where the open-loop gain reaches 0 dB if the graph extends that far.\n- **Slope of Roll-Off:** The open-loop gain decreases at a slope of \\(-20 \\text{ dB/decade}\\), characteristic of a first-order system.\n\nAnnotations and Specific Data Points:\n- The plot includes annotations for gain levels \\(|a_0|\\) and \\(|A_0|\\) and the slope of the open-loop gain roll-off.\n- Vertical lines at \\(f_b\\) and \\(f_B\\) mark significant frequency points.\n\nFIGURE 7.10 (a) Noninverting VFA configuration. (b) Visualizing the open-loop response $|a|$ and the closed-loop response $|A|$, both in dB.\nwhere $f$ is the input signal frequency, $a_{0}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth. As illustrated in Fig. 7.10b, the gain $a$ is high (\\(\\cong a_{0}\\)) from DC up to $f_{b}$, after which it decreases with $f$ at a rate of \\(-20 \\text{ dB/decade}\\). A key metric for such an amplifier is its gain-bandwidth product (GBP),\n\n$$\n\\begin{equation*}\n\\mathrm{GBP}=a_{0} \\times f_{b}=f_{t} \\tag{7.20}\n\\end{equation*}\n$$\n\nFor example, the widely used 741 op amp has $a_{0}=200,000 \\text{ V/V}$ and $f_{b}=5 \\text{ Hz}$, resulting in GBP $=200,000 \\times 5=1 \\text{ MHz}$. The closed-loop gain is determined by Eqs. (7.6) and (7.7) as\n\n$$\nA(j f)=\\frac{V_{o}}{V_{i}}=\\frac{1}{b} \\frac{1}{1+\\frac{1+j f / f_{b}}{b a_{0}}}=\\frac{1}{b} \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\times \\frac{1}{1+\\frac{j f}{\\left(1+b a_{0}\\right) f_{b}}}\n$$\n\nwhere $b=1 /\\left(1+R_{2} / R_{1}\\right)$, as per Eq. (7.13). This can be rewritten in a more insightful form as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.21}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.22}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+b a_{0}\\right) f_{b} \\cong \\frac{a_{0}}{A_{0}} f_{b}=\\frac{f_{t}}{A_{0}} \\tag{7.23}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth. (Note the use of lowercase letters for open-loop parameters and uppercase letters for their closed-loop counterparts.) Referring to Fig. 7.10b, we observe that negative feedback reduces the DC gain from $a_{0}$ to $A_{0} \\cong 1+R_{2} / R_{1}$ and expands the bandwidth from $f_{b}$ to $f_{B} \\cong\\left(a_{0} / A_{0}\\right) f_{b}$, keeping the closed-loop GBP (\\(=A_{0} \\times f_{B}=f_{t}\\)) constant. This gain-bandwidth tradeoff is intentionally utilized by circuit designers to control amplifier dynamics.\n\nEXAMPLE 7.6 (a) Consider the non-inverting op amp of Fig. 7.2 implemented with the popular 741 op amp, having $a_{0}=200,000 \\text{ V/V}$ and $f_{b}=5 \\text{ Hz}$. Estimate $A_{0}$ and $f_{B}$ if $R_{1}=1.0 \\text{ k}\\Omega$ and $R_{2}=999 \\text{ k}\\Omega$.\n(b) Repeat for $R_{2}=9.0 \\text{ k}\\Omega$.\n(c) Determine the closed-loop gain that yields the widest closed-loop bandwidth.\n\n#### Solution\n\n(a) We find $A_{0} \\cong 1 / b=1+R_{2} / R_{1}=1+999 / 1=1000 \\text{ V/V}$, $a_{0} b=200,000 / 1000=200$, and $f_{B}=\\left(1+a_{0} b\\right) f_{b}=(1+200) 5 \\cong 1.0 \\text{ kHz}$.\n(b) Now, $A_{0} \\cong 10 \\text{ V/V}$, $a_{0} b=20,000$, and $f_{B} \\cong 100 \\text{ kHz}$. Compared to part (a), $A_{0}$ decreases by two decades while $f_{B}$ increases by two decades.\n(c) The widest bandwidth is achieved with $b=1$, configuring the op amp as a unity-gain voltage follower by replacing $R_{2}$ with a wire and removing $R_{1}$. Then, $A_{0} \\cong 1 \\text{ V/V}$, $a_{0} b=a_{0} \\times 1=a_{0}$, and $f_{B}=\\left(1+a_{0}\\right) f_{b} \\cong a_{0} f_{b}=f_{t}=1 \\text{ MHz}$.\n\nNext, we examine the CFA amplifier shown in Fig. 7.11a. Recall from Eq. (6.114) that the CFA's open-loop transimpedance gain is\n\n$$\n\\begin{equation*}\nz(j f) \\cong \\frac{R_{e q}}{1+j f / f_{b}} \\tag{7.24}\n\\end{equation*}\n$$\n\nwhere $f$ is the input signal frequency, $R_{e q}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth (the magnitude plot of $z$ is repeated in Fig. 7.11b for convenience). To find the closed-loop gain $A(j f)$, we adapt the expression for $A$ from Section 5.6, replacing $R_{e q}$ with $z(j f)$. The result is\n\n$$\n\\begin{aligned}\nA(j f) & =\\frac{V_{o}}{V_{i}}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+\\frac{R_{2}\\left(1+j f / f_{b}\\right)}{R_{e q}}} \\\\\n& =\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\times \\frac{1}{1+\\frac{j f}{\\left(1+R_{e q} / R_{2}\\right) f_{b}}}\n\\end{aligned}\n$$\n\nWe rephrase this in a more insightful form as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.25}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(z), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(z)}\nname: CFA, type: OpAmp, value: CFA, ports: {InP: Vi, InN: GND, OutP: Vo}\n]\nextrainfo:The circuit is a non-inverting current feedback amplifier (CFA) configuration. It includes a voltage source Vi, resistors R1 and R2, and an op-amp labeled CFA, forming an amplifier circuit with gain.\n\nimage_name:(b)\ndescription:This graph is a Bode plot illustrating the magnitude response of a system. It shows the open-loop response $|z(jf)|$ in decibels (dec) on the vertical axis against frequency $f$ in decades (dec) on the horizontal axis.\n\nAxes Labels and Units:\n- **Vertical Axis**: $|z(jf)|$ (dec)\n- **Horizontal Axis**: Frequency $f$ (dec)\n\nOverall Behavior and Trends:\n- The graph starts at a level corresponding to $R_{eq}$ at low frequencies.\n- As frequency increases, the magnitude response stays relatively flat until it reaches the corner frequency $f_b$.\n- Beyond $f_b$, the response declines at a rate of -1 dec/dec, indicating a first-order roll-off.\n- The graph continues to decrease until it reaches a point labeled $f_B$, where the magnitude approaches $R_2$.\n\nKey Features and Technical Details:\n- **Initial Level**: The response begins at $R_{eq}$, indicating the initial gain level.\n- **Corner Frequency ($f_b$)**: This is where the response starts to decline, marking the bandwidth limit.\n- **Slope**: The slope of -1 dec/dec indicates a single-pole roll-off, typical for many amplifier responses.\n- **Final Level**: The response levels off at $R_2$, indicating the closed-loop gain determined by the feedback network.\n\nAnnotations and Specific Data Points:\n- The graph includes annotations marking the corner frequency $f_b$ and the bandwidth $f_B$.\n- The slope is marked as -1 dec/dec, highlighting the roll-off characteristic.\n\n(b)\n\nFIGURE 7.11 (a) Noninverting CFA configuration. (b) Visualizing the open-loop response $|z|$ and the closed-loop bandwidth $f_{B}$.\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.26}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+\\frac{R_{e q}}{R_{2}}\\right) f_{b} \\cong \\frac{R_{e q}}{R_{2}} \\times \\frac{1}{2 \\pi R_{e q} C_{e q}}=\\frac{1}{2 \\pi R_{2} C_{e q}} \\tag{7.27}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth (these approximations assume $R_{2} \\ll R_{e q}$). Using simple geometry, we can visualize $f_{B}$ as the frequency at which $|z|$ drops to $R_{2}$, as shown in Fig. 7.11b. This frequency is set by the user via $R_{2}$, independent of the closed-loop gain $A_{0}$, which is determined separately by $R_{1}$. Consequently, CFA circuits avoid the gain-bandwidth tradeoff that affects VFA circuits. This, along with the absence of slew-rate limiting, is a fundamental advantage of CFAs over VFAs. (See also Problem 7.10 for higher-order effects.)\n\nEXAMPLE 7.7 Suppose the CFA of Fig. 7.11 has $R_{e q}=750 \\text{ k}\\Omega$ and $C_{e q}=2.21 \\text{ pF}$. If the data sheets recommend using $R_{2}=1.2 \\text{ k}\\Omega$, specify $R_{1}$ for a closed-loop DC gain of $10 \\text{ V/V}$. What is the closed-loop bandwidth?\n\n#### Solution\n\nImposing $1+1,200 / R_{1}=10$ gives $R_{1}=133.3 \\Omega$. Moreover,\n\n$$\nf_{B} \\cong \\frac{1}{2 \\pi R_{2} C_{e q}}=\\frac{1}{2 \\pi \\times 1200 \\times 2.21 \\times 10^{-12}}=60 \\text{ MHz}\n$$"
},
{
    "text": "Negative feedback significantly impacts the frequency response. If not used cautiously, it can result in unwanted oscillations, necessitating measures to stabilize the system. While the topic of stability will be covered in detail later in this chapter, we now examine the impact of feedback on two op amp types: the voltage-feedback amplifier (VFA) and the current-feedback amplifier (CFA).\n\nLet's begin with the noninverting VFA configuration shown in Fig. 7.2, which is also depicted in Fig. 7.10a for convenience. As discussed in Chapter 6, the open-loop gain of the VFA is given by\n\n$$\n\\begin{equation*}\na(j f) \\cong \\frac{a_{0}}{1+j f / f_{b}} \\tag{7.19}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(a), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(a)}\nname: VFA, type: OpAmp, value: a, ports: {InP: Vi, InN: InN(a), OutP: Vo, OutN: GND}\n]\nextrainfo:The circuit is a noninverting voltage-feedback amplifier (VFA) configuration. It uses an operational amplifier with feedback resistors R1 and R2 to set the gain.\n\n(a)\nimage_name:Figure 7.10b\ndescription:The graph in Figure 7.10b is a Bode plot showing the gain of an operational amplifier in both open-loop and closed-loop configurations. The vertical axis, labeled 'Gain,' is measured in decibels (dB), while the horizontal axis represents frequency, denoted by 'f,' likely in hertz (Hz), on a logarithmic scale.\n\nOverall Behavior and Trends:\n- **Open-Loop Gain (|a|):** The plot exhibits a high open-loop gain, \\(|a_0|\\), which remains constant from direct current (DC) up to a frequency \\(f_b\\). Beyond \\(f_b\\), the open-loop gain \\(|a|\\) decreases at a rate of \\(-20 \\text{ dB/decade}\\), indicating a single-pole roll-off.\n- **Closed-Loop Gain (|A|):** The closed-loop gain, \\(|A_0|\\), is constant over the displayed frequency range and is lower than the open-loop gain. It remains flat,不受 open-loop gain roll-off的影响.\n\nKey Features and Technical Details:\n- **Cutoff Frequency (\\(f_b\\)):** This marks the frequency where the open-loop gain starts to decrease, separating the constant gain region from the roll-off region.\n- **Unity Gain Bandwidth (\\(f_t\\)):** Although not explicitly marked, it is typically the frequency where the open-loop gain crosses 0 dB if the graph extends that far.\n- **Slope of Roll-Off:** The open-loop gain decreases at a slope of \\(-20 \\text{ dB/decade}\\), typical for a first-order system.\n\nAnnotations and Specific Data Points:\n- The plot includes annotations for gain levels \\(|a_0|\\) and \\(|A_0|\\), and the slope of the open-loop gain roll-off.\n- Vertical lines at \\(f_b\\) and \\(f_B\\) indicate significant frequency response points.\n\nFIGURE 7.10 (a) Noninverting VFA configuration. (b) Illustrating the open-loop response $|a|$ and the closed-loop response $|A|$, both in dB.\nwhere $f$ is the input-signal frequency, $a_{0}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth. As shown in Fig. 7.10b, the gain $a$ is high (\\(\\cong a_{0}\\)) from DC up to $f_{b}$, then decreases with $f$ at a rate of $-20 \\mathrm{~dB} /$ decade. A key metric for such amplifiers is the gain-bandwidth product\n\n$$\n\\begin{equation*}\n\\mathrm{GBP}=a_{0} \\times f_{b}=f_{t} \\tag{7.20}\n\\end{equation*}\n$$\n\nFor example, the widely-used 741 op amp has $a_{0}=200,000 \\mathrm{~V} / \\mathrm{V}$ and $f_{b}=5 \\mathrm{~Hz}$, resulting in GBP $=200,000 \\times 5=1 \\mathrm{MHz}$. The closed-loop gain, derived from Eqs. (7.6) and (7.7), is\n\n$$\nA(j f)=\\frac{V_{o}}{V_{i}}=\\frac{1}{b} \\frac{1}{1+\\frac{1+j f / f_{b}}{b a_{0}}}=\\frac{1}{b} \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\times \\frac{1}{1+\\frac{j f}{\\left(1+b a_{0}\\right) f_{b}}}\n$$\n\nwhere $b=1 /\\left(1+R_{2} / R_{1}\\right)$, as per Eq. (7.13). This can be expressed more intuitively as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.21}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.22}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+b a_{0}\\right) f_{b} \\cong \\frac{a_{0}}{A_{0}} f_{b}=\\frac{f_{t}}{A_{0}} \\tag{7.23}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth. (Note the use of lowercase letters for open-loop parameters and uppercase letters for their closed-loop counterparts.) Referring to Fig. $7.10 b$, we see that negative feedback reduces the DC gain from $a_{0}$ to $A_{0} \\cong 1+R_{2} / R_{1}$ and expands the bandwidth from $f_{b}$ to $f_{B} \\cong\\left(a_{0} / A_{0}\\right) f_{b}$, keeping the closed-loop GBP $\\left(=A_{0} \\times f_{B}=f_{t}\\right)$ constant. This gain-bandwidth tradeoff is deliberately utilized by circuit designers to manage amplifier dynamics.\n\nEXAMPLE 7.6 (a) Consider the non-inverting op amp of Fig. 7.2 using the popular 741 op amp, with $a_{0}=200,000 \\mathrm{~V} / \\mathrm{V}$ and $f_{b}=5 \\mathrm{~Hz}$. Estimate $A_{0}$ and $f_{B}$ for $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=999 \\mathrm{k} \\Omega$.\n(b) Repeat for $R_{2}=9.0 \\mathrm{k} \\Omega$.\n(c) Determine the closed-loop gain that yields the widest closed-loop bandwidth.\n\n#### Solution\n\n(a) We find $A_{0} \\cong 1 / b=1+R_{2} / R_{1}=1+999 / 1=1000 \\mathrm{~V} / \\mathrm{V}, a_{0} b=200,000 / 1000=200$, and $f_{B}=\\left(1+a_{0} b\\right) f_{b}=(1+200) 5 \\cong 1.0 \\mathrm{kHz}$.\n(b) Now, $A_{0} \\cong 10 \\mathrm{~V} / \\mathrm{V}, a_{0} b=20,000$, and $f_{B} \\cong 100 \\mathrm{kHz}$. Compared to part (a), $A_{0}$ decreases by two decades while $f_{B}$ increases by two decades.\n(c) The widest bandwidth is achieved with $b=1$, configuring the op amp as a unity-gain voltage follower by replacing $R_{2}$ with a wire and removing $R_{1}$. Then, $A_{0} \\cong 1 \\mathrm{~V} / \\mathrm{V}, a_{0} b=a_{0} \\times 1=a_{0}$, and $f_{B}=\\left(1+a_{0}\\right) f_{b} \\cong a_{0} f_{b}=f_{t}=1 \\mathrm{MHz}$.\n\nNext, we examine the CFA amplifier in Fig. 7.11a. From Eq. (6.114), the CFA's open-loop transimpedance gain is\n\n$$\n\\begin{equation*}\nz(j f) \\cong \\frac{R_{e q}}{1+j f / f_{b}} \\tag{7.24}\n\\end{equation*}\n$$\n\nwhere $f$ is the input-signal frequency, $R_{e q}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth (the magnitude plot of $z$ is shown in Fig. 7.11b for reference). To find the closed-loop gain $A(j f)$, we adapt the expression for $A$ from Section 5.6, replacing $R_{e q}$ with $z(j f)$. The result is\n\n$$\n\\begin{aligned}\nA(j f) & =\\frac{V_{o}}{V_{i}}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+\\frac{R_{2}\\left(1+j f / f_{b}\\right)}{R_{e q}}} \\\\\n& =\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\times \\frac{1}{1+\\frac{j f}{\\left(1+R_{e q} / R_{2}\\right) f_{b}}}\n\\end{aligned}\n$$\n\nWe express this in a more insightful form as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.25}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(z), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(z)}\nname: CFA, type: OpAmp, value: CFA, ports: {InP: Vi, InN: GND, OutP: Vo}\n]\nextrainfo:The circuit is a non-inverting current feedback amplifier (CFA) configuration. It includes a voltage source Vi, resistors R1 and R2, and an op-amp labeled CFA to create an amplifier circuit with gain.\n\nimage_name:(b)\ndescription:The graph illustrates a Bode plot showing the magnitude response of a system. The vertical axis is $|z(jf)|$ in decibels (dec), and the horizontal axis is frequency $f$ in decades (dec).\n\nOverall Behavior and Trends:\n- The graph starts at a level corresponding to $R_{eq}$ at low frequencies.\n- As frequency increases, the magnitude response stays relatively flat until reaching a corner frequency $f_b$.\n- Beyond $f_b$, the response decreases at a rate of -1 dec/dec, indicating a first-order roll-off.\n- The graph continues to decline until it reaches a level labeled $f_B$, where the magnitude approaches $R_2$.\n\nKey Features and Technical Details:\n- **Initial Level**: The response starts at $R_{eq}$, indicating the initial gain level.\n- **Corner Frequency ($f_b$)**: This is where the response begins to decline, marking the start of bandwidth limitation.\n- **Slope**: The slope of -1 dec/dec indicates a single-pole roll-off, typical for many amplifier responses.\n- **Final Level**: The response levels off at $R_2$, indicating the closed-loop gain determined by the feedback network.\n\nAnnotations and Specific Data Points:\n- The graph includes annotations marking the corner frequency $f_b$ and the bandwidth $f_B$.\n- The slope is explicitly marked as -1 dec/dec, highlighting the roll-off characteristic.\n\nThis Bode plot effectively visualizes the transition from open-loop to closed-loop behavior, emphasizing the bandwidth and gain characteristics of the non-inverting current feedback amplifier configuration.\n\n(b)\n\nFIGURE 7.11 (a) Noninverting CFA configuration. (b) Visualizing the open-loop response $|z|$ and the closed-loop bandwidth $f_{B}$.\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.26}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+\\frac{R_{e q}}{R_{2}}\\right) f_{b} \\cong \\frac{R_{e q}}{R_{2}} \\times \\frac{1}{2 \\pi R_{e q} C_{e q}}=\\frac{1}{2 \\pi R_{2} C_{e q}} \\tag{7.27}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth (both approximations assume $R_{2} \\ll R_{e q}$). Using simple geometry, $f_{B}$ can be visualized as the frequency at which $|z|$ drops to $R_{2}$, as shown in Fig. 7.11b. This frequency is set by the user via $R_{2}$, independent of the closed-loop gain $A_{0}$, which is determined separately by $R_{1}$. Consequently, CFA circuits avoid the gain-bandwidth tradeoff typical of VFAs. This, along with the absence of slew-rate limiting, is a fundamental advantage of CFAs over VFAs. (See also Problem 7.10 for higher-order effects.)\n\nEXAMPLE 7.7 Suppose the CFA in Fig. 7.11 has $R_{e q}=750 \\mathrm{k} \\Omega$ and $C_{e q}=2.21 \\mathrm{pF}$. If the data sheets recommend using $R_{2}=1.2 \\mathrm{k} \\Omega$, specify $R_{1}$ for a closed-loop DC gain of $10 \\mathrm{~V} / \\mathrm{V}$. What is the closed-loop bandwidth?\n\n#### Solution\n\nTo achieve $1+1,200 / R_{1}=10$, we find $R_{1}=133.3 \\Omega$. Additionally,\n\n$$\nf_{B} \\cong \\frac{1}{2 \\pi R_{2} C_{e q}}=\\frac{1}{2 \\pi \\times 1200 \\times 2.21 \\times 10^{-12}}=60 \\mathrm{MHz}\n$$"
},
{
    "text": "Negative feedback significantly impacts the frequency response. If not applied carefully, it can result in unwanted oscillations, necessitating measures to stabilize the system. While the topic of stability will be discussed in detail later in this chapter, we now examine the influence of feedback on two op amp types: the voltage-feedback amplifier (VFA) and the current-feedback amplifier (CFA).\n\nWe begin with the noninverting VFA configuration shown in Fig. 7.2, which is also depicted in Fig. 7.10a for convenience. As discussed in Chapter 6, the open-loop gain of the VFA is given by\n\n$$\n\\begin{equation*}\na(j f) \\cong \\frac{a_{0}}{1+j f / f_{b}} \\tag{7.19}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(a), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(a)}\nname: VFA, type: OpAmp, value: a, ports: {InP: Vi, InN: InN(a), OutP: Vo, OutN: GND}\n]\nextrainfo:The circuit is a noninverting voltage-feedback amplifier (VFA) configuration. It uses an operational amplifier with feedback resistors R1 and R2 to set the gain.\n\n(a)\nimage_name:Figure 7.10b\ndescription:The graph in Figure 7.10b is a Bode plot representing the gain of an operational amplifier in both open-loop and closed-loop configurations. The vertical axis is labeled 'Gain' and is measured in decibels (dB), while the horizontal axis represents frequency, denoted by 'f', likely in hertz (Hz). The frequency axis is on a logarithmic scale, typical for Bode plots.\n\nOverall Behavior and Trends:\n- **Open-Loop Gain (|a|):** The plot shows a high open-loop gain, denoted as \\(|a_0|\\), which remains constant from direct current (DC) up to a frequency \\(f_b\\). Beyond \\(f_b\\), the open-loop gain \\(|a|\\) decreases at a rate of \\(-20 \\text{ dB/decade}\\), indicating a single-pole roll-off characteristic.\n- **Closed-Loop Gain (|A|):** The closed-loop gain, denoted as \\(|A_0|\\), is constant over the frequency range shown and is lower than the open-loop gain. It remains flat and does not follow the roll-off of the open-loop gain.\n\nKey Features and Technical Details:\n- **Cutoff Frequency (\\(f_b\\)):** This is the frequency at which the open-loop gain begins to decrease. It marks the boundary between the constant gain region and the roll-off region.\n- **Unity Gain Bandwidth (\\(f_t\\)):** Though not explicitly marked, it is typically the frequency where the open-loop gain crosses 0 dB if the graph extends to it.\n- **Slope of Roll-Off:** The slope of the open-loop gain decrease is \\(-20 \\text{ dB/decade}\\), typical for a first-order system.\n\nAnnotations and Specific Data Points:\n- The plot includes annotations indicating the gain levels \\(|a_0|\\) and \\(|A_0|\\) and the slope of the open-loop gain roll-off.\n- Vertical lines at \\(f_b\\) and \\(f_B\\) mark significant points in the frequency response.\n\nFIGURE 7.10 (a) Noninverting VFA configuration. (b) Visualizing the open-loop response $|a|$ and the closed-loop response $|A|$, both in dB.\nwhere $f$ is the input-signal frequency, $a_{0}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth. As shown in Fig. 7.10b, the gain $a$ is high (\\(\\cong a_{0}\\)) from DC up to $f_{b}$, after which it decreases with $f$ at a rate of \\(-20 \\text{ dB/decade}\\). A crucial metric for such an amplifier is its gain-bandwidth product\n\n$$\n\\begin{equation*}\n\\mathrm{GBP}=a_{0} \\times f_{b}=f_{t} \\tag{7.20}\n\\end{equation*}\n$$\n\nFor example, the widely-used 741 op amp has $a_{0}=200,000 \\text{ V/V}$ and $f_{b}=5 \\text{ Hz}$, resulting in GBP $=200,000 \\times 5=1 \\text{ MHz}$. The closed-loop gain is determined by Eqs. (7.6) and (7.7) as\n\n$$\nA(j f)=\\frac{V_{o}}{V_{i}}=\\frac{1}{b} \\frac{1}{1+\\frac{1+j f / f_{b}}{b a_{0}}}=\\frac{1}{b} \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\times \\frac{1}{1+\\frac{j f}{\\left(1+b a_{0}\\right) f_{b}}}\n$$\n\nwhere $b=1 /\\left(1+R_{2} / R_{1}\\right)$, as per Eq. (7.13). This can be expressed more intuitively as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.21}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.22}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+b a_{0}\\right) f_{b} \\cong \\frac{a_{0}}{A_{0}} f_{b}=\\frac{f_{t}}{A_{0}} \\tag{7.23}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth. (Note the use of lowercase letters for open-loop parameters and uppercase letters for their closed-loop counterparts.) Referring to Fig. 7.10b, we see that negative feedback reduces the DC gain from $a_{0}$ to $A_{0} \\cong 1+R_{2} / R_{1}$ and extends the bandwidth from $f_{b}$ to $f_{B} \\cong\\left(a_{0} / A_{0}\\right) f_{b}$, keeping the closed-loop GBP $\\left(=A_{0} \\times f_{B}=f_{t}\\right)$ constant. This gain-bandwidth tradeoff is intentionally utilized by circuit designers to manage amplifier dynamics.\n\nEXAMPLE 7.6 (a) Consider the non-inverting op amp of Fig. 7.2 using the 741 op amp, with $a_{0}=200,000 \\text{ V/V}$ and $f_{b}=5 \\text{ Hz}$. Calculate $A_{0}$ and $f_{B}$ if $R_{1}=1.0 \\text{ k}\\Omega$ and $R_{2}=999 \\text{ k}\\Omega$.\n(b) Repeat for $R_{2}=9.0 \\text{ k}\\Omega$.\n(c) Determine the closed-loop gain that yields the widest closed-loop bandwidth.\n\n#### Solution\n\n(a) We find $A_{0} \\cong 1 / b=1+R_{2} / R_{1}=1+999 / 1=1000 \\text{ V/V}, a_{0} b=200,000 / 1000=200$, and $f_{B}=\\left(1+a_{0} b\\right) f_{b}=(1+200) 5 \\cong 1.0 \\text{ kHz}$.\n(b) Now, $A_{0} \\cong 10 \\text{ V/V}, a_{0} b=20,000$, and $f_{B} \\cong 100 \\text{ kHz}$. Compared to part (a), $A_{0}$ decreases by two decades while $f_{B}$ increases by two decades.\n(c) The widest bandwidth is achieved with $b=1$, configuring the op amp as a unity-gain voltage follower by replacing $R_{2}$ with a wire and removing $R_{1}$. Then, $A_{0} \\cong 1 \\text{ V/V}, a_{0} b=a_{0} \\times 1=a_{0}$, and $f_{B}=\\left(1+a_{0}\\right) f_{b} \\cong a_{0} f_{b}=f_{t}=1 \\text{ MHz}$.\n\nNext, we analyze the CFA amplifier shown in Fig. 7.11a. Recall from Eq. (6.114) that the CFA's open-loop transimpedance gain is\n\n$$\n\\begin{equation*}\nz(j f) \\cong \\frac{R_{e q}}{1+j f / f_{b}} \\tag{7.24}\n\\end{equation*}\n$$\n\nwhere $f$ is the input-signal frequency, $R_{e q}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth (the magnitude plot of $z$ is shown in Fig. 7.11b for reference). To find the closed-loop gain $A(j f)$, we adapt the expression for $A$ from Section 5.6, replacing $R_{e q}$ with $z(j f)$. This yields\n\n$$\n\\begin{aligned}\nA(j f) & =\\frac{V_{o}}{V_{i}}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+\\frac{R_{2}\\left(1+j f / f_{b}\\right)}{R_{e q}}} \\\\\n& =\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\times \\frac{1}{1+\\frac{j f}{\\left(1+R_{e q} / R_{2}\\right) f_{b}}}\n\\end{aligned}\n$$\n\nWe rephrase this as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.25}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(z), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(z)}\nname: CFA, type: OpAmp, value: CFA, ports: {InP: Vi, InN: GND, OutP: Vo}\n]\nextrainfo:The circuit is a non-inverting current feedback amplifier (CFA) configuration. It shows the connection of a voltage source Vi, resistors R1 and R2, and an op-amp labeled CFA to create an amplifier circuit with gain.\n\nimage_name:(b)\ndescription:The graph depicted is a Bode plot, specifically illustrating the magnitude response of a system. It shows the open-loop response $|z(jf)|$ in decibels (dec) on the vertical axis against frequency $f$ in decades (dec) on the horizontal axis.\n\nAxes Labels and Units:\n- **Vertical Axis**: $|z(jf)|$ (dec)\n- **Horizontal Axis**: Frequency $f$ (dec)\n\nOverall Behavior and Trends:\n- The graph begins at a level corresponding to $R_{eq}$ at low frequencies.\n- As the frequency increases, the magnitude response remains relatively flat until it reaches a corner frequency $f_b$.\n- Beyond $f_b$, the response begins to decline at a rate of -1 dec/dec, indicating a first-order roll-off characteristic.\n- The graph continues to decrease until it reaches a point labeled $f_B$, where the magnitude approaches the level of $R_2$.\n\nKey Features and Technical Details:\n- **Initial Level**: The response starts at $R_{eq}$, indicating the initial gain level of the system.\n- **Corner Frequency ($f_b$)**: This is where the response starts to decline, marking the start of the bandwidth limitation.\n- **Slope**: The slope of -1 dec/dec indicates a single-pole roll-off characteristic, typical for many amplifier responses.\n- **Final Level**: The response levels off at $R_2$, indicating the closed-loop gain determined by the feedback network.\n\nAnnotations and Specific Data Points:\n- The graph includes annotations marking the corner frequency $f_b$ and the bandwidth $f_B$.\n- The slope is explicitly marked as -1 dec/dec, reinforcing the nature of the roll-off.\n\nThis Bode plot effectively visualizes the transition from open-loop to closed-loop behavior, highlighting the bandwidth and gain characteristics of the non-inverting current feedback amplifier configuration described in the context.\n\n(b)\n\nFIGURE 7.11 (a) Noninverting CFA configuration. (b) Visualizing the open-loop response $|z|$ and the closed-loop bandwidth $f_{B}$.\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.26}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+\\frac{R_{e q}}{R_{2}}\\right) f_{b} \\cong \\frac{R_{e q}}{R_{2}} \\times \\frac{1}{2 \\pi R_{e q} C_{e q}}=\\frac{1}{2 \\pi R_{2} C_{e q}} \\tag{7.27}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth (these approximations assume $R_{2} \\ll R_{e q}$). Using simple geometry, $f_{B}$ can be visualized as the frequency at which $|z|$ drops to $R_{2}$, as shown in Fig. 7.11b. This frequency is set by the user via $R_{2}$, independent of the closed-loop gain $A_{0}$, which is determined separately by $R_{1}$. Consequently, CFA circuits avoid the gain-bandwidth tradeoff that affects VFAs. This, along with the absence of slew-rate limiting, is a significant advantage of CFAs over VFAs. (See also Problem 7.10 for higher-order effects.)\n\nEXAMPLE 7.7 Suppose the CFA in Fig. 7.11 has $R_{e q}=750 \\text{ k}\\Omega$ and $C_{e q}=2.21 \\text{ pF}$. If the data sheets recommend $R_{2}=1.2 \\text{ k}\\Omega$, find $R_{1}$ for a closed-loop DC gain of $10 \\text{ V/V}$. What is the closed-loop bandwidth?\n\n#### Solution\n\nSetting $1+1,200 / R_{1}=10$ gives $R_{1}=133.3 \\Omega$. Additionally,\n\n$$\nf_{B} \\cong \\frac{1}{2 \\pi R_{2} C_{e q}}=\\frac{1}{2 \\pi \\times 1200 \\times 2.21 \\times 10^{-12}}=60 \\text{ MHz}\n$$"
},
{
    "text": "Negative feedback significantly impacts the frequency response. If not used carefully, it can cause unwanted oscillations, necessitating measures to stabilize the system. While the topic of stability will be discussed in detail later in this chapter, we now examine the influence of feedback on two op amp types: the voltage-feedback amplifier (VFA) and the current-feedback amplifier (CFA).\n\nLet's begin with the noninverting VFA configuration shown in Fig. 7.2, which is also presented in Fig. 7.10a for convenience. As discussed in Chapter 6, the open-loop gain of the VFA is given by\n\n$$\n\\begin{equation*}\na(j f) \\cong \\frac{a_{0}}{1+j f / f_{b}} \\tag{7.19}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(a), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(a)}\nname: VFA, type: OpAmp, value: a, ports: {InP: Vi, InN: InN(a), OutP: Vo, OutN: GND}\n]\nextrainfo:The circuit is a noninverting voltage-feedback amplifier (VFA) configuration. It utilizes an operational amplifier with feedback resistors R1 and R2 to determine the gain.\n\n(a)\nimage_name:Figure 7.10b\ndescription:The graph in Figure 7.10b is a Bode plot showing the gain of an operational amplifier in both open-loop and closed-loop configurations. The vertical axis, labeled 'Gain,' is measured in decibels (dB), while the horizontal axis represents frequency, denoted by 'f,' typically in hertz (Hz). The frequency axis uses a logarithmic scale, common for Bode plots.\n\nOverall Behavior and Trends:\n- **Open-Loop Gain (|a|):** The plot displays a high open-loop gain, denoted as \\(|a_0|\\), which remains constant from direct current (DC) up to a frequency \\(f_b\\). Beyond \\(f_b\\), the open-loop gain \\(|a|\\) decreases at a rate of \\(-20 \\text{ dB/decade}\\), indicating a single-pole roll-off.\n- **Closed-Loop Gain (|A|):** The closed-loop gain, denoted as \\(|A_0|\\), is constant across the shown frequency range and is lower than the open-loop gain. It remains flat and does not follow the roll-off of the open-loop gain.\n\nKey Features and Technical Details:\n- **Cutoff Frequency (\\(f_b\\)):** This is the frequency where the open-loop gain starts to decrease, marking the transition from constant gain to roll-off.\n- **Unity Gain Bandwidth (\\(f_t\\)):** Though not explicitly shown, it is typically the frequency where the open-loop gain reaches 0 dB if the graph extends that far.\n- **Slope of Roll-Off:** The open-loop gain decreases at a slope of \\(-20 \\text{ dB/decade}\\), typical for a first-order system.\n\nAnnotations and Specific Data Points:\n- The plot includes annotations for the gain levels \\(|a_0|\\) and \\(|A_0|\\) and the slope of the open-loop gain roll-off.\n- Vertical lines at \\(f_b\\) and \\(f_B\\) mark significant frequency response points.\n\nFIGURE 7.10 (a) Noninverting VFA configuration. (b) Visualizing the open-loop response $|a|$ and the closed-loop response $|A|$, both in dB.\nwhere $f$ is the input-signal frequency, $a_{0}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth. As shown in Fig. 7.10b, the gain $a$ is high (\\(\\cong a_{0}\\)) from DC up to $f_{b}$, after which it decreases with $f$ at a rate of $-20 \\mathrm{~dB} /$ decade. An important metric for such an amplifier is its gain-bandwidth product\n\n$$\n\\begin{equation*}\n\\mathrm{GBP}=a_{0} \\times f_{b}=f_{t} \\tag{7.20}\n\\end{equation*}\n$$\n\nFor example, the widely-used 741 op amp has $a_{0}=200,000 \\mathrm{~V} / \\mathrm{V}$ and $f_{b}=5 \\mathrm{~Hz}$, resulting in GBP $=200,000 \\times 5=1 \\mathrm{MHz}$. The closed-loop gain is determined by Eqs. (7.6) and (7.7) as\n\n$$\nA(j f)=\\frac{V_{o}}{V_{i}}=\\frac{1}{b} \\frac{1}{1+\\frac{1+j f / f_{b}}{b a_{0}}}=\\frac{1}{b} \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\times \\frac{1}{1+\\frac{j f}{\\left(1+b a_{0}\\right) f_{b}}}\n$$\n\nwhere $b=1 /\\left(1+R_{2} / R_{1}\\right)$, as per Eq. (7.13). This can be expressed in a more insightful form\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.21}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.22}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+b a_{0}\\right) f_{b} \\cong \\frac{a_{0}}{A_{0}} f_{b}=\\frac{f_{t}}{A_{0}} \\tag{7.23}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth. (Note the use of lowercase letters for open-loop parameters and uppercase letters for their closed-loop counterparts.) Referring to Fig. $7.10 b$, we see that negative feedback reduces the DC gain from $a_{0}$ to $A_{0} \\cong 1+R_{2} / R_{1}$ and expands the bandwidth from $f_{b}$ to $f_{B} \\cong\\left(a_{0} / A_{0}\\right) f_{b}$, keeping the closed-loop GBP $\\left(=A_{0} \\times f_{B}=f_{t}\\right)$ constant. This gain-bandwidth tradeoff is intentionally utilized by circuit designers to manage amplifier dynamics.\n\nEXAMPLE 7.6 (a) Consider the non-inverting op amp of Fig. 7.2 implemented with the common 741 op amp, having $a_{0}=200,000 \\mathrm{~V} / \\mathrm{V}$ and $f_{b}=5 \\mathrm{~Hz}$. Estimate $A_{0}$ and $f_{B}$ for $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=999 \\mathrm{k} \\Omega$.\n(b) Repeat the calculation if $R_{2}$ is reduced to $9.0 \\mathrm{k} \\Omega$.\n(c) Determine the closed-loop gain that yields the widest closed-loop bandwidth.\n\n#### Solution\n\n(a) We find $A_{0} \\cong 1 / b=1+R_{2} / R_{1}=1+999 / 1=1000 \\mathrm{~V} / \\mathrm{V}, a_{0} b=200,000 / 1000=200$, and $f_{B}=\\left(1+a_{0} b\\right) f_{b}=(1+200) 5 \\cong 1.0 \\mathrm{kHz}$.\n(b) Now, $A_{0} \\cong 10 \\mathrm{~V} / \\mathrm{V}, a_{0} b=20,000$, and $f_{B} \\cong 100 \\mathrm{kHz}$. Compared to part (a), $A_{0}$ decreases by two decades while $f_{B}$ increases by two decades.\n(c) The widest bandwidth is achieved with $b=1$, configuring the op amp as a unity-gain voltage follower by replacing $R_{2}$ with a wire and removing $R_{1}$. Then, $A_{0} \\cong 1 \\mathrm{~V} / \\mathrm{V}, a_{0} b=a_{0} \\times 1=a_{0}$, and $f_{B}=\\left(1+a_{0}\\right) f_{b} \\cong a_{0} f_{b}=f_{t}=1 \\mathrm{MHz}$.\n\nNext, let's examine the CFA amplifier shown in Fig. 7.11a. Recall from Eq. (6.114) that the CFA's open-loop transimpedance gain is\n\n$$\n\\begin{equation*}\nz(j f) \\cong \\frac{R_{e q}}{1+j f / f_{b}} \\tag{7.24}\n\\end{equation*}\n$$\n\nwhere $f$ is the input-signal frequency, $R_{e q}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth (the magnitude plot of $z$ is shown in Fig. 7.11b for reference). To find the closed-loop gain $A(j f)$, we adapt the expression for $A$ from Section 5.6, replacing $R_{e q}$ with $z(j f)$. The result is\n\n$$\n\\begin{aligned}\nA(j f) & =\\frac{V_{o}}{V_{i}}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+\\frac{R_{2}\\left(1+j f / f_{b}\\right)}{R_{e q}}} \\\\\n& =\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\times \\frac{1}{1+\\frac{j f}{\\left(1+R_{e q} / R_{2}\\right) f_{b}}}\n\\end{aligned}\n$$\n\nWe can rewrite this in a more insightful form\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.25}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(z), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(z)}\nname: CFA, type: OpAmp, value: CFA, ports: {InP: Vi, InN: GND, OutP: Vo}\n]\nextrainfo:The circuit is a non-inverting current feedback amplifier (CFA) configuration. It includes a voltage source Vi, resistors R1 and R2, and an op-amp labeled CFA to create an amplifier circuit with gain.\n\nimage_name:(b)\ndescription:The graph depicted is a Bode plot, specifically illustrating the magnitude response of a system. It shows the open-loop response $|z(jf)|$ in decibels (dec) on the vertical axis against frequency $f$ in decades (dec) on the horizontal axis.\n\nAxes Labels and Units:\n- **Vertical Axis**: $|z(jf)|$ (dec)\n- **Horizontal Axis**: Frequency $f$ (dec)\n\nOverall Behavior and Trends:\n- The graph starts at a level corresponding to $R_{eq}$ at low frequencies.\n- As the frequency increases, the magnitude response remains relatively flat until it reaches a corner frequency $f_b$.\n- Beyond $f_b$, the response begins to decline at a rate of -1 dec/dec, indicating a first-order roll-off.\n- The graph continues to decrease until it reaches a point labeled $f_B$, where the magnitude approaches the level of $R_2$.\n\nKey Features and Technical Details:\n- **Initial Level**: The response starts at $R_{eq}$, indicating the initial gain level of the system.\n- **Corner Frequency ($f_b$)**: This is where the response starts to decline, marking the start of the bandwidth limitation.\n- **Slope**: The slope of -1 dec/dec indicates a single-pole roll-off characteristic, typical for many amplifier responses.\n- **Final Level**: The response levels off at $R_2$, indicating the closed-loop gain determined by the feedback network.\n\nAnnotations and Specific Data Points:\n- The graph includes annotations marking the corner frequency $f_b$ and the bandwidth $f_B$.\n- The slope is explicitly marked as -1 dec/dec, reinforcing the nature of the roll-off.\n\nThis Bode plot effectively visualizes the transition from open-loop to closed-loop behavior, highlighting the bandwidth and gain characteristics of the non-inverting current feedback amplifier configuration described in the context.\n\n(b)\n\nFIGURE 7.11 (a) Noninverting CFA configuration. (b) Visualizing the open-loop response $|z|$ and the closed-loop bandwidth $f_{B}$.\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.26}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+\\frac{R_{e q}}{R_{2}}\\right) f_{b} \\cong \\frac{R_{e q}}{R_{2}} \\times \\frac{1}{2 \\pi R_{e q} C_{e q}}=\\frac{1}{2 \\pi R_{2} C_{e q}} \\tag{7.27}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth (both approximations assume $R_{2} \\ll R_{e q}$). Using simple geometry, we can visualize $f_{B}$ as the frequency at which $|z|$ drops to $R_{2}$, as shown in Fig. 7.11b. This frequency is set by the user via $R_{2}$, independent of the closed-loop gain $A_{0}$, which is determined separately by $R_{1}$. Consequently, CFA circuits avoid the gain-bandwidth tradeoff inherent in VFA circuits. This, along with the absence of slew-rate limiting, is a significant advantage of CFAs over VFAs. (See also Problem 7.10 for higher-order effects.)\n\nEXAMPLE 7.7 Suppose the CFA of Fig. 7.11 has $R_{e q}=750 \\mathrm{k} \\Omega$ and $C_{e q}=2.21 \\mathrm{pF}$. If the data sheets recommend using $R_{2}=1.2 \\mathrm{k} \\Omega$, specify $R_{1}$ for a closed-loop DC gain of $10 \\mathrm{~V} / \\mathrm{V}$. What is the closed-loop bandwidth?\n\n#### Solution\n\nTo achieve $1+1,200 / R_{1}=10$, we find $R_{1}=133.3 \\Omega$. Additionally,\n\n$$\nf_{B} \\cong \\frac{1}{2 \\pi R_{2} C_{e q}}=\\frac{1}{2 \\pi \\times 1200 \\times 2.21 \\times 10^{-12}}=60 \\mathrm{MHz}\n$$"
},
{
    "text": "Negative feedback significantly impacts the frequency response. If not used cautiously, it can result in unwanted oscillations, necessitating measures to stabilize the system. While the topic of stability will be discussed in detail later in this chapter, we now examine the influence of feedback on two op amp types: the voltage-feedback amplifier (VFA) and the current-feedback amplifier (CFA).\n\nLet's begin with the noninverting VFA configuration shown in Fig. 7.2, which is also presented in Fig. 7.10a for convenience. As discussed in Chapter 6, the open-loop gain of the VFA is given by\n\n$$\n\\begin{equation*}\na(j f) \\cong \\frac{a_{0}}{1+j f / f_{b}} \\tag{7.19}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(a), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(a)}\nname: VFA, type: OpAmp, value: a, ports: {InP: Vi, InN: InN(a), OutP: Vo, OutN: GND}\n]\nextrainfo:The circuit is a noninverting voltage-feedback amplifier (VFA) configuration. It utilizes an operational amplifier with feedback resistors R1 and R2 to set the gain.\n\n(a)\nimage_name:Figure 7.10b\ndescription:The graph in Figure 7.10b is a Bode plot depicting the gain of an operational amplifier in both open-loop and closed-loop configurations. The vertical axis, labeled 'Gain,' is measured in decibels (dB), while the horizontal axis represents frequency, denoted by 'f,' likely in hertz (Hz). The frequency axis uses a logarithmic scale, typical for Bode plots.\n\nOverall Behavior and Trends:\n- **Open-Loop Gain (|a|):** The plot shows a high open-loop gain, denoted as \\(|a_0|\\), which remains constant from direct current (DC) up to a frequency \\(f_b\\). Beyond \\(f_b\\), the open-loop gain \\(|a|\\) decreases at a rate of \\(-20 \\text{ dB/decade}\\), indicating a single-pole roll-off characteristic.\n- **Closed-Loop Gain (|A|):** The closed-loop gain, denoted as \\(|A_0|\\), is constant over the displayed frequency range and is lower than the open-loop gain. It remains flat and does not follow the roll-off of the open-loop gain.\n\nKey Features and Technical Details:\n- **Cutoff Frequency (\\(f_b\\)):** This is the frequency at which the open-loop gain begins to decrease, marking the boundary between the constant gain region and the roll-off region.\n- **Unity Gain Bandwidth (\\(f_t\\)):** Although not explicitly marked, it is typically the frequency where the open-loop gain crosses 0 dB if the graph extends to it.\n- **Slope of Roll-Off:** The slope of the open-loop gain decrease is \\(-20 \\text{ dB/decade}\\), typical for a first-order system.\n\nAnnotations and Specific Data Points:\n- The plot includes annotations indicating the gain levels \\(|a_0|\\) and \\(|A_0|\\) and the slope of the open-loop gain roll-off.\n- Vertical lines at \\(f_b\\) and \\(f_B\\) mark significant points in the frequency response.\n\nFIGURE 7.10 (a) Noninverting VFA configuration. (b) Visualizing the open-loop response $|a|$ and the closed-loop response $|A|$, both in dB.\nwhere $f$ is the input-signal frequency, $a_{0}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth. As illustrated in Fig. 7.10b, the gain $a$ is high $\\left(\\cong a_{0}\\right)$ from DC up to $f_{b}$, beyond which it decreases with $f$ at a rate of $-20 \\mathrm{~dB} /$ decade. A key metric for such amplifiers is the gain-bandwidth product\n\n$$\n\\begin{equation*}\n\\mathrm{GBP}=a_{0} \\times f_{b}=f_{t} \\tag{7.20}\n\\end{equation*}\n$$\n\nFor example, the widely used 741 op amp has $a_{0}=200,000 \\mathrm{~V} / \\mathrm{V}$ and $f_{b}=5 \\mathrm{~Hz}$, resulting in GBP $=200,000 \\times 5=1 \\mathrm{MHz}$. The closed-loop gain is determined by Eqs. (7.6) and (7.7) as\n\n$$\nA(j f)=\\frac{V_{o}}{V_{i}}=\\frac{1}{b} \\frac{1}{1+\\frac{1+j f / f_{b}}{b a_{0}}}=\\frac{1}{b} \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\times \\frac{1}{1+\\frac{j f}{\\left(1+b a_{0}\\right) f_{b}}}\n$$\n\nwhere $b=1 /\\left(1+R_{2} / R_{1}\\right)$, as per Eq. (7.13). This can be expressed in a more insightful form as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.21}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.22}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+b a_{0}\\right) f_{b} \\cong \\frac{a_{0}}{A_{0}} f_{b}=\\frac{f_{t}}{A_{0}} \\tag{7.23}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth. (Note the use of lowercase letters for open-loop parameters and uppercase letters for their closed-loop counterparts.) Referring to Fig. $7.10 b$, we see that negative feedback reduces the DC gain from $a_{0}$ to $A_{0} \\cong 1+R_{2} / R_{1}$ and expands the bandwidth from $f_{b}$ to $f_{B} \\cong\\left(a_{0} / A_{0}\\right) f_{b}$, keeping the closed-loop GBP $\\left(=A_{0} \\times f_{B}=f_{t}\\right)$ constant. This gain-bandwidth tradeoff is intentionally utilized by circuit designers to control amplifier dynamics.\n\nEXAMPLE 7.6 (a) Consider the non-inverting op amp of Fig. 7.2 using the popular 741 op amp, with $a_{0}=200,000 \\mathrm{~V} / \\mathrm{V}$ and $f_{b}=5 \\mathrm{~Hz}$. Estimate $A_{0}$ and $f_{B}$ if $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=999 \\mathrm{k} \\Omega$.\n(b) Repeat the calculation if $R_{2}$ is reduced to $9.0 \\mathrm{k} \\Omega$.\n(c) Determine the closed-loop gain that yields the widest closed-loop bandwidth.\n\n#### Solution\n\n(a) We find $A_{0} \\cong 1 / b=1+R_{2} / R_{1}=1+999 / 1=1000 \\mathrm{~V} / \\mathrm{V}, a_{0} b=200,000 / 1000=200$, and $f_{B}=\\left(1+a_{0} b\\right) f_{b}=(1+200) 5 \\cong 1.0 \\mathrm{kHz}$.\n(b) Now, $A_{0} \\cong 10 \\mathrm{~V} / \\mathrm{V}, a_{0} b=20,000$, and $f_{B} \\cong 100 \\mathrm{kHz}$. Compared to part (a), $A_{0}$ decreases by two decades while $f_{B}$ increases by two decades.\n(c) The widest bandwidth is achieved with $b=1$, which corresponds to configuring the op amp as a unity-gain voltage follower by replacing $R_{2}$ with a wire and removing $R_{1}$. Then, $A_{0} \\cong 1 \\mathrm{~V} / \\mathrm{V}, a_{0} b=a_{0} \\times 1=a_{0}$, and $f_{B}=\\left(1+a_{0}\\right) f_{b} \\cong a_{0} f_{b}=f_{t}=1 \\mathrm{MHz}$.\n\nNext, we examine the CFA amplifier depicted in Fig. 7.11a. From Eq. (6.114), the CFA's open-loop transimpedance gain is\n\n$$\n\\begin{equation*}\nz(j f) \\cong \\frac{R_{e q}}{1+j f / f_{b}} \\tag{7.24}\n\\end{equation*}\n$$\n\nwhere $f$ is the input-signal frequency, $R_{e q}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth (the magnitude plot of $z$ is shown in Fig. 7.11b for reference). To find the closed-loop gain $A(j f)$, we adapt the expression for $A$ from Section 5.6, replacing $R_{e q}$ with $z(j f)$. This yields\n\n$$\n\\begin{aligned}\nA(j f) & =\\frac{V_{o}}{V_{i}}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+\\frac{R_{2}\\left(1+j f / f_{b}\\right)}{R_{e q}}} \\\\\n& =\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\times \\frac{1}{1+\\frac{j f}{\\left(1+R_{e q} / R_{2}\\right) f_{b}}}\n\\end{aligned}\n$$\n\nWe can rephrase this as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.25}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(z), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(z)}\nname: CFA, type: OpAmp, value: CFA, ports: {InP: Vi, InN: GND, OutP: Vo}\n]\nextrainfo:The circuit is a non-inverting current feedback amplifier (CFA) configuration. It includes a voltage source Vi, resistors R1 and R2, and an op-amp labeled CFA, forming an amplifier circuit with gain.\n\nimage_name:(b)\ndescription:The graph shown is a Bode plot illustrating the magnitude response of a system. It displays the open-loop response $|z(jf)|$ in decibels (dec) on the vertical axis against frequency $f$ in decades (dec) on the horizontal axis.\n\nAxes Labels and Units:\n- **Vertical Axis**: $|z(jf)|$ (dec)\n- **Horizontal Axis**: Frequency $f$ (dec)\n\nOverall Behavior and Trends:\n- The graph starts at a level corresponding to $R_{eq}$ at low frequencies.\n- As the frequency increases, the magnitude response stays relatively flat until it reaches a corner frequency $f_b$.\n- Beyond $f_b$, the response begins to decline at a rate of -1 dec/dec, indicating a first-order roll-off characteristic.\n- The graph continues to decrease until it reaches a point labeled $f_B$, where the magnitude levels off at $R_2$.\n\nKey Features and Technical Details:\n- **Initial Level**: The response starts at $R_{eq}$, indicating the initial gain level of the system.\n- **Corner Frequency ($f_b$)**: This is where the response starts to decline, marking the start of the bandwidth limitation.\n- **Slope**: The slope of -1 dec/dec indicates a single-pole roll-off, typical for many amplifier responses.\n- **Final Level**: The response levels off at $R_2$, indicating the closed-loop gain determined by the feedback network.\n\nAnnotations and Specific Data Points:\n- The graph includes annotations marking the corner frequency $f_b$ and the bandwidth $f_B$.\n- The slope is explicitly marked as -1 dec/dec, emphasizing the nature of the roll-off.\n\nThis Bode plot effectively illustrates the transition from open-loop to closed-loop behavior, highlighting the bandwidth and gain characteristics of the non-inverting current feedback amplifier configuration described.\n\n(b)\n\nFIGURE 7.11 (a) Noninverting CFA configuration. (b) Visualizing the open-loop response $|z|$ and the closed-loop bandwidth $f_{B}$.\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.26}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+\\frac{R_{e q}}{R_{2}}\\right) f_{b} \\cong \\frac{R_{e q}}{R_{2}} \\times \\frac{1}{2 \\pi R_{e q} C_{e q}}=\\frac{1}{2 \\pi R_{2} C_{e q}} \\tag{7.27}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth (these approximations assume $R_{2} \\ll R_{e q}$ in a well-designed circuit). Using simple geometry, we can visualize $f_{B}$ as the frequency at which $|z|$ drops to $R_{2}$, as shown in Fig. 7.11b. This frequency is determined by the user via $R_{2}$, independent of the closed-loop gain $A_{0}$, which is set separately via $R_{1}$. Consequently, CFA circuits avoid the gain-bandwidth tradeoff typical of VFA circuits. This, along with the absence of slew-rate limiting, is a fundamental advantage of CFAs over VFAs. (See also Problem 7.10 for higher-order effects.)\n\nEXAMPLE 7.7 Suppose the CFA of Fig. 7.11 has $R_{e q}=750 \\mathrm{k} \\Omega$ and $C_{e q}=2.21 \\mathrm{pF}$. If the data sheets recommend using $R_{2}=1.2 \\mathrm{k} \\Omega$, specify $R_{1}$ for a closed-loop DC gain of $10 \\mathrm{~V} / \\mathrm{V}$. What is the closed-loop bandwidth?\n\n#### Solution\n\nTo achieve a closed-loop DC gain of $10 \\mathrm{~V} / \\mathrm{V}$, we set $1+1,200 / R_{1}=10$, giving $R_{1}=133.3 \\Omega$. Additionally,\n\n$$\nf_{B} \\cong \\frac{1}{2 \\pi R_{2} C_{e q}}=\\frac{1}{2 \\pi \\times 1200 \\times 2.21 \\times 10^{-12}}=60 \\mathrm{MHz}\n$$"
},
{
    "text": "Negative feedback significantly impacts the frequency response. If not properly managed, it can result in unwanted oscillations, necessitating measures to stabilize the system. While the topic of stability will be discussed in detail later in this chapter, we now examine the influence of feedback on two op amp types: the voltage-feedback amplifier (VFA) and the current-feedback amplifier (CFA).\n\nLet's begin with the noninverting VFA configuration shown in Fig. 7.2, which is also depicted in Fig. 7.10a for convenience. As covered in Chapter 6, the open-loop gain of the VFA is given by\n\n$$\n\\begin{equation*}\na(j f) \\cong \\frac{a_{0}}{1+j f / f_{b}} \\tag{7.19}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(a), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(a)}\nname: VFA, type: OpAmp, value: a, ports: {InP: Vi, InN: InN(a), OutP: Vo, OutN: GND}\n]\nextrainfo:The circuit is a noninverting voltage-feedback amplifier (VFA) configuration. It utilizes an operational amplifier with feedback resistors R1 and R2 to determine the gain.\n\n(a)\nimage_name:Figure 7.10b\ndescription:Figure 7.10b presents a Bode plot depicting the gain of an operational amplifier in both open-loop and closed-loop configurations. The vertical axis, labeled 'Gain,' is measured in decibels (dB), while the horizontal axis represents frequency, denoted by 'f,' likely in hertz (Hz), and is on a logarithmic scale.\n\nOverall Behavior and Trends:\n- **Open-Loop Gain (|a|):** The plot shows a high open-loop gain, \\(|a_0|\\), which remains constant from direct current (DC) up to a frequency \\(f_b\\). Beyond \\(f_b\\), the open-loop gain \\(|a|\\) decreases at a rate of \\(-20 \\text{ dB/decade}\\), indicating a single-pole roll-off.\n- **Closed-Loop Gain (|A|):** The closed-loop gain, \\(|A_0|\\), is constant over the shown frequency range and is lower than the open-loop gain, without following the roll-off of the open-loop gain.\n\nKey Features and Technical Details:\n- **Cutoff Frequency (\\(f_b\\)):** This marks the start of the open-loop gain decrease.\n- **Unity Gain Bandwidth (\\(f_t\\)):** Typically the frequency where the open-loop gain reaches 0 dB, though not explicitly marked.\n- **Slope of Roll-Off:** The open-loop gain decreases at a slope of \\(-20 \\text{ dB/decade}\\), typical for a first-order system.\n\nAnnotations and Specific Data Points:\n- Annotations indicate gain levels \\(|a_0|\\) and \\(|A_0|\\) and the slope of the open-loop gain roll-off.\n- Vertical lines at \\(f_b\\) and \\(f_B\\) highlight significant frequency response points.\n\nFIGURE 7.10 (a) Noninverting VFA configuration. (b) Visualizing the open-loop response $|a|$ and the closed-loop response $|A|$, both in dB.\nwhere $f$ is the input-signal frequency, $a_{0}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth. As shown in Fig. 7.10b, the gain $a$ is high (\\(\\cong a_{0}\\)) from DC up to $f_{b}$, then decreases with $f$ at a rate of \\(-20 \\text{ dB/decade}\\). A crucial metric for such amplifiers is the gain-bandwidth product\n\n$$\n\\begin{equation*}\n\\mathrm{GBP}=a_{0} \\times f_{b}=f_{t} \\tag{7.20}\n\\end{equation*}\n$$\n\nFor example, the widely used 741 op amp has $a_{0}=200,000 \\text{ V/V}$ and $f_{b}=5 \\text{ Hz}$, resulting in GBP $=200,000 \\times 5=1 \\text{ MHz}$. The closed-loop gain is determined by Eqs. (7.6) and (7.7) as\n\n$$\nA(j f)=\\frac{V_{o}}{V_{i}}=\\frac{1}{b} \\frac{1}{1+\\frac{1+j f / f_{b}}{b a_{0}}}=\\frac{1}{b} \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\times \\frac{1}{1+\\frac{j f}{\\left(1+b a_{0}\\right) f_{b}}}\n$$\n\nwhere $b=1 /\\left(1+R_{2} / R_{1}\\right)$, as per Eq. (7.13). This can be rewritten as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.21}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.22}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+b a_{0}\\right) f_{b} \\cong \\frac{a_{0}}{A_{0}} f_{b}=\\frac{f_{t}}{A_{0}} \\tag{7.23}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth. (Note the use of lowercase letters for open-loop parameters and uppercase letters for their closed-loop counterparts.) Referring to Fig. 7.10b, we see that negative feedback reduces the DC gain from $a_{0}$ to $A_{0} \\cong 1+R_{2} / R_{1}$ and expands the bandwidth from $f_{b}$ to $f_{B} \\cong\\left(a_{0} / A_{0}\\right) f_{b}$, keeping the closed-loop GBP ($=A_{0} \\times f_{B}=f_{t}$) constant. The gain-bandwidth tradeoff is intentionally used by circuit designers to control amplifier dynamics.\n\nEXAMPLE 7.6 (a) Consider the noninverting op amp of Fig. 7.2 using the 741 op amp with $a_{0}=200,000 \\text{ V/V}$ and $f_{b}=5 \\text{ Hz}$. Estimate $A_{0}$ and $f_{B}$ if $R_{1}=1.0 \\text{ k}\\Omega$ and $R_{2}=999 \\text{ k}\\Omega$.\n(b) Repeat for $R_{2}=9.0 \\text{ k}\\Omega$.\n(c) Determine the closed-loop gain that yields the widest closed-loop bandwidth.\n\n#### Solution\n\n(a) We find $A_{0} \\cong 1 / b=1+R_{2} / R_{1}=1+999 / 1=1000 \\text{ V/V}, a_{0} b=200,000 / 1000=200$, and $f_{B}=\\left(1+a_{0} b\\right) f_{b}=(1+200) 5 \\cong 1.0 \\text{ kHz}$.\n(b) Now, $A_{0} \\cong 10 \\text{ V/V}, a_{0} b=20,000$, and $f_{B} \\cong 100 \\text{ kHz}$. Compared to part (a), $A_{0}$ decreases by two decades while $f_{B}$ increases by two decades.\n(c) The widest bandwidth is achieved with $b=1$, configuring the op amp as a unity-gain voltage follower by replacing $R_{2}$ with a wire and removing $R_{1}$. Then, $A_{0} \\cong 1 \\text{ V/V}, a_{0} b=a_{0} \\times 1=a_{0}$, and $f_{B}=\\left(1+a_{0}\\right) f_{b} \\cong a_{0} f_{b}=f_{t}=1 \\text{ MHz}$.\n\nNext, we analyze the CFA amplifier in Fig. 7.11a. From Eq. (6.114), the CFA's open-loop transimpedance gain is\n\n$$\n\\begin{equation*}\nz(j f) \\cong \\frac{R_{e q}}{1+j f / f_{b}} \\tag{7.24}\n\\end{equation*}\n$$\n\nwhere $f$ is the input-signal frequency, $R_{e q}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth (the magnitude plot of $z$ is shown in Fig. 7.11b for reference). To find the closed-loop gain $A(j f)$, we adapt the expression for $A$ from Section 5.6, replacing $R_{e q}$ with $z(j f)$. This yields\n\n$$\n\\begin{aligned}\nA(j f) & =\\frac{V_{o}}{V_{i}}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+\\frac{R_{2}\\left(1+j f / f_{b}\\right)}{R_{e q}}} \\\\\n& =\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\times \\frac{1}{1+\\frac{j f}{\\left(1+R_{e q} / R_{2}\\right) f_{b}}}\n\\end{aligned}\n$$\n\nWe express this in a more insightful form as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.25}\n\\end{equation*}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: InN(z), N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: InN(z)}\nname: CFA, type: OpAmp, value: CFA, ports: {InP: Vi, InN: GND, OutP: Vo}\n]\nextrainfo:The circuit is a non-inverting current feedback amplifier (CFA) configuration. It includes a voltage source Vi, resistors R1 and R2, and an op-amp labeled CFA, forming an amplifier circuit with gain.\n\nimage_name:(b)\ndescription:The graph illustrates a Bode plot showing the magnitude response of a system. It plots the open-loop response $|z(jf)|$ in decibels (dec) on the vertical axis against frequency $f$ in decades (dec) on the horizontal axis.\n\nAxes Labels and Units:\n- **Vertical Axis**: $|z(jf)|$ (dec)\n- **Horizontal Axis**: Frequency $f$ (dec)\n\nOverall Behavior and Trends:\n- The graph starts at a level corresponding to $R_{eq}$ at low frequencies.\n- As frequency increases, the magnitude response stays relatively flat until it reaches the corner frequency $f_b$.\n- Beyond $f_b$, the response decreases at a rate of -1 dec/dec, indicating a first-order roll-off.\n- The graph continues to decrease until it reaches a point labeled $f_B$, where the magnitude levels off at $R_2$.\n\nKey Features and Technical Details:\n- **Initial Level**: The response begins at $R_{eq}$, indicating the initial gain level.\n- **Corner Frequency ($f_b$)**: This is where the response starts to decline, marking the bandwidth limitation.\n- **Slope**: The -1 dec/dec slope indicates a single-pole roll-off, typical for amplifier responses.\n- **Final Level**: The response stabilizes at $R_2$, indicating the closed-loop gain determined by the feedback network.\n\nAnnotations and Specific Data Points:\n- The graph includes annotations marking the corner frequency $f_b$ and the bandwidth $f_B$.\n- The slope is explicitly marked as -1 dec/dec, emphasizing the roll-off characteristic.\n\nThis Bode plot effectively shows the transition from open-loop to closed-loop behavior, highlighting the bandwidth and gain characteristics of the non-inverting current feedback amplifier configuration described.\n\n(b)\n\nFIGURE 7.11 (a) Noninverting CFA configuration. (b) Visualizing the open-loop response $|z|$ and the closed-loop bandwidth $f_{B}$.\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.26}\n\\end{equation*}\n$$\n\nis the familiar closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+\\frac{R_{e q}}{R_{2}}\\right) f_{b} \\cong \\frac{R_{e q}}{R_{2}} \\times \\frac{1}{2 \\pi R_{e q} C_{e q}}=\\frac{1}{2 \\pi R_{2} C_{e q}} \\tag{7.27}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth (these approximations assume $R_{2} \\ll R_{e q}$ in a well-designed circuit). Using simple geometry, $f_{B}$ can be visualized as the frequency at which $|z|$ drops to $R_{2}$, as shown in Fig. 7.11b. This frequency is set by the user via $R_{2}$, independent of the closed-loop gain $A_{0}$, which is determined separately by $R_{1}$. Consequently, CFA circuits avoid the gain-bandwidth tradeoff typical of VFA circuits. This, along with the absence of slew-rate limiting, is a significant advantage of CFAs over VFAs. (See also Problem 7.10 for higher-order effects.)\n\nEXAMPLE 7.7 Suppose the CFA in Fig. 7.11 has $R_{e q}=750 \\text{ k}\\Omega$ and $C_{e q}=2.21 \\text{ pF}$. If the data sheets recommend using $R_{2}=1.2 \\text{ k}\\Omega$, specify $R_{1}$ for a closed-loop DC gain of $10 \\text{ V/V}$. What is the closed-loop bandwidth?\n\n#### Solution\n\nTo achieve $1+1,200 / R_{1}=10$, we find $R_{1}=133.3 \\Omega$. Additionally,\n\n$$\nf_{B} \\cong \\frac{1}{2 \\pi R_{2} C_{e q}}=\\frac{1}{2 \\pi \\times 1200 \\times 2.21 \\times 10^{-12}}=60 \\text{ MHz}\n$$"
},
{
    "text": "Negative feedback significantly impacts the frequency response. If not properly managed, it can cause unwanted oscillations, necessitating measures to stabilize the system. While stability will be discussed in detail later in this chapter, we now examine the feedback effects on two op amp types: the voltage-feedback amplifier (VFA) and the current-feedback amplifier (CFA).\n\nWe begin with the noninverting VFA setup shown in Fig. 7.2, reproduced in Fig. 7.10a for convenience. As noted in Chapter 6, the VFA's open-loop gain is given by\n\n$$\n\\begin{equation*}\na(j f) \\cong \\frac{a_{0}}{1+j f / f_{b}} \\tag{7.19}\n\\end{equation*}\n$$\n\n(image description: A noninverting voltage-feedback amplifier (VFA) configuration using an operational amplifier with feedback resistors R1 and R2 to set the gain.)\n\n(image description: A Bode plot showing the gain of an operational amplifier in both open-loop and closed-loop configurations. The vertical axis measures gain in decibels (dB), and the horizontal axis represents frequency in hertz (Hz) on a logarithmic scale. The plot illustrates a high open-loop gain \\(|a_0|\\) that remains constant up to a frequency \\(f_b\\), after which it decreases at a rate of \\(-20 \\text{ dB/decade}\\). The closed-loop gain \\(|A_0|\\) is constant and lower than the open-loop gain.)\n\nFIGURE 7.10 (a) Noninverting VFA configuration. (b) Visualizing the open-loop response $|a|$ and the closed-loop response $|A|$, both in dB.\nHere, $f$ is the input-signal frequency, $a_{0}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth. As shown in Fig. 7.10b, the gain $a$ is high (\\(\\cong a_{0}\\)) from DC up to $f_{b}$, then decreases with $f$ at \\(-20 \\text{ dB/decade}\\). A key metric for such amplifiers is the gain-bandwidth product (GBP),\n\n$$\n\\begin{equation*}\n\\mathrm{GBP}=a_{0} \\times f_{b}=f_{t} \\tag{7.20}\n\\end{equation*}\n$$\n\nFor example, the 741 op amp has $a_{0}=200,000 \\text{ V/V}$ and $f_{b}=5 \\text{ Hz}$, resulting in a GBP of $1 \\text{ MHz}$. The closed-loop gain, derived from Eqs. (7.6) and (7.7), is\n\n$$\nA(j f)=\\frac{V_{o}}{V_{i}}=\\frac{1}{b} \\frac{1}{1+\\frac{1+j f / f_{b}}{b a_{0}}}=\\frac{1}{b} \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\times \\frac{1}{1+\\frac{j f}{\\left(1+b a_{0}\\right) f_{b}}}\n$$\n\nwhere $b=1 /\\left(1+R_{2} / R_{1}\\right)$, as per Eq. (7.13). This can be rewritten as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.21}\n\\end{equation*}\n$$\n\nwith\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+1 /\\left(b a_{0}\\right)} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.22}\n\\end{equation*}\n$$\n\nas the closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+b a_{0}\\right) f_{b} \\cong \\frac{a_{0}}{A_{0}} f_{b}=\\frac{f_{t}}{A_{0}} \\tag{7.23}\n\\end{equation*}\n$$\n\nas the closed-loop bandwidth. (Note the use of lowercase letters for open-loop parameters and uppercase letters for their closed-loop counterparts.) Referring to Fig. 7.10b, we see that negative feedback reduces the DC gain from $a_{0}$ to $A_{0} \\cong 1+R_{2} / R_{1}$ and expands the bandwidth from $f_{b}$ to $f_{B} \\cong\\left(a_{0} / A_{0}\\right) f_{b}$, keeping the closed-loop GBP (\\(=A_{0} \\times f_{B}=f_{t}\\)) constant. This gain-bandwidth tradeoff is deliberately used by designers to control amplifier dynamics.\n\nEXAMPLE 7.6 (a) Consider the non-inverting op amp in Fig. 7.2 using the 741 op amp with $a_{0}=200,000 \\text{ V/V}$ and $f_{b}=5 \\text{ Hz}$. Calculate $A_{0}$ and $f_{B}$ for $R_{1}=1.0 \\text{ k}\\Omega$ and $R_{2}=999 \\text{ k}\\Omega$.\n(b) Repeat for $R_{2}=9.0 \\text{ k}\\Omega$.\n(c) Determine the closed-loop gain that yields the widest closed-loop bandwidth.\n\n#### Solution\n\n(a) We find $A_{0} \\cong 1 / b=1+R_{2} / R_{1}=1+999 / 1=1000 \\text{ V/V}$, $a_{0} b=200,000 / 1000=200$, and $f_{B}=\\left(1+a_{0} b\\right) f_{b}=(1+200) 5 \\cong 1.0 \\text{ kHz}$.\n(b) Now, $A_{0} \\cong 10 \\text{ V/V}$, $a_{0} b=20,000$, and $f_{B} \\cong 100 \\text{ kHz}$. Compared to part (a), $A_{0}$ decreases by two decades while $f_{B}$ increases by two decades.\n(c) The widest bandwidth is achieved with $b=1$, configuring the op amp as a unity-gain voltage follower by replacing $R_{2}$ with a wire and removing $R_{1}$. Then, $A_{0} \\cong 1 \\text{ V/V}$, $a_{0} b=a_{0} \\times 1=a_{0}$, and $f_{B}=\\left(1+a_{0}\\right) f_{b} \\cong a_{0} f_{b}=f_{t}=1 \\text{ MHz}$.\n\nNext, we consider the CFA amplifier in Fig. 7.11a. From Eq. (6.114), the CFA's open-loop transimpedance gain is\n\n$$\n\\begin{equation*}\nz(j f) \\cong \\frac{R_{e q}}{1+j f / f_{b}} \\tag{7.24}\n\\end{equation*}\n$$\n\n(image description: A non-inverting current feedback amplifier (CFA) configuration with a voltage source Vi, resistors R1 and R2, and an op-amp labeled CFA.)\n\n(image description: A Bode plot showing the magnitude response of a system, with the open-loop response $|z(jf)|$ in decibels (dec) on the vertical axis and frequency $f$ in decades (dec) on the horizontal axis. The plot starts at $R_{eq}$, remains flat until $f_b$, then declines at -1 dec/dec until it reaches $R_2$.)\n\nFIGURE 7.11 (a) Noninverting CFA configuration. (b) Visualizing the open-loop response $|z|$ and the closed-loop bandwidth $f_{B}$.\nwhere $f$ is the input-signal frequency, $R_{e q}$ is the DC gain, and $f_{b}$ is the open-loop bandwidth. To find the closed-loop gain $A(j f)$, we adapt the expression from Section 5.6, replacing $R_{e q}$ with $z(j f)$, yielding\n\n$$\n\\begin{aligned}\nA(j f) & =\\frac{V_{o}}{V_{i}}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+\\frac{R_{2}\\left(1+j f / f_{b}\\right)}{R_{e q}}} \\\\\n& =\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\times \\frac{1}{1+\\frac{j f}{\\left(1+R_{e q} / R_{2}\\right) f_{b}}}\n\\end{aligned}\n$$\n\nThis can be expressed as\n\n$$\n\\begin{equation*}\nA(j f)=\\frac{A_{0}}{1+j f / f_{B}} \\tag{7.25}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nA_{0}=\\left(1+\\frac{R_{2}}{R_{1}}\\right) \\times \\frac{1}{1+R_{2} / R_{e q}} \\cong 1+\\frac{R_{2}}{R_{1}} \\tag{7.26}\n\\end{equation*}\n$$\n\nis the closed-loop DC gain, and\n\n$$\n\\begin{equation*}\nf_{B}=\\left(1+\\frac{R_{e q}}{R_{2}}\\right) f_{b} \\cong \\frac{R_{e q}}{R_{2}} \\times \\frac{1}{2 \\pi R_{e q} C_{e q}}=\\frac{1}{2 \\pi R_{2} C_{e q}} \\tag{7.27}\n\\end{equation*}\n$$\n\nis the closed-loop bandwidth (these approximations assume $R_{2} \\ll R_{e q}$ in a well-designed circuit). Using simple geometry, $f_{B}$ is visualized as the frequency where $|z|$ drops to $R_{2}$, as shown in Fig. 7.11b. This frequency is set by the user via $R_{2}$, independent of the closed-loop gain $A_{0}$, which is controlled by $R_{1}$. Thus, CFA circuits avoid the gain-bandwidth tradeoff typical of VFAs. This, along with the absence of slew-rate limiting, is a significant advantage of CFAs over VFAs. (See also Problem 7.10 for higher-order effects.)\n\nEXAMPLE 7.7 For a CFA in Fig. 7.11 with $R_{e q}=750 \\text{ k}\\Omega$ and $C_{e q}=2.21 \\text{ pF}$, if the data sheets recommend $R_{2}=1.2 \\text{ k}\\Omega$, find $R_{1}$ for a closed-loop DC gain of $10 \\text{ V/V}$. What is the closed-loop bandwidth?\n\n#### Solution\n\nSetting $1+1,200 / R_{1}=10$ gives $R_{1}=133.3 \\Omega$. Additionally,\n\n$$\nf_{B} \\cong \\frac{1}{2 \\pi R_{2} C_{e q}}=\\frac{1}{2 \\pi \\times 1200 \\times 2.21 \\times 10^{-12}}=60 \\text{ MHz}\n$$"
},
{
    "text": "The fundamental parameters defining an amplifier include its unloaded gain, along with its input and output resistances, often referred to as terminal resistances. These resistances become significant in practical scenarios where the amplifier is powered by a non-ideal input source and is driving an output load. The input resistance interacts with the source's resistance to form a voltage divider, and similarly, the output resistance forms a divider with the load, collectively diminishing the overall gain from the source to the load by a factor of two. This phenomenon is termed the loading effect. Subsequently, we will explore how negative feedback not only stabilizes gain but also modifies the terminal resistances in a manner that mitigates the loading effect.\n\nAs previously noted, both the input and output signals can manifest as either currents or voltages, leading to four distinct amplifier types: (a) the voltage amplifier, characterized by $v_{o}=A v_{i}$, with $A$ measured in $\\mathrm{V} / \\mathrm{V}$; (b) the current amplifier, described by $i_{o}=A i_{i}$, where $A$ is in $\\mathrm{A} / \\mathrm{A}$; (c) the transresistance amplifier, represented by $v_{o}=A i_{i}$, with $A$ in V/A; and (d) the transconductance amplifier, given by $i_{o}=A v_{i}$, where $A$ is in $\\mathrm{A} / \\mathrm{V}$. When negative feedback is introduced around an amplifier, it results in four unique topologies. Our objective is to examine the impact of negative feedback on both the gain and the terminal resistances of each of these configurations."
},
{
    "text": "The fundamental parameters defining an amplifier include its unloaded gain, along with its input and output resistances, often referred to as terminal resistances. These resistances become significant in practical scenarios where the amplifier is powered by a non-ideal input source and is driving an output load. The input resistance creates a voltage divider with the source's resistance, and similarly, the output resistance forms a divider with the load, leading to a dual reduction in the overall gain from the source to the load. This dual reduction is termed the loading effect. We will subsequently explore how, in addition to stabilizing gain, negative feedback modifies the terminal resistances in a manner that generally diminishes the loading effect.\n\nAs previously noted, both the input and output signals can be either currents or voltages, resulting in four distinct amplifier types: (a) the voltage amplifier, characterized by $v_{o}=A v_{i}$, with $A$ in $\\mathrm{V} / \\mathrm{V}$; (b) the current amplifier, represented by $i_{o}=A i_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{A}$; (c) the transresistance amplifier, defined by $v_{o}=A i_{i}$, with $A$ in V/A; and (d) the transconductance amplifier, given by $i_{o}=A v_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{V}$. When negative feedback is introduced around an amplifier, it leads to four unique topologies. Our aim is to examine the impact of negative feedback on both the gain and the terminal resistances of each of these configurations."
},
{
    "text": "The fundamental parameters defining an amplifier are its unloaded gain, along with its input and output resistances, also referred to as terminal resistances. These resistances become significant in practical use when the amplifier is powered by a non-ideal input source and drives an output load. The input resistance creates a voltage divider with the source's resistance, and the output resistance does the same with the load, effectively halving the overall gain from source to load. This decrease is termed the loading effect. We will subsequently explore how, in addition to stabilizing gain, negative feedback modifies the terminal resistances in ways that generally mitigate the loading effect.\n\nAs previously noted, the input and output signals can be either currents or voltages, leading to four potential amplifier types: (a) the voltage amplifier, expressed as $v_{o}=A v_{i}$, with $A$ in $\\mathrm{V} / \\mathrm{V}$; (b) the current amplifier, given by $i_{o}=A i_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{A}$; (c) the transresistance amplifier, represented as $v_{o}=A i_{i}$, with $A$ in V/A; and (d) the transconductance amplifier, denoted by $i_{o}=A v_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{V}$. When negative feedback is introduced around an amplifier, four distinct topologies emerge. Our goal is to examine how negative feedback influences both the gain and the terminal resistances of each configuration."
},
{
    "text": "The fundamental parameters defining an amplifier include its unloaded gain and its input and output resistances, often referred to as terminal resistances. These resistances become significant in practical scenarios where the amplifier is powered by a non-ideal input source and is driving an output load. The input resistance interacts with the source's resistance to form a voltage divider, and similarly, the output resistance interacts with the load to form another voltage divider, collectively diminishing the overall gain from the source to the load by a factor of two. This phenomenon is termed the loading effect. We will subsequently explore how, in addition to stabilizing gain, negative feedback modifies the terminal resistances in a manner that typically mitigates the loading effect.\n\nAs previously noted, the input and output signals can manifest as either currents or voltages, leading to four distinct amplifier types: (a) the voltage amplifier, described by $v_{o}=A v_{i}$, with $A$ in $\\mathrm{V} / \\mathrm{V}$; (b) the current amplifier, represented by $i_{o}=A i_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{A}$; (c) the transresistance amplifier, characterized by $v_{o}=A i_{i}$, with $A$ in V/A; and (d) the transconductance amplifier, defined by $i_{o}=A v_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{V}$. When negative feedback is introduced around an amplifier, four unique topologies emerge. Our objective is to examine the impact of negative feedback on both the gain and the terminal resistances of each configuration."
},
{
    "text": "The fundamental parameters defining an amplifier include its unloaded gain and its input and output resistances, also referred to as terminal resistances. These resistances become significant in practical scenarios where the amplifier is powered by a non-ideal input source and is driving an output load. The input resistance creates a voltage divider with the source's resistance, and similarly, the output resistance forms a divider with the load, leading to a twofold reduction in the overall gain from the source to the load. This phenomenon is termed the loading effect. We will subsequently explore how, in addition to stabilizing gain, negative feedback modifies the terminal resistances in a manner that generally diminishes the loading effect.\n\nAs previously noted, both input and output signals can be either currents or voltages, resulting in four potential amplifier types: (a) the voltage amplifier, expressed as $v_{o}=A v_{i}$, with $A$ in $\\mathrm{V} / \\mathrm{V}$; (b) the current amplifier, given by $i_{o}=A i_{i}$, where $A$ is in $\\mathrm{A} / \\mathrm{A}$; (c) the transresistance amplifier, represented as $v_{o}=A i_{i}$, with $A$ in V/A; and (d) the transconductance amplifier, denoted by $i_{o}=A v_{i}$, where $A$ is in $\\mathrm{A} / \\mathrm{V}$. When negative feedback is introduced around an amplifier, four distinct topologies emerge. Our goal is to examine the impact of negative feedback on both the gain and the terminal resistances of each configuration."
},
{
    "text": "The fundamental parameters that define an amplifier include its unloaded gain, along with its input and output resistances, commonly referred to as terminal resistances. These resistances become significant in practical scenarios where the amplifier is powered by a non-ideal input source and is driving an output load. The input resistance creates a voltage divider with the source's resistance, while the output resistance forms a similar divider with the load, collectively diminishing the overall gain from the source to the load by a factor of two. This phenomenon is termed the loading effect. Subsequently, we will explore how, in addition to stabilizing gain, negative feedback modifies the terminal resistances in ways that generally mitigate the loading effect.\n\nAs previously noted, the input and output signals can manifest as either currents or voltages, leading to four distinct amplifier types: (a) the voltage amplifier, expressed as $v_{o}=A v_{i}$, with $A$ in $\\mathrm{V} / \\mathrm{V}$; (b) the current amplifier, represented as $i_{o}=A i_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{A}$; (c) the transresistance amplifier, given by $v_{o}=A i_{i}$, with $A$ in V/A; and (d) the transconductance amplifier, denoted as $i_{o}=A v_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{V}$. When negative feedback is introduced around an amplifier, it results in four unique topologies. Our objective is to examine the impact of negative feedback on both the gain and the terminal resistances of each of these configurations."
},
{
    "text": "The fundamental parameters defining an amplifier include its unloaded gain and its input and output resistances, also referred to as terminal resistances. These resistances become significant in practical scenarios where the amplifier is powered by a non-ideal input source and is driving an output load. The input resistance creates a voltage divider with the source's resistance, and the output resistance forms a similar divider with the load, collectively diminishing the total gain from source to load by a factor of two. This phenomenon is termed the loading effect. Subsequently, we will explore how negative feedback, in addition to stabilizing gain, modifies the terminal resistances in a manner that generally lessens the loading effect.\n\nAs previously noted, both input and output signals can manifest as either currents or voltages, leading to four distinct amplifier types: (a) the voltage amplifier, expressed as $v_{o}=A v_{i}$, where $A$ is in $\\mathrm{V} / \\mathrm{V}$; (b) the current amplifier, denoted as $i_{o}=A i_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{A}$; (c) the transresistance amplifier, represented by $v_{o}=A i_{i}$, where $A$ is in V/A; and (d) the transconductance amplifier, given by $i_{o}=A v_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{V}$. When negative feedback is introduced around an amplifier, four unique topologies emerge. Our objective is to examine the impact of negative feedback on both the gain and the terminal resistances of each configuration."
},
{
    "text": "The fundamental parameters defining an amplifier include its unloaded gain, along with its input and output resistances, commonly referred to as terminal resistances. These resistances become significant in practical scenarios where the amplifier is powered by a non-ideal input source and is driving an output load. The input resistance interacts with the source's resistance to form a voltage divider, and similarly, the output resistance combines with the load to create another divider, collectively diminishing the overall gain from source to load by a factor of two. This phenomenon is termed the loading effect. Subsequently, we will explore how, in addition to stabilizing gain, negative feedback modifies the terminal resistances in a manner that typically mitigates the loading effect.\n\nAs previously noted, both input and output signals can manifest as either currents or voltages, leading to four distinct amplifier categories: (a) the voltage amplifier, expressed as $v_{o}=A v_{i}$, where $A$ is in $\\mathrm{V} / \\mathrm{V}$; (b) the current amplifier, represented by $i_{o}=A i_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{A}$; (c) the transresistance amplifier, given by $v_{o}=A i_{i}$, where $A$ is in V/A; and (d) the transconductance amplifier, denoted as $i_{o}=A v_{i}$, with $A$ in $\\mathrm{A} / \\mathrm{V}$. When negative feedback is introduced around an amplifier, it results in four unique topologies. Our objective is to examine the impact of negative feedback on both the gain and the terminal resistances of each of these configurations."
},
{
    "text": "We begin by examining the application of negative feedback around a voltage amplifier, the first type mentioned. As depicted in Fig. 7.12a, the amplifier's output port is represented by a Thévenin equivalent, comprising the dependent source $a v_{\\varepsilon}$ and the series output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The parameters $a$, $r_{i}$, and $r_{o}$ are termed open-loop parameters and are denoted with lowercase letters. The feedback network's role is to detect the output voltage $v_{o}$ and generate a scaled version, $v_{f}=b v_{o}$, such that $-v_{f}$ is added to the input $v_{i}$ to form the error signal $v_{\\varepsilon}=v_{i}-v_{f}$. Note that the output voltage sensing is done in parallel, akin to standard voltmeter measurements (in laboratory settings, voltage is always measured in parallel, never in series!). Conversely, the input voltage summing is performed in series, similar to how we connect voltage sources for addition or subtraction—never in parallel!\n\nTo isolate the impact of negative feedback on $a$, $r_{i}$, and $r_{o}$, independent of the surrounding circuit details, we assume no loading at both amplifier ports (loading effects in practical circuits will be addressed in the next section). Thus, to avoid input loading, we assume the $v_{i}$ and $b v_{o}$ sources have zero series resistances, allowing us to write $v_{\\varepsilon}=v_{i}-v_{f}$ (if these resistances were non-zero, voltage division would occur). Similarly, to prevent output loading, we assume the output port is open-circuited and the feedback network presents infinite resistance, enabling us to write $v_{o}=a v_{\\varepsilon}$ (otherwise, voltage division would also occur at the output port). Referring to Fig. 7.13a, we find by inspection that $v_{o}=a v_{\\varepsilon}=a(v_{i}-v_{f})=a(v_{i}-b v_{o})$. Simplifying, we obtain the familiar result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.28}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, approaching $A_{o c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test voltage $v_{i}$ as shown in Fig. 7.13a, measure the resulting current $i_{i}$, and calculate the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $i_{i}=v_{\\varepsilon} / r_{i}$. Since Eq. (7.10) states $v_{\\varepsilon}=v_{i} /(1+L)$, we have\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=r_{i}(1+L) \\tag{7.29}\n\\end{equation*}\n$$\n\nThis shows that negative feedback increases the input resistance $r_{i}$, already high in a well-designed voltage amplifier, by a factor of $(1+L)$, significantly reducing input loading. Physically, without feedback ($v_{f}=0$), the entire $v_{i}$ appears across $r_{i}$, giving $i_{i}=v_{i} / r_{i}$. With feedback, the voltage across $r_{i}$ is reduced to $v_{\\varepsilon}$, which is $(1+L)$ times smaller than $v_{i}$, reducing $i_{i}$ by $(1+L)$ and effectively increasing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{i} \\rightarrow 0$ and $R_{i} \\rightarrow \\infty$, indicating that the input port of a series-input amplifier with sufficient loop gain behaves as an open circuit.\n\nNext, set $v_{i}=0$ and apply a test current $i_{o}$ to the output port, as in Fig. 7.13b. Determine the resulting voltage $v_{o}$ and compute the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KVL and Ohm's law,\n\n$$\nv_{o}=a v_{\\varepsilon}+r_{o} i_{o}=a(-v_{f})+r_{o} i_{o}=-a b v_{o}+r_{o} i_{o}\n$$\n\nSimplifying, we get\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=\\frac{r_{o}}{1+L} \\tag{7.30}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback reduces the output resistance $r_{o}$, initially low in a well-designed voltage amplifier, by a factor of $(1+L)$, significantly reducing output loading. Physically, without feedback ($b=0$), $v_{o}=r_{o} i_{o}$. With feedback, the amplifier adjusts its dependent source to drive $v_{\\varepsilon}$ near zero, making $v_{o}$ $(1+L)$ times smaller, effectively lowering $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{o} \\rightarrow 0$ and $R_{o} \\rightarrow 0$, indicating that the output port of an output-shunt amplifier with sufficient loop gain behaves as a short circuit.\n\nGiven these results, the series-shunt configuration of Fig. 7.12a corresponds to the voltage-amplifier equivalent of Fig. 7.12b, with closed-loop parameters $A$, $R_{i}$, and $R_{o}$ as per Eqs. (7.28) to (7.30). Note the use of uppercase letters to distinguish these parameters from their open-loop counterparts $a$, $r_{i}$, and $r_{o}$.\n\nConsider an op amp with $a=10^{5} \\mathrm{~V} / \\mathrm{V}$, $r_{i}=1 \\mathrm{M} \\Omega$, and $r_{o}=100 \\Omega$, operated in the series-shunt mode with $b=0.01 \\mathrm{~V} / \\mathrm{V}$. Estimate $A_{o c}$, $R_{i}$, and $R_{o}$, and comment.\n\n#### Solution\n\nWe have $L=10^{5} \\times 0.01=10^{3}$. Thus, $A_{o c} \\cong 100(1-1 / 10^{3})=99.9 \\mathrm{~V} / \\mathrm{V}$, $R_{i}=10^{6}(1+10^{3}) \\cong 10^{9} \\Omega=1 \\mathrm{G} \\Omega$, and $R_{o}=100 /(1+10^{3}) \\cong 0.1 \\Omega$. Compared to typical resistances around an op amp, which are in the $\\mathrm{k} \\Omega$ range, $R_{i}$ effectively acts as an open circuit and $R_{o}$ as a short circuit."
},
{
    "text": "We begin by examining the application of negative feedback around a voltage amplifier, the first type mentioned. As depicted in Fig. 7.12a, the amplifier's output port is represented by a Thévenin equivalent, comprising the dependent source $a v_{\\varepsilon}$ and the series output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The parameters $a$, $r_{i}$, and $r_{o}$ are termed open-loop parameters and are denoted with lowercase letters. The feedback network's role is to sense the output voltage $v_{o}$ and generate a scaled version, $v_{f}=b v_{o}$, such that $-v_{f}$ is added to the input $v_{i}$ to form the error signal $v_{\\varepsilon}=v_{i}-v_{f}$. Note that the output voltage sensing is done in parallel, akin to typical voltmeter measurements (in labs, voltage is always measured in parallel, never in series!). Conversely, the input voltage summing is done in series, similar to how voltage sources are connected for addition or subtraction—never connect different voltage sources in parallel!\n\nTo isolate the effect of negative feedback on $a$, $r_{i}$, and $r_{o}$, regardless of the surrounding circuit details, we assume no loading at both amplifier ports (loading in practical circuits will be discussed in the next section). Thus, to avoid loading at the input port, we assume the $v_{i}$ and $b v_{o}$ sources have zero series resistances, allowing us to write $v_{\\varepsilon}=v_{i}-v_{f}$ (if these resistances were non-zero, voltage division would occur). Similarly, to prevent loading at the output port, we assume it is open-circuited, with the feedback network presenting infinite resistance, enabling us to write $v_{o}=a v_{\\varepsilon}$ (otherwise, voltage division would also occur at the output).\n\nReferencing Fig. 7.13a, we find by inspection that $v_{o}=a v_{\\varepsilon}=a(v_{i}-v_{f})=a(v_{i}-b v_{o})$. Simplifying, we obtain the familiar result:\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.28}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, making $A_{o c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test voltage $v_{i}$ as shown in Fig. 7.13a, find the resulting current $i_{i}$, and compute the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $i_{i}=v_{\\varepsilon} / r_{i}$. Since Eq. (7.10) states $v_{\\varepsilon}=v_{i} /(1+L)$, we have:\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=r_{i}(1+L) \\tag{7.29}\n\\end{equation*}\n$$\n\nThis shows that negative feedback increases the input resistance $r_{i}$, already high in a well-designed voltage amplifier, by a factor of $(1+L)$, significantly reducing input loading. Physically, without feedback, $v_{f}=0$, so the entire $v_{i}$ appears across $r_{i}$, giving $i_{i}=v_{i} / r_{i}$. With feedback, the voltage across $r_{i}$ reduces to $v_{\\varepsilon}$, which is $(1+L)$ times smaller than $v_{i}$, reducing $i_{i}$ by $(1+L)$ and effectively increasing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{i} \\rightarrow 0$ and $R_{i} \\rightarrow \\infty$, indicating that the input port of a series-input amplifier with sufficient loop gain behaves like an open circuit.\n\nNext, set $v_{i}=0$ and apply a test current $i_{o}$ to the output port, as in Fig. 7.13b. Then, find the resulting voltage $v_{o}$ and calculate the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KVL and Ohm's law:\n\n$$\nv_{o}=a v_{\\varepsilon}+r_{o} i_{o}=a(-v_{f})+r_{o} i_{o}=-a b v_{o}+r_{o} i_{o}\n$$\n\nSimplifying, we get:\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=\\frac{r_{o}}{1+L} \\tag{7.30}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback reduces the output resistance $r_{o}$, already low in a well-designed voltage amplifier, by a factor of $(1+L)$, significantly reducing output loading. Physically, without feedback $(b=0)$, the circuit in Fig. 7.13b would yield $a v_{\\varepsilon}=0$ and thus $v_{o}=r_{o} i_{o}$. With feedback, the amplifier adjusts its dependent source to drive $v_{\\varepsilon}$ near zero, making $v_{o}$ $(1+L)$ times smaller, effectively reducing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{o} \\rightarrow 0$ and $R_{o} \\rightarrow 0$, indicating that the output port of an output-shunt amplifier with sufficient loop gain behaves like a short circuit.\n\nBased on these results, it is clear that the series-shunt configuration of Fig. 7.12a corresponds to the voltage-amplifier equivalent of Fig. 7.12b, with closed-loop parameters $A$, $R_{i}$, and $R_{o}$ as given in Eqs. (7.28) to (7.30). Note the use of uppercase letters to distinguish these parameters from their open-loop counterparts $a$, $r_{i}$, and $r_{o}$.\n\nConsider an op amp with $a=10^{5} \\mathrm{~V} / \\mathrm{V}$, $r_{i}=1 \\mathrm{M} \\Omega$, and $r_{o}=100 \\Omega$, operated in the series-shunt mode with $b=0.01 \\mathrm{~V} / \\mathrm{V}$. Estimate $A_{o c}$, $R_{i}$, and $R_{o}$, and comment.\n\n#### Solution\n\nWe have $L=10^{5} \\times 0.01=10^{3}$. Thus, $A_{o c} \\cong 100(1-1 / 10^{3})=99.9 \\mathrm{~V} / \\mathrm{V}$, $R_{i}=10^{6}(1+10^{3}) \\cong 10^{9} \\Omega=1 \\mathrm{G} \\Omega$, and $R_{o}=100/(1+10^{3}) \\cong 0.1 \\Omega$. Compared to typical resistances around an op amp, which are in the $\\mathrm{k} \\Omega$ range, $R_{i}$ effectively appears as an open circuit and $R_{o}$ as a short circuit."
},
{
    "text": "We begin by examining the application of negative feedback around a voltage amplifier, the first type mentioned. As depicted in Fig. 7.12a, the amplifier's output port is represented by a Thévenin equivalent, comprising the dependent source $a v_{\\varepsilon}$ and the series output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The parameters $a$, $r_{i}$, and $r_{o}$ are known as open-loop parameters and are denoted with lowercase letters. The feedback network's role is to detect the output voltage $v_{o}$ and produce a scaled version, $v_{f}=b v_{o}$, so that $-v_{f}$ is added to the input $v_{i}$ to form the error signal $v_{\\varepsilon}=v_{i}-v_{f}$. Note that the output voltage sensing is done in parallel, similar to standard voltmeter measurements (in lab settings, voltage is always measured in parallel, never in series). Conversely, the input voltage summing is done in series, akin to connecting different voltage sources for addition or subtraction—never connect voltage sources in parallel!\n\nTo isolate the impact of negative feedback on $a$, $r_{i}$, and $r_{o}$, regardless of the surrounding circuit details, we assume no loading at both amplifier ports (loading effects in practical circuits will be discussed in the next section). Thus, to avoid loading at the input port, we assume the $v_{i}$ and $b v_{o}$ sources have zero series resistances, allowing us to write $v_{\\varepsilon}=v_{i}-v_{f}$ (if these resistances were non-zero, voltage division would occur). Similarly, to prevent loading at the output port, we assume it is open-circuited and the feedback network presents infinite resistance, enabling us to write $v_{o}=a v_{\\varepsilon}$ (otherwise, voltage division would also occur at the output).\n\nReferring to Fig. 7.13a, we find by inspection that $v_{o}=a v_{\\varepsilon}=a(v_{i}-v_{f})=a(v_{i}-b v_{o})$. Simplifying, we derive the familiar result:\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.28}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, leading to $A_{o c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test voltage $v_{i}$ as shown in Fig. 7.13a, calculate the resulting current $i_{i}$, and derive the closed-loop input resistance $R_{i}=v_{i} / i_{i}$. By Ohm's law, $i_{i}=v_{\\varepsilon} / r_{i}$. Given $v_{\\varepsilon}=v_{i} /(1+L)$ from Eq. (7.10), we get:\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=r_{i}(1+L) \\tag{7.29}\n\\end{equation*}\n$$\n\nThis shows that negative feedback increases the input resistance $r_{i}$, already high in a well-designed voltage amplifier, by a factor of $(1+L)$, significantly reducing input loading. Physically, without feedback ($v_{f}=0$), the entire $v_{i}$ appears across $r_{i}$, giving $i_{i}=v_{i} / r_{i}$. With feedback, the voltage across $r_{i}$ reduces to $v_{\\varepsilon}$, which is $(1+L)$ times smaller than $v_{i}$, reducing $i_{i}$ by $(1+L)$ and effectively increasing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{i} \\rightarrow 0$ and $R_{i} \\rightarrow \\infty$, indicating the input port acts as an open circuit.\n\nNext, set $v_{i}=0$ and apply a test current $i_{o}$ to the output port as in Fig. 7.13b. Determine the resulting voltage $v_{o}$ and calculate the closed-loop output resistance $R_{o}=v_{o} / i_{o}$. Using KVL and Ohm's law:\n\n$$\nv_{o}=a v_{\\varepsilon}+r_{o} i_{o}=a(-v_{f})+r_{o} i_{o}=-a b v_{o}+r_{o} i_{o}\n$$\n\nSimplifying, we obtain:\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=\\frac{r_{o}}{1+L} \\tag{7.30}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback reduces the output resistance $r_{o}$, initially low in a well-designed voltage amplifier, by a factor of $(1+L)$, significantly reducing output loading. Physically, without feedback ($b=0$), $v_{o}=r_{o} i_{o}$. With feedback, the amplifier adjusts its dependent source to drive $v_{\\varepsilon}$ close to zero, making $v_{o}$ $(1+L)$ times smaller, effectively lowering $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{o} \\rightarrow 0$ and $R_{o} \\rightarrow 0$, indicating the output port acts as a short circuit.\n\nGiven these results, the series-shunt configuration in Fig. 7.12a corresponds to the voltage-amplifier equivalent in Fig. 7.12b, with closed-loop parameters $A$, $R_{i}$, and $R_{o}$ as per Eqs. (7.28) to (7.30). Note the use of uppercase letters to distinguish these from their open-loop counterparts $a$, $r_{i}$, and $r_{o}$.\n\nConsider an op amp with $a=10^{5} \\mathrm{~V} / \\mathrm{V}$, $r_{i}=1 \\mathrm{M} \\Omega$, and $r_{o}=100 \\Omega$ operated in series-shunt mode with $b=0.01 \\mathrm{~V} / \\mathrm{V}$. Estimating $A_{o c}$, $R_{i}$, and $R_{o}$:\n\n#### Solution\n\nWe have $L=10^{5} \\times 0.01=10^{3}$. Thus, $A_{o c} \\cong 100(1-1 / 10^{3})=99.9 \\mathrm{~V} / \\mathrm{V}$, $R_{i}=10^{6}(1+10^{3}) \\cong 10^{9} \\Omega=1 \\mathrm{G} \\Omega$, and $R_{o}=100 /(1+10^{3}) \\cong 0.1 \\Omega$. Compared to typical op amp resistances in the $\\mathrm{k} \\Omega$ range, $R_{i}$ effectively acts as an open circuit and $R_{o}$ as a short circuit."
},
{
    "text": "We begin by examining the use of negative feedback in a voltage amplifier, the first type mentioned. As depicted in Fig. 7.12a, the amplifier's output port is represented by a Thévenin equivalent, comprising a dependent source $a v_{\\varepsilon}$ and a series output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with an input resistance $r_{i}$. The parameters $a$, $r_{i}$, and $r_{o}$ are termed open-loop parameters and are denoted with lowercase letters. The feedback network's role is to sense the output voltage $v_{o}$ and produce a scaled version, $v_{f}=b v_{o}$, such that $-v_{f}$ is summed with the input $v_{i}$ to generate the error signal $v_{\\varepsilon}=v_{i}-v_{f}$. Note that the output voltage sensing is done in parallel, akin to standard voltmeter measurements (in labs, voltage is always measured in parallel, never in series!). Conversely, the input voltage summing is done in series, similar to how we connect voltage sources to add or subtract their voltages—never in parallel!\n\nTo isolate the impact of negative feedback on $a, r_{i}$, and $r_{o}$, irrespective of the surrounding circuit details, we assume no loading at both amplifier ports (loading effects in practical circuits will be discussed in the next section). Thus, to avoid loading at the input port, we assume the $v_{i}$ and $b v_{o}$ sources have zero series resistances, allowing us to write $v_{\\varepsilon}=v_{i}-v_{f}$ (if these resistances were non-zero, voltage division would occur). Similarly, to prevent loading at the output port, we assume it is open-circuited and the feedback network presents infinite resistance, enabling us to write $v_{o}=a v_{\\varepsilon}$ (otherwise, voltage division would also occur at the output).\n\nReferring to Fig. 7.13a, we find by inspection that $v_{o}=a v_{\\varepsilon}=a(v_{i}-v_{f})=a(v_{i}-b v_{o})$. Simplifying yields the familiar result:\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.28}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, approaching $A_{o c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test voltage $v_{i}$ as in Fig. 7.13a, find the resulting current $i_{i}$, and compute the closed-loop input resistance $R_{i}=v_{i} / i_{i}$. By Ohm's law, $i_{i}=v_{\\varepsilon} / r_{i}$. Eq. (7.10) gives $v_{\\varepsilon}=v_{i} /(1+L)$, so:\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=r_{i}(1+L) \\tag{7.29}\n\\end{equation*}\n$$\n\nThis shows that negative feedback increases the high input resistance $r_{i}$ of a well-designed voltage amplifier by a factor of $(1+L)$, significantly reducing input loading. Physically, without feedback, $v_{f}=0$, making $i_{i}=v_{i} / r_{i}$. With feedback, the voltage across $r_{i}$ reduces to $v_{\\varepsilon}$, which is $(1+L)$ times smaller than $v_{i}$, reducing $i_{i}$ by $(1+L)$ and effectively increasing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{i} \\rightarrow 0$ and $R_{i} \\rightarrow \\infty$, indicating the input port of a series-input amplifier with sufficient loop gain acts like an open circuit.\n\nNext, set $v_{i}=0$ and apply a test current $i_{o}$ to the output port as in Fig. 7.13b. Find the resulting voltage $v_{o}$ and calculate the closed-loop output resistance $R_{o}=v_{o} / i_{o}$. By KVL and Ohm's law:\n\n$$\nv_{o}=a v_{\\varepsilon}+r_{o} i_{o}=a(-v_{f})+r_{o} i_{o}=-a b v_{o}+r_{o} i_{o}\n$$\n\nSimplifying gives:\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=\\frac{r_{o}}{1+L} \\tag{7.30}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback decreases the low output resistance $r_{o}$ of a well-designed voltage amplifier by a factor of $(1+L)$, significantly reducing output loading. Physically, without feedback $(b=0)$, $v_{o}=r_{o} i_{o}$. With feedback, the amplifier adjusts its dependent source to drive $v_{\\varepsilon}$ near zero, making $v_{o}$ $(1+L)$ times smaller, effectively lowering $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{o} \\rightarrow 0$ and $R_{o} \\rightarrow 0$, indicating the output port of an output-shunt amplifier with sufficient loop gain acts like a short circuit.\n\nGiven these results, the series-shunt configuration of Fig. 7.12a corresponds to the voltage-amplifier equivalent of Fig. 7.12b, with closed-loop parameters $A, R_{i}$, and $R_{o}$ as per Eqs. (7.28) to (7.30). Note the use of uppercase letters to distinguish these from the open-loop parameters $a, r_{i}$, and $r_{o}$.\n\nFor an op amp with $a=10^{5} \\mathrm{~V} / \\mathrm{V}, r_{i}=1 \\mathrm{M} \\Omega$, and $r_{o}=100 \\Omega$ operated in the series-shunt mode with $b=0.01 \\mathrm{~V} / \\mathrm{V}$, we estimate $A_{o c}, R_{i}$, and $R_{o}$ as follows:\n\n#### Solution\n\nWe have $L=10^{5} \\times 0.01=10^{3}$. Thus, $A_{o c} \\cong 100\\left(1-1 / 10^{3}\\right)=99.9 \\mathrm{~V} / \\mathrm{V}$, $R_{i}=10^{6}\\left(1+10^{3}\\right) \\cong 10^{9} \\Omega=1 \\mathrm{G} \\Omega$, and $R_{o}=100 /\\left(1+10^{3}\\right) \\cong 0.1 \\Omega$. Compared to typical op amp resistances in the $\\mathrm{k} \\Omega$ range, $R_{i}$ effectively acts as an open circuit and $R_{o}$ as a short circuit."
},
{
    "text": "We initiate our analysis by examining the application of negative feedback around a voltage amplifier, the first type among those previously mentioned. As depicted in Fig. 7.12a, the amplifier's output port is represented by a Thévenin equivalent comprising the dependent source $a v_{\\varepsilon}$ and the series output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The parameters $a$, $r_{i}$, and $r_{o}$ are termed open-loop parameters and are denoted with lowercase letters. The feedback network's function is to detect the output voltage $v_{o}$ and generate a scaled version of it, denoted as $v_{f}=b v_{o}$, such that $-v_{f}$ is then combined with the input $v_{i}$ to form the error signal $v_{\\varepsilon}=v_{i}-v_{f}$. Note that the output voltage sensing occurs in parallel, akin to standard voltmeter measurements (in laboratory settings, voltage is always measured in parallel, never in series). Conversely, the input voltage summing is performed in series, reflecting the method of connecting different voltage sources for addition or subtraction of their voltages—never connect different voltage sources in parallel!\n\nTo isolate the impact of negative feedback on $a$, $r_{i}$, and $r_{o}$, independent of the surrounding circuit details, we deliberately assume the absence of loading from both amplifier ports (the presence of loading in practical circuits will be addressed in the subsequent section). Thus, to avoid loading at the input port, we assume the $v_{i}$ and $b v_{o}$ sources have zero series resistances, allowing us to write $v_{\\varepsilon}=v_{i}-v_{f}$ (if these resistances were non-zero, voltage division would occur). Similarly, to prevent loading at the output port, we assume this port is open-circuited, and the feedback network presents infinite resistance to it, enabling us to write $v_{o}=a v_{\\varepsilon}$ (otherwise, voltage division would also occur at the output port). Referring to Fig. 7.13a, we observe by inspection that $v_{o}=a v_{\\varepsilon}=a\\left(v_{i}-v_{f}\\right)=a\\left(v_{i}-b v_{o}\\right)$. Simplifying this yields the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.28}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As is known, negative feedback stabilizes gain, resulting in $A_{o c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test voltage $v_{i}$ as shown in Fig. 7.13a, calculate the resulting current $i_{i}$, and derive the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $i_{i}=v_{\\varepsilon} / r_{i}$. Given that Eq. (7.10) predicts $v_{\\varepsilon}=v_{i} /(1+L)$, we have\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=r_{i}(1+L) \\tag{7.29}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback increases the input resistance $r_{i}$, which is already high in a well-designed voltage amplifier, by a factor of $(1+L)$, thereby significantly reducing input loading. Physically, this can be explained as follows: without feedback, $v_{f}=0$, so the entire test voltage $v_{i}$ appears across $r_{i}$, resulting in $i_{i}=v_{i} / r_{i}$. With feedback, the voltage across $r_{i}$ is reduced to $v_{\\varepsilon}$, which is $(1+L)$ times smaller than $v_{i}$, by Eq. (7.10). This reduces $i_{i}$ by $(1+L)$, effectively increasing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{i} \\rightarrow 0$ and $R_{i} \\rightarrow \\infty$, suggesting that the input port of a series-input amplifier with sufficient loop gain behaves like an open circuit.\n\nNext, set $v_{i}=0$ and apply a test current $i_{o}$ to the output port, as shown in Fig. 7.13b. Determine the resulting voltage $v_{o}$ and calculate the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KVL and Ohm's law,\n\n$$\nv_{o}=a v_{\\varepsilon}+r_{o} i_{o}=a\\left(-v_{f}\\right)+r_{o} i_{o}=-a b v_{o}+r_{o} i_{o}\n$$\n\nSimplifying this, we obtain\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=\\frac{r_{o}}{1+L} \\tag{7.30}\n\\end{equation*}\n$$\n\nThis shows that negative feedback reduces the output resistance $r_{o}$, which is initially low in a well-designed voltage amplifier, by a factor of $(1+L)$, thus minimizing output loading. Physically, this is justified as follows: without feedback $(b=0)$, the circuit in Fig. 7.13b yields $a v_{\\varepsilon}=0$ and thus $v_{o}=r_{o} i_{o}$. With feedback, the amplifier adjusts its dependent source to drive $v_{\\varepsilon}$ near zero, resulting in $v_{o}\\left(=v_{f} / b=-v_{\\varepsilon} / b\\right)$ being $(1+L)$ times smaller, effectively reducing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{o} \\rightarrow 0$ and $R_{o} \\rightarrow 0$, indicating that the output port of an output-shunt amplifier with sufficient loop gain behaves like a short circuit in the absence of an input signal.\n\nBased on these results, it is clear that the series-shunt configuration of Fig. 7.12a corresponds to the voltage-amplifier equivalent of Fig. 7.12b, with the closed-loop parameters $A, R_{i}$, and $R_{o}$ as given in Eqs. (7.28) to (7.30). Note the use of uppercase letters to differentiate these parameters from their open-loop counterparts $a, r_{i}$, and $r_{o}$.\n\nConsider an op amp with $a=10^{5} \\mathrm{~V} / \\mathrm{V}, r_{i}=1 \\mathrm{M} \\Omega$, and $r_{o}=100 \\Omega$ operated in the series-shunt mode with $b=0.01 \\mathrm{~V} / \\mathrm{V}$. Estimate $A_{o c}, R_{i}$, and $R_{o}$, and provide comments.\n\n#### Solution\n\nWe have $L=10^{5} \\times 0.01=10^{3}$. Thus, $A_{o c} \\cong 100\\left(1-1 / 10^{3}\\right)=99.9 \\mathrm{~V} / \\mathrm{V}$, $R_{i}=10^{6}\\left(1+10^{3}\\right) \\cong 10^{9} \\Omega=1 \\mathrm{G} \\Omega$, and $R_{o}=100 /\\left(1+10^{3}\\right) \\cong 0.1 \\Omega$. Compared to the typical resistances surrounding an op amp, which are in the $\\mathrm{k} \\Omega$ range, $R_{i}$ effectively acts as an open circuit and $R_{o}$ as a short circuit."
},
{
    "text": "We initiate our analysis by examining the implementation of negative feedback around a voltage amplifier, the first type mentioned. As depicted in Fig. 7.12a, the amplifier's output port is represented by a Thévenin equivalent comprising a dependent source $a v_{\\varepsilon}$ and a series output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with an input resistance $r_{i}$. The parameters $a$, $r_{i}$, and $r_{o}$ are termed open-loop parameters and are denoted with lowercase letters. The feedback network's function is to detect the output voltage $v_{o}$ and generate a scaled version, $v_{f}=b v_{o}$, such that $-v_{f}$ is then combined with the input $v_{i}$ to produce the error signal $v_{\\varepsilon}=v_{i}-v_{f}$. Note that the output voltage sensing is conducted in parallel, akin to standard voltmeter measurements (in laboratory settings, voltage is always measured in parallel, never in series!). Conversely, the input voltage summing is performed in series, reflecting the method of connecting different voltage sources to add or subtract their voltages—never connect voltage sources in parallel!\n\nTo isolate the impact of negative feedback on $a$, $r_{i}$, and $r_{o}$, regardless of the surrounding circuit details, we deliberately assume no loading at both amplifier ports (the loading present in practical circuits will be addressed in the subsequent section). Thus, to avoid loading at the input port, we assume the $v_{i}$ and $b v_{o}$ sources have zero series resistances, allowing us to write $v_{\\varepsilon}=v_{i}-v_{f}$ (if these resistances were non-zero, voltage division would occur). Similarly, to prevent loading at the output port, we assume it is left open-circuited, with the feedback network presenting infinite resistance, enabling us to write $v_{o}=a v_{\\varepsilon}$ (otherwise, voltage division would also occur at the output port). Referring to Fig. 7.13a, we observe by inspection that $v_{o}=a v_{\\varepsilon}=a(v_{i}-v_{f})=a(v_{i}-b v_{o})$. Simplifying yields the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.28}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As is known, negative feedback stabilizes gain, leading to $A_{o c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test voltage $v_{i}$ as shown in Fig. 7.13a, measure the resulting current $i_{i}$, and compute the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $i_{i}=v_{\\varepsilon} / r_{i}$. Given that Eq. (7.10) states $v_{\\varepsilon}=v_{i} /(1+L)$, we have\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=r_{i}(1+L) \\tag{7.29}\n\\end{equation*}\n$$\n\nThis shows that negative feedback increases the input resistance $r_{i}$, which is already high in a well-designed voltage amplifier, by a factor of $(1+L)$, thereby significantly reducing input loading. Physically, this can be explained as follows: without feedback, $v_{f}=0$, so the entire test voltage $v_{i}$ appears across $r_{i}$, resulting in $i_{i}=v_{i} / r_{i}$. With feedback, the voltage across $r_{i}$ is reduced to $v_{\\varepsilon}$, which is $(1+L)$ times smaller than $v_{i}$, as per Eq. (7.10). This reduces $i_{i}$ by $(1+L)$, effectively increasing $r_{i}$ by $(1+L)$. In the ideal case where $L \\rightarrow \\infty$, $i_{i} \\rightarrow 0$ and $R_{i} \\rightarrow \\infty$, indicating that the input port of a series-input amplifier with sufficient loop gain behaves like an open circuit.\n\nNext, set $v_{i}=0$ and apply a test current $i_{o}$ to the output port, as in Fig. 7.13b. Then, determine the resulting voltage $v_{o}$ and calculate the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KVL and Ohm's law,\n\n$$\nv_{o}=a v_{\\varepsilon}+r_{o} i_{o}=a(-v_{f})+r_{o} i_{o}=-a b v_{o}+r_{o} i_{o}\n$$\n\nSimplifying, we obtain\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=\\frac{r_{o}}{1+L} \\tag{7.30}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback reduces the output resistance $r_{o}$, which is initially low in a well-designed voltage amplifier, by a factor of $(1+L)$, thereby minimizing output loading. Physically, this is justified as follows: without feedback $(b=0)$, the circuit in Fig. 7.13b yields $a v_{\\varepsilon}=0$ and thus $v_{o}=r_{o} i_{o}$. With feedback, the amplifier adjusts its dependent source to drive $v_{\\varepsilon}$ close to zero, resulting in $v_{o}(=v_{f} / b=-v_{\\varepsilon} / b)$ being $(1+L)$ times smaller, effectively reducing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{o} \\rightarrow 0$ and $R_{o} \\rightarrow 0$, suggesting that the output port of an output-shunt amplifier with sufficient loop gain behaves like a short circuit.\n\nConsidering these results, it is clear that the series-shunt configuration in Fig. 7.12a corresponds to the voltage-amplifier equivalent in Fig. 7.12b, with the closed-loop parameters $A$, $R_{i}$, and $R_{o}$ as given in Eqs. (7.28) to (7.30). Note the use of uppercase letters to differentiate these parameters from their open-loop counterparts $a$, $r_{i}$, and $r_{o}$.\n\nFor an op amp with $a=10^{5} \\mathrm{~V} / \\mathrm{V}$, $r_{i}=1 \\mathrm{M} \\Omega$, and $r_{o}=100 \\Omega$ operated in the series-shunt mode with $b=0.01 \\mathrm{~V} / \\mathrm{V}$, we estimate $A_{o c}$, $R_{i}$, and $R_{o}$ as follows:\n\n#### Solution\n\nWe have $L=10^{5} \\times 0.01=10^{3}$. Thus, $A_{o c} \\cong 100(1-1 / 10^{3})=99.9 \\mathrm{~V} / \\mathrm{V}$, $R_{i}=10^{6}(1+10^{3}) \\cong 10^{9} \\Omega=1 \\mathrm{G} \\Omega$, and $R_{o}=100 /(1+10^{3}) \\cong 0.1 \\Omega$. Compared to typical op amp surrounding resistances in the $\\mathrm{k} \\Omega$ range, $R_{i}$ effectively acts as an open circuit and $R_{o}$ as a short circuit."
},
{
    "text": "We initiate by examining the application of negative feedback around a voltage amplifier, the first type among those previously mentioned. As depicted in Fig. 7.12a, the amplifier's output port is represented by a Thévenin equivalent comprising the dependent source $a v_{\\varepsilon}$ and the series output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The parameters $a$, $r_{i}$, and $r_{o}$ are termed open-loop parameters and are denoted with lowercase letters. The feedback network's function is to detect the output voltage $v_{o}$ and generate a scaled version of it, denoted as $v_{f}=b v_{o}$, such that $-v_{f}$ is then combined with the input $v_{i}$ to produce the error signal $v_{\\varepsilon}=v_{i}-v_{f}$. Note that the voltage sensing at the output is conducted in parallel, akin to standard voltmeter measurements (in laboratory settings, voltage is always measured in parallel, never in series). Conversely, the voltage summing at the input is performed in series, reflecting the method of connecting different voltage sources to add or subtract their voltages—never connect different voltage sources in parallel!\n\nTo isolate the impact of negative feedback on $a$, $r_{i}$, and $r_{o}$, independent of the surrounding circuit details, we deliberately assume the absence of loading from both amplifier ports (the presence of loading in practical circuits will be addressed in the subsequent section). Thus, to avoid loading at the input port, we assume the $v_{i}$ and $b v_{o}$ sources have zero series resistances, allowing us to write $v_{\\varepsilon}=v_{i}-v_{f}$ (if these resistances were non-zero, voltage division would occur). Similarly, to prevent loading at the output port, we assume it is left open-circuited, and the feedback network presents infinite resistance to this port, enabling us to write $v_{o}=a v_{\\varepsilon}$ (otherwise, voltage division would also occur at the output port). Referring to Fig. 7.13a, we observe by inspection that $v_{o}=a v_{\\varepsilon}=a(v_{i}-v_{f})=a(v_{i}-b v_{o})$. Simplifying yields the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.28}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As is known, negative feedback stabilizes gain, leading to $A_{o c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test voltage $v_{i}$ as shown in Fig. 7.13a, calculate the resulting current $i_{i}$, and derive the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. According to Ohm's law, $i_{i}=v_{\\varepsilon} / r_{i}$. Given that Eq. (7.10) predicts $v_{\\varepsilon}=v_{i} /(1+L)$, we have\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=r_{i}(1+L) \\tag{7.29}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback increases the input resistance $r_{i}$, which is already high in a well-designed voltage amplifier, by a factor of $(1+L)$, thereby significantly reducing input loading. Physically, this can be explained as follows: without feedback, $v_{f}=0$, meaning the entire test voltage $v_{i}$ appears across $r_{i}$, resulting in $i_{i}=v_{i} / r_{i}$. However, with feedback, the voltage across $r_{i}$ is reduced to $v_{\\varepsilon}$, which is $(1+L)$ times smaller than $v_{i}$, as per Eq. (7.10). This reduces $i_{i}$ by $(1+L)$, effectively increasing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{i} \\rightarrow 0$ and $R_{i} \\rightarrow \\infty$, suggesting that the input port of a series-input amplifier with sufficient loop gain behaves like an open circuit.\n\nNext, set $v_{i}=0$ and apply a test current $i_{o}$ to the output port, as illustrated in Fig. 7.13b. Then, determine the resulting voltage $v_{o}$ and compute the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KVL and Ohm's law,\n\n$$\nv_{o}=a v_{\\varepsilon}+r_{o} i_{o}=a(-v_{f})+r_{o} i_{o}=-a b v_{o}+r_{o} i_{o}\n$$\n\nSimplifying, we obtain\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=\\frac{r_{o}}{1+L} \\tag{7.30}\n\\end{equation*}\n$$\n\nThis shows that negative feedback reduces the output resistance $r_{o}$, which is initially low in a well-designed voltage amplifier, by a factor of $(1+L)$, thereby significantly reducing output loading. Physically, this is justified as follows: without feedback ($b=0$), the circuit in Fig. 7.13b would yield $a v_{\\varepsilon}=0$ and thus $v_{o}=r_{o} i_{o}$. However, with feedback, the amplifier adjusts its dependent source to drive $v_{\\varepsilon}$ close to zero, resulting in $v_{o}(=v_{f} / b=-v_{\\varepsilon} / b)$ being $(1+L)$ times smaller, effectively reducing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{o} \\rightarrow 0$ and $R_{o} \\rightarrow 0$, indicating that, in the absence of an input signal, the output port of an output-shunt amplifier with sufficient loop gain behaves like a short circuit.\n\nBased on these findings, it is clear that the series-shunt configuration of Fig. 7.12a corresponds to the voltage-amplifier equivalent of Fig. 7.12b, with the closed-loop parameters $A$, $R_{i}$, and $R_{o}$ as specified in Eqs. (7.28) to (7.30). Note the use of uppercase letters to differentiate these parameters from their open-loop counterparts $a$, $r_{i}$, and $r_{o}$.\n\nConsider an op amp with $a=10^{5} \\mathrm{~V} / \\mathrm{V}$, $r_{i}=1 \\mathrm{M} \\Omega$, and $r_{o}=100 \\Omega$ operated in the series-shunt mode with $b=0.01 \\mathrm{~V} / \\mathrm{V}$. Estimate $A_{o c}$, $R_{i}$, and $R_{o}$, and provide comments.\n\n#### Solution\n\nWe have $L=10^{5} \\times 0.01=10^{3}$. Thus, $A_{o c} \\approx 100(1-1 / 10^{3})=99.9 \\mathrm{~V} / \\mathrm{V}$, $R_{i}=10^{6}(1+10^{3}) \\approx 10^{9} \\Omega=1 \\mathrm{G} \\Omega$, and $R_{o}=100 /(1+10^{3}) \\approx 0.1 \\Omega$. Compared to the typical resistances around an op amp, which are in the $\\mathrm{k} \\Omega$ range, $R_{i}$ effectively appears as an open circuit and $R_{o}$ as a short circuit."
},
{
    "text": "We initiate our analysis by examining the application of negative feedback around a voltage amplifier, the first type among those previously mentioned. As depicted in Fig. 7.12a, the amplifier's output port is represented by a Thévenin equivalent comprising the dependent source $a v_{\\varepsilon}$ and the series output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The parameters $a$, $r_{i}$, and $r_{o}$ are termed open-loop parameters and are denoted using lowercase letters. The feedback network's function is to sense the output voltage $v_{o}$ and generate a scaled version of it, denoted as $v_{f}=b v_{o}$, such that $-v_{f}$ is then combined with the input $v_{i}$ to produce the error signal $v_{\\varepsilon}=v_{i}-v_{f}$. Note that the voltage sensing at the output is conducted in parallel, akin to standard voltmeter measurements (in laboratory settings, voltage is always measured in parallel, never in series!). Conversely, the voltage summing at the input is performed in series, reflecting the method of connecting different voltage sources for addition or subtraction of their voltages—never connect different voltage sources in parallel!\n\nTo isolate the impact of negative feedback on $a$, $r_{i}$, and $r_{o}$, independent of the specifics of the surrounding circuitry, we deliberately assume the absence of any loading effects at both amplifier ports (the presence of loading in practical circuits will be addressed in the subsequent section). Thus, to avoid loading at the input port, we assume the $v_{i}$ and $b v_{o}$ sources have negligible series resistances, allowing us to write $v_{\\varepsilon}=v_{i}-v_{f}$ (if these resistances were non-zero, voltage division would occur). Similarly, to prevent loading at the output port, we assume the port is left open-circuited, and the feedback network presents infinite resistance to this port, enabling us to write $v_{o}=a v_{\\varepsilon}$ (otherwise, voltage division would also occur at the output port). Referring to Fig. 7.13a, we observe by inspection that $v_{o}=a v_{\\varepsilon}=a(v_{i}-v_{f})=a(v_{i}-b v_{o})$. Simplifying this yields the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.28}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As is known, negative feedback stabilizes gain, causing $A_{o c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test voltage $v_{i}$ as shown in Fig. 7.13a, calculate the resulting current $i_{i}$, and derive the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. By Ohm's law, $i_{i}=v_{\\varepsilon} / r_{i}$. Given that Eq. (7.10) states $v_{\\varepsilon}=v_{i} /(1+L)$, we have\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=r_{i}(1+L) \\tag{7.29}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback increases the input resistance $r_{i}$, which is already high in a well-designed voltage amplifier, by a factor of $(1+L)$, thereby significantly reducing input loading. Physically, this can be explained as follows: without feedback, $v_{f}=0$, meaning the entire test voltage $v_{i}$ appears across $r_{i}$, resulting in $i_{i}=v_{i} / r_{i}$. However, with feedback, the voltage across $r_{i}$ is reduced to $v_{\\varepsilon}$, which is $(1+L)$ times smaller than $v_{i}$, as per Eq. (7.10). This reduces $i_{i}$ by $(1+L)$, effectively increasing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{i} \\rightarrow 0$ and thus $R_{i} \\rightarrow \\infty$, suggesting that the input port of a series-input amplifier with sufficient loop gain behaves like an open circuit.\n\nNext, set $v_{i}=0$ and apply a test current $i_{o}$ to the output port, as illustrated in Fig. 7.13b. Then, determine the resulting voltage $v_{o}$ and calculate the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KVL and Ohm's law,\n\n$$\nv_{o}=a v_{\\varepsilon}+r_{o} i_{o}=a(-v_{f})+r_{o} i_{o}=-a b v_{o}+r_{o} i_{o}\n$$\n\nSimplifying this yields\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=\\frac{r_{o}}{1+L} \\tag{7.30}\n\\end{equation*}\n$$\n\nThis shows that negative feedback reduces the output resistance $r_{o}$, which is initially low in a well-designed voltage amplifier, by a factor of $(1+L)$, thereby significantly reducing output loading. Physically, this is justified as follows: without feedback $(b=0)$, the circuit in Fig. 7.13b would yield $a v_{\\varepsilon}=0$ and thus $v_{o}=r_{o} i_{o}$. However, with feedback, the amplifier adjusts its dependent source to drive $v_{\\varepsilon}$ close to zero, resulting in $v_{o}\\left(=v_{f} / b=-v_{\\varepsilon} / b\\right)$ being $(1+L)$ times smaller, effectively reducing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{o} \\rightarrow 0$ and thus $R_{o} \\rightarrow 0$, indicating that the output port of an output-shunt amplifier with sufficient loop gain behaves like a short circuit in the absence of an input signal.\n\nBased on these findings, it is clear that the series-shunt configuration depicted in Fig. 7.12a corresponds to the voltage-amplifier equivalent shown in Fig. 7.12b, with the closed-loop parameters $A$, $R_{i}$, and $R_{o}$ as specified in Eqs. (7.28) to (7.30). Note the use of uppercase letters to differentiate these parameters from their open-loop counterparts $a$, $r_{i}$, and $r_{o}$.\n\nConsider an op amp with $a=10^{5} \\mathrm{~V} / \\mathrm{V}$, $r_{i}=1 \\mathrm{M} \\Omega$, and $r_{o}=100 \\Omega$ operated in the series-shunt mode with $b=0.01 \\mathrm{~V} / \\mathrm{V}$. Estimate $A_{o c}$, $R_{i}$, and $R_{o}$, and provide comments.\n\n#### Solution\n\nWe have $L=10^{5} \\times 0.01=10^{3}$. Thus, $A_{o c} \\cong 100\\left(1-1 / 10^{3}\\right)=99.9 \\mathrm{~V} / \\mathrm{V}$, $R_{i}=10^{6}\\left(1+10^{3}\\right) \\cong 10^{9} \\Omega=1 \\mathrm{G} \\Omega$, and $R_{o}=100 /\\left(1+10^{3}\\right) \\cong 0.1 \\Omega$. Compared to the resistances typically found around an op amp, which are in the $\\mathrm{k} \\Omega$ range, $R_{i}$ effectively acts as an open circuit and $R_{o}$ as a short circuit."
},
{
    "text": "We now focus on the application of negative feedback around a current amplifier, which is the dual of a voltage amplifier. As depicted in Fig. 7.14a, the amplifier's output port is represented by a Norton equivalent comprising the dependent source $a i_{\\varepsilon}$ and the parallel output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The feedback network's role is to detect the output current $i_{o}$ and generate a scaled version of it, denoted as $i_{f}=b i_{o}$, which is then combined with the input current $i_{i}$ to form the error signal $i_{\\varepsilon}=i_{i}-i_{f}$. The current sensing at the output port is conducted in series, akin to laboratory current measurements where the circuit is interrupted to insert an ammeter in series (recall that current measurements are always in series, while voltage measurements are in parallel). Conversely, the current summing at the input is performed in parallel, or shunt, reflecting how different current sources are connected to add or subtract their currents—never connect current sources in series!\n\nimage_name:(a)\ndescription:\n[\nname: Ii, type: CurrentSource, value: Ii, ports: {Np: X1, Nn: X2}\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: aiε, type: VoltageControlledVoltageSource, ports: {Np: X3, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X3, N2: X4}\nname: biO, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit represents a shunt-series configuration or current amplifier with an error amplifier and idealized feedback network. The current sources are connected in parallel for current summing, while the current sensing is performed in series at the output.\n\nimage_name:(b) Equivalent circuit\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: X1, Nn: X2}\nname: R_i, type: Resistor, value: R_i, ports: {N1: X2, N2: X1}\nname: A_sci_i, type: CurrentControlledCurrentSource, value: A_sci_i, ports: {Np: X3, Nn: X2}\nname: R_o, type: Resistor, value: R_o, ports: {N1: X3, N2: X4}\nname: i_o, type: CurrentSource, value: i_o, ports: {Np: X4, Nn: X3}\n]\nextrainfo:The circuit diagram represents a shunt-series configuration or current amplifier. It includes an error amplifier and an idealized feedback network. The current summing at the input is performed in parallel, whereas the current sensing at the output is in series. The feedback is negative, affecting the open-loop parameters a, ri, and ro.\n\n(b)\n\nFIGURE 7.14 The shunt-series configuration or current amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n\nTo isolate the impact of negative feedback on the open-loop parameters $a, r_{i}$, and $r_{o}$, irrespective of the surrounding circuit details, we assume the absence of loading at both amplifier ports (loading effects in practical circuits will be discussed in the next section). Thus, to avoid loading at the input port, we assume the $i_{i}$ and $b i_{o}$ sources have infinite parallel resistance, allowing us to write $i_{\\varepsilon}=i_{i}-i_{f}$ (if these sources had finite resistances, we would experience current division at the input port). Similarly, to prevent loading at the output port, we assume it is short-circuited, and the feedback network presents zero resistance to this port, enabling us to write $i_{o}=a i_{\\varepsilon}$ (otherwise, current division would occur at the output port). Referring to Fig. 7.14a, we observe by inspection that $i_{o}=a i_{\\varepsilon}=a(i_{i}-i_{f})=a(i_{i}-b i_{o})$. This leads to the familiar result\n\n$$\n\\begin{equation*}\nA_{s c}=\\frac{i_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.31}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, making $A_{s c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test current $i_{i}$ as shown in Fig. 7.15a, measure the resulting voltage $v_{i}$, and calculate the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $v_{i}=r_{i} i_{\\varepsilon}$. From Eq. (7.10), $i_{\\varepsilon}=i_{i} /(1+L)$, so\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=\\frac{r_{i}}{1+L} \\tag{7.32}\n\\end{equation*}\n$$\n\nThis shows that negative feedback reduces the input resistance $r_{i}$, which is typically low in a well-designed current amplifier, by a factor of $(1+L)$, further decreasing input loading. Physically, this can be explained as follows: without feedback, the entire test current $i_{i}$ flows through $r_{i}$, giving $v_{i}=r_{i} i_{i}$. With feedback, the current through $r_{i}$ reduces to the error current $i_{\\varepsilon}$, which is $(1+L)$ times smaller than $i_{i}$, reducing $v_{i}$ by $(1+L)$ and effectively dividing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{i} \\rightarrow 0$ and $R_{i} \\rightarrow 0$, indicating that the input port of an amplifier with sufficient loop gain tends to act as a short circuit.\n\nNext, set $i_{i}=0$ and apply a test voltage $v_{o}$ to the output port as shown in Fig. 7.15b. Measure the resulting current $i_{o}$ to find the closed-loop output resistance $R_{o}=v_{o} / i_{o}$. Using KCL and Ohm's law,\n\n$$\ni_{o}=a i_{\\varepsilon}+v_{o} / r_{o}=a(-i_{f})+v_{o} / r_{o}=-a b i_{o}+v_{o} / r_{o}\n$$\n\nSimplifying, we get\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=r_{o}(1+L) \\tag{7.33}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback increases the output resistance $r_{o}$, which is typically high in a well-designed current amplifier, by a factor of $(1+L)$, reducing output loading. Physically, this is justified as follows: without feedback, $i_{o}=v_{o} / r_{o}$. With feedback, the amplifier adjusts its dependent source to drive $i_{\\varepsilon}$ close to zero, making $i_{o}\\left(=i_{f} / b=-i_{\\varepsilon} / b\\right)$ $(1+L)$ times smaller, effectively increasing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{o} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$, indicating that the output port of an amplifier with sufficient loop gain tends to act as an open circuit.\n\nGiven these results, it is clear that the shunt-series configuration of Fig. 7.14a corresponds to the current-amplifier equivalent of Fig. 7.14b, with closed-loop parameters $A_{s c}, R_{i}$, and $R_{o}$ as given in Eqs. (7.31) to (7.33). Note that what benefits a current amplifier ($R_{i} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$) is the opposite of what benefits a voltage amplifier ($R_{i} \\rightarrow \\infty$ and $R_{o} \\rightarrow 0$), illustrating the duality principle.\n\nimage_name:(a)\ndescription:\n[\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: ro, type: Resistor, value: ro, ports: {N1: X4, N2: X3}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\nname: aie, type: VoltageControlledVoltageSource, value: aie, ports: {Np: X3, Nn: X4}\nname: bio, type: VoltageControlledCurrentSource, value: bio, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit diagram (a) represents a shunt-shunt configuration or transresistance amplifier with negative feedback. It includes a current source at the input and a voltage output. The feedback network is designed to convert the output voltage back into a current for feedback.\n\nimage_name:(b)\ndescription:\n[\nname: Ri, type: Resistor, value: Ri, ports: {N1: X1, N2: X2}\nname: Aocii, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X3}\nname: Ro, type: Resistor, value: Ro, ports: {N1: X4, N2: X5}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit in Figure 7.16(b) is a simplified equivalent circuit of a transresistance amplifier with feedback. The input is a current source ii connected between nodes X1 and X2, and the output is a voltage across nodes X4 and X3. The transresistance amplifier is represented by a voltage-controlled voltage source Aocii with a series resistance Ro.\n\nFIGURE 7.16 The shunt-shunt configuration or transresistance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit."
},
{
    "text": "We now focus on the application of negative feedback around a current amplifier, which is the dual of a voltage amplifier. As depicted in Fig. 7.14a, the amplifier's output port is represented by a Norton equivalent, comprising the dependent source $a i_{\\varepsilon}$ and the parallel output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The feedback network's role is to detect the output current $i_{o}$ and produce a scaled version of it, denoted as $i_{f}=b i_{o}$, which is then combined with the input current $i_{i}$ to generate the error signal $i_{\\varepsilon}=i_{i}-i_{f}$. The output current sensing is performed in series, akin to laboratory current measurements where the circuit is interrupted to insert an ammeter in series (recall that current measurements are always in series, while voltage measurements are in parallel). Conversely, the input current summing is executed in parallel, or shunt, reflecting how different current sources are connected to add or subtract their currents—never in series!\n\nimage_name:(a)\ndescription:\n[\nname: Ii, type: CurrentSource, value: Ii, ports: {Np: X1, Nn: X2}\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: aiε, type: VoltageControlledVoltageSource, ports: {Np: X3, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X3, N2: X4}\nname: biO, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:This circuit illustrates a shunt-series configuration or current amplifier with an error amplifier and an idealized feedback network. Current sources are paralleled for summing, while output current sensing is done in series.\n\nimage_name:(b) Equivalent circuit\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: X1, Nn: X2}\nname: R_i, type: Resistor, value: R_i, ports: {N1: X2, N2: X1}\nname: A_sci_i, type: CurrentControlledCurrentSource, value: A_sci_i, ports: {Np: X3, Nn: X2}\nname: R_o, type: Resistor, value: R_o, ports: {N1: X3, N2: X4}\nname: i_o, type: CurrentSource, value: i_o, ports: {Np: X4, Nn: X3}\n]\nextrainfo:This circuit diagram shows a shunt-series configuration or current amplifier, including an error amplifier and an idealized feedback network. Input current summing is in parallel, and output current sensing is in series. Negative feedback affects the open-loop parameters a, ri, and ro.\n\n(b)\n\nFIGURE 7.14 The shunt-series configuration or current amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n\nTo isolate the impact of negative feedback on the open-loop parameters $a, r_{i}$, and $r_{o}$, irrespective of the surrounding circuit details, we deliberately assume no loading at both amplifier ports (loading effects in practical circuits will be discussed in the next section). Thus, to avoid input port loading, we assume the $i_{i}$ and $b i_{o}$ sources have infinite parallel resistance, allowing us to write $i_{\\varepsilon}=i_{i}-i_{f}$ (if these sources had finite resistances, input current division would occur). Similarly, to prevent output port loading, we assume this port is short-circuited, and the feedback network presents zero resistance, enabling us to write $i_{o}=a i_{\\varepsilon}$ (otherwise, output current division would occur). Referring to Fig. 7.14a, we observe by inspection that $i_{o}=a i_{\\varepsilon}=a(i_{i}-i_{f})=a(i_{i}-b i_{o})$. This leads to the familiar result\n\n$$\n\\begin{equation*}\nA_{s c}=\\frac{i_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.31}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, making $A_{s c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test current $i_{i}$ as shown in Fig. 7.15a, measure the resulting voltage $v_{i}$, and calculate the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $v_{i}=r_{i} i_{\\varepsilon}$. From Eq. (7.10), $i_{\\varepsilon}=i_{i} /(1+L)$, so\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=\\frac{r_{i}}{1+L} \\tag{7.32}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback reduces the input resistance $r_{i}$, which is typically low in a well-designed current amplifier, by a factor of $(1+L)$, further decreasing input loading. Physically, in the absence of feedback, the entire test current $i_{i}$ flows through $r_{i}$, giving $v_{i}=r_{i} i_{i}$. With feedback, the current through $r_{i}$ reduces to the error current $i_{\\varepsilon}$, which is $(1+L)$ times smaller than $i_{i}$, reducing $v_{i}$ by $(1+L)$ and effectively dividing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{i} \\rightarrow 0$ and $R_{i} \\rightarrow 0$, suggesting that the input port of a high-loop-gain input-shunt amplifier acts as a short circuit.\n\nNext, set $i_{i}=0$ and apply a test voltage $v_{o}$ to the output port as in Fig. 7.15b. Determine the resulting current $i_{o}$ and compute the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KCL and Ohm's law,\n\n$$\ni_{o}=a i_{\\varepsilon}+v_{o} / r_{o}=a(-i_{f})+v_{o} / r_{o}=-a b i_{o}+v_{o} / r_{o}\n$$\n\nSimplifying yields\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=r_{o}(1+L) \\tag{7.33}\n\\end{equation*}\n$$\n\nThis shows that negative feedback increases the output resistance $r_{o}$, typically high in a well-designed current amplifier, by a factor of $(1+L)$, reducing output loading. Physically, without feedback, $i_{o}=v_{o} / r_{o}$. With feedback, the amplifier adjusts its dependent source to drive $i_{\\varepsilon}$ near zero, making $i_{o}\\left(=i_{f} / b=-i_{\\varepsilon} / b\\right)$ $(1+L)$ times smaller, effectively increasing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{o} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$, indicating that the output port of a high-loop-gain output-series amplifier acts as an open circuit.\n\nGiven these results, it is clear that the shunt-series configuration of Fig. 7.14a corresponds to the current-amplifier equivalent of Fig. 7.14b, with closed-loop parameters $A_{s c}, R_{i}$, and $R_{o}$ as per Eqs. (7.31) to (7.33). Note that the ideal characteristics for a current amplifier ($R_{i} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$) are the opposite of those for a voltage amplifier ($R_{i} \\rightarrow \\infty$ and $R_{o} \\rightarrow 0$), illustrating the duality principle.\n\nimage_name:(a)\ndescription:\n[\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: ro, type: Resistor, value: ro, ports: {N1: X4, N2: X3}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\nname: aie, type: VoltageControlledVoltageSource, value: aie, ports: {Np: X3, Nn: X4}\nname: bio, type: VoltageControlledCurrentSource, value: bio, ports: {Np: X1, Nn: X2}\n]\nextrainfo:This circuit diagram (a) represents a shunt-shunt configuration or transresistance amplifier with negative feedback. It includes a current source at the input and a voltage output. The feedback network converts the output voltage back to a current for feedback.\n\nimage_name:(b)\ndescription:\n[\nname: Ri, type: Resistor, value: Ri, ports: {N1: X1, N2: X2}\nname: Aocii, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X3}\nname: Ro, type: Resistor, value: Ro, ports: {N1: X4, N2: X5}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:Figure 7.16(b) shows a simplified equivalent circuit of a transresistance amplifier with feedback. The input is a current source ii between nodes X1 and X2, and the output is a voltage across nodes X4 and X3. The transresistance amplifier is represented by a voltage-controlled voltage source Aocii with a series resistance Ro.\n\nFIGURE 7.16 The shunt-shunt configuration or transresistance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit."
},
{
    "text": "We now shift our focus to the application of negative feedback around a current amplifier, which is the dual of a voltage amplifier. As depicted in Fig. 7.14a, the amplifier's output port is represented by a Norton equivalent, comprising a dependent source $a i_{\\varepsilon}$ and a parallel output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with an input resistance $r_{i}$. The feedback network's role is to detect the output current $i_{o}$ and generate a scaled version of it, denoted as $i_{f}=b i_{o}$, which is then combined with the input current $i_{i}$ to form the error signal $i_{\\varepsilon}=i_{i}-i_{f}$. The output current sensing is performed in series, akin to laboratory current measurements where the circuit is interrupted to insert an ammeter in series (recall that current measurements are always in series, while voltage measurements are in parallel). Conversely, the input current summing is executed in parallel, or shunt, reflecting the method of connecting different current sources to add or subtract their currents—never connect different current sources in series!\n\nimage_name:(a)\ndescription:\n[\nname: Ii, type: CurrentSource, value: Ii, ports: {Np: X1, Nn: X2}\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: aiε, type: VoltageControlledVoltageSource, ports: {Np: X3, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X3, N2: X4}\nname: biO, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:This circuit illustrates a shunt-series configuration or current amplifier with an error amplifier and an idealized feedback network. The current sources are paralleled for current summing, while current sensing occurs in series at the output.\n\nimage_name:(b) Equivalent circuit\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: X1, Nn: X2}\nname: R_i, type: Resistor, value: R_i, ports: {N1: X2, N2: X1}\nname: A_sci_i, type: CurrentControlledCurrentSource, value: A_sci_i, ports: {Np: X3, Nn: X2}\nname: R_o, type: Resistor, value: R_o, ports: {N1: X3, N2: X4}\nname: i_o, type: CurrentSource, value: i_o, ports: {Np: X4, Nn: X3}\n]\nextrainfo:This circuit diagram depicts a shunt-series configuration or current amplifier, featuring an error amplifier and an idealized feedback network. Current summing at the input is done in parallel, while current sensing at the output is in series. The feedback is negative, impacting the open-loop parameters a, ri, and ro.\n\n(b)\n\nFIGURE 7.14 The shunt-series configuration or current amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n\nTo isolate the impact of negative feedback on the open-loop parameters $a, r_{i}$, and $r_{o}$, irrespective of the surrounding circuit details, we deliberately assume no loading from both amplifier ports (loading effects in practical circuits will be addressed in the next section). Thus, to avoid loading at the input port, we assume the $i_{i}$ and $b i_{o}$ sources have infinite parallel resistance, allowing us to write $i_{\\varepsilon}=i_{i}-i_{f}$ (if these sources had finite resistances, input current division would occur). Similarly, to prevent loading at the output port, we assume it is short-circuited, with the feedback network presenting zero resistance, enabling us to write $i_{o}=a i_{\\varepsilon}$ (otherwise, output current division would occur). Referring to Fig. 7.14a, we observe by inspection that $i_{o}=a i_{\\varepsilon}=a(i_{i}-i_{f})=a(i_{i}-b i_{o})$. This leads to the familiar result\n\n$$\n\\begin{equation*}\nA_{s c}=\\frac{i_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.31}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, making $A_{s c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test current $i_{i}$ as shown in Fig. 7.15a, measure the resulting voltage $v_{i}$, and calculate the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $v_{i}=r_{i} i_{\\varepsilon}$. From Eq. (7.10), $i_{\\varepsilon}=i_{i} /(1+L)$, so\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=\\frac{r_{i}}{1+L} \\tag{7.32}\n\\end{equation*}\n$$\n\nThis shows that negative feedback reduces the input resistance $r_{i}$, typically low in a well-designed current amplifier, by a factor of $(1+L)$, further lowering it. This is beneficial in current-input amplifiers as it significantly reduces input loading. Physically, in the absence of feedback, the entire test current $i_{i}$ flows through $r_{i}$, giving $v_{i}=r_{i} i_{i}$. With feedback, the current through $r_{i}$ reduces to the error current $i_{\\varepsilon}$, which is $(1+L)$ times smaller than $i_{i}$, reducing $v_{i}$ by $(1+L)$ and effectively dividing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{i} \\rightarrow 0$ and $R_{i} \\rightarrow 0$, indicating that the input port of a sufficiently high-gain input-shunt amplifier acts as a short circuit.\n\nNext, set $i_{i}=0$ and apply a test voltage $v_{o}$ to the output port as in Fig. 7.15b. Measure the resulting current $i_{o}$ and determine the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. By KCL and Ohm's law,\n\n$$\ni_{o}=a i_{\\varepsilon}+v_{o} / r_{o}=a(-i_{f})+v_{o} / r_{o}=-a b i_{o}+v_{o} / r_{o}\n$$\n\nSimplifying, we get\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=r_{o}(1+L) \\tag{7.33}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback increases the output resistance $r_{o}$, typically high in a well-designed current amplifier, by a factor of $(1+L)$, enhancing it further. This is desirable in current-output amplifiers as it reduces output loading. Physically, without feedback, $i_{o}=v_{o} / r_{o}$. With feedback, the amplifier adjusts its dependent source to drive $i_{\\varepsilon}$ near zero, making $i_{o}\\left(=i_{f} / b=-i_{\\varepsilon} / b\\right)$ $(1+L)$ times smaller, effectively increasing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{o} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$, indicating that the output port of a high-gain output-series amplifier acts as an open circuit.\n\nGiven these results, it is clear that the shunt-series configuration of Fig. 7.14a corresponds to the current-amplifier equivalent of Fig. 7.14b, with closed-loop parameters $A_{s c}, R_{i}$, and $R_{o}$ as per Eqs. (7.31) to (7.33). Note that what benefits a current amplifier ($R_{i} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$) is the opposite of what benefits a voltage amplifier ($R_{i} \\rightarrow \\infty$ and $R_{o} \\rightarrow 0$), illustrating the duality principle.\n\nimage_name:(a)\ndescription:\n[\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: ro, type: Resistor, value: ro, ports: {N1: X4, N2: X3}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\nname: aie, type: VoltageControlledVoltageSource, value: aie, ports: {Np: X3, Nn: X4}\nname: bio, type: VoltageControlledCurrentSource, value: bio, ports: {Np: X1, Nn: X2}\n]\nextrainfo:This circuit diagram (a) represents a shunt-shunt configuration or transresistance amplifier with negative feedback. It includes a current source at the input and a voltage output. The feedback network converts the output voltage back into a current for feedback.\n\nimage_name:(b)\ndescription:\n[\nname: Ri, type: Resistor, value: Ri, ports: {N1: X1, N2: X2}\nname: Aocii, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X3}\nname: Ro, type: Resistor, value: Ro, ports: {N1: X4, N2: X5}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:Figure 7.16(b) shows a simplified equivalent circuit of a transresistance amplifier with feedback. The input is a current source ii between nodes X1 and X2, and the output is a voltage across nodes X4 and X3. The transresistance amplifier is represented by a voltage-controlled voltage source Aocii with a series resistance Ro.\n\nFIGURE 7.16 The shunt-shunt configuration or transresistance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit."
},
{
    "text": "We now focus on the application of negative feedback around a current amplifier, which is the dual of a voltage amplifier. As depicted in Fig. 7.14a, the amplifier's output port is represented by a Norton equivalent, comprising the dependent source $a i_{\\varepsilon}$ and the parallel output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The feedback network's role is to detect the output current $i_{o}$ and generate a scaled version of it, denoted as $i_{f}=b i_{o}$, which is then summed with the input current $i_{i}$ to produce the error signal $i_{\\varepsilon}=i_{i}-i_{f}$. The current sensing at the output port is conducted in series, akin to laboratory current measurements where the circuit is interrupted to insert an ammeter in series (recall that current measurements are always in series, while voltage measurements are in parallel). Conversely, the current summing at the input is performed in parallel, or shunt, reflecting how different current sources are connected to add or subtract their currents—never in series!\n\nimage_name:(a)\ndescription:\n[\nname: Ii, type: CurrentSource, value: Ii, ports: {Np: X1, Nn: X2}\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: aiε, type: VoltageControlledVoltageSource, ports: {Np: X3, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X3, N2: X4}\nname: biO, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit represents a shunt-series configuration or current amplifier with an error amplifier and idealized feedback network. The current sources are connected in parallel for current summing, while the current sensing is performed in series at the output.\n\nimage_name:(b) Equivalent circuit\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: X1, Nn: X2}\nname: R_i, type: Resistor, value: R_i, ports: {N1: X2, N2: X1}\nname: A_sci_i, type: CurrentControlledCurrentSource, value: A_sci_i, ports: {Np: X3, Nn: X2}\nname: R_o, type: Resistor, value: R_o, ports: {N1: X3, N2: X4}\nname: i_o, type: CurrentSource, value: i_o, ports: {Np: X4, Nn: X3}\n]\nextrainfo:The circuit diagram represents a shunt-series configuration or current amplifier. It includes an error amplifier and an idealized feedback network. The current summing at the input is performed in parallel, whereas the current sensing at the output is in series. The feedback is negative, affecting the open-loop parameters a, ri, and ro.\n\n(b)\n\nFIGURE 7.14 The shunt-series configuration or current amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n\nTo isolate the impact of negative feedback on the open-loop parameters $a, r_{i}$, and $r_{o}$, irrespective of the surrounding circuit details, we deliberately assume no loading from either port of the amplifier (loading effects in practical circuits will be addressed in the next section). Thus, to avoid loading at the input port, we assume the $i_{i}$ and $b i_{o}$ sources have infinite parallel resistance, allowing us to write $i_{\\varepsilon}=i_{i}-i_{f}$ (if these sources had finite resistances, current division would occur at the input port). Similarly, to prevent loading at the output port, we assume it is short-circuited, and the feedback network presents zero resistance to this port, enabling us to write $i_{o}=a i_{\\varepsilon}$ (otherwise, current division would also occur at the output port). Referring to Fig. 7.14a, we find by inspection that $i_{o}=a i_{\\varepsilon}=a(i_{i}-i_{f})=a(i_{i}-b i_{o})$. This leads to the familiar result\n\n$$\n\\begin{equation*}\nA_{s c}=\\frac{i_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.31}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, making $A_{s c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test current $i_{i}$ as shown in Fig. 7.15a, measure the resulting voltage $v_{i}$, and compute the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $v_{i}=r_{i} i_{\\varepsilon}$. From Eq. (7.10), $i_{\\varepsilon}=i_{i} /(1+L)$, so\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=\\frac{r_{i}}{1+L} \\tag{7.32}\n\\end{equation*}\n$$\n\nindicating that negative feedback reduces the input resistance $r_{i}$, which is typically low in a well-designed current amplifier, by a factor of $(1+L)$, further decreasing input loading. Physically, this can be explained as follows: without feedback, the entire test current $i_{i}$ flows through $r_{i}$, giving $v_{i}=r_{i} i_{i}$. With feedback, the current through $r_{i}$ reduces to the error current $i_{\\varepsilon}$, which is $(1+L)$ times smaller than $i_{i}$, reducing $v_{i}$ by $(1+L)$ and effectively dividing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{i} \\rightarrow 0$ and $R_{i} \\rightarrow 0$, suggesting that the input port of a sufficiently high-gain input-shunt amplifier acts as a short circuit.\n\nNext, set $i_{i}=0$ and apply a test voltage $v_{o}$ to the output port as shown in Fig. 7.15b. Determine the resulting current $i_{o}$ and calculate the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KCL and Ohm's law,\n\n$$\ni_{o}=a i_{\\varepsilon}+v_{o} / r_{o}=a(-i_{f})+v_{o} / r_{o}=-a b i_{o}+v_{o} / r_{o}\n$$\n\nSimplifying, we get\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=r_{o}(1+L) \\tag{7.33}\n\\end{equation*}\n$$\n\nshowing that negative feedback increases the output resistance $r_{o}$, typically high in a well-designed current amplifier, by a factor of $(1+L)$, reducing output loading. Physically, this is justified as follows: without feedback, $i_{o}=v_{o} / r_{o}$. With feedback, the amplifier adjusts its dependent source to drive $i_{\\varepsilon}$ close to zero, making $i_{o}\\left(=i_{f} / b=-i_{\\varepsilon} / b\\right)$ $(1+L)$ times smaller, effectively increasing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{o} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$, indicating that the output port of a high-gain output-series amplifier acts as an open circuit.\n\nGiven these results, it is clear that the shunt-series configuration of Fig. 7.14a corresponds to the current-amplifier equivalent of Fig. 7.14b, with closed-loop parameters $A_{s c}, R_{i}$, and $R_{o}$ as given in Eqs. (7.31) to (7.33). Note that the ideal characteristics for a current amplifier ($R_{i} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$) are the inverse of those for a voltage amplifier ($R_{i} \\rightarrow \\infty$ and $R_{o} \\rightarrow 0$), illustrating the duality principle.\n\nimage_name:(a)\ndescription:\n[\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: ro, type: Resistor, value: ro, ports: {N1: X4, N2: X3}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\nname: aie, type: VoltageControlledVoltageSource, value: aie, ports: {Np: X3, Nn: X4}\nname: bio, type: VoltageControlledCurrentSource, value: bio, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit diagram (a) represents a shunt-shunt configuration or transresistance amplifier with negative feedback. It includes a current source at the input and a voltage output. The feedback network is designed to convert the output voltage back into a current for feedback.\n\nimage_name:(b)\ndescription:\n[\nname: Ri, type: Resistor, value: Ri, ports: {N1: X1, N2: X2}\nname: Aocii, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X3}\nname: Ro, type: Resistor, value: Ro, ports: {N1: X4, N2: X5}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit in Figure 7.16(b) is a simplified equivalent circuit of a transresistance amplifier with feedback. The input is a current source ii connected between nodes X1 and X2, and the output is a voltage across nodes X4 and X3. The transresistance amplifier is represented by a voltage-controlled voltage source Aocii with a series resistance Ro.\n\nFIGURE 7.16 The shunt-shunt configuration or transresistance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit."
},
{
    "text": "We now focus on the application of negative feedback around a current amplifier, which is the dual of a voltage amplifier. As depicted in Fig. 7.14a, the amplifier's output port is represented by a Norton equivalent comprising a dependent source $a i_{\\varepsilon}$ and a parallel output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with an input resistance $r_{i}$. The feedback network's role is to sense the output current $i_{o}$ and produce a scaled version, $i_{f}=b i_{o}$, which is then summed with the input current $i_{i}$ to generate the error signal $i_{\\varepsilon}=i_{i}-i_{f}$. Current sensing at the output port is performed in series, akin to laboratory current measurements where the circuit is broken to insert an ammeter in series (recall that current is always measured in series, while voltage is measured in parallel). Conversely, current summing at the input is done in parallel, or shunt, as this is how different current sources are connected to add or subtract their currents—never connect different current sources in series!\n\nimage_name:(a)\ndescription:\n[\nname: Ii, type: CurrentSource, value: Ii, ports: {Np: X1, Nn: X2}\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: aiε, type: VoltageControlledVoltageSource, ports: {Np: X3, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X3, N2: X4}\nname: biO, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit represents a shunt-series configuration or current amplifier with an error amplifier and idealized feedback network. The current sources are connected in parallel for current summing, while the current sensing is performed in series at the output.\n\nimage_name:(b) Equivalent circuit\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: X1, Nn: X2}\nname: R_i, type: Resistor, value: R_i, ports: {N1: X2, N2: X1}\nname: A_sci_i, type: CurrentControlledCurrentSource, value: A_sci_i, ports: {Np: X3, Nn: X2}\nname: R_o, type: Resistor, value: R_o, ports: {N1: X3, N2: X4}\nname: i_o, type: CurrentSource, value: i_o, ports: {Np: X4, Nn: X3}\n]\nextrainfo:The circuit diagram represents a shunt-series configuration or current amplifier. It includes an error amplifier and an idealized feedback network. The current summing at the input is performed in parallel, whereas the current sensing at the output is in series. The feedback is negative, affecting the open-loop parameters a, ri, and ro.\n\n(b)\n\nFIGURE 7.14 The shunt-series configuration or current amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n\nTo isolate the impact of negative feedback on the open-loop parameters $a, r_{i}$, and $r_{o}$, irrespective of the surrounding circuit details, we assume no loading from both ports of the amplifier (loading effects in practical circuits will be addressed in the next section). Thus, to avoid loading at the input port, we assume the $i_{i}$ and $b i_{o}$ sources have infinite parallel resistance, allowing us to write $i_{\\varepsilon}=i_{i}-i_{f}$ (if these sources had finite resistances, we would encounter current division at the input port). Similarly, to prevent loading at the output port, we assume this port is short-circuited and the feedback network presents zero resistance, enabling us to write $i_{o}=a i_{\\varepsilon}$ (otherwise, we would have current division at the output port). Referring to Fig. 7.14a, we observe by inspection that $i_{o}=a i_{\\varepsilon}=a(i_{i}-i_{f})=a(i_{i}-b i_{o})$. This leads to the familiar result\n\n$$\n\\begin{equation*}\nA_{s c}=\\frac{i_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.31}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, making $A_{s c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test current $i_{i}$ as shown in Fig. 7.15a, measure the resulting voltage $v_{i}$, and calculate the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $v_{i}=r_{i} i_{\\varepsilon}$. From Eq. (7.10), $i_{\\varepsilon}=i_{i} /(1+L)$, so\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=\\frac{r_{i}}{1+L} \\tag{7.32}\n\\end{equation*}\n$$\n\nThis shows that negative feedback reduces the input resistance $r_{i}$, which is typically low in a well-designed current amplifier, by a factor of $(1+L)$, further decreasing input loading. Physically, this is explained as follows: without feedback, the entire test current $i_{i}$ flows through $r_{i}$, giving $v_{i}=r_{i} i_{i}$. With feedback, the current through $r_{i}$ reduces to the error current $i_{\\varepsilon}$, which is $(1+L)$ times smaller than $i_{i}$, reducing $v_{i}$ by $(1+L)$ and effectively dividing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{i} \\rightarrow 0$ and $R_{i} \\rightarrow 0$, indicating that the input port of a high-loop-gain input-shunt amplifier acts as a short circuit.\n\nNext, set $i_{i}=0$ and apply a test voltage $v_{o}$ to the output port as shown in Fig. 7.15b. Measure the resulting current $i_{o}$ and compute the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KCL and Ohm's law,\n\n$$\ni_{o}=a i_{\\varepsilon}+v_{o} / r_{o}=a(-i_{f})+v_{o} / r_{o}=-a b i_{o}+v_{o} / r_{o}\n$$\n\nSimplifying gives\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=r_{o}(1+L) \\tag{7.33}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback increases the output resistance $r_{o}$, which is typically high in a well-designed current amplifier, by a factor of $(1+L)$, reducing output loading. Physically, this is justified as follows: without feedback, $i_{o}=v_{o} / r_{o}$. With feedback, the amplifier adjusts its dependent source to drive $i_{\\varepsilon}$ close to zero, making $i_{o}\\left(=i_{f} / b=-i_{\\varepsilon} / b\\right)$ $(1+L)$ times smaller, effectively increasing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{o} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$, indicating that the output port of a high-loop-gain output-series amplifier acts as an open circuit.\n\nGiven these results, it is clear that the shunt-series configuration of Fig. 7.14a corresponds to the current-amplifier equivalent of Fig. 7.14b, with closed-loop parameters $A_{s c}, R_{i}$, and $R_{o}$ as given in Eqs. (7.31) to (7.33). Note that what benefits a current amplifier ($R_{i} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$) is the opposite of what benefits a voltage amplifier ($R_{i} \\rightarrow \\infty$ and $R_{o} \\rightarrow 0$), illustrating the duality principle.\n\nimage_name:(a)\ndescription:\n[\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: ro, type: Resistor, value: ro, ports: {N1: X4, N2: X3}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\nname: aie, type: VoltageControlledVoltageSource, value: aie, ports: {Np: X3, Nn: X4}\nname: bio, type: VoltageControlledCurrentSource, value: bio, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit diagram (a) represents a shunt-shunt configuration or transresistance amplifier with negative feedback. It includes a current source at the input and a voltage output. The feedback network is designed to convert the output voltage back into a current for feedback.\n\nimage_name:(b)\ndescription:\n[\nname: Ri, type: Resistor, value: Ri, ports: {N1: X1, N2: X2}\nname: Aocii, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X3}\nname: Ro, type: Resistor, value: Ro, ports: {N1: X4, N2: X5}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit in Figure 7.16(b) is a simplified equivalent circuit of a transresistance amplifier with feedback. The input is a current source ii connected between nodes X1 and X2, and the output is a voltage across nodes X4 and X3. The transresistance amplifier is represented by a voltage-controlled voltage source Aocii with a series resistance Ro.\n\nFIGURE 7.16 The shunt-shunt configuration or transresistance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit."
},
{
    "text": "We now focus on the application of negative feedback around a current amplifier, which is the dual of a voltage amplifier. As depicted in Fig. 7.14a, the amplifier's output port is represented by a Norton equivalent, comprising a dependent source $a i_{\\varepsilon}$ and a parallel output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The feedback network's role is to sense the output current $i_{o}$ and produce a scaled version, $i_{f}=b i_{o}$, which is then combined with the input current $i_{i}$ to generate the error signal $i_{\\varepsilon}=i_{i}-i_{f}$. Current sensing at the output port is done in series, akin to laboratory current measurements where the circuit is broken to insert an ammeter in series (recall that current is always measured in series, while voltage is measured in parallel). Conversely, current summing at the input is performed in parallel, or shunt, as this is how different current sources are connected to add or subtract their currents—never connect different current sources in series!\n\nimage_name:(a)\ndescription:\n[\nname: Ii, type: CurrentSource, value: Ii, ports: {Np: X1, Nn: X2}\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: aiε, type: VoltageControlledVoltageSource, ports: {Np: X3, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X3, N2: X4}\nname: biO, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit represents a shunt-series configuration or current amplifier with an error amplifier and idealized feedback network. The current sources are connected in parallel for current summing, while the current sensing is performed in series at the output.\n\nimage_name:(b) Equivalent circuit\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: X1, Nn: X2}\nname: R_i, type: Resistor, value: R_i, ports: {N1: X2, N2: X1}\nname: A_sci_i, type: CurrentControlledCurrentSource, value: A_sci_i, ports: {Np: X3, Nn: X2}\nname: R_o, type: Resistor, value: R_o, ports: {N1: X3, N2: X4}\nname: i_o, type: CurrentSource, value: i_o, ports: {Np: X4, Nn: X3}\n]\nextrainfo:The circuit diagram represents a shunt-series configuration or current amplifier. It includes an error amplifier and an idealized feedback network. The current summing at the input is performed in parallel, whereas the current sensing at the output is in series. The feedback is negative, affecting the open-loop parameters a, ri, and ro.\n\n(b)\n\nFIGURE 7.14 The shunt-series configuration or current amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n\nTo isolate the effect of negative feedback on the open-loop parameters $a, r_{i}$, and $r_{o}$, irrespective of the surrounding circuit details, we deliberately assume no loading at both ports of the amplifier (loading effects in practical circuits will be addressed in the next section). Thus, to avoid loading at the input port, assume the $i_{i}$ and $b i_{o}$ sources have infinite parallel resistance, allowing us to write $i_{\\varepsilon}=i_{i}-i_{f}$ (if these sources had finite resistances, we would encounter current division at the input port). Similarly, to prevent loading at the output port, assume it is short-circuited, and the feedback network presents zero resistance to this port, enabling us to write $i_{o}=a i_{\\varepsilon}$ (otherwise, we would have current division at the output port). Referring to Fig. 7.14a, by inspection, we have $i_{o}=a i_{\\varepsilon}=a(i_{i}-i_{f})=a(i_{i}-b i_{o})$. This leads to the familiar result\n\n$$\n\\begin{equation*}\nA_{s c}=\\frac{i_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.31}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, making $A_{s c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test current $i_{i}$ as shown in Fig. 7.15a, measure the resulting voltage $v_{i}$, and calculate the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $v_{i}=r_{i} i_{\\varepsilon}$. From Eq. (7.10), $i_{\\varepsilon}=i_{i} /(1+L)$, so\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=\\frac{r_{i}}{1+L} \\tag{7.32}\n\\end{equation*}\n$$\n\nindicating that negative feedback reduces the input resistance $r_{i}$, typically low in a well-designed current amplifier, by dividing it by $(1+L)$, further lowering input loading. Physically, this is justified as follows: without feedback, the entire test current $i_{i}$ flows through $r_{i}$, giving $v_{i}=r_{i} i_{i}$. With feedback, the current through $r_{i}$ reduces to the error current $i_{\\varepsilon}$, which is $(1+L)$ times smaller than $i_{i}$, reducing $v_{i}$ by $(1+L)$, effectively dividing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{i} \\rightarrow 0$ and $R_{i} \\rightarrow 0$, suggesting that the input port of a sufficiently high-gain input-shunt amplifier acts as a short circuit.\n\nNext, set $i_{i}=0$ and apply a test voltage $v_{o}$ to the output port as in Fig. 7.15b. Determine the resulting current $i_{o}$ and compute the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. By KCL and Ohm's law,\n\n$$\ni_{o}=a i_{\\varepsilon}+v_{o} / r_{o}=a(-i_{f})+v_{o} / r_{o}=-a b i_{o}+v_{o} / r_{o}\n$$\n\nSimplifying, we get\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=r_{o}(1+L) \\tag{7.33}\n\\end{equation*}\n$$\n\nshowing that negative feedback increases the output resistance $r_{o}$, typically high in a well-designed current amplifier, by multiplying it by $(1+L)$, thus reducing output loading. Physically, this is justified as follows: without feedback, $i_{o}=v_{o} / r_{o}$. With feedback, the amplifier adjusts its dependent source to drive $i_{\\varepsilon}$ close to zero, making $i_{o} (=i_{f} / b=-i_{\\varepsilon} / b)$ $(1+L)$ times smaller, effectively increasing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{o} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$, indicating that the output port of a sufficiently high-gain output-series amplifier acts as an open circuit.\n\nGiven these results, it is clear that the shunt-series configuration of Fig. 7.14a corresponds to the current-amplifier equivalent of Fig. 7.14b, with closed-loop parameters $A_{s c}, R_{i}$, and $R_{o}$ as given in Eqs. (7.31) to (7.33). Note that what benefits a current amplifier ($R_{i} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$) is the opposite of what benefits a voltage amplifier ($R_{i} \\rightarrow \\infty$ and $R_{o} \\rightarrow 0$), illustrating the duality principle.\n\nimage_name:(a)\ndescription:\n[\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: ro, type: Resistor, value: ro, ports: {N1: X4, N2: X3}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\nname: aie, type: VoltageControlledVoltageSource, value: aie, ports: {Np: X3, Nn: X4}\nname: bio, type: VoltageControlledCurrentSource, value: bio, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit diagram (a) represents a shunt-shunt configuration or transresistance amplifier with negative feedback. It includes a current source at the input and a voltage output. The feedback network is designed to convert the output voltage back into a current for feedback.\n\nimage_name:(b)\ndescription:\n[\nname: Ri, type: Resistor, value: Ri, ports: {N1: X1, N2: X2}\nname: Aocii, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X3}\nname: Ro, type: Resistor, value: Ro, ports: {N1: X4, N2: X5}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit in Figure 7.16(b) is a simplified equivalent circuit of a transresistance amplifier with feedback. The input is a current source ii connected between nodes X1 and X2, and the output is a voltage across nodes X4 and X3. The transresistance amplifier is represented by a voltage-controlled voltage source Aocii with a series resistance Ro.\n\nFIGURE 7.16 The shunt-shunt configuration or transresistance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit."
},
{
    "text": "We now focus on the application of negative feedback around a current amplifier, which is the dual of a voltage amplifier. As depicted in Fig. 7.14a, the amplifier's output port is represented by a Norton equivalent comprising the dependent source $a i_{\\varepsilon}$ and the parallel output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with the input resistance $r_{i}$. The feedback network's role is to sense the output current $i_{o}$ and generate a scaled version of it, denoted as $i_{f}=b i_{o}$, which is then summed with the input current $i_{i}$ to produce the error signal $i_{\\varepsilon}=i_{i}-i_{f}$. The output current sensing is performed in series, akin to laboratory current measurements where an ammeter is inserted in series (recall that currents are always measured in series, whereas voltages are measured in parallel). Conversely, the input current summing is executed in parallel, or shunt, reflecting how current sources are connected to add or subtract their currents—never in series!\n\nimage_name:(a)\ndescription:\n[\nname: Ii, type: CurrentSource, value: Ii, ports: {Np: X1, Nn: X2}\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: aiε, type: VoltageControlledVoltageSource, ports: {Np: X3, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X3, N2: X4}\nname: biO, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit illustrates a shunt-series configuration or current amplifier with an error amplifier and an idealized feedback network. Current sources are paralleled for summing, while output current sensing is series-based.\n\nimage_name:(b) Equivalent circuit\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: X1, Nn: X2}\nname: R_i, type: Resistor, value: R_i, ports: {N1: X2, N2: X1}\nname: A_sci_i, type: CurrentControlledCurrentSource, value: A_sci_i, ports: {Np: X3, Nn: X2}\nname: R_o, type: Resistor, value: R_o, ports: {N1: X3, N2: X4}\nname: i_o, type: CurrentSource, value: i_o, ports: {Np: X4, Nn: X3}\n]\nextrainfo:The circuit diagram shows a shunt-series configuration or current amplifier, featuring an error amplifier and an idealized feedback network. Input current summing is parallel, while output current sensing is series-based. Negative feedback influences the open-loop parameters a, ri, and ro.\n\n(b)\n\nFIGURE 7.14 The shunt-series configuration or current amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n\nTo isolate the impact of negative feedback on the open-loop parameters $a, r_{i}$, and $r_{o}$, irrespective of surrounding circuit details, we assume no loading at both amplifier ports (loading effects in practical circuits will be discussed in the next section). Thus, to avoid input port loading, we assume the $i_{i}$ and $b i_{o}$ sources have infinite parallel resistance, allowing us to write $i_{\\varepsilon}=i_{i}-i_{f}$ (if these sources had finite resistances, input current division would occur). Similarly, to prevent output port loading, we assume a short-circuited output port and zero resistance from the feedback network, enabling us to write $i_{o}=a i_{\\varepsilon}$ (otherwise, output current division would occur). Referring to Fig. 7.14a, we observe by inspection that $i_{o}=a i_{\\varepsilon}=a(i_{i}-i_{f})=a(i_{i}-b i_{o})$. This leads to the familiar result\n\n$$\n\\begin{equation*}\nA_{s c}=\\frac{i_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.31}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, making $A_{s c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test current $i_{i}$ as in Fig. 7.15a, measure the resulting voltage $v_{i}$, and compute the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $v_{i}=r_{i} i_{\\varepsilon}$. From Eq. (7.10), $i_{\\varepsilon}=i_{i} /(1+L)$, so\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=\\frac{r_{i}}{1+L} \\tag{7.32}\n\\end{equation*}\n$$\n\nThis shows that negative feedback reduces the input resistance $r_{i}$, typically low in a well-designed current amplifier, by a factor of $(1+L)$, further decreasing input loading. Physically, without feedback, the entire test current $i_{i}$ flows through $r_{i}$, giving $v_{i}=r_{i} i_{i}$. With feedback, the current through $r_{i}$ reduces to the error current $i_{\\varepsilon}$, which is $(1+L)$ times smaller than $i_{i}$, reducing $v_{i}$ by $(1+L)$ and effectively dividing $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{i} \\rightarrow 0$ and $R_{i} \\rightarrow 0$, indicating that the input port of a sufficiently high-gain input-shunt amplifier behaves like a short circuit.\n\nNext, set $i_{i}=0$ and apply a test voltage $v_{o}$ to the output port as in Fig. 7.15b. Measure the resulting current $i_{o}$ and calculate the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. By KCL and Ohm's law,\n\n$$\ni_{o}=a i_{\\varepsilon}+v_{o} / r_{o}=a(-i_{f})+v_{o} / r_{o}=-a b i_{o}+v_{o} / r_{o}\n$$\n\nSimplifying, we get\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=r_{o}(1+L) \\tag{7.33}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback increases the output resistance $r_{o}$, typically high in a well-designed current amplifier, by a factor of $(1+L)$, reducing output loading. Physically, without feedback, $i_{o}=v_{o} / r_{o}$. With feedback, the amplifier adjusts its dependent source to drive $i_{\\varepsilon}$ near zero, making $i_{o} (=i_{f} / b=-i_{\\varepsilon} / b)$ $(1+L)$ times smaller, effectively increasing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{o} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$, indicating that the output port of a sufficiently high-gain output-series amplifier behaves like an open circuit.\n\nGiven these results, it is clear that the shunt-series configuration of Fig. 7.14a corresponds to the current-amplifier equivalent of Fig. 7.14b, with closed-loop parameters $A_{s c}, R_{i}$, and $R_{o}$ as per Eqs. (7.31) to (7.33). Note that what benefits a current amplifier ($R_{i} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$) is the opposite of what benefits a voltage amplifier ($R_{i} \\rightarrow \\infty$ and $R_{o} \\rightarrow 0$), illustrating the duality principle.\n\nimage_name:(a)\ndescription:\n[\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: ro, type: Resistor, value: ro, ports: {N1: X4, N2: X3}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\nname: aie, type: VoltageControlledVoltageSource, value: aie, ports: {Np: X3, Nn: X4}\nname: bio, type: VoltageControlledCurrentSource, value: bio, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit diagram (a) represents a shunt-shunt configuration or transresistance amplifier with negative feedback, featuring a current source at the input and a voltage output. The feedback network converts the output voltage back to a current.\n\nimage_name:(b)\ndescription:\n[\nname: Ri, type: Resistor, value: Ri, ports: {N1: X1, N2: X2}\nname: Aocii, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X3}\nname: Ro, type: Resistor, value: Ro, ports: {N1: X4, N2: X5}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit in Figure 7.16(b) is a simplified equivalent circuit of a transresistance amplifier with feedback. It includes a current source ii between nodes X1 and X2, and a voltage output across nodes X4 and X3. The transresistance amplifier is represented by a voltage-controlled voltage source Aocii with a series resistance Ro.\n\nFIGURE 7.16 The shunt-shunt configuration or transresistance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit."
},
{
    "text": "We now focus on the application of negative feedback around a current amplifier, which is the dual of a voltage amplifier. As depicted in Fig. 7.14a, the amplifier's output port is represented by a Norton equivalent comprising a dependent source $a i_{\\varepsilon}$ and a parallel output resistance $r_{o}$. The input port, assumed to be purely passive, is modeled with an input resistance $r_{i}$. The feedback network's role is to sense the output current $i_{o}$ and generate a scaled version of it, denoted as $i_{f}=b i_{o}$, which is then summed with the input current $i_{i}$ to produce the error signal $i_{\\varepsilon}=i_{i}-i_{f}$. The current sensing at the output port is done in series, akin to laboratory current measurements where an ammeter is inserted in series (recall that currents are always measured in series, whereas voltages are measured in parallel). Conversely, the current summing at the input is performed in parallel, or shunt, similar to how current sources are connected to add or subtract their currents—never in series!\n\nimage_name:(a)\ndescription:\n[\nname: Ii, type: CurrentSource, value: Ii, ports: {Np: X1, Nn: X2}\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: aiε, type: VoltageControlledVoltageSource, ports: {Np: X3, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X3, N2: X4}\nname: biO, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit illustrates a shunt-series configuration or current amplifier with an error amplifier and an idealized feedback network. Current sources are connected in parallel for summing, while current sensing occurs in series at the output.\n\nimage_name:(b) Equivalent circuit\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: X1, Nn: X2}\nname: R_i, type: Resistor, value: R_i, ports: {N1: X2, N2: X1}\nname: A_sci_i, type: CurrentControlledCurrentSource, value: A_sci_i, ports: {Np: X3, Nn: X2}\nname: R_o, type: Resistor, value: R_o, ports: {N1: X3, N2: X4}\nname: i_o, type: CurrentSource, value: i_o, ports: {Np: X4, Nn: X3}\n]\nextrainfo:The circuit diagram depicts a shunt-series configuration or current amplifier, featuring an error amplifier and an idealized feedback network. Input current summing is in parallel, while output current sensing is in series. Negative feedback affects the open-loop parameters a, ri, and ro.\n\n(b)\n\nFIGURE 7.14 The shunt-series configuration or current amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n\nTo isolate the impact of negative feedback on the open-loop parameters $a, r_{i}$, and $r_{o}$, regardless of the surrounding circuit details, we assume no loading at both ports of the amplifier (loading effects in practical circuits will be discussed in the next section). Thus, to avoid loading at the input port, we assume the $i_{i}$ and $b i_{o}$ sources have infinite parallel resistance, allowing us to write $i_{\\varepsilon}=i_{i}-i_{f}$ (if these sources had finite resistances, input current division would occur). Similarly, to prevent loading at the output port, we assume it is short-circuited, and the feedback network presents zero resistance, enabling us to write $i_{o}=a i_{\\varepsilon}$ (otherwise, output current division would occur). Referring to Fig. 7.14a, we observe by inspection that $i_{o}=a i_{\\varepsilon}=a(i_{i}-i_{f})=a(i_{i}-b i_{o})$. This leads to the familiar result\n\n$$\n\\begin{equation*}\nA_{s c}=\\frac{i_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.31}\n\\end{equation*}\n$$\n\nwhere $L=a b$. As known, negative feedback stabilizes gain, making $A_{s c} \\rightarrow 1 / b$ as $L \\rightarrow \\infty$.\n\nTo determine the effect on $r_{i}$, apply a test current $i_{i}$ as shown in Fig. 7.15a, measure the resulting voltage $v_{i}$, and calculate the closed-loop input resistance as $R_{i}=v_{i} / i_{i}$. Ohm's law gives $v_{i}=r_{i} i_{\\varepsilon}$. From Eq. (7.10), $i_{\\varepsilon}=i_{i} /(1+L)$, so\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{v_{i}}{i_{i}}=\\frac{r_{i}}{1+L} \\tag{7.32}\n\\end{equation*}\n$$\n\nThis shows that negative feedback reduces the input resistance $r_{i}$, which is already low in a well-designed current amplifier, by a factor of $(1+L)$, further lowering input loading. Physically, without feedback, the entire test current $i_{i}$ flows through $r_{i}$, giving $v_{i}=r_{i} i_{i}$. With feedback, the current through $r_{i}$ decreases to the error current $i_{\\varepsilon}$, which is $(1+L)$ times smaller than $i_{i}$, reducing $v_{i}$ by $(1+L)$ and thus $r_{i}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $v_{i} \\rightarrow 0$ and $R_{i} \\rightarrow 0$, indicating that the input port of a high-loop-gain input-shunt amplifier acts like a short circuit.\n\nNext, set $i_{i}=0$ and apply a test voltage $v_{o}$ to the output port as shown in Fig. 7.15b. Determine the resulting current $i_{o}$ and compute the closed-loop output resistance as $R_{o}=v_{o} / i_{o}$. Using KCL and Ohm's law,\n\n$$\ni_{o}=a i_{\\varepsilon}+v_{o} / r_{o}=a(-i_{f})+v_{o} / r_{o}=-a b i_{o}+v_{o} / r_{o}\n$$\n\nSimplifying, we get\n\n$$\n\\begin{equation*}\nR_{o}=\\frac{v_{o}}{i_{o}}=r_{o}(1+L) \\tag{7.33}\n\\end{equation*}\n$$\n\nThis indicates that negative feedback increases the output resistance $r_{o}$, which is typically high in a well-designed current amplifier, by a factor of $(1+L)$, reducing output loading. Physically, without feedback, $i_{o}=v_{o} / r_{o}$. With feedback, the amplifier adjusts its dependent source to drive $i_{\\varepsilon}$ near zero, making $i_{o}$ $(1+L)$ times smaller, effectively increasing $r_{o}$ by $(1+L)$. In the ideal limit $L \\rightarrow \\infty$, $i_{o} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$, indicating that the output port of a high-loop-gain output-series amplifier acts like an open circuit.\n\nThese results show that the shunt-series configuration of Fig. 7.14a corresponds to the current-amplifier equivalent of Fig. 7.14b, with closed-loop parameters $A_{s c}, R_{i}$, and $R_{o}$ as given in Eqs. (7.31) to (7.33). Note that the optimal parameters for a current amplifier ($R_{i} \\rightarrow 0$ and $R_{o} \\rightarrow \\infty$) are the opposite of those for a voltage amplifier ($R_{i} \\rightarrow \\infty$ and $R_{o} \\rightarrow 0$), illustrating the duality principle.\n\nimage_name:(a)\ndescription:\n[\nname: ri, type: Resistor, value: ri, ports: {N1: X1, N2: X2}\nname: ro, type: Resistor, value: ro, ports: {N1: X4, N2: X3}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\nname: aie, type: VoltageControlledVoltageSource, value: aie, ports: {Np: X3, Nn: X4}\nname: bio, type: VoltageControlledCurrentSource, value: bio, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit diagram (a) represents a shunt-shunt configuration or transresistance amplifier with negative feedback. It includes a current source at the input and a voltage output. The feedback network converts the output voltage back into a current for feedback.\n\nimage_name:(b)\ndescription:\n[\nname: Ri, type: Resistor, value: Ri, ports: {N1: X1, N2: X2}\nname: Aocii, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X3}\nname: Ro, type: Resistor, value: Ro, ports: {N1: X4, N2: X5}\nname: ii, type: CurrentSource, ports: {Np: X1, Nn: X2}\n]\nextrainfo:The circuit in Figure 7.16(b) is a simplified equivalent circuit of a transresistance amplifier with feedback. The input is a current source ii connected between nodes X1 and X2, and the output is a voltage across nodes X4 and X3. The transresistance amplifier is represented by a voltage-controlled voltage source Aocii with a series resistance Ro.\n\nFIGURE 7.16 The shunt-shunt configuration or transresistance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit."
},
{
    "text": "Figure $7.16 a$ illustrates the application of negative feedback around a transresistance amplifier. The input signal is a current, hence input current summing is performed in a shunt configuration, similar to the current amplifier depicted in Fig. 7.14a. Conversely, the output signal is a voltage, so the amplifier's output port is represented by the Thévenin source $a i_{\\varepsilon}$, and output voltage sensing is also done in a shunt manner, akin to the voltage amplifier shown in Fig. 7.12a. Consequently, the transresistance amplifier is classified as a shunt-shunt type.\n\nTo determine the closed-loop gain $A_{o c}$, we express $v_{o}=a i_{\\varepsilon}=a\\left(i_{i}-i_{f}\\right)=a\\left(i_{i}-b v_{o}\\right)$. Simplifying this yields the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.34}\n\\end{equation*}\n$$\n\nwhere $L=a b$. For calculating the closed-loop resistances $R_{i}$ and $R_{o}$, we employ the test-signal techniques previously used. Given that the input port resembles the shunt-series configuration and the output port resembles the series-shunt configuration, we reuse the results derived for Figs. 7.15a and 7.13b, and state\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{r_{i}}{1+L} \\quad R_{o}=\\frac{r_{o}}{1+L} \\tag{7.35}\n\\end{equation*}\n$$\n\nAs $L$ approaches infinity, the shunt-shunt configuration results in $A_{o c} \\rightarrow 1 / b$, $R_{i} \\rightarrow 0$, and $R_{o} \\rightarrow 0$."
},
{
    "text": "Figure $7.16 a$ illustrates the implementation of negative feedback around a transresistance amplifier. The input signal is a current, leading to input current summing being performed in a shunt configuration, akin to the current amplifier depicted in Fig. 7.14a. Conversely, the output signal is a voltage, so the amplifier's output port is represented by the Thévenin source $a i_{\\varepsilon}$, with output voltage sensing also conducted in a shunt manner, similar to the voltage amplifier in Fig. 7.12a. Consequently, the transresistance amplifier is classified as a shunt-shunt type.\n\nTo determine the closed-loop gain $A_{o c}$, we express $v_{o}=a i_{\\varepsilon}=a\\left(i_{i}-i_{f}\\right)=a\\left(i_{i}-b v_{o}\\right)$. Simplifying this yields the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.34}\n\\end{equation*}\n$$\n\nwhere $L=a b$. For calculating the closed-loop resistances $R_{i}$ and $R_{o}$, we employ the test-signal methods previously used. Given that the input port resembles the shunt-series configuration and the output port resembles the series-shunt configuration, we reuse the findings associated with Figs. 7.15a and 7.13b, and state\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{r_{i}}{1+L} \\quad R_{o}=\\frac{r_{o}}{1+L} \\tag{7.35}\n\\end{equation*}\n$$\n\nAs $L$ approaches infinity, the shunt-shunt configuration results in $A_{o c} \\rightarrow 1 / b$, $R_{i} \\rightarrow 0$, and $R_{o} \\rightarrow 0$."
},
{
    "text": "Figure $7.16 a$ illustrates the application of negative feedback around a transresistance amplifier. The input signal, being a current, undergoes input current summing in a shunt configuration, similar to the current amplifier depicted in Fig. 7.14a. Conversely, the output signal is a voltage, thus the amplifier's output port is represented by the Thévenin source $a i_{\\varepsilon}$, and output voltage sensing is also performed in a shunt manner, akin to the voltage amplifier shown in Fig. 7.12a. Consequently, the transresistance amplifier is classified as a shunt-shunt type.\n\nTo determine the closed-loop gain $A_{o c}$, we express $v_{o}=a i_{\\varepsilon}=a\\left(i_{i}-i_{f}\\right)=a\\left(i_{i}-b v_{o}\\right)$. Simplifying this yields the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.34}\n\\end{equation*}\n$$\n\nwhere $L=a b$. For calculating the closed-loop resistances $R_{i}$ and $R_{o}$, we employ the test-signal techniques previously discussed. Given that the input port resembles the shunt-series configuration and the output port resembles the series-shunt configuration, we reuse the findings associated with Figs. 7.15a and 7.13b, and state\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{r_{i}}{1+L} \\quad R_{o}=\\frac{r_{o}}{1+L} \\tag{7.35}\n\\end{equation*}\n$$\n\nAs $L$ approaches infinity, the shunt-shunt configuration results in $A_{o c} \\rightarrow 1 / b, R_{i} \\rightarrow 0$, and $R_{o} \\rightarrow 0$."
},
{
    "text": "Figure $7.16 a$ illustrates the implementation of negative feedback around a transresistance amplifier. The input signal, being a current, undergoes input current summing in a shunt configuration, akin to the current amplifier depicted in Fig. 7.14a. Conversely, the output signal is a voltage, so the amplifier's output port is represented by the Thévenin source $a i_{\\varepsilon}$, with output voltage sensing also performed in a shunt manner, similar to the voltage amplifier in Fig. 7.12a. Consequently, the transresistance amplifier is classified as a shunt-shunt type.\n\nTo determine the closed-loop gain $A_{o c}$, we express $v_{o}=a i_{\\varepsilon}=a\\left(i_{i}-i_{f}\\right)=a\\left(i_{i}-b v_{o}\\right)$. This leads to the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.34}\n\\end{equation*}\n$$\n\nwhere $L=a b$. For calculating the closed-loop resistances $R_{i}$ and $R_{o}$, we employ the test-signal methods previously discussed. Given that the input port resembles the shunt-series configuration and the output port resembles the series-shunt configuration, we reuse the findings associated with Figs. 7.15a and 7.13b, and state\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{r_{i}}{1+L} \\quad R_{o}=\\frac{r_{o}}{1+L} \\tag{7.35}\n\\end{equation*}\n$$\n\nAs $L$ approaches infinity, the shunt-shunt configuration results in $A_{o c} \\rightarrow 1 / b$, $R_{i} \\rightarrow 0$, and $R_{o} \\rightarrow 0$."
},
{
    "text": "Figure $7.16 a$ illustrates the implementation of negative feedback around a transresistance amplifier. The input signal, being a current, undergoes input current summing in a shunt configuration, akin to the current amplifier depicted in Fig. 7.14a. Conversely, the output signal is a voltage, so the amplifier's output port is represented by the Thévenin source $a i_{\\varepsilon}$, with output voltage sensing also performed in a shunt manner, similar to the voltage amplifier in Fig. 7.12a. Consequently, the transresistance amplifier is classified as a shunt-shunt type.\n\nTo determine the closed-loop gain $A_{o c}$, we express $v_{o}=a i_{\\varepsilon}=a\\left(i_{i}-i_{f}\\right)=a\\left(i_{i}-b v_{o}\\right)$. Rearranging terms yields the well-known formula\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.34}\n\\end{equation*}\n$$\n\nwhere $L=a b$. For calculating the closed-loop resistances $R_{i}$ and $R_{o}$, we employ the test-signal methods previously discussed. Given that the input port resembles the shunt-series configuration and the output port resembles the series-shunt configuration, we reuse the results derived for Figs. 7.15a and 7.13b, and state\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{r_{i}}{1+L} \\quad R_{o}=\\frac{r_{o}}{1+L} \\tag{7.35}\n\\end{equation*}\n$$\n\nAs $L$ approaches infinity, the shunt-shunt configuration results in $A_{o c} \\rightarrow 1 / b$, $R_{i} \\rightarrow 0$, and $R_{o} \\rightarrow 0$."
},
{
    "text": "Figure $7.16 a$ illustrates the implementation of negative feedback around a transresistance amplifier. The input signal, being a current, undergoes input current summation in a shunt configuration, similar to the current amplifier depicted in Fig. 7.14a. Conversely, the output signal is a voltage, thus the amplifier's output port is represented by the Thévenin source $a i_{\\varepsilon}$, and output voltage sensing is also performed in a shunt manner, akin to the voltage amplifier in Fig. 7.12a. Consequently, the transresistance amplifier is classified as a shunt-shunt type.\n\nTo determine the closed-loop gain $A_{o c}$, we express $v_{o}=a i_{\\varepsilon}=a\\left(i_{i}-i_{f}\\right)=a\\left(i_{i}-b v_{o}\\right)$. Upon simplification, we obtain the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.34}\n\\end{equation*}\n$$\n\nwhere $L=a b$. For calculating the closed-loop resistances $R_{i}$ and $R_{o}$, we employ the test-signal methods previously discussed. Given that the input port resembles the shunt-series configuration and the output port resembles the series-shunt configuration, we reuse the findings related to Figs. 7.15a and 7.13b, and state\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{r_{i}}{1+L} \\quad R_{o}=\\frac{r_{o}}{1+L} \\tag{7.35}\n\\end{equation*}\n$$\n\nAs $L$ approaches infinity, the shunt-shunt configuration results in $A_{o c} \\rightarrow 1 / b$, $R_{i} \\rightarrow 0$, and $R_{o} \\rightarrow 0$."
},
{
    "text": "Figure $7.16 a$ illustrates the implementation of negative feedback around a transresistance amplifier. The input signal is a current, thus input current summing is performed in a shunt configuration, similar to the current amplifier depicted in Fig. 7.14a. Conversely, the output signal is a voltage, so the amplifier's output port is represented by the Thévenin source $a i_{\\varepsilon}$, and output voltage sensing is also conducted in a shunt configuration, akin to the voltage amplifier shown in Fig. 7.12a. Consequently, the transresistance amplifier is classified as a shunt-shunt type.\n\nTo determine the closed-loop gain $A_{o c}$, we express $v_{o}=a i_{\\varepsilon}=a\\left(i_{i}-i_{f}\\right)=a\\left(i_{i}-b v_{o}\\right)$. Upon simplification, we obtain the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.34}\n\\end{equation*}\n$$\n\nwhere $L=a b$. For calculating the closed-loop resistances $R_{i}$ and $R_{o}$, we employ the test-signal methods previously discussed. Given that the input port resembles the shunt-series configuration and the output port resembles the series-shunt configuration, we reuse the findings associated with Figs. 7.15a and 7.13b, and state\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{r_{i}}{1+L} \\quad R_{o}=\\frac{r_{o}}{1+L} \\tag{7.35}\n\\end{equation*}\n$$\n\nAs $L$ approaches infinity, the shunt-shunt configuration results in $A_{o c} \\rightarrow 1 / b, R_{i} \\rightarrow 0$, and $R_{o} \\rightarrow 0$."
},
{
    "text": "Figure $7.16 a$ illustrates the implementation of negative feedback around a transresistance amplifier. The input signal is a current, thus input current summation is performed in a shunt configuration, akin to the current amplifier depicted in Fig. 7.14a. Conversely, the output signal is a voltage, so the amplifier's output port is represented by the Thévenin source $a i_{\\varepsilon}$, and output voltage sensing is also done in a shunt manner, similar to the voltage amplifier shown in Fig. 7.12a. Consequently, the transresistance amplifier is classified as a shunt-shunt type.\n\nTo determine the closed-loop gain $A_{o c}$, we express $v_{o}=a i_{\\varepsilon}=a\\left(i_{i}-i_{f}\\right)=a\\left(i_{i}-b v_{o}\\right)$. Upon simplification, we obtain the well-known result\n\n$$\n\\begin{equation*}\nA_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L} \\tag{7.34}\n\\end{equation*}\n$$\n\nwhere $L=a b$. For calculating the closed-loop resistances $R_{i}$ and $R_{o}$, we employ the test-signal methods previously used. Given that the input port resembles the shunt-series configuration and the output port resembles the series-shunt configuration, we reuse the findings associated with Figs. 7.15a and 7.13b, and state\n\n$$\n\\begin{equation*}\nR_{i}=\\frac{r_{i}}{1+L} \\quad R_{o}=\\frac{r_{o}}{1+L} \\tag{7.35}\n\\end{equation*}\n$$\n\nAs $L$ approaches infinity, the shunt-shunt configuration results in $A_{o c} \\rightarrow 1 / b$, $R_{i} \\rightarrow 0$, and $R_{o} \\rightarrow 0$."
},
{
    "text": "Figure $7.17a$ illustrates the implementation of negative feedback around a transconductance amplifier. The input signal, being a voltage, undergoes input voltage summing in series, akin to the voltage amplifier depicted in Fig. 7.12a. In contrast, the output signal is a current, leading to the modeling of the amplifier's output port with a Norton source.\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: X2, Nn: X1}\nname: ri, type: Resistor, value: ri, ports: {N1: X2, N2: X3}\nname: avε, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X5, N2: X4}\nname: bio, type: VoltageControlledCurrentSource, ports: {Np: X3, Nn: X1}\n]\nextrainfo:The circuit is a series-series configuration transconductance amplifier with negative feedback. The input is a voltage (Vi) and the output is a current (io). The feedback network comprises a voltage-controlled current source and resistors.\nimage_name:(b)\ndescription:\n[\n'name': 'Vi', 'type': 'VoltageSource', 'ports': {'Np': 'X2', 'Nn': 'X1'\n'name': 'Ri', 'type': 'Resistor', 'value': 'Ri', 'ports': {'N1': 'X2', 'N2': 'X1'\n'name': 'A_scVi', 'type': 'VoltageControlledVoltageSource', 'ports': {'Np': 'X3', 'Nn': 'X4'\n'name': 'Ro', 'type': 'Resistor', 'value': 'Ro', 'ports': {'N1': 'X4', 'N2': 'X3'\n]\nextrainfo:The circuit represents a series-series configuration of a transconductance amplifier with feedback. The input voltage is applied across nodes X1 and X2, and the output current is sensed across Ro.\n\nFIGURE 7.17 The series-series configuration or transconductance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n$a v_{\\varepsilon}$, and output current sensing is conducted in series, similar to the current amplifier shown in Fig. 7.14a. Consequently, the transconductance amplifier is classified as a series-series type, which is the dual of the shunt-shunt amplifier.\n\nTo determine the closed-loop parameters, we follow the standard procedure, deriving\n\n$$\n\\begin{gather*}\nA_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L}  \\tag{7.36}\\\\\nR_{i}=r_{i}(1+L) \\quad R_{o}=r_{o}(1+L)\n\\end{gather*}\n$$\n\nwhere $L=a b$. As $L$ approaches infinity, the series-series configuration results in $A_{s c} \\rightarrow 1 / b$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Figure $7.17 a$ illustrates the application of negative feedback around a transconductance amplifier. The input signal, being a voltage, undergoes series voltage summing, similar to the voltage amplifier depicted in Fig. 7.12a. In contrast, the output signal is a current, hence the amplifier's output port is represented by a Norton source\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: X2, Nn: X1}\nname: ri, type: Resistor, value: ri, ports: {N1: X2, N2: X3}\nname: avε, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X5, N2: X4}\nname: bio, type: VoltageControlledCurrentSource, ports: {Np: X3, Nn: X1}\n]\nextrainfo:The circuit is configured as a series-series transconductance amplifier with negative feedback. The input is a voltage (Vi) and the output is a current (io). The feedback network comprises a voltage-controlled current source and resistors.\nimage_name:(b)\ndescription:\n[\n'name': 'Vi', 'type': 'VoltageSource', 'ports': {'Np': 'X2', 'Nn': 'X1'\n'name': 'Ri', 'type': 'Resistor', 'value': 'Ri', 'ports': {'N1': 'X2', 'N2': 'X1'\n'name': 'A_scVi', 'type': 'VoltageControlledVoltageSource', 'ports': {'Np': 'X3', 'Nn': 'X4'\n'name': 'Ro', 'type': 'Resistor', 'value': 'Ro', 'ports': {'N1': 'X4', 'N2': 'X3'\n]\nextrainfo:The circuit represents a series-series configuration of a transconductance amplifier with feedback. The input voltage is applied across nodes X1 and X2, and the output current is sensed across Ro.\n\nFIGURE 7.17 The series-series configuration of a transconductance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n$a v_{\\varepsilon}$, and output current sensing is performed in series, akin to the current amplifier in Fig. 7.14a. Thus, the transconductance amplifier is of the series-series type, the counterpart to the shunt-shunt amplifier.\n\nTo determine the closed-loop parameters, we follow the standard procedure, deriving\n\n$$\n\\begin{gather*}\nA_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L}  \\tag{7.36}\\\\\nR_{i}=r_{i}(1+L) \\quad R_{o}=r_{o}(1+L)\n\\end{gather*}\n$$\n\nwhere $L=a b$. As $L$ approaches infinity, the series-series configuration results in $A_{s c} \\rightarrow 1 / b$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Figure $7.17a$ illustrates the implementation of negative feedback around a transconductance amplifier. The input signal is a voltage, leading to input voltage summation in series, similar to the voltage amplifier depicted in Fig. 7.12a. In contrast, the output signal is a current, so the amplifier's output port is represented by a Norton source.\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: X2, Nn: X1}\nname: ri, type: Resistor, value: ri, ports: {N1: X2, N2: X3}\nname: avε, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X5, N2: X4}\nname: bio, type: VoltageControlledCurrentSource, ports: {Np: X3, Nn: X1}\n]\nextrainfo:This circuit is a series-series configuration transconductance amplifier with negative feedback. The input is a voltage (Vi) and the output is a current (io). The feedback network comprises a voltage-controlled current source and resistors.\nimage_name:(b)\ndescription:\n[\n'name': 'Vi', 'type': 'VoltageSource', 'ports': {'Np': 'X2', 'Nn': 'X1'\n'name': 'Ri', 'type': 'Resistor', 'value': 'Ri', 'ports': {'N1': 'X2', 'N2': 'X1'\n'name': 'A_scVi', 'type': 'VoltageControlledVoltageSource', 'ports': {'Np': 'X3', 'Nn': 'X4'\n'name': 'Ro', 'type': 'Resistor', 'value': 'Ro', 'ports': {'N1': 'X4', 'N2': 'X3'\n]\nextrainfo:This circuit depicts a series-series configuration of a transconductance amplifier with feedback. The input voltage is applied across nodes X1 and X2, and the output current is measured across Ro.\n\nFIGURE 7.17 The series-series configuration of a transconductance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n$a v_{\\varepsilon}$, and output current sensing is performed in series, akin to the current amplifier in Fig. 7.14a. Thus, the transconductance amplifier is of the series-series type, the counterpart to the shunt-shunt amplifier.\n\nTo determine the closed-loop parameters, we follow the standard procedure, deriving\n\n$$\n\\begin{gather*}\nA_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L}  \\tag{7.36}\\\\\nR_{i}=r_{i}(1+L) \\quad R_{o}=r_{o}(1+L)\n\\end{gather*}\n$$\n\nwhere $L=a b$. As $L$ approaches infinity, the series-series configuration results in $A_{s c} \\rightarrow 1 / b$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Figure $7.17 a$ illustrates the implementation of negative feedback around a transconductance amplifier. The input signal, being a voltage, undergoes input voltage summing in a series configuration, akin to the voltage amplifier depicted in Fig. 7.12a. In contrast, the output signal is a current, thus the amplifier's output port is represented by a Norton source\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: X2, Nn: X1}\nname: ri, type: Resistor, value: ri, ports: {N1: X2, N2: X3}\nname: avε, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X5, N2: X4}\nname: bio, type: VoltageControlledCurrentSource, ports: {Np: X3, Nn: X1}\n]\nextrainfo:This circuit is a series-series configuration transconductance amplifier with negative feedback. The input is a voltage (Vi) and the output is a current (io). The feedback network comprises a voltage-controlled current source and resistors.\nimage_name:(b)\ndescription:\n[\n'name': 'Vi', 'type': 'VoltageSource', 'ports': {'Np': 'X2', 'Nn': 'X1'\n'name': 'Ri', 'type': 'Resistor', 'value': 'Ri', 'ports': {'N1': 'X2', 'N2': 'X1'\n'name': 'A_scVi', 'type': 'VoltageControlledVoltageSource', 'ports': {'Np': 'X3', 'Nn': 'X4'\n'name': 'Ro', 'type': 'Resistor', 'value': 'Ro', 'ports': {'N1': 'X4', 'N2': 'X3'\n]\nextrainfo:This circuit depicts a series-series configuration of a transconductance amplifier with feedback. The input voltage is applied across nodes X1 and X2, and the output current is measured across Ro.\n\nFIGURE 7.17 The series-series configuration of a transconductance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n$a v_{\\varepsilon}$, and output current sensing is performed in a series manner, similar to the current amplifier in Fig. 7.14a. Consequently, the transconductance amplifier is classified as a series-series type, which is the dual of the shunt-shunt amplifier.\n\nTo determine the closed-loop parameters, we follow the standard procedure, deriving\n\n$$\n\\begin{gather*}\nA_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L}  \\tag{7.36}\\\\\nR_{i}=r_{i}(1+L) \\quad R_{o}=r_{o}(1+L)\n\\end{gather*}\n$$\n\nwhere $L=a b$. As $L$ approaches infinity, the series-series configuration results in $A_{s c} \\rightarrow 1 / b$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Figure $7.17 a$ illustrates the implementation of negative feedback around a transconductance amplifier. The input signal, being a voltage, undergoes input voltage summing in a series manner, similar to the voltage amplifier depicted in Fig. 7.12a. In contrast, the output signal is a current, thus the amplifier's output port is represented by a Norton source\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: X2, Nn: X1}\nname: ri, type: Resistor, value: ri, ports: {N1: X2, N2: X3}\nname: avε, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X5, N2: X4}\nname: bio, type: VoltageControlledCurrentSource, ports: {Np: X3, Nn: X1}\n]\nextrainfo:The circuit is a series-series configuration transconductance amplifier with negative feedback. The input is a voltage (Vi) and the output is a current (io). The feedback network comprises a voltage-controlled current source and resistors.\nimage_name:(b)\ndescription:\n[\n'name': 'Vi', 'type': 'VoltageSource', 'ports': {'Np': 'X2', 'Nn': 'X1'\n'name': 'Ri', 'type': 'Resistor', 'value': 'Ri', 'ports': {'N1': 'X2', 'N2': 'X1'\n'name': 'A_scVi', 'type': 'VoltageControlledVoltageSource', 'ports': {'Np': 'X3', 'Nn': 'X4'\n'name': 'Ro', 'type': 'Resistor', 'value': 'Ro', 'ports': {'N1': 'X4', 'N2': 'X3'\n]\nextrainfo:The circuit depicts a series-series configuration of a transconductance amplifier with feedback. The input voltage is applied across nodes X1 and X2, and the output current is measured across Ro.\n\nFIGURE 7.17 The series-series configuration of a transconductance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n$a v_{\\varepsilon}$, and output current sensing is performed in series, akin to the current amplifier in Fig. 7.14a. Therefore, the transconductance amplifier is of the series-series type, which is the dual of the shunt-shunt amplifier.\n\nTo determine the closed-loop parameters, we follow the standard procedure, deriving\n\n$$\n\\begin{gather*}\nA_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L}  \\tag{7.36}\\\\\nR_{i}=r_{i}(1+L) \\quad R_{o}=r_{o}(1+L)\n\\end{gather*}\n$$\n\nwhere $L=a b$. As $L$ approaches infinity, the series-series configuration results in $A_{s c} \\rightarrow 1 / b$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Figure $7.17 a$ illustrates the application of negative feedback around a transconductance amplifier. The input signal is a voltage, hence input voltage summing occurs in series, similar to the voltage amplifier in Fig. 7.12a. In contrast, the output signal is a current, so the amplifier's output port is represented by a Norton source.\n\n**Image Description (a):**\n- **Components:**\n  - **Vi:** VoltageSource, ports: {Np: X2, Nn: X1}\n  - **ri:** Resistor, value: ri, ports: {N1: X2, N2: X3}\n  - **avε:** VoltageControlledVoltageSource, ports: {Np: X5, Nn: X4}\n  - **ro:** Resistor, value: ro, ports: {N1: X5, N2: X4}\n  - **bio:** VoltageControlledCurrentSource, ports: {Np: X3, Nn: X1}\n- **Extra Info:** This circuit is a series-series configuration transconductance amplifier with negative feedback. The input is a voltage (Vi) and the output is a current (io). The feedback network comprises a voltage-controlled current source and resistors.\n\n**Image Description (b):**\n- **Components:**\n  - **Vi:** VoltageSource, ports: {Np: X2, Nn: X1}\n  - **Ri:** Resistor, value: Ri, ports: {N1: X2, N2: X1}\n  - **A_scVi:** VoltageControlledVoltageSource, ports: {Np: X3, Nn: X4}\n  - **Ro:** Resistor, value: Ro, ports: {N1: X4, N2: X3}\n- **Extra Info:** This circuit depicts a series-series configuration of a transconductance amplifier with feedback. The input voltage is applied across nodes X1 and X2, and the output current is measured across Ro.\n\n**FIGURE 7.17:** The series-series configuration of a transconductance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\nThe transconductance amplifier is thus of the series-series type, the dual of the shunt-shunt amplifier, with $a v_{\\varepsilon}$ and output current sensing done in series, akin to the current amplifier in Fig. 7.14a.\n\nTo determine the closed-loop parameters, we follow the standard procedure, deriving:\n\n$$\n\\begin{gather*}\nA_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L}  \\tag{7.36}\\\\\nR_{i}=r_{i}(1+L) \\quad R_{o}=r_{o}(1+L)\n\\end{gather*}\n$$\n\nwhere $L=a b$. As $L$ approaches infinity, the series-series configuration results in $A_{s c} \\rightarrow 1 / b$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Figure $7.17 a$ illustrates the implementation of negative feedback around a transconductance amplifier. The input signal, being a voltage, undergoes input voltage summing in series, similar to the voltage amplifier depicted in Fig. 7.12a. In contrast, the output signal is a current, hence the amplifier's output port is represented by a Norton source.\n\n**Image Description (a):**\n- **Components:**\n  - **Vi:** VoltageSource, connected to ports X2 (Np) and X1 (Nn).\n  - **ri:** Resistor, value ri, connected to ports X2 (N1) and X3 (N2).\n  - **avε:** VoltageControlledVoltageSource, connected to ports X5 (Np) and X4 (Nn).\n  - **ro:** Resistor, value ro, connected to ports X5 (N1) and X4 (N2).\n  - **bio:** VoltageControlledCurrentSource, connected to ports X3 (Np) and X1 (Nn).\n\n**Additional Information:**\nThe circuit is configured as a series-series transconductance amplifier with negative feedback. The input is a voltage (Vi) and the output is a current (io). The feedback network comprises a voltage-controlled current source and resistors.\n\n**Image Description (b):**\n- **Components:**\n  - **Vi:** VoltageSource, connected to ports X2 (Np) and X1 (Nn).\n  - **Ri:** Resistor, value Ri, connected to ports X2 (N1) and X1 (N2).\n  - **A_scVi:** VoltageControlledVoltageSource, connected to ports X3 (Np) and X4 (Nn).\n  - **Ro:** Resistor, value Ro, connected to ports X4 (N1) and X3 (N2).\n\n**Additional Information:**\nThis circuit represents a series-series configuration of a transconductance amplifier with feedback. The input voltage is applied across nodes X1 and X2, and the output current is sensed across Ro.\n\n**FIGURE 7.17:**\nThe series-series configuration of a transconductance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n$a v_{\\varepsilon}$, and output current sensing is performed in series, akin to the current amplifier in Fig. 7.14a. Consequently, the transconductance amplifier is of the series-series type, the dual counterpart to the shunt-shunt amplifier.\n\nTo determine the closed-loop parameters, we follow the standard procedure, deriving:\n\n$$\n\\begin{gather*}\nA_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L}  \\tag{7.36}\\\\\nR_{i}=r_{i}(1+L) \\quad R_{o}=r_{o}(1+L)\n\\end{gather*}\n$$\n\nwhere $L=a b$. As $L$ approaches infinity, the series-series configuration results in $A_{s c} \\rightarrow 1 / b$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Figure $7.17 a$ illustrates the implementation of negative feedback around a transconductance amplifier. The input signal is a voltage, hence input voltage summation is performed in series, akin to the voltage amplifier depicted in Fig. 7.12a. In contrast, the output signal is a current, so the amplifier's output port is represented by a Norton source.\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: X2, Nn: X1}\nname: ri, type: Resistor, value: ri, ports: {N1: X2, N2: X3}\nname: avε, type: VoltageControlledVoltageSource, ports: {Np: X5, Nn: X4}\nname: ro, type: Resistor, value: ro, ports: {N1: X5, N2: X4}\nname: bio, type: VoltageControlledCurrentSource, ports: {Np: X3, Nn: X1}\n]\nextrainfo:This circuit is a series-series configuration transconductance amplifier with negative feedback. The input is a voltage (Vi) and the output is a current (io). The feedback network comprises a voltage-controlled current source and resistors.\nimage_name:(b)\ndescription:\n[\n'name': 'Vi', 'type': 'VoltageSource', 'ports': {'Np': 'X2', 'Nn': 'X1'\n'name': 'Ri', 'type': 'Resistor', 'value': 'Ri', 'ports': {'N1': 'X2', 'N2': 'X1'\n'name': 'A_scVi', 'type': 'VoltageControlledVoltageSource', 'ports': {'Np': 'X3', 'Nn': 'X4'\n'name': 'Ro', 'type': 'Resistor', 'value': 'Ro', 'ports': {'N1': 'X4', 'N2': 'X3'\n]\nextrainfo:This circuit depicts a series-series configuration of a transconductance amplifier with feedback. The input voltage is applied across nodes X1 and X2, and the output current is measured across Ro.\n\nFIGURE 7.17 The series-series configuration of a transconductance amplifier: (a) error amplifier (top) and idealized feedback network (bottom). (b) Equivalent circuit.\n$a v_{\\varepsilon}$, and output current sensing is conducted in series, similar to the current amplifier in Fig. 7.14a. Therefore, the transconductance amplifier is of the series-series type, the counterpart to the shunt-shunt amplifier.\n\nTo determine the closed-loop parameters, we follow the standard procedure, deriving\n\n$$\n\\begin{gather*}\nA_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{b} \\frac{1}{1+1 / L}  \\tag{7.36}\\\\\nR_{i}=r_{i}(1+L) \\quad R_{o}=r_{o}(1+L)\n\\end{gather*}\n$$\n\nwhere $L=a b$. As $L$ approaches infinity, the series-series configuration results in $A_{s c} \\rightarrow 1 / b$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Based on the preceding results, we can assert that the closed-loop gain $A$ for each of the four negative-feedback configurations can be formulated as\n\n$$\n\\begin{equation*}\nA=A_{\\text {ideal }} \\frac{1}{1+1 / L} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$ represents the closed-loop gain as $L$ approaches infinity, $L=a b$ denotes the loop gain, $a$ is the open-loop gain, and $b$ is the feedback factor. Additionally, the closed-loop terminal resistances $R_{i / o}$ can be expressed in relation to the open-loop resistances $r_{i / o}$ as\n\n$$\n\\begin{equation*}\nR_{i / o}=r_{i / o}(1+L)^{ \\pm 1} \\tag{7.39}\n\\end{equation*}\n$$\n\nwith +1 for series configurations and -1 for shunt configurations. Table 7.1 provides a summary of the four negative-feedback topologies, including the terminal resistances in the idealized limit as $L$ approaches infinity.\n\nTABLE 7.1 Summary of the four feedback topologies and their idealized closed-loop terminal resistances.\n\n| $\\boldsymbol{s}_{\\boldsymbol{i}}$ | $\\boldsymbol{s}_{\\boldsymbol{o}}$ | Name | $\\boldsymbol{a}$ | $\\boldsymbol{b}$ | Topology | $\\boldsymbol{R}_{\\boldsymbol{i} \\text { (ideal) }}$ | $\\boldsymbol{R}_{\\boldsymbol{o} \\text { (ideal) }}$ |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| $v_{i}$ | $v_{o}$ | Voltage amp | V/V | V/V | Series-shunt | $\\infty$ | 0 |\n| $i_{i}$ | $i_{o}$ | Current amp | A/A | A/A | Shunt-series | 0 | $\\infty$ |\n| $i_{i}$ | $v_{o}$ | Transresistance amp | V/A | A/V | Shunt-shunt | 0 | 0 |\n| $v_{i}$ | $i_{o}$ | Transconductance amp | A/V | V/A | Series-series | $\\infty$ | $\\infty$ |"
},
{
    "text": "Based on the aforementioned findings, we can assert that the closed-loop gain $A$ for each of the four negative-feedback configurations can be formulated as follows:\n\n$$\n\\begin{equation*}\nA=A_{\\text {ideal }} \\frac{1}{1+1 / L} \\tag{7.38}\n\\end{equation*}\n$$\n\nHere, $A_{\\text {ideal }}=1 / b$ represents the closed-loop gain when $L \\rightarrow \\infty$, where $L=a b$ is the loop gain, $a$ is the open-loop gain, and $b$ is the feedback factor. Additionally, the closed-loop terminal resistances $R_{i / o}$ can be described in relation to the open-loop resistances $r_{i / o}$ by the expression\n\n$$\n\\begin{equation*}\nR_{i / o}=r_{i / o}(1+L)^{ \\pm 1} \\tag{7.39}\n\\end{equation*}\n$$\n\nwith +1 applicable to series cases and -1 to shunt cases. Table 7.1 provides an overview of the four negative-feedback topologies and their idealized terminal resistances in the limit $L \\rightarrow \\infty$.\n\nTABLE 7.1 Summary of the four feedback topologies and their idealized closed-loop terminal resistances.\n\n| $\\boldsymbol{s}_{\\boldsymbol{i}}$ | $\\boldsymbol{s}_{\\boldsymbol{o}}$ | Name | $\\boldsymbol{a}$ | $\\boldsymbol{b}$ | Topology | $\\boldsymbol{R}_{\\boldsymbol{i} \\text { (ideal) }}$ | $\\boldsymbol{R}_{\\boldsymbol{o} \\text { (ideal) }}$ |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| $v_{i}$ | $v_{o}$ | Voltage amp | V/V | V/V | Series-shunt | $\\infty$ | 0 |\n| $i_{i}$ | $i_{o}$ | Current amp | A/A | A/A | Shunt-series | 0 | $\\infty$ |\n| $i_{i}$ | $v_{o}$ | Transresistance amp | V/A | A/V | Shunt-shunt | 0 | 0 |\n| $v_{i}$ | $i_{o}$ | Transconductance amp | A/V | V/A | Series-series | $\\infty$ | $\\infty$ |"
},
{
    "text": "Based on the aforementioned results, we can assert that the closed-loop gain $A$ for each of the four negative-feedback configurations can be represented as\n\n$$\n\\begin{equation*}\nA=A_{\\text {ideal }} \\frac{1}{1+1 / L} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$ denotes the closed-loop gain as $L$ approaches infinity, $L=a b$ represents the loop gain, $a$ is the open-loop gain, and $b$ is the feedback factor. Additionally, the closed-loop terminal resistances $R_{i / o}$ can be formulated in relation to the open-loop resistances $r_{i / o}$ as\n\n$$\n\\begin{equation*}\nR_{i / o}=r_{i / o}(1+L)^{ \\pm 1} \\tag{7.39}\n\\end{equation*}\n$$\n\nwith +1 applicable to series cases and -1 for shunt cases. Table 7.1 encapsulates the four negative-feedback topologies and their idealized terminal resistances when $L \\rightarrow \\infty$.\n\nTABLE 7.1 Summary of the four feedback topologies and their idealized closed-loop terminal resistances.\n\n| $\\boldsymbol{s}_{\\boldsymbol{i}}$ | $\\boldsymbol{s}_{\\boldsymbol{o}}$ | Name | $\\boldsymbol{a}$ | $\\boldsymbol{b}$ | Topology | $\\boldsymbol{R}_{\\boldsymbol{i} \\text { (ideal) }}$ | $\\boldsymbol{R}_{\\boldsymbol{o} \\text { (ideal) }}$ |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| $v_{i}$ | $v_{o}$ | Voltage amp | V/V | V/V | Series-shunt | $\\infty$ | 0 |\n| $i_{i}$ | $i_{o}$ | Current amp | A/A | A/A | Shunt-series | 0 | $\\infty$ |\n| $i_{i}$ | $v_{o}$ | Transresistance amp | V/A | A/V | Shunt-shunt | 0 | 0 |\n| $v_{i}$ | $i_{o}$ | Transconductance amp | A/V | V/A | Series-series | $\\infty$ | $\\infty$ |"
},
{
    "text": "Based on the aforementioned results, we can assert that the closed-loop gain $A$ for each of the four negative-feedback configurations can be formulated as\n\n$$\n\\begin{equation*}\nA=A_{\\text {ideal }} \\frac{1}{1+1 / L} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$ represents the closed-loop gain as $L$ approaches infinity, $L=a b$ denotes the loop gain, $a$ is the open-loop gain, and $b$ is the feedback factor. Additionally, the closed-loop terminal resistances $R_{i / o}$ can be described in relation to the open-loop resistances $r_{i / o}$ as follows:\n\n$$\n\\begin{equation*}\nR_{i / o}=r_{i / o}(1+L)^{ \\pm 1} \\tag{7.39}\n\\end{equation*}\n$$\n\nwith +1 applicable to series cases and -1 to shunt cases. Table 7.1 provides an overview of the four negative-feedback topologies and their idealized terminal resistances when $L$ tends to infinity.\n\nTABLE 7.1 Summary of the four feedback topologies and their idealized closed-loop terminal resistances.\n\n| $\\boldsymbol{s}_{\\boldsymbol{i}}$ | $\\boldsymbol{s}_{\\boldsymbol{o}}$ | Name | $\\boldsymbol{a}$ | $\\boldsymbol{b}$ | Topology | $\\boldsymbol{R}_{\\boldsymbol{i} \\text { (ideal) }}$ | $\\boldsymbol{R}_{\\boldsymbol{o} \\text { (ideal) }}$ |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| $v_{i}$ | $v_{o}$ | Voltage amp | V/V | V/V | Series-shunt | $\\infty$ | 0 |\n| $i_{i}$ | $i_{o}$ | Current amp | A/A | A/A | Shunt-series | 0 | $\\infty$ |\n| $i_{i}$ | $v_{o}$ | Transresistance amp | V/A | A/V | Shunt-shunt | 0 | 0 |\n| $v_{i}$ | $i_{o}$ | Transconductance amp | A/V | V/A | Series-series | $\\infty$ | $\\infty$ |"
},
{
    "text": "Based on the aforementioned results, it can be concluded that the closed-loop gain $A$ for each of the four negative-feedback configurations can be represented as\n\n$$\n\\begin{equation*}\nA=A_{\\text {ideal }} \\frac{1}{1+1 / L} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$ denotes the closed-loop gain as $L$ approaches infinity, $L=a b$ represents the loop gain, $a$ is the open-loop gain, and $b$ is the feedback factor. Additionally, the closed-loop terminal resistances $R_{i / o}$ can be formulated in relation to the open-loop resistances $r_{i / o}$ as\n\n$$\n\\begin{equation*}\nR_{i / o}=r_{i / o}(1+L)^{ \\pm 1} \\tag{7.39}\n\\end{equation*}\n$$\n\nwith +1 applicable to series cases and -1 for shunt cases. Table 7.1 encapsulates the four negative-feedback topologies, including the terminal resistances in the idealized scenario where $L \\rightarrow \\infty$.\n\nTABLE 7.1 Overview of the four feedback topologies and their idealized closed-loop terminal resistances.\n\n| $\\boldsymbol{s}_{\\boldsymbol{i}}$ | $\\boldsymbol{s}_{\\boldsymbol{o}}$ | Name | $\\boldsymbol{a}$ | $\\boldsymbol{b}$ | Topology | $\\boldsymbol{R}_{\\boldsymbol{i} \\text { (ideal) }}$ | $\\boldsymbol{R}_{\\boldsymbol{o} \\text { (ideal) }}$ |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| $v_{i}$ | $v_{o}$ | Voltage amp | V/V | V/V | Series-shunt | $\\infty$ | 0 |\n| $i_{i}$ | $i_{o}$ | Current amp | A/A | A/A | Shunt-series | 0 | $\\infty$ |\n| $i_{i}$ | $v_{o}$ | Transresistance amp | V/A | A/V | Shunt-shunt | 0 | 0 |\n| $v_{i}$ | $i_{o}$ | Transconductance amp | A/V | V/A | Series-series | $\\infty$ | $\\infty$ |"
},
{
    "text": "Based on the aforementioned results, it can be asserted that the closed-loop gain $A$ for each of the four negative-feedback configurations can be formulated as\n\n$$\n\\begin{equation*}\nA=A_{\\text {ideal }} \\frac{1}{1+1 / L} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$ represents the closed-loop gain when $L$ approaches infinity, $L=a b$ denotes the loop gain, $a$ is the open-loop gain, and $b$ is the feedback factor. Additionally, the closed-loop terminal resistances $R_{i / o}$ can be derived from the open-loop resistances $r_{i / o}$ using the expression\n\n$$\n\\begin{equation*}\nR_{i / o}=r_{i / o}(1+L)^{ \\pm 1} \\tag{7.39}\n\\end{equation*}\n$$\n\nwith +1 applicable to series configurations and -1 for shunt configurations. Table 7.1 encapsulates the four negative-feedback topologies and their idealized terminal resistances as $L$ tends to infinity.\n\nTABLE 7.1 Summary of the four feedback topologies and their idealized closed-loop terminal resistances.\n\n| $\\boldsymbol{s}_{\\boldsymbol{i}}$ | $\\boldsymbol{s}_{\\boldsymbol{o}}$ | Name | $\\boldsymbol{a}$ | $\\boldsymbol{b}$ | Topology | $\\boldsymbol{R}_{\\boldsymbol{i} \\text { (ideal) }}$ | $\\boldsymbol{R}_{\\boldsymbol{o} \\text { (ideal) }}$ |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| $v_{i}$ | $v_{o}$ | Voltage amp | V/V | V/V | Series-shunt | $\\infty$ | 0 |\n| $i_{i}$ | $i_{o}$ | Current amp | A/A | A/A | Shunt-series | 0 | $\\infty$ |\n| $i_{i}$ | $v_{o}$ | Transresistance amp | V/A | A/V | Shunt-shunt | 0 | 0 |\n| $v_{i}$ | $i_{o}$ | Transconductance amp | A/V | V/A | Series-series | $\\infty$ | $\\infty$ |"
},
{
    "text": "Based on the aforementioned results, it can be concluded that the closed-loop gain $A$ for each of the four negative-feedback configurations can be formulated as\n\n$$\n\\begin{equation*}\nA=A_{\\text {ideal }} \\frac{1}{1+1 / L} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$ represents the closed-loop gain as $L$ approaches infinity, $L=a b$ denotes the loop gain, $a$ is the open-loop gain, and $b$ is the feedback factor. Additionally, the closed-loop terminal resistances $R_{i / o}$ can be derived from the open-loop resistances $r_{i / o}$ using the expression\n\n$$\n\\begin{equation*}\nR_{i / o}=r_{i / o}(1+L)^{ \\pm 1} \\tag{7.39}\n\\end{equation*}\n$$\n\nwith +1 applicable to series cases and -1 for shunt cases. Table 7.1 provides a summary of the four negative-feedback topologies and their corresponding terminal resistances in the idealized scenario where $L \\rightarrow \\infty$.\n\nTABLE 7.1 Summary of the four feedback topologies and their idealized closed-loop terminal resistances.\n\n| $\\boldsymbol{s}_{\\boldsymbol{i}}$ | $\\boldsymbol{s}_{\\boldsymbol{o}}$ | Name | $\\boldsymbol{a}$ | $\\boldsymbol{b}$ | Topology | $\\boldsymbol{R}_{\\boldsymbol{i} \\text { (ideal) }}$ | $\\boldsymbol{R}_{\\boldsymbol{o} \\text { (ideal) }}$ |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| $v_{i}$ | $v_{o}$ | Voltage amp | V/V | V/V | Series-shunt | $\\infty$ | 0 |\n| $i_{i}$ | $i_{o}$ | Current amp | A/A | A/A | Shunt-series | 0 | $\\infty$ |\n| $i_{i}$ | $v_{o}$ | Transresistance amp | V/A | A/V | Shunt-shunt | 0 | 0 |\n| $v_{i}$ | $i_{o}$ | Transconductance amp | A/V | V/A | Series-series | $\\infty$ | $\\infty$ |"
},
{
    "text": "Based on the preceding results, we can assert that the closed-loop gain $A$ for each of the four negative-feedback configurations can be formulated as\n\n$$\n\\begin{equation*}\nA=A_{\\text {ideal }} \\frac{1}{1+1 / L} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere $A_{\\text {ideal }}=1 / b$ represents the closed-loop gain as $L$ approaches infinity, $L=a b$ denotes the loop gain, $a$ is the open-loop gain, and $b$ is the feedback factor. Additionally, the closed-loop terminal resistances $R_{i / o}$ can be derived from the open-loop resistances $r_{i / o}$ using the expression\n\n$$\n\\begin{equation*}\nR_{i / o}=r_{i / o}(1+L)^{ \\pm 1} \\tag{7.39}\n\\end{equation*}\n$$\n\nwith +1 applicable to series cases and -1 to shunt cases. Table 7.1 provides a summary of the four negative-feedback topologies and their idealized terminal resistances when $L$ tends to infinity.\n\nTABLE 7.1 Summary of the four feedback topologies and their idealized closed-loop terminal resistances.\n\n| $\\boldsymbol{s}_{\\boldsymbol{i}}$ | $\\boldsymbol{s}_{\\boldsymbol{o}}$ | Name | $\\boldsymbol{a}$ | $\\boldsymbol{b}$ | Topology | $\\boldsymbol{R}_{\\boldsymbol{i} \\text { (ideal) }}$ | $\\boldsymbol{R}_{\\boldsymbol{o} \\text { (ideal) }}$ |\n| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |\n| $v_{i}$ | $v_{o}$ | Voltage amp | V/V | V/V | Series-shunt | $\\infty$ | 0 |\n| $i_{i}$ | $i_{o}$ | Current amp | A/A | A/A | Shunt-series | 0 | $\\infty$ |\n| $i_{i}$ | $v_{o}$ | Transresistance amp | V/A | A/V | Shunt-shunt | 0 | 0 |\n| $v_{i}$ | $i_{o}$ | Transconductance amp | A/V | V/A | Series-series | $\\infty$ | $\\infty$ |"
},
{
    "text": "Sometimes, the processes of input summing and output sensing are not immediately apparent. To quickly develop an intuitive understanding, let's examine real circuit examples using the operational amplifier (op amp), the most widely used building block for negative-feedback operations. Although the op amp is fundamentally a voltage-type amplifier (highlighted by using the symbol $a_{v}$ for its voltage gain), it can be employed in any of the four feedback topologies discussed earlier, further justifying its \"operational\" designation.\n\n- **Series-Shunt Configuration (Fig. 7.18a)**: We have previously analyzed this setup in relation to Fig. 7.2. With a sufficiently high loop gain, typical in op amp circuits, the input error voltage $v_{\\varepsilon}$ will be\nimage_name: Series-Shunt Configuration (Fig. 7.18a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: vf}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Other, ports: {N1: vo, N2: GND}\n]\nextrainfo: The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi supplies the input signal. The operational amplifier with voltage gain av amplifies this signal. The feedback network, comprising resistors R1 and R2, determines the feedback factor b.\n\n(a) Series-shunt: $b=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}$\nimage_name: FIGURE 7.18\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Diode, ports: {Na: vo, Nc: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: GND}\n]\nextrainfo: The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b. For the series-shunt configuration, the feedback factor b is given by b = R1 / (R1 + R2).\n\n(c) Series-series: $b=\\frac{v_{f}}{i_{o}}=R$\nimage_name: Series-shunt feedback amplifier configuration\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: GND, Nn: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: vo}\nname: a_v, type: OpAmp, value: a_v, ports: {InP: GND, InN: vf, OutP: vo}\nname: LD, type: Diode, ports: {Na: vo, Nc: GND}\n]\nextrainfo: The circuit is a series-shunt feedback amplifier configuration with a current source input. Feedback is provided through resistor R, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(b) Shunt-shunt: $b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}$\nimage_name: Figure 7.18\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: X2}\nname: LD, type: Diode, ports: {Na: Out, Nc: X2}\nname: av, type: OpAmp, value: av, ports: {InP: vf, InN: GND, OutP: Out}\nname: ii, type: CurrentSource, value: ii, ports: {Np: vf, Nn: GND}\n]\nextrainfo: The circuit is a series-shunt feedback amplifier configuration with a current source input. Feedback is provided through resistor R2, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(d) Shunt-series: $b=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}$\n\nFIGURE 7.18 Illustrates the four fundamental negative-feedback topologies using op amps.\nnegligibly small, indicating an insignificantly small current through the op amp's internal resistance $r_{i}$. Consequently, for practical purposes, the op amp's input port appears as an open circuit to the feedback network. This allows us to apply the voltage divider rule and write\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{i}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.40}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{o c}=v_{o} / v_{i} \\rightarrow 1 / b=1+R_{2} / R_{1}$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$.\n\n- **Shunt-Shunt Configuration (Fig. 7.18b)**: Students will remember from basic op amp theory that in the ideal limit $a_{v} \\rightarrow \\infty$, the inverting-input node, also known as a current-summing junction, behaves as a virtual ground. The natural input signal in this case is a current, so the error signal is $i_{\\varepsilon}=i_{i}-i_{\\rho}$, as shown. Furthermore, with the inverting-input node at 0 V, Ohm's law gives $i_{f}=\\left(0-v_{o}\\right) / R$, thus\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.41}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{o c}=v_{o} / i_{i} \\rightarrow 1 / b=-R$. Additionally, the input source sees a resistance $R_{i} \\rightarrow 0$, and the output load sees a resistance $R_{o} \\rightarrow 0$.\n\nThe shunt-shunt configuration forms the basis of the widely used inverting voltage amplifier shown in Fig. 7.19a. Although this is a voltage-in, voltage-out amplifier, from a feedback perspective, it is a shunt-shunt configuration. This becomes clearer if we perform a source transformation to convert the voltage $v_{i}$ to the current $i_{i}=v_{i} / R_{1}$. Then, the closed-loop voltage gain is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{v_{o}}{v_{i}}=\\frac{v_{o}}{i_{i}} \\times \\frac{i_{i}}{v_{i}}=\\left(-R_{2}\\right) \\times \\frac{1}{R_{1}}=-\\frac{R_{2}}{R_{1}} \\tag{7.42}\n\\end{equation*}\n$$\n\n- **Series-Series Configuration (Fig. 7.18c)**: The natural signals for this circuit are a voltage at the input and a current at the output. The feedback network's task is to sense the output current $i_{o}$ in series and convert it to the feedback voltage $v_{f}$ to be summed with the input $v_{i}$ in series. Remarkably, both operations are carried out by a single resistor, $R$. As previously discussed, the op amp's input port appears as an open circuit to the feedback network for all practical purposes. Using Ohm's law, we can write $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.43}\n\\end{equation*}\n$$\n\nimage_name: FIGURE 7.19(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vi, N2: InN(av)}\nname: R2, type: Resistor, value: R2, ports: {N1: InN(av), N2: vo}\nname: av, type: OpAmp, value: av, ports: {InP: GND, InN: InN(av), Out: vo}\n]\nextrainfo: The circuit is an inverting voltage amplifier configured as a shunt-shunt amplifier. The feedback network senses the output current and converts it to a feedback voltage using a single resistor R.\n\nFIGURE 7.19 The popular inverting voltage amplifier is essentially a shunt-shunt amplifier, as demonstrated by the source transformation.\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit provides $A_{s c}=i_{o} / v_{i} \\rightarrow 1 / b=1 / R$. Moreover, the input source sees a resistance $R_{i} \\rightarrow \\infty$, and the output load sees a resistance $R_{o} \\rightarrow \\infty$.\n\n- **Shunt-Series Configuration (Fig. 7.18d)**: The natural signals for this circuit are currents at both the input and output. Given that the inverting-input node is at 0 V, we can apply the current-divider rule and write\n\n$$\n-i_{f}=\\frac{R_{1}}{R_{1}+R_{2}} i_{o}\n$$\n\nthus\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=\\frac{-R_{1}}{R_{1}+R_{2}}=\\frac{-1}{1+R_{2} / R_{1}} \\tag{7.44}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{s c}=i_{o} / i_{i} \\rightarrow-\\left(1+R_{2} / R_{1}\\right)$. Additionally, the input source sees a resistance $R_{i} \\rightarrow 0$, and the output load sees a resistance $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Sometimes, the processes of input summing and output sensing are not immediately evident. To develop an intuitive understanding, let's analyze real circuit examples using the op amp, the most widely used component for negative-feedback operations. Although the op amp is fundamentally a voltage-type amplifier (highlighted by using the symbol $a_{v}$ for its voltage gain), it can be employed in any of the four feedback topologies discussed earlier, further justifying its \"operational\" designation.\n\n- **Series-Shunt Configuration (Fig. 7.18a)**: We have previously examined this setup in relation to Fig. 7.2. With a sufficiently high loop gain, typical in op amp circuits, the input error voltage $v_{\\varepsilon}$ will be\nimage_name:Series-Shunt Configuration (Fig. 7.18a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: vf}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Other, ports: {N1: vo, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b.\n\n(a) Series-shunt: $b=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}$\nimage_name:FIGURE 7.18\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Diode, ports: {Na: vo, Nc: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b. For series-shunt configuration, the feedback factor b is given by b = R1 / (R1 + R2).\n\n(c) Series-series: $b=\\frac{v_{f}}{i_{o}}=R$\nimage_name:Series-shunt feedback amplifier configuration\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: GND, Nn: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: vo}\nname: a_v, type: OpAmp, value: a_v, ports: {InP: GND, InN: vf, OutP: vo}\nname: LD, type: Diode, ports: {Na: vo, Nc: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(b) Shunt-shunt: $b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}$\nimage_name:Figure 7.18\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: X2}\nname: LD, type: Diode, ports: {Na: Out, Nc: X2}\nname: av, type: OpAmp, value: av, ports: {InP: vf, InN: GND, OutP: Out}\nname: ii, type: CurrentSource, value: ii, ports: {Np: vf, Nn: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R2, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(d) Shunt-series: $b=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}$\n\nFIGURE 7.18 Illustrating the four basic negative-feedback topologies using op amps.\nvanishingly small, indicating an extremely small current through the op amp's internal resistance $r_{i}$. Consequently, practically speaking, the op amp's input port appears as an open circuit to the feedback network. This allows us to apply the voltage divider rule and write\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{i}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.40}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{o c}=v_{o} / v_{i} \\rightarrow 1 / b=1+R_{2} / R_{1}$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$.\n\n- **Shunt-Shunt Configuration (Fig. 7.18b)**: Students will recall from basic op amp theory that in the ideal limit $a_{v} \\rightarrow \\infty$, the inverting-input node, also known as a current-summing junction, acts as a virtual ground. The natural input signal in this case is a current, so the error signal is $i_{\\varepsilon}=i_{i}-i_{\\rho}$, as shown. Moreover, with the inverting-input node at 0 V, by Ohm's law, $i_{f}=\\left(0-v_{o}\\right) / R$, thus\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.41}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{o c}=v_{o} / i_{i} \\rightarrow 1 / b=-R$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow 0$.\n\nThe shunt-shunt configuration forms the basis of the widely-used inverting voltage amplifier shown in Fig. 7.19a. Although this is a voltage-in, voltage-out amplifier, from a feedback perspective, it is a shunt-shunt configuration. This becomes clearer if we perform a source transformation to convert the voltage $v_{i}$ to the current $i_{i}=v_{i} / R_{1}$. Then, the closed-loop voltage gain is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{v_{o}}{v_{i}}=\\frac{v_{o}}{i_{i}} \\times \\frac{i_{i}}{v_{i}}=\\left(-R_{2}\\right) \\times \\frac{1}{R_{1}}=-\\frac{R_{2}}{R_{1}} \\tag{7.42}\n\\end{equation*}\n$$\n\n- **Series-Series Configuration (Fig. 7.18c)**: The natural signals for this circuit are a voltage at the input and a current at the output. The feedback network's role is to sense the output current $i_{o}$ in series and convert it to the feedback voltage $v_{f}$ to be summed with the input $v_{i}$ in series. Remarkably, both operations are accomplished by a single resistor, $R$. As previously discussed, the op amp's input port effectively appears as an open circuit to the feedback network. Using Ohm's law, we can write $v_{f}=R i_{o}$, thus\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.43}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.19(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vi, N2: InN(av)}\nname: R2, type: Resistor, value: R2, ports: {N1: InN(av), N2: vo}\nname: av, type: OpAmp, value: av, ports: {InP: GND, InN: InN(av), Out: vo}\n]\nextrainfo:The circuit is an inverting voltage amplifier configured as a shunt-shunt amplifier. The feedback network senses the output current and converts it to a feedback voltage using a single resistor R.\n\nFIGURE 7.19 The popular inverting voltage amplifier is actually a shunt-shunt amplifier, as demonstrated by the source transformation.\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{s c}=i_{o} / v_{i} \\rightarrow 1 / b=1 / R$. Moreover, the resistance seen by the input source is $R_{i} \\rightarrow \\infty$, and that seen by the output load is $R_{o} \\rightarrow \\infty$.\n\n- **Shunt-Series Configuration (Fig. 7.18d)**: The natural signals for this circuit are a current at the input and a current at the output. Given that the inverting-input node is at 0 V, we can apply the current-divider rule and write\n\n$$\n-i_{f}=\\frac{R_{1}}{R_{1}+R_{2}} i_{o}\n$$\n\nthus\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=\\frac{-R_{1}}{R_{1}+R_{2}}=\\frac{-1}{1+R_{2} / R_{1}} \\tag{7.44}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{s c}=i_{o} / i_{i} \\rightarrow-\\left(1+R_{2} / R_{1}\\right)$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Sometimes, the processes of input summing and output sensing are not immediately apparent. To quickly develop an intuitive understanding, let's analyze real circuit examples using the op amp, the most widely used component designed for negative-feedback operations. Although the op amp is fundamentally a voltage-type amplifier (highlighted by using the symbol $a_{v}$ for its voltage gain), it can be employed in any of the four feedback topologies discussed earlier, further justifying its \"operational\" designation.\n\n- Series-Shunt Configuration (Fig. 7.18a): We have previously examined this setup in relation to Fig. 7.2. With a sufficiently high loop gain, typical in op amp circuits, the input error voltage $v_{\\varepsilon}$ will be\nimage_name:Series-Shunt Configuration (Fig. 7.18a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: vf}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Other, ports: {N1: vo, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b.\n\n(a) Series-shunt: $b=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}$\nimage_name:FIGURE 7.18\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Diode, ports: {Na: vo, Nc: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b. For series-shunt configuration, the feedback factor b is given by b = R1 / (R1 + R2).\n\n(c) Series-series: $b=\\frac{v_{f}}{i_{o}}=R$\nimage_name:Series-shunt feedback amplifier configuration\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: GND, Nn: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: vo}\nname: a_v, type: OpAmp, value: a_v, ports: {InP: GND, InN: vf, OutP: vo}\nname: LD, type: Diode, ports: {Na: vo, Nc: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(b) Shunt-shunt: $b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}$\nimage_name:Figure 7.18\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: X2}\nname: LD, type: Diode, ports: {Na: Out, Nc: X2}\nname: av, type: OpAmp, value: av, ports: {InP: vf, InN: GND, OutP: Out}\nname: ii, type: CurrentSource, value: ii, ports: {Np: vf, Nn: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R2, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(d) Shunt-series: $b=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}$\n\nFIGURE 7.18 Illustrating the four basic negative-feedback topologies using op amps.\nexceedingly small, indicating an extremely low current through the op amp's internal resistance $r_{i}$. As a result, practically speaking, the op amp's input port appears as an open circuit to the feedback network. This allows us to apply the voltage divider rule and write\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{i}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.40}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{o c}=v_{o} / v_{i} \\rightarrow 1 / b=1+R_{2} / R_{1}$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$.\n\n- Shunt-Shunt Configuration (Fig. 7.18b): Students should recall from basic op amp theory that in the ideal limit $a_{v} \\rightarrow \\infty$, the inverting-input node, also known as a current-summing junction, acts as a virtual ground. The natural input signal in this case is a current, so the error signal is $i_{\\varepsilon}=i_{i}-i_{\\rho}$, as shown. Additionally, with the inverting-input node at 0 V, Ohm's law gives $i_{f}=\\left(0-v_{o}\\right) / R$, so\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.41}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{o c}=v_{o} / i_{i} \\rightarrow 1 / b=-R$. Furthermore, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow 0$.\n\nThe shunt-shunt configuration forms the basis of the widely used inverting voltage amplifier shown in Fig. 7.19a. Although this is a voltage-in, voltage-out amplifier, from a feedback perspective, it is a shunt-shunt configuration. This becomes clearer if we perform a source transformation to convert the voltage $v_{i}$ to the current $i_{i}=v_{i} / R_{1}$. Then, the closed-loop voltage gain is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{v_{o}}{v_{i}}=\\frac{v_{o}}{i_{i}} \\times \\frac{i_{i}}{v_{i}}=\\left(-R_{2}\\right) \\times \\frac{1}{R_{1}}=-\\frac{R_{2}}{R_{1}} \\tag{7.42}\n\\end{equation*}\n$$\n\n- Series-Series Configuration (Fig. 7.18c): The natural signals for this circuit are a voltage at the input and a current at the output. The feedback network's role is to sense the output current $i_{o}$ in series and convert it to the feedback voltage $v_{f}$ to be summed with the input $v_{i}$ in series. Remarkably, both operations are accomplished using a single resistor, $R$. As previously discussed, the op amp's input port effectively appears as an open circuit to the feedback network. Thus, using Ohm's law, we can write $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.43}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.19(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vi, N2: InN(av)}\nname: R2, type: Resistor, value: R2, ports: {N1: InN(av), N2: vo}\nname: av, type: OpAmp, value: av, ports: {InP: GND, InN: InN(av), Out: vo}\n]\nextrainfo:The circuit is an inverting voltage amplifier configured as a shunt-shunt amplifier. The feedback network senses the output current and converts it to a feedback voltage using a single resistor R.\n\nFIGURE 7.19 The popular inverting voltage amplifier is actually a shunt-shunt amplifier, as demonstrated by the source transformation.\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit provides $A_{s c}=i_{o} / v_{i} \\rightarrow 1 / b=1 / R$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow \\infty$, and that seen by the output load is $R_{o} \\rightarrow \\infty$.\n\n- Shunt-Series Configuration (Fig. 7.18d): The natural signals for this circuit are a current at the input and a current at the output. Given that the inverting-input node is at 0 V, we can apply the current-divider rule and write\n\n$$\n-i_{f}=\\frac{R_{1}}{R_{1}+R_{2}} i_{o}\n$$\n\nso\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=\\frac{-R_{1}}{R_{1}+R_{2}}=\\frac{-1}{1+R_{2} / R_{1}} \\tag{7.44}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{s c}=i_{o} / i_{i} \\rightarrow-\\left(1+R_{2} / R_{1}\\right)$. Moreover, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Sometimes, the processes of input summation and output sensing are not immediately apparent. To develop an intuitive understanding, let's analyze real circuit examples using the operational amplifier (op amp), the most widely used component for negative-feedback operations. Although the op amp is fundamentally a voltage-type amplifier (highlighted by using the symbol $a_{v}$ for its voltage gain), it can be employed in any of the four feedback topologies discussed earlier, further justifying its \"operational\" designation.\n\n- **Series-Shunt Configuration (Fig. 7.18a)**: We have previously examined this setup in relation to Fig. 7.2. With a sufficiently high loop gain, typical in op amp circuits, the input error voltage $v_{\\varepsilon}$ will be:\nimage_name: Series-Shunt Configuration (Fig. 7.18a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: vf}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Other, ports: {N1: vo, N2: GND}\n]\nextrainfo: This circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi supplies the input signal. The operational amplifier with voltage gain av amplifies this signal. The feedback network, composed of resistors R1 and R2, determines the feedback factor b.\n\n(a) Series-shunt: $b=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}$\nimage_name: FIGURE 7.18\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Diode, ports: {Na: vo, Nc: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: GND}\n]\nextrainfo: This circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, determining the feedback factor b. For the series-shunt configuration, the feedback factor b is given by b = R1 / (R1 + R2).\n\n(c) Series-series: $b=\\frac{v_{f}}{i_{o}}=R$\nimage_name: Series-shunt feedback amplifier configuration\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: GND, Nn: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: vo}\nname: a_v, type: OpAmp, value: a_v, ports: {InP: GND, InN: vf, OutP: vo}\nname: LD, type: Diode, ports: {Na: vo, Nc: GND}\n]\nextrainfo: This circuit is a series-shunt feedback amplifier configuration with a current source input. Feedback is provided through resistor R, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(b) Shunt-shunt: $b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}$\nimage_name: Figure 7.18\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: X2}\nname: LD, type: Diode, ports: {Na: Out, Nc: X2}\nname: av, type: OpAmp, value: av, ports: {InP: vf, InN: GND, OutP: Out}\nname: ii, type: CurrentSource, value: ii, ports: {Np: vf, Nn: GND}\n]\nextrainfo: This circuit is a series-shunt feedback amplifier configuration with a current source input. Feedback is provided through resistor R2, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(d) Shunt-series: $b=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}$\n\nFIGURE 7.18 Illustrates the four fundamental negative-feedback topologies using op amps.\nvanishingly small, indicating an extremely small current through the op amp's internal resistance $r_{i}$. Consequently, for practical purposes, the op amp's input port appears as an open circuit to the feedback network. This allows us to apply the voltage divider rule and write:\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{i}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.40}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{o c}=v_{o} / v_{i} \\rightarrow 1 / b=1+R_{2} / R_{1}$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$.\n\n- **Shunt-Shunt Configuration (Fig. 7.18b)**: Students will recall from basic op amp theory that in the ideal limit $a_{v} \\rightarrow \\infty$, the inverting-input node, also known as a current-summing junction, acts as a virtual ground. The natural input signal in this case is a current, so the error signal is $i_{\\varepsilon}=i_{i}-i_{\\rho}$, as shown. Moreover, with the inverting-input node at 0 V, Ohm's law gives $i_{f}=\\left(0-v_{o}\\right) / R$, thus:\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.41}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{o c}=v_{o} / i_{i} \\rightarrow 1 / b=-R$. Additionally, the input source resistance $R_{i} \\rightarrow 0$, and the output load resistance $R_{o} \\rightarrow 0$.\n\nThe shunt-shunt configuration forms the basis of the widely-used inverting voltage amplifier shown in Fig. 7.19a. Although this is a voltage-in, voltage-out amplifier, from a feedback perspective, it is a shunt-shunt configuration. This becomes clearer if we perform a source transformation to convert the voltage $v_{i}$ to the current $i_{i}=v_{i} / R_{1}$. Then, the closed-loop voltage gain is:\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{v_{o}}{v_{i}}=\\frac{v_{o}}{i_{i}} \\times \\frac{i_{i}}{v_{i}}=\\left(-R_{2}\\right) \\times \\frac{1}{R_{1}}=-\\frac{R_{2}}{R_{1}} \\tag{7.42}\n\\end{equation*}\n$$\n\n- **Series-Series Configuration (Fig. 7.18c)**: The natural signals for this circuit are a voltage at the input and a current at the output. The feedback network's task is to sense the output current $i_{o}$ in series and convert it to the feedback voltage $v_{f}$ to be summed with the input $v_{i}$ in series. Remarkably, both operations are performed by a single resistor, $R$. As previously discussed, the op amp's input port appears as an open circuit to the feedback network for all practical purposes. Using Ohm's law, we can write $v_{f}=R i_{o}$, so:\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.43}\n\\end{equation*}\n$$\n\nimage_name: FIGURE 7.19(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vi, N2: InN(av)}\nname: R2, type: Resistor, value: R2, ports: {N1: InN(av), N2: vo}\nname: av, type: OpAmp, value: av, ports: {InP: GND, InN: InN(av), Out: vo}\n]\nextrainfo: This circuit is an inverting voltage amplifier configured as a shunt-shunt amplifier. The feedback network senses the output current and converts it to a feedback voltage using a single resistor R.\n\nFIGURE 7.19 The popular inverting voltage amplifier is essentially a shunt-shunt amplifier, as demonstrated by the source transformation.\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit gives $A_{s c}=i_{o} / v_{i} \\rightarrow 1 / b=1 / R$. Moreover, the input source resistance $R_{i} \\rightarrow \\infty$, and the output load resistance $R_{o} \\rightarrow \\infty$.\n\n- **Shunt-Series Configuration (Fig. 7.18d)**: The natural signals for this circuit are a current at the input and a current at the output. Given that the inverting-input node is at 0 V, we can apply the current-divider rule and write:\n\n$$\n-i_{f}=\\frac{R_{1}}{R_{1}+R_{2}} i_{o}\n$$\n\nthus:\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=\\frac{-R_{1}}{R_{1}+R_{2}}=\\frac{-1}{1+R_{2} / R_{1}} \\tag{7.44}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{s c}=i_{o} / i_{i} \\rightarrow-\\left(1+R_{2} / R_{1}\\right)$. Additionally, the input source resistance $R_{i} \\rightarrow 0$, and the output load resistance $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Sometimes, the processes of input summing and output sensing are not immediately apparent. To develop a quick understanding, let's analyze real circuit examples using the op amp, the most widely used building block for negative-feedback operations. Although the op amp is fundamentally a voltage-type amplifier (emphasized by the symbol $a_{v}$ for its voltage gain), it can be employed in any of the four feedback topologies discussed earlier, further justifying its \"operational\" designation.\n\n- Series-Shunt Configuration (Fig. 7.18a): We have previously examined this setup in relation to Fig. 7.2. With a sufficiently high loop gain, typical in op amp circuits, the input error voltage $v_{\\varepsilon}$ will be\nimage_name:Series-Shunt Configuration (Fig. 7.18a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: vf}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Other, ports: {N1: vo, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b.\n\n(a) Series-shunt: $b=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}$\nimage_name:FIGURE 7.18\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Diode, ports: {Na: vo, Nc: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b. For series-shunt configuration, the feedback factor b is given by b = R1 / (R1 + R2).\n\n(c) Series-series: $b=\\frac{v_{f}}{i_{o}}=R$\nimage_name:Series-shunt feedback amplifier configuration\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: GND, Nn: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: vo}\nname: a_v, type: OpAmp, value: a_v, ports: {InP: GND, InN: vf, OutP: vo}\nname: LD, type: Diode, ports: {Na: vo, Nc: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(b) Shunt-shunt: $b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}$\nimage_name:Figure 7.18\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: X2}\nname: LD, type: Diode, ports: {Na: Out, Nc: X2}\nname: av, type: OpAmp, value: av, ports: {InP: vf, InN: GND, OutP: Out}\nname: ii, type: CurrentSource, value: ii, ports: {Np: vf, Nn: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R2, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(d) Shunt-series: $b=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}$\n\nFIGURE 7.18 Illustrating the four basic negative-feedback topologies using op amps.\nvanishingly small, indicating an extremely small current through the op amp's internal resistance $r_{i}$. As a result, practically speaking, the op amp's input port appears as an open circuit to the feedback network. This allows us to apply the voltage divider rule and write\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{i}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.40}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{o c}=v_{o} / v_{i} \\rightarrow 1 / b=1+R_{2} / R_{1}$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$.\n\n- Shunt-Shunt Configuration (Fig. 7.18b): Students will recall from basic op amp theory that in the ideal limit $a_{v} \\rightarrow \\infty$, the inverting-input node, also known as a current-summing junction, acts as a virtual ground. The natural input signal in this case is a current, so the error signal is $i_{\\varepsilon}=i_{i}-i_{\\rho}$, as shown. Furthermore, with the inverting-input node at 0 V, Ohm's law gives $i_{f}=\\left(0-v_{o}\\right) / R$, so\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.41}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{o c}=v_{o} / i_{i} \\rightarrow 1 / b=-R$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow 0$.\n\nThe shunt-shunt configuration forms the basis of the widely used inverting voltage amplifier shown in Fig. 7.19a. Although this is a voltage-in, voltage-out amplifier, from a feedback perspective, it is a shunt-shunt configuration. This becomes clearer if we perform a source transformation to convert the voltage $v_{i}$ to the current $i_{i}=v_{i} / R_{1}$. Then, the closed-loop voltage gain is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{v_{o}}{v_{i}}=\\frac{v_{o}}{i_{i}} \\times \\frac{i_{i}}{v_{i}}=\\left(-R_{2}\\right) \\times \\frac{1}{R_{1}}=-\\frac{R_{2}}{R_{1}} \\tag{7.42}\n\\end{equation*}\n$$\n\n- Series-Series Configuration (Fig. 7.18c): The natural signals for this circuit are a voltage at the input and a current at the output. The feedback network's task is to sense the output current $i_{o}$ in series and convert it to the feedback voltage $v_{f}$ to be summed with the input $v_{i}$ in series. Remarkably, both operations are performed by a single resistor, $R$. As discussed earlier, the op amp's input port appears as an open circuit to the feedback network for all practical purposes. We can thus use Ohm's law and write $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.43}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.19(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vi, N2: InN(av)}\nname: R2, type: Resistor, value: R2, ports: {N1: InN(av), N2: vo}\nname: av, type: OpAmp, value: av, ports: {InP: GND, InN: InN(av), Out: vo}\n]\nextrainfo:The circuit is an inverting voltage amplifier configured as a shunt-shunt amplifier. The feedback network senses the output current and converts it to a feedback voltage using a single resistor R.\n\nFIGURE 7.19 The popular inverting voltage amplifier is actually a shunt-shunt amplifier, as demonstrated by the source transformation.\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit gives $A_{s c}=i_{o} / v_{i} \\rightarrow 1 / b=1 / R$. Moreover, the resistance seen by the input source is $R_{i} \\rightarrow \\infty$, and that seen by the output load is $R_{o} \\rightarrow \\infty$.\n\n- Shunt-Series Configuration (Fig. 7.18d): The natural signals for this circuit are a current at the input and a current at the output. Given that the inverting-input node is at 0 V, we can apply the current-divider rule and write\n\n$$\n-i_{f}=\\frac{R_{1}}{R_{1}+R_{2}} i_{o}\n$$\n\nso\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=\\frac{-R_{1}}{R_{1}+R_{2}}=\\frac{-1}{1+R_{2} / R_{1}} \\tag{7.44}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{s c}=i_{o} / i_{i} \\rightarrow-\\left(1+R_{2} / R_{1}\\right)$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Sometimes, the processes of input summation and output sensing are not immediately apparent. To develop a quick understanding, let's analyze actual circuit examples using the op amp, the most widely used building block for negative-feedback operations. Although the op amp is technically a voltage-type amplifier (highlighted by using the symbol $a_{v}$ for its voltage gain), it can be employed in any of the four feedback topologies discussed earlier, further supporting its designation as \"operational.\"\n\n- **Series-Shunt Configuration (Fig. 7.18a)**: We have previously examined this setup in relation to Fig. 7.2. With a sufficiently high loop gain, typical in op amp circuits, the input error voltage $v_{\\varepsilon}$ will be\nimage_name:Series-Shunt Configuration (Fig. 7.18a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: vf}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Other, ports: {N1: vo, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b.\n\n(a) Series-shunt: $b=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}$\nimage_name:FIGURE 7.18\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Diode, ports: {Na: vo, Nc: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b. For series-shunt configuration, the feedback factor b is given by b = R1 / (R1 + R2).\n\n(c) Series-series: $b=\\frac{v_{f}}{i_{o}}=R$\nimage_name:Series-shunt feedback amplifier configuration\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: GND, Nn: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: vo}\nname: a_v, type: OpAmp, value: a_v, ports: {InP: GND, InN: vf, OutP: vo}\nname: LD, type: Diode, ports: {Na: vo, Nc: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(b) Shunt-shunt: $b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}$\nimage_name:Figure 7.18\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: X2}\nname: LD, type: Diode, ports: {Na: Out, Nc: X2}\nname: av, type: OpAmp, value: av, ports: {InP: vf, InN: GND, OutP: Out}\nname: ii, type: CurrentSource, value: ii, ports: {Np: vf, Nn: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R2, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(d) Shunt-series: $b=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}$\n\nFIGURE 7.18 Illustrating the four basic negative-feedback topologies using op amps.\nextremely small, indicating an almost negligible current through the op amp's internal resistance $r_{i}$. As a result, the op amp's input port effectively appears as an open circuit to the feedback network. This allows us to apply the voltage divider rule and express\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{i}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.40}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{o c}=v_{o} / v_{i} \\rightarrow 1 / b=1+R_{2} / R_{1}$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$.\n\n- **Shunt-Shunt Configuration (Fig. 7.18b)**: Students will recall from basic op amp theory that in the ideal limit $a_{v} \\rightarrow \\infty$, the inverting-input node, also known as a current-summing junction, acts as a virtual ground. The natural input signal in this case is a current, so the error signal is $i_{\\varepsilon}=i_{i}-i_{\\rho}$, as shown. Furthermore, with the inverting-input node at 0 V, Ohm's law gives $i_{f}=\\left(0-v_{o}\\right) / R$, thus\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.41}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{o c}=v_{o} / i_{i} \\rightarrow 1 / b=-R$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow 0$.\n\nThe shunt-shunt configuration forms the basis of the widely used inverting voltage amplifier shown in Fig. 7.19a. Although this is a voltage-in, voltage-out amplifier, from a feedback perspective, it is a shunt-shunt configuration. This becomes clearer if we perform a source transformation to convert the voltage $v_{i}$ to the current $i_{i}=v_{i} / R_{1}$. Then, the closed-loop voltage gain is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{v_{o}}{v_{i}}=\\frac{v_{o}}{i_{i}} \\times \\frac{i_{i}}{v_{i}}=\\left(-R_{2}\\right) \\times \\frac{1}{R_{1}}=-\\frac{R_{2}}{R_{1}} \\tag{7.42}\n\\end{equation*}\n$$\n\n- **Series-Series Configuration (Fig. 7.18c)**: The natural signals for this circuit are a voltage at the input and a current at the output. The feedback network's task is to sense the output current $i_{o}$ in series and convert it to the feedback voltage $v_{f}$ to be summed with the input $v_{i}$ in series. Remarkably, both operations are accomplished by a single resistor, $R$. As previously discussed, the op amp's input port appears as an open circuit to the feedback network for all practical purposes. Using Ohm's law, we can write $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.43}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.19(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vi, N2: InN(av)}\nname: R2, type: Resistor, value: R2, ports: {N1: InN(av), N2: vo}\nname: av, type: OpAmp, value: av, ports: {InP: GND, InN: InN(av), Out: vo}\n]\nextrainfo:The circuit is an inverting voltage amplifier configured as a shunt-shunt amplifier. The feedback network senses the output current and converts it to a feedback voltage using a single resistor R.\n\nFIGURE 7.19 The popular inverting voltage amplifier is actually a shunt-shunt amplifier, as demonstrated by the source transformation.\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit gives $A_{s c}=i_{o} / v_{i} \\rightarrow 1 / b=1 / R$. Moreover, the resistance seen by the input source is $R_{i} \\rightarrow \\infty$, and that seen by the output load is $R_{o} \\rightarrow \\infty$.\n\n- **Shunt-Series Configuration (Fig. 7.18d)**: The natural signals for this circuit are a current at the input and a current at the output. Given that the inverting-input node is at 0 V, we can apply the current-divider rule and write\n\n$$\n-i_{f}=\\frac{R_{1}}{R_{1}+R_{2}} i_{o}\n$$\n\nso\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=\\frac{-R_{1}}{R_{1}+R_{2}}=\\frac{-1}{1+R_{2} / R_{1}} \\tag{7.44}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{s c}=i_{o} / i_{i} \\rightarrow-\\left(1+R_{2} / R_{1}\\right)$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Sometimes, the processes of input summing and output sensing are not immediately apparent. To quickly develop an intuitive understanding, let's examine real circuit examples using the op amp, the most widely used building block for negative-feedback operations. Although the op amp is fundamentally a voltage-type amplifier (highlighted by the symbol $a_{v}$ for its voltage gain), it can be employed in any of the four feedback topologies discussed earlier, further justifying its \"operational\" designation.\n\n- Series-Shunt Configuration (Fig. 7.18a): We have previously analyzed this setup in relation to Fig. 7.2. With a sufficiently high loop gain, typical in op amp circuits, the input error voltage $v_{\\varepsilon}$ will be\nimage_name:Series-Shunt Configuration (Fig. 7.18a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: vf}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Other, ports: {N1: vo, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b.\n\n(a) Series-shunt: $b=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}$\nimage_name:FIGURE 7.18\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Diode, ports: {Na: vo, Nc: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b. For series-shunt configuration, the feedback factor b is given by b = R1 / (R1 + R2).\n\n(c) Series-series: $b=\\frac{v_{f}}{i_{o}}=R$\nimage_name:Series-shunt feedback amplifier configuration\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: GND, Nn: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: vo}\nname: a_v, type: OpAmp, value: a_v, ports: {InP: GND, InN: vf, OutP: vo}\nname: LD, type: Diode, ports: {Na: vo, Nc: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(b) Shunt-shunt: $b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}$\nimage_name:Figure 7.18\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: X2}\nname: LD, type: Diode, ports: {Na: Out, Nc: X2}\nname: av, type: OpAmp, value: av, ports: {InP: vf, InN: GND, OutP: Out}\nname: ii, type: CurrentSource, value: ii, ports: {Np: vf, Nn: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R2, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(d) Shunt-series: $b=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}$\n\nFIGURE 7.18 Illustrating the four basic negative-feedback topologies using op amps.\nexceedingly small, indicating an extremely small current through the op amp's internal resistance $r_{i}$. Consequently, practically speaking, the op amp's input port appears as an open circuit to the feedback network. This allows us to apply the voltage divider rule and write\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{i}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.40}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{o c}=v_{o} / v_{i} \\rightarrow 1 / b=1+R_{2} / R_{1}$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$.\n\n- Shunt-Shunt Configuration (Fig. 7.18b): Students will recall from basic op amp theory that in the ideal limit $a_{v} \\rightarrow \\infty$, the inverting-input node, also known as a current-summing junction, acts as a virtual ground. The natural input signal in this case is a current, so the error signal is $i_{\\varepsilon}=i_{i}-i_{\\rho}$, as shown. Moreover, with the inverting-input node at 0 V, Ohm's law gives $i_{f}=\\left(0-v_{o}\\right) / R$, thus\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.41}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{o c}=v_{o} / i_{i} \\rightarrow 1 / b=-R$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow 0$.\n\nThe shunt-shunt configuration forms the basis of the widely-used inverting voltage amplifier shown in Fig. 7.19a. Although this is a voltage-in, voltage-out amplifier, from a feedback perspective, it is a shunt-shunt configuration. This becomes clearer if we perform a source transformation to convert the voltage $v_{i}$ to the current $i_{i}=v_{i} / R_{1}$. Then, the closed-loop voltage gain is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{v_{o}}{v_{i}}=\\frac{v_{o}}{i_{i}} \\times \\frac{i_{i}}{v_{i}}=\\left(-R_{2}\\right) \\times \\frac{1}{R_{1}}=-\\frac{R_{2}}{R_{1}} \\tag{7.42}\n\\end{equation*}\n$$\n\n- Series-Series Configuration (Fig. 7.18c): The natural signals for this circuit are a voltage at the input and a current at the output. The feedback network's task is to sense the output current $i_{o}$ in series and convert it to the feedback voltage $v_{f}$ to be summed with the input $v_{i}$ in series. Remarkably, both operations are performed by a single resistor, $R$. As previously discussed, the op amp's input port appears as an open circuit to the feedback network for all practical purposes. We can thus use Ohm's law and write $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.43}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.19(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vi, N2: InN(av)}\nname: R2, type: Resistor, value: R2, ports: {N1: InN(av), N2: vo}\nname: av, type: OpAmp, value: av, ports: {InP: GND, InN: InN(av), Out: vo}\n]\nextrainfo:The circuit is an inverting voltage amplifier configured as a shunt-shunt amplifier. The feedback network senses the output current and converts it to a feedback voltage using a single resistor R.\n\nFIGURE 7.19 The popular inverting voltage amplifier is actually a shunt-shunt amplifier, as demonstrated by the source transformation.\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit gives $A_{s c}=i_{o} / v_{i} \\rightarrow 1 / b=1 / R$. Moreover, the resistance seen by the input source is $R_{i} \\rightarrow \\infty$, and that seen by the output load is $R_{o} \\rightarrow \\infty$.\n\n- Shunt-Series Configuration (Fig. 7.18d): The natural signals for this circuit are a current at the input and a current at the output. Given that the inverting-input node is at 0 V, we can apply the current-divider rule and write\n\n$$\n-i_{f}=\\frac{R_{1}}{R_{1}+R_{2}} i_{o}\n$$\n\nso\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=\\frac{-R_{1}}{R_{1}+R_{2}}=\\frac{-1}{1+R_{2} / R_{1}} \\tag{7.44}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{s c}=i_{o} / i_{i} \\rightarrow-\\left(1+R_{2} / R_{1}\\right)$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Sometimes, the processes of input summing and output sensing are not immediately apparent. To develop a quick understanding, let's examine real circuit examples using the op amp, the most widely used building block for negative-feedback operations. Although the op amp is fundamentally a voltage-type amplifier (highlighted by using the symbol $a_{v}$ for its voltage gain), it can be employed in any of the four feedback topologies discussed earlier, further justifying its designation as operational.\n\n- Series-Shunt Configuration (Fig. 7.18a): We have previously analyzed this setup in relation to Fig. 7.2. With a sufficiently high loop gain, typical in op amp circuits, the input error voltage $v_{\\varepsilon}$ will be\nimage_name:Series-Shunt Configuration (Fig. 7.18a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: vf}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Other, ports: {N1: vo, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b.\n\n(a) Series-shunt: $b=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}$\nimage_name:FIGURE 7.18\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Diode, ports: {Na: vo, Nc: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b. For series-shunt configuration, the feedback factor b is given by b = R1 / (R1 + R2).\n\n(c) Series-series: $b=\\frac{v_{f}}{i_{o}}=R$\nimage_name:Series-shunt feedback amplifier configuration\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: GND, Nn: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: vo}\nname: a_v, type: OpAmp, value: a_v, ports: {InP: GND, InN: vf, OutP: vo}\nname: LD, type: Diode, ports: {Na: vo, Nc: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(b) Shunt-shunt: $b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}$\nimage_name:Figure 7.18\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: X2}\nname: LD, type: Diode, ports: {Na: Out, Nc: X2}\nname: av, type: OpAmp, value: av, ports: {InP: vf, InN: GND, OutP: Out}\nname: ii, type: CurrentSource, value: ii, ports: {Np: vf, Nn: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R2, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(d) Shunt-series: $b=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}$\n\nFIGURE 7.18 Illustrating the four basic negative-feedback topologies using op amps.\nextremely small, indicating an almost negligible current through the op amp's internal resistance $r_{i}$. Consequently, for practical purposes, the op amp's input port appears as an open circuit to the feedback network. This allows us to apply the voltage divider rule and write\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{i}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.40}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{o c}=v_{o} / v_{i} \\rightarrow 1 / b=1+R_{2} / R_{1}$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$.\n\n- Shunt-Shunt Configuration (Fig. 7.18b): Students familiar with basic op amp theory will recall that in the ideal limit $a_{v} \\rightarrow \\infty$, the inverting-input node, also known as a current-summing junction, behaves as a virtual ground. The natural input signal in this case is a current, so the error signal is $i_{\\varepsilon}=i_{i}-i_{\\rho}$, as shown. Additionally, with the inverting-input node at 0 V, Ohm's law gives $i_{f}=\\left(0-v_{o}\\right) / R$, thus\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.41}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{o c}=v_{o} / i_{i} \\rightarrow 1 / b=-R$. Furthermore, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow 0$.\n\nThe shunt-shunt configuration forms the foundation of the widely used inverting voltage amplifier shown in Fig. 7.19a. Despite being a voltage-in, voltage-out amplifier, it is fundamentally a shunt-shunt configuration from a feedback perspective. This becomes clearer if we perform a source transformation to convert the voltage $v_{i}$ to the current $i_{i}=v_{i} / R_{1}$. Then, the closed-loop voltage gain is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{v_{o}}{v_{i}}=\\frac{v_{o}}{i_{i}} \\times \\frac{i_{i}}{v_{i}}=\\left(-R_{2}\\right) \\times \\frac{1}{R_{1}}=-\\frac{R_{2}}{R_{1}} \\tag{7.42}\n\\end{equation*}\n$$\n\n- Series-Series Configuration (Fig. 7.18c): The natural signals for this circuit are a voltage at the input and a current at the output. The feedback network's role is to sense the output current $i_{o}$ in series and convert it to the feedback voltage $v_{f}$ to be summed with the input $v_{i}$ in series. Remarkably, both operations are executed by a single resistor, $R$. As previously discussed, the op amp's input port effectively appears as an open circuit to the feedback network. Therefore, using Ohm's law, we can write $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.43}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.19(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vi, N2: InN(av)}\nname: R2, type: Resistor, value: R2, ports: {N1: InN(av), N2: vo}\nname: av, type: OpAmp, value: av, ports: {InP: GND, InN: InN(av), Out: vo}\n]\nextrainfo:The circuit is an inverting voltage amplifier configured as a shunt-shunt amplifier. The feedback network senses the output current and converts it to a feedback voltage using a single resistor R.\n\nFIGURE 7.19 The popular inverting voltage amplifier is actually a shunt-shunt amplifier, as demonstrated by the source transformation.\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit provides $A_{s c}=i_{o} / v_{i} \\rightarrow 1 / b=1 / R$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow \\infty$, and that seen by the output load is $R_{o} \\rightarrow \\infty$.\n\n- Shunt-Series Configuration (Fig. 7.18d): The natural signals for this circuit are a current at the input and a current at the output. Given that the inverting-input node is at 0 V, we can apply the current-divider rule and write\n\n$$\n-i_{f}=\\frac{R_{1}}{R_{1}+R_{2}} i_{o}\n$$\n\nso\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=\\frac{-R_{1}}{R_{1}+R_{2}}=\\frac{-1}{1+R_{2} / R_{1}} \\tag{7.44}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{s c}=i_{o} / i_{i} \\rightarrow-\\left(1+R_{2} / R_{1}\\right)$. Moreover, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow \\infty$."
},
{
    "text": "Sometimes, the processes of input summation and output sensing are not immediately evident. To develop a quick understanding, let's analyze actual circuit examples using the op amp, the most widely used component designed for negative-feedback operation. Although the op amp is fundamentally a voltage-type amplifier (highlighted by using the symbol $a_{v}$ for its voltage gain), it can be employed in any of the four feedback topologies discussed earlier, further justifying its designation as \"operational.\"\n\n- **Series-Shunt Configuration (Fig. 7.18a)**: We have previously examined this setup in relation to Fig. 7.2. With a sufficiently high loop gain, typical in op amp circuits, the input error voltage $v_{\\varepsilon}$ will be\nimage_name:Series-Shunt Configuration (Fig. 7.18a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: vf}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Other, ports: {N1: vo, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b.\n\n(a) Series-shunt: $b=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}$\nimage_name:FIGURE 7.18\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: av, type: OpAmp, value: av, ports: {InP: Vi, InN: vf, OutP: vo, OutN: GND}\nname: LD, type: Diode, ports: {Na: vo, Nc: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration. The input voltage source Vi provides the input signal. The operational amplifier with voltage gain av amplifies the input signal. The feedback network consists of resistors R1 and R2, which determine the feedback factor b. For series-shunt configuration, the feedback factor b is given by b = R1 / (R1 + R2).\n\n(c) Series-series: $b=\\frac{v_{f}}{i_{o}}=R$\nimage_name:Series-shunt feedback amplifier configuration\ndescription:\n[\nname: i_i, type: CurrentSource, value: i_i, ports: {Np: GND, Nn: vf}\nname: R, type: Resistor, value: R, ports: {N1: vf, N2: vo}\nname: a_v, type: OpAmp, value: a_v, ports: {InP: GND, InN: vf, OutP: vo}\nname: LD, type: Diode, ports: {Na: vo, Nc: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(b) Shunt-shunt: $b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}$\nimage_name:Figure 7.18\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: X2}\nname: LD, type: Diode, ports: {Na: Out, Nc: X2}\nname: av, type: OpAmp, value: av, ports: {InP: vf, InN: GND, OutP: Out}\nname: ii, type: CurrentSource, value: ii, ports: {Np: vf, Nn: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier configuration with a current source input. The feedback is provided through resistor R2, and the output is connected to a diode LD. The feedback factor b is given by b = R1 / (R1 + R2) for the series-shunt configuration.\n\n(d) Shunt-series: $b=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}$\n\nFIGURE 7.18 Illustrating the four basic negative-feedback topologies using op amps.\nvanishingly small, indicating an extremely small current through the op amp's internal resistance $r_{i}$. Consequently, for practical purposes, the op amp's input port appears as an open circuit to the feedback network. This allows us to apply the voltage divider rule and write\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{i}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.40}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit yields $A_{o c}=v_{o} / v_{i} \\rightarrow 1 / b=1+R_{2} / R_{1}$, $R_{i} \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$.\n\n- **Shunt-Shunt Configuration (Fig. 7.18b)**: Students will recall from basic op amp theory that in the ideal limit $a_{v} \\rightarrow \\infty$, the inverting-input node, also known as a current-summing junction, acts as a virtual ground. The natural input signal in this case is a current, so the error signal is $i_{\\varepsilon}=i_{i}-i_{\\rho}$, as shown. Moreover, with the inverting-input node at 0 V, we have, by Ohm's law, $i_{f}=\\left(0-v_{o}\\right) / R$, thus\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.41}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{o c}=v_{o} / i_{i} \\rightarrow 1 / b=-R$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow 0$.\n\nThe shunt-shunt configuration forms the basis of the popular inverting voltage amplifier shown in Fig. 7.19a. Although this is a voltage-in, voltage-out amplifier, from a feedback perspective, it is a shunt-shunt configuration. This becomes clearer if we perform a source transformation to convert the voltage $v_{i}$ to the current $i_{i}=v_{i} / R_{1}$. Then, the closed-loop voltage gain is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{v_{o}}{v_{i}}=\\frac{v_{o}}{i_{i}} \\times \\frac{i_{i}}{v_{i}}=\\left(-R_{2}\\right) \\times \\frac{1}{R_{1}}=-\\frac{R_{2}}{R_{1}} \\tag{7.42}\n\\end{equation*}\n$$\n\n- **Series-Series Configuration (Fig. 7.18c)**: The natural signals for this circuit are a voltage at the input and a current at the output. The feedback network's task is to sense the output current $i_{o}$ in series and convert it to the feedback voltage $v_{f}$ to be summed with the input $v_{i}$ in series. Remarkably, both operations are performed by a single resistance, $R$. As previously discussed, the op amp's input port appears as an open circuit to the feedback network for all practical purposes. We can thus use Ohm's law and write $v_{f}=R i_{o}$, hence\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.43}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.19(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vi, N2: InN(av)}\nname: R2, type: Resistor, value: R2, ports: {N1: InN(av), N2: vo}\nname: av, type: OpAmp, value: av, ports: {InP: GND, InN: InN(av), Out: vo}\n]\nextrainfo:The circuit is an inverting voltage amplifier configured as a shunt-shunt amplifier. The feedback network senses the output current and converts it to a feedback voltage using a single resistor R.\n\nFIGURE 7.19 The popular inverting voltage amplifier is actually a shunt-shunt amplifier, as demonstrated by the source transformation.\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit gives $A_{s c}=i_{o} / v_{i} \\rightarrow 1 / b=1 / R$. Moreover, the resistance seen by the input source is $R_{i} \\rightarrow \\infty$, and that seen by the output load is $R_{o} \\rightarrow \\infty$.\n\n- **Shunt-Series Configuration (Fig. 7.18d)**: The natural signals for this circuit are a current at the input and a current at the output. Given that the inverting-input node is at 0 V, we can apply the current-divider rule and write\n\n$$\n-i_{f}=\\frac{R_{1}}{R_{1}+R_{2}} i_{o}\n$$\n\nthus\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=\\frac{-R_{1}}{R_{1}+R_{2}}=\\frac{-1}{1+R_{2} / R_{1}} \\tag{7.44}\n\\end{equation*}\n$$\n\nIn the ideal op-amp limit $a_{v} \\rightarrow \\infty$, this circuit results in $A_{s c}=i_{o} / i_{i} \\rightarrow-\\left(1+R_{2} / R_{1}\\right)$. Additionally, the resistance seen by the input source is $R_{i} \\rightarrow 0$, and that seen by the output load is $R_{o} \\rightarrow \\infty$."
},
{
    "text": "The feedback networks discussed in Section 7.3 were intentionally idealized to concentrate solely on the impact of negative feedback on the amplifier's parameters $a$, $r_{i}$, and $r_{o}$. In real-world circuits, however, the feedback network imposes loading effects on both the input and output of the amplifier. Additionally, the amplifier and feedback network often intertwine, making it challenging to distinctly separate the two. While a negative-feedback circuit can be comprehensively analyzed using standard methods like nodal or loop analysis, this becomes impractical as the circuit's complexity grows.\n\nFortunately, appropriate approximations can be employed to divide the circuit into a basic amplifier that accounts for loading effects and a separate feedback network. With this division established, we can utilize Eqs. (7.38) and (7.39) to determine the closed-loop parameters $A, R_{i}$, and $R_{o}$. These approximations leverage the предварительное knowledge that with a sufficiently high loop gain $T$, the terminal resistance $R_{i / o}$ adheres to the following:\n\n$$\n\\begin{array}{ll}\n\\lim _{L \\rightarrow \\infty} R_{i / o}=\\infty & \\text { for the series case } \\\\\n\\lim _{L \\rightarrow \\infty} R_{i / o}=0 & \\text { for the shunt case } \\tag{7.45b}\n\\end{array}\n$$\n\nIn simpler terms, the feedback network effectively perceives an open circuit (OC) when connected in series for summing or sensing, and a short circuit (SC) when connected in shunt. The validity and utility of these assertions will become more evident as we delve further into the discussion."
},
{
    "text": "The feedback networks discussed in Section 7.3 were intentionally idealized to concentrate solely on the impact of negative feedback on the amplifier's parameters $a$, $r_{i}$, and $r_{o}$. In real circuits, however, the feedback network imposes loading on both the input and output of the amplifier. Furthermore, the amplifier and feedback network often intertwine, making their distinction less apparent. While a negative-feedback circuit can be comprehensively analyzed using standard methods like nodal or loop analysis, this approach becomes impractical as the circuit's complexity grows.\n\nFortunately, appropriate approximations can be employed to divide the circuit into a basic amplifier that accounts for loading effects and a separate feedback network. With this division established, we can utilize Eqs. (7.38) and (7.39) to determine the closed-loop parameters $A, R_{i}$, and $R_{o}$. These approximations leverage the предвариально known principle that with a sufficiently high loop gain $T$, a terminal resistance $R_{i / o}$ adheres to the following:\n\n$$\n\\begin{array}{ll}\n\\lim _{L \\rightarrow \\infty} R_{i / o}=\\infty & \\text { for the series case } \\\\\n\\lim _{L \\rightarrow \\infty} R_{i / o}=0 & \\text { for the shunt case } \\tag{7.45b}\n\\end{array}\n$$\n\nIn simpler terms, the feedback network effectively perceives an open circuit (OC) when interfacing with an amplifier's port in a series configuration for summing or sensing, and a short circuit (SC) in a shunt configuration. The validity and utility of these assertions will become more evident as we progress."
},
{
    "text": "The feedback networks discussed in Section 7.3 were intentionally idealized to concentrate solely on the impact of negative feedback on the amplifier's parameters $a$, $r_{i}$, and $r_{o}$. In real-world circuits, however, the feedback network imposes loading on both the input and output of the amplifier. Additionally, the amplifier and feedback network often intertwine, making their distinction less straightforward. While a negative-feedback circuit can be comprehensively analyzed using standard methods like nodal or loop analysis, this approach becomes impractical as the circuit's complexity grows.\n\nFortunately, appropriate approximations can be employed to divide the circuit into a basic amplifier that accounts for loading effects and a separate feedback network. With this division established, we can utilize Eqs. (7.38) and (7.39) to determine the closed-loop parameters $A, R_{i}$, and $R_{o}$. These approximations leverage the预先 knowledge that with a sufficiently high loop gain $T$, a terminal resistance $R_{i / o}$ adheres to the following:\n\n$$\n\\begin{array}{ll}\n\\lim _{L \\rightarrow \\infty} R_{i / o}=\\infty & \\text { for the series case } \\\\\n\\lim _{L \\rightarrow \\infty} R_{i / o}=0 & \\text { for the shunt case } \\tag{7.45b}\n\\end{array}\n$$\n\nIn simpler terms, the feedback network effectively encounters an open circuit (OC) when examining an amplifier's port where series summing or sensing occurs, and a short circuit (SC) when shunt summing or sensing is involved. The validity and utility of these assertions will become more evident as we advance."
},
{
    "text": "The feedback networks discussed in Section 7.3 were intentionally idealized to allow us to concentrate solely on the impact of negative feedback on the amplifier's parameters $a$, $r_{i}$, and $r_{o}$. In a real-world circuit, the feedback network imposes loading on both the input and output of the amplifier. Additionally, the amplifier and feedback network are often intertwined, making it challenging to clearly distinguish between the two. While a negative-feedback circuit can be comprehensively analyzed using standard methods like nodal or loop analysis, this approach becomes impractical as the circuit's complexity grows.\n\nFortunately, appropriate approximations can be employed to divide the circuit into a fundamental amplifier that accounts for loading effects and a separate feedback network. With this division established, we can then utilize Eqs. (7.38) and (7.39) to determine the closed-loop parameters $A, R_{i}$, and $R_{o}$. These approximations leverage the prior knowledge that with a sufficiently high loop gain $T$, a terminal resistance $R_{i / o}$ adheres to the following:\n\n$$\n\\begin{array}{ll}\n\\lim _{L \\rightarrow \\infty} R_{i / o}=\\infty & \\text { for the series case } \\\\\n\\lim _{L \\rightarrow \\infty} R_{i / o}=0 & \\text { for the shunt case } \\tag{7.45b}\n\\end{array}\n$$\n\nIn simpler terms, the feedback network effectively perceives an open circuit (OC) when examining an amplifier's port where series summing or sensing occurs, and a short circuit (SC) when shunt summing or sensing is involved. The validity and utility of these assertions will become more evident as we continue our discussion."
},
{
    "text": "The feedback networks discussed in Section 7.3 were intentionally idealized to concentrate solely on the impact of negative feedback on the amplifier's parameters $a$, $r_{i}$, and $r_{o}$. In real-world circuits, the feedback network imposes loading at both the input and output of the amplifier. Additionally, the amplifier and feedback network often intertwine, making it challenging to distinctly separate them. While a negative-feedback circuit can be comprehensively analyzed using standard methods like nodal or loop analysis, this becomes impractical as the circuit's complexity grows.\n\nFortunately, appropriate approximations can be employed to divide the circuit into a basic amplifier that accounts for loading effects and a separate feedback network. With this division established, we can utilize Eqs. (7.38) and (7.39) to determine the closed-loop parameters $A, R_{i}$, and $R_{o}$. These approximations leverage the principle that, given a sufficiently high loop gain $T$, a terminal resistance $R_{i / o}$ adheres to the following:\n\n$$\n\\begin{array}{ll}\n\\lim _{L \\rightarrow \\infty} R_{i / o}=\\infty & \\text { for the series case } \\\\\n\\lim _{L \\rightarrow \\infty} R_{i / o}=0 & \\text { for the shunt case } \\tag{7.45b}\n\\end{array}\n$$\n\nIn simpler terms, the feedback network effectively perceives an open circuit (OC) when connected in series for summing or sensing, and a short circuit (SC) when connected in shunt. The validity and utility of these assertions will become more evident as we progress."
},
{
    "text": "The feedback networks discussed in Section 7.3 were intentionally idealized to allow us to concentrate solely on the impact of negative feedback on the amplifier's parameters $a$, $r_{i}$, and $r_{o}$. In real-world circuits, however, the feedback network imposes loading effects on both the input and output of the amplifier. Furthermore, the amplifier and feedback network often intertwine, making their distinction less apparent. While a negative-feedback circuit can be comprehensively analyzed using conventional methods like nodal or loop analysis, this becomes impractical as the circuit's complexity grows.\n\nFortunately, appropriate approximations can be employed to dissect the circuit into a fundamental amplifier that accounts for loading effects, and a separate feedback network. Armed with this division, we can then utilize Eqs. (7.38) and (7.39) to determine the closed-loop parameters $A, R_{i}$, and $R_{o}$. These approximations leverage the prior knowledge that with a sufficiently large loop gain $T$, a terminal resistance $R_{i / o}$ adheres to the following:\n\n$$\n\\begin{array}{ll}\n\\lim _{L \\rightarrow \\infty} R_{i / o}=\\infty & \\text { for the series case } \\\\\n\\lim _{L \\rightarrow \\infty} R_{i / o}=0 & \\text { for the shunt case } \\tag{7.45b}\n\\end{array}\n$$\n\nIn essence, the feedback network perceives an open circuit (OC) when examining an amplifier's port where series summing or sensing occurs, and a short circuit (SC) when shunt summing or sensing is involved. The validity and utility of these assertions will become more evident as we advance in our discussion."
},
{
    "text": "The feedback networks discussed in Section 7.3 were intentionally idealized to concentrate solely on the impact of negative feedback on the amplifier's parameters $a$, $r_{i}$, and $r_{o}$. In real-world circuits, the feedback network imposes loading effects on both the input and output of the amplifier. Additionally, the amplifier and feedback network often intertwine, making their distinction less apparent. While a negative-feedback circuit can be comprehensively analyzed using standard methods like nodal or loop analysis, this becomes impractical as the circuit's complexity grows.\n\nFortunately, appropriate approximations can be employed to divide the circuit into a fundamental amplifier that accounts for loading effects and a separate feedback network. With this division established, we can utilize Eqs. (7.38) and (7.39) to determine the closed-loop parameters $A, R_{i}$, and $R_{o}$. These approximations leverage the pre-existing understanding that, with a sufficiently high loop gain $T$, a terminal resistance $R_{i / o}$ adheres to the following:\n\n$$\n\\begin{array}{ll}\n\\lim _{L \\rightarrow \\infty} R_{i / o}=\\infty & \\text { for the series case } \\\\\n\\lim _{L \\rightarrow \\infty} R_{i / o}=0 & \\text { for the shunt case } \\tag{7.45b}\n\\end{array}\n$$\n\nIn simpler terms, the feedback network effectively encounters an open circuit (OC) when examining an amplifier's port where series summing or sensing occurs, and a short circuit (SC) when shunt summing or sensing is involved. The validity and utility of these assertions will become more evident as we progress further."
},
{
    "text": "The feedback networks discussed in Section 7.3 were intentionally treated as idealized to concentrate solely on the impact of negative feedback on the amplifier's parameters $a$, $r_{i}$, and $r_{o}$. In real-world circuits, however, the feedback network imposes loading effects on both the input and output of the amplifier. Additionally, the amplifier and feedback network often intertwine, making their distinction less apparent. While a negative-feedback circuit can be comprehensively analyzed using standard methods like nodal or loop analysis, this approach becomes impractical as the circuit's complexity grows.\n\nFortunately, appropriate approximations can be employed to divide the circuit into a fundamental amplifier that accounts for loading effects and a separate feedback network. With this division established, we can utilize Eqs. (7.38) and (7.39) to determine the closed-loop parameters $A, R_{i}$, and $R_{o}$. These approximations leverage the pre-existing understanding that with a sufficiently large loop gain $T$, the terminal resistance $R_{i / o}$ adheres to the following:\n\n$$\n\\begin{array}{ll}\n\\lim _{L \\rightarrow \\infty} R_{i / o}=\\infty & \\text { for the series case } \\\\\n\\lim _{L \\rightarrow \\infty} R_{i / o}=0 & \\text { for the shunt case } \\tag{7.45b}\n\\end{array}\n$$\n\nIn simpler terms, the feedback network effectively perceives an open circuit (OC) when it interfaces with an amplifier's port in a series configuration for summing or sensing, and a short circuit (SC) in a shunt configuration. The validity and utility of these assertions will become more evident as our discussion progresses."
},
{
    "text": "The non-inverting op-amp configuration, depicted in Fig. 7.18a, serves as a quintessential example of a series-shunt circuit. We revisit this configuration, focusing on the interplay between the error amplifier's internal resistances, \\( r_i \\) and \\( r_o \\), and the external resistances, \\( R_1 \\) and \\( R_2 \\), which constitute the feedback network. This interplay results in loading at both the amplifier's input and output. To isolate the impact of the feedback network's loading, we continue to assume a driving source \\( v_i \\) with zero series resistance and an unloaded (open-circuited) output port, as shown in Fig. 7.20.\n\nThe circuit in Fig. 7.20 is a non-inverting op-amp configuration with internal resistances \\( r_i \\) and \\( r_o \\) explicitly shown, including a feedback network formed by resistors \\( R_1 \\) and \\( R_2 \\). The input voltage source is \\( V_i \\), and there is an additional loading resistor \\( R_o \\) at the output.\n\nTo examine loading at the input port, observe that the external resistance perceived by this port is \\( R_1 || (R_2 + r_o) \\). However, we know beforehand that in feedback operation, the system will present a very low resistance at the output node due to shunt-type sensing there, effectively making \\( R_o \\rightarrow 0 \\). This negates the effect of \\( r_o \\), causing the external resistance seen by the amplifier's input port to be effectively \\( R_1 || R_2 \\). This is illustrated in the amplifier's equivalent circuit in Fig. 7.21a, where \\( R_2 \\) is shown short-circuited (SC) to ground.\n\nTo examine loading at the output port, note that the external resistance perceived by this port appears to be \\( R_2 + (R_1 || r_i) \\). However, we know beforehand that in feedback operation, the system will present a very high resistance at the input node due to series-type summing there, effectively making \\( R_i \\rightarrow \\infty \\). This stems from the fact that \\( v_{\\varepsilon} \\rightarrow 0 \\), making the current through \\( r_i \\) negligible and thus negating the effect of \\( r_i \\). For practical purposes, the amplifier's input port appears as an open circuit to the feedback network. This is also depicted in Fig. 7.21a, where the node common to \\( R_1 \\) and \\( R_2 \\) is shown as open-circuited (OC), indicating that the external resistance seen by the amplifier's output port is effectively \\( R_2 + R_1 \\).\n\nWith the feedback path interrupted both at the output (via short circuiting) and at the input (via open circuiting), the circuit of Fig. 7.21a represents the error amplifier in open-loop operation, but with loading by the external feedback network specifically considered at both ports. Next, we aim to determine its open-loop parameters, now denoted as \\( a (=v_o / v_{\\varepsilon}) \\), \\( r_{ia} \\), and \\( r_{oa} \\). By the voltage divider rule, we have:\n\n$$\nv_o = \\frac{R_1 + R_2}{r_o + R_1 + R_2} a_v v_d = \\frac{R_1 + R_2}{r_o + R_1 + R_2} a_v \\frac{r_i}{r_i + (R_1 || R_2)} v_{\\varepsilon}\n$$\n\nThus:\n\n$$\na = \\frac{v_o}{v_{\\varepsilon}} = \\frac{r_i}{r_i + (R_1 || R_2)} a_v \\frac{R_1 + R_2}{r_o + R_1 + R_2} \\tag{7.46}\n$$\n\nNote that \\( a < a_v \\) because of input and output loading. By inspection, we also have:\n\n$$\nr_{ia} = r_i + (R_1 || R_2) \\quad r_{oa} = r_o || (R_2 + R_1) \\tag{7.47}\n$$\n\nNext, we seek a representation for the feedback network that is separate from the basic amplifier. Referring back to Fig. 7.20, we observe that at the sensing side, this network is driven by a voltage source \\( v_o \\) expected to exhibit extremely low series resistance \\( R_o \\), and that at the summing side, it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). The circuit for calculating \\( b \\) is thus as in Fig. 7.21b, from which we readily find:\n\n$$\nb = \\frac{v_f}{v_o} = \\frac{R_1}{R_1 + R_2} = \\frac{1}{1 + R_2 / R_1} \\tag{7.48}\n$$\n\nFinally, we apply Eq. (7.28) to find the unloaded gain \\( A_{oc} \\), and Eqs. (7.29) and (7.30), but with \\( r_i \\) and \\( r_o \\) replaced by \\( r_{ia} \\) and \\( r_{oa} \\), to find the closed-loop terminal resistances \\( R_i \\) and \\( R_o \\). Once these three parameters are known, we can use them in the general case where the feedback amplifier is driven by a signal source \\( v_{sig} \\) with nonzero series resistance \\( R_{sig} \\) and drives a non-infinite output load \\( R_L \\). With reference to the circuit model of Fig. 7.22, the source-to-load gain \\( v_o / v_{sig} \\), also called the loaded gain, is readily found as:\n\n$$\n\\frac{v_o}{v_{sig}} = \\frac{R_i}{R_{sig} + R_i} A_{oc} \\frac{R_L}{R_o + R_L} \\tag{7.49}\n$$\n\nThe circuit in Fig. 7.22 is a closed-loop voltage amplifier model driven by a source \\( v_{sig} \\) and driving an external load \\( R_L \\). It includes a voltage-controlled voltage source \\( A_{oc}V_i \\) representing the amplifier with input resistance \\( R_i \\) and output resistance \\( R_o \\).\n\nIn the circuit of Fig. 7.20, if the op-amp is of moderate quality with \\( a_v = 1000 \\mathrm{~V/V} \\), \\( r_i = 10 \\mathrm{k\\Omega} \\), and \\( r_o = 1.0 \\mathrm{k\\Omega} \\), and \\( R_1 = 1.0 \\mathrm{k\\Omega} \\) and \\( R_2 = 9.0 \\mathrm{k\\Omega} \\), find \\( R_i \\), \\( R_o \\), and the unloaded gain \\( A_{oc} \\).\n\nUsing Eqs. (7.46) through (7.48), we have:\n\n$$\n\\begin{aligned}\na &= \\frac{10}{10 + (1.0 || 9.0)} 1000 \\frac{1.0 + 9.0}{1.0 + 1.0 + 9.0} = 0.917 \\times 1000 \\times 0.909 \\\\\n&= 833.3 \\mathrm{~V/V} (< 1000 \\mathrm{~V/V}) \\\\\nr_{ia} &= 10 + (1.0 || 9.0) = 10.9 \\mathrm{k\\Omega} \\quad r_{oa} = 1.0 || (9.0 + 1.0) = 0.909 \\mathrm{k\\Omega} \\\\\nb &= \\frac{1.0}{1.0 + 9.0} = \\frac{1}{10} \\mathrm{~V/V}\n\\end{aligned}\n$$\n\nThus, \\( L = ab = 833.3 / 10 = 83.33 \\), so:\n\n$$\n\\begin{aligned}\nA_{oc} &= \\frac{10}{1 + 1 / 83.33} = 9.881 \\mathrm{~V/V} \\\\\nR_i &= 10.9 \\times 10^3 (1 + 83.33) \\cong 920 \\mathrm{k\\Omega} \\\\\nR_o &= \\frac{909}{1 + 83.33} \\cong 10.8 \\Omega\n\\end{aligned}\n$$\n\nBy Eq. (7.49), the source-to-load gain is:\n\n$$\n\\begin{aligned}\n\\frac{v_o}{v_{sig}} &= \\frac{920}{20 + 920} 9.88 \\frac{2000}{10.8 + 2000} = 0.979 \\times 9.881 \\times 0.995 \\\\\n&= 9.618 \\mathrm{~V/V} (< A_{oc})\n\\end{aligned}\n$$\n\nThe line of reasoning developed for the above example can be generalized to the following Series-Shunt Procedure:\n\n- To calculate loading at the input of the basic amplifier, short-circuit (SC) the sensing-side port of the feedback network.\n- To calculate loading at the output of the basic amplifier, open-circuit (OC) the summing-side port of the feedback network.\n- To find \\( b \\), apply a voltage \\( v_o \\) to the sensing-side port of the feedback network, find the open-circuit (OC) voltage \\( v_f \\) at the summing-side port of the feedback network, and let \\( b = v_f / v_o \\).\n\nWe shall illustrate the procedure with additional examples."
},
{
    "text": "We have previously examined the non-inverting operational amplifier configuration as a typical series-shunt circuit example in Fig. $7.18 a$. We now revisit this configuration, focusing on the interaction between the internal resistances $r_{i}$ and $r_{o}$ of the error amplifier and the external resistances $R_{1}$ and $R_{2}$ that form the feedback network. This interaction leads to loading effects at both the amplifier's input and output. To isolate the loading caused by the feedback network, we continue to assume a driving source $v_{i}$ with zero series resistance and an unloaded (open-circuited) output port, as depicted in Fig. 7.20.\n\nThe circuit in Fig. 7.20 shows a non-inverting op-amp configuration with explicit internal resistances $r_{i}$ and $r_{o}$, including a feedback network composed of resistors $R_{1}$ and $R_{2}$. The input voltage source is $V_{i}$, and there is an additional loading resistor $R_{o}$ at the output.\n\nTo analyze the loading at the input port, we observe that the external resistance seen by this port would ideally be $R_{1} || (R_{2} + r_{o})$. However, we know that in feedback operation, the system will exhibit an extremely low output resistance $(R_{o} \\rightarrow 0)$ due to the shunt-type sensing at the output node. This negates the effect of $r_{o}$, resulting in an effective external resistance at the amplifier's input port of $R_{1} || R_{2}$. This is illustrated in the equivalent circuit of the amplifier in Fig. 7.21a, where $R_{2}$ is shown short-circuited (SC) to ground.\n\nFor the output port loading analysis, the external resistance appears to be $R_{2} + (R_{1} || r_{i})$. But in feedback operation, the system will present an extremely high input resistance $(R_{i} \\rightarrow \\infty)$ at the input node due to the series-type summing there. This is because $v_{\\varepsilon} \\rightarrow 0$, making the current through $r_{i}$ negligible and thus overshadowing the effect of $r_{i}$. Practically, the amplifier's input port seems as an open circuit to the feedback network. This is also depicted in Fig. 7.21a, where the node common to $R_{1}$ and $R_{2}$ is shown as open-circuited (OC), indicating that the external resistance seen by the amplifier's output port is effectively $R_{2} + R_{1}$.\n\nWith the feedback path interrupted at the output (via short circuiting) and at the input (via open circuiting), the circuit in Fig. $7.21 a$ represents the error amplifier in open-loop operation, considering the specific loading by the external feedback network at both ports. Next, we aim to determine its open-loop parameters, now denoted as $a (= v_{o} / v_{\\varepsilon}), r_{i a}$, and $r_{o a}$. Using the voltage divider rule, we have\n\n$$\nv_{o} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} v_{d} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} v_{\\varepsilon}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\na = \\frac{v_{o}}{v_{\\varepsilon}} = \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} a_{v} \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} \\tag{7.46}\n\\end{equation*}\n$$\n\nIt's important to note that $a < a_{v}$ due to input and output loading. Additionally, we can deduce by inspection\n\n$$\n\\begin{equation*}\nr_{i a} = r_{i} + (R_{1} || R_{2}) \\quad r_{o a} = r_{o} || (R_{2} + R_{1}) \\tag{7.47}\n\\end{equation*}\n$$\n\nNext, we seek a representation for the feedback network independent of the basic amplifier. Referring back to Fig. 7.20, we observe that at the sensing side, this network is driven by a voltage source $v_{o}$ with an expected extremely low series resistance $R_{o}$. At the summing side, it drives the amplifier's input port, which appears as an open circuit (OC) for practical purposes. The circuit for calculating $b$ is thus as shown in Fig. 7.21b, from which we can easily find\n\n$$\n\\begin{equation*}\nb = \\frac{v_{f}}{v_{o}} = \\frac{R_{1}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}} \\tag{7.48}\n\\end{equation*}\n$$\n\nFinally, we apply Eq. (7.28) to find the unloaded gain $A_{o c}$, and Eqs. (7.29) and (7.30), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to determine the closed-loop terminal resistances $R_{i}$ and $R_{o}$. Once these three parameters are known, we can use them in the general case where the feedback amplifier is driven by a signal source $v_{s i g}$ with a non-zero series resistance $R_{s i g}$ and drives a finite output load $R_{L}$. With reference to the circuit model in Fig. 7.22, the source-to-load gain $v_{o} / v_{\\text {sig }}$, also known as the loaded gain, can be readily found as\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{s i g}} = \\frac{R_{i}}{R_{s i g} + R_{i}} A_{o c} \\frac{R_{L}}{R_{o} + R_{L}} \\tag{7.49}\n\\end{equation*}\n$$\n\nThe circuit in Fig. 7.22 represents a closed-loop voltage amplifier model driven by a source $v_{s i g}$ and driving an external load $R_{L}$. It includes a voltage-controlled voltage source $AocVi$ representing the amplifier with input resistance $R_{i}$ and output resistance $R_{o}\nTo have previously examined the non-inverting operational amplifier configuration as a typical series-shunt circuit example in Fig. $7.18 a$. We now revisit this configuration, focusing on the interaction between the internal resistances $r_{i}$ and $r_{o}$ of the error amplifier and the external resistances $R_{1}$ and $R_{2}$ that form the feedback network. This interaction leads to loading effects at both the amplifier's input and output. To isolate the loading caused by the feedback network, we continue to assume a driving source $v_{i}$ with zero series resistance and an unloaded (open-circuited) output port, as depicted in Fig. 7.20.\n\nIn Fig. 7.20, the non-inverting op-amp configuration is shown with explicit internal resistances $r_{i}$ and $r_{o}$, including a feedback network composed of resistors $R_{1}$ and $R_{2}$. The input voltage source is $V_{i}$, and there is an additional loading resistor $R_{o}$ at the output.\n\nTo analyze the loading at the input port, we observe that the external resistance seen by this port would ideally be $R_{1} || (R_{2} + r_{o})$. However, we know that in feedback operation, the system will exhibit an extremely low output resistance $(R_{o} \\rightarrow 0)$ due to the shunt-type sensing at the output node. This negates the effect of $r_{o}$, resulting in an effective external resistance at the amplifier's input port of $R_{1} || R_{2}$. This is illustrated in the equivalent circuit of the amplifier in Fig. 7.21a, where $R_{2}$ is shown short-circuited (SC) to ground.\n\nFor the output port loading analysis, the external resistance appears to be $R_{2} + (R_{1} || r_{i})$. But in feedback operation, the system will present an extremely high input resistance $(R_{i} \\rightarrow \\infty)$ at the input node due to the series-type summing there. This is because $v_{\\varepsilon} \\rightarrow 0$, making the current through $r_{i}$ negligible and thus overshadowing the effect of $r_{i}$. Practically, the amplifier's input port seems as an open circuit to the feedback network. This is also depicted in Fig. 7.21a, where the node common to $R_{1}$ and $R_{2}$ is shown as open-circuited (OC), indicating that the external resistance seen by the amplifier's output port is effectively $R_{2} + R_{1}$.\n\nWith the feedback path interrupted at the output (via short circuiting) and at the input (via open circuiting), the circuit in Fig. $7.21 a$ represents the error amplifier in open-loop operation, considering the specific loading by the external feedback network at both ports. Next, we aim to determine its open-loop parameters, now denoted as $a (= v_{o} / v_{\\varepsilon}), r_{i a}$, and $r_{o a}$. Using the voltage divider rule, we have\n\n$$\nv_{o} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} v_{d} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} v_{\\varepsilon}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\na = \\frac{v_{o}}{v_{\\varepsilon}} = \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} a_{v} \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} \\tag{7.46}\n\\end{equation*}\n$$\n\nIt's important to note that $a < a_{v}$ due to input and output loading. Additionally, we can deduce by inspection\n\n$$\n\\begin{equation*}\nr_{i a} = r_{i} + (R_{1} || R_{2}) \\quad r_{o a} = r_{o} || (R_{2} + R_{1}) \\tag{7.47}\n\\end{equation*}\n$$\n\nNext, we seek a representation for the feedback network independent of the basic amplifier. Referring back to Fig. 7.20, we observe that at the sensing side, this network is driven by a voltage source $v_{o}$ with an expected extremely low series resistance $R_{o}$. At the summing side, it drives the amplifier's input port, which appears as an open circuit (OC) for practical purposes. The circuit for calculating $b$ is thus as shown in Fig. 7.21b, from which we can easily find\n\n$$\n\\begin{equation*}\nb = \\frac{v_{f}}{v_{o}} = \\frac{R_{1}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}} \\tag{7.48}\n\\end{equation*}\n$$\n\nFinally, we apply Eq. (7.28) to find the unloaded gain $A_{o c}$, and Eqs. (7.29) and (7.30), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to determine the closed-loop terminal resistances $R_{i}$ and $R_{o}$. Once these three parameters are known, we can use them in the general case where the feedback amplifier is driven by a signal source $v_{s i g}$ with a non-zero series resistance $R_{s i g}$ and drives a finite output load $R_{L}$. With reference to the circuit model in Fig. 7.22, the source-to-load gain $v_{o} / v_{\\text {sig }}$, also known as the loaded gain, can be readily found as\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{s i g}} = \\frac{R_{i}}{R_{s i g} + R_{i}} A_{o c} \\frac{R_{L}}{R_{o} + R_{L}} \\tag{7.49}\n\\end{equation*}\n$$\n\nThe circuit in Fig. 7.22 represents a closed-loop voltage amplifier model driven by a source $v_{s i g}$ and driving an external load $R_{L}$. It includes a voltage-controlled voltage source $AocVi$ representing the amplifier with input resistance $R_{i}$ and output resistance $R_{o}$."
},
{
    "text": "In Figure 7.18a, we delve into the non-inverting operational amplifier (op-amp) configuration, serving as a quintessential illustration of a series-shunt circuit. We revisit this configuration, concentrating on the interplay between the error amplifier's inherent resistances $r_i$ and $r_o$ and the external resistances $R_1$ and $R_2$ that constitute the feedback network. This interplay produces a loading effect on both the input and output of the amplifier. To isolate the impact of the feedback network's loading, we maintain the assumption of a voltage source $v_i$ with negligible series resistance and an unburdened (open-circuited) output node, as depicted in Figure 7.20.\n\nimage_name:FIGURE 7.20\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: vo}\nname: OpAmp, type: OpAmp, ports: {InP: Vi, InN: vf, OutP: vo}\n]\nextrainfo:The circuit illustrates a non-inverting op-amp configuration with internal resistances $r_i$ and $r_o$ clearly identified. It incorporates a feedback network consisting of resistors R1 and R2. The input voltage source is denoted as Vi, and an additional loading resistor $R_o$ is present at the output.\n\nFIGURE 7.20 Showcases the non-inverting op-amp with its internal resistances $r_i$ and $r_o$ explicitly displayed.\n\nTo probe the loading at the input port, note that the external resistance perceived by this port would seem to be $R_1 / /\\left(R_2 + r_o\\right)$. However, we are aware beforehand that during feedback operation, the system presents a significantly low resistance $\\left(R_o \\rightarrow 0\\right)$ at the output node due to its shunt sensing nature. This overshadows the influence of $r_o$, making the external resistance perceived by the amplifier's input port essentially $R_1 / / R_2$. This is illustrated in the op-amp's equivalent circuit of Figure 7.21a, where $R_2$ is depicted as shorted to ground.\n\nTo examine the loading at the output port, note that the external resistance perceived by this port would seem to be $R_2 + \\left(R_1 / / r_i\\right)$. Nevertheless, we are aware beforehand that in feedback operation, the system offers a greatly elevated resistance $\\left(R_i \\rightarrow \\infty\\right)$ at the input node due to its series-type summation. This stems from the fact that $v_{\\varepsilon} \\rightarrow 0$, making the current through $r_i$ utterly insignificant and, as a result, overshadowing the impact of $r_i$. Practically speaking, the amplifier's input port behaves as an open circuit to the feedback network. This is also depicted in Figure 7.21a, where the node shared by $R_1$ and $R_2$ is shown as open-circuited (OC), indicating that the external resistance perceived by the amplifier's output port is effectively $R_2 + R_1$.\n\nWith the feedback path disrupted at both the output (via shorting) and the input (via opening), the circuit of Figure 7.21a depicts the error amplifier in open-loop operation, yet with the specific loading introduced by the external feedback network considered at both ports. Subsequently, we aim to determine its open-loop parameters, now denoted as $a\\left(=v_{o} / v_{\\varepsilon}\\right), r_{ia}$, and $r_{oa}$. By the voltage divider rule, we obtain\n\n$$\nv_{o}=\\frac{R_{1}+R_{2}}{r_{o}+R_{1}+R_{2}} a_{v} v_{d}=\\frac{R_{1}+R_{2}}{r_{o}+R_{1}+R_{2}} a_{v} \\frac{r_i}{r_i+\\left(R_{1} / / R_{2}\\right)} v_{\\varepsilon}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\na=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_i}{r_i+\\left(R_{1} / / R_{2}\\right)} a_{v} \\frac{R_{1}+R_{2}}{r_{o}+R_{1}+R_{2}} \\tag{7.46}\n\\end{equation*}\n$$\n\nObserve that $a<a_v$ due to the loading effects at the input and output. Furthermore, we have, by inspection\n\n$$\n\\begin{equation*}\nr_{ia}=r_i+\\left(R_{1} / / R_{2}\\right) \\quad r_{oa}=r_o / /\\left(R_2+R_1\\right) \\tag{7.47}\n\\end{equation*}\n$$\n\nNext, we seek a representation of the feedback network that is distinct from the fundamental amplifier. Referencing Figure 7.20, we note that on the sensing side, the network is driven by a voltage source $v_o$ that is anticipated to exhibit exceptionally low series resistance $R_o$, and that on the summation side, it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). Consequently, the circuit for calculating $b$ is as shown in Figure 7.21b, from which we readily find\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_1}{R_1+R_2}=\\frac{1}{1+R_2 / R_1} \\tag{7.48}\n\\end{equation*}\n$$\n\nUltimately, we apply Equation (7.28) to compute the unloaded gain $A_{oc}$, and Equations (7.29) and (7.30), with $r_i$ and $r_o$ replaced by $r_{ia}$ and $r_{oa}$, to ascertain the closed-loop terminal resistances $R_i$ and $R_o$. Once these three parameters are ascertained, we can employ them in the general scenario where the feedback amplifier is powered by a signal source $v_{sig}$ with nonzero series resistance $R_{sig}$ and drives a non-infinite output load $R_L$. With reference to the circuit model of Figure 7.22, the source-to-load gain $v_{o} / v_{sig}$, also known as the loaded gain, is readily computed as\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{sig}}=\\frac{R_i}{R_{sig}+R_i} A_{oc} \\frac{R_L}{R_o+R_L} \\tag{7.49}\n\\end{equation*}\n```\nimage_name:FIGURE 7.22\ndescription:\n[\nname: Vsig, type: VoltageSource, value: Vsig, ports: {Np: Vsig, Nn: GND}\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: Vsig, N2: Vi}\nname: Ri, type: Resistor, value: Ri, ports: {N1: Vi, N2: GND}\nname: AocVi, type: VoltageControlledVoltageSource, value: AocVi, ports: {Np: AocVi, Nn: GND}\nname: Ro, type: Resistor, value: Ro, ports: {N1: AocVi, N2: Vo}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\n]\nextrainfo:The circuit model of Figure 7.22 depicts a closed-loop voltage amplifier driven by a source $v_{sig}$ and an external load $R_L$. It includes a voltage-controlled voltage source AocVi representing the amplifier with input resistance Ri and output resistance Ro.\n\nFIGURE 7.22 Models a closed-loop voltage amplifier driven by a source $v_{sig}$ and an external load $R_L$.\n(a) In the circuit of Figure 7.20, let the op-amp be a typical type with $a_v=$\n\n#### EXAMPLE 7.9\n\n$1000 \\mathrm{~V} / \\mathrm{V}, r_i=10 \\mathrm{k} \\Omega$, and $r_o=1.0 \\mathrm{k} \\Omega$. If $R_1=1.0 \\mathrm{k} \\Omega$ and $R_2=9.0 \\mathrm{k} \\Omega$, find $R_i, R_o$, and the unloaded gain $A_{oc}$.\n(b) Determine the source-to-load gain $A=v_{o} / v_{sig}$ if the feedback amplifier is powered by a signal source $v_{sig}$ having a series resistance $R_{sig}=20 \\mathrm{k} \\Omega$ and a load $R_L=2.0 \\mathrm{k} \\Omega$.\n\n#### Solution\n\n(a) Utilizing Equations (7.46) through (7.48), we have\n\n$$\n\\begin{aligned}\na & =\\frac{10}{10+(1.0 / / 9.0)} 1000 \\frac{1.0+9.0}{1.0+1.0+9.0}=0.917 \\times 1000 \\times 0.909 \\\\\n& =833.3 \\mathrm{~V} / \\mathrm{V}(<1000 \\mathrm{~V} / \\mathrm{V}) \\\\\nr_{ia} & =10+(1.0 / / 9.0)=10.9 \\mathrm{k} \\Omega \\quad r_{oa}=1.0 / /(9.0+1.0)=0.909 \\mathrm{k} \\Omega \\\\\nb & =\\frac{1.0}{1.0+9.0}=\\frac{1}{10} \\mathrm{~V} / \\mathrm{V}\n\\end{aligned}\n$$\n\nConsequently, $L=a b=833.3 / 10=83.33$, so\n\n$$\n\\begin{aligned}\n& A_{oc}=\\frac{10}{1+1 / 83.33}=9.881 \\mathrm{~V} / \\mathrm{V} \\\\\n& R_i=10.9(1+83.33) \\cong 920 \\mathrm{k} \\Omega \\\\\n& R_o=\\frac{909}{1+83.33} \\cong 10.8 \\Omega\n\\end{aligned}\n$$\n\n(b) By Equation (7.49), the source-to-load gain is\n\n$$\n\\begin{aligned}\n\\frac{v_{o}}{v_{sig}} & =\\frac{920}{20+920} 9.88 \\frac{2000}{10.8+2000}=0.979 \\times 9.881 \\times 0.995 \\\\\n& =9.618 \\mathrm{~V} / \\mathrm{V}\\left(<A_{oc}\\right)\n\\end{aligned}\n$$\n\nThe reasoning process developed for the aforementioned example can be generalized to the Series-Shunt Procedure:\n\n- To evaluate the loading at the input of the fundamental amplifier, short-circuit (SC) the sensing side of the feedback network.\n- To assess the loading at the output of the fundamental amplifier, open-circuit (OC) the summation side of the feedback network.\n- To determine $b$, apply a voltage $v_o$ to the sensing side of the feedback network, identify the open-circuit (OC) voltage $v_f$ at the summation side of the feedback network, and let $b=v_f / v_o$.\nWe shall demonstrate the procedure with further examples.\nimage_name:Figure 7.23 Series-shunt feedback triple\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: Q1, type: NPN, ports: {C: V2, B: vi, E: vf}\nname: Q2, type: NPN, ports: {C: V3, B: V2, E: GND}\nname: Q3, type: NPN, ports: {C: GND, B: V3, E: vo}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: Vo}\nname: R3, type: Resistor, value: R3, ports: {N1: Vo, N2: GND}\nname: R4, type: Resistor, value: R4, ports: {N1: V2, N2: GND}\nname: R5, type: Resistor, value: R5, ports: {N1: V3, N2: GND}\n]\nextrainfo:The circuit is a series-shunt feedback amplifier. Q1 is a differential amplifier responsive to the input voltage difference. Q2 provides additional voltage gain, and Q3 acts as an emitter follower to deliver current gain. The feedback network includes resistors R1 and R2, which sample the output voltage and return it to the input.\n\nFIGURE 7.23 Portrays a series-shunt feedback triple.\nIn the feedback circuit of Figure 7.23, $Q_1$ reacts to the difference $v_{\\varepsilon}=v_i-v_f$, thus indicating series-type summation. $Q_2$ is a common-emitter stage designed to offer extra voltage gain and thus augment the system's loop gain $L$. $Q_3$ is an emitter follower designed to impart current gain with a low output resistance. Lastly, note that $v_o$ is shunted to the feedback network consisting of $R_1$ and $R_2$, indicating shunt-type sensing. Functionally, this circuit is akin to the non-inverting op-amp of Figure 7.20. By applying the aforementioned Series-Shunt Procedure, we arrive at the error amplifier and feedback network of Figure 7.24.\nimage_name:(a)\ndescription:\n[\nname: Q1, type: NPN, ports: {C: v1, B: Ve, E: X1}\nname: Q2, type: NPN, ports: {C: Vc2, B: v1, E: GND}\nname: Q3, type: NPN, ports: {C: Vo, B: Vc2, E: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: X1, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: OC, N2: Vo}\nname: R3, type: Resistor, value: R3, ports: {N1: Vo, N2: GND}\nname: R4, type: Resistor, value: R4, ports: {N1: v1, N2: GND}\nname: R5, type: Resistor, value: R5, ports: {N1: Vc2, N2: GND}\nname: Vε, type: VoltageSource, value: Vε, ports: {Np: Ve, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with three NPN transistors (Q1, Q2, Q3) and various resistors (R1, R2, R3, R4, R5). It includes a voltage source Vε and is configured to offer voltage gain and current gain, with feedback implemented through resistors R1 and R2. The output voltage Vo is fed back to the input via this network.\nimage_name:(b)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: OC, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vf, N2: SC}\nname: R3, type: Resistor, value: R3, ports: {N1: SC, N2: GND}\nname: R4, type: Resistor, value: R4, ports: {N1: v1, N2: GND}\nname: R5, type: Resistor, value: R5, ports: {N1: Vc2, N2: GND}\nname: Vε, type: VoltageSource, value: Vε, ports: {Np: Ve, Nn: GND}\nname: ve, type: VoltageSource, value: ve, ports: {Np: Ve, Nn: ria}\nname: vo, type: VoltageSource, value: vo, ports: {Np: SC, Nn: GND}\nname: ria, type: Resistor, value: ria, ports: {N1: Ve, N2: GND}\nname: roa, type: Resistor, value: roa, ports: {N1: Vo, N2: GND}\n]\nextrainfo:The circuit in diagram (b) represents a feedback network with resistors R1 and R2 forming a voltage divider. The output voltage Vo is fed back to the input via this network. The circuit in diagram (a) is an amplifier circuit with three NPN transistors providing voltage and current gain.\n\nFIGURE 7.24 Decomposes the circuit of Figure 7.23 into (a) the error amplifier and (b) the feedback network.\n\nEXAMPLE 7.10 (a) In the circuit of Figure 7.23, let $R_1=1.0 \\mathrm{k} \\Omega, R_2=3.0 \\mathrm{k} \\Omega$, and $R_3=R_4=R_5=10 \\mathrm{k} \\Omega$. Furthermore, let all BJTs have $g_m=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_o=\\infty$. Find $R_i, R_o$, and the unloaded gain $A_{oc}$.\n(b) Confirm your results through PSpice.\n\n#### Solution\n\n(a) For the BJTs, we have $\\beta_0=g_m r_{\\pi}=5000 / 25=200$. By examining Figure 7.24a, we find,\n\n$$"
},
{
    "text": "In Fig. $7.18 a$, we explored the non-inverting op amp configuration, which stands as a quintessential series-shunt circuit. We now revisit this configuration, focusing on the interplay between the error amplifier's internal resistances, $r_{i}$ and $r_{o}$, and the external resistances, $R_{1}$ and $R_{2}$, that constitute the feedback network. This interplay gives rise to loading effects at both the amplifier's input and output. To isolate the loading effects of the feedback network, we continue to assume a driving source, $v_{i}$, with zero series resistance and an unloaded (open-circuited) output port, as depicted in Fig. 7.20.\n\nThe circuit shown in Fig. 7.20 is a non-inverting op-amp configuration with the internal resistances, $r_{i}$ and $r_{o}$, explicitly illustrated. It includes a feedback network formed by resistors $R_{1}$ and $R_{2}$. The input voltage source is $v_{i}$, and there is an additional loading resistor, $r_{o}$, at the output.\n\nTo analyze the loading at the input port, observe that the external resistance perceived by this port would seemingly be $R_{1} || (R_{2} + r_{o})$. However, we know beforehand that, in feedback operation, the system will present an extremely low resistance $(r_{o} \\rightarrow 0)$ at the output node due to the shunt-type sensing present there. This overrides the effect of $r_{o}$, causing the external resistance seen by the amplifier's input port to effectively be $R_{1} || R_{2}$. This is illustrated in the amplifier's equivalent circuit of Fig. 7.21a, where $R_{2}$ is shown short-circuited (SC) to ground.\n\nWhen examining the loading at the output port, note that the external resistance perceived by this port would appear to be $R_{2} + (R_{1} || r_{i})$. Yet, we know beforehand that, in feedback operation, the system will present an exceedingly high resistance $(r_{i} \\rightarrow \\infty)$ at the input node due to the series-type summing present there. This arises from the fact that $v_{\\varepsilon} \\rightarrow 0$, rendering the current through $r_{i}$ negligible and thus overwhelming the effect of $r_{i}$. For practical purposes, the amplifier's input port appears as an open circuit to the feedback network. This is also depicted in Fig. 7.21a, where the node common to $R_{1}$ and $R_{2}$ is shown as open-circuited (OC), indicating that the external resistance seen by the amplifier's output port is effectively $R_{2} + R_{1}$.\n\nWith the feedback path severed both at the output (through short-circuiting) and at the input (through open-circuiting), the circuit of Fig. $7.21 a$ represents the error amplifier in open-loop operation, but with the loading by the external feedback network specifically considered at both ports. Next, we aim to determine its open-loop parameters, now denoted as $a (= v_{o} / v_{\\varepsilon}), r_{i a}$, and $r_{o a}$. Using the voltage divider rule, we have:\n\n$$\nv_{o} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} v_{d} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} v_{\\varepsilon}\n$$\n\nThus:\n\n$$\n\\begin{equation*}\na = \\frac{v_{o}}{v_{\\varepsilon}} = \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} a_{v} \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} \\tag{7.46}\n\\end{equation*}\n$$\n\nIt is important to note that $a < a_{v}$ due to input and output loading. Additionally, by inspection, we have:\n\n$$\n\\begin{equation*}\nr_{i a} = r_{i} + (R_{1} || R_{2}) \\quad r_{o a} = r_{o} || (R_{2} + R_{1}) \\tag{7.47}\n\\end{equation*}\n$$\n\nNext, we seek a representation for the feedback network that is distinct from the basic amplifier. Referring back to Fig. 7.20, we observe that, on the sensing side, this network is driven by a voltage source, $v_{o}$, which is expected to exhibit an extremely low series resistance, $r_{o}$. On the summing side, it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). The circuit for calculating $b$ is thus as shown in Fig. 7.21b, from which we can easily find:\n\n$$\n\\begin{equation*}\nb = \\frac{v_{f}}{v_{o}} = \\frac{R_{1}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}} \\tag{7.48}\n\\end{equation*}\n$$\n\nFinally, we apply Eq. (7.28) to find the unloaded gain, $A_{o c}$, and Eqs. (7.29) and (7.30), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances, $R_{i}$ and $R_{o}$. Once these three parameters are known, we can utilize them in the general case where the feedback amplifier is driven by a signal source, $v_{s i g}$, with a non-zero series resistance, $R_{s i g}$, and drives a finite output load, $R_{L}$. With reference to the circuit model of Fig. 7.22, the source-to-load gain, $v_{o} / v_{\\text {sig }}$, also known as the loaded gain, is readily determined as:\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{s i g}} = \\frac{R_{i}}{R_{s i g} + R_{i}} A_{o c} \\frac{R_{L}}{R_{o} + R_{L}} \\tag{7.49}\n\\end{equation*}\n$$\n\nThe circuit shown in Fig. 7.22 is a closed-loop voltage amplifier model driven by a source, $v_{s i g}$, and driving an external load, $R_{L}$. It includes a voltage-controlled voltage source, $AocVi$, representing the amplifier with input resistance, $R_{i}$, and output resistance, $R_{o}$."
},
{
    "text": "The non-inverting operational amplifier configuration, shown in Fig. 7.18a, serves as a prime example of a series-shunt circuit. We now revisit this configuration, focusing on how the error amplifier's internal resistances, \\( r_i \\) and \\( r_o \\), interact with the external resistances, \\( R_1 \\) and \\( R_2 \\), that form the feedback network. This interaction leads to loading at both the amplifier's input and output. To isolate the effects of loading by the feedback network alone, we continue to assume a driving source \\( v_i \\) with zero series resistance and an unloaded (open-circuited) output port, as depicted in Fig. 7.20.\n\nIn Fig. 7.20, the non-inverting op-amp configuration is presented with its internal resistances \\( r_i \\) and \\( r_o \\) explicitly shown. The circuit includes a feedback network composed of resistors \\( R_1 \\) and \\( R_2 \\). The input voltage source is \\( V_i \\), and there is an additional loading resistor \\( R_o \\) at the output.\n\nTo analyze the loading at the input port, observe that the external resistance seen by this port would be \\( \\frac{R_1}{R_2 + r_o} \\). However, we know beforehand that in feedback operation, the system will present a very low resistance at the output node due to shunt-type sensing, making \\( R_o \\rightarrow 0 \\). This negates the effect of \\( r_o \\), causing the external resistance seen by the amplifier's input port to effectively be \\( \\frac{R_1}{R_2} \\). This is illustrated in the amplifier's equivalent circuit of Fig. 7.21a, where \\( R_2 \\) is shown short-circuited (SC) to ground.\n\nTo investigate the loading at the output port, note that the external resistance seen by this port would seem to be \\( R_2 + \\frac{R_1}{r_i} \\). But we know beforehand that in feedback operation, the system will present a very high resistance at the input node due to series-type summing there, making \\( R_i \\rightarrow \\infty \\). This stems from the fact that \\( v_{\\varepsilon} \\rightarrow 0 \\), rendering the current through \\( r_i \\) negligible and thus negating the effect of \\( r_i \\). For practical purposes, the amplifier's input port appears as an open circuit to the feedback network. This is also depicted in Fig. 7.21a, where the node common to \\( R_1 \\) and \\( R_2 \\) is shown as open-circuited (OC), indicating that the external resistance seen by the amplifier's output port is effectively \\( R_2 + R_1 \\).\n\nWith the feedback path interrupted both at the output (via short circuiting) and at the input (via open circuiting), the circuit of Fig. 7.21a represents the error amplifier in open-loop operation, considering loading by the external feedback network at both ports. Next, we aim to determine its open-loop parameters, now denoted as \\( a (= \\frac{v_o}{v_{\\varepsilon}}) \\), \\( r_{ia} \\), and \\( r_{oa} \\). Using the voltage divider rule, we have:\n\n$$\nv_o = \\frac{R_1 + R_2}{r_o + R_1 + R_2} a_v v_d = \\frac{R_1 + R_2}{r_o + R_1 + R_2} a_v \\frac{r_i}{r_i + \\frac{R_1}{R_2}} v_{\\varepsilon}\n$$\n\nso that\n\n$$\na = \\frac{v_o}{v_{\\varepsilon}} = \\frac{r_i}{r_i + \\frac{R_1}{R_2}} a_v \\frac{R_1 + R_2}{r_o + R_1 + R_2}\n$$\n\nNote that \\( a < a_v \\) due to input and output loading. By inspection, we also have:\n\n$$\nr_{ia} = r_i + \\frac{R_1}{R_2} \\quad r_{oa} = \\frac{r_o}{R_2 + R_1}\n$$\n\nNext, we seek a representation for the feedback network separate from the basic amplifier. Referring back to Fig. 7.20, we observe that at the sensing side, this network is driven by a voltage source \\( v_o \\) with extremely low series resistance \\( R_o \\), and at the summing side, it drives the amplifier's input port, which appears as an open circuit (OC) for practical purposes. The circuit for calculating \\( b \\) is thus as shown in Fig. 7.21b, from which we easily find:\n\n$$\nb = \\frac{v_f}{v_o} = \\frac{R_1}{R_1 + R_2} = \\frac{1}{1 + \\frac{R_2}{R_1}}\n$$\n\nFinally, we apply Eq. (7.28) to find the unloaded gain \\( A_{oc} \\), and Eqs. (7.29) and (7.30), but with \\( r_i \\) and \\( r_o \\) replaced by \\( r_{ia} \\) and \\( r_{oa} \\), to find the closed-loop terminal resistances \\( R_i \\) and \\( R_o \\). Once these three parameters are known, we can use them in the general case where the feedback amplifier is driven by a signal source \\( v_{sig} \\) with non-zero series resistance \\( R_{sig} \\) and drives a non-infinite output load \\( R_L \\). With reference to the circuit model of Fig. 7.22, the source-to-load gain \\( \\frac{v_o}{v_{sig}} \\), also called the loaded gain, is readily found as:\n\n$$\n\\frac{v_o}{v_{sig}} = \\frac{R_i}{R_{sig} + R_i} A_{oc} \\frac{R_L}{R_o + R_L}\n$$\n\nIn Fig. 7.22, the circuit represents a closed-loop voltage amplifier driven by a source \\( v_{sig} \\) and driving an external load \\( R_L \\). It includes a voltage-controlled voltage source \\( A_{oc}Vi \\) representing the amplifier with input resistance \\( R_i \\) and output resistance \\( R_o \\).\n\nWe shall now apply this reasoning to the following examples:\n\n#### EXAMPLE 7.9\n\n(a) In the circuit of Fig. 7.20, let the op-amp have \\( a_v = 1000 \\, \\text{V/V} \\), \\( r_i = 10 \\, \\text{k}\\Omega \\), and \\( r_o = 1.0 \\, \\text{k}\\Omega \\). If \\( R_1 = 1.0 \\, \\text{k}\\Omega \\) and \\( R_2 = 9.0 \\, \\text{k}\\Omega \\), find \\( R_i \\), \\( R_o \\), and the unloaded gain \\( A_{oc} \\).\n\n(b) Find the source-to-load gain \\( A = \\frac{v_o}{v_{sig}} \\) if the feedback amplifier is driven by a signal source \\( v_{sig} \\) with a series resistance \\( R_{sig} = 20 \\, \\text{k}\\Omega \\) and drives a load \\( R_L = 2.0 \\, \\text{k}\\Omega \\).\n\n#### Solution\n\n(a) Using Eqs. (7.46) through (7.48), we have:\n\n$$\n\\begin{aligned}\na &= \\frac{10}{10 + (1.0 / 9.0)} 1000 \\frac{1.0 + 9.0}{1.0 + 1.0 + 9.0} = 0.917 \\times 1000 \\times 0.909 \\\\\n&= 833.3 \\, \\text{V/V} \\\\\nr_{ia} &= 10 + (1.0 / 9.0) = 10.9 \\, \\text{k}\\Omega \\\\\nr_{oa} &= \\frac{1.0}{9.0 + 1.0} = 0.909 \\, \\text{k}\\Omega \\\\\nb &= \\frac{1.0}{1.0 + 9.0} = \\frac{1}{10} \\, \\text{V/V}\n\\end{aligned}\n$$\n\nThus, \\( L = a \\times b = \\frac{833.3}{10} = 83.33 \\), so:\n\n$$\n\\begin{aligned}\nA_{oc} &= \\frac{10}{1 + \\frac{1}{83.33}} = 9.881 \\, \\text{V/V} \\\\\nR_i &= 10.9 \\times 10^3 (1 + 83.33) \\cong 920 \\, \\text{k}\\Omega \\\\\nR_o &= \\frac{909}{1 + 83.33} \\cong 10.8 \\, \\Omega\n\\end{aligned}\n$$\n\n(b) By Eq. (7.49), the source-to-load gain is:\n\n$$\n\\frac{v_o}{v_{sig}} = \\frac{920}{20 + 920} 9.88 \\frac{2000}{10.8 + 2000} = 0.979 \\times 9.881 \\times 0.995 = 9.618 \\, \\text{V/V}\n$$\n\nThe line of reasoning developed for the above example can be generalized to the following Series-Shunt Procedure:\n\n- To calculate loading at the input of the basic amplifier, short-circuit (SC) the sensing-side port of the feedback network.\n- To calculate loading at the output of the basic amplifier, open-circuit (OC) the summing-side port of the feedback network.\n- To find \\( b \\), apply a voltage \\( v_o \\) to the sensing-side port of the feedback network, find the open-circuit (OC) voltage \\( v_f \\) at the summing-side port of the feedback network, and let \\( b = \\frac{v_f}{v_o} \\).\n\nWe shall illustrate the procedure with additional examples.\n\nIn the feedback circuit of Fig. 7.23, \\( Q_1 \\) responds to the difference \\( v_{\\varepsilon} = v_i - v_f \\), so we have series-type summing. \\( Q_2 \\) is a CE stage designed to provide additional voltage gain and thus boost the system's loop gain \\( L \\). \\( Q_3 \\) is an emitter follower designed to provide current gain at low output resistance. Finally, we note that \\( v_o \\) is shunted to the feedback network consisting of \\( R_1 \\) and \\( R_2 \\), indicating shunt-type sensing. Functionally, this circuit is similar to the non-inverting op-amp of Fig. 7.20. Applying the aforementioned Series-Shunt Procedure, we end up with the error amplifier and feedback network of Fig. 7.24.\n\n#### EXAMPLE 7.10\n\n(a) In the circuit of Fig. 7.23, let \\( R_1 = 1.0 \\, \\text{k}\\Omega \\), \\( R_2 = 3.0 \\, \\text{k}\\Omega \\), and \\( R_3 = R_4 = R_5 = 10 \\, \\text{k}\\Omega \\). Moreover, let all BJTs have \\( g_m = \\frac{1}{25 \\, \\Omega} \\), \\( r_{\\pi} = 5 \\, \\text{k}\\Omega \\), and \\( r_o = \\infty \\). Find \\( R_i \\), \\( R_o \\), and the unloaded gain \\( A_{oc} \\).\n\n(b) Verify your results via PSpice.\n\n#### Solution\n\n(a) For the BJTs, we have \\( \\beta_0 = g_m r_{\\pi} = \\frac{5000}{25} = 200 \\). Using Fig. 7.24a, we find, by inspection:\n\n$$\n\\begin{aligned}\nr_{ia} &= r_{\\pi 1} + (\\beta_{01} + 1) \\left( \\frac{R_1}{R_2} \\right) = 5 + 201 \\left( \\frac{1}{3} \\right) \\cong 156 \\, \\text{k}\\Omega \\\\\nr_{oa} &= \\frac{R_5 + r_{\\pi 3}}{(\\beta_{03} + 1)} / \\left( R_3 / (R_1 + R_2) \\right) = \\frac{10 + 5}{201} / (10 / (1.0 + 3.0)) \\cong 73 \\, \\Omega\n\\end{aligned}\n$$\n\nTo find the overall voltage gain \\( a \\), examine one stage at a time. We note that \\( Q_1 \\) is a CE-ED stage, so we use the popular rule of thumb stating that the gain is the negative of the ratio of the total collector-node resistance to the total emitter-node resistance, or:\n\n$$\n\\frac{v_{c1}}{v_{\\varepsilon}} = -\\frac{R_4 / r_{\\pi 2}}{r_{e1} + \\left( \\frac{R_1}{R_2} \\right)} = -\\frac{10 / 5}{0.025 + (1.0 / 3.0)} = -4.3 \\, \\text{V/V}\n$$\n\nOne can readily verify that the resistance \\( R_{b3} \\) seen looking into \\( Q_3 \\)'s base is such that \\( R_{b3} \\gg R_5 \\), so the gain provided by \\( Q_2 \\) is:\n\n$$\n\\frac{v_{c2}}{v_{c1}} = -g_{m2} \\left( \\frac{R_5}{R_{b3}} \\right) \\cong -g_{m2} R_5 = -\\frac{10}{0.025} = -400 \\, \\text{V/V}\n$$\n\nWe expect the gain of the voltage follower \\( Q_3 \\) to be very close to unity:\n\n$$\n\\frac{v_o}{v_{c2}} \\cong 1 \\, \\text{V/V}\n$$\n\nCombining the above results, we finally obtain:\n\n$$\na = \\frac{v_o}{v_{\\varepsilon}} = \\frac{v_{c1}}{v_{\\varepsilon}} \\times \\frac{v_{c2}}{v_{c1}} \\times \\frac{v_o}{v_{c2}} \\cong (-4.3) \\times (-400) \\times 1 = 1720 \\, \\text{V/V}\n$$\n\nWe also have, from Fig. 7.24b:\n\n$$\nb = \\frac{v_f}{v_o} = \\frac{R_1}{R_1 + R_2} = \\frac{1.0}{1.0 + 3.0} = \\frac{1}{4} \\, \\text{V/V}\n$$\n\nso the loop gain is \\( L = a \\times b = \\frac{1720}{4} = 430 \\). Finally:\n\n$$\n\\begin{aligned}\nA_{oc} &= \\frac{v_o}{v_i} = \\frac{4}{1 + \\frac{1}{430}} = 3.991 \\, \\text{V/V} \\\\\nR_i &= 156 \\times 10^3 (1 + 430) = 67 \\, \\text{M}\\Omega \\\\\nR_o &= \\frac{73}{1 + 430} = 0.17 \\, \\Omega\n\\end{aligned}\n$$\n\n(b) The PSpice circuit of Fig. 7.25 uses three VCCSs to model the BJTs in small-signal operation and includes the \\( 0-\\text{V} \\) dummy source \\( V_0 \\) to sense the current out of \\( Q_1 \\)'s emitter. After directing PSpice to perform the dc analysis as well as the transfer function (.TF) analysis, we get \\( A_{oc} = 3.99 \\, \\text{V/V} \\), \\( R_i = 65.13 \\, \\text{M}\\Omega \\), and \\( R_o = 0.1739 \\, \\Omega \\). Moreover, the current through the test source \\( V_0 \\) for \\( v_i = 1.0 \\, \\text{V} \\) is \\( 3.086 \\, \\mu\\text{A} \\). All data are amazingly close to those calculated by hand!\n\nIn the feedback circuit of Fig. 7.23, \\( Q_1 \\) responds to the difference \\( v_{\\varepsilon} = v_i - v_f \\), so we have series-type summing. \\( Q_2 \\) is a CE stage designed to provide additional voltage gain and thus boost the system's loop gain \\( L \\). \\( Q_3 \\) is an emitter follower designed to provide current gain at low output resistance. Finally, we note that \\( v_o \\) is shunted to the feedback network consisting of \\( R_1 \\) and \\( R_2 \\), indicating shunt-type sensing. Functionally, this circuit is similar to the non-inverting op-amp of Fig. 7.20. Applying the aforementioned Series-Shunt Procedure, we end up with the error amplifier and feedback network of Fig. 7.24.\n\n#### EXAMPLE 7.11\n\nAssuming \\( g_m = 1 \\, \\text{mA/V} \\) and \\( r_o = 50 \\, \\text{k}\\Omega \\) for all FETs in the circuit of Fig. 7.26, along with \\( \\chi_5 = 0.25 \\), find the unloaded gain \\( A_{oc} \\) and the output resistance \\( R_o \\) (since \\( R_i = \\infty \\) because the input source is looking right into \\( M_1 \\)'s gate).\n\n#### Solution\n\nThis is a unity-gain non-inverting amplifier whose decomposition appears as in Fig. 7.27. The voltage gain of the first stage is \\( g_m \\left( \\frac{r_{op}}{r_{on}} \\right) = \\frac{g_m r_o}{2} \\) and that of the \\( M_5 \\) source follower is \\( \\frac{1}{1 + \\chi_5} \\), so we write:\n\n$$\na = \\frac{v_o}{v_{\\varepsilon}} = \\frac{g_m r_o / 2"
},
{
    "text": "---\n\nIn Figure $7.18$ (a), we analyzed the non-inverting operational amplifier (op-amp) setup as a standard instance of a series-shunt circuit. We revisit this configuration, specifically examining the interplay between the error amplifier's intrinsic resistances $r_{i}$ and $r_{o}$, and the external resistances $R_{1}$ and $R_{2}$ that constitute the feedback loop. This interplay leads to loading effects at both the amplifier's input and output. To isolate the impact of the feedback loop's loading, we retain the assumption of a voltage source $v_{i}$ with negligible series resistance and an unburdened output connection, as depicted in Figure 7.20.\nimage_name:FIGURE 7.20\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: vo}\nname: OpAmp, type: OpAmp, ports: {InP: Vi, InN: vf, OutP: vo}\n]\nextrainfo:The circuit depicted is a non-inverting op-amp configuration with internal resistances $r_{i}$ and $r_{o}$ clearly illustrated. It incorporates a feedback loop composed of resistors $R_{1}$ and $R_{2}$. The input voltage source is $Vi$, and there is an extra loading resistor $R_{o}$ present at the output.\n\nFIGURE 7.20 The non-inverting op-amp, with its internal resistances $r_{i}$ and $r_{o}$ explicitly shown.\n\nFor assessing loading at the input, note that the resistance observed by this point would seemingly be $R_{1} // (R_{2} + r_{o})$. However, due to the shunting sensing at the output, we anticipate that during feedback operation, the system will present an exceptionally low resistance ($R_{o} \\rightarrow 0$) at the output node, which overpowers the effect of $r_{o}$. Consequently, the resistance seen by the op-amp's input is effectively $R_{1} // R_{2}$, as shown in the equivalent circuit of the op-amp in Figure 7.21a, where $R_{2}$ is depicted as short-circuited (SC) to ground.\n\nTo investigate loading at the output, observe that the resistance perceived by this point would appear to be $R_{2} + (R_{1} // r_{i})$. Nevertheless, we anticipate, beforehand, that in feedback operation, the system will display an excessively high resistance ($R_{i} \\rightarrow \\infty$) at the input node due to the series summation. This is due to the fact that $v_{\\varepsilon} \\rightarrow 0$, rendering the current through $r_{i}$ effectively negligible and thus overwhelming the effect of $r_{i}$. Practically speaking, the op-amp's input port presents itself as an open circuit to the feedback loop. This is also illustrated in Figure 7.21a, where the node common to $R_{1}$ and $R_{2}$ is depicted as open-circuited (OC), indicating that the external resistance seen by the op-amp's output port is effectively $R_{2} + R_{1}$.\n\nBy interrupting the feedback loop at both the output (via short-circuiting) and the input (via open-circuiting), the circuit shown in Figure $7.21$ (a) models the error amplifier in open-loop mode, while considering the loading effects introduced by the external feedback loop at both points. Subsequently, we aim to determine its open-loop parameters, now denoted as $a$ ($=v_{o} / v_{\\varepsilon}$), $r_{i a}$, and $r_{o a}$. By applying the voltage divider rule, we obtain:\n\n$$\nv_{o}=\\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} v_{d}=\\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} \\frac{r_{i}}{r_{i} + (R_{1} // R_{2})} v_{\\varepsilon}\n$$\n\nyielding:\n\n$$\n\\begin{equation*}\na=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i} + (R_{1} // R_{2})} a_{v} \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} \\tag{7.46}\n\\end{equation*}\n$$\n\nIt should be noted that $a<a_{v}$ due to loading effects at both the input and output. Moreover, we can also deduce:\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i} + (R_{1} // R_{2}) \\quad r_{o a}=r_{o} // (R_{2} + R_{1}) \\tag{7.47}\n\\end{equation*}\n$$\n\nNext, we seek to represent the feedback loop independently from the basic amplifier. Referring back to Figure 7.20, we note that at the sensing side, the loop is powered by a voltage source $v_{o}$ that is expected to exhibit an extremely low series resistance $R_{o}$, and at the summation side, it drives the op-amp's input port, which practically appears as an open circuit (OC). Consequently, the circuit for calculating $b$ is shown in Figure 7.21b, from which we can easily derive:\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1} + R_{2}}=\\frac{1}{1 + R_{2} // R_{1}} \\tag{7.48}\n\\end{equation*}\n$$\n\nFinally, by utilizing Eq. (7.28), we determine the unloaded gain $A_{o c}$, and Eqs. (7.29) and (7.30), now with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, we find the closed-loop terminal resistances $R_{i}$, and $R_{o}$. Once these three parameters are established, we can employ them in the general scenario where the feedback amplifier is powered by a signal source $v_{s i g}$ with non-zero series resistance $R_{s i g}$, and drives a non-infinite output load $R_{L}$. With reference to the circuit model of Figure 7.22, the source-to-load gain $v_{o} / v_{\\text {sig }}$, also known as the loaded gain, can be easily determined as:\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{s i g}}=\\frac{R_{i}}{R_{s i g} + R_{i}} A_{o c} \\frac{R_{L}}{R_{o} + R_{L}} \\tag{7.49}\n\\end{equation*}\n```\n\n---\n\n[Context Provided]---\nThe text above has been reformulated to maintain its original meaning and length."
},
{
    "text": "In Fig. $7.18a$, we analyzed the non-inverting operational amplifier configuration as a quintessential illustration of a series-parallel circuit. We revisit this configuration now, focusing on the interplay between the error amplifier's internal resistances, $r_{i}$ and $r_{o}$, and the external resistances, $R_{1}$ and $R_{2}$, which constitute the feedback network. This interaction creates load conditions at both the input and output of the amplifier. To concentrate solely on the loading caused by the feedback network, we continue to assume a driving voltage source, $v_{i}$, with negligible series resistance and an unburdened output port, as depicted in Fig. 7.20.\n\n[Image Name: FIGURE 7.20]\n[Description:]\n[\n  name: Vi, type: VoltageSource, ports: {Np: Vi, Nn: GND},\n  name: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND},\n  name: R2, type: Resistor, value: R2, ports: {N1: vf, N2: vo},\n  name: OpAmp, type: OpAmp, ports: {InP: Vi, InN: vf, OutP: vo}\n]\n[Extra Info:] The circuit depicted is a non-inverting operational amplifier setup with internal resistances $r_{i}$ and $r_{o}$ clearly indicated. It features a feedback network comprising resistors $R_{1}$ and $R_{2}$. The input voltage source is denoted as $Vi$, and an additional load resistor $R_{o}$ is present at the output.\n\n[Figure 7.20] Illustrates the non-inverting operational amplifier with its internal resistances $r_{i}$ and $r_{o}$ explicitly depicted.\n\nTo study the loading at the input port, observe that the external resistance observed at this port would seem to be $R_{1} / /\\left(R_{2}+r_{o}\\right)$. However, we are already aware that during feedback operation, the system exhibits a very low resistance $\\left(R_{o} \\rightarrow 0\\right)$ at the output node due to parallel sensing. This overshadows the effect of $r_{o}$, effectively rendering the external resistance perceived by the amplifier's input port as $R_{1} / / R_{2}$. This is illustrated in the amplifier's equivalent circuit in Fig. 7.21a, where $R_{2}$ is shown connected to ground in a short-circuit configuration.\n\nTo examine the loading at the output port, notice that the external resistance observed at this port would appear to be $R_{2}+\\left(R_{1} / / r_{i}\\right)$. Nevertheless, we know a priori that in feedback operation, the system presents a very high resistance $\\left(R_{i} \\rightarrow \\infty\\right)$ at the input node due to series sensing. This arises from the fact that $v_{\\varepsilon} \\rightarrow 0$, rendering the current through $r_{i}$ almost negligible and thus overshadowing the effect of $r_{i}$. Practically speaking, the amplifier's input port appears as an open circuit to the feedback network. This is also illustrated in Fig. 7.21a, where the node shared by $R_{1}$ and $R_{2}$ is shown as open-circuited (OC), implying that the external resistance observed by the amplifier's output port is effectively $R_{2}+R_{1}$.\n\nWith the feedback path interrupted at both the output (by short-circuiting) and the input (by open-circuiting), the circuit shown in Fig. $7.21a$ represents the error amplifier operating in an open-loop manner, while accounting for the loading from the external feedback network at both ports. Subsequently, we aim to determine its open-loop parameters, now designated as $a\\left(=v_{o} / v_{\\varepsilon}\\right), r_{i a}$, and $r_{o a}$. By the voltage divider rule, we have\n\n$$\nv_{o}=\\frac{R_{1}+R_{2}}{r_{o}+R_{1}+R_{2}} a_{v} v_{d}=\\frac{R_{1}+R_{2}}{r_{o}+R_{1}+R_{2}} a_{v} \\frac{r_{i}}{r_{i}+\\left(R_{1} / / R_{2}\\right)} v_{\\varepsilon}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\na=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+\\left(R_{1} / / R_{2}\\right)} a_{v} \\frac{R_{1}+R_{2}}{r_{o}+R_{1}+R_{2}} \\tag{7.46}\n\\end{equation*}\n$$\n\nNote that $a<a_{v}$ due to input and output loading. Moreover,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+\\left(R_{1} / / R_{2}\\right) \\quad r_{o a}=r_{o} / /\\left(R_{2}+R_{1}\\right) \\tag{7.47}\n\\end{equation*}\n$$\n\nNext, we seek a representation for the feedback network that is independent from the basic amplifier. Referring back to Fig. 7.20, we note that at the sensing side, this network is powered by a voltage source $v_{o}$ that is expected to exhibit extremely low series resistance $R_{o}$, and that at the summing side, it powers the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). Consequently, the circuit for calculating $b$ is as depicted in Fig. 7.21b, from which we can readily determine\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.48}\n\\end{equation*}\n$$\n\nFinally, we apply Eq. (7.28) to find the unloaded gain $A_{o c}$, and Eqs. (7.29) and (7.30), with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$, and $R_{o}$. Once these three parameters are known, we can use them in the general case where the feedback amplifier is driven by a signal source $v_{s i g}$ with nonzero series resistance $R_{s i g}$, and drives a non-infinite output load $R_{L}$. With reference to the circuit model of Fig. 7.22, the source-to-load gain $v_{o} / v_{\\text {sig }}$, also known as the loaded gain, is readily found as\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{s i g}}=\\frac{R_{i}}{R_{s i g}+R_{i}} A_{o c} \\frac{R_{L}}{R_{o}+R_{L}} \\tag{7.49}\n\\end{equation*}\n```\n[Image Name: FIGURE 7.22]\n[Description:]\n[\n  name: Vsig, type: VoltageSource, value: Vsig, ports: {Np: Vsig, Nn: GND},\n  name: Rsig, type: Resistor, value: Rsig, ports: {N1: Vsig, N2: Vi},\n  name: Ri, type: Resistor, value: Ri, ports: {N1: Vi, N2: GND},\n  name: AocVi, type: VoltageControlledVoltageSource, value: AocVi, ports: {Np: AocVi, Nn: GND},\n  name: Ro, type: Resistor, value: Ro, ports: {N1: AocVi, N2: Vo},\n  name: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\n]\n[Extra Info:] The circuit is a closed-loop voltage amplifier model driven by a source $v_{s i g}$ and driving an external load $R_{L}$. It includes a voltage-controlled voltage source $AocVi$ representing the amplifier with input resistance $R_{i}$ and output resistance $R_{o}$."
},
{
    "text": "The examination of the non-inverting operational amplifier (op amp) configuration in Fig. $7.18a$ serves as a quintessential illustration of a series-shunt circuit setup. We revisit this configuration with a focus on the interplay between the internal resistances $r_{i}$ and $r_{o}$ of the error amplifier and the external resistances $R_{1}$ and $R_{2}$ that compose the feedback network. This interplay introduces loading effects at both the amplifier's input and output stages. To isolate the influence of the feedback network on loading, we maintain the assumption of a driving source $v_{i}$ with no series resistance and an unburdened (open-circuited) output port, as depicted in Fig. 7.20.\n\nimage_name:FIGURE 7.20\ndescription:\n[\nname: Vi, type: VoltageSource, ports: {Np: Vi, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vf, N2: vo}\nname: OpAmp, type: OpAmp, ports: {InP: Vi, InN: vf, OutP: vo}\n]\nextrainfo:In the circuit, the non-inverting op-amp is shown with internal resistances ri and ro, along with a feedback network made up of resistors R1 and R2. The input voltage source is Vi, and an extra loading resistor Ro is present at the output.\n\nFigure 7.20 presents the non-inverting op amp with its internal resistances $r_{i}$ and $r_{o}$ explicitly illustrated.\n\nFor the analysis of loading at the input port, observe that the external resistance perceived by this port seems to be $R_{1} / /\\left(R_{2}+r_{o}\\right)$. However, we are aware, beforehand, that during feedback operation, the system exhibits an extremely low resistance $\\left(R_{o} \\rightarrow 0\\right)$ at the output node due to the shunt-type sensing. This overwhelming effect nullifies the impact of $r_{o}$, leading to the external resistance perceived by the amplifier's input port effectively being $R_{1} / / R_{2}$. This is illustrated in the op-amp's equivalent circuit of Fig. 7.21a, where $R_{2}$ is depicted as短路到地.\n\nTo assess loading at the output port, note that the external resistance perceived by this port appears to be $R_{2}+\\left(R_{1} / / r_{i}\\right)$. Nonetheless, we are aware, a priori, that in feedback operation, the system will present a significantly high resistance $\\left(R_{i} \\rightarrow \\infty\\right)$ at the input node due to the series-type summing there. This is a consequence of the voltage $v_{\\varepsilon}$ approaching zero, rendering the current through $r_{i}$ virtually negligible and thus overshadowing the effect of $r_{i}$. For practical purposes, the amplifier's input port is viewed as an open circuit to the feedback network. This scenario is also depicted in Fig. 7.21a, where the node shared by $R_{1}$ and $R_{2}$ is shown as open-circuited (OC), indicating that the external resistance perceived by the amplifier's output port is effectively $R_{2}+R_{1}$.\n\nBy isolating the feedback path at both the output (through short-circuiting) and the input (through open-circuiting), the circuit of Fig. $7.21a$ represents the error amplifier in open-loop operation, while specifically accounting for the loading by the external feedback network at both ports. We proceed to determine its open-loop parameters, now designated as $a\\left(=v_{o} / v_{\\varepsilon}\\right), r_{i a}$, and $r_{o a}$. By applying the voltage divider rule, we have\n\n$$\nv_{o}=\\frac{R_{1}+R_{2}}{r_{o}+R_{1}+R_{2}} a_{v} v_{d}=\\frac{R_{1}+R_{2}}{r_{o}+R_{1}+R_{2}} a_{v} \\frac{r_{i}}{r_{i}+\\left(R_{1} / / R_{2}\\right)} v_{\\varepsilon}\n$$\n\nConsequently,\n\n$$\n\\begin{equation*}\na=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+\\left(R_{1} / / R_{2}\\right)} a_{v} \\frac{R_{1}+R_{2}}{r_{o}+R_{1}+R_{2}} \\tag{7.46}\n\\end{equation*}\n$$\n\nIt is evident that $a<a_{v}$ due to the loading effects at the input and output. Furthermore, upon inspection,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+\\left(R_{1} / / R_{2}\\right) \\quad r_{o a}=r_{o} / /\\left(R_{2}+R_{1}\\right) \\tag{7.47}\n\\end{equation*}\n$$\n\nSubsequently, we seek to represent the feedback network independently from the basic amplifier. Referring back to Fig. 7.20, we note that on the sensing side, this network is powered by a voltage source $v_{o}$ that is expected to exhibit an extremely low series resistance $R_{o}$, and on the summing side, it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). Consequently, the circuit for calculating $b$ is as shown in Fig. 7.21b, from which we readily determine\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{v_{o}}=\\frac{R_{1}}{R_{1}+R_{2}}=\\frac{1}{1+R_{2} / R_{1}} \\tag{7.48}\n\\end{equation*}\n$$\n\nFinally, we apply Eq. (7.28) to determine the unloaded gain $A_{o c}$, and Eqs. (7.29) and (7.30), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$, and $R_{o}$. Once these three parameters are known, they can be utilized in the general case where the feedback amplifier is driven by a signal source $v_{s i g}$ with nonzero series resistance $R_{s i g}$, and drives a non-infinite output load $R_{L}$. With reference to the circuit model of Fig. 7.22, the source-to-load gain $v_{o} / v_{\\text {sig }}$, also known as the loaded gain, can be easily found as\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{s i g}}=\\frac{R_{i}}{R_{s i g}+R_{i}} A_{o c} \\frac{R_{L}}{R_{o}+R_{L}} \\tag{7.49}\n\\end{equation*}\n$$\n\nimage_name:FIGURE 7.22\ndescription:\n[\nname: Vsig, type: VoltageSource, value: Vsig, ports: {Np: Vsig, Nn: GND}\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: Vsig, N2: Vi}\nname: Ri, type: Resistor, value: Ri, ports: {N1: Vi, N2: GND}\nname: AocVi, type: VoltageControlledVoltageSource, value: AocVi, ports: {Np: AocVi, Nn: GND}\nname: Ro, type: Resistor, value: Ro, ports: {N1: AocVi, N2: Vo}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\n]\nextrainfo:This circuit is a closed-loop voltage amplifier model powered by a source Vsig and driving an external load RL. It contains a voltage-controlled voltage source AocVi representing the amplifier with input resistance Ri and output resistance Ro.\n\nFigure 7.22 presents a closed-loop voltage amplifier driven by a source $v_{s i g}$ and driving an external load $R_{L}$."
},
{
    "text": "The analysis in Figure 7.18a focuses on the non-inverting operational amplifier configuration, utilizing it as a prime example of a series-shunt circuit. We are now revisiting this configuration, specifically examining the interplay between the internal resistances of the error amplifier, $r_{i}$ and $r_{o}$, and the external resistances $R_{1}$ and $R_{2}$ that form the feedback network. This interplay gives rise to loading effects at both the amplifier's input and output. To isolate the impact of the feedback network on loading, we maintain the assumption of a driving source $v_{i}$ with zero series resistance and an unloaded (open-circuited) output port, as depicted in Figure 7.20.\n\nIn Figure 7.20, the non-inverting op-amp configuration is depicted with its internal resistances $r_{i}$ and $r_{o}$ explicitly shown. The circuit incorporates a feedback network comprising resistors $R_{1}$ and $R_{2}$. The input voltage source is labeled as $V_{i}$, and there is an additional loading resistor $R_{o}$ at the output.\n\nTo analyze the loading at the input port, we observe that the external resistance perceived by this port is seemingly $R_{1} || (R_{2} + r_{o})$. However, we know beforehand that, in the context of feedback operation, the system will present an extremely low resistance at the output node ($R_{o} \\rightarrow 0$) due to the shunt-type sensing there. This overshadows the impact of $r_{o}$, causing the effective external resistance at the amplifier's input port to be $R_{1} || R_{2}$. This scenario is illustrated in the amplifier's equivalent circuit in Figure 7.21a, where $R_{2}$ is depicted as short-circuited (SC) to ground.\n\nWhen examining the loading at the output port, the apparent external resistance at this port seems to be $R_{2} + (R_{1} || r_{i})$. Yet, we know in advance that, in feedback operation, the system will manifest an exceptionally high resistance at the input node ($R_{i} \\rightarrow \\infty$) due to the series-type summing there. This arises from the fact that $v_{\\varepsilon} \\rightarrow 0$, rendering the current through $r_{i}$ negligible, thereby overshadowing the influence of $r_{i}$. For practical purposes, the amplifier's input port appears as an open circuit to the feedback network. This is also shown in Figure 7.21a, where the node shared by $R_{1}$ and $R_{2}$ is shown as open-circuited (OC), indicating that the effective external resistance at the amplifier's output port is $R_{2} + R_{1}$.\n\nWith the feedback path severed both at the output (through short-circuiting) and at the input (through open-circuiting), the circuit of Figure 7.21a represents the error amplifier in open-loop operation, with the loading by the external feedback network specifically considered at both ports. Subsequently, we aim to determine its open-loop parameters, denoted as $a (= v_{o} / v_{\\varepsilon})$, $r_{i a}$, and $r_{o a}$. Applying the voltage divider rule, we derive\n\n$$\nv_{o} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} v_{d} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} v_{\\varepsilon}\n$$\n\nConsequently,\n\n$$\na = \\frac{v_{o}}{v_{\\varepsilon}} = \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} a_{v} \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} \\tag{7.46}\n$$\n\nIt is noted that $a < a_{v}$ due to input and output loading. Additionally, we derive by inspection\n\n$$\nr_{i a} = r_{i} + (R_{1} || R_{2}) \\quad r_{o a} = r_{o} || (R_{2} + R_{1}) \\tag{7.47}\n$$\n\nNext, we seek a representation for the feedback network distinct from the fundamental amplifier. Referring back to Figure 7.20, we notice that, at the sensing side, this network is driven by a voltage source $v_{o}$ with an anticipated very low series resistance $R_{o}$. At the summing side, it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). Hence, the circuit for calculating $b$ is as depicted in Figure 7.21b, from which we easily find\n\n$$\nb = \\frac{v_{f}}{v_{o}} = \\frac{R_{1}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}} \\tag{7.48}\n$$\n\nUltimately, we apply Equation (7.28) to determine the unloaded gain $A_{o c}$, and Equations (7.29) and (7.30), with $r_{i}$ and $r_{o}$ substituted by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$ and $R_{o}$. Once these three parameters are established, we can utilize them in the general scenario where the feedback amplifier is driven by a signal source $v_{s i g}$ with a non-zero series resistance $R_{s i g}$ and drives a finite output load $R_{L}$. Referring to the circuit model in Figure 7.22, the source-to-load gain $v_{o} / v_{\\text{sig}}$, also known as the loaded gain, is readily calculated as\n\n$$\n\\frac{v_{o}}{v_{s i g}} = \\frac{R_{i}}{R_{s i g} + R_{i}} A_{o c} \\frac{R_{L}}{R_{o} + R_{L}} \\tag{7.49}\n$$\n\nIn Figure 7.22, the circuit represents a closed-loop voltage amplifier model, driven by a source $v_{s i g}$ and driving an external load $R_{L}$. It includes a voltage-controlled voltage source $A_{o c}V_{i}$ symbolizing the amplifier with an input resistance $R_{i}$ and an output resistance $R_{o}$."
},
{
    "text": "---[Rephrased Text]---\n\nWe initially analyzed the non-inverting operational amplifier configuration, exemplifying a series-shunt circuit, as depicted in Fig. 7.18a. We now revisit this configuration, focusing on the interaction between the error amplifier's internal resistances, \\( r_{i} \\) and \\( r_{o} \\), and the external resistances, \\( R_{1} \\) and \\( R_{2} \\), which constitute the feedback network. This interaction leads to loading effects at both the amplifier's input and output. To isolate the impact of the feedback network's loading, we maintain the assumption of a driving source \\( v_{i} \\) with zero series resistance and an unloaded (open-circuited) output port, as shown in Fig. 7.20.\n\nIn examining the input port loading, the external resistance observed at this port is seemingly \\( R_{1} || (R_{2} + r_{o}) \\). However, we know that in feedback operation, the system presents an extremely low output resistance \\( (R_{o} \\rightarrow 0) \\) due to the shunt-type sensing. This negates the effect of \\( r_{o} \\), rendering the effective external resistance at the amplifier's input port as \\( R_{1} || R_{2} \\). This is illustrated in the amplifier's equivalent circuit of Fig. 7.21a, where \\( R_{2} \\) is shown short-circuited (SC) to ground.\n\nRegarding the output port loading, the external resistance observed at this port appears to be \\( R_{2} + (R_{1} || r_{i}) \\). Yet, in feedback operation, the system presents an extremely high input resistance \\( (R_{i} \\rightarrow \\infty) \\) due to the series-type summing. This results from \\( v_{\\varepsilon} \\rightarrow 0 \\), making the current through \\( r_{i} \\) negligible and thus nullifying the effect of \\( r_{i} \\). For practical purposes, the amplifier's input port appears as an open circuit to the feedback network. This is also depicted in Fig. 7.21a, where the node common to \\( R_{1} \\) and \\( R_{2} \\) is shown as open-circuited (OC), indicating that the effective external resistance at the amplifier's output port is \\( R_{2} + R_{1} \\).\n\nWith the feedback path interrupted at both the output (via short circuiting) and the input (via open circuiting), the circuit of Fig. 7.21a represents the error amplifier in open-loop operation, with the loading by the external feedback network specifically considered at both ports. Next, we aim to determine its open-loop parameters, now denoted as \\( a (=v_{o} / v_{\\varepsilon}) \\), \\( r_{i a} \\), and \\( r_{o a} \\). Applying the voltage divider rule, we obtain:\n\n$$\nv_{o} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} v_{d} = \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} a_{v} \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} v_{\\varepsilon}\n$$\n\nThus:\n\n$$\na = \\frac{v_{o}}{v_{\\varepsilon}} = \\frac{r_{i}}{r_{i} + (R_{1} || R_{2})} a_{v} \\frac{R_{1} + R_{2}}{r_{o} + R_{1} + R_{2}} \\tag{7.46}\n$$\n\nNote that \\( a < a_{v} \\) due to input and output loading. By inspection, we also have:\n\n$$\nr_{i a} = r_{i} + (R_{1} || R_{2}) \\quad r_{o a} = r_{o} || (R_{2} + R_{1}) \\tag{7.47}\n$$\n\nNext, we seek a representation for the feedback network independent of the basic amplifier. Referring back to Fig. 7.20, we observe that at the sensing side, this network is driven by a voltage source \\( v_{o} \\) expected to exhibit an extremely low series resistance \\( R_{o} \\), and at the summing side, it drives the amplifier's input port, which appears as an open circuit (OC) for practical purposes. The circuit for calculating \\( b \\) is thus as in Fig. 7.21b, from which we readily find:\n\n$$\nb = \\frac{v_{f}}{v_{o}} = \\frac{R_{1}}{R_{1} + R_{2}} = \\frac{1}{1 + R_{2} / R_{1}} \\tag{7.48}\n$$\n\nFinally, we apply Eq. (7.28) to find the unloaded gain \\( A_{o c} \\), and Eqs. (7.29) and (7.30), with \\( r_{i} \\) and \\( r_{o} \\) replaced by \\( r_{i a} \\) and \\( r_{o a} \\), to find the closed-loop terminal resistances \\( R_{i} \\) and \\( R_{o} \\). Once these three parameters are known, we can use them in the general case where the feedback amplifier is driven by a signal source \\( v_{s i g} \\) with non-zero series resistance \\( R_{s i g} \\) and drives a finite output load \\( R_{L} \\). With reference to the circuit model of Fig. 7.22, the source-to-load gain \\( v_{o} / v_{\\text {sig }} \\), also known as the loaded gain, is readily found as:\n\n$$\n\\frac{v_{o}}{v_{s i g}} = \\frac{R_{i}}{R_{s i g} + R_{i}} A_{o c} \\frac{R_{L}}{R_{o} + R_{L}} \\tag{7.49}\n$$\n\nThe subsequent examples and the Series-Shunt Procedure outlined in the text further illustrate the application of these principles in various amplifier configurations and feedback networks."
},
{
    "text": "The original text is a detailed explanation of the analysis and calculations involved in a shunt-shunt operational amplifier configuration, including the interaction between internal resistances and external feedback networks. It delves into the principles of virtual ground, loading effects, and the calculation of open-loop and closed-loop parameters. The text also provides examples to demonstrate the application of these principles and the resulting changes in circuit behavior. The figures referred to in the text are not included in this rephrased version, but their descriptions are maintained in textual form."
},
{
    "text": "In Fig. 7.30, we delve back into the shunt-shunt operational amplifier setup from Fig. 7.18b, this time concentrating on the interplay between the internal resistances, $r_{i}$ and $r_{o}$, of the amplifier and the external feedback network, which is solely made up of resistor $R$. To isolate the effects of the feedback network on loading, we maintain the assumption of a driving source, $i_{i}$, with infinite parallel resistance and an unloaded (open-circuited) output port.\n\nGiven the high gain, $a_{v}$, the differential input voltage, $v_{d}$, becomes negligibly small, implying that the inverting input node will hover around virtual ground. Hence, to assess the loading at the amplifier's output, we consider $R$ as if its left terminal were directly connected to ground. For the input loading calculation, we recognize that the output sensing is of the shunt type, similar to the series-shunt circuit in Fig. 7.20. Thus, to determine the loading at the amplifier's input port, we treat $R$ as if its right terminal were connected to ground. Both scenarios are illustrated in Fig. 7.31a, depicting the error amplifier in open-loop mode, with specific consideration of the loading due to the external feedback network at both ports. Subsequently, we aim to ascertain its open-loop parameters, now denoted as $a\\left(=v_{o} / i_{\\varepsilon}\\right), r_{i a}$, and $r_{o a}$. Utilizing the voltage divider rule and Ohm's law,\n\n$$\nv_{o}=\\frac{R}{r_{o}+R} a_{v} v_{d}=\\frac{R}{r_{o}+R} a_{v}\\left(r_{i} / / R\\right)\\left(-i_{\\varepsilon}\\right)\n$$\n\nThis circuit is characterized as a transresistance operational amplifier featuring internal resistances $r_{i}$ and $r_{0}$. The voltage-controlled voltage source $avd$ is an integral part of the op-amp model.\n\nFIGURE 7.30 showcases the transresistance op amp with its internal resistances, $r_{i}$ and $r_{0}$, explicitly depicted.\n\nFIGURE 7.31 dissects the circuit of Fig. 7.30 into (a) the basic amplifier and (b) the feedback network, such that\n\n$$\n\\begin{equation*}\na=\\frac{v_{o}}{i_{\\varepsilon}}=-\\left(r_{i} / / R\\right) a_{v} \\frac{R}{r_{o}+R} \\tag{7.50}\n\\end{equation*}\n$$\n\n$a$ now assumes the dimensions of V/A and is negative. Furthermore, through observation, we derive\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i} / / R \\quad r_{o a}=r_{o} / / R \\tag{7.51}\n\\end{equation*}\n$$\n\nMoving forward, we seek a depiction of the feedback network that is distinct from the fundamental amplifier. Reflectvisiting Fig. 7.30, we note\nIn Figure 7.30, we revisit the shunt-shunt op-\nIn Figure 7.30, we revisit the shunt-shunt op\nIn Figure 7.30, we revisit the shunt-shunt op-\nIn Figure 7.30, we revisit the shunt-shunt operational amplifier configuration initially presented in Figure 7.18b, now a specific focus on the interaction between the amplifier's internal resistances, $r_{i}$ and $r_{o}$, and the external feedback network, which in composed of resistor $R$. To isolate the impact of the feedback network on loading, we continue to assume a driving source $i_{i}$ with infinite infinite parallel resistance and an unloaded (open-circuited) output port.\n\nConsidering to the high gain $a_{v}$, the differential input voltage $v_{d}$ becomes very small, suggesting that the inverting input node will remain at a virtual ground potential. Therefore, to calculate the loading at the amplifier's output port, we consider $R$ as if its left terminal were short-circuited (SC) to ground. To determine the loading at the input, we observe that the sensing at the output is of the shunt type, similar to the series-shunt circuit in Figure 7.20. Thus, to calculate the loading at the amplifier's input port, we consider $R$ as if its right terminal were short-circuited (SC) to ground. Both situations are illustrated in Figure 7.31a, which shows the error amplifier in open-loop operation, with the loading by the external feedback network specifically considered at both ports. We then aim to determine its open-loop parameters, now denoted as $a\\left(=v_{o} / i_{\\varepsilon}\\right), r_{i a}$, and $r_{o a}$. Using the voltage divider rule and Ohm's law,\n\n$$\nv_{o}=\\frac{R}{r_{o}+R} a_{v} v_{d}=\\frac{R}{r_{o}+R} a_{v}\\left(r_{i} / / R\\right)\\left(-i_{\\varepsilon}\\right)\n$$\n\nThe circuit depicted is a transresistance operational amplifier with internal resistances $r_{i}$ and $r_{0}$. The voltage-controlled voltage source $avd$ is part of the op-amp model.\n\nFigure 7.30 displays the transresistance op amp with its internal resistances, $r_{i}$ and $r_{0}$, explicitly shown.\n\nFigure 7.31 breaks down the circuit of Figure 7.30 into (a) the basic amplifier and (b) the feedback network, resulting in\n\n$$\n\\begin{equation*}\na=\\frac{v_{o}}{i_{\\varepsilon}}=-\\left(r_{i} / / R\\right) a_{v} \\frac{R}{r_{o}+R} \\tag{7.50}\n\\end{equation*}\n$$\n\n$a$ now has the dimensions of V/A and is negative. Moreover, by observation, we obtain\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i} / / R \\quad r_{o a}=r_{o} / / R \\tag{7.51}\n\\end{equation*}\n$$\n\nNext, we look for a representation of the feedback network that is independent of the basic amplifier. Referring back to Figure 7.30, we notice that at the sensing side, this network is driven by a voltage source $v_{o}$ with an extremely small series resistance $R_{o}$, and at the summing side, it drives the amplifier's input port, which, for practical purposes, appears as a short circuit (SC). The circuit for calculating $b$ is thus as in Figure $7.31 b$, from which we easily find $i_{f}=\\left(0-v_{o}\\right) / R$, so\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.52}\n\\end{equation*}\n$$\n\nThe dimensions of $b$ are $\\mathrm{A} / \\mathrm{V}$, the reciprocal of those of $a$. Additionally, $b$ is negative, just like $a$. Both characteristics are consistent with the fact that $L=a b$ must be dimensionless and positive. We can now apply Equation (7.34) to find the unloaded gain $A_{o c}$, and Equation (7.35), with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nExample 7.13 considers the circuit in Figure 7.30, where the op amp has $a_{v}=10^{5} \\mathrm{~V} / \\mathrm{V}, r_{i}=2 \\mathrm{M} \\Omega$, and $r_{o}=$ $100 \\Omega$. If $R=1.0 \\mathrm{M} \\Omega$, the task is to find $R_{i}, R_{o}$, and the unloaded gain $A_{o c}$.\n\n#### Solution\n\nUsing Equations (7.50) through (7.52), we get\n\n$$\n\\begin{aligned}\n& r_{i a}=(2 / / 1) \\times 10^{6}=667 \\mathrm{k} \\Omega \\quad r_{o a}=100 / / 10^{6}=100 \\Omega \\\\\n& a=-(2 / / 1) 10^{6} \\times 10^{5} \\frac{10^{6}}{100+10^{6}}=-6.66 \\times 10^{10} \\mathrm{~V} / \\mathrm{A} \\quad b=-10^{-6} \\mathrm{~A} / \\mathrm{V}\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\nL &=\\left(-6.667 \\times 10^{10}\\right)\\left(-10^{-6}\\right)=66,667 \\\\\nA_{o c} &=\\frac{-10^{6}}{1+1 / 66,667} \\cong-1.0 \\mathrm{~V} / \\mu \\mathrm{A} \\\\\nR_{i} &=\\frac{667 \\mathrm{k} \\Omega}{66,667}=10 \\Omega \\\\\nR_{o} &=\\frac{100 \\Omega}{66,667}=1.5 \\mathrm{~m} \\Omega\n\\end{aligned}\n$$\n\nThe logic developed for the above example can be generalized to the following Shunt-Shunt Procedure:\n\n- To calculate loading at the input of the basic amplifier, short-circuit (SC) the sensing-side port of the feedback network.\n- To calculate loading at the output of the basic amplifier, short-circuit (SC) the summing-side port of the feedback network.\n- To find $b$, apply a voltage $v_{o}$ to the sensing-side port of the feedback network, determine the short-circuit current $i_{f}$ flowing into the summing-side port of the feedback network, and set $b=i_{f} / v_{o}$.\nWe will illustrate the procedure with additional examples.\nThe feedback circuit in Figure 7.32 is similar to that in Figure 7.23, except that the input source is now a current that has been shifted to $Q_{1}$ 's emitter, with the base grounded. Consequently, $Q_{1}$ is now operating in the CB mode. As we know, the resistance seen looking into its emitter is low to begin with, and we expect that feedback will further reduce it. Applying the aforementioned Shunt-Shunt Procedure, we arrive at the basic amplifier and feedback network in Figure 7.33.\n\nFigure 7.32 presents a shunt-shunt feedback amplifier utilizing three NPN transistors. $Q1$ operates in common-base mode, and feedback is applied to decrease the input resistance.\n\nFigure 7.32 showcases the shunt-shunt feedback amplifier with three NPN transistors. $Q1$ operates in common-base mode, and feedback is applied to reduce the input resistance. The circuit is decomposed into an error amplifier and a feedback network.\n\nExample 7.14 addresses the circuit in Figure 7.32, which has the same parameters as Example 7.10, specifically, $R_{1}=1.0 \\mathrm{k} \\Omega, R_{2}=3.0 \\mathrm{k} \\Omega$, and $R_{3}=R_{4}=R_{5}=10 \\mathrm{k} \\Omega$. Additionally, all BJTs have $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=\\infty$. The task is to find $R_{i}, R_{o}$, and the unloaded gain $A_{o c}$.\n\n#### Solution\n\n(a) Following similar steps as in Example 7.10, using the circuit in Figure 7.33, we find\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{e 1} / / R_{1} / / R_{2}=24.2 \\Omega \\quad r_{o a}=\\frac{R_{5}+r_{\\pi 3}}{\\beta_{03}+1} / / R_{2} / / R_{3} \\cong 72.3 \\Omega \\\\\n& \\frac{v_{e 1}}{i_{\\varepsilon}}=r_{i a}=24.2 \\mathrm{~V} / \\mathrm{A} \\quad \\frac{v_{c 1}}{v_{e 1}}=g_{m 1}\\left(R_{4} / / r_{\\pi 2}\\right)=133 \\mathrm{~V} / \\mathrm{V} \\\\\n& \\frac{v_{c 2}}{v_{c 1}}=-g_{m 2}\\left(R_{5} / / R_{b 3}\\right)=-400 \\mathrm{~V} / \\mathrm{V} \\quad \\frac{v_{o}}{v_{c 2}} \\cong 1 \\mathrm{~V} / \\mathrm{V} \\\\\n& a=\\frac{v_{o}}{i_{\\varepsilon}}=\\frac{v_{e 1}}{i_{\\varepsilon}} \\times \\frac{v_{c 1}}{v_{e 1}} \\times \\frac{v_{c 2}}{v_{c 1}} \\times \\frac{v_{o}}{v_{c 2}} \\cong(24.2)(133)(-400)(1)=-1.29 \\times 10^{6} \\mathrm{~V} / \\mathrm{A} \\\\\n& b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R_{2}}=-\\frac{1}{3 \\times 10^{3}} \\mathrm{~A} / \\mathrm{V} \\quad L=a b=\\frac{-1.29 \\times 10^{6}}{-3 \\times 10^{3}}=430 \\\\\n& A_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{-3 \\times 10^{3}}{1+1 / 430}=-2.993 \\mathrm{~V} / \\mathrm{mA} \\\\\n& R_{i}=\\frac{24.2}{1+430}=0.056 \\Omega \\quad R_{o}=\\frac{72.3}{1+430} \\cong 0.168 \\Omega\n\\end{aligned}\n$$\n\n(b) It is immediately apparent that despite the significant differences in the values and dimensions of $a$ and $b$ in the two examples, their product $L=a b$ remains the same (430). However, some of the closed-loop parameters have drastically changed due to the different feedback topology. In both cases, the output sensing is of the shunt type, so $R_{o}$ remains virtually unchanged. In contrast, $R_{i}$ undergoes a substantial change from $67 \\mathrm{M} \\Omega$ in the input-series circuit of Example 7.10 to $0.056 \\Omega$ in the input-shunt circuit of the current example—a marked difference! Additionally, the closed-loop gain has altered in value, dimensions, and even polarity, as expected.\n\nIn our final example, we examine the ac circuit in Figure $7.34 a$, which represents the熟悉的 feedback-bias scheme. As we know, this scheme offers a good dc biasing alternative for a transistor. By inspection, we identify this circuit as a shunt-shunt type. Applying the aforementioned Shunt-Shunt Procedure, we arrive at the decompositions in Figures 7.34b and $c$.\n\n(a) In the shunt-shunt circuit of Figure $7.34 a$, let $R_{B}=100 \\mathrm{k} \\Omega$ and $R_{C}=10 \\mathrm{k} \\Omega$.\n\nExample 7.15 also considers the BJT parameters $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$. The goal is to find $R_{i}, R_{o}$, and the unloaded gain $A_{o c}$.\n\n(b) The exercise is repeated if $R_{B}$ is reduced to $5.0 \\mathrm{k} \\Omega$. The results are compared and the similarities and differences are justified.\n\n#### Solution\n\n(a) Referring to Figures $7.34 b$ and $c$, we have, by inspection,\n\n$$\nr_{i a}=R_{B} / / r_{\\pi}=100 / / 5=4.76 \\mathrm{k} \\Omega \\quad r_{o a}=R_{C} / / R_{B} / / r_{o}=10 / / 100 / / 100=8.33 \\mathrm{k} \\Omega\n$$\n\n$$\n\\begin{aligned}\n& \\frac{v_{b}}{i_{\\varepsilon}}=r_{i a}=4.76 \\mathrm{~V} / \\mathrm{mA} \\quad \\frac{v_{o}}{v_{b}}=-g_{m} r_{o a}=-\\frac{8.333}{0.025}=-333 \\mathrm{~V} / \\mathrm{V} \\\\\n& a=\\frac{v_{o}}{i_{\\varepsilon}}=\\frac{v_{b}}{i_{\\varepsilon}} \\times \\frac{v_{o}}{v_{b}}=-g_{m} r_{i a} r_{o a}=\\left(4.76 \\times 10^{3}\\right)(-333)=-1.59 \\times 10^{6} \\mathrm{~V} / \\mathrm{A}\n\\end{aligned}\n$$\n\nFigure 7.34 (a) depicts the feedback-bias BJT configuration as a shunt-shunt circuit. (b) shows the error amplifier, and (c) the feedback network.\n\n$$\n\\begin{aligned}\n& b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R_{B}}=-\\frac{1}{10^{5}} \\mathrm{~A} / \\mathrm{V} \\quad L=a b=\\frac{-1.59 \\times 10^{6}}{-10^{5}}="
},
{
    "text": "In Figure 7.30, we revisit the shunt-shunt operational amplifier configuration originally shown in Figure 7.18b, now with a focus on the interaction between the amplifier's internal resistances $r_{i}$ and $r_{o}$ and the external feedback network, which is made up of $R$. To isolate the impact of the feedback network on loading, we continue to assume an ideal driving source $i_{i}$ with infinite parallel resistance and an unloaded (open-circuited) output port.\n\nGiven the high gain $a_{v}$, the differential input voltage $v_{d}$ will be negligible, suggesting that the inverting-input node will be held at virtual-ground potential. Therefore, to determine the loading at the amplifier's output port, we consider $R$ as if its left terminal were short-circuited (SC) to ground. To find the loading at the input, we recognize that the output sensing is of the shunt type, similar to the series-shunt circuit of Figure 7.20. Thus, to calculate loading at the amplifier's input port, we treat $R$ as if its right terminal were short-circuited (SC) to ground. Both scenarios are illustrated in Figure 7.31a, which depicts the error amplifier in open-loop operation, incorporating the loading due to the external feedback network at both ports. Subsequently, we aim to determine its open-loop parameters, now represented as $a\\left(=v_{o} / i_{\\varepsilon}\\right), r_{i a}$ and $r_{o a}$. Applying the voltage divider rule and Ohm's law,\n\n$$\nv_{o}=\\frac{R}{r_{o}+R} a_{v} v_{d}=\\frac{R}{r_{o}+R} a_{v}\\left(r_{i} / / R\\right)\\left(-i_{\\varepsilon}\\right)\n$$\n\nThe provided circuit diagrams and associated descriptions depict a transresistance operational amplifier with internal resistances $r_{i}$ and $r_{o}$, and a voltage-controlled voltage source $avd$ as part of the op-amp model. The feedback network consists of a current source $ii$, a resistor $R$, and a voltage source $vo$, forming a loop with the resistor and voltage source connected to ground at multiple points.\n\nBy analyzing the circuit, we derive the open-loop gain $a$ and the internal resistances $r_{i a}$ and $r_{o a}$. Furthermore, we seek a representation of the feedback network independent of the basic amplifier. Observing Figure 7.30, we note that at the sensing side, the network is driven by a voltage source $v_{o}$ with an extremely small series resistance $R_{o}$, and at the summing side, it drives the amplifier's input port, which appears as a short circuit (SC) for practical purposes. The circuit for calculating $b$ is shown in Figure 7.31b, from which we can determine $i_{f}=\\left(0-v_{o}\\right) / R$, leading to\n\n$$\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R}\n$$\n\nThe dimensions of $b$ are $\\mathrm{A} / \\mathrm{V}$, the reciprocal of those of $a$. Additionally, $b$ is negative, aligning with the requirement that $L=a b$ must be dimensionless and positive. With these equations, we can find the unloaded gain $A_{o c}$ and the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nExamples 7.13 and 7.14 demonstrate the application of the Shunt-Shunt Procedure to calculate the unloaded gain and resistances for different circuit configurations. These examples highlight the impact of feedback on the input and output resistances, as well as the closed-loop gain.\n\nFinally, Figure 7.34 presents a feedback-bias BJT configuration as a shunt-shunt circuit. Applying the Shunt-Shunt Procedure, we decompose the circuit into an error amplifier and a feedback network. Examples 7.15 illustrate the calculation of the unloaded gain and resistances for various resistor values, showcasing the effect of feedback on the circuit parameters."
},
{
    "text": "In Figure 7.30, we revisit the shunt-shunt operational amplifier configuration from Figure 7.18b, this time focusing on the interplay between the amplifier's internal resistances, $r_{i}$ and $r_{o}$, and the external feedback network, here composed solely of resistor $R$. To isolate the impact of the feedback network's loading effect, we maintain the assumption of a driving source $i_{i}$ with infinite parallel resistance and an unloaded (open-circuited) output port.\n\nDue to the amplifier's high gain, $a_{v}$, the differential input voltage, $v_{d}$, becomes negligibly small, suggesting that the inverting-input node will be maintained at a virtual ground. Thus, to determine the loading at the amplifier's output port, we treat $R$ as if its left terminal were short-circuited (SC) to ground. To assess the loading at the input, we recognize that the output sensing is of the shunt type, similar to the series-shunt circuit in Figure 7.20. Therefore, to calculate the loading at the amplifier's input port, we consider $R$ as if its right terminal were short-circuited (SC) to ground. Both scenarios are illustrated in Figure 7.31a, depicting the error amplifier operating in an open-loop configuration but with the external feedback network's loading effects specifically considered at both ports. We then aim to determine the open-loop parameters, now denoted as $a\\left(=v_{o} / i_{\\varepsilon}\\right), r_{i a}$, and $r_{o a}$. Utilizing the voltage divider rule and Ohm's law, we derive the equation for $v_{o}$.\n\nThe transresistance operational amplifier circuit with internal resistances $r_{i}$ and $r_{0}$ is depicted in Figure 7.30. The voltage-controlled voltage source, $avd$, is an integral part of the op-amp model.\n\nFigure 7.31 decomposes the circuit of Figure 7.30 into (a) the basic amplifier and (b) the feedback network. Using the derived equation, we express the parameter $a$ in terms of the voltage gain, internal and external resistances.\n\nWe observe that $a$ now possesses the dimensions of V/A and is negative. Furthermore, by inspection, we establish the relationships for $r_{i a}$ and $r_{o a}$.\n\nSubsequently, we seek a representation of the feedback network distinct from the basic amplifier. Referring back to Figure 7.30, we note that at the sensing side, this network is driven by a voltage source $v_{o}$, which is expected to exhibit an extremely small series resistance $R_{o}$, and at the summing side, it drives the amplifier's input port, which appears as a short circuit (SC) for practical purposes. The circuit for calculating $b$ is thus as shown in Figure 7.31b, from which we easily determine $i_{f}=\\left(0-v_{o}\\right) / R$, leading to the expression for $b$.\n\nThe dimensions of $b$ are A/V, the reciprocal of those of $a$. Moreover, $b$ is negative, just like $a$. Both characteristics align with the requirement that $L=a b$ must be dimensionless and positive. With these equations, we can now calculate the unloaded gain $A_{o c}$ and the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nExample 7.13 involves finding $R_{i}, R_{o}$, and the unloaded gain $A_{o c}$ for a given circuit with specified op amp parameters and resistor values.\n\nThe Shunt-Shunt Procedure is outlined as follows:\n\n1. To calculate loading at the input of the basic amplifier, short-circuit (SC) the sensing-side port of the feedback network.\n2. To calculate loading at the output of the basic amplifier, short-circuit (SC) the summing-side port of the feedback network.\n3. To determine $b$, apply a voltage $v_{o}$ to the sensing-side port of the feedback network, find the short-circuit current $i_{f}$ flowing into the summing-side port of the feedback network, and set $b=i_{f} / v_{o}$.\n\nFurther examples are provided to illustrate this procedure, including circuits with additional components and configurations."
},
{
    "text": "Fig. 7.30 revisits the shunt-shunt operational amplifier configuration originally presented in Fig. 7.18b, this time with a closer look at the interplay between the amplifier's internal resistances, $r_{i}$ and $r_{o}$, and the external feedback network, which in this instance is made up of resistor $R$. To isolate the effects of the feedback network's loading, we continue to assume a driving source $i_{i}$ with infinite parallel resistance and an unloaded (open-circuited) output port.\n\nOwing to the amplifier's high gain $a_{v}$, the differential input voltage $v_{d}$ is negligibly small, suggesting that the inverting-input node will maintain a virtual-ground potential. To assess the loading at the amplifier's output port, we treat $R$ as if its left terminal were directly connected to ground. For input loading calculations, we recognize that the output sensing is of the shunt type, similar to the series-shunt circuit in Fig. 7.20. Thus, to determine the loading at the amplifier's input port, we consider $R$ as if its right terminal were short-circuited to ground. These scenarios are illustrated in Fig. 7.31a, which depicts the error amplifier in open-loop operation while accounting for the external feedback network's loading at both ports. We then aim to determine its open-loop parameters, now denoted as $a\\left(=v_{o} / i_{\\varepsilon}\\right), r_{i a}$, and $r_{o a}$. Applying the voltage divider rule and Ohm's law, we obtain the following relationship:\n\n$$\nv_{o}=\\frac{R}{r_{o}+R} a_{v} v_{d}=\\frac{R}{r_{o}+R} a_{v}\\left(r_{i} / / R\\right)\\left(-i_{\\varepsilon}\\right)\n$$\n\nThe circuit depicted in Fig. 7.30 is a transresistance operational amplifier featuring internal resistances $r_{i}$ and $r_{o}$, with the voltage-controlled voltage source $avd$ being part of the op-amp model. Fig. 7.31 shows the circuit分解为(a)基本放大器和(b)反馈网络。因此，我们有：\n\n$$\n\\begin{equation*}\na=\\frac{v_{o}}{i_{\\varepsilon}}=-\\left(r_{i} / / R\\right) a_{v} \\frac{R}{r_{o}+R} \\tag{7.50}\n\\end{equation*}\n$$\n\n$a$ now has the units of V/A and is negative. Additionally, by inspection, we find:\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i} / / R \\quad r_{o a}=r_{o} / / R \\tag{7.51}\n\\end{equation*}\n$$\n\nNext, we seek a representation of the feedback network distinct from the basic amplifier. Revisiting Fig. 7.30, we observe that the network at the sensing side is driven by a voltage source $v_{o}$, which is expected to have an extremely small series resistance $R_{o}$, and that it drives the amplifier's input port, which appears as a short circuit (SC) for practical purposes. The circuit for calculating $b$ is thus as shown in Fig. $7.31 b$, from which we can directly find $i_{f}=\\left(0-v_{o}\\right) / R$, leading to:\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.52}\n\\end{equation*}\n$$\n\nThe dimensions of $b$ are $\\mathrm{A} / \\mathrm{V}$, the reciprocal of those of $a$. Moreover, $b$ is negative, like $a$. Both properties align with the requirement that $L=a b$ must be dimensionless and positive. We can now use Eq. (7.34) to determine the unloaded gain $A_{o c}$, and Eq. (7.35), with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$ and $R_{o}$."
},
{
    "text": "In Figure 7.30, we delve once again into the shunt-shunt operational amplifier configuration originally depicted in Figure 7.18b, now with a specific focus on the interplay between the amplifier's intrinsic resistances, $r_{i}$ and $r_{o}$, and the extrinsic feedback network, here composed solely of resistor $R$. To isolate the effects of the feedback network's loading, we maintain the assumption of a driving source $i_{i}$ equipped with infinite parallel resistance, alongside an unloaded (open-circuited) output port.\n\nGiven the amplifier's high gain $a_{v}$, the differential input voltage $v_{d}$ is negligibly small, suggesting that the inverting input will remain at a virtual ground potential. Consequently, to assess the loading at the amplifier's output port, we consider $R$ as though its left terminal is directly connected to ground. For input loading calculations, we recognize that the output sensing is of a shunt nature, akin to the series-shunt circuit in Figure 7.20. Thus, to determine the loading at the amplifier's input port, we treat $R$ as if its right terminal is short-circuited to ground. Both scenarios are illustrated in Figure 7.31a, which presents the error amplifier operating in an open-loop configuration, with the external feedback network's loading effects explicitly considered at both ports. We then aim to determine its open-loop parameters, now denoted as $a\\left(=v_{o} / i_{\\varepsilon}\\right), r_{i a}$, and $r_{o a}$. Employing the voltage divider rule and Ohm's law,\n\n$$\nv_{o}=\\frac{R}{r_{o}+R} a_{v} v_{d}=\\frac{R}{r_{o}+R} a_{v}\\left(r_{i} / / R\\right)\\left(-i_{\\varepsilon}\\right)\n$$\n\n..."
},
{
    "text": "We revisit the shunt-shunt operational amplifier configuration from Fig. 7.18b, this time with a focus on the interaction between the amplifier's internal resistances, $r_{i}$ and $r_{o}$, and the external feedback network, which in this case is $R$. To isolate the effects of the feedback network's loading, we maintain the assumption of a driving source $i_{i}$ with infinite parallel resistance and an unloaded (open-circuited) output port.\n\nDue to the high gain $a_{v}$, the differential input voltage $v_{d}$ will be extremely small, implying that the inverting-input node will be at virtual ground potential. Hence, to determine the loading at the amplifier's output port, we consider $R$ as if its left terminal were short-circuited (SC) to ground. To calculate the loading at the input, we recognize that the sensing at the output is of the shunt type, similar to the series-shunt circuit in Fig. 7.20. Thus, to determine the loading at the amplifier's input port, we consider $R$ as if its right terminal were short-circuited (SC) to ground. Both scenarios are illustrated in Fig. 7.31a, which depicts the error amplifier in open-loop operation with the loading by the external feedback network specifically considered at both ports. Subsequently, we aim to determine its open-loop parameters, now denoted as $a\\left(=v_{o} / i_{\\varepsilon}\\right), r_{i a}$, and $r_{o a}$. Using the voltage divider rule and Ohm's law,\n\n$$\nv_{o}=\\frac{R}{r_{o}+R} a_{v} v_{d}=\\frac{R}{r_{o}+R} a_{v}\\left(r_{i} / / R\\right)\\left(-i_{\\varepsilon}\\right)\n$$\n\nThe circuit is a transresistance operational amplifier with internal resistances $r_{i}$ and $r_{0}$. The voltage-controlled voltage source $avd$ is part of the op-amp model.\n\nFIGURE 7.30 The transresistance op amp with its internal resistances $r_{i}$ and $r_{0}$ explicitly shown.\n\nFIGURE 7.31 Decomposing the circuit of Fig. 7.30 into (a) basic amplifier and (b) feedback network.\n\nso that\n\n$$\n\\begin{equation*}\na=\\frac{v_{o}}{i_{\\varepsilon}}=-\\left(r_{i} / / R\\right) a_{v} \\frac{R}{r_{o}+R} \\tag{7.50}\n\\end{equation*}\n$$\n\n$a$ now has the dimensions of V/A and is negative. Additionally, by inspection, we have\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i} / / R \\quad r_{o a}=r_{o} / / R \\tag{7.51}\n\\end{equation*}\n$$\n\nNext, we seek a representation for the feedback network that is distinct from the basic amplifier. Referring back to Fig. 7.30, we observe that at the sensing side, this network is driven by a voltage source $v_{o}$ with an expected extremely small series resistance $R_{o}$, and at the summing side, it drives the amplifier's input port, which appears as a short circuit (SC) for practical purposes. The circuit for calculating $b$ is thus as in Fig. $7.31 b$, from which we readily find $i_{f}=\\left(0-v_{o}\\right) / R$, so\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R} \\tag{7.52}\n\\end{equation*}\n$$\n\nThe dimensions of $b$ are $\\mathrm{A} / \\mathrm{V}$, the reciprocal of those of $a$. Moreover, $b$ is negative, just like $a$. Both properties are consistent with the fact that $L=a b$ must be dimensionless and positive. We can now apply Eq. (7.34) to find the unloaded gain $A_{o c}$, and Eq. (7.35), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nEXAMPLE 7.13 In the circuit of Fig. 7.30, let the op amp have $a_{v}=10^{5} \\mathrm{~V} / \\mathrm{V}, r_{i}=2 \\mathrm{M} \\Omega$, and $r_{o}=$ $100 \\Omega$. If $R=1.0 \\mathrm{M} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{o c}$.\n\n#### Solution\n\nUsing Eqs. (7.50) through (7.52) we have\n\n$$\n\\begin{aligned}\n& r_{i a}=(2 / / 1) \\times 10^{6}=667 \\mathrm{k} \\Omega \\quad r_{o a}=100 / / 10^{6}=100 \\Omega \\\\\n& a=-(2 / / 1) 10^{6} \\times 10^{5} \\frac{10^{6}}{100+10^{6}}=-6.66 \\times 10^{10} \\mathrm{~V} / \\mathrm{A} \\quad b=-10^{-6} \\mathrm{~A} / \\mathrm{V}\n\\end{aligned}\n$$\n\n$$\n\\begin{aligned}\nL & =\\left(-6.667 \\times 10^{10}\\right)\\left(-10^{-6}\\right)=66,667 \\\\\nA_{o c} & =\\frac{-10^{6}}{1+1 / 66,667} \\cong-1.0 \\mathrm{~V} / \\mu \\mathrm{A} \\\\\nR_{i} & =\\frac{667 \\mathrm{k} \\Omega}{66,667}=10 \\Omega \\\\\nR_{o} & =\\frac{100 \\Omega}{66,667}=1.5 \\mathrm{~m} \\Omega\n\\end{aligned}\n$$\n\nThe line of reasoning developed for the above example can be generalized to the following Shunt-Shunt Procedure:\n\n- To calculate loading at the input of the basic amplifier, short-circuit (SC) the sensing-side port of the feedback network.\n- To calculate loading at the output of the basic amplifier, short-circuit (SC) the summing-side port of the feedback network.\n- To find $b$, apply a voltage $v_{o}$ to the sensing-side port of the feedback network, find the short-circuit current $i_{f}$ flowing into the summing-side port of the feedback network, and let $b=i_{f} / v_{o}$.\nWe shall illustrate the procedure with additional examples.\nThe feedback circuit of Fig. 7.32 is similar to that of Fig. 7.23, except that the input source is now a current that has been moved to $Q_{1}$ 's emitter, while the base has been grounded. Thus, $Q_{1}$ is now operating in the CB mode. As we know, the resistance seen looking into its emitter is low to begin with, and we anticipate that feedback will make it even lower. Applying the aforementioned Shunt-Shunt Procedure, we end up with the basic amplifier and feedback network of Fig. 7.33.\nimage_name:FIGURE 7.32 Shunt-shunt feedback triple\ndescription:\n[\nname: Q1, type: NPN, ports: {C: V2, B: GND, E: V1}\nname: Q2, type: NPN, ports: {C: V3, B: V2, E: GND}\nname: Q3, type: NPN, ports: {C: GND, B: V3, E: vo}\nname: R1, type: Resistor, value: R1, ports: {N1: V1, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vo, N2: V1}\nname: R3, type: Resistor, value: R3, ports: {N1: Vo, N2: GND}\nname: R4, type: Resistor, value: R4, ports: {N1: V2, N2: GND}\nname: R5, type: Resistor, value: R5, ports: {N1: V3, N2: GND}\nname: Ii, type: CurrentSource, value: Ie, ports: {Np: GND, Nn: V1}\n]\nextrainfo:The circuit is a shunt-shunt feedback amplifier using three NPN transistors. Q1 operates in common-base mode, and feedback is applied to reduce the input resistance.\n\nFIGURE 7.32 Shunt-shunt feedback triple.\nimage_name:(a)\ndescription:\n[\nname: Q1, type: NPN, ports: {C: vc1, B: ve1, E: GND}\nname: Q2, type: NPN, ports: {C: vc2, B: vc1, E: GND}\nname: Q3, type: NPN, ports: {C: GND, B: vc2, E: vo}\nname: R1, type: Resistor, value: R1, ports: {N1: ve1, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: ve1, N2: GND}\nname: R22, type: Resistor, value: R22, ports: {N1: ve1, N2: GND}\nname: R3, type: Resistor, value: R3, ports: {N1: vo, N2: GND}\nname: R4, type: Resistor, value: R4, ports: {N1: vc1, N2: GND}\nname: R5, type: Resistor, value: R5, ports: {N1: vc2, N2: GND}\nname: Ie, type: CurrentSource, value: Ie, ports: {Np: GND, Nn: ve1}\n]\nextrainfo:The circuit is a shunt-shunt feedback amplifier using three NPN transistors. Q1 operates in common-base mode, and feedback is applied to reduce the input resistance. The circuit is decomposed into an error amplifier and a feedback network.\nimage_name:(b)\ndescription:\n[\n'name': 'R2', 'type': 'Resistor', 'value': 'R2', 'ports': {'N1': 'vo, 'N2': 'GND'\n'name': 'Vo', 'type': 'VoltageSource', 'value': 'Vo', 'ports': {'Np': 'Vo', 'Nn': 'GND'\n]\nextrainfo:The circuit is a shunt-shunt feedback amplifier using three NPN transistors. Q1 operates in common-base mode, and feedback is applied to reduce the input resistance. The circuit decomposed in (b) shows the feedback network with a resistor R2 and a voltage source Vo.\n\nFIGURE 7.33 Decomposing the circuit of Fig. 7.32 into (a) the error amplifier and (b) the feedback network.\n\nEXAMPLE 7.14 (a) Let the circuit of Fig. 7.32 have the same parameters of Example 7.10, namely, $R_{1}=1.0 \\mathrm{k} \\Omega, R_{2}=3.0 \\mathrm{k} \\Omega$, and $R_{3}=R_{4}=R_{5}=10 \\mathrm{k} \\Omega$. Moreover, let all BJTs have $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=\\infty$. Find $R_{i}, R_{o}$, and the unloaded gain $A_{o c}$.\n(b) Compare with Example 7.10, and justify similarities as well as differences.\n\n#### Solution\n\n(a) Retracing similar steps as in Example 7.10 using the circuit of Fig. 7.33 we find\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{e 1} / / R_{1} / / R_{2}=24.2 \\Omega \\quad r_{o a}=\\frac{R_{5}+r_{\\pi 3}}{\\beta_{03}+1} / / R_{2} / / R_{3} \\cong 72.3 \\Omega \\\\\n& \\frac{v_{e 1}}{i_{\\varepsilon}}=r_{i a}=24.2 \\mathrm{~V} / \\mathrm{A} \\quad \\frac{v_{c 1}}{v_{e 1}}=g_{m 1}\\left(R_{4} / / r_{\\pi 2}\\right)=133 \\mathrm{~V} / \\mathrm{V} \\\\\n& \\frac{v_{c 2}}{v_{c 1}}=-g_{m 2}\\left(R_{5} / / R_{b 3}\\right)=-400 \\mathrm{~V} / \\mathrm{V} \\quad \\frac{v_{o}}{v_{c 2}} \\cong 1 \\mathrm{~V} / \\mathrm{V} \\\\\n& a=\\frac{v_{o}}{i_{\\varepsilon}}=\\frac{v_{e 1}}{i_{\\varepsilon}} \\times \\frac{v_{c 1}}{v_{e 1}} \\times \\frac{v_{c 2}}{v_{c 1}} \\times \\frac{v_{o}}{v_{c 2}} \\cong(24.2)(133)(-400)(1)=-1.29 \\times 10^{6} \\mathrm{~V} / \\mathrm{A} \\\\\n& b=\\frac{i_{f}}{v_{o}}=-\\frac{1}{R_{2}}=-\\frac{1}{3 \\times 10^{3}} \\mathrm{~A} / \\mathrm{V} \\quad L=a b=\\frac{-1.29 \\times 10^{6}}{-3 \\times 10^{3}}=430 \\\\\n& A_{o c}=\\frac{v_{o}}{i_{i}}=\\frac{-3 \\times 10^{3}}{1+1 / 430}=-2.993 \\mathrm{~V} / \\mathrm{mA} \\\\\n& R_{i}=\\frac{24.2}{1+430}=0.056 \\Omega \\quad R_{o}=\\frac{72.3}{1+430} \\cong 0.168 \\Omega\n\\end{aligned}\n$$\n\n(b) We immediately observe that even though $a$ and $b$ are quite different in the two examples, both in values and dimensions, their product $L=a b$ is the same (430). However, some of the closed-loop parameters have changed drastically because of the different feedback topology. In both cases, output sensing is of the shunt type, so $R_{o}$ is virtually unchanged. By contrast, $R_{i}$ changes from $67 \\mathrm{M} \\Omega$ in the input-series circuit of Example 7.10, to $0.056 \\Omega$ in the inputshunt circuit of the present example-quite a change! Also, the closed-loop gain has changed in value, dimensions, and even polarity, as it should be.\n\nAs our last example, we turn to the ac circuit of Fig. $7.34 a$, representing the familiar feedback-bias scheme. As we know, this scheme offers a good dc biasing alternative for a transistor. By inspection we find that this circuit is a shunt-shunt type. We thus apply the aforementioned Shunt-Shunt Procedure to end up with the decompositions of Fig. 7.34b and $c$.\n(a) In the shunt-shunt circuit of Fig. $7.34 a$ let $R_{B}=100 \\mathrm{k} \\Omega$ and $R_{C}=10 \\mathrm{k} \\Omega$.\n\nEXAMPLE 7.15 Moreover, let the BJT have $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$. Find $R_{i}, R_{o}$, and the unloaded gain $A_{o c}$.\n(b) Repeat if $R_{B}$ is lowered to $5.0 \\mathrm{k} \\Omega$. Comment.\n\n#### Solution\n\n(a) With reference to Figs. $7.34 b$ and $c$ we have, by inspection,\n\n$$\nr_{i a}=R_{B} / / r_{\\pi}=100 / / 5=4.76 \\mathrm{k} \\Omega \\quad r_{o a}=R_{C} / / R_{B} / / r_{o}=10 / / 100 / / 100=8.33 \\mathrm{k} \\Omega\n$$\n\n$$\n\\begin{aligned}\n& \\frac{v_{b}}{i_{\\varepsilon}}=r_{i a}=4.76 \\mathrm{~V} / \\mathrm{mA} \\quad \\frac{v_{o}}{v_{b}}=-g_{m} r_{o a}=-\\frac{8.333}{0.025}=-333 \\mathrm{~V} / \\mathrm{V} \\\\\n& a=\\frac{v_{o}}{i_{\\varepsilon}}=\\frac{v_{b}}{i_{\\varepsilon}} \\times \\frac{v_{o}}{v_{b}}=-g_{m} r_{i a} r_{o a}=\\left(4.76 \\times 10^{3}\\right)(-333)=-1.59 \\times 10^{6} \\mathrm{~V} / \\mathrm{A}\n\\end{aligned}\n$$\n\nimage_name:(a)\ndescription:\n[\nname: RC, type: Resistor, value: RC, ports: {N1: GND, N2: Vo}\nname: RB, type: Resistor, value: RB, ports: {N1: Vo, N2: v1}\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, N"
},
{
    "text": "---[Rephrased Text]---\n\nWe revisit the shunt-shunt operational amplifier configuration initially presented in Fig. 7.18b, now with a focus on the interplay between the amplifier's intrinsic resistances, $r_i$ and $r_o$, and the external feedback network, here composed solely of resistor $R$. To isolate the impact of the feedback network on loading, we maintain the assumption of a driving source $i_i$ with an infinite parallel resistance and an unloaded (open-circuited) output port.\n\nGiven the high gain $a_v$, the differential input voltage $v_d$ is negligible, suggesting that the inverting input node remains at virtual ground. For analyzing the output port loading, we treat $R$ as if its left terminal is short-circuited to ground. To assess the input loading, we recognize that the output sensing is of the shunt type, akin to the series-shunt circuit of Fig. 7.20. Thus, for input port loading calculations, we consider $R$ as if its right terminal is short-circuited to ground. These scenarios are illustrated in Fig. 7.31a, showing the error amplifier in open-loop operation while accounting for the external feedback network's loading at both ports. We then aim to determine its open-loop parameters, now denoted as $a (= v_o / i_{\\varepsilon}), r_{i a}$, and $r_{o a}$. Utilizing the voltage divider rule and Ohm's law,\n\n$$\nv_o = \\frac{R}{r_o + R} a_v v_d = \\frac{R}{r_o + R} a_v (r_i || R)(-i_{\\varepsilon})\n$$\n\nFIGURE 7.30 depicts a transresistance operational amplifier with its internal resistances $r_i$ and $r_0$ explicitly shown.\n\nFIGURE 7.31 decomposes the circuit of Fig. 7.30 into (a) a basic amplifier and (b) a feedback network.\n\nThis leads to\n\n$$\na = \\frac{v_o}{i_{\\varepsilon}} = - (r_i || R) a_v \\frac{R}{r_o + R}\n$$\n\n$a$ now carries the dimension of V/A and is negative. Additionally, it is evident that\n\n$$\nr_{i a} = r_i || R \\quad r_{o a} = r_o || R\n$$\n\nWe then look to represent the feedback network independently of the basic amplifier. Observing Fig. 7.30, we note that at the sensing side, this network is driven by a voltage source $v_o$ with an assumed negligible series resistance $R_o$, and at the summing side, it drives the amplifier's input port, which effectively acts as a short circuit. The circuit for calculating $b$ is thus as shown in Fig. 7.31b, from which we easily derive $i_f = (0 - v_o) / R$, resulting in\n\n$$\nb = \\frac{i_f}{v_o} = -\\frac{1}{R}\n$$\n\nThe dimensions of $b$ are A/V, the inverse of $a$. Also, $b$ is negative, mirroring $a$. Both characteristics align with the requirement that $L = a b$ must be dimensionless and positive. We can now use Eq. (7.34) to determine the unloaded gain $A_{o c}$ and Eq. (7.35), with $r_i$ and $r_o$ substituted by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_i$ and $R_o$.\n\n---[End of Rephrased Text]---"
},
{
    "text": "In Fig. 7.35, we revisit the series-series op amp configuration from Fig. $7.18 c$, focusing on the interaction between the amplifier's internal resistances $r_{i}$ and $r_{o}$ and the external feedback network, which in this case is composed of $R$. To isolate the loading effect of the feedback network, we assume no external loading, meaning the driving source $v_{i}$ has zero series resistance, and the output load is a short circuit (note that an unloaded output port is an open circuit for a voltage-output device, but a short circuit for a current-output type).\n\nAs previously observed with the circuit in Fig. 7.20, the op amp's input port appears as an open circuit to the feedback network. Therefore, to calculate the loading at the amplifier's output, we treat the wire to the left of $R$ as an open circuit (OC). To determine the loading at the input, we note that the output sensing is of the series type, where we expect a high closed-loop resistance. Consequently, for input port loading calculations, we consider $R$ as if its terminal facing the load was open-circuited (OC).\n\nimage_name:FIGURE 7.35\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: Vf, N2: GND}\nname: OpAmp, type: OpAmp, value: OpAmp, ports: {InP: Vi, InN: Vf, OutP: Vf}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output.\n\nFIGURE 7.35 The transconductance op amp with its internal resistances $r_{i}$ and $r_{0}$ explicitly shown.\nimage_name:(a)\ndescription:\n[\nname: Vε, type: VoltageSource, ports: {Np: Vε, Nn: GND}\nname: rᵢ, type: Resistor, value: rᵢ, ports: {N1: Ve, N2: GND}\nname: aᵥvₑ, type: VoltageControlledVoltageSource, ports: {Np: Vd, Nn: GND}\nname: rₒ, type: Resistor, value: rₒ, ports: {N1: vd, N2: V2}\nname: R, type: Resistor, value: R, ports: {N1: V1, N2: GND}\nname: R, type: Resistor, value: R, ports: {N1: V2, N2: GND'}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output. The diagram shows an error amplifier in open-loop operation with loading by an external feedback network.\nimage_name:(b)\ndescription:\n[\nname: R, type: Resistor, value: R, ports: {N1: Vi, N2: GND}\nname: io, type: CurrentSource, value: io, ports: {Np: GND, Nn: Vf}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source io flowing from node Vf to ground. It is part of a transconductance operational amplifier circuit with internal resistances and a feedback network.\n\nFIGURE 7.36 Decomposing the circuit of Fig. 7.35 into (a) the error amplifier, and (b) the feedback network.\n\nThe two scenarios are illustrated in Fig. 7.36a, which depicts the error amplifier in open-loop operation, accounting for loading by the external feedback network at both ports. Next, we aim to determine its open-loop parameters, now designated as $a, r_{i a}$, and $r_{o a}$. By applying Ohm's law and the voltage divider rule,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o}+R}=\\frac{1}{r_{o}+R} a_{v} \\frac{r_{i}}{r_{i}+R} v_{\\varepsilon}\n$$\n\nthus\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+R} a_{v} \\frac{1}{r_{o}+R} \\tag{7.53}\n\\end{equation*}\n$$\n\nNote that $a$ now has the units of $\\mathrm{A} / \\mathrm{V}$. Additionally, the resistances seen by the input source $v_{\\varepsilon}$ and the short-circuit load are, respectively,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+R \\quad r_{o a}=r_{o}+R \\tag{7.54}\n\\end{equation*}\n$$\n\nNext, we seek a separate representation for the feedback network. Referring back to Fig. 7.35, we observe that at the sensing side $R$ is driven by a current source $i_{o}$, which is expected to exhibit a very high parallel resistance $R_{o}$. At the summing side, it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). The circuit to calculate $b$ is thus as shown in Fig. 7.36b, from which we readily find $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.55}\n\\end{equation*}\n$$\n\nThe units of $b$ are V/A, the reciprocal of those of $a$, as required to make $L$ dimensionless. As usual, we now apply Eq. (7.36) to determine the unloaded gain $A_{s c}$, and Eq. (7.37), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nEXAMPLE 7.16 (a) For the circuit in Fig. 7.35, let the op amp have $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=1.0 \\mathrm{k} \\Omega$. If $R=10 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) If $v_{i}=5.0 \\mathrm{~V}$, what is the short-circuit output current? If the short-circuit is replaced by a load that develops a $4.0-\\mathrm{V}$ voltage drop, by how much will the output current change? Comment.\n\n#### Solution\n\n(a) Using Eqs. (7.53) through (7.55), we get\n\n$$\n\\begin{aligned}\n& a=\\frac{100}{100+10} 10^{3} \\frac{1}{(1+10) 10^{3}}=\\frac{1}{12.1} \\mathrm{~A} / \\mathrm{V} \\quad b=10^{4} \\mathrm{~V} / \\mathrm{A} \\\\\n& L=\\frac{10^{4}}{12.1}=826 \\\\\n& r_{i a}=100+10=110 \\mathrm{k} \\Omega \\quad r_{o a}=1+10=11 \\mathrm{k} \\Omega \\\\\n& A_{s c}=\\frac{1 / 10^{4}}{1+1 / 826}=99.88 \\mu \\mathrm{~A} / \\mathrm{V} \\quad R_{i}=110(1+826)=91 \\mathrm{M} \\Omega \\\\\n& R_{o}=11(1+826)=9.1 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n(b) The short-circuit output current is $i_{o}=A_{s c} v_{i}=99.88 \\times 5.0=499.4 \\mu \\mathrm{~A}$ (ideally, $500 \\mu \\mathrm{~A}$). Visualizing the output port via its Norton equivalent, we note that with a $4.0-\\mathrm{V}$ load-voltage increase, the current will decrease by $(4.0 \\mathrm{~V}) /(9.1 \\mathrm{M} \\Omega)=0.44 \\mu \\mathrm{~A}$, an insignificant amount. This is thanks to the high output resistance provided by negative feedback!\n\nThe reasoning developed for the above example can be generalized into the following Series-Series Procedure:\n\n- To calculate loading at the input of the basic amplifier, open-circuit (OC) the sensing-side port of the feedback network.\n- To calculate loading at the output of the basic amplifier, open-circuit (OC) the summing-side port of the feedback network.\n- To find $b$, apply a current $i_{o}$ to the sensing-side port of the feedback network, determine the open-circuit voltage $v_{f}$ at the summing-side port, and let $b=v_{f} / i_{o}$.\n\nLet us illustrate this procedure using the single BJT circuit of Fig. 7.37, operated in the series-series mode as a voltage-to-current (V-I) converter. This circuit is similar to the CC configuration of Fig. 7.28, except that the output is now the short-circuit collector current rather than the open-circuit emitter voltage. To decompose the feedback circuit into the basic error amplifier and the feedback network, refer to the small-signal equivalent of Fig. 7.37b, where we note that the sensed current is not $i_{o}$ itself, but $i_{o} / \\alpha_{0}$.\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: X1, N2: GND}\nname: NPN, type: NPN, ports: {C: GND, B: Vi, E: X1}\n]\nextrainfo:This circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It converts an input voltage to an output current by sensing the current through the feedback network. The circuit uses a BJT in common collector configuration with feedback provided by a resistor network.\nimage_name:(b)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: rπ, type: Resistor, value: rπ, ports: {N1: vi, N2: vf}\nname: ro, type: Resistor, value: ro, ports: {N1: vf, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:This circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It senses the current i_o/α_0 instead of i_o directly.\n\nFIGURE 7.37 The single-BJT voltage-to-current (V-I) converter as a series-series feedback system. (a) Ac equivalent and (b) small-signal representation.\n\nFollowing the aforementioned Series-Series Procedure, we open-circuit at the right-hand side of $R_{E}$ to determine input loading, thus obtaining the left portion of the circuit in Fig. 7.38a. Similarly, we open-circuit at the left-hand side of $R_{E}$ to determine output loading, thus obtaining the right portion of the circuit in Fig. 7.38a. Finally, we drive the feedback network $R_{E}$ with the current $i_{o} / \\alpha_{0}$ to find $v_{f}$\nimage_name:(a)\ndescription:\n[\nname: vE, type: VoltageSource, value: vE, ports: {Np: VE, Nn: GND}\nname: r_π, type: Resistor, value: r_π, ports: {N1: Ve, N2: V1}\nname: RE, type: Resistor, value: RE, ports: {N1: V1, N2: GND}\nname: g_mv_π, type: VoltageControlledCurrentSource, ports: {Np: GND, Nn: V2}\nname: ro, type: Resistor, value: ro, ports: {N1: V2, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: V2, N2: GND}\n]\nextrainfo:The circuit diagram (a) represents an error amplifier with a feedback network represented in diagram (b). The circuit is decomposed to find input and output loading. The BJT parameters are given as gm = 1/25 Ω, rπ = 5 kΩ, and ro = 100 kΩ. The resistor RE is 10 kΩ.\nimage_name:(b)\ndescription:\n[\nname: i_o/α_0, type: CurrentSource, value: i_o/α_0, ports: {Np: GND, Nn: Vf}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source and a voltage source connected to a resistor RE, forming a feedback loop. The current source 'i_o/α_0' flows from ground to the node 'Vf', and the voltage source 'Vf' is connected from 'Vf' to 'OC'. The resistor RE connects the 'OC' node to ground.\n\nFIGURE 7.38 Decomposing the circuit of Fig. 7.37 into (a) the error amplifier and (b) the feedback network.\n\nIn the V-I converter of Fig. $7.37 a$ let $R_{E}=10 \\mathrm{k} \\Omega$. Additionally, let the BJT have $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$. Find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$. Comment on your findings.\n\n#### Solution\n\nWith reference to Fig. 7.38a, we have, by inspection,\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{\\pi}+R_{E}=5+10=15 \\mathrm{k} \\Omega \\quad r_{o a}=r_{o}+R_{E}=100+10=110 \\mathrm{k} \\Omega \\\\\n& i_{o}=i_{R_{E}}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} v_{\\pi}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} \\frac{r_{\\pi}}{r_{\\pi}+R_{E}} v_{\\varepsilon}\n\\end{aligned}\n$$\n\nso\n\n$$\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{\\pi}}{r_{\\pi}+R_{E}} g_{m} \\frac{r_{o}}{R_{E}+r_{o}}=\\frac{5}{5+10} \\times \\frac{1}{25} \\times \\frac{100}{10+100}=\\frac{1}{82.5} \\mathrm{~A} / \\mathrm{V}\n$$\n\nMoreover, with reference to Fig. $7.38 b$ we have $v_{f}=R_{E} i_{o} / \\alpha_{0}$, so\n\n$$\nb=\\frac{v_{f}}{i_{o}}=\\frac{R_{E}}{\\alpha_{0}}=\\frac{10,000}{200 / 201}=10,050 \\mathrm{~V} / \\mathrm{A} \\quad L=a b=\\frac{10,050}{82.5}=122\n$$\n\nFinally,\n\n$$\n\\begin{aligned}\n& A_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{10,050} \\frac{1}{1+1 / 122}=98.7 \\mu \\mathrm{~A} / \\mathrm{V} \\\\\n& R_{i}=15(1+122)=1.85 \\mathrm{M} \\Omega \\quad R_{o}=110(1+122)=13.5 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\nRemark: The student should compare the above (approximate) results with those provided by the exact expressions of Section 2.6, and verify that the differences are reasonably small. Although the V-I converter of Fig. 7.37a is similar to the emitter follower of Fig. 7.28 and uses the same component values, the loop gains are quite different ( $L=364$ for the emitter follower, $L=122$ for the V-I converter). On the other hand, the series-shunt circuit of Example 7.10 and its shuntshunt counterpart of Example 7.14 have the same value of $L(430)$. It must be noted that $L$ generally depends on the feedback topology being used, even if the sourceless circuits are the same. This issue will be taken up again in the next section."
},
{
    "text": "In Fig. 7.35, we re-examine the series-series op amp configuration from Fig. $7.18c$, focusing on the interaction between the amplifier's internal resistances $r_{i}$ and $r_{o}$ and the external feedback network, which in this case is composed of $R$. To isolate the effect of the feedback network's loading, we assume no external loading, meaning the driving source $v_{i}$ has zero series resistance, and the output load is a short circuit (note that an unloaded output port is an open circuit for a voltage-output device, but a short circuit for a current-output type).\n\nAs previously observed with the circuit in Fig. 7.20, the op amp's input port appears as an open circuit to the feedback network. Therefore, to calculate the output loading, we treat the wire to the left of $R$ as an open circuit (OC). For input loading, we note that the output sensing is of the series type, where a high closed-loop resistance is expected. Thus, to determine input port loading, we consider $R$ as if its terminal facing the load is open-circuited (OC).\n\nimage_name:FIGURE 7.35\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: Vf, N2: GND}\nname: OpAmp, type: OpAmp, value: OpAmp, ports: {InP: Vi, InN: Vf, OutP: Vf}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output.\n\nFIGURE 7.35 The transconductance op amp with its internal resistances $r_{i}$ and $r_{o}$ explicitly shown.\nimage_name:(a)\ndescription:\n[\nname: Vε, type: VoltageSource, ports: {Np: Vε, Nn: GND}\nname: rᵢ, type: Resistor, value: rᵢ, ports: {N1: Ve, N2: GND}\nname: aᵥvₑ, type: VoltageControlledVoltageSource, ports: {Np: Vd, Nn: GND}\nname: rₒ, type: Resistor, value: rₒ, ports: {N1: vd, N2: V2}\nname: R, type: Resistor, value: R, ports: {N1: V1, N2: GND}\nname: R, type: Resistor, value: R, ports: {N1: V2, N2: GND'}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output. The diagram shows an error amplifier in open-loop operation with loading by an external feedback network.\nimage_name:(b)\ndescription:\n[\nname: R, type: Resistor, value: R, ports: {N1: Vi, N2: GND}\nname: io, type: CurrentSource, value: io, ports: {Np: GND, Nn: Vf}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source io flowing from node Vf to ground. It is part of a transconductance operational amplifier circuit with internal resistances and a feedback network.\n\nFIGURE 7.36 Decomposing the circuit of Fig. 7.35 into (a) the error amplifier, and (b) the feedback network.\n\nThe two scenarios are illustrated in Fig. 7.36a, which depicts the error amplifier in open-loop operation, accounting for loading by the external feedback network at both ports. Next, we aim to determine its open-loop parameters, now designated as $a, r_{i a}$, and $r_{o a}$. Using Ohm's law and the voltage divider rule,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o}+R}=\\frac{1}{r_{o}+R} a_{v} \\frac{r_{i}}{r_{i}+R} v_{\\varepsilon}\n$$\n\nthus,\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+R} a_{v} \\frac{1}{r_{o}+R} \\tag{7.53}\n\\end{equation*}\n$$\n\nNote that $a$ now has units of $\\mathrm{A} / \\mathrm{V}$. Additionally, the resistances seen by the input source $v_{\\varepsilon}$ and the short-circuit load are, respectively,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+R \\quad r_{o a}=r_{o}+R \\tag{7.54}\n\\end{equation*}\n$$\n\nNext, we seek a representation for the feedback network separate from the basic amplifier. Referring back to Fig. 7.35, we observe that at the sensing side $R$ is driven by a current source $i_{o}$ expected to exhibit a very high parallel resistance $R_{o}$, and at the summing side it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). The circuit to calculate $b$ is thus as in Fig. 7.36b, from which we readily find $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.55}\n\\end{equation*}\n$$\n\nThe units of $b$ are V/A, the reciprocal of those of $a$, as required to make $L$ dimensionless. As usual, we now apply Eq. (7.36) to find the unloaded gain $A_{s c}$, and Eq. (7.37), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nEXAMPLE 7.16 (a) In the circuit of Fig. 7.35, let the op amp have $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=1.0 \\mathrm{k} \\Omega$. If $R=10 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) If $v_{i}=5.0 \\mathrm{~V}$, what is the short-circuit output current? If the short-circuit is replaced by a load that develops a $4.0-\\mathrm{V}$ voltage drop, by how much will the output current change? Comment.\n\n#### Solution\n\n(a) Using Eqs. (7.53) through (7.55), we have\n\n$$\n\\begin{aligned}\n& a=\\frac{100}{100+10} 10^{3} \\frac{1}{(1+10) 10^{3}}=\\frac{1}{12.1} \\mathrm{~A} / \\mathrm{V} \\quad b=10^{4} \\mathrm{~V} / \\mathrm{A} \\\\\n& L=\\frac{10^{4}}{12.1}=826 \\\\\n& r_{i a}=100+10=110 \\mathrm{k} \\Omega \\quad r_{o a}=1+10=11 \\mathrm{k} \\Omega \\\\\n& A_{s c}=\\frac{1 / 10^{4}}{1+1 / 826}=99.88 \\mu \\mathrm{~A} / \\mathrm{V} \\quad R_{i}=110(1+826)=91 \\mathrm{M} \\Omega \\\\\n& R_{o}=11(1+826)=9.1 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n(b) The short-circuit output current is $i_{o}=A_{s c} v_{i}=99.88 \\times 5.0=499.4 \\mu \\mathrm{~A}$ (ideally, $500 \\mu \\mathrm{~A}$). Visualizing the output port via its Norton equivalent, we note that with a $4.0-\\mathrm{V}$ load-voltage increase, the current will decrease by $(4.0 \\mathrm{~V}) /(9.1 \\mathrm{M} \\Omega)=0.44 \\mu \\mathrm{~A}$, an insignificant amount. This, thanks to the high output resistance brought about by negative feedback!\n\nThe reasoning developed for the above example can be generalized into the following Series-Series Procedure:\n\n- To calculate loading at the input of the basic amplifier, open-circuit (OC) the sensing-side port of the feedback network.\n- To calculate loading at the output of the basic amplifier, open-circuit (OC) the summing-side port of the feedback network.\n- To find $b$, apply a current $i_{o}$ to the sensing-side port of the feedback network, determine the open-circuit voltage $v_{f}$ at the summing-side port of the feedback network, and let $b=v_{f} / i_{o}$.\n\nLet us illustrate this procedure using the single BJT circuit of Fig. 7.37, operated in the series-series mode as a voltage-to-current (V-I) converter. This circuit is similar to the CC of Fig. 7.28, except that the output is now the short-circuit collector current instead of the open-circuit emitter voltage. To decompose the feedback circuit into the basic error amplifier and the feedback network, refer to the small-signal equivalent of Fig. 7.37b, where we note that the current being sensed is not $i_{o}$ itself, but $i_{o} / \\alpha_{0}$.\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: X1, N2: GND}\nname: NPN, type: NPN, ports: {C: GND, B: Vi, E: X1}\n]\nextrainfo:This circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It converts an input voltage to an output current by sensing the current through the feedback network. The circuit uses a BJT in common collector configuration with feedback provided by a resistor network.\nimage_name:(b)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: rπ, type: Resistor, value: rπ, ports: {N1: vi, N2: vf}\nname: ro, type: Resistor, value: ro, ports: {N1: vf, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It senses the current i_o/α_0 instead of i_o directly.\n\nFIGURE 7.37 The single-BJT voltage-to-current (V-I) converter as a series-series feedback system. (a) Ac equivalent and (b) small-signal representation.\n\nFollowing the aforementioned Series-Series Procedure, we open-circuit at the right-hand side of $R_{E}$ to find loading at the input, thus obtaining the left portion of the circuit of Fig. 7.38a. Similarly, we open-circuit at the left-hand side of $R_{E}$ to find loading at the output, thus obtaining the right portion of the circuit of Fig. 7.38a. Finally, we drive the feedback network $R_{E}$ with the current $i_{o} / \\alpha_{0}$ to find $v_{f}$\nimage_name:(a)\ndescription:\n[\nname: vE, type: VoltageSource, value: vE, ports: {Np: VE, Nn: GND}\nname: r_π, type: Resistor, value: r_π, ports: {N1: Ve, N2: V1}\nname: RE, type: Resistor, value: RE, ports: {N1: V1, N2: GND}\nname: g_mv_π, type: VoltageControlledCurrentSource, ports: {Np: GND, Nn: V2}\nname: ro, type: Resistor, value: ro, ports: {N1: V2, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: V2, N2: GND}\n]\nextrainfo:The circuit diagram (a) represents an error amplifier with a feedback network represented in diagram (b). The circuit is decomposed to find input and output loading. The BJT parameters are given as gm = 1/25 Ω, rπ = 5 kΩ, and ro = 100 kΩ. The resistor RE is 10 kΩ.\nimage_name:(b)\ndescription:\n[\nname: i_o/α_0, type: CurrentSource, value: i_o/α_0, ports: {Np: GND, Nn: Vf}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source and a voltage source connected to a resistor RE, forming a feedback loop. The current source 'i_o/α_0' flows from ground to the node 'Vf', and the voltage source 'Vf' is connected from 'Vf' to 'OC'. The resistor RE connects the 'OC' node to ground.\n\nFIGURE 7.38 Decomposing the circuit of Fig. 7.37 into (a) the error amplifier and (b) the feedback network.\n\nIn the V-I converter of Fig. $7.37 a$ let $R_{E}=10 \\mathrm{k} \\Omega$. Moreover, let the BJT have $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$. Find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$. Comment on your findings.\n\n#### Solution\n\nWith reference to Fig. 7.38a, we have, by inspection,\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{\\pi}+R_{E}=5+10=15 \\mathrm{k} \\Omega \\quad r_{o a}=r_{o}+R_{E}=100+10=110 \\mathrm{k} \\Omega \\\\\n& i_{o}=i_{R_{E}}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} v_{\\pi}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} \\frac{r_{\\pi}}{r_{\\pi}+R_{E}} v_{\\varepsilon}\n\\end{aligned}\n$$\n\nso\n\n$$\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{\\pi}}{r_{\\pi}+R_{E}} g_{m} \\frac{r_{o}}{R_{E}+r_{o}}=\\frac{5}{5+10} \\times \\frac{1}{25} \\times \\frac{100}{10+100}=\\frac{1}{82.5} \\mathrm{~A} / \\mathrm{V}\n$$\n\nMoreover, with reference to Fig. $7.38 b$ we have $v_{f}=R_{E} i_{o} / \\alpha_{0}$, so\n\n$$\nb=\\frac{v_{f}}{i_{o}}=\\frac{R_{E}}{\\alpha_{0}}=\\frac{10,000}{200 / 201}=10,050 \\mathrm{~V} / \\mathrm{A} \\quad L=a b=\\frac{10,050}{82.5}=122\n$$\n\nFinally,\n\n$$\n\\begin{aligned}\n& A_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{10,050} \\frac{1}{1+1 / 122}=98.7 \\mu \\mathrm{~A} / \\mathrm{V} \\\\\n& R_{i}=15(1+122)=1.85 \\mathrm{M} \\Omega \\quad R_{o}=110(1+122)=13.5 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\nRemark: The student should compare the above (approximate) results with those provided by the exact expressions of Section 2.6, and verify that the differences are reasonably small. Even though the V-I converter of Fig. 7.37a is similar to the emitter follower of Fig. 7.28 and uses the same component values, the loop gains are quite different ( $L=364$ for the emitter follower, $L=122$ for the V-I converter). On the other hand, the series-shunt circuit of Example 7.10 and its shuntshunt counterpart of Example 7.14 have the same value of $L(430)$. It must be noted that $L$ generally depends on the feedback topology being used, even if the sourceless circuits are the same. This issue will be taken up again in the next section."
},
{
    "text": "In Fig. 7.35, we re-examine the series-series op amp configuration from Fig. $7.18 c$, focusing on the interaction between the amplifier's internal resistances $r_{i}$ and $r_{o}$ and the external feedback network, which in this case consists of $R$. To isolate the effect of loading by the feedback network, we assume no external loading, meaning a driving source $v_{i}$ with zero series resistance and a short-circuit output load (note that an unloaded output port is an open circuit for a voltage-output device, but a short circuit for a current-output type).\n\nAs previously observed with the circuit in Fig. 7.20, the op amp's input port appears as an open circuit to the feedback network. Therefore, to calculate loading at the amplifier's output, we treat the wire to the left of $R$ as an open circuit (OC). To determine loading at the input, we note that the output sensing is of the series type, where we expect a high closed-loop resistance. Consequently, to calculate loading at the amplifier's input port, we consider $R$ as if its terminal facing the load was open-circuited (OC).\n\nimage_name:FIGURE 7.35\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: Vf, N2: GND}\nname: OpAmp, type: OpAmp, value: OpAmp, ports: {InP: Vi, InN: Vf, OutP: Vf}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro, featuring a feedback network with a series sensing output.\n\nFIGURE 7.35 The transconductance op amp with its internal resistances $r_{i}$ and $r_{o}$ explicitly shown.\nimage_name:(a)\ndescription:\n[\nname: Vε, type: VoltageSource, ports: {Np: Vε, Nn: GND}\nname: rᵢ, type: Resistor, value: rᵢ, ports: {N1: Ve, N2: GND}\nname: aᵥvₑ, type: VoltageControlledVoltageSource, ports: {Np: Vd, Nn: GND}\nname: rₒ, type: Resistor, value: rₒ, ports: {N1: vd, N2: V2}\nname: R, type: Resistor, value: R, ports: {N1: V1, N2: GND}\nname: R, type: Resistor, value: R, ports: {N1: V2, N2: GND'}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro, featuring a feedback network with a series sensing output. The diagram shows an error amplifier in open-loop operation with loading by an external feedback network.\nimage_name:(b)\ndescription:\n[\nname: R, type: Resistor, value: R, ports: {N1: Vi, N2: GND}\nname: io, type: CurrentSource, value: io, ports: {Np: GND, Nn: Vf}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source io flowing from node Vf to ground. It is part of a transconductance operational amplifier circuit with internal resistances and a feedback network.\n\nFIGURE 7.36 Decomposing the circuit of Fig. 7.35 into (a) the error amplifier, and (b) the feedback network.\n\nThe two scenarios are illustrated in Fig. 7.36a, which depicts the error amplifier in open-loop operation, but with the external feedback network's loading effects specifically accounted for at both ports. Next, we aim to determine its open-loop parameters, now designated as $a, r_{i a}$, and $r_{o a}$. By applying Ohm's law and the voltage divider rule,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o}+R}=\\frac{1}{r_{o}+R} a_{v} \\frac{r_{i}}{r_{i}+R} v_{\\varepsilon}\n$$\n\nthus,\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+R} a_{v} \\frac{1}{r_{o}+R} \\tag{7.53}\n\\end{equation*}\n$$\n\nNote that $a$ now has the dimensions of $\\mathrm{A} / \\mathrm{V}$. Additionally, the resistances seen by the input source $v_{\\varepsilon}$ and by the short-circuit load are, respectively,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+R \\quad r_{o a}=r_{o}+R \\tag{7.54}\n\\end{equation*}\n$$\n\nNext, we seek a representation for the feedback network that is independent of the basic amplifier. Referring back to Fig. 7.35, we observe that at the sensing side $R$ is driven by a current source $i_{o}$ expected to exhibit an extremely high parallel resistance $R_{o}$, and at the summing side it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). The circuit to calculate $b$ is thus as depicted in Fig. 7.36b, from which we readily find $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.55}\n\\end{equation*}\n$$\n\nThe dimensions of $b$ are V/A, the reciprocal of those of $a$, as required to make $L$ dimensionless. As usual, we now apply Eq. (7.36) to determine the unloaded gain $A_{s c}$, and Eq. (7.37), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nEXAMPLE 7.16 (a) For the circuit in Fig. 7.35, let the op amp have $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=1.0 \\mathrm{k} \\Omega$. If $R=10 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) If $v_{i}=5.0 \\mathrm{~V}$, what is the short-circuit output current? If the short-circuit is replaced by a load that develops a $4.0-\\mathrm{V}$ voltage drop, by how much will the output current change? Comment.\n\n#### Solution\n\n(a) Using Eqs. (7.53) through (7.55), we get\n\n$$\n\\begin{aligned}\n& a=\\frac{100}{100+10} 10^{3} \\frac{1}{(1+10) 10^{3}}=\\frac{1}{12.1} \\mathrm{~A} / \\mathrm{V} \\quad b=10^{4} \\mathrm{~V} / \\mathrm{A} \\\\\n& L=\\frac{10^{4}}{12.1}=826 \\\\\n& r_{i a}=100+10=110 \\mathrm{k} \\Omega \\quad r_{o a}=1+10=11 \\mathrm{k} \\Omega \\\\\n& A_{s c}=\\frac{1 / 10^{4}}{1+1 / 826}=99.88 \\mu \\mathrm{~A} / \\mathrm{V} \\quad R_{i}=110(1+826)=91 \\mathrm{M} \\Omega \\\\\n& R_{o}=11(1+826)=9.1 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n(b) The short-circuit output current is $i_{o}=A_{s c} v_{i}=99.88 \\times 5.0=499.4 \\mu \\mathrm{~A}$ (ideally, $500 \\mu \\mathrm{~A}$). Visualizing the output port via its Norton equivalent, we note that with a $4.0-\\mathrm{V}$ load-voltage increase, the current will decrease by $(4.0 \\mathrm{~V}) /(9.1 \\mathrm{M} \\Omega)=0.44 \\mu \\mathrm{~A}$, an insignificant amount. This is thanks to the high output resistance achieved by negative feedback!\n\nThe reasoning developed for the above example can be generalized into the following Series-Series Procedure:\n\n- To calculate loading at the input of the basic amplifier, open-circuit (OC) the sensing-side port of the feedback network.\n- To calculate loading at the output of the basic amplifier, open-circuit (OC) the summing-side port of the feedback network.\n- To find $b$, apply a current $i_{o}$ to the sensing-side port of the feedback network, determine the open-circuit voltage $v_{f}$ at the summing-side port of the feedback network, and let $b=v_{f} / i_{o}$.\n\nLet us illustrate this procedure using the single BJT circuit of Fig. 7.37, operated in the series-series mode as a voltage-to-current (V-I) converter. This circuit resembles the CC configuration of Fig. 7.28, except that the output is now the short-circuit collector current rather than the open-circuit emitter voltage. To decompose the feedback circuit into the basic error amplifier and the feedback network, refer to the small-signal equivalent of Fig. 7.37b, where we note that the current being sensed is not $i_{o}$ itself, but $i_{o} / \\alpha_{0}$.\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: X1, N2: GND}\nname: NPN, type: NPN, ports: {C: GND, B: Vi, E: X1}\n]\nextrainfo:This circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It converts an input voltage to an output current by sensing the current through the feedback network. The circuit uses a BJT in common collector configuration with feedback provided by a resistor network.\nimage_name:(b)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: rπ, type: Resistor, value: rπ, ports: {N1: vi, N2: vf}\nname: ro, type: Resistor, value: ro, ports: {N1: vf, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:This circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It senses the current i_o/α_0 instead of i_o directly.\n\nFIGURE 7.37 The single-BJT voltage-to-current (V-I) converter as a series-series feedback system. (a) Ac equivalent and (b) small-signal representation.\n\nFollowing the aforementioned Series-Series Procedure, we open-circuit at the right-hand side of $R_{E}$ to find loading at the input, thus obtaining the left portion of the circuit of Fig. 7.38a. Similarly, we open-circuit at the left-hand side of $R_{E}$ to find loading at the output, thus obtaining the right portion of the circuit of Fig. 7.38a. Finally, we drive the feedback network $R_{E}$ with the current $i_{o} / \\alpha_{0}$ to find $v_{f}$\nimage_name:(a)\ndescription:\n[\nname: vE, type: VoltageSource, value: vE, ports: {Np: VE, Nn: GND}\nname: r_π, type: Resistor, value: r_π, ports: {N1: Ve, N2: V1}\nname: RE, type: Resistor, value: RE, ports: {N1: V1, N2: GND}\nname: g_mv_π, type: VoltageControlledCurrentSource, ports: {Np: GND, Nn: V2}\nname: ro, type: Resistor, value: ro, ports: {N1: V2, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: V2, N2: GND}\n]\nextrainfo:The circuit diagram (a) represents an error amplifier with a feedback network represented in diagram (b). The circuit is decomposed to find input and output loading. The BJT parameters are given as gm = 1/25 Ω, rπ = 5 kΩ, and ro = 100 kΩ. The resistor RE is 10 kΩ.\nimage_name:(b)\ndescription:\n[\nname: i_o/α_0, type: CurrentSource, value: i_o/α_0, ports: {Np: GND, Nn: Vf}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source and a voltage source connected to a resistor RE, forming a feedback loop. The current source 'i_o/α_0' flows from ground to the node 'Vf', and the voltage source 'Vf' is connected from 'Vf' to 'OC'. The resistor RE connects the 'OC' node to ground.\n\nFIGURE 7.38 Decomposing the circuit of Fig. 7.37 into (a) the error amplifier and (b) the feedback network.\n\nIn the V-I converter of Fig. $7.37 a$ let $R_{E}=10 \\mathrm{k} \\Omega$. Additionally, let the BJT have $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$. Find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$. Comment on your findings.\n\n#### Solution\n\nWith reference to Fig. 7.38a, we have, by inspection,\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{\\pi}+R_{E}=5+10=15 \\mathrm{k} \\Omega \\quad r_{o a}=r_{o}+R_{E}=100+10=110 \\mathrm{k} \\Omega \\\\\n& i_{o}=i_{R_{E}}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} v_{\\pi}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} \\frac{r_{\\pi}}{r_{\\pi}+R_{E}} v_{\\varepsilon}\n\\end{aligned}\n$$\n\nso\n\n$$\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{\\pi}}{r_{\\pi}+R_{E}} g_{m} \\frac{r_{o}}{R_{E}+r_{o}}=\\frac{5}{5+10} \\times \\frac{1}{25} \\times \\frac{100}{10+100}=\\frac{1}{82.5} \\mathrm{~A} / \\mathrm{V}\n$$\n\nMoreover, with reference to Fig. $7.38 b$ we have $v_{f}=R_{E} i_{o} / \\alpha_{0}$, so\n\n$$\nb=\\frac{v_{f}}{i_{o}}=\\frac{R_{E}}{\\alpha_{0}}=\\frac{10,000}{200 / 201}=10,050 \\mathrm{~V} / \\mathrm{A} \\quad L=a b=\\frac{10,050}{82.5}=122\n$$\n\nFinally,\n\n$$\n\\begin{aligned}\n& A_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{10,050} \\frac{1}{1+1 / 122}=98.7 \\mu \\mathrm{~A} / \\mathrm{V} \\\\\n& R_{i}=15(1+122)=1.85 \\mathrm{M} \\Omega \\quad R_{o}=110(1+122)=13.5 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\nRemark: The student should compare the above (approximate) results with those provided by the exact expressions of Section 2.6, and verify that the differences are reasonably small. Although the V-I converter of Fig. 7.37a is similar to the emitter follower of Fig. 7.28 and uses the same component values, the loop gains are quite different ( $L=364$ for the emitter follower, $L=122$ for the V-I converter). On the other hand, the series-shunt circuit of Example 7.10 and its shuntshunt counterpart of Example 7.14 have the same value of $L(430)$. It must be noted that $L$ generally depends on the feedback topology being used, even if the sourceless circuits are the same. This issue will be taken up again in the next section."
},
{
    "text": "In Fig. 7.35, we re-examine the series-series op amp configuration from Fig. $7.18 c$, focusing on the interaction between the amplifier's internal resistances $r_{i}$ and $r_{o}$ and the external feedback network, which in this case is composed of $R$. To isolate the feedback network's loading effect, we assume no external loading, meaning the driving source $v_{i}$ has zero series resistance, and the output load is a short circuit (note that an unloaded output port is an open circuit for a voltage-output device, but a short circuit for a current-output type).\n\nAs previously observed with the circuit in Fig. 7.20, the op amp's input port appears as an open circuit to the feedback network. Therefore, to calculate output loading, we treat the wire to the left of $R$ as an open circuit (OC). For input loading, we note that the output sensing is of the series type, anticipating a high closed-loop resistance. Thus, to determine input port loading, we consider $R$ as if its terminal facing the load was open-circuited (OC).\n\nimage_name:FIGURE 7.35\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: Vf, N2: GND}\nname: OpAmp, type: OpAmp, value: OpAmp, ports: {InP: Vi, InN: Vf, OutP: Vf}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output.\n\nFIGURE 7.35 The transconductance op amp with its internal resistances $r_{i}$ and $r_{0}$ explicitly shown.\nimage_name:(a)\ndescription:\n[\nname: Vε, type: VoltageSource, ports: {Np: Vε, Nn: GND}\nname: rᵢ, type: Resistor, value: rᵢ, ports: {N1: Ve, N2: GND}\nname: aᵥvₑ, type: VoltageControlledVoltageSource, ports: {Np: Vd, Nn: GND}\nname: rₒ, type: Resistor, value: rₒ, ports: {N1: vd, N2: V2}\nname: R, type: Resistor, value: R, ports: {N1: V1, N2: GND}\nname: R, type: Resistor, value: R, ports: {N1: V2, N2: GND'}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output. The diagram shows an error amplifier in open-loop operation with loading by an external feedback network.\nimage_name:(b)\ndescription:\n[\nname: R, type: Resistor, value: R, ports: {N1: Vi, N2: GND}\nname: io, type: CurrentSource, value: io, ports: {Np: GND, Nn: Vf}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source io flowing from node Vf to ground. It is part of a transconductance operational amplifier circuit with internal resistances and a feedback network.\n\nFIGURE 7.36 Decomposing the circuit of Fig. 7.35 into (a) the error amplifier, and (b) the feedback network.\n\nFig. 7.36a depicts the error amplifier in open-loop operation, explicitly accounting for loading by the external feedback network at both ports. Next, we aim to determine its open-loop parameters, now designated as $a, r_{i a}$, and $r_{o a}$. By applying Ohm's law and the voltage divider rule,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o}+R}=\\frac{1}{r_{o}+R} a_{v} \\frac{r_{i}}{r_{i}+R} v_{\\varepsilon}\n$$\n\nthus,\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+R} a_{v} \\frac{1}{r_{o}+R} \\tag{7.53}\n\\end{equation*}\n$$\n\nNote that $a$ now has units of $\\mathrm{A} / \\mathrm{V}$. Additionally, the resistances seen by the input source $v_{\\varepsilon}$ and the short-circuit load are, respectively,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+R \\quad r_{o a}=r_{o}+R \\tag{7.54}\n\\end{equation*}\n$$\n\nNext, we seek a separate representation for the feedback network. Referring back to Fig. 7.35, we observe that at the sensing side, $R$ is driven by a current source $i_{o}$, which is expected to exhibit a very high parallel resistance $R_{o}$. At the summing side, it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). The circuit to calculate $b$ is thus as shown in Fig. 7.36b, from which we readily find $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.55}\n\\end{equation*}\n$$\n\nThe units of $b$ are V/A, the reciprocal of those of $a$, as required to make $L$ dimensionless. As usual, we now apply Eq. (7.36) to determine the unloaded gain $A_{s c}$, and Eq. (7.37), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nEXAMPLE 7.16 (a) For the circuit in Fig. 7.35, let the op amp have $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=1.0 \\mathrm{k} \\Omega$. If $R=10 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) If $v_{i}=5.0 \\mathrm{~V}$, what is the short-circuit output current? If the short-circuit is replaced by a load that develops a $4.0-\\mathrm{V}$ voltage drop, by how much will the output current change? Comment.\n\n#### Solution\n\n(a) Using Eqs. (7.53) through (7.55), we get\n\n$$\n\\begin{aligned}\n& a=\\frac{100}{100+10} 10^{3} \\frac{1}{(1+10) 10^{3}}=\\frac{1}{12.1} \\mathrm{~A} / \\mathrm{V} \\quad b=10^{4} \\mathrm{~V} / \\mathrm{A} \\\\\n& L=\\frac{10^{4}}{12.1}=826 \\\\\n& r_{i a}=100+10=110 \\mathrm{k} \\Omega \\quad r_{o a}=1+10=11 \\mathrm{k} \\Omega \\\\\n& A_{s c}=\\frac{1 / 10^{4}}{1+1 / 826}=99.88 \\mu \\mathrm{~A} / \\mathrm{V} \\quad R_{i}=110(1+826)=91 \\mathrm{M} \\Omega \\\\\n& R_{o}=11(1+826)=9.1 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n(b) The short-circuit output current is $i_{o}=A_{s c} v_{i}=99.88 \\times 5.0=499.4 \\mu \\mathrm{~A}$ (ideally, $500 \\mu \\mathrm{~A}$). Visualizing the output port via its Norton equivalent, we note that with a $4.0-\\mathrm{V}$ load-voltage increase, the current will decrease by $(4.0 \\mathrm{~V}) /(9.1 \\mathrm{M} \\Omega)=0.44 \\mu \\mathrm{~A}$, an insignificant amount. This is thanks to the high output resistance achieved by negative feedback!\n\nThe reasoning developed for the above example can be generalized into the following Series-Series Procedure:\n\n- To calculate input loading of the basic amplifier, open-circuit (OC) the sensing-side port of the feedback network.\n- To calculate output loading of the basic amplifier, open-circuit (OC) the summing-side port of the feedback network.\n- To find $b$, apply a current $i_{o}$ to the sensing-side port of the feedback network, determine the open-circuit voltage $v_{f}$ at the summing-side port, and let $b=v_{f} / i_{o}$.\n\nLet's illustrate this procedure using the single BJT circuit of Fig. 7.37, operated in the series-series mode as a voltage-to-current (V-I) converter. This circuit is similar to the CC of Fig. 7.28, except that the output is now the short-circuit collector current instead of the open-circuit emitter voltage. To decompose the feedback circuit into the basic error amplifier and the feedback network, refer to the small-signal equivalent of Fig. 7.37b, where we note that the sensed current is not $i_{o}$ itself, but $i_{o} / \\alpha_{0}$.\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: X1, N2: GND}\nname: NPN, type: NPN, ports: {C: GND, B: Vi, E: X1}\n]\nextrainfo:This circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It converts an input voltage to an output current by sensing the current through the feedback network. The circuit uses a BJT in common collector configuration with feedback provided by a resistor network.\nimage_name:(b)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: rπ, type: Resistor, value: rπ, ports: {N1: vi, N2: vf}\nname: ro, type: Resistor, value: ro, ports: {N1: vf, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It senses the current i_o/α_0 instead of i_o directly.\n\nFIGURE 7.37 The single-BJT voltage-to-current (V-I) converter as a series-series feedback system. (a) Ac equivalent and (b) small-signal representation.\n\nFollowing the Series-Series Procedure, we open-circuit at the right-hand side of $R_{E}$ to find input loading, thus obtaining the left portion of the circuit of Fig. 7.38a. Similarly, we open-circuit at the left-hand side of $R_{E}$ to find output loading, thus obtaining the right portion of the circuit of Fig. 7.38a. Finally, we drive the feedback network $R_{E}$ with the current $i_{o} / \\alpha_{0}$ to find $v_{f}$\nimage_name:(a)\ndescription:\n[\nname: vE, type: VoltageSource, value: vE, ports: {Np: VE, Nn: GND}\nname: r_π, type: Resistor, value: r_π, ports: {N1: Ve, N2: V1}\nname: RE, type: Resistor, value: RE, ports: {N1: V1, N2: GND}\nname: g_mv_π, type: VoltageControlledCurrentSource, ports: {Np: GND, Nn: V2}\nname: ro, type: Resistor, value: ro, ports: {N1: V2, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: V2, N2: GND}\n]\nextrainfo:The circuit diagram (a) represents an error amplifier with a feedback network represented in diagram (b). The circuit is decomposed to find input and output loading. The BJT parameters are given as gm = 1/25 Ω, rπ = 5 kΩ, and ro = 100 kΩ. The resistor RE is 10 kΩ.\nimage_name:(b)\ndescription:\n[\nname: i_o/α_0, type: CurrentSource, value: i_o/α_0, ports: {Np: GND, Nn: Vf}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source and a voltage source connected to a resistor RE, forming a feedback loop. The current source 'i_o/α_0' flows from ground to the node 'Vf', and the voltage source 'Vf' is connected from 'Vf' to 'OC'. The resistor RE connects the 'OC' node to ground.\n\nFIGURE 7.38 Decomposing the circuit of Fig. 7.37 into (a) the error amplifier and (b) the feedback network.\n\nIn the V-I converter of Fig. $7.37 a$ let $R_{E}=10 \\mathrm{k} \\Omega$. Additionally, let the BJT have $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$. Find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$. Comment on your findings.\n\n#### Solution\n\nWith reference to Fig. 7.38a, we have, by inspection,\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{\\pi}+R_{E}=5+10=15 \\mathrm{k} \\Omega \\quad r_{o a}=r_{o}+R_{E}=100+10=110 \\mathrm{k} \\Omega \\\\\n& i_{o}=i_{R_{E}}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} v_{\\pi}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} \\frac{r_{\\pi}}{r_{\\pi}+R_{E}} v_{\\varepsilon}\n\\end{aligned}\n$$\n\nso\n\n$$\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{\\pi}}{r_{\\pi}+R_{E}} g_{m} \\frac{r_{o}}{R_{E}+r_{o}}=\\frac{5}{5+10} \\times \\frac{1}{25} \\times \\frac{100}{10+100}=\\frac{1}{82.5} \\mathrm{~A} / \\mathrm{V}\n$$\n\nMoreover, with reference to Fig. $7.38 b$ we have $v_{f}=R_{E} i_{o} / \\alpha_{0}$, so\n\n$$\nb=\\frac{v_{f}}{i_{o}}=\\frac{R_{E}}{\\alpha_{0}}=\\frac{10,000}{200 / 201}=10,050 \\mathrm{~V} / \\mathrm{A} \\quad L=a b=\\frac{10,050}{82.5}=122\n$$\n\nFinally,\n\n$$\n\\begin{aligned}\n& A_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{10,050} \\frac{1}{1+1 / 122}=98.7 \\mu \\mathrm{~A} / \\mathrm{V} \\\\\n& R_{i}=15(1+122)=1.85 \\mathrm{M} \\Omega \\quad R_{o}=110(1+122)=13.5 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\nRemark: The student should compare these (approximate) results with the exact expressions from Section 2.6 and verify that the differences are reasonably small. Although the V-I converter of Fig. 7.37a is similar to the emitter follower of Fig. 7.28 and uses the same component values, the loop gains are quite different ($L=364$ for the emitter follower, $L=122$ for the V-I converter). Conversely, the series-shunt circuit of Example 7.10 and its shunt-shunt counterpart of Example 7.14 have the same $L$ value (430). It must be noted that $L$ generally depends on the feedback topology used, even if the sourceless circuits are identical. This issue will be revisited in the next section."
},
{
    "text": "In Fig. 7.35, we re-examine the series-series op amp configuration from Fig. $7.18 c$, focusing on the interaction between the amplifier's internal resistances $r_{i}$ and $r_{o}$ and the external feedback network, which in this case is composed of $R$. To isolate the effect of the feedback network's loading, we assume no external loading, meaning a driving source $v_{i}$ with zero series resistance and a short-circuit output load (note that an unloaded output port is an open circuit for a voltage-output device, but a short circuit for a current-output type).\n\nAs previously observed with the circuit in Fig. 7.20, the op amp's input port appears as an open circuit to the feedback network. Therefore, to calculate the loading at the amplifier's output, we treat the wire to the left of $R$ as an open circuit (OC). To determine the loading at the input, we note that the output sensing is of the series type, where we expect a high closed-loop resistance. Thus, for input port loading calculations, we consider $R$ as if its terminal facing the load was open-circuited (OC).\n\n**Image Description:**\n- **FIGURE 7.35:** The transconductance op amp with explicit internal resistances $r_{i}$ and $r_{o}$.\n- **(a):** Circuit components include a voltage source $Vε$, resistors $rᵢ$ and $rₒ$, a voltage-controlled voltage source $aᵥvₑ$, and resistors $R$. It represents a transconductance op amp with internal resistances and a feedback network in open-loop operation with external loading.\n- **(b):** Shows a feedback network with a current source $io$ flowing from node $Vf$ to ground, part of a transconductance op amp circuit with internal resistances and feedback.\n\n**FIGURE 7.36:** Decomposes the Fig. 7.35 circuit into (a) the error amplifier and (b) the feedback network.\n\nIn Fig. 7.36a, the error amplifier is depicted in open-loop operation, explicitly accounting for loading by the external feedback network at both ports. We aim to determine its open-loop parameters, now labeled as $a, r_{i a}$, and $r_{o a}$. Using Ohm's law and the voltage divider rule:\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o}+R}=\\frac{1}{r_{o}+R} a_{v} \\frac{r_{i}}{r_{i}+R} v_{\\varepsilon}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+R} a_{v} \\frac{1}{r_{o}+R} \\tag{7.53}\n\\end{equation*}\n$$\n\nNote that $a$ now has units of $\\mathrm{A} / \\mathrm{V}$. The resistances seen by the input source $v_{\\varepsilon}$ and the short-circuit load are:\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+R \\quad r_{o a}=r_{o}+R \\tag{7.54}\n\\end{equation*}\n$$\n\nNext, we seek a separate representation for the feedback network. Referring to Fig. 7.35, we observe that at the sensing side, $R$ is driven by a current source $i_{o}$ with an extremely high parallel resistance $R_{o}$. At the summing side, it drives the amplifier's input port, which appears as an open circuit (OC) for practical purposes. The circuit to calculate $b$ is as shown in Fig. 7.36b, from which we find $v_{f}=R i_{o}$, so:\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.55}\n\\end{equation*}\n$$\n\nThe units of $b$ are V/A, the reciprocal of $a$, ensuring $L$ is dimensionless. We apply Eq. (7.36) to find the unloaded gain $A_{s c}$ and Eq. (7.37), with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to determine the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\n**EXAMPLE 7.16:**\n(a) For the Fig. 7.35 circuit, with $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=1.0 \\mathrm{k} \\Omega$, if $R=10 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) If $v_{i}=5.0 \\mathrm{~V}$, determine the short-circuit output current. If the short-circuit is replaced by a load causing a $4.0-\\mathrm{V}$ drop, by how much does the output current change? Comment.\n\n**Solution:**\n(a) Using Eqs. (7.53) to (7.55):\n\n$$\n\\begin{aligned}\n& a=\\frac{100}{100+10} 10^{3} \\frac{1}{(1+10) 10^{3}}=\\frac{1}{12.1} \\mathrm{~A} / \\mathrm{V} \\quad b=10^{4} \\mathrm{~V} / \\mathrm{A} \\\\\n& L=\\frac{10^{4}}{12.1}=826 \\\\\n& r_{i a}=100+10=110 \\mathrm{k} \\Omega \\quad r_{o a}=1+10=11 \\mathrm{k} \\Omega \\\\\n& A_{s c}=\\frac{1 / 10^{4}}{1+1 / 826}=99.88 \\mu \\mathrm{~A} / \\mathrm{V} \\quad R_{i}=110(1+826)=91 \\mathrm{M} \\Omega \\\\\n& R_{o}=11(1+826)=9.1 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n(b) The short-circuit output current is $i_{o}=A_{s c} v_{i}=99.88 \\times 5.0=499.4 \\mu \\mathrm{~A}$ (ideally, $500 \\mu \\mathrm{~A}$). Using the Norton equivalent, with a $4.0-\\mathrm{V}$ load voltage increase, the current decreases by $(4.0 \\mathrm{~V}) /(9.1 \\mathrm{M} \\Omega)=0.44 \\mu \\mathrm{~A}$, a negligible amount, thanks to the high output resistance from negative feedback.\n\n**Series-Series Procedure:**\n- For input loading of the basic amplifier, open-circuit (OC) the feedback network's sensing-side port.\n- For output loading, open-circuit (OC) the feedback network's summing-side port.\n- To find $b$, apply a current $i_{o}$ to the sensing-side port, determine the open-circuit voltage $v_{f}$ at the summing-side port, and let $b=v_{f} / i_{o}$.\n\nUsing the single BJT circuit in Fig. 7.37, operated in series-series mode as a voltage-to-current (V-I) converter, similar to the CC configuration in Fig. 7.28 but with the output as the short-circuit collector current instead of the open-circuit emitter voltage:\n\n**Image Descriptions:**\n- **FIGURE 7.37:** The single-BJT V-I converter in series-series feedback mode.\n- **(a):** Ac equivalent circuit with a voltage source $Vi$, resistor $RE$, and NPN transistor.\n- **(b):** Small-signal representation with components $Vi$, $rπ$, $ro$, and $RE$.\n\nFollowing the Series-Series Procedure, we open-circuit at the right-hand side of $R_{E}$ for input loading and at the left-hand side for output loading, as shown in Fig. 7.38a. To find $v_{f}$, we drive the feedback network $R_{E}$ with the current $i_{o} / \\alpha_{0}$.\n\n**Image Descriptions:**\n- **FIGURE 7.38:** Decomposition of the Fig. 7.37 circuit.\n- **(a):** Error amplifier with components $vE$, $r_π$, $RE$, $g_mv_π$, and $ro$.\n- **(b):** Feedback network with a current source $i_o/α_0$ and resistor $RE$.\n\nFor the V-I converter in Fig. $7.37 a$ with $R_{E}=10 \\mathrm{k} \\Omega$, and BJT parameters $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$. Comment on the results.\n\n**Solution:**\nFrom Fig. 7.38a:\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{\\pi}+R_{E}=5+10=15 \\mathrm{k} \\Omega \\quad r_{o a}=r_{o}+R_{E}=100+10=110 \\mathrm{k} \\Omega \\\\\n& i_{o}=i_{R_{E}}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} v_{\\pi}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} \\frac{r_{\\pi}}{r_{\\pi}+R_{E}} v_{\\varepsilon}\n\\end{aligned}\n$$\n\nThus,\n\n$$\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{\\pi}}{r_{\\pi}+R_{E}} g_{m} \\frac{r_{o}}{R_{E}+r_{o}}=\\frac{5}{5+10} \\times \\frac{1}{25} \\times \\frac{100}{10+100}=\\frac{1}{82.5} \\mathrm{~A} / \\mathrm{V}\n$$\n\nFrom Fig. $7.38 b$:\n\n$$\nb=\\frac{v_{f}}{i_{o}}=\\frac{R_{E}}{\\alpha_{0}}=\\frac{10,000}{200 / 201}=10,050 \\mathrm{~V} / \\mathrm{A} \\quad L=a b=\\frac{10,050}{82.5}=122\n$$\n\nFinally,\n\n$$\n\\begin{aligned}\n& A_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{10,050} \\frac{1}{1+1 / 122}=98.7 \\mu \\mathrm{~A} / \\mathrm{V} \\\\\n& R_{i}=15(1+122)=1.85 \\mathrm{M} \\Omega \\quad R_{o}=110(1+122)=13.5 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n**Remark:** Compare these approximate results with the exact expressions in Section 2.6, and verify that the differences are minor. Although the V-I converter in Fig. 7.37a resembles the emitter follower in Fig. 7.28 with the same component values, their loop gains differ ( $L=364$ for the emitter follower, $L=122$ for the V-I converter). Conversely, the series-shunt circuit in Example 7.10 and its shunt-shunt counterpart in Example 7.14 have the same $L(430)$. $L$ generally depends on the feedback topology, even if the sourceless circuits are identical. This topic will be revisited in the next section."
},
{
    "text": "In Fig. 7.35, we re-examine the series-series op amp configuration from Fig. $7.18c$, focusing on the interaction between the amplifier's internal resistances $r_{i}$ and $r_{o}$ and the external feedback network, which in this case is composed of $R$. To isolate the feedback network's loading effect, we assume no external loading, meaning a driving source $v_{i}$ with zero series resistance and a short-circuit output load (note that an unloaded output port is an open circuit for a voltage-output device, but a short circuit for a current-output type).\n\nAs previously observed with the circuit in Fig. 7.20, the op amp's input port appears as an open circuit to the feedback network. Thus, to calculate output loading, we treat the wire to the left of $R$ as an open circuit (OC). For input loading, we note that the output sensing is of the series type, where we expect a high closed-loop resistance. Consequently, to determine input port loading, we consider $R$ as if its terminal facing the load is open-circuited (OC).\n\nimage_name:FIGURE 7.35\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: Vf, N2: GND}\nname: OpAmp, type: OpAmp, value: OpAmp, ports: {InP: Vi, InN: Vf, OutP: Vf}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output.\n\nFIGURE 7.35 The transconductance op amp with its internal resistances $r_{i}$ and $r_{o}$ explicitly shown.\nimage_name:(a)\ndescription:\n[\nname: Vε, type: VoltageSource, ports: {Np: Vε, Nn: GND}\nname: rᵢ, type: Resistor, value: rᵢ, ports: {N1: Ve, N2: GND}\nname: aᵥvₑ, type: VoltageControlledVoltageSource, ports: {Np: Vd, Nn: GND}\nname: rₒ, type: Resistor, value: rₒ, ports: {N1: vd, N2: V2}\nname: R, type: Resistor, value: R, ports: {N1: V1, N2: GND}\nname: R, type: Resistor, value: R, ports: {N1: V2, N2: GND'}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output. The diagram shows an error amplifier in open-loop operation with loading by an external feedback network.\nimage_name:(b)\ndescription:\n[\nname: R, type: Resistor, value: R, ports: {N1: Vi, N2: GND}\nname: io, type: CurrentSource, value: io, ports: {Np: GND, Nn: Vf}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source io flowing from node Vf to ground. It is part of a transconductance operational amplifier circuit with internal resistances and a feedback network.\n\nFIGURE 7.36 Decomposing the circuit of Fig. 7.35 into (a) the error amplifier, and (b) the feedback network.\n\nIn Fig. 7.36a, we depict the error amplifier in open-loop operation, accounting for loading by the external feedback network at both ports. Next, we aim to determine its open-loop parameters, now labeled as $a, r_{i a}$, and $r_{o a}$. By applying Ohm's law and the voltage divider rule,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o}+R}=\\frac{1}{r_{o}+R} a_{v} \\frac{r_{i}}{r_{i}+R} v_{\\varepsilon}\n$$\n\nthus,\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+R} a_{v} \\frac{1}{r_{o}+R} \\tag{7.53}\n\\end{equation*}\n$$\n\nNote that $a$ now has units of $\\mathrm{A} / \\mathrm{V}$. Additionally, the resistances seen by the input source $v_{\\varepsilon}$ and the short-circuit load are, respectively,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+R \\quad r_{o a}=r_{o}+R \\tag{7.54}\n\\end{equation*}\n$$\n\nNext, we seek a separate representation for the feedback network. Referring back to Fig. 7.35, we observe that at the sensing side $R$ is driven by a current source $i_{o}$ expected to exhibit very high parallel resistance $R_{o}$, and at the summing side it drives the amplifier's input port, which practically appears as an open circuit (OC). The circuit to calculate $b$ is thus as shown in Fig. 7.36b, from which we readily find $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.55}\n\\end{equation*}\n$$\n\nThe units of $b$ are V/A, the reciprocal of those of $a$, as required to make $L$ dimensionless. As usual, we apply Eq. (7.36) to find the unloaded gain $A_{s c}$, and Eq. (7.37), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to determine the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nEXAMPLE 7.16 (a) For the circuit in Fig. 7.35, let the op amp have $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=1.0 \\mathrm{k} \\Omega$. If $R=10 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) If $v_{i}=5.0 \\mathrm{~V}$, what is the short-circuit output current? If the short-circuit is replaced by a load that develops a $4.0-\\mathrm{V}$ voltage drop, by how much will the output current change? Comment.\n\n#### Solution\n\n(a) Using Eqs. (7.53) through (7.55), we get\n\n$$\n\\begin{aligned}\n& a=\\frac{100}{100+10} 10^{3} \\frac{1}{(1+10) 10^{3}}=\\frac{1}{12.1} \\mathrm{~A} / \\mathrm{V} \\quad b=10^{4} \\mathrm{~V} / \\mathrm{A} \\\\\n& L=\\frac{10^{4}}{12.1}=826 \\\\\n& r_{i a}=100+10=110 \\mathrm{k} \\Omega \\quad r_{o a}=1+10=11 \\mathrm{k} \\Omega \\\\\n& A_{s c}=\\frac{1 / 10^{4}}{1+1 / 826}=99.88 \\mu \\mathrm{~A} / \\mathrm{V} \\quad R_{i}=110(1+826)=91 \\mathrm{M} \\Omega \\\\\n& R_{o}=11(1+826)=9.1 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n(b) The short-circuit output current is $i_{o}=A_{s c} v_{i}=99.88 \\times 5.0=499.4 \\mu \\mathrm{~A}$ (ideally, $500 \\mu \\mathrm{~A}$). Visualizing the output port via its Norton equivalent, we note that with a $4.0-\\mathrm{V}$ load-voltage increase, the current will decrease by $(4.0 \\mathrm{~V}) /(9.1 \\mathrm{M} \\Omega)=0.44 \\mu \\mathrm{~A}$, an insignificant amount. This is thanks to the high output resistance achieved by negative feedback!\n\nThe reasoning developed for the above example can be generalized into the following Series-Series Procedure:\n\n- To calculate input loading of the basic amplifier, open-circuit (OC) the sensing-side port of the feedback network.\n- To calculate output loading of the basic amplifier, open-circuit (OC) the summing-side port of the feedback network.\n- To find $b$, apply a current $i_{o}$ to the sensing-side port of the feedback network, determine the open-circuit voltage $v_{f}$ at the summing-side port, and let $b=v_{f} / i_{o}$.\n\nLet's illustrate this procedure using the single BJT circuit of Fig. 7.37, operated in the series-series mode as a voltage-to-current (V-I) converter. This circuit resembles the CC configuration of Fig. 7.28, except that the output is now the short-circuit collector current rather than the open-circuit emitter voltage. To decompose the feedback circuit into the basic error amplifier and the feedback network, refer to the small-signal equivalent of Fig. 7.37b, where we note that the sensed current is not $i_{o}$ itself, but $i_{o} / \\alpha_{0}$.\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: X1, N2: GND}\nname: NPN, type: NPN, ports: {C: GND, B: Vi, E: X1}\n]\nextrainfo:This circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It converts an input voltage to an output current by sensing the current through the feedback network. The circuit uses a BJT in common collector configuration with feedback provided by a resistor network.\nimage_name:(b)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: rπ, type: Resistor, value: rπ, ports: {N1: vi, N2: vf}\nname: ro, type: Resistor, value: ro, ports: {N1: vf, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It senses the current i_o/α_0 instead of i_o directly.\n\nFIGURE 7.37 The single-BJT voltage-to-current (V-I) converter as a series-series feedback system. (a) Ac equivalent and (b) small-signal representation.\n\nFollowing the Series-Series Procedure, we open-circuit at the right-hand side of $R_{E}$ to find input loading, thus obtaining the left portion of the circuit of Fig. 7.38a. Similarly, we open-circuit at the left-hand side of $R_{E}$ to find output loading, thus obtaining the right portion of the circuit of Fig. 7.38a. Finally, we drive the feedback network $R_{E}$ with the current $i_{o} / \\alpha_{0}$ to find $v_{f}$\nimage_name:(a)\ndescription:\n[\nname: vE, type: VoltageSource, value: vE, ports: {Np: VE, Nn: GND}\nname: r_π, type: Resistor, value: r_π, ports: {N1: Ve, N2: V1}\nname: RE, type: Resistor, value: RE, ports: {N1: V1, N2: GND}\nname: g_mv_π, type: VoltageControlledCurrentSource, ports: {Np: GND, Nn: V2}\nname: ro, type: Resistor, value: ro, ports: {N1: V2, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: V2, N2: GND}\n]\nextrainfo:The circuit diagram (a) represents an error amplifier with a feedback network represented in diagram (b). The circuit is decomposed to find input and output loading. The BJT parameters are given as gm = 1/25 Ω, rπ = 5 kΩ, and ro = 100 kΩ. The resistor RE is 10 kΩ.\nimage_name:(b)\ndescription:\n[\nname: i_o/α_0, type: CurrentSource, value: i_o/α_0, ports: {Np: GND, Nn: Vf}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source and a voltage source connected to a resistor RE, forming a feedback loop. The current source 'i_o/α_0' flows from ground to the node 'Vf', and the voltage source 'Vf' is connected from 'Vf' to 'OC'. The resistor RE connects the 'OC' node to ground.\n\nFIGURE 7.38 Decomposing the circuit of Fig. 7.37 into (a) the error amplifier and (b) the feedback network.\n\nIn the V-I converter of Fig. $7.37a$, let $R_{E}=10 \\mathrm{k} \\Omega$. Additionally, let the BJT have $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$. Find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$. Comment on your findings.\n\n#### Solution\n\nWith reference to Fig. 7.38a, we have, by inspection,\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{\\pi}+R_{E}=5+10=15 \\mathrm{k} \\Omega \\quad r_{o a}=r_{o}+R_{E}=100+10=110 \\mathrm{k} \\Omega \\\\\n& i_{o}=i_{R_{E}}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} v_{\\pi}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} \\frac{r_{\\pi}}{r_{\\pi}+R_{E}} v_{\\varepsilon}\n\\end{aligned}\n$$\n\nso\n\n$$\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{\\pi}}{r_{\\pi}+R_{E}} g_{m} \\frac{r_{o}}{R_{E}+r_{o}}=\\frac{5}{5+10} \\times \\frac{1}{25} \\times \\frac{100}{10+100}=\\frac{1}{82.5} \\mathrm{~A} / \\mathrm{V}\n$$\n\nMoreover, with reference to Fig. $7.38b$, we have $v_{f}=R_{E} i_{o} / \\alpha_{0}$, so\n\n$$\nb=\\frac{v_{f}}{i_{o}}=\\frac{R_{E}}{\\alpha_{0}}=\\frac{10,000}{200 / 201}=10,050 \\mathrm{~V} / \\mathrm{A} \\quad L=a b=\\frac{10,050}{82.5}=122\n$$\n\nFinally,\n\n$$\n\\begin{aligned}\n& A_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{10,050} \\frac{1}{1+1 / 122}=98.7 \\mu \\mathrm{~A} / \\mathrm{V} \\\\\n& R_{i}=15(1+122)=1.85 \\mathrm{M} \\Omega \\quad R_{o}=110(1+122)=13.5 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\nRemark: The student should compare these (approximate) results with the exact expressions from Section 2.6 and verify that the differences are reasonably small. Although the V-I converter of Fig. 7.37a is similar to the emitter follower of Fig. 7.28 and uses the same component values, the loop gains are quite different ($L=364$ for the emitter follower, $L=122$ for the V-I converter). Conversely, the series-shunt circuit of Example 7.10 and its shunt-shunt counterpart of Example 7.14 have the same $L$ value (430). It must be noted that $L$ generally depends on the feedback topology used, even if the sourceless circuits are identical. This issue will be revisited in the next section."
},
{
    "text": "In Fig. 7.35, we re-examine the series-series op amp configuration from Fig. $7.18c$, focusing on the interaction between the amplifier's internal resistances $r_{i}$ and $r_{o}$ and the external feedback network, which in this case is composed of $R$. To isolate the effect of loading by the feedback network, we assume no external loading, meaning the driving source $v_{i}$ has zero series resistance, and the output load is a short circuit (note that an unloaded output port is an open circuit for a voltage-output device, but a short circuit for a current-output type).\n\nAs previously observed with the circuit in Fig. 7.20, the op amp's input port appears as an open circuit to the feedback network. Therefore, to calculate loading at the amplifier's output, we treat the wire to the left of $R$ as an open circuit (OC). To determine loading at the input, we note that the output sensing is of the series type, where we expect a high closed-loop resistance. Thus, for input port loading calculations, we consider $R$ as if its terminal facing the load was open-circuited (OC).\n\nimage_name:FIGURE 7.35\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: Vf, N2: GND}\nname: OpAmp, type: OpAmp, value: OpAmp, ports: {InP: Vi, InN: Vf, OutP: Vf}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output.\n\nFIGURE 7.35 The transconductance op amp with its internal resistances $r_{i}$ and $r_{o}$ explicitly shown.\nimage_name:(a)\ndescription:\n[\nname: Vε, type: VoltageSource, ports: {Np: Vε, Nn: GND}\nname: rᵢ, type: Resistor, value: rᵢ, ports: {N1: Ve, N2: GND}\nname: aᵥvₑ, type: VoltageControlledVoltageSource, ports: {Np: Vd, Nn: GND}\nname: rₒ, type: Resistor, value: rₒ, ports: {N1: vd, N2: V2}\nname: R, type: Resistor, value: R, ports: {N1: V1, N2: GND}\nname: R, type: Resistor, value: R, ports: {N1: V2, N2: GND'}\n]\nextrainfo:The circuit is a transconductance operational amplifier with internal resistances ri and ro. It features a feedback network with a series sensing output. The diagram shows an error amplifier in open-loop operation with loading by an external feedback network.\nimage_name:(b)\ndescription:\n[\nname: R, type: Resistor, value: R, ports: {N1: Vi, N2: GND}\nname: io, type: CurrentSource, value: io, ports: {Np: GND, Nn: Vf}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source io flowing from node Vf to ground. It is part of a transconductance operational amplifier circuit with internal resistances and a feedback network.\n\nFIGURE 7.36 Decomposing the circuit of Fig. 7.35 into (a) the error amplifier, and (b) the feedback network.\n\nThe two scenarios are illustrated in Fig. 7.36a, which depicts the error amplifier in open-loop operation, but with the external feedback network's loading effects explicitly considered at both ports. Next, we aim to determine its open-loop parameters, now denoted as $a, r_{i a}$, and $r_{o a}$. By applying Ohm's law and the voltage divider rule,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o}+R}=\\frac{1}{r_{o}+R} a_{v} \\frac{r_{i}}{r_{i}+R} v_{\\varepsilon}\n$$\n\nthus\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+R} a_{v} \\frac{1}{r_{o}+R} \\tag{7.53}\n\\end{equation*}\n$$\n\nNote that $a$ now has units of $\\mathrm{A} / \\mathrm{V}$. Additionally, the resistances seen by the input source $v_{\\varepsilon}$ and the short-circuit load are, respectively,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+R \\quad r_{o a}=r_{o}+R \\tag{7.54}\n\\end{equation*}\n$$\n\nNext, we seek a separate representation for the feedback network. Referring back to Fig. 7.35, we observe that at the sensing side $R$ is driven by a current source $i_{o}$, which is expected to have an extremely high parallel resistance $R_{o}$. At the summing side, it drives the amplifier's input port, which, for practical purposes, appears as an open circuit (OC). The circuit to calculate $b$ is thus as shown in Fig. 7.36b, from which we readily find $v_{f}=R i_{o}$, so\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.55}\n\\end{equation*}\n$$\n\nThe units of $b$ are V/A, the reciprocal of those of $a$, as required to make $L$ dimensionless. As usual, we now apply Eq. (7.36) to determine the unloaded gain $A_{s c}$, and Eq. (7.37), but with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to find the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\nEXAMPLE 7.16 (a) For the circuit in Fig. 7.35, let the op amp have $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=1.0 \\mathrm{k} \\Omega$. If $R=10 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) If $v_{i}=5.0 \\mathrm{~V}$, what is the short-circuit output current? If the short-circuit is replaced by a load that develops a $4.0-\\mathrm{V}$ voltage drop, by how much will the output current change? Comment.\n\n#### Solution\n\n(a) Using Eqs. (7.53) through (7.55), we get\n\n$$\n\\begin{aligned}\n& a=\\frac{100}{100+10} 10^{3} \\frac{1}{(1+10) 10^{3}}=\\frac{1}{12.1} \\mathrm{~A} / \\mathrm{V} \\quad b=10^{4} \\mathrm{~V} / \\mathrm{A} \\\\\n& L=\\frac{10^{4}}{12.1}=826 \\\\\n& r_{i a}=100+10=110 \\mathrm{k} \\Omega \\quad r_{o a}=1+10=11 \\mathrm{k} \\Omega \\\\\n& A_{s c}=\\frac{1 / 10^{4}}{1+1 / 826}=99.88 \\mu \\mathrm{~A} / \\mathrm{V} \\quad R_{i}=110(1+826)=91 \\mathrm{M} \\Omega \\\\\n& R_{o}=11(1+826)=9.1 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n(b) The short-circuit output current is $i_{o}=A_{s c} v_{i}=99.88 \\times 5.0=499.4 \\mu \\mathrm{~A}$ (ideally, $500 \\mu \\mathrm{~A}$). Visualizing the output port via its Norton equivalent, we note that with a $4.0-\\mathrm{V}$ load-voltage increase, the current will decrease by $(4.0 \\mathrm{~V}) /(9.1 \\mathrm{M} \\Omega)=0.44 \\mu \\mathrm{~A}$, an insignificant amount. This is thanks to the high output resistance provided by negative feedback!\n\nThe reasoning developed for the above example can be generalized into the following Series-Series Procedure:\n\n- To calculate loading at the input of the basic amplifier, open-circuit (OC) the sensing-side port of the feedback network.\n- To calculate loading at the output of the basic amplifier, open-circuit (OC) the summing-side port of the feedback network.\n- To find $b$, apply a current $i_{o}$ to the sensing-side port of the feedback network, determine the open-circuit voltage $v_{f}$ at the summing-side port, and let $b=v_{f} / i_{o}$.\n\nLet us illustrate this procedure using the single BJT circuit of Fig. 7.37, operated in the series-series mode as a voltage-to-current (V-I) converter. This circuit is similar to the CC configuration of Fig. 7.28, except that the output is now the short-circuit collector current rather than the open-circuit emitter voltage. To decompose the feedback circuit into the basic error amplifier and the feedback network, refer to the small-signal equivalent of Fig. 7.37b, where we note that the sensed current is not $i_{o}$ itself, but $i_{o} / \\alpha_{0}$.\nimage_name:(a)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: X1, N2: GND}\nname: NPN, type: NPN, ports: {C: GND, B: Vi, E: X1}\n]\nextrainfo:This circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It converts an input voltage to an output current by sensing the current through the feedback network. The circuit uses a BJT in common collector configuration with feedback provided by a resistor network.\nimage_name:(b)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: rπ, type: Resistor, value: rπ, ports: {N1: vi, N2: vf}\nname: ro, type: Resistor, value: ro, ports: {N1: vf, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:This circuit is a single-BJT voltage-to-current (V-I) converter operating in series-series feedback mode. It senses the current i_o/α_0 instead of i_o directly.\n\nFIGURE 7.37 The single-BJT voltage-to-current (V-I) converter as a series-series feedback system. (a) Ac equivalent and (b) small-signal representation.\n\nFollowing the aforementioned Series-Series Procedure, we open-circuit at the right-hand side of $R_{E}$ to determine input loading, thus obtaining the left portion of the circuit in Fig. 7.38a. Similarly, we open-circuit at the left-hand side of $R_{E}$ to determine output loading, thus obtaining the right portion of the circuit in Fig. 7.38a. Finally, we drive the feedback network $R_{E}$ with the current $i_{o} / \\alpha_{0}$ to find $v_{f}$\nimage_name:(a)\ndescription:\n[\nname: vE, type: VoltageSource, value: vE, ports: {Np: VE, Nn: GND}\nname: r_π, type: Resistor, value: r_π, ports: {N1: Ve, N2: V1}\nname: RE, type: Resistor, value: RE, ports: {N1: V1, N2: GND}\nname: g_mv_π, type: VoltageControlledCurrentSource, ports: {Np: GND, Nn: V2}\nname: ro, type: Resistor, value: ro, ports: {N1: V2, N2: GND}\nname: RE, type: Resistor, value: RE, ports: {N1: V2, N2: GND}\n]\nextrainfo:The circuit diagram (a) represents an error amplifier with a feedback network represented in diagram (b). The circuit is decomposed to find input and output loading. The BJT parameters are given as gm = 1/25 Ω, rπ = 5 kΩ, and ro = 100 kΩ. The resistor RE is 10 kΩ.\nimage_name:(b)\ndescription:\n[\nname: i_o/α_0, type: CurrentSource, value: i_o/α_0, ports: {Np: GND, Nn: Vf}\nname: RE, type: Resistor, value: RE, ports: {N1: vf, N2: GND}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a current source and a voltage source connected to a resistor RE, forming a feedback loop. The current source 'i_o/α_0' flows from ground to the node 'Vf', and the voltage source 'Vf' is connected from 'Vf' to 'OC'. The resistor RE connects the 'OC' node to ground.\n\nFIGURE 7.38 Decomposing the circuit of Fig. 7.37 into (a) the error amplifier and (b) the feedback network.\n\nIn the V-I converter of Fig. $7.37 a$, let $R_{E}=10 \\mathrm{k} \\Omega$. Additionally, let the BJT have $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$. Find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$. Comment on your findings.\n\n#### Solution\n\nWith reference to Fig. 7.38a, we have, by inspection,\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{\\pi}+R_{E}=5+10=15 \\mathrm{k} \\Omega \\quad r_{o a}=r_{o}+R_{E}=100+10=110 \\mathrm{k} \\Omega \\\\\n& i_{o}=i_{R_{E}}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} v_{\\pi}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} \\frac{r_{\\pi}}{r_{\\pi}+R_{E}} v_{\\varepsilon}\n\\end{aligned}\n$$\n\nso\n\n$$\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{\\pi}}{r_{\\pi}+R_{E}} g_{m} \\frac{r_{o}}{R_{E}+r_{o}}=\\frac{5}{5+10} \\times \\frac{1}{25} \\times \\frac{100}{10+100}=\\frac{1}{82.5} \\mathrm{~A} / \\mathrm{V}\n$$\n\nMoreover, with reference to Fig. $7.38 b$ we have $v_{f}=R_{E} i_{o} / \\alpha_{0}$, so\n\n$$\nb=\\frac{v_{f}}{i_{o}}=\\frac{R_{E}}{\\alpha_{0}}=\\frac{10,000}{200 / 201}=10,050 \\mathrm{~V} / \\mathrm{A} \\quad L=a b=\\frac{10,050}{82.5}=122\n$$\n\nFinally,\n\n$$\n\\begin{aligned}\n& A_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{10,050} \\frac{1}{1+1 / 122}=98.7 \\mu \\mathrm{~A} / \\mathrm{V} \\\\\n& R_{i}=15(1+122)=1.85 \\mathrm{M} \\Omega \\quad R_{o}=110(1+122)=13.5 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\nRemark: The student should compare the above (approximate) results with those provided by the exact expressions of Section 2.6, and verify that the differences are reasonably small. Even though the V-I converter of Fig. 7.37a is similar to the emitter follower of Fig. 7.28 and uses the same component values, the loop gains are quite different ( $L=364$ for the emitter follower, $L=122$ for the V-I converter). On the other hand, the series-shunt circuit of Example 7.10 and its shuntshunt counterpart of Example 7.14 have the same value of $L(430)$. It must be noted that $L$ generally depends on the feedback topology being used, even if the sourceless circuits are the same. This issue will be taken up again in the next section."
},
{
    "text": "In Fig. 7.35, we re-examine the series-series op amp configuration from Fig. $7.18c$, focusing on the interaction between the amplifier's internal resistances $r_{i}$ and $r_{o}$ and the external feedback network, which in this case is composed of $R$. To isolate the effect of the feedback network's loading, we assume no external loading, meaning a driving source $v_{i}$ with zero series resistance and a short-circuit output load (note that an unloaded output port is an open circuit for a voltage-output device, but a short circuit for a current-output type).\n\nAs previously observed with the circuit in Fig. 7.20, the op amp's input port appears as an open circuit to the feedback network. Therefore, to calculate the loading at the amplifier's output, we treat the wire to the left of $R$ as an open circuit (OC). To determine the loading at the input, we note that the output sensing is of the series type, where we expect a high closed-loop resistance. Thus, for input port loading calculations, we consider $R$ as if its terminal facing the load was open-circuited (OC).\n\n**Image Description:**\n- **FIGURE 7.35:** The transconductance op amp with explicit internal resistances $r_{i}$ and $r_{o}$.\n- **(a):** Circuit components include a voltage source $V_{\\varepsilon}$, resistors $r_{i}$ and $r_{o}$, a voltage-controlled voltage source $a_{v}v_{e}$, and resistors $R$.\n- **(b):** Represents a feedback network with a current source $i_{o}$ flowing from node $V_{f}$ to ground.\n\n**FIGURE 7.36:** Decomposes the Fig. 7.35 circuit into (a) the error amplifier and (b) the feedback network.\n\nIn Fig. 7.36a, the error amplifier is shown in open-loop operation, accounting for loading by the external feedback network at both ports. We aim to determine its open-loop parameters, now labeled as $a, r_{i a}$, and $r_{o a}$. Using Ohm's law and the voltage divider rule:\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o}+R}=\\frac{1}{r_{o}+R} a_{v} \\frac{r_{i}}{r_{i}+R} v_{\\varepsilon}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{r_{i}+R} a_{v} \\frac{1}{r_{o}+R} \\tag{7.53}\n\\end{equation*}\n$$\n\nNote that $a$ now has units of $\\mathrm{A} / \\mathrm{V}$. The resistances seen by the input source $v_{\\varepsilon}$ and the short-circuit load are:\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i}+R \\quad r_{o a}=r_{o}+R \\tag{7.54}\n\\end{equation*}\n$$\n\nNext, we seek a separate representation for the feedback network. Referring to Fig. 7.35, we observe that at the sensing side, $R$ is driven by a current source $i_{o}$ with a very high parallel resistance $R_{o}$. At the summing side, it drives the amplifier's input port, which appears as an open circuit (OC) for practical purposes. The circuit to calculate $b$ is as shown in Fig. 7.36b, from which we find $v_{f}=R i_{o}$, so:\n\n$$\n\\begin{equation*}\nb=\\frac{v_{f}}{i_{o}}=R \\tag{7.55}\n\\end{equation*}\n$$\n\nThe units of $b$ are V/A, the reciprocal of $a$, ensuring $L$ is dimensionless. We apply Eq. (7.36) to find the unloaded gain $A_{s c}$ and Eq. (7.37), with $r_{i}$ and $r_{o}$ replaced by $r_{i a}$ and $r_{o a}$, to determine the closed-loop terminal resistances $R_{i}$ and $R_{o}$.\n\n**EXAMPLE 7.16:**\n(a) For the Fig. 7.35 circuit with $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=1.0 \\mathrm{k} \\Omega$, if $R=10 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) If $v_{i}=5.0 \\mathrm{~V}$, determine the short-circuit output current. If the short-circuit is replaced by a load causing a $4.0-\\mathrm{V}$ drop, by how much does the output current change? Comment.\n\n**Solution:**\n(a) Using Eqs. (7.53) to (7.55):\n\n$$\n\\begin{aligned}\n& a=\\frac{100}{100+10} 10^{3} \\frac{1}{(1+10) 10^{3}}=\\frac{1}{12.1} \\mathrm{~A} / \\mathrm{V} \\quad b=10^{4} \\mathrm{~V} / \\mathrm{A} \\\\\n& L=\\frac{10^{4}}{12.1}=826 \\\\\n& r_{i a}=100+10=110 \\mathrm{k} \\Omega \\quad r_{o a}=1+10=11 \\mathrm{k} \\Omega \\\\\n& A_{s c}=\\frac{1 / 10^{4}}{1+1 / 826}=99.88 \\mu \\mathrm{~A} / \\mathrm{V} \\quad R_{i}=110(1+826)=91 \\mathrm{M} \\Omega \\\\\n& R_{o}=11(1+826)=9.1 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n(b) The short-circuit output current is $i_{o}=A_{s c} v_{i}=99.88 \\times 5.0=499.4 \\mu \\mathrm{~A}$ (ideally, $500 \\mu \\mathrm{~A}$). Using the Norton equivalent for the output port, with a $4.0-\\mathrm{V}$ load voltage increase, the current decreases by $(4.0 \\mathrm{~V}) /(9.1 \\mathrm{M} \\Omega)=0.44 \\mu \\mathrm{~A}$, an insignificant amount, thanks to the high output resistance from negative feedback.\n\n**Series-Series Procedure:**\n- For input loading of the basic amplifier, open-circuit (OC) the feedback network's sensing-side port.\n- For output loading of the basic amplifier, open-circuit (OC) the feedback network's summing-side port.\n- To find $b$, apply a current $i_{o}$ to the sensing-side port, determine the open-circuit voltage $v_{f}$ at the summing-side port, and let $b=v_{f} / i_{o}$.\n\nUsing the single BJT circuit in Fig. 7.37, operated in series-series mode as a voltage-to-current (V-I) converter, similar to the CC configuration in Fig. 7.28 but with the output as the short-circuit collector current instead of the open-circuit emitter voltage. To decompose the feedback circuit into the basic error amplifier and feedback network, refer to the small-signal equivalent in Fig. 7.37b, noting that the sensed current is $i_{o} / \\alpha_{0}$, not $i_{o}$ itself.\n\n**Image Descriptions:**\n- **(a):** A single-BJT V-I converter in series-series feedback mode, converting input voltage to output current via a feedback network.\n- **(b):** Small-signal representation of the V-I converter, sensing current $i_{o} / \\alpha_{0}$.\n\n**FIGURE 7.38:** Decomposes the Fig. 7.37 circuit into (a) the error amplifier and (b) the feedback network.\n\nFollowing the Series-Series Procedure, open-circuit at the right-hand side of $R_{E}$ to find input loading, forming the left part of Fig. 7.38a. Similarly, open-circuit at the left-hand side of $R_{E}$ for output loading, forming the right part of Fig. 7.38a. Finally, drive the feedback network $R_{E}$ with current $i_{o} / \\alpha_{0}$ to find $v_{f}$.\n\n**EXAMPLE:**\nFor the V-I converter in Fig. $7.37a$ with $R_{E}=10 \\mathrm{k} \\Omega$, and BJT parameters $g_{m}=1 /(25 \\Omega), r_{\\pi}=5 \\mathrm{k} \\Omega$, and $r_{o}=100 \\mathrm{k} \\Omega$, find $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$. Comment on the results.\n\n**Solution:**\nFrom Fig. 7.38a:\n\n$$\n\\begin{aligned}\n& r_{i a}=r_{\\pi}+R_{E}=5+10=15 \\mathrm{k} \\Omega \\quad r_{o a}=r_{o}+R_{E}=100+10=110 \\mathrm{k} \\Omega \\\\\n& i_{o}=i_{R_{E}}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} v_{\\pi}=\\frac{r_{o}}{R_{E}+r_{o}} g_{m} \\frac{r_{\\pi}}{r_{\\pi}+R_{E}} v_{\\varepsilon}\n\\end{aligned}\n$$\n\nThus,\n\n$$\na=\\frac{i_{o}}{v_{\\varepsilon}}=\\frac{r_{\\pi}}{r_{\\pi}+R_{E}} g_{m} \\frac{r_{o}}{R_{E}+r_{o}}=\\frac{5}{5+10} \\times \\frac{1}{25} \\times \\frac{100}{10+100}=\\frac{1}{82.5} \\mathrm{~A} / \\mathrm{V}\n$$\n\nFrom Fig. $7.38b$:\n\n$$\nv_{f}=R_{E} i_{o} / \\alpha_{0}, \\quad b=\\frac{v_{f}}{i_{o}}=\\frac{R_{E}}{\\alpha_{0}}=\\frac{10,000}{200 / 201}=10,050 \\mathrm{~V} / \\mathrm{A} \\quad L=a b=\\frac{10,050}{82.5}=122\n$$\n\nFinally,\n\n$$\n\\begin{aligned}\n& A_{s c}=\\frac{i_{o}}{v_{i}}=\\frac{1}{10,050} \\frac{1}{1+1 / 122}=98.7 \\mu \\mathrm{~A} / \\mathrm{V} \\\\\n& R_{i}=15(1+122)=1.85 \\mathrm{M} \\Omega \\quad R_{o}=110(1+122)=13.5 \\mathrm{M} \\Omega\n\\end{aligned}\n$$\n\n**Remark:** Compare these results with the exact expressions in Section 2.6 to verify reasonable agreement. Despite the similarity to the emitter follower in Fig. 7.28 and identical component values, the loop gains differ ( $L=364$ for the emitter follower, $L=122$ for the V-I converter). Conversely, the series-shunt circuit in Example 7.10 and its shunt-shunt counterpart in Example 7.14 have the same $L(430)$. $L$ generally depends on the feedback topology, even if the sourceless circuits are identical. This will be discussed further in the next section."
},
{
    "text": "The detailed textual representation of the figures provided in the context is as follows:\n\nFigure 7.39 depicts a shunt-series operational amplifier (op-amp) configuration, serving as a current amplifier. It includes resistors labeled R1 and R2, internal resistances ri and ro, and an input current source ii. The op-amp itself has ports labeled 'InP', 'InN', 'OutP', and 'OutN', and the output is measured across resistor ro.\n\nFigure 7.40a shows the error amplifier in an open-loop condition, considering the feedback network's influence on both input and output ports. The open-loop parameters, denoted as a, ria, and roa, are determined by inspection and calculation.\n\nFigure 7.40b represents the feedback network for the current amplifier, which includes resistors R1 and R2, and a current source io. This network is connected in such a way that the amplifier's input port is treated as a short circuit, and the output port as an open circuit.\n\nFigure 7.41 models a closed-loop current amplifier with feedback, driven by a current source isig and driving a load RL. The components include a voltage-controlled current source Ascvi, input resistor Ri, output resistor Ro, and source resistor Rsig.\n\nFigure 7.42 illustrates a shunt-series feedback pair, also known as a current amplifier pair. It consists of two NPN transistors (Q1 and Q2), resistors R1, R2, and R3, and an input current source ii. The feedback network is connected between nodes V1, V2, and V3.\n\nFigure 7.43a shows the error amplifier with the feedback network, including two NPN transistors (Q1 and Q2), and resistors R1, R2, and R3. The input current source ie supplies the amplifier, and the output is measured across resistor Ro.\n\nFigure 7.43b displays a simplified feedback network with resistors R1 and R2, and a current source io. This network is part of an amplifier configuration with feedback involving transistors Q1 and Q2.\n\nFigure 7.44 is a PSpice model that includes current sources, voltage-controlled current sources, and resistors. It uses a dummy voltage source (VL) to measure the short-circuit load current for verifying a specific example.\n\nFigure 7.45a shows a shunt-series feedback amplifier with the load connected in series with Q2's collector. The feedback is applied to the base of Q1, controlling the emitter current ie2 of Q2, which is related to the output current io.\n\nFigure 7.45b presents an equivalent circuit for determining the output current (io) and output resistance (Ro) with a feedback network. Transistor Q2 is used to regulate the current with a negative feedback loop involving a resistance roa(1+L).\n\nEach of these figures is part of a larger discussion on the operation and analysis of current amplifiers using feedback networks in electronic circuits."
},
{
    "text": "The text provided details a comprehensive analysis of an operational amplifier (op amp) circuit, focusing on the shunt-series configuration and the internal resistances associated with the op amp model. The discussion revolves around the open-loop and closed-loop characteristics of the circuit, including the calculation of gain and resistances.\n\nIn Figure 7.39, the circuit is analyzed using the full op amp model, assuming no external loading. The input and output ports of the op amp interact with the feedback network differently: the input port behaves as a short circuit, and the output port as an open circuit. The internal resistances ri and ro, along with feedback resistors R1 and R2, form the basis of the current amplifier circuit.\n\nFigure 7.40 illustrates the decomposition of the circuit into the error amplifier and the feedback network. The open-loop parameters a, ria, and roa are determined, and the equations governing the circuit's behavior are provided.\n\nFigure 7.41 presents a model of a closed-loop current amplifier with feedback, driven by a current source isig and driving a load RL. The circuit includes a voltage-controlled current source, input resistance Ri, output resistance Ro, and source resistance Rsig.\n\nThe text continues with Example 7.18, where specific values are provided for the resistances and op amp parameters, and the unloaded gain Asc and terminal resistances Ri and Ro are calculated.\n\nThe Shunt-Series Procedure is outlined, which involves determining the loading at the input and output of the basic amplifier, as well as finding the feedback factor b. This procedure is illustrated using the circuit in Figure 7.42, which is a shunt-series feedback pair.\n\nExample 7.19 demonstrates the application of the Shunt-Series Procedure to find the unloaded gain Asc and terminal resistances Ri and Ro for a given set of parameters. The results are verified using PSpice.\n\nThe text concludes with a discussion of an alternative circuit configuration where the load is placed at the collector side, as shown in Figure 7.45. This configuration is analyzed to find the unloaded gain and output resistance, with verification provided through PSpice simulation.\n\nThroughout the text, the focus remains on the detailed analysis of the circuit's behavior, the calculation of various parameters, and the verification of these calculations through simulations."
},
{
    "text": "The analysis in Figure 7.39 revisits the shunt-series operational amplifier configuration initially presented in Figure $7.18 d$, now incorporating the complete op amp model. As before, the analysis presumes no external loads, characterized by a zero parallel resistance for the input current source and a short circuit as the load. In the shunt-summing arrangement, the op amp's input terminal presents as a short circuit to the feedback network. Conversely, with series sensing, the op amp's output terminal behaves as an open circuit to the feedback network. This leads to the configuration depicted in Figure 7.40a, which portrays the error amplifier operating in an open-loop mode, with explicit consideration of the feedback network's impact at both ports. Subsequently, the objective is to determine the open-loop parameters, denoted as $a$, $r_{i a}$, and $r_{o a}$. Through observation, the equations for $r_{i a}$ and $r_{o a}$ are derived. Additionally, the output current $i_{o}$ is expressed in terms of the voltage gain $a_v$, the internal resistances, and the input current $i_{\\varepsilon}$, leading to the equation for the current gain $a$. The parameter $a$ is noted to possess dimensions of $\\mathrm{A} / \\mathrm{A}$ and is negative. The analysis then progresses to derive a representation of the feedback network independent of the basic amplifier. Referring back to Figure 7.39, it is observed that the feedback network is influenced by a current source $i_{o}$ with an exceedingly high parallel resistance $R_{o}$ at the sensing side. At the summing side, it interacts with the op amp's input terminal, which, for practical purposes, behaves as a short circuit. This leads to the derivation of the feedback factor $b$ using the current divider rule. The parameter $b$ is also negative and expressed in $\\mathrm{A} / \\mathrm{A}$. Subsequent steps involve applying the previously established equations to calculate the unloaded gain $A_{s c}$ and the closed-loop terminal resistances $R_{i}$ and $R_{o}$. The analysis is further extended to a general case involving a feedback current amplifier driven by a signal source $i_{s i g}$ with a finite parallel resistance $R_{s i g}$ and driving a non-zero output load $R_{L}$. This scenario is explored using the circuit model presented in Figure 7.41, and the source-to-load current gain is derived. The example provided illustrates the application of the derived equations and procedures to compute the relevant parameters for specific circuit configurations."
},
{
    "text": "In Figure 7.39, we delve into the analysis of the shunt-series operational amplifier configuration originally presented in Figure 7.18d, utilizing the comprehensive op amp model. We proceed without considering any external loading, which implies that the input current source encounters zero parallel resistance, and the load is represented by a short circuit. In the shunt summing configuration, the input terminal of the op amp presents as a short circuit to the feedback network, while the output terminal behaves as an open circuit in the series sensing setup. This leads us to the configuration depicted in Figure 7.40a, where the error amplifier operates in an open-loop manner while accounting for the loading effects of the feedback network at both ports. Our next step is to determine the open-loop parameters, now denoted as \\(a\\), \\(r_{i a}\\), and \\(r_{o a}\\). A simple inspection yields the equations for \\(r_{i a}\\) and \\(r_{o a}\\), and we derive the current gain \\(a\\) considering the amplifier's voltage gain \\(a_v\\) and the internal resistances.\n\nMoving on, we aim to isolate the feedback network from the basic amplifier for analysis. As observed in Figure 7.39, the feedback network is influenced by a current source \\(i_o\\) with a high parallel resistance \\(R_o\\) at the sensing side, while at the summing side, it drives the op amp's input, which is effectively a short circuit. This leads us to the configuration in Figure 7.40b, where we use the current divider rule to find the feedback factor \\(b\\).\n\nThe unloaded gain \\(A_{sc}\\) is then determined using the previously established equation, and the closed-loop terminal resistances \\(R_i\\) and \\(R_o\\) are calculated by substituting \\(r_{i a}\\) and \\(r_{o a}\\) into the relevant equations. To address the more general case where a feedback current amplifier is driven by a signal source \\(i_{sig}\\) with a finite parallel resistance \\(R_{sig}\\) and drives a non-zero output load \\(R_L\\), we refer to the circuit model in Figure 7.41.\n\nThe source-to-load current gain is derived using the provided equation, and this process is exemplified in Example 7.18 and 7.19, where specific circuit parameters are used to calculate the unloaded gain, terminal resistances, and signal-to-load gain. The Shunt-Series Procedure is outlined for decomposing such circuits into an error amplifier and a feedback network, facilitating the calculation of loading effects and feedback factors.\n\nIn Figure 7.42, we illustrate the Shunt-Series Procedure using a shunt-series feedback pair, and the resulting basic amplifier and feedback network are shown in Figure 7.43. Example 7.19 demonstrates the application of this procedure to a specific circuit, and the results are verified using a PSpice simulation.\n\nFinally, Figure 7.45a presents an alternative configuration where the load is connected to the collector side to achieve a higher output resistance. The feedback loop still regulates the emitter current \\(i_{e 2}\\) of transistor \\(Q_2\\), and an equivalent circuit in Figure 7.45b is used to determine the output current \\(i_0\\) and output resistance \\(R_0\\). Example 7.20 further explores this configuration, calculating the unloaded gain and output resistance, which are then confirmed through PSpice simulations."
},
{
    "text": "We revisit the shunt-series op amp setup originally depicted in Fig. $7.18d$, now utilizing the comprehensive op amp model. As before, we consider no external loading, implying a null parallel resistance for the input current source and a short circuit as the load. Shunt summing renders the op amp's input terminal equivalent to a short circuit (SC) to the feedback network, whereas series sensing makes the op amp's output terminal equivalent to an open circuit (OC) to the feedback network. This leads to the scenario depicted in Fig. 7.40a, which shows the error amplifier operating in open-loop mode, with explicit consideration of the feedback network's impact at both ports. Our next objective is to determine the open-loop parameters, now denoted as $a, r_{i a}$, and $r_{o a}$. By observation,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i} / /\\left(R_{2}+R_{1}\\right) \\quad r_{o a}=r_{o}+\\left(R_{2} / / R_{1}\\right) \\tag{7.56}\n\\end{equation*}\n$$\n\nAdditionally,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o a}}=\\frac{1}{r_{o a}} a_{v} r_{i a}\\left(-i_{\\varepsilon}\\right)\n$$\n\nyielding\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{r_{i a}}{r_{o a}} a_{v} \\tag{7.57}\n\\end{equation*}\n$$\n\nIt's worth noting that $a$ is now measured in $\\mathrm{A} / \\mathrm{A}$ and is negative. We then aim to represent the feedback network independently of the fundamental amplifier. Returning to Fig. 7.39, we notice that at the sensing side, the feedback network is influenced by a current source $i_{o}$, which is anticipated to have an exceedingly high parallel resistance $R_{o}$, whereas at the summing side, it drives the amplifier's input terminal, which effectively behaves as a short circuit (SC) for practical purposes. Thus, the circuit for calculating $b$ is as shown in Fig. 7.40b. Employing the current divider principle, we derive\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}=-\\frac{1}{1+R_{2} / R_{1}} \\tag{7.58}\n\\end{equation*}\n$$\n\n$b$ is also negative and expressed in A/A, similar to $a$. As customary, we next apply Eq. (7.31) to calculate the unloaded gain $A_{s c}$, and Eqs. (7.32) and (7.33), with $r_{i}$ and $r_{o}$ substituted by $r_{i a}$ and $r_{o a}$, to determine the closed-loop terminal resistances $R_{i}$ and $R_{o}$. Furthermore, the general scenario where a feedback current amplifier is driven by a signal source $i_{s i g}$ with finite parallel resistance $R_{s i g}$ and drives a non-zero output load $R_{L}$ can be readily analyzed using the circuit model of Fig. 7.41. The source-to-load current gain is given by\n\n$$\n\\begin{equation*}\n\\frac{i_{o}}{i_{s i g}}=\\frac{R_{s i g}}{R_{s i g}+R_{i}} A_{s c} \\frac{R_{o}}{R_{o}+R_{L}} \\tag{7.59}\n\\end{equation*}\n$$\n\nEXAMPLE 7.18 (a) In the circuit of Fig. 7.39, suppose the op amp has $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=100 \\Omega$. If $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=9.0 \\mathrm{k} \\Omega$, determine $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) Calculate the signal-to-load gain $i_{o} / i_{s i g}$ if the feedback amplifier is driven by a signal source $i_{\\text {sig }}$ with a parallel resistance $R_{s i g}=1.0 \\mathrm{k} \\Omega$ and drives a load $R_{L}=1.0 \\mathrm{k} \\Omega$.\n\n#### Solution\n\n(a) Utilizing Eqs. (7.56) through (7.58), we obtain\n\n$$\n\\begin{aligned}\n& r_{i a}=100 / /(9.0+1.0)=9.09 \\mathrm{k} \\Omega \\quad r_{o a}=0.1+(9.0 / / 1.0)=1.0 \\mathrm{k} \\Omega \\\\\n& a=-\\frac{9.09}{1.0} 10^{3}=-9,090 \\mathrm{~A} / \\mathrm{A} \\\\\n& b=-\\frac{1}{1+9 / 1}=-0.1 \\mathrm{~A} / \\mathrm{A} \\\\\n& L=a b=909 \\\\\n& A_{s c} \\cong-10\\left(1-\\frac{1}{909}\\right)=-9.989 \\mathrm{~A} / \\mathrm{A} \\\\\n& R_{i}=\\frac{9100}{1+909}=10 \\Omega \\\\\n& R_{o}=1(1+909)=910 \\mathrm{k} \\Omega\n\\end{aligned}\n$$\n\n(b) Referring to the equivalent representation of Fig. 7.41, where we observe that division both at the input and output output, the signal-to-load gain can be easily\nThe Figure 7.39, we delve once the shunt-series operational amplifier configuration from presented in Figure $7.18d$, this utilizing the detailed operational amplifier model. Once again, we consider no is no external loading, indicating translates to zero parallel resistance for the input current source and a short circuit as the load. When the shunt summing configuration, the operational amplifier's input terminal presents as a short circuit toSC) to the feedback network, whereas in series sensing, the operational amplifier's output terminal appears as an open circuit (OC) to the feedback network. As results in the scenario depicted in Figure 7.40a, which shows\nIn Figure 7.39, we revisit the shunt-series operational amplifier configuration initially presented in Figure $7.18d$, now employing the complete operational amplifier model. We before, we assume the absence of external external loading, meaning zero parallel resistance for the input current source and a short circuit as the load. With the shunt summing configuration, the operational amplifier's input terminal presents as a short circuit (SC) to the feedback network, while in series sensing, the operational amplifier's output terminal appears as an open circuit (OC) to the feedback network. This leads to the scenario depicted in Figure 7.40a, which illustrates the error amplifier operating in open-loop mode but with explicit consideration of the feedback network's impact at both ports. Our next objective is to determine the open-loop parameters, now denoted as $a, r_{i a}$, and $r_{o a}$. By observation,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i} / /\\left(R_{2}+R_{1}\\right) \\quad r_{o a}=r_{o}+\\left(R_{2} / / R_{1}\\right) \\tag{7.56}\n\\end{equation*}\n$$\n\nAdditionally,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o a}}=\\frac{1}{r_{o a}} a_{v} r_{i a}\\left(-i_{\\varepsilon}\\right)\n$$\n\nyielding\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{r_{i a}}{r_{o a}} a_{v} \\tag{7.57}\n\\end{equation*}\n$$\n\nIt's worth noting that $a$ is now measured in $\\mathrm{A} / \\mathrm{A}$ and is negative. We then aim to represent the feedback network independently of the fundamental amplifier. Returning to Figure 7.39, we notice that at the sensing side, the feedback network is influenced by a current source $i_{o}$, which is anticipated to have an exceedingly high parallel resistance $R_{o}$, whereas at the summing side, it drives the amplifier's input terminal, which effectively behaves as a short circuit (SC) for practical purposes. Thus, the circuit for calculating $b$ is as shown in Figure 7.40b. Employing the current divider principle, we derive\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}=-\\frac{1}{1+R_{2} / R_{1}} \\tag{7.58}\n\\end{equation*}\n$$\n\n$b$ is also negative and expressed in A/A, similar to $a$. As customary, we next apply Eq. (7.31) to calculate the unloaded gain $A_{s c}$, and Eqs. (7.32) and (7.33), with $r_{i}$ and $r_{o}$ substituted by $r_{i a}$ and $r_{o a}$, to determine the closed-loop terminal resistances $R_{i}$ and $R_{o}$. Furthermore, the general scenario where a feedback current amplifier is driven by a signal source $i_{s i g}$ with finite parallel resistance $R_{s i g}$ and drives a non-zero output load $R_{L}$ can be readily analyzed using the circuit model of Figure 7.41. The source-to-load current gain is given by\n\n$$\n\\begin{equation*}\n\\frac{i_{o}}{i_{s i g}}=\\frac{R_{s i g}}{R_{s i g}+R_{i}} A_{s c} \\frac{R_{o}}{R_{o}+R_{L}} \\tag{7.59}\n\\end{equation*}\n$$\n\nEXAMPLE 7.18 (a) In the circuit of Figure 7.39, suppose the operational amplifier has $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=100 \\Omega$. If $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=9.0 \\mathrm{k} \\Omega$, determine $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) Calculate the signal-to-load gain $i_{o} / i_{s i g}$ if the feedback amplifier is driven by a signal source $i_{\\text {sig }}$ with a parallel resistance $R_{s i g}=1.0 \\mathrm{k} \\Omega$ and drives a load $R_{L}=1.0 \\mathrm{k} \\Omega$.\n\n#### Solution\n\n(a) Utilizing Eqs. (7.56) through (7.58), we obtain\n\n$$\n\\begin{aligned}\n& r_{i a}=100 / /(9.0+1.0)=9.09 \\mathrm{k} \\Omega \\quad r_{o a}=0.1+(9.0 / / 1.0)=1.0 \\mathrm{k} \\Omega \\\\\n& a=-\\frac{9.09}{1.0} 10^{3}=-9,090 \\mathrm{~A} / \\mathrm{A} \\\\\n& b=-\\frac{1}{1+9 / 1}=-0.1 \\mathrm{~A} / \\mathrm{A} \\\\\n& L=a b=909 \\\\\n& A_{s c} \\cong-10\\left(1-\\frac{1}{909}\\right)=-9.989 \\mathrm{~A} / \\mathrm{A} \\\\\n& R_{i}=\\frac{9100}{1+909}=10 \\Omega \\\\\n& R_{o}=1(1+909)=910 \\mathrm{k} \\Omega\n\\end{aligned}\n$$\n\n(b) Referring to the equivalent representation of Figure 7.41, where we observe current division both at the input and the output, the signal-to-load gain can be"
},
{
    "text": "The text provided describes the analysis and modeling of a shunt-series operational amplifier (op amp) configuration, specifically examining its behavior as a current amplifier. Key components include internal resistances, feedback resistors, and a current source connected to the feedback network. The op amp's input and output ports interact with the feedback network differently, with the input port appearing as a short circuit and the output port as an open circuit. This setup is analyzed under different conditions, such as open-loop operation and with various loading conditions.\n\nThe analysis includes calculating open-loop parameters and the unloaded gain of the amplifier. The feedback network is represented separately to understand its influence on the amplifier's operation. A specific example is provided to calculate the amplifier's parameters, such as input and output resistances and the unloaded gain, using given resistor values and transistor parameters.\n\nAdditionally, a PSpice simulation is mentioned to verify the calculated results, showing good agreement between the analytical calculations and the simulated values. The text also discusses the effect of moving the load to the collector side of the amplifier, which can increase the output resistance significantly. An equivalent circuit is presented to analyze the output current and resistance under negative feedback. Another example is provided to demonstrate the calculations for the unloaded gain and output resistance when the load is at the collector side, along with PSpice verification.\n\nThe text concludes by outlining a general procedure for analyzing shunt-series feedback amplifiers, emphasizing the importance of considering loading at both the input and output ports of the amplifier."
},
{
    "text": "In Figure 7.39, we delve into the shunt-series operational amplifier configuration depicted in Figure $7.18 d$, this time utilizing the comprehensive op amp model. We again consider a scenario without any external load, implying zero parallel resistance for the input current source and a short circuit as the load. In shunt summing mode, the op amp's input port is perceived as a short circuit by the feedback network, whereas in series sensing mode, the op amp's output port is viewed as an open circuit by the feedback network. As a result, we arrive at the configuration depicted in Figure 7.40a, which illustrates the error amplifier in open-loop operation while accounting for the loading effects of the feedback network at both ports. Our next objective is to determine its open-loop parameters, denoted as $a$, $r_{i a}$, and $r_{o a}$. Through inspection, we derive the following equations:\n\n$$\n\\begin{equation*}\nr_{i a}=\\frac{r_{i}}{R_{2}+R_{1}} \\quad r_{o a}=r_{o}+\\frac{R_{2}}{R_{1}} \\tag{7.56}\n\\end{equation*}\n$$\n\nFurthermore,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o a}}=\\frac{1}{r_{o a}} a_{v} r_{i a}(-i_{\\varepsilon})\n$$\n\nwhich leads to\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{r_{i a}}{r_{o a}} a_{v} \\tag{7.57}\n\\end{equation*}\n$$\n\nIt is important to note that $a$ is now expressed in units of $\\mathrm{A} / \\mathrm{A}$ and has a negative value. Subsequently, we aim to establish a representation for the feedback network that is distinct from the fundamental amplifier. Referring back to Figure 7.39, we observe that at the sensing side, the feedback network is driven by a current source $i_{o}$, which is expected to exhibit an extremely high parallel resistance $R_{o}$, while at the summing side, it drives the amplifier's input port, which, for practical purposes, behaves as a short circuit. Therefore, the circuit for calculating $b$ is as shown in Figure 7.40b. Utilizing the current divider rule, we obtain\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}=-\\frac{1}{1+\\frac{R_{2}}{R_{1}}} \\tag{7.58}\n\\end{equation*}\n$$\n\nIt is worth noting that $b$ is also negative and is expressed in units of $\\mathrm{A} / \\mathrm{A}$, similar to $a$. Proceeding as usual, we apply Equation (7.31) to determine the unloaded gain $A_{s c}$, and Equations (7.32) and (7.33), with $r_{i}$ and $r_{o}$ substituted by $r_{i a}$ and $r_{o a}$, to calculate the closed-loop terminal resistances $R_{i}$ and $R_{o}$. Additionally, we can readily investigate the general case where a feedback current amplifier is driven by a signal source $i_{s i g}$ with finite parallel resistance $R_{s i g}$ and drives a non-zero output load $R_{L}$, using the circuit model in Figure 7.41. The source-to-load current gain is given by\n\n$$\n\\begin{equation*}\n\\frac{i_{o}}{i_{s i g}}=\\frac{R_{s i g}}{R_{s i g}+R_{i}} A_{s c} \\frac{R_{o}}{R_{o}+R_{L}} \\tag{7.59}\n\\end{equation*}\n$$\n\nExample 7.18 (a) Consider\nIn Figure 7.39, we revisit the shunt-series operational amplifier configuration depicted\nIn Figure 7.39, we re-examine the shunt-series operational amplifier configuration"
},
{
    "text": "In Fig. 7.39, we delve into the shunt-series operational amplifier configuration depicted in Fig. $7.18 d$, now utilizing the complete op amp model. We proceed without any external loading, assuming a zero parallel resistance for the input current source and a short circuit as the load. Shunt summing renders the op amp's input port as a short circuit to the feedback network, while series sensing presents the op amp's output port as an open circuit. This leads to the scenario depicted in Fig. 7.40a, where the error amplifier operates in open-loop mode, with the feedback network's loading at both ports explicitly considered. Our next step is to determine the open-loop parameters, now denoted as $a, r_{i a}$, and $r_{o a}$. By observation,\n\n$$\n\\begin{equation*}\nr_{i a}=r_{i} / /\\left(R_{2}+R_{1}\\right) \\quad r_{o a}=r_{o}+\\left(R_{2} / / R_{1}\\right) \\tag{7.56}\n\\end{equation*}\n$$\n\nFurthermore,\n\n$$\ni_{o}=\\frac{a_{v} v_{d}}{r_{o a}}=\\frac{1}{r_{o a}} a_{v} r_{i a}\\left(-i_{\\varepsilon}\\right)\n$$\n\nyielding\n\n$$\n\\begin{equation*}\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{r_{i a}}{r_{o a}} a_{v} \\tag{7.57}\n\\end{equation*}\n$$\n\nIt is important to note that $a$ now has dimensions of $\\mathrm{A} / \\mathrm{A}$ and is negative. We then aim to derive a representation of the feedback network that is distinct from the fundamental amplifier. Revisiting Fig. 7.39, we notice that at the sensing side, the feedback network is influenced by a current source $i_{o}$, which is anticipated to exhibit an extremely high parallel resistance $R_{o}$, while at the summing side, it drives the amplifier's input port, which appears as a short circuit for practical purposes. The circuit for calculating $b$ is shown in Fig. 7.40b. Utilizing the current divider rule, we obtain\n\n$$\n\\begin{equation*}\nb=\\frac{i_{f}}{i_{o}}=-\\frac{R_{1}}{R_{1}+R_{2}}=-\\frac{1}{1+R_{2} / R_{1}} \\tag{7.58}\n\\end{equation*}\n$$\n\n$b$ is negative and is expressed in A/A, similar to $a$. We then employ Eq. (7.31) to determine the unloaded gain $A_{s c}$, and Eqs. (7.32) and (7.33), substituting $r_{i}$ and $r_{o}$ with $r_{i a}$ and $r_{o a}$, to calculate the closed-loop terminal resistances $R_{i}$ and $R_{o}$. Additionally, the general case where a feedback current amplifier is driven by a signal source $i_{s i g}$ with finite parallel resistance $R_{s i g}$ and drives a non-zero output load $R_{L}$, can be readily analyzed using the circuit model of Fig. 7.41. The source-to-load current gain is\n\n$$\n\\begin{equation*}\n\\frac{i_{o}}{i_{s i g}}=\\frac{R_{s i g}}{R_{s i g}+R_{i}} A_{s c} \\frac{R_{o}}{R_{o}+R_{L}} \\tag{7.59}\n\\end{equation*}\n$$\n\nEXAMPLE 7.18 (a) For the circuit in Fig. 7.39, assume the op amp has $a_{v}=10^{3} \\mathrm{~V} / \\mathrm{V}, r_{i}=100 \\mathrm{k} \\Omega$, and $r_{o}=100 \\Omega$. If $R_{1}=1.0 \\mathrm{k} \\Omega$ and $R_{2}=9.0 \\mathrm{k} \\Omega$, calculate $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) Determine the signal-to-load gain $i_{o} / i_{s i g}$ if the feedback amplifier is driven by a signal source $i_{\\text {sig }}$ with a parallel resistance $R_{s i g}=1.0 \\mathrm{k} \\Omega$, and drives a load $R_{L}=1.0 \\mathrm{k} \\Omega$.\n\n#### Solution\n\n(a) Utilizing Eqs. (7.56) through (7.58), we find\n\n$$\n\\begin{aligned}\n& r_{i a}=100 / /(9.0+1.0)=9.09 \\mathrm{k} \\Omega \\quad r_{o a}=0.1+(9.0 / / 1.0)=1.0 \\mathrm{k} \\Omega \\\\\n& a=-\\frac{9.09}{1.0} 10^{3}=-9,090 \\mathrm{~A} / \\mathrm{A} \\\\\n& b=-\\frac{1}{1+9 / 1}=-0.1 \\mathrm{~A} / \\mathrm{A} \\\\\n& L=a b=909 \\\\\n& A_{s c} \\cong-10\\left(1-\\frac{1}{909}\\right)=-9.989 \\mathrm{~A} / \\mathrm{A} \\\\\n& R_{i}=\\frac{9100}{1+909}=10 \\Omega \\\\\n& R_{o}=1(1+909)=910 \\mathrm{k} \\Omega\n\\end{aligned}\n$$\n\n(b) Referring to the equivalent representation in Fig. 7.41, we observe current division at both the input and output. The signal-to-load gain is determined as\n\n$$\n\\frac{i_{o}}{i_{s i g}}=\\frac{1.0}{1.0+0.010}(-9.989) \\frac{910}{910+2.0}=-9.868 \\mathrm{~A} / \\mathrm{A}\n$$\n\nThe methodology outlined in the aforementioned example can be generalized to the Shunt-Series Procedure:\n\n- To assess loading at the input of the basic amplifier, open-circuit the sensing-side port of the feedback network.\n- To evaluate loading at the output of the basic amplifier, short-circuit the summing-side port of the feedback network.\n- To determine $b$, apply a current $i_{o}$ to the sensing-side port of the feedback network, calculate the short-circuit current $i_{f}$ through the summing-side port, and set $b=i_{f} / i_{o}$.\nimage_name:Figure 7.42\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: V3, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: V1, N2: V3}\nname: R3, type: Resistor, value: R3, ports: {N1: GND, N2: V2}\nname: Q1, type: NPN, ports: {C: V2, B: V1, E: GND}\nname: Q2, type: NPN, ports: {C: GND, B: V2, E: V3}\nname: ii, type: CurrentSource, value: ii, ports: {Np: V1, Nn: GND}\n]\nextrainfo:This circuit represents a shunt-series feedback pair, also known as a current amplifier pair. It comprises two NPN transistors (Q1 and Q2) and several resistors. The feedback network is connected between nodes V1, V2, and V3. The input current source ii supplies current to the amplifier, and the output is taken across the resistor Ro.\n\nFIGURE 7.42 Shunt-series feedback pair.\n\nLet's apply the Shunt-Series Procedure using the shunt-series pair shown in Fig. 7.42, also referred to as a current amplifier pair. Following this procedure, we arrive at the basic amplifier and feedback network depicted in Fig. 7.43.\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: OC, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: X1, N2: vb1}\nname: R3, type: Resistor, value: R3, ports: {N1: vc1, N2: GND}\nname: Q1, type: NPN, ports: {C: vc1, B: vb1, E: GND}\nname: Q2, type: NPN, ports: {C: ve2, B: vc1, E: GND}\nname: ie, type: CurrentSource, ports: {Np: x1, Nn: vb1}\nname: R1, type: Resistor, value: R1, ports: {N1: ve2, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: ve2, N2: GND}\n]\nextrainfo:This circuit diagram (a) illustrates a shunt-series feedback pair with a current amplifier. It includes two NPN transistors (Q1 and Q2) and several resistors (R1, R2, R3). The input current source ie provides current to the amplifier. The feedback network is connected between nodes X1 and OC. The output is taken across the resistor Ro.\nimage_name:(b)\ndescription:\n[\n'name': 'R2', 'type': 'Resistor', 'value': 'R2', 'ports': {'N1': 'OC', 'N2': 'GND'\n'name': 'io, 'type': 'CurrentSource', 'ports': {'Np': 'GND', 'Nn': 'OC'\n'name': 'R1', 'type: 'Resistor', 'value': 'R1', 'ports': {'N1': 'OC', 'N2': 'GND'\n]\nextrainfo:This circuit diagram (b) presents a simplified feedback network with resistors R1 and R2 connected between nodes OC and SC, and a current source io flowing into node OC. The transistors Q1 and Q2 in diagram (a) are part of an amplifier configuration with feedback.\n\nFIGURE 7.43 Decomposing the circuit of Fig. 7.42 into (a) the error amplifier and (b) the feedback network.\n\nEXAMPLE 7.19 (a) In the shunt-series pair of Fig. 7.42, let $R_{1}=1.0 \\mathrm{k} \\Omega, R_{2}=3.0 \\mathrm{k} \\Omega$, and $R_{3}=10 \\mathrm{k} \\Omega$. Additionally, assume the BJTs have $g_{m}=1 /(25 \\Omega), r_{\\pi}=4.0 \\mathrm{k} \\Omega$, and $r_{o}=50 \\mathrm{k} \\Omega$. Calculate $R_{i}, R_{o}$, and the unloaded gain $A_{s c}$.\n(b) Validate your results using PSpice.\n\n#### Solution\n\n(a) We have $\\beta_{0}=g_{m} r_{\\pi}=4 / 0.025=160$. With reference to Fig. 7.43, by inspection,\n\n$$\n\\begin{aligned}\n& r_{i a}=\\left(R_{2}+R_{1}\\right) / / r_{\\pi 1}=(3.0+1.0) / / 4=2.0 \\mathrm{k} \\Omega \\\\\n& r_{o a}=\\frac{\\left(r_{o 1} / / R_{3}\\right)+r_{\\pi 2}}{\\beta_{02}+1}+\\left(R_{2} / / R_{1}\\right) \\cong \\frac{(50 / / 10)+4}{161}+(3.0 / / 1.0)=0.827 \\mathrm{k} \\Omega \\\\\n& \\frac{v_{b 1}}{i_{\\varepsilon}}=r_{i a}=2.0 \\mathrm{k} \\Omega \\\\\n& \\frac{v_{c 1}}{v_{b 1}}=-g_{m 1}\\left\\{R_{3} / / r_{o 1} / /\\left[r_{\\pi 2}+\\left(\\beta_{02}+1\\right)\\left(R_{1} / / R_{2}\\right)\\right]\\right\\} \\\\\n& =-\\frac{10 / / 50 / /[4+161(1.0 / / 3.0)]}{0.025}=-312 \\mathrm{~V} / \\mathrm{V} \\\\\n& \\frac{v_{e 2}}{v_{c 1}}=\\frac{1}{1+\\frac{\\left(R_{3} / / r_{o 2}\\right)+r_{\\pi 2}}{\\left(\\beta_{02}+1\\right)\\left(R_{1} / / R_{2}\\right)}}=\\frac{1}{1+\\frac{10 / / 50+4}{161(1.0 / / 3.0)}}=0.907 \\mathrm{~V} / \\mathrm{V} \\\\\n& \\frac{i_{o}}{V_{e 2}}=\\frac{1}{R_{1} / / R_{2}}=\\frac{1}{1.0 / / 3.0}=\\frac{1}{0.75 \\mathrm{k} \\Omega} \\\\\n& a=\\frac{i_{o}}{i_{\\varepsilon}}=\\frac{v_{b 1}}{i_{\\varepsilon}} \\times \\frac{v_{c 1}}{v_{b 1}} \\times \\frac{v_{e 2}}{v_{c 1}} \\times \\frac{i_{o}}{v_{e 2}}=\\frac{(2)(-312)(0.907)}{0.75}=-755 \\mathrm{~A} / \\mathrm{A} \\\\\n& b=-\\frac{1.0}{1.0+3.0}=-\\frac{1}{4} \\mathrm{~A} / \\mathrm{A} \\quad L=a b=(-755)(-0.25)=189\n\\end{aligned}\n$$\n\nThe closed-loop parameters are finally\n\n$$\n\\begin{aligned}\n& A_{s c}=\\frac{i_{o}}{i_{i}} \\cong \\frac{-4}{1+1 / 189}=-3.979 \\mathrm{~A} / \\mathrm{A} \\\\\n& R_{i}=\\frac{2000}{1+189} \\cong 10.5 \\Omega \\\\\n& R_{o}=0.827(1+189)=157 \\mathrm{k} \\Omega\n\\end{aligned}\n$$\n\n(b) The PSpice circuit, as shown in Fig. 7.44, incorporates the $0-\\mathrm{V}$ dummy source $V_{L}$ to measure the short-circuit load current. After directing PSpice to perform a transfer function (.TF) analysis, we obtain $A_{s c}=-3.980 \\mathrm{~A} / \\mathrm{A}, R_{i}=9.877 \\Omega$, and $R_{o}=167.4 \\mathrm{k} \\Omega$, all in close agreement with our calculations above.\nimage_name:FIGURE 7.44\ndescription:\n[\nname: ii, type: CurrentSource, value: ii, ports: {Np: V1, Nn: GND}\nname: r_pi1, type: Resistor, value: 4 kΩ, ports: {N1: V1, N2: GND}\nname: R3, type: Resistor, value: 10 kΩ, ports: {N1: V2, N2: V4}\nname: r_o1, type: Resistor, value: 50 kΩ, ports: {N1: V2, N2: GND}\nname: r_pi2, type: Resistor, value: 4 kΩ, ports: {N1: V2, N2: V5}\nname: R2, type: Resistor, value: 3.0 kΩ, ports: {N1: V2, N2: V3}\nname: R1, type: Resistor, value: 1.0 kΩ, ports: {N1: V3, N2: GND}\nname: r_o2, type: Resistor, value: 50 kΩ, ports: {N1: V5, N2: GND}\nname: G1, type: VoltageControlledCurrentSource, ports: {Np: V1, Nn: V2}\nname: G2, type: VoltageControlledCurrentSource, ports: {Np: V4, Nn: V5}\nname: VL, type: VoltageSource, value: 0 Vdc, ports: {Np: V4, Nn: V3}\n]\nextrainfo:This circuit is a PSpice model for verifying a specific example, incorporating current sources, voltage-controlled current sources, and resistors. It utilizes a dummy voltage source to measure short-circuit load current.\n\nFIGURE 7.44 PSpice circuit to verify Example 7.19.\nGND\n\nIf a higher output resistance is required, the load can be repositioned to the collector side, which typically exhibits a much higher ac resistance compared to the emitter. This configuration is depicted in Fig. 7.45a. Note that the load is now outside the feedback loop; however, the B-E port of $Q_{2}$ remains within the loop, meaning the regulated current is still $Q_{2}$ 's emitter current $i_{e 2}$. This current is related to the load current by the factor $i_{e 2}=i_{o} / \\alpha_{0}$. Moreover, as illustrated in Fig. 7.45b, negative feedback effectively places a resistance in series with $Q_{2}$ 's emitter, equivalent to that found in connection with Fig. 7.42, specifically, $r_{o a}(1+L)$.\nimage_name:("
},
{
    "text": "As depicted in Figs. 7.22 and 7.41, once we have $R_{i}, R_{o}$, and either the unloaded gain $A_{o c}$ or $A_{s c}$, we can determine the signal-to-source gain for a scenario involving a non-ideal driving source and an arbitrary output load. However, there is often a requirement to directly compute the signal-to-load gain without undergoing the intermediate steps of calculating $R_{i}$ and $R_{o}$. This is accomplished by incorporating the signal source resistance $R_{\\text {sig }}$ and the load resistance $R_{L}$ into the basic amplifier circuit when determining its open-loop gain $a$. Consequently, the source-to-load gain is simply expressed as $A=a /(1+a b)$. We will illustrate this for voltage and current amplifiers, though the method is also applicable to the other two types of amplifiers.\n\n#### EXAMPLE 7.21\n\nUtilize direct calculation to determine the signal-to-load gain $A=v_{o} / v_{\\text {sig }}$ for Example 7.9b, where $a_{v}=1000 \\mathrm{~V} / \\mathrm{V}, r_{i}=10 \\mathrm{k} \\Omega, r_{o}=1.0 \\mathrm{k} \\Omega, R_{1}=1.0 \\mathrm{k} \\Omega, R_{2}=9.0 \\mathrm{k} \\Omega, R_{s i g}=20 \\mathrm{k} \\Omega$, and $R_{L}=2.0 \\mathrm{k} \\Omega$.\nimage_name:FIGURE 7.46\ndescription:\n[\nname: Ve, type: VoltageSource, value: Ve, ports: {Np: Ve, Nn: GND}\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: Ve, N2: V1}\nname: ri, type: Resistor, value: ri, ports: {N1: V1, N2: vf}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vf, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\nname: OpAmp, type: OpAmp, ports: {InP: V1, InN: GND, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: OC, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: OC}\n]\nextrainfo:The circuit is a voltage amplifier with external loading resistors Rsig and RL. It includes an operational amplifier with gain av and internal resistances ri and ro, configured for voltage amplification.\n\nFIGURE $\\mathbf{7 . 4 6}$ Adjusting the basic voltage amplifier of\nFig. 7.21a to consider external loading from $R_{\\text {sig }}$ and $R_{L}$.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.21a, incorporating $R_{s i g}$ and $R_{L}$. This leads to the configuration shown in Fig. 7.46, where $R_{s i g}$ is in series and $R_{L}$ is in shunt, consistent with the current topology. Therefore, Eq. (7.46) is modified to\n\n$$\n\\begin{aligned}\n& a=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{R_{s i g}+r_{i}+\\left(R_{1} / / R_{2}\\right)} a_{v} \\frac{\\left(R_{1}+R_{2}\\right) / / R_{L}}{r_{o}+\\left[\\left(R_{1}+R_{2}\\right) / / R_{L}\\right]} \\\\\n& \\text { or } \\\\\n& \\begin{aligned}\na & =\\frac{10}{20+10+(1.0 / / 9.0)} 1000 \\frac{(1.0+9.0) / / 2.0}{1+[(1.0+9.0) / 2.0]} \\\\\n& =0.324 \\times 1000 \\times 0.625=202 \\mathrm{~V} / \\mathrm{V}\n\\end{aligned}\n\\end{aligned}\n$$\n\nFrom Eq. (7.48), $b$ remains $0.1 \\mathrm{~V} / \\mathrm{V}$, so $L=202 \\times 0.1=20.2$ and\n\n$$\n\\frac{v_{o}}{v_{s i g}}=\\frac{1 / b}{1+1 / L}=\\frac{10}{1+1 / 20.2}=9.528 \\mathrm{~V} / \\mathrm{V}\n$$\n\nThis result is reasonably consistent with that of Example 7.9b.\n\nUse direct calculation to find the signal-to-load gain $A=i_{o} / i_{s i g}$ for the circuit in\nEXAMPLE 7.22 Example 7.18b.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.40a, including $R_{s i g}$ and $R_{L}$. The resulting configuration is shown in Fig. 7.47, where $R_{s i g}$ is in shunt and $R_{L}$ is in series, in line with the current feedback topology. Thus, Eq. (7.57) is modified to\n\n$$\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{R_{s i g} / / r_{i} / /\\left(R_{1}+R_{2}\\right)}{r_{o}+R_{L}+\\left(R_{1} / / R_{2}\\right)} a_{v}=-\\frac{1.0 / / 100 / /(1.0+9.0)}{1.0+2.0+(1.0 / / 9.0)} 10^{3}=-231 \\mathrm{~A} / \\mathrm{A}\n$$\n\nWith $b$ as given in Eq. (7.58), or $b=-0.1 \\mathrm{~A} / \\mathrm{A}$, we obtain\n\n$$\n\\frac{i_{o}}{i_{s i g}}=\\frac{a}{1+a b}=\\frac{-231}{1+(-231)(-0.1)}=-9.585 \\mathrm{~A} / \\mathrm{A}\n$$\n\nThis result aligns reasonably well with that of Example 7.18b.\nimage_name:FIGURE 7.47\ndescription:\n[\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: -Vd, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: -Vd, N2: X1}\nname: R1, type: Resistor, value: R1, ports: {N1: X1, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: X2, N2: vo1}\nname: ie, type: CurrentSource, value: ie, ports: {Np: -Vd, Nn: GND}\nname: Av Vd, type: OpAmp, value: Av Vd, ports: {InP: -Vd, InN: GND, OutP: X2, OutN: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: x2, N2: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\n]\nextrainfo:The circuit is a modified current amplifier with external loading due to Rsig and RL. It uses an op-amp with feedback to control the output current io.\n\nFIGURE 7.47 Adjusting the basic current amplifier of\nFig. 7.40a to account for external loading from $R_{\\text {sig }}$ and $R_{L}$."
},
{
    "text": "As depicted in Figs. 7.22 and 7.41, once we have $R_{i}, R_{o}$, and either the unloaded gain $A_{o c}$ or $A_{s c}$, we can determine the signal-to-source gain for a scenario involving a non-ideal driving source and an arbitrary output load. However, there is often a need to directly compute the signal-to-load gain without undergoing the intermediate steps of calculating $R_{i}$ and $R_{o}$. This is accomplished by incorporating the signal source resistance $R_{\\text {sig }}$ and the load resistance $R_{L}$ into the basic amplifier circuit when determining its open-loop gain $a$. Consequently, the source-to-load gain is simply $A=a /(1+a b)$. We will illustrate this for voltage and current amplifiers, though the method is also applicable to the other two types of amplifiers.\n\n#### EXAMPLE 7.21\n\nUtilize direct calculation to determine the signal-to-load gain $A=v_{o} / v_{\\text {sig }}$ for Example 7.9b, where $a_{v}=1000 \\mathrm{~V} / \\mathrm{V}, r_{i}=10 \\mathrm{k} \\Omega, r_{o}=1.0 \\mathrm{k} \\Omega, R_{1}=1.0 \\mathrm{k} \\Omega, R_{2}=9.0 \\mathrm{k} \\Omega, R_{s i g}=20 \\mathrm{k} \\Omega$, and $R_{L}=2.0 \\mathrm{k} \\Omega$.\nimage_name:FIGURE 7.46\ndescription:\n[\nname: Ve, type: VoltageSource, value: Ve, ports: {Np: Ve, Nn: GND}\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: Ve, N2: V1}\nname: ri, type: Resistor, value: ri, ports: {N1: V1, N2: vf}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vf, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\nname: OpAmp, type: OpAmp, ports: {InP: V1, InN: GND, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: OC, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: OC}\n]\nextrainfo:The circuit is a voltage amplifier with external loading resistors Rsig and RL. It includes an operational amplifier with gain av and internal resistances ri and ro, configured for voltage amplification.\n\nFIGURE $\\mathbf{7 . 4 6}$ Modifying the basic voltage amplifier of Fig. 7.21a to account for external loading due to $R_{\\text {sig }}$ and $R_{L}$.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.21a, incorporating $R_{s i g}$ and $R_{L}$. This results in the configuration shown in Fig. 7.46, where $R_{s i g}$ is in series and $R_{L}$ is in shunt, consistent with the current topology. Therefore, Eq. (7.46) is modified to\n\n$$\n\\begin{aligned}\n& a=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{R_{s i g}+r_{i}+\\left(R_{1} / / R_{2}\\right)} a_{v} \\frac{\\left(R_{1}+R_{2}\\right) / / R_{L}}{r_{o}+\\left[\\left(R_{1}+R_{2}\\right) / / R_{L}\\right]} \\\\\n& \\text { or } \\\\\n& \\begin{aligned}\na & =\\frac{10}{20+10+(1.0 / / 9.0)} 1000 \\frac{(1.0+9.0) / / 2.0}{1+[(1.0+9.0) / 2.0]} \\\\\n& =0.324 \\times 1000 \\times 0.625=202 \\mathrm{~V} / \\mathrm{V}\n\\end{aligned}\n\\end{aligned}\n$$\n\nUsing Eq. (7.48), $b$ remains $0.1 \\mathrm{~V} / \\mathrm{V}$, so $L=202 \\times 0.1=20.2$ and\n\n$$\n\\frac{v_{o}}{v_{s i g}}=\\frac{1 / b}{1+1 / L}=\\frac{10}{1+1 / 20.2}=9.528 \\mathrm{~V} / \\mathrm{V}\n$$\n\nThis is in reasonable agreement with the result from Example 7.9b.\n\nApply direct calculation to find the signal-to-load gain $A=i_{o} / i_{s i g}$ for the circuit in EXAMPLE 7.22, Example 7.18b.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.40a, including $R_{s i g}$ and $R_{L}$. The resulting configuration is shown in Fig. 7.47, where $R_{s i g}$ is in shunt and $R_{L}$ is in series, in line with the current feedback topology. Thus, Eq. (7.57) is adjusted to\n\n$$\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{R_{s i g} / / r_{i} / /\\left(R_{1}+R_{2}\\right)}{r_{o}+R_{L}+\\left(R_{1} / / R_{2}\\right)} a_{v}=-\\frac{1.0 / / 100 / /(1.0+9.0)}{1.0+2.0+(1.0 / / 9.0)} 10^{3}=-231 \\mathrm{~A} / \\mathrm{A}\n$$\n\nWith $b$ as given in Eq. (7.58), or $b=-0.1 \\mathrm{~A} / \\mathrm{A}$, we obtain\n\n$$\n\\frac{i_{o}}{i_{s i g}}=\\frac{a}{1+a b}=\\frac{-231}{1+(-231)(-0.1)}=-9.585 \\mathrm{~A} / \\mathrm{A}\n$$\n\nThis is in reasonable agreement with the result from Example 7.18b.\nimage_name:FIGURE 7.47\ndescription:\n[\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: -Vd, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: -Vd, N2: X1}\nname: R1, type: Resistor, value: R1, ports: {N1: X1, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: X2, N2: vo1}\nname: ie, type: CurrentSource, value: ie, ports: {Np: -Vd, Nn: GND}\nname: Av Vd, type: OpAmp, value: Av Vd, ports: {InP: -Vd, InN: GND, OutP: X2, OutN: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: x2, N2: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\n]\nextrainfo:The circuit is a modified current amplifier with external loading due to Rsig and RL. It uses an op-amp with feedback to control the output current io.\n\nFIGURE 7.47 Modifying the basic current amplifier of Fig. 7.40a to account for external loading due to $R_{\\text {sig }}$ and $R_{L}$."
},
{
    "text": "As depicted in Figs. 7.22 and 7.41, once we have $R_{i}, R_{o}$, and the unloaded gain $A_{o c}$ or $A_{s c}$, we can determine the signal-to-source gain for a non-ideal driving source and an arbitrary output load. However, there is often a need to directly calculate the signal-to-load gain without intermediate calculations of $R_{i}$ and $R_{o}$. This is accomplished by incorporating the signal source resistance $R_{\\text {sig }}$ and the load resistance $R_{L}$ into the basic amplifier circuit when computing its open-loop gain $a$. Consequently, the source-to-load gain is simply $A=a /(1+a b)$. We will illustrate this for voltage and current amplifiers, though the method is also applicable to the other two amplifier types.\n\n#### EXAMPLE 7.21\n\nUsing direct calculation, determine the signal-to-load gain $A=v_{o} / v_{\\text {sig }}$ for Example 7.9b, where $a_{v}=1000 \\mathrm{~V} / \\mathrm{V}, r_{i}=10 \\mathrm{k} \\Omega, r_{o}=1.0 \\mathrm{k} \\Omega, R_{1}=1.0 \\mathrm{k} \\Omega, R_{2}=9.0 \\mathrm{k} \\Omega$, $R_{s i g}=20 \\mathrm{k} \\Omega$, and $R_{L}=2.0 \\mathrm{k} \\Omega$.\nimage_name:FIGURE 7.46\ndescription:\n[\nname: Ve, type: VoltageSource, value: Ve, ports: {Np: Ve, Nn: GND}\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: Ve, N2: V1}\nname: ri, type: Resistor, value: ri, ports: {N1: V1, N2: vf}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vf, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\nname: OpAmp, type: OpAmp, ports: {InP: V1, InN: GND, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: OC, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: OC}\n]\nextrainfo:The circuit is a voltage amplifier with external loading resistors Rsig and RL. It includes an operational amplifier with gain av and internal resistances ri and ro, configured for voltage amplification.\n\nFIGURE $\\mathbf{7 . 4 6}$ Modifying the basic voltage amplifier of\nFig. 7.21a to account for external loading due to $R_{\\text {sig }}$ and $R_{L}$.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.21a, incorporating $R_{s i g}$ and $R_{L}$. This results in the circuit shown in Fig. 7.46, where $R_{s i g}$ is in series and $R_{L}$ is in shunt, consistent with the current topology. Thus, Eq. (7.46) modifies to\n\n$$\n\\begin{aligned}\n& a=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{R_{s i g}+r_{i}+\\left(R_{1} / / R_{2}\\right)} a_{v} \\frac{\\left(R_{1}+R_{2}\\right) / / R_{L}}{r_{o}+\\left[\\left(R_{1}+R_{2}\\right) / / R_{L}\\right]} \\\\\n& \\text { or } \\\\\n& \\begin{aligned}\na & =\\frac{10}{20+10+(1.0 / / 9.0)} 1000 \\frac{(1.0+9.0) / / 2.0}{1+[(1.0+9.0) / 2.0]} \\\\\n& =0.324 \\times 1000 \\times 0.625=202 \\mathrm{~V} / \\mathrm{V}\n\\end{aligned}\n\\end{aligned}\n$$\n\nBy Eq. (7.48), $b$ remains $0.1 \\mathrm{~V} / \\mathrm{V}$, so $L=202 \\times 0.1=20.2$ and\n\n$$\n\\frac{v_{o}}{v_{s i g}}=\\frac{1 / b}{1+1 / L}=\\frac{10}{1+1 / 20.2}=9.528 \\mathrm{~V} / \\mathrm{V}\n$$\n\nThis is in reasonable agreement with the result of Example 7.9b.\n\nUse direct calculation to find the signal-to-load gain $A=i_{o} / i_{s i g}$ for the circuit in\nEXAMPLE 7.22 Example 7.18b.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.40a, including $R_{s i g}$ and $R_{L}$. The resulting circuit is shown in Fig. 7.47, where $R_{s i g}$ is in shunt and $R_{L}$ is in series, in line with the current feedback topology. Thus, Eq. (7.57) modifies to\n\n$$\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{R_{s i g} / / r_{i} / /\\left(R_{1}+R_{2}\\right)}{r_{o}+R_{L}+\\left(R_{1} / / R_{2}\\right)} a_{v}=-\\frac{1.0 / / 100 / /(1.0+9.0)}{1.0+2.0+(1.0 / / 9.0)} 10^{3}=-231 \\mathrm{~A} / \\mathrm{A}\n$$\n\nWith $b$ as given in Eq. (7.58), or $b=-0.1 \\mathrm{~A} / \\mathrm{A}$, we obtain\n\n$$\n\\frac{i_{o}}{i_{s i g}}=\\frac{a}{1+a b}=\\frac{-231}{1+(-231)(-0.1)}=-9.585 \\mathrm{~A} / \\mathrm{A}\n$$\n\nThis is in reasonable agreement with the result of Example 7.18b.\nimage_name:FIGURE 7.47\ndescription:\n[\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: -Vd, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: -Vd, N2: X1}\nname: R1, type: Resistor, value: R1, ports: {N1: X1, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: X2, N2: vo1}\nname: ie, type: CurrentSource, value: ie, ports: {Np: -Vd, Nn: GND}\nname: Av Vd, type: OpAmp, value: Av Vd, ports: {InP: -Vd, InN: GND, OutP: X2, OutN: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: x2, N2: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\n]\nextrainfo:The circuit is a modified current amplifier with external loading due to Rsig and RL. It uses an op-amp with feedback to control the output current io.\n\nFIGURE 7.47 Modifying the basic current amplifier of\nFig. 7.40a to account for external loading due to $R_{\\text {sig }}$ and $R_{L}$."
},
{
    "text": "As depicted in Figs. 7.22 and 7.41, knowing $R_{i}$, $R_{o}$, and the unloaded gain $A_{o c}$ or $A_{s c}$ allows us to determine the signal-to-source gain for a non-ideal driving source and an arbitrary output load. However, there is often a need to directly find the signal-to-load gain without the intermediate steps of calculating $R_{i}$ and $R_{o}$. This can be achieved by incorporating the signal source resistance $R_{\\text {sig }}$ and the load resistance $R_{L}$ into the basic amplifier circuit when determining its open-loop gain $a$. Consequently, the source-to-load gain is simply $A=a /(1+a b)$. We will illustrate this for voltage and current amplifiers, though the method is also applicable to the other two amplifier types.\n\n#### EXAMPLE 7.21\n\nUsing direct calculation, determine the signal-to-load gain $A=v_{o} / v_{\\text {sig }}$ for Example 7.9b, where $a_{v}=1000 \\mathrm{~V} / \\mathrm{V}, r_{i}=10 \\mathrm{k} \\Omega, r_{o}=1.0 \\mathrm{k} \\Omega, R_{1}=1.0 \\mathrm{k} \\Omega, R_{2}=9.0 \\mathrm{k} \\Omega, R_{s i g}=20 \\mathrm{k} \\Omega$, and $R_{L}=2.0 \\mathrm{k} \\Omega$.\nimage_name:FIGURE 7.46\ndescription:\n[\nname: Ve, type: VoltageSource, value: Ve, ports: {Np: Ve, Nn: GND}\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: Ve, N2: V1}\nname: ri, type: Resistor, value: ri, ports: {N1: V1, N2: vf}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vf, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\nname: OpAmp, type: OpAmp, ports: {InP: V1, InN: GND, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: OC, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: OC}\n]\nextrainfo:The circuit is a voltage amplifier with external loading resistors Rsig and RL. It includes an operational amplifier with gain av and internal resistances ri and ro, configured for voltage amplification.\n\nFIGURE $\\mathbf{7 . 4 6}$ Modifying the basic voltage amplifier of\nFig. 7.21a to account for external loading due to $R_{\\text {sig }}$ and $R_{L}$.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.21a, incorporating $R_{s i g}$ and $R_{L}$. This results in the configuration shown in Fig. 7.46, where $R_{s i g}$ is in series and $R_{L}$ is in shunt, consistent with the current topology. Therefore, Eq. (7.46) is modified to\n\n$$\n\\begin{aligned}\n& a=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{R_{s i g}+r_{i}+\\left(R_{1} / / R_{2}\\right)} a_{v} \\frac{\\left(R_{1}+R_{2}\\right) / / R_{L}}{r_{o}+\\left[\\left(R_{1}+R_{2}\\right) / / R_{L}\\right]} \\\\\n& \\text { or } \\\\\n& \\begin{aligned}\na & =\\frac{10}{20+10+(1.0 / / 9.0)} 1000 \\frac{(1.0+9.0) / / 2.0}{1+[(1.0+9.0) / 2.0]} \\\\\n& =0.324 \\times 1000 \\times 0.625=202 \\mathrm{~V} / \\mathrm{V}\n\\end{aligned}\n\\end{aligned}\n$$\n\nUsing Eq. (7.48), $b$ remains $0.1 \\mathrm{~V} / \\mathrm{V}$, so $L=202 \\times 0.1=20.2$ and\n\n$$\n\\frac{v_{o}}{v_{s i g}}=\\frac{1 / b}{1+1 / L}=\\frac{10}{1+1 / 20.2}=9.528 \\mathrm{~V} / \\mathrm{V}\n$$\n\nThis is in reasonable agreement with the result from Example 7.9b.\n\nUse direct calculation to find the signal-to-load gain $A=i_{o} / i_{s i g}$ for the circuit in\nEXAMPLE 7.22 Example 7.18b.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.40a, including $R_{s i g}$ and $R_{L}$. The resulting circuit is shown in Fig. 7.47, where $R_{s i g}$ is in shunt and $R_{L}$ is in series, in line with the current feedback topology. Thus, Eq. (7.57) is modified to\n\n$$\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{R_{s i g} / / r_{i} / /\\left(R_{1}+R_{2}\\right)}{r_{o}+R_{L}+\\left(R_{1} / / R_{2}\\right)} a_{v}=-\\frac{1.0 / / 100 / /(1.0+9.0)}{1.0+2.0+(1.0 / / 9.0)} 10^{3}=-231 \\mathrm{~A} / \\mathrm{A}\n$$\n\nWith $b$ as given in Eq. (7.58), or $b=-0.1 \\mathrm{~A} / \\mathrm{A}$, we obtain\n\n$$\n\\frac{i_{o}}{i_{s i g}}=\\frac{a}{1+a b}=\\frac{-231}{1+(-231)(-0.1)}=-9.585 \\mathrm{~A} / \\mathrm{A}\n$$\n\nThis result is in reasonable agreement with that of Example 7.18b.\nimage_name:FIGURE 7.47\ndescription:\n[\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: -Vd, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: -Vd, N2: X1}\nname: R1, type: Resistor, value: R1, ports: {N1: X1, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: X2, N2: vo1}\nname: ie, type: CurrentSource, value: ie, ports: {Np: -Vd, Nn: GND}\nname: Av Vd, type: OpAmp, value: Av Vd, ports: {InP: -Vd, InN: GND, OutP: X2, OutN: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: x2, N2: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\n]\nextrainfo:The circuit is a modified current amplifier with external loading due to Rsig and RL. It uses an op-amp with feedback to control the output current io.\n\nFIGURE 7.47 Modifying the basic current amplifier of\nFig. 7.40a to account for external loading due to $R_{\\text {sig }}$ and $R_{L}$."
},
{
    "text": "As depicted in Figs. 7.22 and 7.41, once $R_{i}$, $R_{o}$, and the unloaded gain $A_{o c}$ or $A_{s c}$ are known, we can determine the signal-to-source gain for a non-ideal driving source and an arbitrary output load. However, there is often a need to directly find the signal-to-load gain without the intermediate steps of calculating $R_{i}$ and $R_{o}$. This is accomplished by incorporating the signal source resistance $R_{\\text{sig}}$ and the load resistance $R_{L}$ into the basic amplifier circuit when computing its open-loop gain $a$. Consequently, the source-to-load gain is simply $A=a/(1+a b)$. We will illustrate this for voltage and current amplifiers, though the method is also applicable to the other two amplifier types.\n\n#### EXAMPLE 7.21\n\nUtilize direct calculation to determine the signal-to-load gain $A=v_{o}/v_{\\text{sig}}$ for Example 7.9b, given $a_{v}=1000 \\mathrm{~V}/\\mathrm{V}$, $r_{i}=10 \\mathrm{k}\\Omega$, $r_{o}=1.0 \\mathrm{k}\\Omega$, $R_{1}=1.0 \\mathrm{k}\\Omega$, $R_{2}=9.0 \\mathrm{k}\\Omega$, $R_{\\text{sig}}=20 \\mathrm{k}\\Omega$, and $R_{L}=2.0 \\mathrm{k}\\Omega$.\nimage_name: FIGURE 7.46\ndescription:\n[\nname: Ve, type: VoltageSource, value: Ve, ports: {Np: Ve, Nn: GND}\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: Ve, N2: V1}\nname: ri, type: Resistor, value: ri, ports: {N1: V1, N2: vf}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vf, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\nname: OpAmp, type: OpAmp, ports: {InP: V1, InN: GND, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: OC, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: OC}\n]\nextrainfo: The circuit is a voltage amplifier with external loading resistors Rsig and RL. It includes an operational amplifier with gain av and internal resistances ri and ro, configured for voltage amplification.\n\nFIGURE $\\mathbf{7.46}$ Adjusting the basic voltage amplifier of Fig. 7.21a to consider external loading from $R_{\\text{sig}}$ and $R_{L}$.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.21a, incorporating $R_{\\text{sig}}$ and $R_{L}$. This results in the circuit of Fig. 7.46, where $R_{\\text{sig}}$ is in series and $R_{L}$ is in shunt, consistent with the current topology. Therefore, Eq. (7.46) modifies to\n\n$$\n\\begin{aligned}\n& a=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{R_{\\text{sig}}+r_{i}+\\left(R_{1}//R_{2}\\right)} a_{v} \\frac{\\left(R_{1}+R_{2}\\right)//R_{L}}{r_{o}+\\left[\\left(R_{1}+R_{2}\\right)//R_{L}\\right]} \\\\\n& \\text{or} \\\\\n& \\begin{aligned}\na & =\\frac{10}{20+10+(1.0//9.0)} 1000 \\frac{(1.0+9.0)//2.0}{1+[(1.0+9.0)//2.0]} \\\\\n& =0.324 \\times 1000 \\times 0.625=202 \\mathrm{~V}/\\mathrm{V}\n\\end{aligned}\n\\end{aligned}\n$$\n\nFrom Eq. (7.48), $b=0.1 \\mathrm{~V}/\\mathrm{V}$, so $L=202 \\times 0.1=20.2$ and\n\n$$\n\\frac{v_{o}}{v_{\\text{sig}}}=\\frac{1/b}{1+1/L}=\\frac{10}{1+1/20.2}=9.528 \\mathrm{~V}/\\mathrm{V}\n$$\n\nThis is reasonably consistent with the result of Example 7.9b.\n\nUse direct calculation to find the signal-to-load gain $A=i_{o}/i_{\\text{sig}}$ for the circuit in EXAMPLE 7.22, corresponding to Example 7.18b.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.40a, including $R_{\\text{sig}}$ and $R_{L}$. The outcome is shown in Fig. 7.47, where $R_{\\text{sig}}$ is in shunt and $R_{L}$ is in series, in line with the present feedback topology. Thus, Eq. (7.57) alters to\n\n$$\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{R_{\\text{sig}}//r_{i}//(R_{1}+R_{2})}{r_{o}+R_{L}+(R_{1}//R_{2})} a_{v}=-\\frac{1.0//100//(1.0+9.0)}{1.0+2.0+(1.0//9.0)} 10^{3}=-231 \\mathrm{~A}/\\mathrm{A}\n$$\n\nWith $b$ as given in Eq. (7.58), or $b=-0.1 \\mathrm{~A}/\\mathrm{A}$, we obtain\n\n$$\n\\frac{i_{o}}{i_{\\text{sig}}}=\\frac{a}{1+a b}=\\frac{-231}{1+(-231)(-0.1)}=-9.585 \\mathrm{~A}/\\mathrm{A}\n$$\n\nThis aligns reasonably well with the result of Example 7.18b.\nimage_name: FIGURE 7.47\ndescription:\n[\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: -Vd, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: -Vd, N2: X1}\nname: R1, type: Resistor, value: R1, ports: {N1: X1, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: X2, N2: vo1}\nname: ie, type: CurrentSource, value: ie, ports: {Np: -Vd, Nn: GND}\nname: Av Vd, type: OpAmp, value: Av Vd, ports: {InP: -Vd, InN: GND, OutP: X2, OutN: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: x2, N2: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\n]\nextrainfo: The circuit is a modified current amplifier with external loading due to Rsig and RL. It uses an op-amp with feedback to control the output current io.\n\nFIGURE 7.47 Adjusting the basic current amplifier of Fig. 7.40a to account for external loading from $R_{\\text{sig}}$ and $R_{L}$."
},
{
    "text": "As depicted in Figs. 7.22 and 7.41, once we have $R_{i}$, $R_{o}$, and either the unloaded gain $A_{o c}$ or $A_{s c}$, we can determine the signal-to-source gain for a scenario involving a non-ideal driving source and an arbitrary output load. However, there is often a requirement to directly compute the signal-to-load gain without the intermediate steps of calculating $R_{i}$ and $R_{o}$. This is accomplished by incorporating the signal source resistance $R_{\\text{sig}}$ and the load resistance $R_{L}$ into the basic amplifier circuit when determining its open-loop gain $a$. Consequently, the source-to-load gain is simply expressed as $A=a/(1+ab)$. We will illustrate this for voltage and current amplifiers, though the method is also applicable to the other two types of amplifiers.\n\n#### EXAMPLE 7.21\n\nUtilize direct computation to determine the signal-to-load gain $A=v_{o}/v_{\\text{sig}}$ for Example 7.9b, given $a_{v}=1000 \\mathrm{~V}/\\mathrm{V}$, $r_{i}=10 \\mathrm{k}\\Omega$, $r_{o}=1.0 \\mathrm{k}\\Omega$, $R_{1}=1.0 \\mathrm{k}\\Omega$, $R_{2}=9.0 \\mathrm{k}\\Omega$, $R_{\\text{sig}}=20 \\mathrm{k}\\Omega$, and $R_{L}=2.0 \\mathrm{k}\\Omega$.\nimage_name: FIGURE 7.46\ndescription:\n[\nname: Ve, type: VoltageSource, value: Ve, ports: {Np: Ve, Nn: GND}\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: Ve, N2: V1}\nname: ri, type: Resistor, value: ri, ports: {N1: V1, N2: vf}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vf, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\nname: OpAmp, type: OpAmp, ports: {InP: V1, InN: GND, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: OC, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: OC}\n]\nextrainfo: The circuit is a voltage amplifier with external loading resistors Rsig and RL. It includes an operational amplifier with gain av and internal resistances ri and ro, configured for voltage amplification.\n\nFIGURE $\\mathbf{7.46}$ Adjusting the basic voltage amplifier of Fig. 7.21a to consider external loading from $R_{\\text{sig}}$ and $R_{L}$.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.21a, incorporating $R_{\\text{sig}}$ and $R_{L}$. This leads to the configuration shown in Fig. 7.46, where $R_{\\text{sig}}$ is in series and $R_{L}$ is in shunt, consistent with the current topology. Thus, Eq. (7.46) is modified to\n\n$$\n\\begin{aligned}\n& a=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{R_{\\text{sig}}+r_{i}+\\left(R_{1}//R_{2}\\right)} a_{v} \\frac{\\left(R_{1}+R_{2}\\right)//R_{L}}{r_{o}+\\left[\\left(R_{1}+R_{2}\\right)//R_{L}\\right]} \\\\\n& \\text{or} \\\\\n& \\begin{aligned}\na & =\\frac{10}{20+10+(1.0//9.0)} 1000 \\frac{(1.0+9.0)//2.0}{1+[(1.0+9.0)//2.0]} \\\\\n& =0.324 \\times 1000 \\times 0.625=202 \\mathrm{~V}/\\mathrm{V}\n\\end{aligned}\n\\end{aligned}\n$$\n\nFrom Eq. (7.48), $b$ remains $0.1 \\mathrm{~V}/\\mathrm{V}$, so $L=202 \\times 0.1=20.2$ and\n\n$$\n\\frac{v_{o}}{v_{\\text{sig}}}=\\frac{1/b}{1+1/L}=\\frac{10}{1+1/20.2}=9.528 \\mathrm{~V}/\\mathrm{V}\n$$\n\nThis is in reasonable agreement with the result from Example 7.9b.\n\nUse direct calculation to find the signal-to-load gain $A=i_{o}/i_{\\text{sig}}$ for the circuit in EXAMPLE 7.22, Example 7.18b.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.40a, including $R_{\\text{sig}}$ and $R_{L}$. The resulting configuration is shown in Fig. 7.47, where $R_{\\text{sig}}$ is in shunt and $R_{L}$ is in series, aligning with the current feedback topology. Thus, Eq. (7.57) is modified to\n\n$$\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{R_{\\text{sig}}//r_{i}//\\left(R_{1}+R_{2}\\right)}{r_{o}+R_{L}+\\left(R_{1}//R_{2}\\right)} a_{v}=-\\frac{1.0//100//(1.0+9.0)}{1.0+2.0+(1.0//9.0)} 10^{3}=-231 \\mathrm{~A}/\\mathrm{A}\n$$\n\nWith $b$ as given in Eq. (7.58), or $b=-0.1 \\mathrm{~A}/\\mathrm{A}$, we obtain\n\n$$\n\\frac{i_{o}}{i_{\\text{sig}}}=\\frac{a}{1+ab}=\\frac{-231}{1+(-231)(-0.1)}=-9.585 \\mathrm{~A}/\\mathrm{A}\n$$\n\nThis is in reasonable agreement with the result from Example 7.18b.\nimage_name: FIGURE 7.47\ndescription:\n[\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: -Vd, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: -Vd, N2: X1}\nname: R1, type: Resistor, value: R1, ports: {N1: X1, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: X2, N2: vo1}\nname: ie, type: CurrentSource, value: ie, ports: {Np: -Vd, Nn: GND}\nname: Av Vd, type: OpAmp, value: Av Vd, ports: {InP: -Vd, InN: GND, OutP: X2, OutN: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: x2, N2: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\n]\nextrainfo: The circuit is a modified current amplifier with external loading due to Rsig and RL. It uses an op-amp with feedback to control the output current io.\n\nFIGURE 7.47 Adjusting the basic current amplifier of Fig. 7.40a to account for external loading from $R_{\\text{sig}}$ and $R_{L}$."
},
{
    "text": "As depicted in Figs. 7.22 and 7.41, once we have $R_{i}, R_{o}$, and the unloaded gain $A_{o c}$ or $A_{s c}$, we can determine the signal-to-source gain for a non-ideal driving source and an arbitrary output load. However, there is often a need to directly find the signal-to-load gain without undergoing the intermediate calculations of $R_{i}$ and $R_{o}$. This is accomplished by incorporating the signal source resistance $R_{\\text{sig}}$ and the load resistance $R_{L}$ into the basic amplifier circuit when calculating its open-loop gain $a$. Consequently, the source-to-load gain is simply $A=a/(1+a b)$. We will illustrate this for voltage and current amplifiers, though the method also applies to the other two amplifier types.\n\n#### EXAMPLE 7.21\n\nUsing direct calculation, determine the signal-to-load gain $A=v_{o}/v_{\\text{sig}}$ for Example 7.9b, where $a_{v}=1000 \\mathrm{~V}/\\mathrm{V}, r_{i}=10 \\mathrm{k}\\Omega, r_{o}=1.0 \\mathrm{k}\\Omega, R_{1}=1.0 \\mathrm{k}\\Omega, R_{2}=9.0 \\mathrm{k}\\Omega, R_{\\text{sig}}=20 \\mathrm{k}\\Omega$, and $R_{L}=2.0 \\mathrm{k}\\Omega$.\nimage_name: FIGURE 7.46\ndescription:\n[\nname: Ve, type: VoltageSource, value: Ve, ports: {Np: Ve, Nn: GND}\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: Ve, N2: V1}\nname: ri, type: Resistor, value: ri, ports: {N1: V1, N2: vf}\nname: R1, type: Resistor, value: R1, ports: {N1: Vf, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vf, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\nname: OpAmp, type: OpAmp, ports: {InP: V1, InN: GND, OutP: Vo}\nname: R1, type: Resistor, value: R1, ports: {N1: OC, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: vo, N2: OC}\n]\nextrainfo: The circuit is a voltage amplifier with external loading resistors Rsig and RL. It includes an operational amplifier with gain av and internal resistances ri and ro, configured for voltage amplification.\n\nFIGURE $\\mathbf{7.46}$ Modifying the basic voltage amplifier of Fig. 7.21a to account for external loading due to $R_{\\text{sig}}$ and $R_{L}$.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.21a, incorporating $R_{\\text{sig}}$ and $R_{L}$. This results in the circuit of Fig. 7.46, where $R_{\\text{sig}}$ is in series and $R_{L}$ is in shunt, consistent with the current topology. Thus, Eq. (7.46) modifies to\n\n$$\n\\begin{aligned}\n& a=\\frac{v_{o}}{v_{\\varepsilon}}=\\frac{r_{i}}{R_{\\text{sig}}+r_{i}+\\left(R_{1}//R_{2}\\right)} a_{v} \\frac{\\left(R_{1}+R_{2}\\right)//R_{L}}{r_{o}+\\left[\\left(R_{1}+R_{2}\\right)//R_{L}\\right]} \\\\\n& \\text{or} \\\\\n& \\begin{aligned}\na & =\\frac{10}{20+10+(1.0//9.0)} 1000 \\frac{(1.0+9.0)//2.0}{1+[(1.0+9.0)//2.0]} \\\\\n& =0.324 \\times 1000 \\times 0.625=202 \\mathrm{~V}/\\mathrm{V}\n\\end{aligned}\n\\end{aligned}\n$$\n\nBy Eq. (7.48), $b=0.1 \\mathrm{~V}/\\mathrm{V}$, so $L=202 \\times 0.1=20.2$ and\n\n$$\n\\frac{v_{o}}{v_{\\text{sig}}}=\\frac{1/b}{1+1/L}=\\frac{10}{1+1/20.2}=9.528 \\mathrm{~V}/\\mathrm{V}\n$$\n\nThis is in reasonable agreement with the result of Example 7.9b.\n\nUsing direct calculation, find the signal-to-load gain $A=i_{o}/i_{\\text{sig}}$ for the circuit of Example 7.18b.\n\n#### Solution\n\nRedraw the circuit of Fig. 7.40a, including $R_{\\text{sig}}$ and $R_{L}$. The resulting circuit is shown in Fig. 7.47, where $R_{\\text{sig}}$ is in shunt and $R_{L}$ is in series, aligning with the current feedback topology. Thus, Eq. (7.57) alters to\n\n$$\na=\\frac{i_{o}}{i_{\\varepsilon}}=-\\frac{R_{\\text{sig}}//r_{i}//\\left(R_{1}+R_{2}\\right)}{r_{o}+R_{L}+\\left(R_{1}//R_{2}\\right)} a_{v}=-\\frac{1.0//100//(1.0+9.0)}{1.0+2.0+(1.0//9.0)} 10^{3}=-231 \\mathrm{~A}/\\mathrm{A}\n$$\n\nWith $b$ as given in Eq. (7.58), or $b=-0.1 \\mathrm{~A}/\\mathrm{A}$, we obtain\n\n$$\n\\frac{i_{o}}{i_{\\text{sig}}}=\\frac{a}{1+a b}=\\frac{-231}{1+(-231)(-0.1)}=-9.585 \\mathrm{~A}/\\mathrm{A}\n$$\n\nThis is in reasonable agreement with the result of Example 7.18b.\nimage_name: FIGURE 7.47\ndescription:\n[\nname: Rsig, type: Resistor, value: Rsig, ports: {N1: -Vd, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: -Vd, N2: X1}\nname: R1, type: Resistor, value: R1, ports: {N1: X1, N2: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: X2, N2: vo1}\nname: ie, type: CurrentSource, value: ie, ports: {Np: -Vd, Nn: GND}\nname: Av Vd, type: OpAmp, value: Av Vd, ports: {InP: -Vd, InN: GND, OutP: X2, OutN: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: x2, N2: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: X2, N2: GND}\n]\nextrainfo: The circuit is a modified current amplifier with external loading due to Rsig and RL. It uses an op-amp with feedback to control the output current io.\n\nFIGURE 7.47 Modifying the basic current amplifier of Fig. 7.40a to account for external loading due to $R_{\\text{sig}}$ and $R_{L}$."
}
]