# Introduction to Microelectronics

Over the past five decades, microelectronics has revolutionized our lives. While beyond the realm of possibility a few decades ago, cellphones, digital cameras, laptop computers, and many other electronic products have now become an integral part of our daily affairs.

Learning microelectronics can be fun. As we learn how each device operates, how devices comprise circuits that perform interesting and useful functions, and how circuits form sophisticated systems, we begin to see the beauty of microelectronics and appreciate the reasons for its explosive growth.

This chapter gives an overview of microelectronics so as to provide a context for the material presented in this book. We introduce examples of microelectronic systems and identify important circuit "functions" that they employ. We also provide a review of basic circuit theory to refresh the reader's memory.

## 1.1 ELECTRONICS VERSUS MICROELECTRONICS

The general area of electronics began about a century ago and proved instrumental in the radio and radar communications used during the two world wars. Early systems incorporated "vacuum tubes," amplifying devices that operated with the flow of electrons between plates in a vacuum chamber. However, the finite lifetime and the large size of vacuum tubes motivated researchers to seek an electronic device with better properties.

The first transistor was invented in the 1940s and rapidly displaced vacuum tubes. It exhibited a very long (in principle, infinite) lifetime and occupied a much smaller volume (e.g., less than $1 \mathrm{~cm}^{3}$ in packaged form) than vacuum tubes did.

But it was not until 1960s that the field of microelectronics, i.e., the science of integrating many transistors on one chip, began. Early "integrated circuits" (ICs) contained only a handful of devices, but advances in the technology soon made it possible to dramatically increase the complexity of "microchips."

Example
1.1

Today's microprocessors contain about 100 million transistors in a chip area of approximately $3 \mathrm{~cm} \times 3 \mathrm{~cm}$. (The chip is a few hundred microns thick.) Suppose integrated circuits were not invented and we attempted to build a processor using 100 million "discrete" transistors. If each device occupies a volume of $3 \mathrm{~mm} \times 3 \mathrm{~mm} \times 3 \mathrm{~mm}$, determine the minimum volume for the processor. What other issues would arise in such an implementation?

Solution The minimum volume is given by $27 \mathrm{~mm}^{3} \times 10^{8}$, i.e., a cube 1.4 m on each side! Of course, the wires connecting the transistors would increase the volume substantially.

In addition to occupying a large volume, this discrete processor would be extremely slow; the signals would need to travel on wires as long as 1.4 m ! Furthermore, if each discrete transistor costs 1 cent and weighs 1 g , each processor unit would be priced at one million dollars and weigh 100 tons!

Exercise How much power would such a system consume if each transistor dissipates $10 \mu \mathrm{~W}$ ?

This book deals mostly with microelectronics while providing sufficient foundation for general (perhaps discrete) electronic systems as well.

## 1.2 EXAMPLES OF ELECTRONIC SYSTEMS

At this point, we introduce two examples of microelectronic systems and identify some of the important building blocks that we should study in basic electronics.

### 1.2.1 Cellular Telephone

Cellular telephones were developed in the 1980s and rapidly became popular in the 1990s. Today's cellphones contain a great deal of sophisticated analog and digital electronics that lie well beyond the scope of this book. But our objective here is to see how the concepts described in this book prove relevant to the operation of a cellphone.

Suppose you are speaking with a friend on your cellphone. Your voice is converted to an electric signal by a microphone and, after some processing, transmitted by the antenna. The signal produced by your antenna is picked up by your friend's receiver and, after some processing, applied to the speaker [Fig. 1.1(a)]. What goes on in these black boxes? Why are they needed?
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-02.jpg?height=544&width=2884&top_left_y=4420&top_left_x=704)

Figure 1.1 (a) Simplified view of a cellphone, (b) further simplification of transmit and receive paths.

Let us attempt to omit the black boxes and construct the simple system shown in Fig. 1.1(b). How well does this system work? We make two observations. First, our voice contains frequencies from 20 Hz to 20 kHz (called the "voice band"). Second, for an antenna to operate efficiently, i.e., to convert most of the electrical signal to electromagnetic radiation, its dimension must be a significant fraction (e.g., $25 \%$ ) of the wavelength. Unfortunately, a frequency range of 20 Hz to 20 kHz translates to a wavelength ${ }^{1}$ of $1.5 \times 10^{7}$ m to $1.5 \times 10^{4} \mathrm{~m}$, requiring gigantic antennas for each cellphone. Conversely, to obtain a reasonable antenna length, e.g., 5 cm , the wavelength must be around 20 cm and the frequency around 1.5 GHz .

How do we "convert" the voice band to a gigahertz center frequency? One possible approach is to multiply the voice signal, $x(t)$, by a sinusoid, $A \cos \left(2 \pi f_{c} t\right)$ [Fig. 1.2(a)]. Since multiplication in the time domain corresponds to convolution in the frequency domain, and since the spectrum of the sinusoid consists of two impulses at $\pm f_{c}$, the voice spectrum is simply shifted (translated) to $\pm f_{c}$ [Fig. 1.2(b)]. Thus, if $f_{c}=1 \mathrm{GHz}$, the output occupies a bandwidth of 40 kHz centered at 1 GHz . This operation is an example of "amplitude modulation." ${ }^{2}$
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-03.jpg?height=1600&width=3083&top_left_y=2111&top_left_x=502)

Figure 1.2 (a) Multiplication of a voice signal by a sinusoid, (b) equivalent operation in the frequency domain.

We therefore postulate that the black box in the transmitter of Fig. 1.1(a) contains a multiplier, ${ }^{3}$ as depicted in Fig. 1.3(a). But two other issues arise. First, the cellphone must deliver a relatively large voltage swing (e.g., $20 \mathrm{~V}_{p p}$ ) to the antenna so that the radiated power can reach across distances of several kilometers, thereby requiring a "power amplifier" between the multiplier and the antenna. Second, the sinusoid, $A \cos 2 \pi f_{c} t$, must be produced by an "oscillator." We thus arrive at the transmitter architecture shown in Fig. 1.3(b).

[^0]![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-04.jpg?height=926&width=2638&top_left_y=479&top_left_x=764)

Figure 1.3 (a) Simple transmitter, (b) more complete transmitter.

Let us now turn our attention to the receive path of the cellphone, beginning with the simple realization illustrated in Fig. 1.1(b). Unfortunately, this topology fails to operate with the principle of modulation: if the signal received by the antenna resides around a gigahertz center frequency, the audio speaker cannot produce meaningful information. In other words, a means of translating the spectrum back to zero center frequency is necessary. For example, as depicted in Fig. 1.4(a), multiplication by a sinusoid, $A \cos \left(2 \pi f_{c} t\right)$, translates the spectrum to left and right by $f_{c}$, restoring the original voice band. The newly-generated components at $\pm 2 f_{c}$ can be removed by a low-pass filter. We thus arrive at the receiver topology shown in Fig. 1.4(b).
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-04.jpg?height=1771&width=3112&top_left_y=2859&top_left_x=510)

Figure 1.4 (a) Translation of modulated signal to zero center frequency, (b) simple receiver, (b) more complete receiver.

Our receiver design is still incomplete. The signal received by the antenna can be as low as a few tens of microvolts whereas the speaker may require swings of several tens
or hundreds of millivolts. That is, the receiver must provide a great deal of amplification ("gain") between the antenna and the speaker. Furthermore, since multipliers typically suffer from a high "noise" and hence corrupt the received signal, a "low-noise amplifier" must precede the multiplier. The overall architecture is depicted in Fig. 1.4(c).

Today's cellphones are much more sophisticated than the topologies developed above. For example, the voice signal in the transmitter and the receiver is applied to a digital signal processor (DSP) to improve the quality and efficiency of the communication. Nonetheless, our study reveals some of the fundamental building blocks of cellphones, e.g., amplifiers, oscillators, and filters, with the last two also utilizing amplification. We therefore devote a great deal of effort to the analysis and design of amplifiers.

Having seen the necessity of amplifiers, oscillators, and multipliers in both transmit and receive paths of a cellphone, the reader may wonder if "this is old stuff" and rather trivial compared to the state of the art. Interestingly, these building blocks still remain among the most challenging circuits in communication systems. This is because the design entails critical trade-offs between speed (gigahertz center frequencies), noise, power dissipation (i.e., battery lifetime), weight, cost (i.e., price of a cellphone), and many other parameters. In the competitive world of cellphone manufacturing, a given design is never "good enough" and the engineers are forced to further push the above trade-offs in each new generation of the product.

### 1.2.2 Digital Camera

Another consumer product that, by virtue of "going electronic," has dramatically changed our habits and routines is the digital camera. With traditional cameras, we received no immediate feedback on the quality of the picture that was taken, we were very careful in selecting and shooting scenes to avoid wasting frames, we needed to carry bulky rolls of film, and we would obtain the final result only in printed form. With digital cameras, on the other hand, we have resolved these issues and enjoy many other features that only electronic processing can provide, e.g., transmission of pictures through cellphones or ability to retouch or alter pictures by computers. In this section, we study the operation of the digital camera.

The "front end" of the camera must convert light to electricity, a task performed by an array (matrix) of "pixels." ${ }^{4}$ Each pixel consists of an electronic device (a "photodiode") that produces a current proportional to the intensity of the light that it receives. As illustrated in Fig. 1.5(a), this current flows through a capacitance, $C_{L}$, for a certain period of time, thereby developing a proportional voltage across it. Each pixel thus provides a voltage proportional to the "local" light density.

Now consider a camera with, say, 6.25 million pixels arranged in a $2500 \times 2500$ array [Fig. 1.5(b)]. How is the output voltage of each pixel sensed and processed? If each pixel contains its own electronic circuitry, the overall array occupies a very large area, raising the cost and the power dissipation considerably. We must therefore "time-share" the signal processing circuits among pixels. To this end, we follow the circuit of Fig. 1.5(a) with a simple, compact amplifier and a switch (within the pixel) [Fig. 1.5(c)]. Now, we connect a wire to the outputs of all 2500 pixels in a "column," turn on only one switch at a time, and apply the corresponding voltage to the "signal processing" block outside the column.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-06.jpg?height=623&width=1211&top_left_y=1504&top_left_x=650)
(a)
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-06.jpg?height=1594&width=805&top_left_y=550&top_left_x=1835)
(b)
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-06.jpg?height=1593&width=1005&top_left_y=539&top_left_x=2694)
(c)

Figure 1.5 (a) Operation of a photodiode, (b) array of pixels in a digital camera, (c) one column of the array.

The overall array consists of 2500 of such columns, with each column employing a dedicated signal processing block.

Example A digital camera is focused on a chess board. Sketch the voltage produced by one column 1.2 as a function of time.

Solution The pixels in each column receive light only from the white squares [Fig. 1.6(a)]. Thus, the column voltage alternates between a maximum for such pixels and zero for those receiving no light. The resulting waveform is shown in Fig. 1.6(b).
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-06.jpg?height=743&width=765&top_left_y=4007&top_left_x=645)
(a)
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-06.jpg?height=914&width=1057&top_left_y=3915&top_left_x=1504)
(b)
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-06.jpg?height=327&width=1019&top_left_y=4420&top_left_x=2704)
(c)

Figure 1.6 (a) Chess board captured by a digital camera, (b) voltage waveform of one column.

Exercise Plot the voltage if the first and second squares in each row have the same color.

What does each signal processing block do? Since the voltage produced by each pixel is an analog signal and can assume all values within a range, we must first "digitize" it by means of an "analog-to-digital converter" (ADC). A 6.25 megapixel array must thus incorporate 2500 ADCs. Since ADCs are relatively complex circuits, we may time-share one ADC between every two columns (Fig. 1.7), but requiring that the ADC operate twice as fast (why?). In the extreme case, we may employ a single, very fast ADC for all 2500 columns. In practice, the optimum choice lies between these two extremes.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-07.jpg?height=1468&width=2056&top_left_y=1230&top_left_x=1181)

Figure 1.7 Sharing one ADC between two columns of a pixel array.

Once in the digital domain, the "video" signal collected by the camera can be manipulated extensively. For example, to "zoom in," the digital signal processor (DSP) simply considers only a section of the array, discarding the information from the remaining pixels. Also, to reduce the required memory size, the processor "compresses" the video signal.

The digital camera exemplifies the extensive use of both analog and digital microelectronics. The analog functions include amplification, switching operations, and analog-todigital conversion, and the digital functions consist of subsequent signal processing and storage.

### 1.2.3 Analog Versus Digital

Amplifiers and ADCs are examples of analog functions, circuits that must process each point on a waveform (e.g., a voice signal) with great care to avoid effects such as noise and "distortion." By contrast, digital circuits deal with binary levels (ONEs and ZEROs) and, evidently, contain no analog functions. The reader may then say, "I have no intention of working for a cellphone or camera manufacturer and, therefore, need not learn about analog circuits." In fact, with digital communications, digital signal processors, and every other function becoming digital, is there any future for analog design?

Well, some of the assumptions in the above statements are incorrect. First, not every function can be realized digitally. The architectures of Figs. 1.3 and 1.4 must employ lownoise and low-power amplifiers, oscillators, and multipliers regardless of whether the actual communication is in analog or digital form. For example, a $20-\mu \mathrm{V}$ signal (analog or digital)
received by the antenna cannot be directly applied to a digital gate. Similarly, the video signal collectively captured by the pixels in a digital camera must be processed with low noise and distortion before it appears in the digital domain.

Second, digital circuits require analog expertise as the speed increases. Figure 1.8 exemplifies this point by illustrating two binary data waveforms, one at $100 \mathrm{Mb} / \mathrm{s}$ and another at $1 \mathrm{~Gb} / \mathrm{s}$. The finite risetime and falltime of the latter raises many issues in the operation of gates, flipflops, and other digital circuits, necessitating great attention to each point on the waveform.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-08.jpg?height=795&width=1543&top_left_y=1315&top_left_x=1563)

Figure 1.8 Data waveforms at $100 \mathrm{Mb} / \mathrm{s}$ and $1 \mathrm{~Gb} / \mathrm{s}$.

## 1.3 BASIC CONCEPTS*

Analysis of microelectronic circuits draws upon many concepts that are taught in basic courses on signals and systems and circuit theory. This section provides a brief review of these concepts so as to refresh the reader's memory and establish the terminology used throughout this book. The reader may first glance through this section to determine which topics need a review or simply return to this material as it becomes necessary later.

### 1.3.1 Analog and Digital Signals

An electric signal is a waveform that carries information. Signals that occur in nature can assume all values in a given range. Called "analog," such signals include voice, video, seismic, and music waveforms. Shown in Fig. 1.9(a), an analog voltage
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-08.jpg?height=954&width=2552&top_left_y=3713&top_left_x=1053)

Figure 1.9 (a) Analog signal, (b) effect of noise on analog signal.

[^1]waveform swings through a "continuum" of values and provides information at each instant of time.

While occurring all around us, analog signals are difficult to "process" due to sensitivities to such circuit imperfections as "noise" and "distortion." ${ }^{5}$ As an example, Figure 1.9(b) illustrates the effect of noise. Furthermore, analog signals are difficult to "store" because they require "analog memories" (e.g., capacitors).

By contrast, a digital signal assumes only a finite number of values at only certain points in time. Depicted in Fig. 1.10(a) is a "binary" waveform, which remains at only one of two levels for each period, $T$. So long as the two voltages corresponding to ONEs and ZEROs differ sufficiently, logical circuits sensing such a signal process it correctly-even if noise or distortion create some corruption [Fig. 1.10(b)]. We therefore consider digital signals more "robust" than their analog counterparts. The storage of binary signals (in a digital memory) is also much simpler.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-09.jpg?height=583&width=3095&top_left_y=1843&top_left_x=502)

Figure 1.10 (a) Digital signal, (b) effect of noise on digital signal.

The foregoing observations favor processing of signals in the digital domain, suggesting that inherently analog information must be converted to digital form as early as possible. Indeed, complex microelectronic systems such as digital cameras, camcorders, and compact disk (CD) recorders perform some analog processing, "analog-to-digital conversion," and digital processing (Fig. 1.11), with the first two functions playing a critical role in the quality of the signal.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-09.jpg?height=389&width=2358&top_left_y=3561&top_left_x=876)

Figure 1.11 Signal processing in a typical system.

It is worth noting that many digital binary signals must be viewed and processed as analog waveforms. Consider, for example, the information stored on a hard disk in a computer. Upon retrieval, the "digital" data appears as a distorted waveform with only a few millivolts of amplitude (Fig. 1.12). Such a small separation between ONEs and ZEROs proves inadequate if this signal is to drive a logical gate, demanding a great deal of amplification and other analog processing before the data reaches a robust digital form.

[^2]![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-10.jpg?height=521&width=2011&top_left_y=413&top_left_x=1215)

Figure 1.12 Signal picked up from a hard disk in a computer.

### 1.3.2 Analog Circuits

Today's microelectronic systems incorporate many analog functions. As exemplified by the cellphone and the digital camera studied above, analog circuits often limit the performance of the overall system.

The most commonly-used analog function is amplification. The signal received by a cellphone or picked up by a microphone proves too small to be processed further. An amplifier is therefore necessary to raise the signal swing to acceptable levels.

The performance of an amplifier is characterized by a number of parameters, e.g., gain, speed, and power dissipation. We study these aspects of amplification in great detail later in this book, but it is instructive to briefly review some of these concepts here.

A voltage amplifier produces an output swing greater than the input swing. The voltage gain, $A_{v}$, is defined as

$$
\begin{equation*}
A_{v}=\frac{v_{\text {out }}}{v_{\text {in }}} \tag{1.1}
\end{equation*}
$$

In some cases, we prefer to express the gain in decibels ( dB ):

$$
\begin{equation*}
\left.A_{v}\right|_{d B}=20 \log \frac{v_{\text {out }}}{v_{\text {in }}} \tag{1.2}
\end{equation*}
$$

For example, a voltage gain of 10 translates to 20 dB . The gain of typical amplifiers falls in the range of $10^{1}$ to $10^{5}$.

Example A cellphone receives a signal level of $20 \mu \mathrm{~V}$, but it must deliver a swing of 50 mV to the 1.3 speaker that reproduces the voice. Calculate the required voltage gain in decibels.

Solution We have

$$
\begin{align*}
A_{v} & =20 \log \frac{50 \mathrm{mV}}{20 \mu \mathrm{~V}}  \tag{1.3}\\
& \approx 68 \mathrm{~dB} . \tag{1.4}
\end{align*}
$$

Exercise What is the output swing if the gain is 50 dB ?

In order to operate properly and provide gain, an amplifier must draw power from a voltage source, e.g., a battery or a charger. Called the "power supply," this source is typically denoted by $V_{C C}$ or $V_{D D}$ [Fig. 1.13(a)]. In complex circuits, we may simplify the notation to that shown in Fig. 1.13(b), where the "ground" terminal signifies a reference point with zero potential. If the amplifier is simply denoted by a triangle, we may even omit the supply terminals [Fig. 1.13(c)], with the understanding that they are present. Typical amplifiers operate with supply voltages in the range of 1 V to 10 V .
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-11.jpg?height=709&width=3073&top_left_y=308&top_left_x=764)

Figure 1.13 (a) General amplifier symbol along with its power supply, (b) simplified diagram of (a), (b) amplifier with supply rails omitted.

What limits the speed of amplifiers? We expect that various capacitances in the circuit begin to manifest themselves at high frequencies, thereby lowering the gain. In other words, as depicted in Fig. 1.14, the gain rolls off at sufficiently high frequencies, limiting the (usable) "bandwidth" of the circuit. Amplifiers (and other analog circuits) suffer from trade-offs between gain, speed and power dissipation. Today's microelectronic amplifiers achieve bandwidths as large as tens of gigahertz.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-11.jpg?height=811&width=1416&top_left_y=1946&top_left_x=1598)

Figure 1.14 Roll-off of an amplifier's gain at high frequencies.
What other analog functions are frequently used? A critical operation is "filtering." For example, an electrocardiograph measuring a patient's heart activities also picks up the $60-\mathrm{Hz}$ ( or $50-\mathrm{Hz}$ ) electrical line voltage because the patient's body acts as an antenna. Thus, a filter must suppress this "interferer" to allow meaningful measurement of the heart.

### 1.3.3 Digital Circuits

More than $80 \%$ of the microelectronics industry deals with digital circuits. Examples include microprocessors, static and dynamic memories, and digital signal processors. Recall from basic logic design that gates form "combinational" circuits, and latches and flipflops constitute "sequential" machines. The complexity, speed, and power dissipation of these building blocks play a central role in the overall system performance.

In digital microelectronics, we study the design of the internal circuits of gates, flipflops, and other components. For example, we construct a circuit using devices such as transistors to realize the NOT and NOR functions shown in Fig. 1.15. Based on these implementations, we then determine various properties of each circuit. For example, what limits the speed
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-11.jpg?height=326&width=2233&top_left_y=4689&top_left_x=1178)

Figure 1.15 NOT and NOR gates.
of a gate? How much power does a gate consume while running at a certain speed? How robustly does a gate operate in the presence of nonidealities such as noise (Fig. 1.16)?
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-12.jpg?height=283&width=1333&top_left_y=538&top_left_x=1537)

Figure 1.16 Response of a gate to a noisy input.

Example Consider the circuit shown in Fig. 1.17, where switch $S_{1}$ is controlled by the digital input.
1.4 That is, if $A$ is high, $S_{1}$ is on and vice versa. Prove that the circuit provides the NOT function.

Figure 1.17
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-12.jpg?height=805&width=1148&top_left_y=1561&top_left_x=1641)

Solution If $A$ is high, $S_{1}$ is on, forcing $V_{\text {out }}$ to zero. On the other hand, if $A$ is low, $S_{1}$ remains off, drawing no current from $R_{L}$. As a result, the voltage drop across $R_{L}$ is zero and hence $V_{\text {out }}=V_{D D}$; i.e., the output is high. We thus observe that, for both logical states at the input, the output assumes the opposite state.

Exercise Determine the logical function if $S_{1}$ and $R_{L}$ are swapped and $V_{\text {out }}$ is sensed across $R_{L}$.

The above example indicates that switches can perform logical operations. In fact, early digital circuits did employ mechanical switches (relays), but suffered from a very limited speed (a few kilohertz). It was only after "transistors" were invented and their ability to act as switches was recognized that digital circuits consisting of millions of gates and operating at high speeds (several gigahertz) became possible.

### 1.3.4 Basic Circuit Theorems

Of the numerous analysis techniques taught in circuit theory courses, some prove particularly important to our study of microelectronics. This section provides a review of such concepts.

Kirchoff's Laws The Kirchoff Current Law (KCL) states that the sum of all currents flowing into a node is zero (Fig. 1.18):

$$
\begin{equation*}
\sum_{j} I_{j}=0 \tag{1.5}
\end{equation*}
$$

KCL in fact results from conservation of charge: a nonzero sum would mean that either some of the charge flowing into node $X$ vanishes or this node produces charge.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-13.jpg?height=749&width=920&top_left_y=716&top_left_x=1772)

Figure 1.18 Illustration of KCL.
The Kirchoff Voltage Law (KVL) states that the sum of voltage drops around any closed loop in a circuit is zero [Fig. 1.19(a)]:
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-13.jpg?height=1143&width=1451&top_left_y=1923&top_left_x=696)
(a)
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-13.jpg?height=1137&width=1422&top_left_y=1926&top_left_x=2326)
(b)

Figure 1.19 (a) Illustration of KVL, (b) slightly different view of the circuit.

$$
\begin{equation*}
\sum_{j} V_{j}=0 \tag{1.6}
\end{equation*}
$$

where $V_{j}$ denotes the voltage drop across element number $j$. KVL arises from the conservation of the "electromotive force." In the example illustrated in Fig. 1.19(a), we may sum the voltages in the loop to zero: $V_{1}+V_{2}+V_{3}+V_{4}=0$. Alternatively, adopting the modified view shown in Fig. 1.19(b), we can say $V_{1}$ is equal to the sum of the voltages across elements 2, 3, and 4: $V_{1}=V_{2}+V_{3}+V_{4}$. Note that the polarities assigned to $V_{2}$, $V_{3}$, and $V_{4}$ in Fig. 1.19(b) are different from those in Fig. 1.19(a).

In solving circuits, we may not know a priori the correct polarities of the currents and voltages. Nonetheless, we can simply assign arbitrary polarities, write KCLs and KVLs, and solve the equations to obtain the actual polarities and values. dependent current source $i_{1}$ is equal to a constant, $g_{m},{ }^{6}$ multiplied by the voltage drop across $r_{\pi}$. Determine the voltage gain of the amplifier, $v_{\text {out }} / v_{\text {in }}$.
${ }^{6}$ What is the dimension of $g_{m}$ ?

Figure 1.20
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-14.jpg?height=424&width=1759&top_left_y=216&top_left_x=1278)

Solution We must compute $V_{\text {out }}$ in terms of $v_{\text {in }}$, i.e., we must eliminate $v_{\pi}$ from the equations. Writing a KVL in the "input loop," we have

$$
\begin{equation*}
v_{i n}=v_{\pi}, \tag{1.7}
\end{equation*}
$$

and hence $g_{m} v_{\pi}=g_{m} v_{i n}$. A KCL at the output node yields

$$
\begin{equation*}
g_{m} v_{\pi}+\frac{v_{\text {out }}}{R_{L}}=0 . \tag{1.8}
\end{equation*}
$$

It follows that

$$
\begin{equation*}
\frac{v_{\text {out }}}{v_{\text {in }}}=-g_{m} R_{L} \tag{1.9}
\end{equation*}
$$

Note that the circuit amplifies the input if $g_{m} R_{L}>1$. Unimportant in most cases, the negative sign simply means the circuit "inverts" the signal.

Exercise Repeat the above example if $r_{\pi} \rightarrow \infty$.

Example
1.6

Figure 1.21 shows another amplifier topology. Compute the gain.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-14.jpg?height=778&width=1531&top_left_y=2956&top_left_x=1409)

Figure 1.21
Solution Noting that $r_{\pi}$ in fact appears in parallel with $v_{i n}$, we write a KVL across these two components:

$$
\begin{equation*}
v_{i n}=-v_{\pi} \tag{1.10}
\end{equation*}
$$

The KCL at the output node is similar to (1.8). Thus,

$$
\begin{equation*}
\frac{v_{\text {out }}}{v_{\text {in }}}=g_{m} R_{L} \tag{1.11}
\end{equation*}
$$

Interestingly, this type of amplifier does not invert the signal.
Exercise Repeat the above example if $r_{\pi} \rightarrow \infty$.

Example 1.7

A third amplifier topology is shown in Fig. 1.22. Determine the voltage gain.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-15.jpg?height=743&width=1308&top_left_y=645&top_left_x=1709)

Figure 1.22
Solution We first write a KVL around the loop consisting of $v_{i n}, r_{\pi}$, and $R_{E}$ :

$$
\begin{equation*}
v_{\text {in }}=v_{\pi}+v_{\text {out }} . \tag{1.12}
\end{equation*}
$$

That is, $v_{\pi}=v_{\text {in }}-v_{\text {out }}$. Next, noting that the currents $v_{\pi} / r_{\pi}$ and $g_{m} v_{\pi}$ flow into the output node, and the current $v_{\text {out }} / R_{E}$ flows out of it, we write a KCL:

$$
\begin{equation*}
\frac{v_{\pi}}{r_{\pi}}+g_{m} v_{\pi}=\frac{v_{\text {out }}}{R_{E}} \tag{1.13}
\end{equation*}
$$

Substituting $v_{\text {in }}-v_{\text {out }}$ for $v_{\pi}$ gives

$$
\begin{equation*}
v_{\text {in }}\left(\frac{1}{r_{\pi}}+g_{m}\right)=v_{\text {out }}\left(\frac{1}{R_{E}}+\frac{1}{r_{\pi}}+g_{m}\right), \tag{1.14}
\end{equation*}
$$

and hence

$$
\begin{align*}
\frac{v_{\text {out }}}{v_{\text {in }}} & =\frac{\frac{1}{r_{\pi}}+g_{m}}{\frac{1}{R_{E}}+\frac{1}{r_{\pi}}+g_{m}}  \tag{1.15}\\
& =\frac{\left(1+g_{m} r_{\pi}\right) R_{E}}{r_{\pi}+\left(1+g_{m} r_{\pi}\right) R_{E}} \tag{1.16}
\end{align*}
$$

Note that the voltage gain always remains below unity. Would such an amplifier prove useful at all? In fact, this topology exhibits some important properties that make it a versatile building block.

Exercise Repeat the above example if $r_{\pi} \rightarrow \infty$.

The foregoing three examples relate to three amplifier topologies that are studied extensively in Chapter 5.

Thevenin and Norton Equivalents While Kirchoff's laws can always be utilized to solve any circuit, the Thevenin and Norton theorems can both simplify the algebra and, more importantly, provide additional insight into the operation of a circuit.

Thevenin's theorem states that a (linear) one-port network can be replaced with an equivalent circuit consisting of one voltage source in series with one impedance. Illustrated in Fig. 1.23(a), the term "port" refers to any two nodes whose voltage difference is of interest. The equivalent voltage, $v_{\text {Thev }}$, is obtained by leaving the port open and computing the voltage created by the actual circuit at this port. The equivalent impedance, $Z_{\text {Thev }}$, is
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-16.jpg?height=1279&width=3117&top_left_y=308&top_left_x=662)

Figure 1.23 (a) Thevenin equivalent circuit, (b) computation of equivalent impedance.
determined by setting all independent voltage and current sources in the circuit to zero and calculating the impedance between the two nodes. We also call $Z_{\text {Thev }}$ the impedance "seen" when "looking" into the output port [Fig. 1.23(b)]. The impedance is computed by applying a voltage source across the port and obtaining the resulting current. A few examples illustrate these principles.

Suppose the input voltage source and the amplifier shown in Fig. 1.20 are placed in a box and only the output port is of interest [Fig. 1.24(a)]. Determine the Thevenin equivalent of the circuit.

Solution

We must compute the open-circuit output voltage and the impedance seen when looking into the output port. The Thevenin voltage is obtained from Fig. 1.24(a) and Eq. (1.9):

$$
\begin{align*}
v_{\text {Thev }} & =v_{\text {out }}  \tag{1.17}\\
& =-g_{m} R_{L} v_{\text {in }} . \tag{1.18}
\end{align*}
$$

To calculate $Z_{\text {Thev }}$, we set $v_{\text {in }}$ to zero, apply a voltage source, $v_{X}$, across the output port, and determine the current drawn from the voltage source, $i_{X}$. As shown in Fig. 1.24(b), setting $v_{\text {in }}$ to zero means replacing it with a short circuit. Also, note that the current source $g_{m} v_{\pi}$ remains in the circuit because it depends on the voltage across $r_{\pi}$, whose value is not known a priori.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-16.jpg?height=447&width=1234&top_left_y=3835&top_left_x=690)
(a)
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-16.jpg?height=447&width=1331&top_left_y=3835&top_left_x=1949)
(b)
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-16.jpg?height=447&width=469&top_left_y=3835&top_left_x=3282)
(c)

Figure 1.24
How do we solve the circuit of Fig. 1.24(b)? We must again eliminate $v_{\pi}$. Fortunately, since both terminals of $r_{\pi}$ are tied to ground, $v_{\pi}=0$ and $g_{m} v_{\pi}=0$. The circuit thus reduces to $R_{L}$ and

$$
\begin{equation*}
i_{X}=\frac{v_{X}}{R_{L}} \tag{1.19}
\end{equation*}
$$

That is,

$$
\begin{equation*}
R_{\text {Thev }}=R_{L} \tag{1.20}
\end{equation*}
$$

Figure 1.24(c) depicts the Thevenin equivalent of the input voltage source and the amplifier. In this case, we call $R_{\text {Thev }}\left(=R_{L}\right)$ the "output impedance" of the circuit.

Exercise $\quad$ Repeat the above example if $r_{\pi} \rightarrow \infty$.

With the Thevenin equivalent of a circuit available, we can readily analyze its behavior in the presence of a subsequent stage or "load."

Example
1.9

The amplifier of Fig. 1.20 must drive a speaker having an impedance of $R_{s p}$. Determine the voltage delivered to the speaker.

Solution Shown in Fig. 1.25(a) is the overall circuit arrangement that we must solve. Replacing the section in the dashed box with its Thevenin equivalent from Fig. 1.24(c), we greatly simplify the circuit [Fig. 1.25(b)], and write

$$
\begin{align*}
v_{\text {out }} & =-g_{m} R_{L} v_{\text {in }} \frac{R_{s p}}{R_{s p}+R_{L}}  \tag{1.21}\\
& =-g_{m} v_{\text {in }}\left(R_{L} \| R_{s p}\right) . \tag{1.22}
\end{align*}
$$

![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-17.jpg?height=623&width=3056&top_left_y=2651&top_left_x=801)

Figure 1.25

Exercise Repeat the above example if $r_{\pi} \rightarrow \infty$.

Example Determine the Thevenin equivalent of the circuit shown in Fig. 1.22 if the output port is 1.10 of interest.

Solution The open-circuit output voltage is simply obtained from (1.16):

$$
\begin{equation*}
v_{\text {Thev }}=\frac{\left(1+g_{m} r_{\pi}\right) R_{L}}{r_{\pi}+\left(1+g_{m} r_{\pi}\right) R_{L}} v_{i n} \tag{1.23}
\end{equation*}
$$

To calculate the Thevenin impedance, we set $v_{i n}$ to zero and apply a voltage source across the output port as depicted in Fig. 1.26. To eliminate $v_{\pi}$, we recognize that the two terminals of $r_{\pi}$ are tied to those of $v_{X}$ and hence

$$
\begin{equation*}
v_{\pi}=-v_{X} . \tag{1.24}
\end{equation*}
$$

![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-18.jpg?height=737&width=1262&top_left_y=442&top_left_x=1641)

Figure 1.26
We now write a KCL at the output node. The currents $v_{\pi} / r_{\pi}, g_{m} v_{\pi}$, and $i_{X}$ flow into this node and the current $v_{X} / R_{L}$ flows out of it. Consequently,

$$
\begin{equation*}
\frac{v_{\pi}}{r_{\pi}}+g_{m} v_{\pi}+i_{X}=\frac{v_{X}}{R_{L}} \tag{1.25}
\end{equation*}
$$

or

$$
\begin{equation*}
\left(\frac{1}{r_{\pi}}+g_{m}\right)\left(-v_{X}\right)+i_{X}=\frac{v_{X}}{R_{L}} . \tag{1.26}
\end{equation*}
$$

That is,

$$
\begin{align*}
R_{\text {Thev }} & =\frac{v_{X}}{i_{X}}  \tag{1.27}\\
& =\frac{r_{\pi} R_{L}}{r_{\pi}+\left(1+g_{m} r_{\pi}\right) R_{L}} \tag{1.28}
\end{align*}
$$

Exercise What happens if $R_{L}=\infty$ ?

Norton's theorem states that a (linear) one-port network can be represented by one current source in parallel with one impedance (Fig. 1.27). The equivalent current, $i_{\text {Nor }}$, is obtained by shorting the port of interest and computing the current that flows through it. The equivalent impedance, $Z_{\mathrm{Nor}}$, is determined by setting all independent voltage and current sources in the circuit to zero and calculating the impedance seen at the port. Of course, $Z_{\text {Nor }}=Z_{\text {Thev }}$.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-18.jpg?height=1245&width=2142&top_left_y=3921&top_left_x=1178)

Figure 1.27 Norton's theorem.

Example
1.11

Solution As depicted in Fig. 1.28(a), we short the output port and seek the value of $i_{\text {Nor }}$. Since the voltage across $R_{L}$ is now forced to zero, this resistor carries no current.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-19.jpg?height=487&width=1947&top_left_y=1058&top_left_x=850)
(a)

Determine the Norton equivalent of the circuit shown in Fig. 1.20 if the output port is of interest.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-19.jpg?height=503&width=806&top_left_y=1084&top_left_x=2976)

Figure 1.28

A KCL at the output node thus yields

$$
\begin{align*}
i_{\text {Nor }} & =-g_{m} v_{\pi}  \tag{1.29}\\
& =-g_{m} v_{i n} \tag{1.30}
\end{align*}
$$

Also, from Example $1.8, R_{\text {Nor }}\left(=R_{\text {Thev }}\right)=R_{L}$. The Norton equivalent therefore emerges as shown in Fig. 1.28(b). To check the validity of this model, we observe that the flow of $i_{\text {Nor }}$ through $R_{L}$ produces a voltage of $-g_{m} R_{L} v_{i n}$, the same as the output voltage of the original circuit.

Exercise Repeat the above example if a resistor of value $R_{1}$ is added between the top terminal of $v_{\text {in }}$ and the output node.

Example Determine the Norton equivalent of the circuit shown in Fig. 1.22 if the output port is 1.12 interest.

Solution Shorting the output port as illustrated in Fig. 1.29(a), we note that $R_{L}$ carries no current. Thus,
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-19.jpg?height=766&width=1376&top_left_y=3835&top_left_x=819)
(a)
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-19.jpg?height=544&width=1473&top_left_y=4009&top_left_x=2323)
(b)

Figure 1.29

$$
\begin{equation*}
i_{\text {Nor }}=\frac{v_{\pi}}{r_{\pi}}+g_{m} v_{\pi} . \tag{1.31}
\end{equation*}
$$

Also, $v_{i n}=v_{\pi}$ (why?), yielding

$$
\begin{equation*}
i_{\text {Nor }}=\left(\frac{1}{r_{\pi}}+g_{m}\right) v_{i n} \tag{1.32}
\end{equation*}
$$

With the aid of $R_{\text {Thev }}$ found in Example 1.10, we construct the Norton equivalent depicted in Fig. 1.29(b).

Exercise What happens if $r_{\pi}=\infty$ ?

## 1.4 CHAPTER SUMMARY

- Electronic functions appear in many devices, including cellphones, digital cameras, laptop computers, etc.
- Amplification is an essential operation in many analog and digital systems.
- Analog circuits process signals that can assume various values at any time. By contrast, digital circuits deal with signals having only two levels and switching between these values at known points in time.
- Despite the "digital revolution," analog circuits find wide application in most of today's electronic systems.
- The voltage gain of an amplifier is defined as $v_{\text {out }} / v_{\text {in }}$ and sometimes expressed in decibels $(\mathrm{dB})$ as $20 \log \left(v_{\text {out }} / v_{\text {in }}\right)$.
- Kirchoff's current law (KCL) states that the sum of all currents flowing into any node is zero. Kirchoff's voltage law (KVL) states that the sum of all voltages around any loop is zero.
- Norton's theorem allows simplifying a one-port circuit to a current source in parallel with an impedance. Similarly, Thevenin's theorem reduces a one-port circuit to a voltage source in series with an impedance.
![](https://cdn.mathpix.com/cropped/2024_11_08_7a57796e08278ef4e6a5g-21.jpg?height=1057&width=3658&top_left_y=442&top_left_x=-2)
