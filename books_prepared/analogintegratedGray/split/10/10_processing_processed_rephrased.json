[

{
    "text": "Chapters 1 to 9 primarily focused on analog circuits designed for linear signal amplification. Despite some circuits, like Class AB output stages, exhibiting nonlinear behavior, their impact on signals could still be effectively modeled using linear relationships.\n\nIn fields such as instrumentation, communication, and control system design, nonlinear operations on continuous analog signals are frequently necessary. These operations encompass modulation, demodulation, frequency translation, multiplication, and division. This chapter examines the prevalent techniques for executing these operations within monolithic integrated circuits. Initially, we explore the use of bipolar transistors in creating nonlinear analog circuits, including a detailed analysis of the Gilbert multiplier cell, a fundamental component in many such circuits. Subsequently, we investigate the application of this cell as a small-signal analog multiplier, a modulator, a phase comparator, and a large-signal, four-quadrant multiplier.\n\nPost the multiplier analysis, we present a valuable circuit technique for demodulating FM and AM signals while simultaneously performing bandpass filtering. This technique involves the phase-locked-loop (PLL), which is particularly conducive to monolithic fabrication. We delve into the core principles of the PLL, analyze its behavior in a locked state, and examine the capture transient. Finally, we explore various methods for implementing arbitrary nonlinear transfer functions using bipolar transistors."
},
{
    "text": "Chapters 1 to 9 primarily focused on analog circuits designed for linear signal amplification. While certain circuits, like Class AB output stages, exhibited nonlinear behavior, the signal transformations within these amplifiers were effectively described by linear relationships.\n\nNonlinear processing of continuous analog signals is essential in fields such as instrumentation, communication, and control system design. This encompasses operations like modulation, demodulation, frequency shifting, multiplication, and division. In this chapter, we examine the prevalent methods for executing these operations within monolithic integrated circuits. We begin by exploring the use of bipolar transistors in creating nonlinear analog circuits, including an analysis of the Gilbert multiplier cell, which serves as the foundation for numerous such circuits. Subsequently, we discuss the application of this fundamental building block as a small-signal analog multiplier, a modulator, a phase comparator, and a large-signal, four-quadrant multiplier.\n\nPost the multiplier analysis, we present a versatile circuit technique for demodulating FM and AM signals while concurrently performing bandpass filtering. This circuit, known as the phase-locked-loop (PLL), is particularly adept for monolithic fabrication. We delve into the fundamental principles underlying the PLL, analyze its behavior in the locked state, and then investigate the capture transient. Lastly, we explore various approaches to implementing arbitrary nonlinear transfer functions using bipolar transistors."
},
{
    "text": "Chapters 1 to 9 primarily focused on analog circuits designed for linear signal amplification. Despite some circuits, like Class AB output stages, being inherently nonlinear, their effects on the signal were effectively represented by linear relationships.\n\nNonlinear processing of continuous analog signals is essential in fields such as instrumentation, communication, and control system design. This includes operations like modulation, demodulation, frequency shifting, multiplication, and division. In this chapter, we examine the prevalent methods for executing these operations within monolithic integrated circuits. Initially, we explore the use of bipolar transistors in creating nonlinear analog circuits, including an analysis of the Gilbert multiplier cell, which serves as a foundation for numerous such circuits. Subsequently, we assess the application of this fundamental component as a small-signal analog multiplier, a modulator, a phase comparator, and a large-signal, four-quadrant multiplier.\n\nPost the multiplier discussion, we present a valuable circuit technique for demodulating FM and AM signals while concurrently performing bandpass filtering. This technique involves the phase-locked-loop (PLL), which is particularly conducive to monolithic fabrication. After delving into the core principles, we analyze the PLL's behavior in a locked state and then examine the capture transient. Lastly, we consider various approaches to implementing arbitrary nonlinear transfer functions using bipolar transistors."
},
{
    "text": "Chapters 1 to 9 primarily focused on analog circuits designed for linear signal amplification. Despite some circuits, like Class AB output stages, exhibiting nonlinear behavior, the signal processing within these amplifiers was effectively linear.\n\nIn fields such as instrumentation, communication, and control system design, nonlinear operations on continuous analog signals are frequently necessary. These operations encompass modulation, demodulation, frequency translation, multiplication, and division. This chapter examines the prevalent techniques for executing these operations in monolithic integrated circuits. Initially, we explore the use of bipolar transistors for creating nonlinear analog circuits and analyze the Gilbert multiplier cell, a foundational element for numerous such circuits. Subsequently, we delve into the application of this cell as a small-signal analog multiplier, a modulator, a phase comparator, and a large-signal, four-quadrant multiplier.\n\nFollowing the discussion on multipliers, we present a valuable circuit technique for demodulating FM and AM signals while simultaneously performing bandpass filtering. This circuit, known as the phase-locked-loop (PLL), is particularly conducive to monolithic fabrication. After detailing the fundamental principles, we analyze the PLL's behavior in the locked state and then examine the capture transient. Lastly, we explore various methods for implementing arbitrary nonlinear transfer functions using bipolar transistors."
},
{
    "text": "Chapters 1 through 9 predominantly focused on analog circuits primarily designed for linear signal amplification. Despite certain circuits, like Class AB output stages, exhibiting nonlinear behavior, the signal processing within these amplifiers was effectively approximated by linear relationships.\n\nIn the realms of instrumentation, communication, and control system design, nonlinear operations on continuous analog signals are frequently essential. These operations encompass modulation, demodulation, frequency translation, multiplication, and division. This chapter delves into the prevalent techniques for executing these operations within monolithic integrated circuits. Initially, we explore the utilization of bipolar transistors for creating nonlinear analog circuits, with a detailed analysis of the Gilbert multiplier cell, a foundational element for numerous such circuits. Subsequently, we examine the application of this core component as a small-signal analog multiplier, a modulator, a phase comparator, and a large-signal, four-quadrant multiplier.\n\nPost the multiplier segment, we present a highly effective circuit technique for demodulating FM and AM signals while concurrently performing bandpass filtering. This technique involves the phase-locked-loop (PLL), which is particularly conducive to monolithic integration. After discussing the fundamental principles, we analyze the PLL's behavior in the locked state and then investigate the capture transient. Lastly, we explore various methods for implementing arbitrary nonlinear transfer functions using bipolar transistors."
},
{
    "text": "Chapters 1 to 9 primarily focused on analog circuits designed for linear signal amplification. Despite certain circuits, like Class AB output stages, exhibiting nonlinear behavior, the signal processing within these amplifiers was effectively linear.\n\nIn fields such as instrumentation, communication, and control system design, nonlinear operations on continuous analog signals are frequently necessary. These operations encompass modulation, demodulation, frequency translation, multiplication, and division. This chapter examines the prevalent techniques for executing these operations in monolithic integrated circuits. Initially, we explore the utilization of bipolar transistors for creating nonlinear analog circuits, including an analysis of the Gilbert multiplier cell, which serves as the foundation for numerous such circuits. Subsequently, we assess the application of this fundamental component as a small-signal analog multiplier, a modulator, a phase comparator, and a large-signal, four-quadrant multiplier.\n\nPost the multiplier discussion, we present a valuable circuit technique for demodulating FM and AM signals while simultaneously performing bandpass filtering. This technique involves the phase-locked-loop (PLL), which is particularly conducive to monolithic integration. After delving into the core concepts, we analyze the PLL's behavior in the locked state and then examine the capture transient. Lastly, we explore various methods for implementing arbitrary nonlinear transfer functions using bipolar transistors."
},
{
    "text": "Chapters 1 through 9 primarily focused on analog circuits designed for linear signal amplification. Despite some circuits, like Class AB output stages, exhibiting nonlinear behavior, the signal transformations within these amplifiers were effectively described by linear relationships.\n\nIn fields such as instrumentation, communication, and control-system design, nonlinear operations on continuous analog signals are frequently necessary. These operations encompass modulation, demodulation, frequency translation, multiplication, and division. This chapter examines the prevalent techniques for executing these operations in monolithic integrated circuits. Initially, we explore the use of bipolar transistors in creating nonlinear analog circuits, including an analysis of the Gilbert multiplier cell, which serves as a foundation for numerous such circuits. Subsequently, we assess the application of this fundamental component as a small-signal analog multiplier, a modulator, a phase comparator, and a large-signal, four-quadrant multiplier.\n\nPost the multiplier discussion, we present a valuable circuit technique for demodulating FM and AM signals while simultaneously performing bandpass filtering. This technique involves the phase-locked-loop (PLL), which is particularly conducive to monolithic fabrication. After delving into the core principles, we analyze the PLL's behavior in the locked state and then examine the capture transient. Finally, we explore various methods for implementing arbitrary nonlinear transfer functions using bipolar transistors."
},
{
    "text": "Chapters 1 to 9 primarily focused on analog circuits designed for linear signal amplification. Despite certain circuits, like Class AB output stages, exhibiting nonlinear behavior, the signal processing within these amplifiers could be effectively modeled using linear relationships.\n\nIn the realms of instrumentation, communication, and control systems, nonlinear operations on continuous analog signals are frequently necessary. Such operations encompass modulation, demodulation, frequency translation, multiplication, and division. This chapter examines the prevalent techniques for executing these operations within monolithic integrated circuits. Initially, we explore the utilization of bipolar transistors for creating nonlinear analog circuits, including an analysis of the Gilbert multiplier cell, which serves as a foundation for numerous such circuits. Subsequently, we delve into the application of this fundamental component as a small-signal analog multiplier, a modulator, a phase comparator, and a large-signal, four-quadrant multiplier.\n\nPost the multiplier segment, we present a valuable circuit technique for demodulating FM and AM signals while concurrently executing bandpass filtering. This technique involves the phase-locked-loop (PLL), which is particularly conducive to monolithic fabrication. After dissecting the core principles, we analyze the PLL's performance in a locked state and then investigate the capture transient. Lastly, we explore various approaches to implementing arbitrary nonlinear transfer functions using bipolar transistors."
},
{
    "text": "The emitter-coupled pair, depicted in Fig. 10.1, was demonstrated in Chapter 3 to generate output currents that are related to the differential input voltage by\n\n$$\n\\begin{align*}\nI_{c 1} & =\\frac{I_{E E}}{1+\\exp \\left(-\\frac{V_{i d}}{V_{T}}\\right)}  \\tag{10.1}\\\\\nI_{c 2} & =\\frac{I_{E E}}{1+\\exp \\left(\\frac{V_{i d}}{V_{T}}\\right)} \\tag{10.2}\n\\end{align*}\n$$\n\nimage_name: Figure 10.1 Emitter-coupled pair\ndescription:\n[\nname: Q1, type: NPN, ports: {C: LOAD1, B: Vip, E: e1e2}\nname: Q2, type: NPN, ports: {C: LOAD2, B: Vin, E: e1e2}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: e1e2, Nn: GND}\n]\nextrainfo: This circuit is an emitter-coupled pair used as a basic multiplier. It comprises two NPN transistors (Q1 and Q2) with their emitters connected together and to a current source I_EE. The differential input voltage (Vid) is applied across the bases of Q1 and Q2, and the output currents (Ic1 and Ic2) are obtained from the collectors connected to LOAD1 and LOAD2, respectively.\nFigure 10.1 Emitter-coupled pair.\nwhere base current is disregarded. Equations 10.1 and 10.2 can be merged to yield the difference between the two output currents:\n\n$$\n\\begin{equation*}\n\\Delta I_{c}=I_{c 1}-I_{c 2}=I_{E E} \\tanh \\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.3}\n\\end{equation*}\n$$\n\nThis relationship is illustrated in Fig. 10.2 and demonstrates that the emitter-coupled pair alone can serve as a rudimentary multiplier. Initially, we assume that the differential input voltage $V_{i d}$ is significantly smaller than $V_{T}$. If this assumption holds, we can employ the approximation\n\n$$\n\\begin{equation*}\n\\tanh \\frac{V_{i d}}{2 V_{T}} \\approx \\frac{V_{i d}}{2 V_{T}} \\quad \\frac{V_{i d}}{2 V_{T}} \\ll 1 \\tag{10.4}\n\\end{equation*}\n$$\n\nThus, (10.3) simplifies to\n\n$$\n\\begin{equation*}\n\\Delta I_{c} \\approx I_{E E}\\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.5}\n\\end{equation*}\n$$\n\nThe current $I_{E E}$ acts as the bias current for the emitter-coupled pair. By incorporating additional circuitry, we can make $I_{E E}$ proportional to a secondary input signal $V_{i 2}$, as depicted in\nimage_name: Figure 10.2\ndescription: The graph in Figure 10.2 presents the DC transfer characteristic of an emitter-coupled pair. It features a sigmoidal curve illustrating the relationship between the differential input voltage \\( V_{id} \\) on the horizontal axis and the change in collector current \\( \\Delta I_c \\) on the vertical axis.\n\n1. **Graph Type and Function:**\n- This is a DC transfer characteristic graph, commonly utilized in analog electronics to depict how output current varies with input voltage.\n\n2. **Axes Labels and Units:**\n- The horizontal axis denotes the differential input voltage \\( V_{id} \\), while the vertical axis represents the change in collector current \\( \\Delta I_c \\).\n- No specific units are indicated on the graph, but typically, \\( V_{id} \\) would be in volts and \\( \\Delta I_c \\) in amperes or milliamperes.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a sigmoidal or S-shaped curve.\n- As \\( V_{id} \\) increases from a negative value, \\( \\Delta I_c \\) starts from \\(-I_{EE}\\), passes through the origin, and approaches \\( I_{EE} \\) as \\( V_{id} \\) becomes positive.\n- The curve is symmetric around the origin.\n\n4. **Key Features and Technical Details:**\n- The curve intersects the origin (0,0), which is an inflection point with the steepest slope.\n- The curve levels off as \\( V_{id} \\) approaches \\( \\pm V_T \\), with \\( \\Delta I_c \\) nearing \\( \\pm I_{EE} \\).\n- The region between \\( -V_T \\) and \\( +V_T \\) is where the curve is most linear, indicating the input voltage range for the most predictable output current changes.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes dashed lines at \\( \\Delta I_c = I_{EE} \\) and \\( \\Delta I_c = -I_{EE} \\), marking the curve's asymptotic limits.\n- The points \\( -V_T \\) and \\( +V_T \\) on the \\( V_{id} \\) axis are labeled, indicating the threshold voltages where the curve begins to saturate.\nFigure 10.2 The dc transfer characteristic of the emitter-coupled pair."
},
{
    "text": "The emitter-coupled pair, depicted in Fig. 10.1, was demonstrated in Chapter 3 to generate output currents that correlate with the differential input voltage as follows:\n\n$$\n\\begin{align*}\nI_{c 1} & =\\frac{I_{E E}}{1+\\exp \\left(-\\frac{V_{i d}}{V_{T}}\\right)}  \\tag{10.1}\\\\\nI_{c 2} & =\\frac{I_{E E}}{1+\\exp \\left(\\frac{V_{i d}}{V_{T}}\\right)} \\tag{10.2}\n\\end{align*}\n$$\n\nimage_name: Figure 10.1 Emitter-coupled pair\ndescription:\n[\nname: Q1, type: NPN, ports: {C: LOAD1, B: Vip, E: e1e2}\nname: Q2, type: NPN, ports: {C: LOAD2, B: Vin, E: e1e2}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: e1e2, Nn: GND}\n]\nextrainfo: The circuit is an emitter-coupled pair used as a basic multiplier. It comprises two NPN transistors (Q1 and Q2) with their emitters connected together and to a current source I_EE. The differential input voltage (Vid) is applied across the bases of Q1 and Q2, and the output currents (Ic1 and Ic2) are derived from the collectors connected to LOAD1 and LOAD2 respectively.\nFigure 10.1 Emitter-coupled pair.\nwhere base current is disregarded. Equations 10.1 and 10.2 can be merged to yield the difference between the two output currents:\n\n$$\n\\begin{equation*}\n\\Delta I_{c}=I_{c 1}-I_{c 2}=I_{E E} \\tanh \\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.3}\n\\end{equation*}\n$$\n\nThis relationship is illustrated in Fig. 10.2 and demonstrates that the emitter-coupled pair alone can function as a rudimentary multiplier. Initially, we assume that the differential input voltage $V_{i d}$ is significantly smaller than $V_{T}$. If this assumption holds, we can employ the approximation\n\n$$\n\\begin{equation*}\n\\tanh \\frac{V_{i d}}{2 V_{T}} \\approx \\frac{V_{i d}}{2 V_{T}} \\quad \\frac{V_{i d}}{2 V_{T}} \\ll 1 \\tag{10.4}\n\\end{equation*}\n$$\n\nThus, (10.3) simplifies to\n\n$$\n\\begin{equation*}\n\\Delta I_{c} \\approx I_{E E}\\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.5}\n\\end{equation*}\n$$\n\nThe current $I_{E E}$ serves as the bias current for the emitter-coupled pair. By incorporating additional circuitry, we can make $I_{E E}$ proportional to a secondary input signal $V_{i 2}$, as depicted in\nimage_name: Figure 10.2\ndescription: The graph in Figure 10.2 plots the DC transfer characteristic of an emitter-coupled pair. It features a sigmoidal curve representing the relationship between the differential input voltage \\( V_{id} \\) on the horizontal axis and the change in collector current \\( \\Delta I_c \\) on the vertical axis.\n\n1. **Graph Type and Function:**\n- This is a DC transfer characteristic graph, commonly utilized in analog electronics to illustrate how an output current varies with an input voltage.\n\n2. **Axes Labels and Units:**\n- The horizontal axis denotes the differential input voltage \\( V_{id} \\), while the vertical axis represents the change in collector current \\( \\Delta I_c \\).\n- No specific units are indicated on the graph, but typically, \\( V_{id} \\) would be in volts and \\( \\Delta I_c \\) in amperes or milliamperes.\n\n3. **General Behavior and Trends:**\n- The graph exhibits a sigmoidal or S-shaped curve.\n- As \\( V_{id} \\) increases from a negative value, \\( \\Delta I_c \\) starts from \\(-I_{EE}\\), rises through the origin, and approaches \\( I_{EE} \\) as \\( V_{id} \\) becomes positive.\n- The curve is symmetric about the origin.\n\n4. **Key Features and Technical Aspects:**\n- The curve passes through the origin (0,0), marking an inflection point where the slope is steepest.\n- The curve levels off as \\( V_{id} \\) approaches \\( \\pm V_T \\), with \\( \\Delta I_c \\) nearing \\( \\pm I_{EE} \\).\n- The region between \\( -V_T \\) and \\( +V_T \\) is where the curve is most linear, indicating the input voltage range for the most predictable output current changes.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes dashed lines at \\( \\Delta I_c = I_{EE} \\) and \\( \\Delta I_c = -I_{EE} \\), indicating the curve's asymptotic limits.\n- The points \\( -V_T \\) and \\( +V_T \\) on the \\( V_{id} \\) axis are labeled, marking the threshold voltages where the curve begins to saturate.\nFigure 10.2 The dc transfer characteristic of the emitter-coupled pair."
},
{
    "text": "The emitter-coupled pair, depicted in Fig. 10.1, was demonstrated in Chapter 3 to generate output currents that correlate with the differential input voltage as follows:\n\n$$\n\\begin{align*}\nI_{c 1} & =\\frac{I_{E E}}{1+\\exp \\left(-\\frac{V_{i d}}{V_{T}}\\right)}  \\tag{10.1}\\\\\nI_{c 2} & =\\frac{I_{E E}}{1+\\exp \\left(\\frac{V_{i d}}{V_{T}}\\right)} \\tag{10.2}\n\\end{align*}\n$$\n\nimage_name:Figure 10.1 Emitter-coupled pair\ndescription:\n[\nname: Q1, type: NPN, ports: {C: LOAD1, B: Vip, E: e1e2}\nname: Q2, type: NPN, ports: {C: LOAD2, B: Vin, E: e1e2}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: e1e2, Nn: GND}\n]\nextrainfo:The circuit is an emitter-coupled pair used as a simple multiplier. It comprises two NPN transistors (Q1 and Q2) with their emitters connected together and to a current source I_EE. The differential input voltage (Vid) is applied across the bases of Q1 and Q2, and the output currents (Ic1 and Ic2) are derived from the collectors connected to LOAD1 and LOAD2 respectively.\nFigure 10.1 Emitter-coupled pair.\nassuming negligible base current. Equations 10.1 and 10.2 can be merged to yield the difference between the two output currents:\n\n$$\n\\begin{equation*}\n\\Delta I_{c}=I_{c 1}-I_{c 2}=I_{E E} \\tanh \\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.3}\n\\end{equation*}\n$$\n\nThis relationship is illustrated in Fig. 10.2, indicating that the emitter-coupled pair alone can serve as a basic multiplier. Initially, we assume that the differential input voltage $V_{i d}$ is significantly smaller than $V_{T}$. If this holds true, we can employ the approximation\n\n$$\n\\begin{equation*}\n\\tanh \\frac{V_{i d}}{2 V_{T}} \\approx \\frac{V_{i d}}{2 V_{T}} \\quad \\frac{V_{i d}}{2 V_{T}} \\ll 1 \\tag{10.4}\n\\end{equation*}\n$$\n\nThus, (10.3) simplifies to\n\n$$\n\\begin{equation*}\n\\Delta I_{c} \\approx I_{E E}\\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.5}\n\\end{equation*}\n$$\n\nThe current $I_{E E}$ functions as the bias current for the emitter-coupled pair. By incorporating additional circuitry, $I_{E E}$ can be made proportional to a secondary input signal $V_{i 2}$, as depicted in\nimage_name:Figure 10.2\ndescription:The graph in Figure 10.2 represents the DC transfer characteristic of an emitter-coupled pair. It features a sigmoidal curve showing the relationship between the differential input voltage \\( V_{id} \\) on the horizontal axis and the change in collector current \\( \\Delta I_c \\) on the vertical axis.\n\n1. **Type of Graph and Function:**\n- This is a DC transfer characteristic graph, commonly utilized in analog electronics to depict how an output current varies with an input voltage.\n\n2. **Axes Labels and Units:**\n- The horizontal axis denotes the differential input voltage \\( V_{id} \\), while the vertical axis indicates the change in collector current \\( \\Delta I_c \\).\n- No specific units are marked on the graph, but typically, \\( V_{id} \\) would be in volts and \\( \\Delta I_c \\) in amperes or milliamperes.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a sigmoidal or S-shaped curve.\n- As \\( V_{id} \\) increases from a negative value, \\( \\Delta I_c \\) starts from \\(-I_{EE}\\), passes through the origin, and approaches \\( I_{EE} \\) as \\( V_{id} \\) becomes positive.\n- The curve is symmetric around the origin.\n\n4. **Key Features and Technical Details:**\n- The curve intersects the origin (0,0), which is an inflection point with the steepest slope.\n- The curve flattens as \\( V_{id} \\) approaches \\( \\pm V_T \\), with \\( \\Delta I_c \\) nearing \\( \\pm I_{EE} \\).\n- The region between \\( -V_T \\) and \\( +V_T \\) is where the curve is most linear, indicating the range of input voltages for predictable output current changes.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes dashed lines at \\( \\Delta I_c = I_{EE} \\) and \\( \\Delta I_c = -I_{EE} \\), marking the curve's asymptotic limits.\n- The points \\( -V_T \\) and \\( +V_T \\) on the \\( V_{id} \\) axis are labeled, indicating the threshold voltages where the curve begins to saturate.\nFigure 10.2 The dc transfer characteristic of the emitter-coupled pair."
},
{
    "text": "The emitter-coupled pair, depicted in Fig. 10.1, was demonstrated in Chapter 3 to generate output currents that correlate with the differential input voltage as follows:\n\n$$\n\\begin{align*}\nI_{c 1} & =\\frac{I_{E E}}{1+\\exp \\left(-\\frac{V_{i d}}{V_{T}}\\right)}  \\tag{10.1}\\\\\nI_{c 2} & =\\frac{I_{E E}}{1+\\exp \\left(\\frac{V_{i d}}{V_{T}}\\right)} \\tag{10.2}\n\\end{align*}\n$$\n\nimage_name: Figure 10.1 Emitter-coupled pair\ndescription:\n[\nname: Q1, type: NPN, ports: {C: LOAD1, B: Vip, E: e1e2}\nname: Q2, type: NPN, ports: {C: LOAD2, B: Vin, E: e1e2}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: e1e2, Nn: GND}\n]\nextrainfo: This circuit, an emitter-coupled pair, functions as a basic multiplier. It comprises two NPN transistors (Q1 and Q2) with their emitters interconnected and linked to a current source I_EE. The differential input voltage (Vid) is applied across the bases of Q1 and Q2, and the output currents (Ic1 and Ic2) are derived from the collectors connected to LOAD1 and LOAD2, respectively.\nFigure 10.1 Emitter-coupled pair.\nassuming negligible base current. Equations 10.1 and 10.2 can be merged to express the difference between the two output currents:\n\n$$\n\\begin{equation*}\n\\Delta I_{c}=I_{c 1}-I_{c 2}=I_{E E} \\tanh \\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.3}\n\\end{equation*}\n$$\n\nThis relationship is illustrated in Fig. 10.2, indicating that the emitter-coupled pair alone can serve as a rudimentary multiplier. Initially, we assume that the differential input voltage $V_{i d}$ is significantly smaller than $V_{T}$. If this holds true, we can apply the approximation\n\n$$\n\\begin{equation*}\n\\tanh \\frac{V_{i d}}{2 V_{T}} \\approx \\frac{V_{i d}}{2 V_{T}} \\quad \\frac{V_{i d}}{2 V_{T}} \\ll 1 \\tag{10.4}\n\\end{equation*}\n$$\n\nThus, (10.3) simplifies to\n\n$$\n\\begin{equation*}\n\\Delta I_{c} \\approx I_{E E}\\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.5}\n\\end{equation*}\n$$\n\nThe current $I_{E E}$ serves as the bias current for the emitter-coupled pair. By incorporating additional circuitry, $I_{E E}$ can be made proportional to a secondary input signal $V_{i 2}$, as depicted in\nimage_name: Figure 10.2\ndescription: The graph in Figure 10.2 portrays the DC transfer characteristic of an emitter-coupled pair. It features a sigmoidal curve representing the relationship between the differential input voltage \\( V_{id} \\) on the horizontal axis and the change in collector current \\( \\Delta I_c \\) on the vertical axis.\n\n1. **Graph Type and Function:**\n- This is a DC transfer characteristic graph, commonly employed in analog electronics to illustrate how output current varies with input voltage.\n\n2. **Axes Labels and Units:**\n- The horizontal axis denotes the differential input voltage \\( V_{id} \\), while the vertical axis represents the change in collector current \\( \\Delta I_c \\).\n- No specific units are indicated on the graph, but typically, \\( V_{id} \\) would be in volts and \\( \\Delta I_c \\) in amperes or milliamperes.\n\n3. **General Behavior and Trends:**\n- The graph exhibits a sigmoidal or S-shaped curve.\n- As \\( V_{id} \\) rises from a negative value, \\( \\Delta I_c \\) starts at \\(-I_{EE}\\), passes through the origin, and approaches \\( I_{EE} \\) as \\( V_{id} \\) turns positive.\n- The curve is symmetric about the origin.\n\n4. **Key Features and Technical Aspects:**\n- The curve intersects the origin (0,0), marking an inflection point with the steepest slope.\n- The curve levels off as \\( V_{id} \\) nears \\( \\pm V_T \\), with \\( \\Delta I_c \\) trending towards \\( \\pm I_{EE} \\).\n- The segment between \\( -V_T \\) and \\( +V_T \\) is where the curve is most linear, signifying the input voltage range for the most predictable output current changes.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes dashed lines at \\( \\Delta I_c = I_{EE} \\) and \\( \\Delta I_c = -I_{EE} \\), indicating the curve's asymptotic limits.\n- The points \\( -V_T \\) and \\( +V_T \\) on the \\( V_{id} \\) axis are marked, highlighting the threshold voltages where the curve begins to saturate.\nFigure 10.2 The dc transfer characteristic of the emitter-coupled pair."
},
{
    "text": "The emitter-coupled pair, depicted in Fig. 10.1, was demonstrated in Chapter 3 to generate output currents that correlate with the differential input voltage as follows:\n\n$$\n\\begin{align*}\nI_{c 1} & =\\frac{I_{E E}}{1+\\exp \\left(-\\frac{V_{i d}}{V_{T}}\\right)}  \\tag{10.1}\\\\\nI_{c 2} & =\\frac{I_{E E}}{1+\\exp \\left(\\frac{V_{i d}}{V_{T}}\\right)} \\tag{10.2}\n\\end{align*}\n$$\n\nimage_name:Figure 10.1 Emitter-coupled pair\ndescription:\n[\nname: Q1, type: NPN, ports: {C: LOAD1, B: Vip, E: e1e2}\nname: Q2, type: NPN, ports: {C: LOAD2, B: Vin, E: e1e2}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: e1e2, Nn: GND}\n]\nextrainfo:The circuit is an emitter-coupled pair used as a simple multiplier. It comprises two NPN transistors (Q1 and Q2) with their emitters connected together and to a current source I_EE. The differential input voltage (Vid) is applied across the bases of Q1 and Q2, and the output currents (Ic1 and Ic2) are derived from the collectors connected to LOAD1 and LOAD2 respectively.\nFigure 10.1 Emitter-coupled pair.\nwhere base current is disregarded. Equations 10.1 and 10.2 can be merged to yield the difference between the two output currents:\n\n$$\n\\begin{equation*}\n\\Delta I_{c}=I_{c 1}-I_{c 2}=I_{E E} \\tanh \\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.3}\n\\end{equation*}\n$$\n\nThis relationship is illustrated in Fig. 10.2 and demonstrates that the emitter-coupled pair alone can serve as a basic multiplier. Initially, we assume that the differential input voltage $V_{i d}$ is significantly smaller than $V_{T}$. If this holds true, we can employ the approximation\n\n$$\n\\begin{equation*}\n\\tanh \\frac{V_{i d}}{2 V_{T}} \\approx \\frac{V_{i d}}{2 V_{T}} \\quad \\frac{V_{i d}}{2 V_{T}} \\ll 1 \\tag{10.4}\n\\end{equation*}\n$$\n\nThus, (10.3) simplifies to\n\n$$\n\\begin{equation*}\n\\Delta I_{c} \\approx I_{E E}\\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.5}\n\\end{equation*}\n$$\n\nThe current $I_{E E}$ serves as the bias current for the emitter-coupled pair. By incorporating additional circuitry, we can make $I_{E E}$ proportional to a secondary input signal $V_{i 2}$, as depicted in\nimage_name:Figure 10.2\ndescription:The graph in Figure 10.2 plots the DC transfer characteristic of an emitter-coupled pair. It features a sigmoidal curve representing the relationship between the differential input voltage \\( V_{id} \\) on the horizontal axis and the change in collector current \\( \\Delta I_c \\) on the vertical axis.\n\n1. **Type of Graph and Function:**\n- This is a DC transfer characteristic graph, commonly utilized in analog electronics to illustrate how an output current varies with an input voltage.\n\n2. **Axes Labels and Units:**\n- The horizontal axis denotes the differential input voltage \\( V_{id} \\), and the vertical axis represents the change in collector current \\( \\Delta I_c \\).\n- No specific units are indicated on the graph, but typically, \\( V_{id} \\) would be in volts and \\( \\Delta I_c \\) in amperes or milliamperes.\n\n3. **Overall Behavior and Trends:**\n- The graph exhibits a sigmoidal or S-shaped curve.\n- As \\( V_{id} \\) increases from a negative value, \\( \\Delta I_c \\) starts from \\(-I_{EE}\\), rises through the origin, and approaches \\( I_{EE} \\) as \\( V_{id} \\) becomes positive.\n- The curve is symmetric about the origin.\n\n4. **Key Features and Technical Details:**\n- The curve passes through the origin (0,0), marking an inflection point with the steepest slope.\n- The curve flattens as \\( V_{id} \\) approaches \\( \\pm V_T \\), with \\( \\Delta I_c \\) nearing \\( \\pm I_{EE} \\).\n- The region between \\( -V_T \\) and \\( +V_T \\) is where the curve is most linear, indicating the range of input voltages for predictable output current changes.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes dashed lines at \\( \\Delta I_c = I_{EE} \\) and \\( \\Delta I_c = -I_{EE} \\), marking the curve's asymptotic limits.\n- The points \\( -V_T \\) and \\( +V_T \\) on the \\( V_{id} \\) axis are labeled, indicating the threshold voltages where the curve begins to saturate.\nFigure 10.2 The dc transfer characteristic of the emitter-coupled pair."
},
{
    "text": "The emitter-coupled pair, depicted in Fig. 10.1, was demonstrated in Chapter 3 to generate output currents that are linked to the differential input voltage by the following equations:\n\n$$\n\\begin{align*}\nI_{c 1} & =\\frac{I_{E E}}{1+\\exp \\left(-\\frac{V_{i d}}{V_{T}}\\right)}  \\tag{10.1}\\\\\nI_{c 2} & =\\frac{I_{E E}}{1+\\exp \\left(\\frac{V_{i d}}{V_{T}}\\right)} \\tag{10.2}\n\\end{align*}\n$$\n\nimage_name:Figure 10.1 Emitter-coupled pair\ndescription:\n[\nname: Q1, type: NPN, ports: {C: LOAD1, B: Vip, E: e1e2}\nname: Q2, type: NPN, ports: {C: LOAD2, B: Vin, E: e1e2}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: e1e2, Nn: GND}\n]\nextrainfo:The circuit is an emitter-coupled pair used as a simple multiplier. It consists of two NPN transistors (Q1 and Q2) with their emitters connected together and to a current source I_EE. The differential input voltage (Vid) is applied between the bases of Q1 and Q2, and the output currents (Ic1 and Ic2) are taken from the collectors connected to LOAD1 and LOAD2 respectively.\nFigure 10.1 Emitter-coupled pair.\nwhere base current has been neglected. Equations 10.1 and 10.2 can be combined to yield the difference between the two output currents:\n\n$$\n\\begin{equation*}\n\\Delta I_{c}=I_{c 1}-I_{c 2}=I_{E E} \\tanh \\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.3}\n\\end{equation*}\n$$\n\nThis relationship is illustrated in Fig. 10.2 and demonstrates that the emitter-coupled pair alone can serve as a basic multiplier. Initially, we assume that the differential input voltage $V_{i d}$ is significantly smaller than $V_{T}$. If this assumption holds, we can use the approximation\n\n$$\n\\begin{equation*}\n\\tanh \\frac{V_{i d}}{2 V_{T}} \\approx \\frac{V_{i d}}{2 V_{T}} \\quad \\frac{V_{i d}}{2 V_{T}} \\ll 1 \\tag{10.4}\n\\end{equation*}\n$$\n\nThus, (10.3) simplifies to\n\n$$\n\\begin{equation*}\n\\Delta I_{c} \\approx I_{E E}\\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.5}\n\\end{equation*}\n$$\n\nThe current $I_{E E}$ serves as the bias current for the emitter-coupled pair. By incorporating additional circuitry, we can make $I_{E E}$ proportional to a secondary input signal $V_{i 2}$, as illustrated in\nimage_name:Figure 10.2\ndescription:The graph in Figure 10.2 is a plot of the DC transfer characteristic of an emitter-coupled pair. It is a sigmoidal curve representing the relationship between the differential input voltage \\( V_{id} \\) on the horizontal axis and the change in collector current \\( \\Delta I_c \\) on the vertical axis.\n\n1. **Type of Graph and Function:**\n- This is a DC transfer characteristic graph, commonly used in analog electronics to depict how an output current changes with an input voltage.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents the differential input voltage \\( V_{id} \\), and the vertical axis represents the change in collector current \\( \\Delta I_c \\).\n- No specific units are marked on the graph, but typically, \\( V_{id} \\) would be in volts and \\( \\Delta I_c \\) in amperes or milliamperes.\n\n3. **Overall Behavior and Trends:**\n- The graph exhibits a sigmoidal or S-shaped curve.\n- As \\( V_{id} \\) increases from a negative value, \\( \\Delta I_c \\) starts from \\(-I_{EE}\\), rises through the origin, and approaches \\( I_{EE} \\) as \\( V_{id} \\) becomes positive.\n- The curve is symmetric around the origin.\n\n4. **Key Features and Technical Details:**\n- The curve passes through the origin (0,0), which is an inflection point with the steepest slope.\n- The curve flattens as \\( V_{id} \\) approaches \\( \\pm V_T \\), with \\( \\Delta I_c \\) nearing \\( \\pm I_{EE} \\).\n- The region between \\( -V_T \\) and \\( +V_T \\) is where the curve is most linear, indicating the range of input voltages for which the output current changes most predictably.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes dashed lines at \\( \\Delta I_c = I_{EE} \\) and \\( \\Delta I_c = -I_{EE} \\), marking the asymptotic limits of the curve.\n- The points \\( -V_T \\) and \\( +V_T \\) on the \\( V_{id} \\) axis are labeled, indicating the threshold voltages where the curve begins to saturate.\nFigure 10.2 The dc transfer characteristic of the emitter-coupled pair."
},
{
    "text": "The rephrased text:\n\n```\nThe emitter-coupled pair, depicted in Fig. 10.1, was demonstrated in Chapter 3 to generate output currents that are correlated with the differential input voltage through the following equations:\n\n$$\n\\begin{align*}\nI_{c 1} & =\\frac{I_{E E}}{1+\\exp \\left(-\\frac{V_{i d}}{V_{T}}\\right)}  \\tag{10.1}\\\\\nI_{c 2} & =\\frac{I_{E E}}{1+\\exp \\left(\\frac{V_{i d}}{V_{T}}\\right)} \\tag{10.2}\n\\end{align*}\n$$\n\nimage_name:Figure 10.1 Emitter-coupled pair\ndescription:\n[\nname: Q1, type: NPN, ports: {C: LOAD1, B: Vip, E: e1e2}\nname: Q2, type: NPN, ports: {C: LOAD2, B: Vin, E: e1e2}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: e1e2, Nn: GND}\n]\nextrainfo:The circuit is an emitter-coupled pair used as a simple multiplier. It comprises two NPN transistors (Q1 and Q2) with their emitters connected together and to a current source I_EE. The differential input voltage (Vid) is applied across the bases of Q1 and Q2, and the output currents (Ic1 and Ic2) are derived from the collectors connected to LOAD1 and LOAD2 respectively.\nFigure 10.1 Emitter-coupled pair.\nwhere base current is disregarded. Equations 10.1 and 10.2 can be merged to yield the difference between the two output currents:\n\n$$\n\\begin{equation*}\n\\Delta I_{c}=I_{c 1}-I_{c 2}=I_{E E} \\tanh \\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.3}\n\\end{equation*}\n$$\n\nThis relationship is illustrated in Fig. 10.2 and indicates that the emitter-coupled pair alone can serve as a basic multiplier. Initially, we assume that the differential input voltage $V_{i d}$ is significantly smaller than $V_{T}$. If this holds true, we can employ the approximation\n\n$$\n\\begin{equation*}\n\\tanh \\frac{V_{i d}}{2 V_{T}} \\approx \\frac{V_{i d}}{2 V_{T}} \\quad \\frac{V_{i d}}{2 V_{T}} \\ll 1 \\tag{10.4}\n\\end{equation*}\n$$\n\nThus, (10.3) simplifies to\n\n$$\n\\begin{equation*}\n\\Delta I_{c} \\approx I_{E E}\\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.5}\n\\end{equation*}\n$$\n\nThe current $I_{E E}$ functions as the bias current for the emitter-coupled pair. By incorporating additional circuitry, we can make $I_{E E}$ proportional to a secondary input signal $V_{i 2}$, as illustrated in\nimage_name:Figure 10.2\ndescription:The graph in Figure 10.2 depicts the DC transfer characteristic of an emitter-coupled pair. It presents a sigmoidal curve representing the relationship between the differential input voltage \\( V_{id} \\) on the horizontal axis and the change in collector current \\( \\Delta I_c \\) on the vertical axis.\n\n1. **Type of Graph and Function:**\n- This is a DC transfer characteristic graph, commonly utilized in analog electronics to depict how an output current varies with an input voltage.\n\n2. **Axes Labels and Units:**\n- The horizontal axis denotes the differential input voltage \\( V_{id} \\), while the vertical axis represents the change in collector current \\( \\Delta I_c \\).\n- No specific units are indicated on the graph, but typically, \\( V_{id} \\) would be in volts and \\( \\Delta I_c \\) in amperes or milliamperes.\n\n3. **Overall Behavior and Trends:**\n- The graph exhibits a sigmoidal or S-shaped curve.\n- As \\( V_{id} \\) increases from a negative value, \\( \\Delta I_c \\) starts from \\(-I_{EE}\\), rises through the origin, and approaches \\( I_{EE} \\) as \\( V_{id} \\) becomes positive.\n- The curve is symmetric around the origin.\n\n4. **Key Features and Technical Details:**\n- The curve passes through the origin (0,0), marking an inflection point where the slope is steepest.\n- The curve levels off as \\( V_{id} \\) approaches \\( \\pm V_T \\), with \\( \\Delta I_c \\) nearing \\( \\pm I_{EE} \\).\n- The region between \\( -V_T \\) and \\( +V_T \\) is where the curve is most linear, indicating the range of input voltages for which the output current changes most predictably.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes dashed lines at \\( \\Delta I_c = I_{EE} \\) and \\( \\Delta I_c = -I_{EE} \\), marking the asymptotic limits of the curve.\n- The points \\( -V_T \\) and \\( +V_T \\) on the \\( V_{id} \\) axis are labeled, indicating the threshold voltages where the curve begins to saturate.\nFigure 10.2 The dc transfer characteristic of the emitter-coupled pair.\n```"
},
{
    "text": "The emitter-coupled pair, depicted in Fig. 10.1, was demonstrated in Chapter 3 to generate output currents that are correlated with the differential input voltage as follows:\n\n$$\n\\begin{align*}\nI_{c 1} & =\\frac{I_{E E}}{1+\\exp \\left(-\\frac{V_{i d}}{V_{T}}\\right)}  \\tag{10.1}\\\\\nI_{c 2} & =\\frac{I_{E E}}{1+\\exp \\left(\\frac{V_{i d}}{V_{T}}\\right)} \\tag{10.2}\n\\end{align*}\n$$\n\nimage_name:Figure 10.1 Emitter-coupled pair\ndescription:\n[\nname: Q1, type: NPN, ports: {C: LOAD1, B: Vip, E: e1e2}\nname: Q2, type: NPN, ports: {C: LOAD2, B: Vin, E: e1e2}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: e1e2, Nn: GND}\n]\nextrainfo:The circuit is an emitter-coupled pair used as a simple multiplier. It consists of two NPN transistors (Q1 and Q2) with their emitters connected together and to a current source I_EE. The differential input voltage (Vid) is applied between the bases of Q1 and Q2, and the output currents (Ic1 and Ic2) are taken from the collectors connected to LOAD1 and LOAD2 respectively.\nFigure 10.1 Emitter-coupled pair.\nwhere base current has been neglected. Equations 10.1 and 10.2 can be combined to yield the difference between the two output currents:\n\n$$\n\\begin{equation*}\n\\Delta I_{c}=I_{c 1}-I_{c 2}=I_{E E} \\tanh \\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.3}\n\\end{equation*}\n$$\n\nThis relationship is illustrated in Fig. 10.2 and demonstrates that the emitter-coupled pair alone can serve as a basic multiplier. Initially, we assume that the differential input voltage $V_{i d}$ is significantly smaller than $V_{T}$. If this assumption holds, we can employ the approximation\n\n$$\n\\begin{equation*}\n\\tanh \\frac{V_{i d}}{2 V_{T}} \\approx \\frac{V_{i d}}{2 V_{T}} \\quad \\frac{V_{i d}}{2 V_{T}} \\ll 1 \\tag{10.4}\n\\end{equation*}\n$$\n\nThus, (10.3) simplifies to\n\n$$\n\\begin{equation*}\n\\Delta I_{c} \\approx I_{E E}\\left(\\frac{V_{i d}}{2 V_{T}}\\right) \\tag{10.5}\n\\end{equation*}\n$$\n\nThe current $I_{E E}$ functions as the bias current for the emitter-coupled pair. By incorporating additional circuitry, we can make $I_{E E}$ proportional to a secondary input signal $V_{i 2}$, as depicted in\nimage_name:Figure 10.2\ndescription:The graph in Figure 10.2 is a plot of the DC transfer characteristic of an emitter-coupled pair. It is a sigmoidal curve representing the relationship between the differential input voltage \\( V_{id} \\) on the horizontal axis and the change in collector current \\( \\Delta I_c \\) on the vertical axis.\n\n1. **Type of Graph and Function:**\n- This is a DC transfer characteristic graph, commonly used in analog electronics to illustrate how an output current varies with an input voltage.\n\n2. **Axes Labels and Units:**\n- The horizontal axis denotes the differential input voltage \\( V_{id} \\), and the vertical axis represents the change in collector current \\( \\Delta I_c \\).\n- No specific units are indicated on the graph, but typically, \\( V_{id} \\) would be in volts and \\( \\Delta I_c \\) in amperes or milliamperes.\n\n3. **Overall Behavior and Trends:**\n- The graph exhibits a sigmoidal or S-shaped curve.\n- As \\( V_{id} \\) increases from a negative value, \\( \\Delta I_c \\) starts from \\(-I_{EE}\\), rises through the origin, and approaches \\( I_{EE} \\) as \\( V_{id} \\) becomes positive.\n- The curve is symmetric around the origin.\n\n4. **Key Features and Technical Details:**\n- The curve passes through the origin (0,0), which is an inflection point with the steepest slope.\n- The curve levels off as \\( V_{id} \\) approaches \\( \\pm V_T \\), with \\( \\Delta I_c \\) nearing \\( \\pm I_{EE} \\).\n- The region between \\( -V_T \\) and \\( +V_T \\) is where the curve is most linear, indicating the range of input voltages for which the output current changes most predictably.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes dashed lines at \\( \\Delta I_c = I_{EE} \\) and \\( \\Delta I_c = -I_{EE} \\), marking the asymptotic limits of the curve.\n- The points \\( -V_T \\) and \\( +V_T \\) on the \\( V_{id} \\) axis are labeled, indicating the threshold voltages where the curve begins to saturate.\nFigure 10.2 The dc transfer characteristic of the emitter-coupled pair."
},
{
    "text": "As previously noted, the hyperbolic tangent function can be expressed as an infinite series:\n\n$$\n\\begin{equation*}\n\\tanh x=x-\\frac{x^{3}}{3} \\cdots \\tag{10.20}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on V2 input.\ndescription:\n[\nname: Q1, type: NPN, ports: {C: d1e4, B: Vip2, E: e1}\nname: Q2, type: NPN, ports: {C: e5e6d2, B: Vin2, E: e2}\nname: Q3, type: NPN, ports: {C: d3d5, B: Vip1, E: d1e4}\nname: Q4, type: NPN, ports: {C: d4d6, B: Vin1, E: d1e4}\nname: Q5, type: NPN, ports: {C: d3d5, B: Vin1, E: e5e6d2}\nname: Q6, type: NPN, ports: {C: d4d6, B: Vip1, E: e5e6d2}\nname: R, type: Resistor, value: R, ports: {N1: e1, N2: X1}\nname: R, type: Resistor, value: R, ports: {N1: e2, N2: X1}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: X1, Nn: GND}\n]\nextrainfo:The circuit is a Gilbert cell multiplier with emitter degeneration to enhance the input voltage range on V2 input. It employs six NPN transistors and two resistors to multiply two input signals, V1 and V2. The differential output current I_out is given by I_out = I_c3-5 - I_c4-6.\nFigure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on $V_{2}$ input.\n\nFor values of $x$ significantly less than one, the hyperbolic tangent can be approximated by\n\n$$\n\\begin{equation*}\n\\tanh x \\approx x \\tag{10.21}\n\\end{equation*}\n$$\n\nUsing this approximation in (10.19), we obtain\n\n$$\n\\begin{equation*}\n\\Delta I \\approx I_{E E}\\left(\\frac{V_{1}}{2 V_{T}}\\right)\\left(\\frac{V_{2}}{2 V_{T}}\\right) \\quad V_{1}, V_{2} \\ll V_{T} \\tag{10.22}\n\\end{equation*}\n$$\n\nThus, for small signal amplitudes, the circuit performs analog multiplication. However, input signal amplitudes often exceed $V_{T}$, but there are several methods to handle larger signals. If only one signal is much larger than $V_{T}$, emitter degeneration can be applied to the lower emitter-coupled pair, increasing the linear input range for $V_{2}$ as depicted in Fig. 10.5. Unfortunately, this cannot be applied to the cross-coupled pairs $Q_{3}-Q_{6}$ because the degeneration resistors would disrupt the necessary nonlinear relationship between $I_{c}$ and $V_{b e}$ in those transistors.\n\nAn alternative method involves introducing a nonlinearity that predistorts the input signals to counteract the hyperbolic tangent transfer characteristic of the basic cell. The required nonlinearity is an inverse hyperbolic tangent characteristic, and a hypothetical example of such a system is illustrated in Fig. 10.6. Fortunately, this specific nonlinearity is easy to generate.\n\nReferring to Fig. 10.7, we assume that the circuit within the box generates a differential output current linearly related to the input voltage $V_{1}$. Thus,\n\n$$\n\\begin{align*}\n& I_{1}=I_{o 1}+K_{1} V_{1}  \\tag{10.23}\\\\\n& I_{2}=I_{o 1}-K_{1} V_{1} \\tag{10.24}\n\\end{align*}\n$$\n\nimage_name:Figure 10.6 Gilbert multiplier with predistortion circuits\ndescription:The circuit is a Gilbert cell multiplier with predistortion using inverse hyperbolic tangent circuits. It processes differential inputs V1 and V2 through inverse tanh blocks and uses a differential pair of transistors to produce an output current Iout = Ic3-5 - Ic4-6.\nFigure 10.6 Gilbert multiplier with predistortion circuits.\nimage_name:Figure 10.7 Inverse hyperbolic tangent circuit\ndescription:The circuit is an inverse hyperbolic tangent circuit used in a Gilbert cell multiplier. It processes differential input V1 through a voltage-current converter and uses transistors Q7 and Q8 to produce a differential output voltage V.\n\nFigure 10.7 Inverse hyperbolic tangent circuit.\n\nHere, $I_{o 1}$ is the dc current flowing in each output lead when $V_{1}$ is zero, and $K_{1}$ is the transconductance of the voltage-to-current converter. The differential voltage developed across the two diode-connected transistors is\n\n$$\n\\begin{align*}\n\\Delta V & =V_{T} \\ln \\left(\\frac{I_{o 1}+K_{1} V_{1}}{I_{S}}\\right)-V_{T} \\ln \\left(\\frac{I_{o 1}-K_{1} V_{1}}{I_{S}}\\right) \\\\\n& =V_{T} \\ln \\left(\\frac{I_{o 1}+K_{1} V_{1}}{I_{o 1}-K_{1} V_{1}}\\right) \\tag{10.25}\n\\end{align*}\n$$\n\nThis function can be transformed using the identity\n\n$$\n\\begin{equation*}\n\\tanh ^{-1} x=\\frac{1}{2} \\ln \\left(\\frac{1+x}{1-x}\\right) \\tag{10.26}\n\\end{equation*}\n$$\n\ninto the desired relationship.\n\n$$\n\\begin{equation*}\n\\Delta V=2 V_{T} \\tanh ^{-1}\\left(\\frac{K_{1} V_{1}}{I_{o 1}}\\right) \\tag{10.27}\n\\end{equation*}\n$$\n\nThus, if this functional block is used as the compensating nonlinearity in series with each input as shown in Fig. 10.6, the overall transfer characteristic becomes, using (10.19),\n\n$$\n\\begin{equation*}\n\\Delta I=I_{E E}\\left(\\frac{K_{1} V_{1}}{I_{o 1}}\\right)\\left(\\frac{K_{2} V_{2}}{I_{o 2}}\\right) \\tag{10.28}\n\\end{equation*}\n$$\n\nwhere $I_{o 2}$ and $K_{2}$ are the parameters of the functional block following $V_{2}$.\nEquation 10.28 indicates that the differential output current is directly proportional to the product $V_{1} V_{2}$, and this relationship theoretically holds for all values of $V_{1}$ and $V_{2}$ for which the two output currents of the differential voltage-to-current converters are positive. For this to be valid, $I_{1}$ and $I_{2}$ must always be positive, and from (10.23) and (10.24), we have\n\n$$\n\\begin{align*}\n& -\\frac{I_{o 1}}{K_{1}}<V_{1}<\\frac{I_{o 1}}{K_{1}}  \\tag{10.29}\\\\\n& -\\frac{I_{o 2}}{K_{2}}<V_{2}<\\frac{I_{o 2}}{K_{2}} \\tag{10.30}\n\\end{align*}\n$$\n\nNote that adding a compensating nonlinearity to the $V_{2}$ input simply makes the collector currents of $Q_{1}$ and $Q_{2}$ directly proportional to the input voltage $V_{2}$ rather than to its hyperbolic tangent. Thus, the combination of the pair $Q_{1}-Q_{2}$ and the compensating nonlinearity on the $V_{2}$ input is redundant, and the output currents of the voltage-to-current converter on the $V_{2}$ input can be directly fed into the emitters of the $Q_{3}-Q_{4}$ and $Q_{5}-Q_{6}$ pairs with the same results. The multiplier then assumes the form shown in Fig. 10.8."
},
{
    "text": "As previously noted, the hyperbolic tangent function can be expressed as an infinite series:\n\n$$\n\\begin{equation*}\n\\tanh x = x - \\frac{x^3}{3} \\cdots \\tag{10.20}\n\\end{equation*}\n$$\n\nimage_name: Figure 10.5 Gilbert multiplier with emitter degeneration applied to enhance input voltage range on V2 input.\ndescription:\n[\nname: Q1, type: NPN, ports: {C: d1e4, B: Vip2, E: e1}\nname: Q2, type: NPN, ports: {C: e5e6d2, B: Vin2, E: e2}\nname: Q3, type: NPN, ports: {C: d3d5, B: Vip1, E: d1e4}\nname: Q4, type: NPN, ports: {C: d4d6, B: Vin1, E: d1e4}\nname: Q5, type: NPN, ports: {C: d3d5, B: Vin1, E: e5e6d2}\nname: Q6, type: NPN, ports: {C: d4d6, B: Vip1, E: e5e6d2}\nname: R, type: Resistor, value: R, ports: {N1: e1, N2: X1}\nname: R, type: Resistor, value: R, ports: {N1: e2, N2: X1}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: X1, Nn: GND}\n]\nextrainfo: The circuit is a Gilbert cell multiplier with emitter degeneration to enhance the input voltage range on V2 input. It employs six NPN transistors and two resistors to multiply two input signals, V1 and V2. The differential output current I_out is given by I_out = I_c3-5 - I_c4-6.\nFigure 10.5 Gilbert multiplier with emitter degeneration applied to enhance input voltage range on $V_{2}$ input.\n\nWhen $x$ is significantly less than one, the hyperbolic tangent can be approximated by\n\n$$\n\\begin{equation*}\n\\tanh x \\approx x \\tag{10.21}\n\\end{equation*}\n$$\n\nApplying this approximation to (10.19), we obtain\n\n$$\n\\begin{equation*}\n\\Delta I \\approx I_{EE}\\left(\\frac{V_{1}}{2 V_{T}}\\right)\\left(\\frac{V_{2}}{2 V_{T}}\\right) \\quad V_{1}, V_{2} \\ll V_{T} \\tag{10.22}\n\\end{equation*}\n$$\n\nThus, for small-amplitude signals, the circuit performs analog multiplication. However, the input signal amplitudes often exceed $V_{T}$, but there are several methods to handle larger signals. If only one signal is significantly larger than $V_{T}$, emitter degeneration can be applied to the lower emitter-coupled pair, increasing the linear input range for $V_{2}$ as depicted in Fig. 10.5. Unfortunately, this cannot be applied to the cross-coupled pairs $Q_{3}-Q_{6}$ because the degeneration resistors disrupt the necessary nonlinear relationship between $I_{c}$ and $V_{be}$ in those devices.\n\nAn alternative method is to introduce a nonlinearity that predistorts the input signals to counteract the hyperbolic tangent transfer characteristic of the basic cell. The required nonlinearity is an inverse hyperbolic tangent characteristic, and a hypothetical example of such a system is illustrated in Fig. 10.6. Fortunately, this specific nonlinearity is easy to generate.\n\nReferring to Fig. 10.7, we assume that the circuitry within the box generates a differential output current that is linearly related to the input voltage $V_{1}$. Thus,\n\n$$\n\\begin{align*}\n& I_{1} = I_{o1} + K_{1} V_{1} \\tag{10.23}\\\\\n& I_{2} = I_{o1} - K_{1} V_{1} \\tag{10.24}\n\\end{align*}\n$$\n\nimage_name: Figure 10.6 Gilbert multiplier with predistortion circuits\ndescription: The circuit is a Gilbert cell multiplier with predistortion using inverse hyperbolic tangent circuits. It processes differential inputs V1 and V2 through inverse tanh blocks and uses a differential pair of transistors to produce an output current Iout = Ic3-5 - Ic4-6.\nFigure 10.6 Gilbert multiplier with predistortion circuits.\nimage_name: Figure 10.7 Inverse hyperbolic tangent circuit\ndescription: The circuit is an inverse hyperbolic tangent circuit used in a Gilbert cell multiplier. It processes differential input V1 through a voltage-current converter and uses transistors Q7 and Q8 to produce a differential output voltage V.\n\nFigure 10.7 Inverse hyperbolic tangent circuit.\n\nHere, $I_{o1}$ is the dc current flowing in each output lead when $V_{1}$ is zero, and $K_{1}$ is the transconductance of the voltage-to-current converter. The differential voltage developed across the two diode-connected transistors is\n\n$$\n\\begin{align*}\n\\Delta V & = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{S}}\\right) - V_{T} \\ln \\left(\\frac{I_{o1} - K_{1} V_{1}}{I_{S}}\\right) \\\\\n& = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{o1} - K_{1} V_{1}}\\right) \\tag{10.25}\n\\end{align*}\n$$\n\nThis function can be transformed using the identity\n\n$$\n\\begin{equation*}\n\\tanh^{-1} x = \\frac{1}{2} \\ln \\left(\\frac{1 + x}{1 - x}\\right) \\tag{10.26}\n\\end{equation*}\n$$\n\ninto the desired relationship.\n\n$$\n\\begin{equation*}\n\\Delta V = 2 V_{T} \\tanh^{-1}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right) \\tag{10.27}\n\\end{equation*}\n$$\n\nThus, if this functional block is used as the compensating nonlinearity in series with each input as shown in Fig. 10.6, the overall transfer characteristic becomes, using (10.19),\n\n$$\n\\begin{equation*}\n\\Delta I = I_{EE}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right)\\left(\\frac{K_{2} V_{2}}{I_{o2}}\\right) \\tag{10.28}\n\\end{equation*}\n$$\n\nwhere $I_{o2}$ and $K_{2}$ are the parameters of the functional block following $V_{2}$. Equation 10.28 indicates that the differential output current is directly proportional to the product $V_{1} V_{2}$, and this relationship theoretically holds for all values of $V_{1}$ and $V_{2}$ for which the two output currents of the differential voltage-to-current converters are positive. For this to be valid, $I_{1}$ and $I_{2}$ must always be positive, and from (10.23) and (10.24), we have\n\n$$\n\\begin{align*}\n& -\\frac{I_{o1}}{K_{1}} < V_{1} < \\frac{I_{o1}}{K_{1}} \\tag{10.29}\\\\\n& -\\frac{I_{o2}}{K_{2}} < V_{2} < \\frac{I_{o2}}{K_{2}} \\tag{10.30}\n\\end{align*}\n$$\n\nNote that adding a compensating nonlinearity to the $V_{2}$ input simply makes the collector currents of $Q_{1}$ and $Q_{2}$ directly proportional to the input voltage $V_{2}$ rather than to its hyperbolic tangent. Thus, the combination of the pair $Q_{1}-Q_{2}$ and the compensating nonlinearity on the $V_{2}$ input is redundant, and the output currents of the voltage-to-current converter on the $V_{2}$ input can be directly fed into the emitters of the $Q_{3}-Q_{4}$ and $Q_{5}-Q_{6}$ pairs with the same results. The multiplier then assumes the form shown in Fig. 10.8."
},
{
    "text": "As previously noted, the hyperbolic tangent function can be expressed as an infinite series:\n\n$$\n\\begin{equation*}\n\\tanh x = x - \\frac{x^3}{3} \\cdots \\tag{10.20}\n\\end{equation*}\n$$\n\nimage_name: Figure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on V2 input.\ndescription:\n[\nname: Q1, type: NPN, ports: {C: d1e4, B: Vip2, E: e1}\nname: Q2, type: NPN, ports: {C: e5e6d2, B: Vin2, E: e2}\nname: Q3, type: NPN, ports: {C: d3d5, B: Vip1, E: d1e4}\nname: Q4, type: NPN, ports: {C: d4d6, B: Vin1, E: d1e4}\nname: Q5, type: NPN, ports: {C: d3d5, B: Vin1, E: e5e6d2}\nname: Q6, type: NPN, ports: {C: d4d6, B: Vip1, E: e5e6d2}\nname: R, type: Resistor, value: R, ports: {N1: e1, N2: X1}\nname: R, type: Resistor, value: R, ports: {N1: e2, N2: X1}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: X1, Nn: GND}\n]\nextrainfo: The circuit is a Gilbert cell multiplier with emitter degeneration, designed to enhance the input voltage range on the V2 input. It employs six NPN transistors and two resistors to multiply two input signals, V1 and V2. The differential output current, I_out, is calculated as I_out = I_c3-5 - I_c4-6.\nFigure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on $V_{2}$ input.\n\nWhen $x$ is significantly less than one, the hyperbolic tangent can be approximated by\n\n$$\n\\begin{equation*}\n\\tanh x \\approx x \\tag{10.21}\n\\end{equation*}\n$$\n\nUsing this approximation in (10.19), we obtain\n\n$$\n\\begin{equation*}\n\\Delta I \\approx I_{EE}\\left(\\frac{V_{1}}{2 V_{T}}\\right)\\left(\\frac{V_{2}}{2 V_{T}}\\right) \\quad V_{1}, V_{2} \\ll V_{T} \\tag{10.22}\n\\end{equation*}\n$$\n\nThus, for small signal amplitudes, the circuit effectively performs analog multiplication. However, input signal amplitudes often exceed $V_{T}$, but there are several methods to handle larger signals. If only one signal is significantly larger than $V_{T}$, emitter degeneration can be applied to the lower emitter-coupled pair, thereby increasing the linear input range for $V_{2}$, as illustrated in Fig. 10.5. Unfortunately, this approach cannot be applied to the cross-coupled pairs $Q_{3}-Q_{6}$, as the degeneration resistors would disrupt the necessary nonlinear relationship between $I_{c}$ and $V_{be}$ in those transistors.\n\nAn alternative method involves introducing a nonlinearity that predistorts the input signals to counteract the hyperbolic tangent transfer characteristic of the basic cell. The required nonlinearity is an inverse hyperbolic tangent characteristic, and a conceptual example of such a system is depicted in Fig. 10.6. Fortunately, this specific nonlinearity is relatively easy to generate.\n\nReferring to Fig. 10.7, we assume that the circuit within the box generates a differential output current that is linearly proportional to the input voltage $V_{1}$. Therefore,\n\n$$\n\\begin{align*}\n& I_{1} = I_{o1} + K_{1} V_{1} \\tag{10.23}\\\\\n& I_{2} = I_{o1} - K_{1} V_{1} \\tag{10.24}\n\\end{align*}\n$$\n\nimage_name: Figure 10.6 Gilbert multiplier with predistortion circuits\ndescription: The circuit is a Gilbert cell multiplier incorporating predistortion using inverse hyperbolic tangent circuits. It processes differential inputs V1 and V2 through inverse tanh blocks and utilizes a differential pair of transistors to produce an output current Iout = Ic3-5 - Ic4-6.\nFigure 10.6 Gilbert multiplier with predistortion circuits.\nimage_name: Figure 10.7 Inverse hyperbolic tangent circuit\ndescription: The circuit is an inverse hyperbolic tangent circuit used in a Gilbert cell multiplier. It processes differential input V1 via a voltage-current converter and employs transistors Q7 and Q8 to generate a differential output voltage V.\n\nFigure 10.7 Inverse hyperbolic tangent circuit.\n\nHere, $I_{o1}$ represents the dc current flowing in each output lead when $V_{1}$ is zero, and $K_{1}$ is the transconductance of the voltage-to-current converter. The differential voltage across the two diode-connected transistors is\n\n$$\n\\begin{align*}\n\\Delta V & = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{S}}\\right) - V_{T} \\ln \\left(\\frac{I_{o1} - K_{1} V_{1}}{I_{S}}\\right) \\\\\n& = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{o1} - K_{1} V_{1}}\\right) \\tag{10.25}\n\\end{align*}\n$$\n\nThis function can be transformed using the identity\n\n$$\n\\begin{equation*}\n\\tanh^{-1} x = \\frac{1}{2} \\ln \\left(\\frac{1 + x}{1 - x}\\right) \\tag{10.26}\n\\end{equation*}\n$$\n\ninto the desired relationship:\n\n$$\n\\begin{equation*}\n\\Delta V = 2 V_{T} \\tanh^{-1}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right) \\tag{10.27}\n\\end{equation*}\n$$\n\nThus, if this functional block is used as the compensating nonlinearity in series with each input, as shown in Fig. 10.6, the overall transfer characteristic, using (10.19), becomes\n\n$$\n\\begin{equation*}\n\\Delta I = I_{EE}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right)\\left(\\frac{K_{2} V_{2}}{I_{o2}}\\right) \\tag{10.28}\n\\end{equation*}\n$$\n\nwhere $I_{o2}$ and $K_{2}$ are the parameters of the functional block following $V_{2}$. Equation 10.28 indicates that the differential output current is directly proportional to the product $V_{1} V_{2}$, and this relationship theoretically holds for all values of $V_{1}$ and $V_{2}$ for which the output currents of the differential voltage-to-current converters are positive. For this to be valid, $I_{1}$ and $I_{2}$ must always be positive, and from (10.23) and (10.24), we have\n\n$$\n\\begin{align*}\n& -\\frac{I_{o1}}{K_{1}} < V_{1} < \\frac{I_{o1}}{K_{1}} \\tag{10.29}\\\\\n& -\\frac{I_{o2}}{K_{2}} < V_{2} < \\frac{I_{o2}}{K_{2}} \\tag{10.30}\n\\end{align*}\n$$\n\nNote that incorporating a compensating nonlinearity on the $V_{2}$ input simply makes the collector currents of $Q_{1}$ and $Q_{2}$ directly proportional to the input voltage $V_{2}$ rather than to its hyperbolic tangent. Thus, the combination of the pair $Q_{1}-Q_{2}$ and the compensating nonlinearity on the $V_{2}$ input is redundant, and the output currents of the voltage-to-current converter on the $V_{2}$ input can be directly fed into the emitters of the $Q_{3}-Q_{4}$ and $Q_{5}-Q_{6}$ pairs with identical results. The multiplier then assumes the form shown in Fig. 10.8."
},
{
    "text": "As previously noted, the hyperbolic tangent function can be expressed as an infinite series:\n\n$$\n\\begin{equation*}\n\\tanh x = x - \\frac{x^3}{3} \\cdots \\tag{10.20}\n\\end{equation*}\n$$\n\nimage_name: Figure 10.5 Gilbert multiplier with emitter degeneration applied to enhance input voltage range on V2 input.\ndescription:\n[\nname: Q1, type: NPN, ports: {C: d1e4, B: Vip2, E: e1}\nname: Q2, type: NPN, ports: {C: e5e6d2, B: Vin2, E: e2}\nname: Q3, type: NPN, ports: {C: d3d5, B: Vip1, E: d1e4}\nname: Q4, type: NPN, ports: {C: d4d6, B: Vin1, E: d1e4}\nname: Q5, type: NPN, ports: {C: d3d5, B: Vin1, E: e5e6d2}\nname: Q6, type: NPN, ports: {C: d4d6, B: Vip1, E: e5e6d2}\nname: R, type: Resistor, value: R, ports: {N1: e1, N2: X1}\nname: R, type: Resistor, value: R, ports: {N1: e2, N2: X1}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: X1, Nn: GND}\n]\nextrainfo: The circuit is a Gilbert cell multiplier with emitter degeneration to enhance the input voltage range on V2 input. It employs six NPN transistors and two resistors to multiply two input signals, V1 and V2. The differential output current I_out is given by I_out = I_c3-5 - I_c4-6.\nFigure 10.5 Gilbert multiplier with emitter degeneration applied to enhance input voltage range on $V_{2}$ input.\n\nWhen $x$ is significantly less than one, the hyperbolic tangent can be approximated as\n\n$$\n\\begin{equation*}\n\\tanh x \\approx x \\tag{10.21}\n\\end{equation*}\n$$\n\nUsing this approximation in (10.19), we obtain\n\n$$\n\\begin{equation*}\n\\Delta I \\approx I_{EE}\\left(\\frac{V_{1}}{2 V_{T}}\\right)\\left(\\frac{V_{2}}{2 V_{T}}\\right) \\quad V_{1}, V_{2} \\ll V_{T} \\tag{10.22}\n\\end{equation*}\n$$\n\nThus, for small signal amplitudes, the circuit performs analog multiplication. However, input signal amplitudes often exceed $V_{T}$, but larger signals can be managed in several ways. If only one signal is much larger than $V_{T}$, emitter degeneration can be applied to the lower emitter-coupled pair, increasing the linear input range for $V_{2}$ as depicted in Fig. 10.5. Unfortunately, this cannot be applied to the cross-coupled pairs $Q_{3}-Q_{6}$ because the degeneration resistors disrupt the necessary nonlinear relationship between $I_{c}$ and $V_{be}$ in those devices.\n\nAn alternative method involves introducing a nonlinearity that predistorts the input signals to counteract the hyperbolic tangent transfer characteristic of the basic cell. The required nonlinearity is an inverse hyperbolic tangent characteristic, and a hypothetical example of such a system is illustrated in Fig. 10.6. Fortunately, this specific nonlinearity is easy to generate.\n\nReferring to Fig. 10.7, we initially assume that the circuit within the box generates a differential output current linearly related to the input voltage $V_{1}$. Thus,\n\n$$\n\\begin{align*}\n& I_{1} = I_{o1} + K_{1} V_{1} \\tag{10.23}\\\\\n& I_{2} = I_{o1} - K_{1} V_{1} \\tag{10.24}\n\\end{align*}\n$$\n\nimage_name: Figure 10.6 Gilbert multiplier with predistortion circuits\ndescription: The circuit is a Gilbert cell multiplier with predistortion using inverse hyperbolic tangent circuits. It processes differential inputs V1 and V2 through inverse tanh blocks and uses a differential pair of transistors to produce an output current Iout = Ic3-5 - Ic4-6.\nFigure 10.6 Gilbert multiplier with predistortion circuits.\nimage_name: Figure 10.7 Inverse hyperbolic tangent circuit\ndescription: The circuit is an inverse hyperbolic tangent circuit used in a Gilbert cell multiplier. It processes differential input V1 through a voltage-current converter and uses transistors Q7 and Q8 to produce a differential output voltage V.\n\nFigure 10.7 Inverse hyperbolic tangent circuit.\n\nHere, $I_{o1}$ is the dc current flowing in each output lead when $V_{1}$ is zero, and $K_{1}$ is the transconductance of the voltage-to-current converter. The differential voltage across the two diode-connected transistors is\n\n$$\n\\begin{align*}\n\\Delta V & = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{S}}\\right) - V_{T} \\ln \\left(\\frac{I_{o1} - K_{1} V_{1}}{I_{S}}\\right) \\\\\n& = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{o1} - K_{1} V_{1}}\\right) \\tag{10.25}\n\\end{align*}\n$$\n\nThis function can be transformed using the identity\n\n$$\n\\begin{equation*}\n\\tanh^{-1} x = \\frac{1}{2} \\ln \\left(\\frac{1 + x}{1 - x}\\right) \\tag{10.26}\n\\end{equation*}\n$$\n\ninto the desired relationship.\n\n$$\n\\begin{equation*}\n\\Delta V = 2 V_{T} \\tanh^{-1}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right) \\tag{10.27}\n\\end{equation*}\n$$\n\nThus, if this functional block is used as the compensating nonlinearity in series with each input as shown in Fig. 10.6, the overall transfer characteristic becomes, using (10.19),\n\n$$\n\\begin{equation*}\n\\Delta I = I_{EE}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right)\\left(\\frac{K_{2} V_{2}}{I_{o2}}\\right) \\tag{10.28}\n\\end{equation*}\n$$\n\nwhere $I_{o2}$ and $K_{2}$ are the parameters of the functional block following $V_{2}$.\nEquation 10.28 indicates that the differential output current is directly proportional to the product $V_{1} V_{2}$, and this relationship holds for all values of $V_{1}$ and $V_{2}$ for which the two output currents of the differential voltage-to-current converters are positive. For this to be valid, $I_{1}$ and $I_{2}$ must always be positive, and from (10.23) and (10.24), we have\n\n$$\n\\begin{align*}\n& -\\frac{I_{o1}}{K_{1}} < V_{1} < \\frac{I_{o1}}{K_{1}} \\tag{10.29}\\\\\n& -\\frac{I_{o2}}{K_{2}} < V_{2} < \\frac{I_{o2}}{K_{2}} \\tag{10.30}\n\\end{align*}\n$$\n\nNote that adding a compensating nonlinearity to the $V_{2}$ input simply makes the collector currents of $Q_{1}$ and $Q_{2}$ directly proportional to the input voltage $V_{2}$ rather than to its hyperbolic tangent. Thus, the combination of the pair $Q_{1}-Q_{2}$ and the compensating nonlinearity on the $V_{2}$ input is redundant, and the output currents of the voltage-to-current converter on the $V_{2}$ input can be directly fed into the emitters of the $Q_{3}-Q_{4}$ and $Q_{5}-Q_{6}$ pairs with the same results. The multiplier then assumes the form shown in Fig. 10.8."
},
{
    "text": "As previously noted, the hyperbolic tangent function can be expressed as an infinite series:\n\n$$\n\\begin{equation*}\n\\tanh x = x - \\frac{x^3}{3} \\cdots \\tag{10.20}\n\\end{equation*}\n$$\n\nimage_name: Figure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on V2 input.\ndescription:\n[\nname: Q1, type: NPN, ports: {C: d1e4, B: Vip2, E: e1}\nname: Q2, type: NPN, ports: {C: e5e6d2, B: Vin2, E: e2}\nname: Q3, type: NPN, ports: {C: d3d5, B: Vip1, E: d1e4}\nname: Q4, type: NPN, ports: {C: d4d6, B: Vin1, E: d1e4}\nname: Q5, type: NPN, ports: {C: d3d5, B: Vin1, E: e5e6d2}\nname: Q6, type: NPN, ports: {C: d4d6, B: Vip1, E: e5e6d2}\nname: R, type: Resistor, value: R, ports: {N1: e1, N2: X1}\nname: R, type: Resistor, value: R, ports: {N1: e2, N2: X1}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: X1, Nn: GND}\n]\nextrainfo: The circuit is a Gilbert cell multiplier with emitter degeneration to enhance the input voltage range on V2 input. It employs six NPN transistors and two resistors to multiply two input signals, V1 and V2. The differential output current I_out is given by I_out = I_c3-5 - I_c4-6.\nFigure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on $V_{2}$ input.\n\nFor $x$ significantly less than one, the hyperbolic tangent can be approximated by\n\n$$\n\\begin{equation*}\n\\tanh x \\approx x \\tag{10.21}\n\\end{equation*}\n$$\n\nUsing this approximation in (10.19), we obtain\n\n$$\n\\begin{equation*}\n\\Delta I \\approx I_{EE}\\left(\\frac{V_{1}}{2 V_{T}}\\right)\\left(\\frac{V_{2}}{2 V_{T}}\\right) \\quad V_{1}, V_{2} \\ll V_{T} \\tag{10.22}\n\\end{equation*}\n$$\n\nThus, for small signal amplitudes, the circuit performs analog multiplication. However, input signal amplitudes often exceed $V_{T}$, but there are several methods to handle larger signals. If only one signal is much larger than $V_{T}$, emitter degeneration can be applied to the lower emitter-coupled pair, increasing the linear input range for $V_{2}$ as depicted in Fig. 10.5. Unfortunately, this cannot be applied to the cross-coupled pairs $Q_{3}-Q_{6}$ as the degeneration resistors disrupt the necessary nonlinear relationship between $I_{c}$ and $V_{be}$ in those devices.\n\nAn alternative method involves introducing a nonlinearity to predistort the input signals, compensating for the hyperbolic tangent transfer characteristic of the basic cell. The required nonlinearity is an inverse hyperbolic tangent characteristic, and a hypothetical example of such a system is illustrated in Fig. 10.6. Fortunately, this specific nonlinearity is easy to generate.\n\nReferring to Fig. 10.7, we initially assume that the circuit within the box produces a differential output current linearly related to the input voltage $V_{1}$. Thus,\n\n$$\n\\begin{align*}\n& I_{1} = I_{o1} + K_{1} V_{1} \\tag{10.23}\\\\\n& I_{2} = I_{o1} - K_{1} V_{1} \\tag{10.24}\n\\end{align*}\n$$\n\nimage_name: Figure 10.6 Gilbert multiplier with predistortion circuits\ndescription: The circuit is a Gilbert cell multiplier with predistortion using inverse hyperbolic tangent circuits. It processes differential inputs V1 and V2 through inverse tanh blocks and uses a differential pair of transistors to generate an output current Iout = Ic3-5 - Ic4-6.\nFigure 10.6 Gilbert multiplier with predistortion circuits.\nimage_name: Figure 10.7 Inverse hyperbolic tangent circuit\ndescription: The circuit is an inverse hyperbolic tangent circuit used in a Gilbert cell multiplier. It processes differential input V1 through a voltage-current converter and employs transistors Q7 and Q8 to produce a differential output voltage V.\n\nFigure 10.7 Inverse hyperbolic tangent circuit.\n\nHere, $I_{o1}$ is the dc current flowing in each output lead when $V_{1}$ is zero, and $K_{1}$ is the transconductance of the voltage-to-current converter. The differential voltage across the two diode-connected transistors is\n\n$$\n\\begin{align*}\n\\Delta V & = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{S}}\\right) - V_{T} \\ln \\left(\\frac{I_{o1} - K_{1} V_{1}}{I_{S}}\\right) \\\\\n& = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{o1} - K_{1} V_{1}}\\right) \\tag{10.25}\n\\end{align*}\n$$\n\nThis function can be transformed using the identity\n\n$$\n\\begin{equation*}\n\\tanh^{-1} x = \\frac{1}{2} \\ln \\left(\\frac{1 + x}{1 - x}\\right) \\tag{10.26}\n\\end{equation*}\n$$\n\ninto the desired relationship:\n\n$$\n\\begin{equation*}\n\\Delta V = 2 V_{T} \\tanh^{-1}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right) \\tag{10.27}\n\\end{equation*}\n$$\n\nThus, if this functional block is used as the compensating nonlinearity in series with each input as shown in Fig. 10.6, the overall transfer characteristic becomes, using (10.19),\n\n$$\n\\begin{equation*}\n\\Delta I = I_{EE}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right)\\left(\\frac{K_{2} V_{2}}{I_{o2}}\\right) \\tag{10.28}\n\\end{equation*}\n$$\n\nwhere $I_{o2}$ and $K_{2}$ are the parameters of the functional block following $V_{2}$. Equation 10.28 indicates that the differential output current is directly proportional to the product $V_{1} V_{2}$, and this relationship holds for all values of $V_{1}$ and $V_{2}$ for which the two output currents of the differential voltage-to-current converters are positive. For this to be valid, $I_{1}$ and $I_{2}$ must always be positive, and from (10.23) and (10.24), we have\n\n$$\n\\begin{align*}\n& -\\frac{I_{o1}}{K_{1}} < V_{1} < \\frac{I_{o1}}{K_{1}} \\tag{10.29}\\\\\n& -\\frac{I_{o2}}{K_{2}} < V_{2} < \\frac{I_{o2}}{K_{2}} \\tag{10.30}\n\\end{align*}\n$$\n\nNote that adding a compensating nonlinearity to the $V_{2}$ input simply makes the collector currents of $Q_{1}$ and $Q_{2}$ directly proportional to the input voltage $V_{2}$ rather than to its hyperbolic tangent. Thus, the combination of the pair $Q_{1}-Q_{2}$ and the compensating nonlinearity on the $V_{2}$ input is redundant, and the output currents of the voltage-to-current converter on the $V_{2}$ input can be directly fed into the emitters of the $Q_{3}-Q_{4}$ and $Q_{5}-Q_{6}$ pairs with the same results. The multiplier then assumes the form shown in Fig. 10.8."
},
{
    "text": "As previously noted, the hyperbolic tangent function can be expressed as an infinite series:\n\n$$\n\\begin{equation*}\n\\tanh x = x - \\frac{x^3}{3} \\cdots \\tag{10.20}\n\\end{equation*}\n$$\n\nimage_name: Figure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on V2 input.\ndescription:\n[\nname: Q1, type: NPN, ports: {C: d1e4, B: Vip2, E: e1}\nname: Q2, type: NPN, ports: {C: e5e6d2, B: Vin2, E: e2}\nname: Q3, type: NPN, ports: {C: d3d5, B: Vip1, E: d1e4}\nname: Q4, type: NPN, ports: {C: d4d6, B: Vin1, E: d1e4}\nname: Q5, type: NPN, ports: {C: d3d5, B: Vin1, E: e5e6d2}\nname: Q6, type: NPN, ports: {C: d4d6, B: Vip1, E: e5e6d2}\nname: R, type: Resistor, value: R, ports: {N1: e1, N2: X1}\nname: R, type: Resistor, value: R, ports: {N1: e2, N2: X1}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: X1, Nn: GND}\n]\nextrainfo: This circuit is a Gilbert cell multiplier with emitter degeneration to enhance the input voltage range on V2 input. It employs six NPN transistors and two resistors to multiply two input signals, V1 and V2. The differential output current I_out is given by I_out = I_c3-5 - I_c4-6.\nFigure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on $V_{2}$ input.\n\nWhen $x$ is significantly less than one, the hyperbolic tangent can be approximated as\n\n$$\n\\begin{equation*}\n\\tanh x \\approx x \\tag{10.21}\n\\end{equation*}\n$$\n\nUsing this approximation in (10.19), we obtain\n\n$$\n\\begin{equation*}\n\\Delta I \\approx I_{EE}\\left(\\frac{V_{1}}{2 V_{T}}\\right)\\left(\\frac{V_{2}}{2 V_{T}}\\right) \\quad V_{1}, V_{2} \\ll V_{T} \\tag{10.22}\n\\end{equation*}\n$$\n\nThus, for small signal amplitudes, the circuit performs analog multiplication. However, input signal amplitudes often exceed $V_{T}$, but larger signals can be managed in several ways. If only one signal is significantly larger than $V_{T}$, emitter degeneration can be applied to the lower emitter-coupled pair, increasing the linear input range for $V_{2}$ as depicted in Fig. 10.5. Unfortunately, this cannot be applied to the cross-coupled pairs $Q_{3}-Q_{6}$ because the degeneration resistors disrupt the necessary nonlinear relationship between $I_{c}$ and $V_{be}$ in those devices.\n\nAn alternative method is to introduce a nonlinearity that predistorts the input signals to counteract the hyperbolic tangent transfer characteristic of the basic cell. The required nonlinearity is an inverse hyperbolic tangent characteristic, and a hypothetical example of such a system is illustrated in Fig. 10.6. Fortunately, this specific nonlinearity is easy to generate.\n\nReferring to Fig. 10.7, we assume that the circuit within the box generates a differential output current linearly related to the input voltage $V_{1}$. Thus,\n\n$$\n\\begin{align*}\n& I_{1} = I_{o1} + K_{1} V_{1} \\tag{10.23}\\\\\n& I_{2} = I_{o1} - K_{1} V_{1} \\tag{10.24}\n\\end{align*}\n$$\n\nimage_name: Figure 10.6 Gilbert multiplier with predistortion circuits\ndescription: This circuit is a Gilbert cell multiplier with predistortion using inverse hyperbolic tangent circuits. It processes differential inputs V1 and V2 through inverse tanh blocks and uses a differential pair of transistors to produce an output current Iout = Ic3-5 - Ic4-6.\nFigure 10.6 Gilbert multiplier with predistortion circuits.\nimage_name: Figure 10.7 Inverse hyperbolic tangent circuit\ndescription: This circuit is an inverse hyperbolic tangent circuit used in a Gilbert cell multiplier. It processes differential input V1 through a voltage-current converter and uses transistors Q7 and Q8 to produce a differential output voltage V.\n\nFigure 10.7 Inverse hyperbolic tangent circuit.\n\nHere, $I_{o1}$ is the dc current flowing in each output lead when $V_{1}$ is zero, and $K_{1}$ is the transconductance of the voltage-to-current converter. The differential voltage across the two diode-connected transistors is\n\n$$\n\\begin{align*}\n\\Delta V & = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{S}}\\right) - V_{T} \\ln \\left(\\frac{I_{o1} - K_{1} V_{1}}{I_{S}}\\right) \\\\\n& = V_{T} \\ln \\left(\\frac{I_{o1} + K_{1} V_{1}}{I_{o1} - K_{1} V_{1}}\\right) \\tag{10.25}\n\\end{align*}\n$$\n\nThis function can be transformed using the identity\n\n$$\n\\begin{equation*}\n\\tanh^{-1} x = \\frac{1}{2} \\ln \\left(\\frac{1 + x}{1 - x}\\right) \\tag{10.26}\n\\end{equation*}\n$$\n\ninto the desired relationship.\n\n$$\n\\begin{equation*}\n\\Delta V = 2 V_{T} \\tanh^{-1}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right) \\tag{10.27}\n\\end{equation*}\n$$\n\nThus, if this functional block is used as the compensating nonlinearity in series with each input as shown in Fig. 10.6, the overall transfer characteristic becomes, using (10.19),\n\n$$\n\\begin{equation*}\n\\Delta I = I_{EE}\\left(\\frac{K_{1} V_{1}}{I_{o1}}\\right)\\left(\\frac{K_{2} V_{2}}{I_{o2}}\\right) \\tag{10.28}\n\\end{equation*}\n$$\n\nwhere $I_{o2}$ and $K_{2}$ are the parameters of the functional block following $V_{2}$.\nEquation 10.28 indicates that the differential output current is directly proportional to the product $V_{1} V_{2}$, and this relationship holds for all values of $V_{1}$ and $V_{2}$ for which the two output currents of the differential voltage-to-current converters are positive. For this to be valid, $I_{1}$ and $I_{2}$ must always be positive, and from (10.23) and (10.24), we have\n\n$$\n\\begin{align*}\n& -\\frac{I_{o1}}{K_{1}} < V_{1} < \\frac{I_{o1}}{K_{1}} \\tag{10.29}\\\\\n& -\\frac{I_{o2}}{K_{2}} < V_{2} < \\frac{I_{o2}}{K_{2}} \\tag{10.30}\n\\end{align*}\n$$\n\nNote that adding a compensating nonlinearity to the $V_{2}$ input simply makes the collector currents of $Q_{1}$ and $Q_{2}$ directly proportional to the input voltage $V_{2}$ rather than to its hyperbolic tangent. Thus, the combination of the pair $Q_{1}-Q_{2}$ and the compensating nonlinearity on the $V_{2}$ input is redundant, and the output currents of the voltage-to-current converter on the $V_{2}$ input can be directly fed into the emitters of the $Q_{3}-Q_{4}$ and $Q_{5}-Q_{6}$ pairs with the same results. The multiplier then assumes the form shown in Fig. 10.8."
},
{
    "text": "As previously stated, the hyperbolic tangent function can be expressed as an infinite series:\n\n$$\n\\begin{equation*}\n\\tanh x=x-\\frac{x^{3}}{3} \\cdots \\tag{10.20}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on V2 input.\ndescription:\n[\nname: Q1, type: NPN, ports: {C: d1e4, B: Vip2, E: e1}\nname: Q2, type: NPN, ports: {C: e5e6d2, B: Vin2, E: e2}\nname: Q3, type: NPN, ports: {C: d3d5, B: Vip1, E: d1e4}\nname: Q4, type: NPN, ports: {C: d4d6, B: Vin1, E: d1e4}\nname: Q5, type: NPN, ports: {C: d3d5, B: Vin1, E: e5e6d2}\nname: Q6, type: NPN, ports: {C: d4d6, B: Vip1, E: e5e6d2}\nname: R, type: Resistor, value: R, ports: {N1: e1, N2: X1}\nname: R, type: Resistor, value: R, ports: {N1: e2, N2: X1}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: X1, Nn: GND}\n]\nextrainfo:This circuit is a Gilbert cell multiplier with emitter degeneration to enhance the input voltage range on V2 input. It employs six NPN transistors and two resistors to multiply two input signals, V1 and V2. The differential output current I_out is expressed as I_out = I_c3-5 - I_c4-6.\nFigure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on $V_{2}$ input.\n\nWhen $x$ is significantly less than one, the hyperbolic tangent can be approximated by\n\n$$\n\\begin{equation*}\n\\tanh x \\approx x \\tag{10.21}\n\\end{equation*}\n$$\n\nUsing this approximation in (10.19), we obtain\n\n$$\n\\begin{equation*}\n\\Delta I \\approx I_{E E}\\left(\\frac{V_{1}}{2 V_{T}}\\right)\\left(\\frac{V_{2}}{2 V_{T}}\\right) \\quad V_{1}, V_{2} \\ll V_{T} \\tag{10.22}\n\\end{equation*}\n$$\n\nThus, for small signal amplitudes, the circuit performs analog multiplication. However, input signal amplitudes often exceed $V_{T}$, but larger signals can be managed in various ways. If only one signal is significantly larger than $V_{T}$, emitter degeneration can be applied to the lower emitter-coupled pair, expanding the linear input range for $V_{2}$ as depicted in Fig. 10.5. Unfortunately, this cannot be applied to the cross-coupled pairs $Q_{3}-Q_{6}$ because the degeneration resistors disrupt the necessary nonlinear relationship between $I_{c}$ and $V_{b e}$ in those devices.\n\nAn alternative method involves introducing a nonlinearity to predistort the input signals, compensating for the hyperbolic tangent transfer characteristic of the basic cell. The required nonlinearity is an inverse hyperbolic tangent characteristic, and a hypothetical example of such a system is illustrated in Fig. 10.6. Fortunately, this specific nonlinearity is easy to generate.\n\nReferring to Fig. 10.7, we initially assume that the circuit within the box generates a differential output current linearly related to the input voltage $V_{1}$. Therefore,\n\n$$\n\\begin{align*}\n& I_{1}=I_{o 1}+K_{1} V_{1}  \\tag{10.23}\\\\\n& I_{2}=I_{o 1}-K_{1} V_{1} \\tag{10.24}\n\\end{align*}\n$$\n\nimage_name:Figure 10.6 Gilbert multiplier with predistortion circuits\ndescription:The circuit is a Gilbert cell multiplier with predistortion using inverse hyperbolic tangent circuits. It processes differential inputs V1 and V2 through inverse tanh blocks and uses a differential pair of transistors to produce an output current Iout = Ic3-5 - Ic4-6.\nFigure 10.6 Gilbert multiplier with predistortion circuits.\nimage_name:Figure 10.7 Inverse hyperbolic tangent circuit\ndescription:The circuit is an inverse hyperbolic tangent circuit used in a Gilbert cell multiplier. It processes differential input V1 through a voltage-current converter and uses transistors Q7 and Q8 to produce a differential output voltage V.\n\nFigure 10.7 Inverse hyperbolic tangent circuit.\n\nHere, $I_{o 1}$ is the dc current flowing in each output lead when $V_{1}$ is zero, and $K_{1}$ is the transconductance of the voltage-to-current converter. The differential voltage across the two diode-connected transistors is\n\n$$\n\\begin{align*}\n\\Delta V & =V_{T} \\ln \\left(\\frac{I_{o 1}+K_{1} V_{1}}{I_{S}}\\right)-V_{T} \\ln \\left(\\frac{I_{o 1}-K_{1} V_{1}}{I_{S}}\\right) \\\\\n& =V_{T} \\ln \\left(\\frac{I_{o 1}+K_{1} V_{1}}{I_{o 1}-K_{1} V_{1}}\\right) \\tag{10.25}\n\\end{align*}\n$$\n\nThis function can be transformed using the identity\n\n$$\n\\begin{equation*}\n\\tanh ^{-1} x=\\frac{1}{2} \\ln \\left(\\frac{1+x}{1-x}\\right) \\tag{10.26}\n\\end{equation*}\n$$\n\ninto the desired relationship.\n\n$$\n\\begin{equation*}\n\\Delta V=2 V_{T} \\tanh ^{-1}\\left(\\frac{K_{1} V_{1}}{I_{o 1}}\\right) \\tag{10.27}\n\\end{equation*}\n$$\n\nThus, if this functional block is used as the compensating nonlinearity in series with each input as shown in Fig. 10.6, the overall transfer characteristic becomes, using (10.19),\n\n$$\n\\begin{equation*}\n\\Delta I=I_{E E}\\left(\\frac{K_{1} V_{1}}{I_{o 1}}\\right)\\left(\\frac{K_{2} V_{2}}{I_{o 2}}\\right) \\tag{10.28}\n\\end{equation*}\n$$\n\nwhere $I_{o 2}$ and $K_{2}$ are the parameters of the functional block following $V_{2}$.\nEquation 10.28 indicates that the differential output current is directly proportional to the product $V_{1} V_{2}$, and this relationship holds for all values of $V_{1}$ and $V_{2}$ where the output currents of the differential voltage-to-current converters are positive. For this to be valid, $I_{1}$ and $I_{2}$ must always be positive, and from (10.23) and (10.24), we have\n\n$$\n\\begin{align*}\n& -\\frac{I_{o 1}}{K_{1}}<V_{1}<\\frac{I_{o 1}}{K_{1}}  \\tag{10.29}\\\\\n& -\\frac{I_{o 2}}{K_{2}}<V_{2}<\\frac{I_{o 2}}{K_{2}} \\tag{10.30}\n\\end{align*}\n$$\n\nNote that adding a compensating nonlinearity to the $V_{2}$ input simply makes the collector currents of $Q_{1}$ and $Q_{2}$ directly proportional to the input voltage $V_{2}$ rather than to its hyperbolic tangent. Thus, the combination of the pair $Q_{1}-Q_{2}$ and the compensating nonlinearity on the $V_{2}$ input is redundant, and the output currents of the voltage-to-current converter on the $V_{2}$ input can be directly fed into the emitters of the $Q_{3}-Q_{4}$ and $Q_{5}-Q_{6}$ pairs with the same results. The multiplier then assumes the form shown in Fig. 10.8."
},
{
    "text": "As previously stated, the hyperbolic tangent function can be expressed as an infinite series:\n\n$$\n\\begin{equation*}\n\\tanh x=x-\\frac{x^{3}}{3} \\cdots \\tag{10.20}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on V2 input.\ndescription:\n[\nname: Q1, type: NPN, ports: {C: d1e4, B: Vip2, E: e1}\nname: Q2, type: NPN, ports: {C: e5e6d2, B: Vin2, E: e2}\nname: Q3, type: NPN, ports: {C: d3d5, B: Vip1, E: d1e4}\nname: Q4, type: NPN, ports: {C: d4d6, B: Vin1, E: d1e4}\nname: Q5, type: NPN, ports: {C: d3d5, B: Vin1, E: e5e6d2}\nname: Q6, type: NPN, ports: {C: d4d6, B: Vip1, E: e5e6d2}\nname: R, type: Resistor, value: R, ports: {N1: e1, N2: X1}\nname: R, type: Resistor, value: R, ports: {N1: e2, N2: X1}\nname: I_EE, type: CurrentSource, value: I_EE, ports: {Np: X1, Nn: GND}\n]\nextrainfo:The circuit is a Gilbert cell multiplier with emitter degeneration to enhance the input voltage range on V2 input. It employs six NPN transistors and two resistors to multiply two input signals, V1 and V2. The differential output current I_out is given by I_out = I_c3-5 - I_c4-6.\nFigure 10.5 Gilbert multiplier with emitter degeneration to enhance input voltage range on $V_{2}$ input.\n\nFor $x$ significantly less than one, the hyperbolic tangent can be approximated by\n\n$$\n\\begin{equation*}\n\\tanh x \\approx x \\tag{10.21}\n\\end{equation*}\n$$\n\nUsing this approximation in (10.19), we obtain\n\n$$\n\\begin{equation*}\n\\Delta I \\approx I_{E E}\\left(\\frac{V_{1}}{2 V_{T}}\\right)\\left(\\frac{V_{2}}{2 V_{T}}\\right) \\quad V_{1}, V_{2} \\ll V_{T} \\tag{10.22}\n\\end{equation*}\n$$\n\nThus, for small-amplitude signals, the circuit performs analog multiplication. However, input signal amplitudes often exceed $V_{T}$, but there are several methods to handle larger signals. If only one signal is significantly larger than $V_{T}$, emitter degeneration can be applied to the lower emitter-coupled pair, increasing the linear input range for $V_{2}$ as depicted in Fig. 10.5. Unfortunately, this cannot be applied to the cross-coupled pairs $Q_{3}-Q_{6}$ as the degeneration resistors disrupt the necessary nonlinear relationship between $I_{c}$ and $V_{b e}$ in those devices.\n\nAn alternative method involves introducing a nonlinearity to predistort the input signals, compensating for the hyperbolic tangent transfer characteristic of the basic cell. The required nonlinearity is an inverse hyperbolic tangent characteristic, and a hypothetical example of such a system is illustrated in Fig. 10.6. Fortunately, this specific nonlinearity is easy to generate.\n\nReferring to Fig. 10.7, we assume that the circuit within the box generates a differential output current linearly related to the input voltage $V_{1}$. Thus,\n\n$$\n\\begin{align*}\n& I_{1}=I_{o 1}+K_{1} V_{1}  \\tag{10.23}\\\\\n& I_{2}=I_{o 1}-K_{1} V_{1} \\tag{10.24}\n\\end{align*}\n$$\n\nimage_name:Figure 10.6 Gilbert multiplier with predistortion circuits\ndescription:The circuit is a Gilbert cell multiplier with predistortion using inverse hyperbolic tangent circuits. It processes differential inputs V1 and V2 through inverse tanh blocks and uses a differential pair of transistors to produce an output current Iout = Ic3-5 - Ic4-6.\nFigure 10.6 Gilbert multiplier with predistortion circuits.\nimage_name:Figure 10.7 Inverse hyperbolic tangent circuit\ndescription:The circuit is an inverse hyperbolic tangent circuit used in a Gilbert cell multiplier. It processes differential input V1 through a voltage-current converter and uses transistors Q7 and Q8 to produce a differential output voltage V.\n\nFigure 10.7 Inverse hyperbolic tangent circuit.\n\nHere, $I_{o 1}$ is the dc current flowing in each output lead when $V_{1}$ is zero, and $K_{1}$ is the transconductance of the voltage-to-current converter. The differential voltage across the two diode-connected transistors is\n\n$$\n\\begin{align*}\n\\Delta V & =V_{T} \\ln \\left(\\frac{I_{o 1}+K_{1} V_{1}}{I_{S}}\\right)-V_{T} \\ln \\left(\\frac{I_{o 1}-K_{1} V_{1}}{I_{S}}\\right) \\\\\n& =V_{T} \\ln \\left(\\frac{I_{o 1}+K_{1} V_{1}}{I_{o 1}-K_{1} V_{1}}\\right) \\tag{10.25}\n\\end{align*}\n$$\n\nThis function can be transformed using the identity\n\n$$\n\\begin{equation*}\n\\tanh ^{-1} x=\\frac{1}{2} \\ln \\left(\\frac{1+x}{1-x}\\right) \\tag{10.26}\n\\end{equation*}\n$$\n\ninto the desired relationship.\n\n$$\n\\begin{equation*}\n\\Delta V=2 V_{T} \\tanh ^{-1}\\left(\\frac{K_{1} V_{1}}{I_{o 1}}\\right) \\tag{10.27}\n\\end{equation*}\n$$\n\nThus, if this functional block is used as the compensating nonlinearity in series with each input as shown in Fig. 10.6, the overall transfer characteristic becomes, using (10.19),\n\n$$\n\\begin{equation*}\n\\Delta I=I_{E E}\\left(\\frac{K_{1} V_{1}}{I_{o 1}}\\right)\\left(\\frac{K_{2} V_{2}}{I_{o 2}}\\right) \\tag{10.28}\n\\end{equation*}\n$$\n\nwhere $I_{o 2}$ and $K_{2}$ are the parameters of the functional block following $V_{2}$.\nEquation 10.28 indicates that the differential output current is directly proportional to the product $V_{1} V_{2}$, and this relationship holds for all values of $V_{1}$ and $V_{2}$ where the output currents of the differential voltage-to-current converters are positive. For this to be valid, $I_{1}$ and $I_{2}$ must always be positive, and from (10.23) and (10.24), we have\n\n$$\n\\begin{align*}\n& -\\frac{I_{o 1}}{K_{1}}<V_{1}<\\frac{I_{o 1}}{K_{1}}  \\tag{10.29}\\\\\n& -\\frac{I_{o 2}}{K_{2}}<V_{2}<\\frac{I_{o 2}}{K_{2}} \\tag{10.30}\n\\end{align*}\n$$\n\nNote that adding a compensating nonlinearity to the $V_{2}$ input simply makes the collector currents of $Q_{1}$ and $Q_{2}$ directly proportional to the input voltage $V_{2}$ rather than to its hyperbolic tangent. Thus, the combination of the pair $Q_{1}-Q_{2}$ and the compensating nonlinearity on the $V_{2}$ input is redundant, and the output currents of the voltage-to-current converter on the $V_{2}$ input can be directly fed into the emitters of the $Q_{3}-Q_{4}$ and $Q_{5}-Q_{6}$ pairs with the same results. The multiplier then assumes the form shown in Fig. 10.8."
},
{
    "text": "To be effective across diverse applications, the multiplier circuit must generate an output voltage that is grounded-referenced and capable of both positive and negative values. The transistors $Q_{3}, Q_{4}, Q_{5}, Q_{6}, Q_{7}$, and $Q_{8}$, depicted in Fig. 10.8, constitute the multiplier core, which generates a differential current output that needs amplification, conversion to a single-ended signal, and grounding. Consequently, an output amplifier is necessary, and the entire multiplier comprises two voltage-current converters, the core transistors, and an output current-to-voltage amplifier. While the core setup in Fig. 10.8 is typical for most four-quadrant transconductance multipliers, the remaining circuitry can be implemented in various configurations.\n\nThe prevalent designs for the voltage-current converters are emitter-coupled pairs with emitter degeneration, as illustrated in Fig. 10.5. The differential-to-single-ended converter in Fig. 10.8 is frequently executed using an op amp circuit similar to that shown in Fig. 6.4. If this circuit has a transresistance defined by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{\\Delta I}=K_{3} \\tag{10.31}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.8 Complete four-quadrant multiplier\ndescription:The circuit is a complete four-quadrant multiplier featuring differential voltage-to-current converters and a differential-to-single-ended converter. It multiplies two input voltages V1 and V2, yielding an output voltage Vout proportional to their product. The transistors Q3 to Q8 make up the multiplier core, and the differential-to-single-ended converter handles the output.\n\nFigure 10.8 Complete four-quadrant multiplier.\nthen substituting into (10.28) yields the overall multiplier characteristic\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=I_{E E} K_{3} \\frac{K_{1}}{I_{o 1}} \\frac{K_{2}}{I_{o 2}} V_{1} V_{2} \\tag{10.32}\n\\end{equation*}\n$$\n\nThus, the output voltage is proportional to the product $V_{1} V_{2}$ across a broad range. The constants in (10.32) are typically selected so that\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=0.1 V_{1} V_{2} \\tag{10.33}\n\\end{equation*}\n$$\n\nwith all voltages spanning a $\\pm 10-\\mathrm{V}$ range."
},
{
    "text": "To be effective across diverse applications, the multiplier circuit must generate an output voltage that is ground-referenced and capable of assuming both positive and negative values. The transistors $Q_{3}, Q_{4}, Q_{5}, Q_{6}, Q_{7}$, and $Q_{8}$, depicted in Fig. 10.8, are known as the multiplier core and generate a differential current output that needs amplification, conversion to a single-ended signal, and grounding. Consequently, an output amplifier is necessary, and the entire multiplier comprises two voltage-current converters, the core transistors, and an output current-to-voltage amplifier. While the core setup in Fig. 10.8 is typical for most four-quadrant transconductance multipliers, the remaining circuitry can be implemented in various configurations.\n\nThe most prevalent designs for the voltage-current converters are emitter-coupled pairs with emitter degeneration, as illustrated in Fig. 10.5. The differential-to-single-ended converter in Fig. 10.8 is frequently realized using an op amp circuit similar to that shown in Fig. 6.4. If this circuit has a transresistance defined by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{\\Delta I}=K_{3} \\tag{10.31}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.8 Complete four-quadrant multiplier\ndescription:The circuit is a complete four-quadrant multiplier featuring differential voltage-to-current converters and a differential-to-single-ended converter. It multiplies two input voltages, V1 and V2, resulting in an output voltage Vout proportional to their product. The transistors Q3 to Q8 constitute the multiplier core, and the differential-to-single-ended converter processes the output.\n\nFigure 10.8 Complete four-quadrant multiplier.\nthen substituting into (10.28) yields the overall multiplier characteristic:\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=I_{E E} K_{3} \\frac{K_{1}}{I_{o 1}} \\frac{K_{2}}{I_{o 2}} V_{1} V_{2} \\tag{10.32}\n\\end{equation*}\n$$\n\nThus, the output voltage is proportional to the product $V_{1} V_{2}$ across a broad range. The constants in (10.32) are typically selected such that\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=0.1 V_{1} V_{2} \\tag{10.33}\n\\end{equation*}\n$$\n\nwith all voltages having a $\\pm 10-\\mathrm{V}$ range."
},
{
    "text": "To be effective across diverse applications, the multiplier circuit must generate an output voltage that is grounded-referenced and capable of assuming both positive and negative values. The transistors $Q_{3}, Q_{4}, Q_{5}, Q_{6}, Q_{7}$, and $Q_{8}$, depicted in Fig. 10.8, constitute the multiplier core, which produces a differential current output that needs amplification, conversion to a single-ended signal, and grounding. Consequently, an output amplifier is necessary, and the entire multiplier comprises two voltage-current converters, the core transistors, and a current-to-voltage output amplifier. Although the core setup in Fig. 10.8 is typical for most four-quadrant transconductance multipliers, the remaining circuitry can be implemented in various configurations.\n\nThe prevalent designs for the voltage-current converters are emitter-coupled pairs with emitter degeneration, as illustrated in Fig. 10.5. The differential-to-single-ended converter in Fig. 10.8 is frequently executed using an op amp circuit similar to that shown in Fig. 6.4. If this circuit has a transresistance defined by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{\\Delta I}=K_{3} \\tag{10.31}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.8 Complete four-quadrant multiplier\ndescription:The circuit is a comprehensive four-quadrant multiplier featuring differential voltage-to-current converters and a differential-to-single-ended converter. It multiplies two input voltages, V1 and V2, resulting in an output voltage Vout proportional to their product. The transistors Q3 to Q8 make up the multiplier core, while the differential-to-single-ended converter handles the output processing.\n\nFigure 10.8 Complete four-quadrant multiplier.\nthen substituting into (10.28) yields the overall multiplier characteristic as\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=I_{E E} K_{3} \\frac{K_{1}}{I_{o 1}} \\frac{K_{2}}{I_{o 2}} V_{1} V_{2} \\tag{10.32}\n\\end{equation*}\n$$\n\nThus, the output voltage is directly proportional to the product $V_{1} V_{2}$ across a broad range. The constants in (10.32) are typically selected such that\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=0.1 V_{1} V_{2} \\tag{10.33}\n\\end{equation*}\n$$\n\nwith all voltages spanning a $\\pm 10-\\mathrm{V}$ range."
},
{
    "text": "To be effective across diverse applications, the multiplier circuit must generate an output voltage that is grounded-referenced and capable of assuming both positive and negative values. The transistors $Q_{3}, Q_{4}, Q_{5}, Q_{6}, Q_{7}$, and $Q_{8}$, depicted in Fig. 10.8, are known as the multiplier core and generate a differential current output that needs amplification, conversion to a single-ended signal, and grounding reference. Consequently, an output amplifier is necessary, making the complete multiplier comprise two voltage-current converters, the core transistors, and an output current-to-voltage amplifier. Although the core setup in Fig. 10.8 is typical for most four-quadrant transconductance multipliers, the remaining circuitry can be implemented in various configurations.\n\nThe prevalent designs for the voltage-current converters are emitter-coupled pairs with emitter degeneration, as illustrated in Fig. 10.5. The differential-to-single-ended converter in Fig. 10.8 is frequently executed using an op amp circuit like the one shown in Fig. 6.4. If this circuit has a transresistance defined by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{\\Delta I}=K_{3} \\tag{10.31}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.8 Complete four-quadrant multiplier\ndescription:The circuit is a comprehensive four-quadrant multiplier featuring differential voltage-to-current converters and a differential-to-single-ended converter. It multiplies two input voltages, V1 and V2, resulting in an output voltage Vout proportional to their product. The transistors Q3 to Q8 constitute the multiplier core, and the differential-to-single-ended converter handles the output.\n\nFigure 10.8 Complete four-quadrant multiplier.\nthen substituting into (10.28) yields the overall multiplier characteristic as\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=I_{E E} K_{3} \\frac{K_{1}}{I_{o 1}} \\frac{K_{2}}{I_{o 2}} V_{1} V_{2} \\tag{10.32}\n\\end{equation*}\n$$\n\nThus, the output voltage is proportional to the product $V_{1} V_{2}$ across a broad range. The constants in (10.32) are typically selected so that\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=0.1 V_{1} V_{2} \\tag{10.33}\n\\end{equation*}\n$$\n\nwith all voltages having a $\\pm 10-\\mathrm{V}$ range."
},
{
    "text": "To be effective across diverse applications, the multiplier circuit must generate an output voltage that is grounded-referenced and capable of both positive and negative values. The transistors $Q_{3}, Q_{4}, Q_{5}, Q_{6}, Q_{7}$, and $Q_{8}$, depicted in Fig. 10.8, constitute the multiplier core, which generates a differential current output that needs amplification, conversion to a single-ended signal, and grounding reference. Consequently, an output amplifier is essential, and the entire multiplier comprises two voltage-current converters, the core transistors, and an output current-to-voltage amplifier. While the core setup in Fig. 10.8 is typical for most four-quadrant transconductance multipliers, the remaining circuitry can be implemented in various configurations.\n\nThe prevalent designs for the voltage-current converters are emitter-coupled pairs with emitter degeneration, as illustrated in Fig. 10.5. The differential-to-single-ended converter in Fig. 10.8 is frequently executed using an op amp circuit like the one in Fig. 6.4. If this circuit has a transresistance defined by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{\\Delta I}=K_{3} \\tag{10.31}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.8 Complete four-quadrant multiplier\ndescription:The circuit represents a comprehensive four-quadrant multiplier featuring differential voltage-to-current converters and a differential-to-single-ended converter. It multiplies two input voltages, V1 and V2, resulting in an output voltage Vout that is proportional to their product. The transistors Q3 to Q8 make up the multiplier core, while the differential-to-single-ended converter handles the output processing.\n\nFigure 10.8 Complete four-quadrant multiplier.\nthen substituting into (10.28) yields the overall multiplier characteristic as\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=I_{E E} K_{3} \\frac{K_{1}}{I_{o 1}} \\frac{K_{2}}{I_{o 2}} V_{1} V_{2} \\tag{10.32}\n\\end{equation*}\n$$\n\nThus, the output voltage is proportional to the product $V_{1} V_{2}$ across a broad range. The constants in (10.32) are typically selected so that\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=0.1 V_{1} V_{2} \\tag{10.33}\n\\end{equation*}\n$$\n\nwith all voltages spanning a $\\pm 10-\\mathrm{V}$ range."
},
{
    "text": "To be effective across various applications, the multiplier circuit must generate an output voltage that is grounded-referenced and capable of both positive and negative values. The transistors $Q_{3}, Q_{4}, Q_{5}, Q_{6}, Q_{7}$, and $Q_{8}$, depicted in Fig. 10.8, are known as the multiplier core, which produces a differential current output that needs amplification, conversion to a single-ended signal, and grounding reference. Consequently, an output amplifier is necessary, and the entire multiplier comprises two voltage-current converters, the core transistors, and an output current-to-voltage amplifier. Although the core setup in Fig. 10.8 is typical for most four-quadrant transconductance multipliers, the remaining circuitry can be implemented in multiple configurations.\n\nThe prevalent designs for the voltage-current converters involve emitter-coupled pairs with emitter degeneration, as illustrated in Fig. 10.5. The differential-to-single-ended converter in Fig. 10.8 is frequently executed using an op amp circuit similar to that shown in Fig. 6.4. If this circuit has a transresistance defined by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{\\Delta I}=K_{3} \\tag{10.31}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.8 Complete four-quadrant multiplier\ndescription:The circuit represents a complete four-quadrant multiplier featuring differential voltage-to-current converters and a differential-to-single-ended converter. It multiplies two input voltages, V1 and V2, resulting in an output voltage Vout proportional to their product. The transistors Q3 to Q8 constitute the multiplier core, while the differential-to-single-ended converter handles the output processing.\n\nFigure 10.8 Complete four-quadrant multiplier.\nthen substituting into (10.28) yields the overall multiplier characteristic as\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=I_{E E} K_{3} \\frac{K_{1}}{I_{o 1}} \\frac{K_{2}}{I_{o 2}} V_{1} V_{2} \\tag{10.32}\n\\end{equation*}\n$$\n\nThus, the output voltage is proportional to the product $V_{1} V_{2}$ across a broad range. The constants in (10.32) are typically selected so that\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=0.1 V_{1} V_{2} \\tag{10.33}\n\\end{equation*}\n$$\n\nwith all voltages spanning a $\\pm 10-\\mathrm{V}$ range."
},
{
    "text": "To be effective across diverse applications, the multiplier circuit must generate an output voltage relative to ground, capable of assuming both positive and negative values. The transistors $Q_{3}, Q_{4}, Q_{5}, Q_{6}, Q_{7}$, and $Q_{8}$, depicted in Fig. 10.8, are known as the multiplier core and generate a differential current output that needs amplification, conversion to a single-ended signal, and grounding reference. Consequently, an output amplifier is necessary, and the entire multiplier comprises two voltage-current converters, the core transistors, and a current-to-voltage output amplifier. Although the core setup in Fig. 10.8 is typical for most four-quadrant transconductance multipliers, the remaining circuitry can be implemented in various configurations.\n\nThe prevalent designs for the voltage-current converters are emitter-coupled pairs with emitter degeneration, as illustrated in Fig. 10.5. The differential-to-single-ended converter in Fig. 10.8 is frequently executed using an op amp circuit similar to that shown in Fig. 6.4. If this circuit has a transresistance defined by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{\\Delta I}=K_{3} \\tag{10.31}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.8 Complete four-quadrant multiplier\ndescription:The circuit is a comprehensive four-quadrant multiplier featuring differential voltage-to-current converters and a differential-to-single-ended converter. It multiplies two input voltages, V1 and V2, resulting in an output voltage, Vout, proportional to their product. Transistors Q3 to Q8 constitute the multiplier core, and the differential-to-single-ended converter handles the output processing.\n\nFigure 10.8 Complete four-quadrant multiplier.\nthen substituting into (10.28) yields the overall multiplier characteristic\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=I_{E E} K_{3} \\frac{K_{1}}{I_{o 1}} \\frac{K_{2}}{I_{o 2}} V_{1} V_{2} \\tag{10.32}\n\\end{equation*}\n$$\n\nThus, the output voltage is proportional to the product $V_{1} V_{2}$ across a broad range. The constants in (10.32) are typically selected so that\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=0.1 V_{1} V_{2} \\tag{10.33}\n\\end{equation*}\n$$\n\nwith all voltages having a $\\pm 10-\\mathrm{V}$ range."
},
{
    "text": "To be effective across various applications, the multiplier circuit must generate an output voltage that is grounded-referenced and capable of both positive and negative values. The transistors $Q_{3}, Q_{4}, Q_{5}, Q_{6}, Q_{7}$, and $Q_{8}$, depicted in Fig. 10.8, constitute the multiplier core, which produces a differential current output that needs amplification, conversion to a single-ended signal, and grounding. Therefore, an output amplifier is necessary, and the entire multiplier comprises two voltage-current converters, the core transistors, and a current-to-voltage output amplifier. Although the core setup in Fig. 10.8 is typical for most four-quadrant transconductance multipliers, the remaining circuitry can be implemented in multiple configurations.\n\nThe prevalent designs for the voltage-current converters are emitter-coupled pairs with emitter degeneration, as illustrated in Fig. 10.5. The differential-to-single-ended converter in Fig. 10.8 is frequently executed using an op amp circuit like the one in Fig. 6.4. If this circuit has a transresistance defined by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{\\Delta I}=K_{3} \\tag{10.31}\n\\end{equation*}\n$$\n\nimage_name:Figure 10.8 Complete four-quadrant multiplier\ndescription:The circuit is a complete four-quadrant multiplier featuring differential voltage-to-current converters and a differential-to-single-ended converter. It multiplies two input voltages, V1 and V2, resulting in an output voltage Vout proportional to their product. The transistors Q3 to Q8 make up the multiplier core, while the differential-to-single-ended converter handles the output processing.\n\nFigure 10.8 Complete four-quadrant multiplier.\nthen substituting into (10.28) yields the overall multiplier characteristic:\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=I_{E E} K_{3} \\frac{K_{1}}{I_{o 1}} \\frac{K_{2}}{I_{o 2}} V_{1} V_{2} \\tag{10.32}\n\\end{equation*}\n$$\n\nThus, the output voltage is proportional to the product $V_{1} V_{2}$ across a broad range. The constants in (10.32) are typically selected so that\n\n$$\n\\begin{equation*}\nV_{\\text {out }}=0.1 V_{1} V_{2} \\tag{10.33}\n\\end{equation*}\n$$\n\nwith all voltages having a $\\pm 10-\\mathrm{V}$ range."
},
{
    "text": "The previously described four-quadrant multiplier exemplifies a practical use of multiplier cells where the devices operate within the active region under normal conditions. This configuration facilitates the accurate multiplication of two analog signals that vary continuously. In the domain of communication systems, it's common to require the multiplication of a continuous signal by a square wave. This can be readily achieved using the multiplier circuit by introducing a sufficiently large signal (one that exceeds $2 V_{T}$) to the cross-coupled pair. This action causes two of the four transistors to switch completely off alternately, while the remaining two carry the entire current. As the transistors in the circuit avoid saturation, this process can be executed at high speeds. Figure 10.9 depicts a set of waveforms that would typically result from applying a sinusoid to the small-signal input and a square wave to the large-signal input. It's important to note that the amplitude of the output waveform is unaffected by the amplitude of the square wave, provided it is sufficient to ensure the multiplier circuit's devices are either fully on or fully off. Consequently, the circuit, in this mode, does not execute a linear multiplication of two waveforms but instead causes the output voltage, produced by the small-signal input, to be alternately multiplied by +1 and -1."
},
{
    "text": "The four-quadrant multiplier serves as an example of a multiplier cell application where all devices operate within the active region under normal conditions. This setup allows for the precise multiplication of two analog signals that continuously vary. In communication systems, it's common to multiply a continuously varying signal by a square wave. This can be achieved with the multiplier circuit by applying a signal that is sufficiently large (i.e., larger than $2 V_{T}$) to the cross-coupled pair. This causes two of the four transistors to alternately turn off completely while the other two conduct all the current. Since the transistors in the circuit do not enter saturation, this process can occur at high speed. A set of typical waveforms that might result when a sinusoid is applied to the small-signal input and a square wave to the large-signal input is shown in Fig. 10.9. Note that since the devices in the multiplier are being switched on and off by the incoming square wave, the amplitude of the output waveform is independent of the amplitude of the square wave as long as it is large enough to cause the devices in the multiplier circuit to be fully on or fully off. Thus the circuit in this mode does not perform a linear multiplication of two waveforms, but actually causes the output voltage of the circuit produced by the small-signal input to be alternately multiplied by +1 and -1."
},
{
    "text": "The four-quadrant multiplier exemplifies a multiplier cell application where all devices operate within the active region during normal functioning. This circuit is adept at precisely multiplying two continuously varying analog signals. However, in communications systems, it's common to multiply a continuously varying signal by a square wave. This can be easily achieved by applying a large enough signal to the cross-coupled pair within the multiplier circuit, ensuring that two of the four transistors switch completely off while the other two conduct all the current. The circuit's ability to avoid saturation allows for high-speed operation. A set of waveforms illustrating the output when a sinusoid is applied to the small-signal input and a square wave to the large-signal input is depicted in Fig. 10.9. The amplitude of the output waveform is independent of the square wave's amplitude, provided it's sufficient to switch the multiplier devices fully on or off. Hence, the circuit doesn't perform linear multiplication but alternates the output voltage's multiplication by +1 and -1.\n\nThe provided graphs offer visual representations of the signals involved in the phase detection process:\n\n1. **Small-Signal Input (Top Left):** A sinusoidal waveform indicative of a periodic oscillation with a single frequency, showing smooth, continuous peaks and valleys.\n\n2. **Large-Signal Modulating Input (Top Right):** A square wave with abrupt transitions between high and low voltage levels, representing a non-sinusoidal periodic waveform.\n\n3. **Output (Bottom):** The result of the small-signal input modulated by the large-signal square wave, displaying an alternating pattern of positive and negative sinusoidal segments.\n\nThe spectral analysis of the output can be derived from the Fourier series of the inputs. For a low-frequency modulating sinusoidal input, \\( V_{m}(t)=V_{m} \\cos \\omega_{m} t \\), and for the high-frequency square wave input, \\( V_{c}(t)=\\sum_{n=1}^{\\infty} A_{n} \\cos n \\omega_{c} t \\), the output signal is \\( V_{o}(t)=K\\left[V_{c}(t) V_{m}(t)\\right] \\). The spectrum contains components at frequencies \\( \\omega_{m} \\) above and below each harmonic of \\( \\omega_{c} \\), but none at \\( \\omega_{c} \\) or its harmonics. This is a useful property of balanced modulators, allowing for filtering to retain components near \\( \\omega_{c} \\).\n\nIf a DC component is added, the modulating input, the results in a output component at the carrier frequency and its harmonics. This can be intentional for amplitude modulation or an artifact of offset voltages in the modulator devices.\n\nBalanced modulators effectively translate frequencies, moving information from the modulating frequency to spectral components near the carrier's harmonics. They are also useful for demodulation, extracting information from the frequency band near the carrier and translating it back to low frequencies.\n\nIn frequency translation, applying signals at different frequencies to the inputs yields an output with sum or difference frequency components. If unmodulated signals of the same frequency \\( \\omega_{o} \\) are applied, the circuit acts as a phase detector, producing an output with a DC component proportional to the phase difference between the inputs.\n\nFor instance, applying the waveforms in Fig. 10.11 to the Gilbert multiplier results in an output waveform with a DC component and a component at twice the input frequency. The DC component depends on the phase difference between the inputs, as illustrated in Fig. 10.12. This phase demodulation technique is commonly used in phase-locked loops.\n\nWhen the input signal amplitude is large, the actual waveform shape is less significant since the multiplier switches states at the waveform's zero crossings. For smaller amplitudes, the circuit still functions as a phase detector, but the output voltage then depends on both the phase difference and the input waveforms' amplitudes. This mode of operation is explored further in Section 10.3.3."
},
{
    "text": "The four-quadrant multiplier exemplifies the use of multiplier cells where devices operate within the active region during normal functioning. This setup enables accurate multiplication of one analog signal by another, both of which vary continuously. However, in communication systems, it's often necessary to multiply a continuous signal by a square wave. This can be achieved by applying a large enough signal to the cross-coupled pair in the multiplier circuit, causing two of the four transistors to alternately turn off completely while the other two conduct all the current. As the transistors avoid saturation, this process can occur at high speeds. Figure 10.9 illustrates the waveforms that result when a sinusoid is applied to the small-signal input and a square wave to the large-signal input. It's important to note that the output waveform's amplitude is independent of the square wave's amplitude, provided it's sufficient to ensure the multiplier circuit's devices are fully on or off. Consequently\nThe four-quadrant multiplier, previously discussed, serves the application of multiplier cells where all devices operate within the active region during normal operation. This configuration allows for precise multiplication of one continuously-varying analog signal by another. However, in communication systems, the need often arises to multiply a continuously-varying signal by a square wave. This can be easily achieved using the multiplier circuit by applying a signal large enough (relative to $2 V_{T}$) directly to the cross-coupled pair, causing two of the four transistors to alternately turn completely off while the other two conduct all the current. As the transistors in the circuit do not enter saturation, this process can be carried out at high speed. Figure 10.9 shows a set of typical waveforms that might result when a sinusoid is applied to the small-signal input and a square wave to the large-signal input. Note that since the devices in the multiplier are being switched on and off by the incoming square wave, the amplitude of the output waveform is independent of the amplitude of the square wave as long as it is large enough to cause the devices in the multiplier circuit to be fully on or fully off. Thus, in this mode, the circuit does not perform a linear multiplication of two waveforms but instead causes the output voltage of the circuit produced by the small-signal input to be alternately multiplied by +1 and -1."
},
{
    "text": "The four-quadrant multiplier is an application of the multiplier cell that keeps all devices in the active region during normal operation. This circuit enables the precise multiplication of one analog signal by another. However, in communication systems, it is often necessary to multiply a continuous signal by a square wave. This can be achieved by applying a large enough signal to the cross-coupled pair so that two of the four transistors turn off alternately, while the other two conduct all the current. As the transistors do not enter saturation, this process can occur at high speed. The resulting waveforms, when a sinusoid is applied to the small-signal input and a square wave to the large-signal input, are shown in Fig. 10.9. It should be noted that the amplitude of the output waveform is independent of the amplitude of the square wave, as long as it is large enough to ensure the devices in the multiplier circuit are fully on or off. In this mode, the circuit does not perform a linear multiplication of two waveforms but rather causes the output voltage produced by the small-signal input to be alternately multiplied by +1 and -1."
},
{
    "text": "The four-quadrant multiplier serves as an application example of the multiplier cell, where all devices operate within the active region during standard operation. This setup facilitates accurate multiplication of one analog signal that continuously varies by another. However, in communication systems, the need often arises to multiply a continuously varying signal by a square wave. This can be achieved effortlessly with the multiplier circuit by applying a signal sufficiently large (in comparison to $2 V_{T}$) directly to the cross-coupled pair. This causes two of the four transistors to alternately switch completely off, while the other two conduct all the current. Since the transistors in the circuit do not enter saturation, this process can be executed at high speed. A set of representative waveforms that might arise when a sinusoid is applied to the small-signal input and a square wave to the large-signal input is depicted in Fig. 10.9. It is important to note that since the devices in the multiplier are being switched on and off by the incoming square wave, the amplitude of the output waveform is independent of the amplitude of the square wave, provided it is large enough to ensure the devices in the multiplier circuit are fully on or fully off. Consequently, the circuit in this mode does not perform a linear multiplication of two waveforms, but instead causes the output voltage of the circuit produced by the small-signal input to be alternately multiplied by +1 and -1.\n\nThe provided graphs illustrate the interaction between the small-signal input, the large-signal modulating input, and the resulting output waveform in a phase detection process. The small-signal input is a sinusoidal waveform, while the large-signal modulating input is a square wave. The output waveform reflects the modulation of the small-signal input by the large-signal square wave, resulting in an alternating pattern of positive and negative segments.\n\nThe Fourier series of the two inputs can be used to develop the spectrum of the output. For the low-frequency modulating sinusoidal input, the equation is given by $V_{m}(t)=V_{m} \\cos \\omega_{m} t$. For the high-frequency square wave input, which is assumed to have an amplitude of $\\pm 1$, the equation is given by $V_{c}(t)=\\sum_{n=1}^{\\infty} A_{n} \\cos n \\omega_{c} t$, where $A_{n}=\\frac{\\sin \\frac{n \\pi}{2}}{\\frac{n \\pi}{4}}$. Thus, the output signal is expressed as $V_{o}(t)=K\\left[V_{c}(t) V_{m}(t)\\right]=K \\sum_{n=1}^{\\infty} A_{n} V_{m} \\cos \\omega_{n} t \\cos n \\omega_{c} t$. This equation can be further simplified to $V_{o}(t)=K \\sum_{n=1}^{\\infty} \\frac{A_{n} V_{m}}{2}\\left[\\cos \\left(n \\omega_{c}+\\omega_{m}\\right) t+\\cos \\left(n \\omega_{c}-\\omega_{m}\\right) t\\right]$, where $K$ represents the gain of the multiplier from the small-signal input to the output.\n\nThe spectrum of the output signal exhibits components located at frequencies $\\omega_{m}$ above and below each of the harmonics of $\\omega_{c}$, but no component at the carrier frequency $\\omega_{c}$ or its harmonics. This is a valuable property of balanced modulators. The signal is typically filtered after the modulation process to retain only the components near $\\omega_{c}$.\n\nIf a dc component is added to the modulating input, the output will include a signal component at the carrier frequency and its harmonics. If the modulating signal is expressed as $V_{m}(t)=V_{m}\\left(1+M \\cos \\omega_{m} t\\right)$, where $M$ is the modulation index, the output is given by $V_{o}(t)=K \\sum_{n=1}^{\\infty} A_{n} V_{m}\\left[\\cos \\left(n \\omega_{c} t\\right)+\\frac{M}{2} \\cos \\left(n \\omega_{c}+\\omega_{m}\\right) t+\\frac{M}{2} \\cos \\left(n \\omega_{c}-\\omega_{m}\\right) t\\right]$. This dc component can be intentionally introduced to provide conventional amplitude modulation or can be the result of offset voltages in the devices within the modulator, leading to undesired carrier feedthrough in suppressed-carrier modulators.\n\nThe balanced modulator effectively performs frequency translation. Information contained in the modulating signal $V_{m}(t)$, originally concentrated at the modulating frequency $\\omega_{m}$, is translated by the modulator so that it is now contained in spectral components located near the harmonics of the high-frequency signal $V_{c}(t)$, commonly referred to as the carrier. Balanced modulators are also useful for demodulation, which involves extracting information from the frequency band near the carrier and retranslating it back down to low frequencies.\n\nIn frequency translation, signals at two different frequencies are applied to the two inputs, and the sum or the difference frequency component is extracted from the output. If unmodulated signals of identical frequency $\\omega_{o}$ are applied to the two inputs, the circuit behaves as a phase detector and produces an output whose dc component is proportional to the phase difference between the two inputs. For instance, consider the two input waveforms in Fig. 10.11, which are applied to the Gilbert multiplier shown in the same figure. Assuming both inputs are large in magnitude so that all the transistors in the circuit behave as switches, the resulting output waveform is depicted in Fig. 10.11c and consists of a dc component and a component at twice the incoming frequency. The dc component of this waveform is given by $V_{\\text {average }}=\\frac{1}{2 \\pi} \\int_{0}^{2 \\pi} V_{o}(t) d\\left(\\omega_{0} t\\right)$, where areas $A_{1}$ and $A_{2}$ are as indicated in Fig. 10.11c. Thus, the average output voltage is expressed as $V_{\\text {average }}=-\\left[I_{E E} R_{C} \\frac{(\\pi-\\phi)}{\\pi}-\\frac{I_{E E} R_{C} \\phi}{\\pi}\\right]$, where $\\phi$ represents the phase difference between the input signals.\n\nThis phase relationship is illustrated in Fig. 10.12. This phase demodulation technique is widely used in phase-locked loops. The assumption made above is that the input waveforms were large in amplitude and were square waves. If the input signal amplitude is large, the actual waveform shape is insignificant since the multiplier simply switches from one state to the other at the zero crossings of the waveform. For the case in which the amplitude of one or both of the input signals is comparable to or smaller than $V_{T}$, the circuit still functions as a phase detector. However, the output voltage then depends both on the phase difference and on the amplitude of the two input waveforms. The operation of the circuit in this mode is explored further in Section 10.3.3."
},
{
    "text": "The four-quadrant multiplier serves as a prime example of utilizing multiplier cells where all devices operate within the active region during normal functioning. This circuit is adept at executing exact analog signal multiplications between two continuously variable signals. In the realm of communications systems, the need often surfaces to multiply a continuous signal by a square wave. This can be efficiently achieved by directing a sufficiently large signalrelative to $2 V_{T}$to the cross-coupled pair in the multiplier circuit. Consequently, two out of the four transistors toggle fully off while the remaining two conduct the entire current. The circuit's ability to avoid transistor saturation enables high-speed operation. Figure 10.9 illustrates a set of representative waveforms that emerge when a sinusoidal signal is fed into the small-signal input and a square wave into the large-signal input. It's important to note that the output waveform's amplitude is unaffected by the square wave's amplitude, provided it's to ensure the multiplier circuit's devices are either fully on or off. As such, the circuit in this mode doesn't execute a linear multiplication of two waveforms but rather causes the output voltage, generated by the small-signal input, to be alternately multiplied by +1 and -1.\n\nThe graphical representation consists of three distinct time-domain waveforms: the small-signal input, the large-signal modulating input, and the output waveform. Each waveform is plotted against time (t) on the horizontal axis.\n\n1. **Small-Signal Input (Top Left):**\n   - **Graph Type:** Time-domain waveform.\n   - **Axes Labels and Units:** The vertical axis represents \\( V_m(t) \\), indicating voltage, and the horizontal axis represents \\( t \\), denoting time.\n   - **Behavior and Trends:** The waveform exhibits a sinusoidal pattern, indicative of a periodic oscillation with a singular frequency. The amplitude remains consistent, and the waveform crosses the time axis at regular intervals, marking zero crossings.\n   - **Key Features:** The sinusoidal wave boasts a smooth, continuous curve with peaks and valleys occurring at consistent intervals.\n\n2. **Large-Signal Modulating Input (Top Right):**\n   - **Graph Type:** Time-domain waveform.\n   - **Axes Labels and Units:** The vertical axis denotes \\( V_c(t) \\), representing voltage, and the horizontal axis represents \\( t \\), indicating time.\n   - **Behavior and Trends:** The waveform is a square wave, defined by sharp transitions between high and low voltage levels. This signifies a non-sinusoidal periodic waveform with alternating positive and negative amplitudes.\n   - **Key Features:** The square wave switches between two levels, +1 and -1 as suggested by the context, with each level persisting for equal time durations.\n\n3. **Output (Bottom):**\n   - **Graph Type:** Time-domain waveform.\n   - **Axes Labels and Units:** The vertical axis represents \\( V_o(t) \\), indicating voltage, and the horizontal axis represents \\( t \\), denoting time.\n   - **Behavior and Trends:** The output waveform is a product of the small-signal input being modulated by the large-signal square wave. It displays a pattern of alternating segments resembling the input sinusoidal waveform but with sections inverted, reflecting multiplication by +1 and -1.\n   - **Key Features:** The waveform preserves the frequency of the small-signal input but incorporates modulation effects from the square wave, resulting in an alternating pattern of positive and negative sinusoidal segments.\n\nThis graphical illustration depicts a phase detector's operation where the small-signal input is modulated by the large-signal square wave, yielding an output that alternates in polarity with each cycle of the square wave."
},
{
    "text": "The four-quadrant multiplier exemplifies the multiplier cell's utility in active-region operation for precise analog signal multiplication. However, communication systems often necessitate multiplying a continuous signal by a square wave. This is achievable by applying a substantial signal to the cross-coupled pair, enabling two transistors to alternately turn off while the others conduct all current. The high-speed operation is due to the absence of transistor saturation. Figure 10.9 illustrates the resulting waveforms when a sinusoid is input as the small-signal and a square wave as the large-signal. Notably, the output amplitude is independent of the square wave amplitude, given it's sufficient to fully activate or deactivate the multiplier devices. Hence, the circuit does not perform linear multiplication but alternates the output voltage by +1 and -1.\n\nThe graph in Figure 10.9 depicts three waveforms: the small-signal input, a sinusoidal waveform; the large-signal modulating input, a square wave; and the output waveform, which reflects the modulation of the small-signal by the large-signal, resulting in alternating positive and negative segments.\n\nIn balanced modulators, the output spectrum is derived from the Fourier series of the inputs. For a low-frequency sinusoidal modulating input and a high-frequency square wave input, the output signal is a series of cosines representing the product of the inputs. The spectrum lacks components at the carrier frequency, which is a beneficial property for balanced modulators. Filtering post-modulation typically retains components near the carrier frequency.\n\nIntroducing a DC component to the modulating input introduces a signal component at the carrier frequency and its harmonics. This can be intentional for amplitude modulation or an undesired effect due to device offset voltages.\n\nBalanced modulators also facilitate frequency translation, shifting the modulating signal's information to spectral components near the carrier frequency's harmonics. They are useful for demodulation, extracting information near the carrier and translating it back to low frequencies.\n\nFrequency translation involves signals at different frequencies applied to the inputs, with the sum or difference frequency extracted from the output. If identical frequency unmodulated signals are applied, the circuit acts as a phase detector, producing an output with a DC component proportional to the phase difference between the inputs.\n\nFor instance, Figure 10.11 shows input waveforms applied to a Gilbert multiplier, resulting in an output with a DC component and a component at twice the input frequency. The DC component depends on the phase difference between the inputs.\n\nFigure 10.12 plots the DC component of the phase detector output against the phase difference, showing a linear relationship. This phase demodulation technique is employed in phase-locked loops.\n\nWhen input waveforms are large and square, the actual waveform shape is inconsequential as the multiplier switches states at zero crossings. For smaller amplitudes, the circuit still functions as a phase detector, with the output voltage influenced by both phase difference and input waveform amplitudes. Further discussion on this operation is provided in Section 10.3.3."
},
{
    "text": "A block diagram illustrating the fundamental phase-locked loop (PLL) system is presented in Fig. 10.13. The system comprises a phase comparator, a loop filter, an amplifier, and a voltage-controlled oscillator (VCO). The VCO is an oscillator whose frequency is directly proportional to an applied external voltage. When the loop locks onto an incoming periodic signal, the VCO's frequency matches that of the incoming signal precisely. The phase detector generates a dc or low-frequency signal corresponding to the phase difference between the incoming signal and the VCO output. This phase-sensitive signal is then routed through the loop filter and amplifier, ultimately being applied to the VCO's control input. For instance, if the incoming signal's frequency shifts slightly, the phase difference between the VCO signal and the incoming signal will gradually increase. This alters the VCO's control voltage to realign its frequency with the incoming signal. Thus, the loop can sustain lock even when the input signal frequency changes, with the VCO input voltage reflecting the incoming signal's frequency. This functionality makes PLLs particularly valuable for FM signal demodulation, where the input signal's frequency varies over time, encoding the desired information. The range of input frequencies over which the loop can maintain lock is termed the lock range.\n\nA critical aspect of PLL performance is the capture process, wherein the loop transitions from an unlocked, free-running state to a locked state on a signal. In the unlocked state, the VCO operates at a frequency corresponding to zero applied dc voltage at its control input, known as the center or free-running frequency. When a periodic signal with a frequency near the free-running frequency is introduced, the loop may or may not lock onto it, influenced by various factors. The capture process is inherently nonlinear, and we will describe the transient behavior qualitatively.\n\nInitially, assume the loop is open between the loop filter and the VCO control input, and a signal with a frequency close to, but not identical to, the free-running frequency is applied to the PLL input. The phase detector, typically of the type discussed previously, is assumed here to be a simple analog multiplier, multiplying the two sinusoids. Consequently, the detector's output contains sum and difference frequency components, with the sum component being high enough in frequency to be filtered out by the low-pass filter. The low-pass filter's output is a sinusoid with a frequency equal to the difference between the VCO's free-running frequency and the incoming signal frequency.\n\nNext, assume the loop is abruptly closed, applying the difference frequency sinusoid to the VCO input. This causes the VCO frequency to vary sinusoidally over time. If the incoming frequency is lower than the free-running frequency, the VCO frequency will alternately approach and diverge from the incoming signal frequency. The phase detector's output is a near-sinusoid with a frequency equal to the difference between the VCO and input frequencies. As the VCO frequency moves away from the incoming frequency, the sinusoid shifts to a higher frequency, and as it moves closer, the sinusoid shifts to a lower frequency. Examining the phase detector output reveals that the frequency of this sinusoidal difference waveform decreases when its amplitude is negative and increases when positive. This results in an asymmetrical waveform during capture, as depicted in Fig. 10.14, introducing a dc component in the phase detector output that shifts the average VCO frequency toward the incoming signal frequency, gradually reducing the difference frequency. Once locked, the difference frequency becomes zero, leaving only a dc voltage at the loop-filter output.\n\nThe capture range of the loop is the range of input frequencies around the center frequency onto which the loop can lock from an unlocked state. The pull-in time is the duration required for the loop to capture the signal. Both parameters depend on the loop's gain and the loop filter's bandwidth. The loop filter's purpose is to filter out difference components from interfering signals far from the center frequency and to provide memory for the loop if lock is momentarily lost due to a large transient interference. Reducing the loop filter bandwidth enhances out-of-band signal rejection but decreases the capture range, extends the pull-in time, and degrades the loop phase margin."
},
{
    "text": "A block diagram illustrating the fundamental phase-locked loop (PLL) system is presented in Fig. 10.13. The system comprises a phase comparator, a loop filter, an amplifier, and a voltage-controlled oscillator (VCO). The VCO is an oscillator whose frequency is directly proportional to an applied external voltage. When the loop locks onto an incoming periodic signal, the VCO's frequency matches that of the incoming signal exactly. The phase detector generates a dc or low-frequency signal proportional to the phase discrepancy between the incoming signal and the VCO output. This phase-sensitive signal is then filtered and amplified by the loop filter and amplifier, respectively, before being applied to the VCO's control input. If the incoming signal's frequency shifts slightly, the phase difference between the VCO signal and the incoming signal will gradually increase. This alters the VCO's control voltage to restore its frequency to that of the incoming signal, enabling the loop to maintain lock despite frequency changes. This characteristic is particularly advantageous for FM signal demodulation, where the incoming signal's frequency varies over time, carrying the desired information. The range of input signal frequencies within which the loop can maintain lock is termed the lock range.\n\nA critical aspect of PLL performance is the capture process, transitioning from an unlocked, free-running state to a locked state. In the unlocked state, the VCO operates at a frequency corresponding to zero applied dc voltage at its control input, known as the center or free-running frequency. When a periodic signal near this frequency is applied, the loop may or may not lock onto it, influenced by various factors. The capture process is inherently nonlinear and will be described qualitatively.\n\nInitially, assume the loop is open between the loop filter and the VCO control input, with a signal slightly off the free-running frequency applied to the PLL input. The phase detector, typically as discussed previously, is assumed here to be an analog multiplier combining two sinusoids. The resulting output contains sum and difference frequency components, with the high-frequency sum component filtered out by the low-pass filter. Thus, the filter's output is a sinusoid at the frequency difference between the VCO's free-running frequency and the incoming signal frequency.\n\nUpon suddenly closing the loop, this difference frequency sinusoid is applied to the VCO input, causing the VCO frequency to vary sinusoidally over time. Assuming the incoming frequency is lower than the free-running frequency, the VCO frequency will alternately approach and diverge from the incoming signal frequency. The phase detector's output is a near-sinusoid at the frequency difference between the VCO and input frequencies. As the VCO frequency diverges, the sinusoid shifts to a higher frequency; as it approaches, the sinusoid shifts to a lower frequency. This results in an asymmetrical waveform in the phase detector output during capture, as shown in Fig. 10.14, introducing a dc component that gradually aligns the VCO frequency with the incoming signal frequency, reducing the difference frequency. Once locked, the difference frequency becomes zero, leaving only a dc voltage at the loop-filter output.\n\nThe capture range is the range of input frequencies around the center frequency onto which the loop can lock from an unlocked state. The pull-in time is the duration required for the loop to capture the signal. Both parameters depend on the loop's gain and the loop filter's bandwidth. The loop filter aims to eliminate difference components from distant interfering signals and provides memory for the loop if lock is briefly lost due to significant interference. Reducing the loop filter bandwidth enhances out-of-band signal rejection but narrows the capture range, extends the pull-in time, and degrades the loop phase margin."
},
{
    "text": "A schematic illustration of the fundamental phase-locked loop (PLL) system is presented in Fig. 10.13. The system comprises a phase comparator, a loop filter, an amplifier, and a voltage-controlled oscillator (VCO). The VCO is an oscillator whose frequency is directly proportional to an applied external voltage. When the loop is synchronized with an incoming periodic signal, the VCO's frequency matches that of the incoming signal precisely. The phase detector generates a dc or low-frequency signal proportional to the phase discrepancy between the incoming signal and the VCO output. This phase-sensitive signal is then processed through the loop filter and amplifier before being applied to the VCO's control input. For instance, if the incoming signal's frequency experiences a slight shift, the phase difference between the VCO signal and the incoming signal will progressively increase. This alteration modifies the VCO's control voltage to readjust its frequency to match the incoming signal, thereby maintaining lock. Consequently, the VCO input voltage reflects the incoming signal's frequency, making PLLs highly effective for FM signal demodulation, where frequency variations contain essential information. The range of frequencies over which the loop can sustain lock is termed the lock range.\n\nA critical aspect of PLL performance is the capture process, wherein the loop transitions from an unlocked, free-running state to a locked state. In the unlocked state, the VCO operates at a frequency corresponding to zero applied dc voltage, known as the center or free-running frequency. When a signal with a frequency near the free-running frequency is introduced, the loop may or may not lock onto it, influenced by various factors. The capture process is inherently nonlinear, and we will describe it qualitatively.\n\nInitially, assume the loop is open between the loop filter and the VCO control input, and a signal with a frequency close to, but not identical to, the free-running frequency is applied to the PLL input. For this qualitative analysis, assume the phase detector functions as an analog multiplier, multiplying two sinusoids and producing sum and difference frequency components. The high-frequency sum component is filtered out by the low-pass filter, leaving a sinusoid with a frequency equal to the difference between the VCO's free-running frequency and the incoming signal frequency.\n\nUpon suddenly closing the loop, this difference frequency sinusoid is applied to the VCO input, causing the VCO frequency to vary sinusoidally over time. Assuming the incoming frequency is lower than the free-running frequency, the VCO frequency will alternately approach and deviate from the incoming signal frequency. The phase detector's output is a near-sinusoid with a frequency corresponding to the difference between the VCO and input frequencies. As the VCO frequency deviates, the sinusoid's frequency shifts correspondingly. This results in an asymmetrical waveform in the phase detector output during capture, as depicted in Fig. 10.14, introducing a dc component that gradually aligns the VCO frequency with the incoming signal frequency, reducing the difference frequency. Once locked, the difference frequency becomes zero, leaving only a dc voltage at the loop-filter output.\n\nThe capture range is the frequency span around the center frequency within which the loop can transition from unlocked to locked. The pull-in time is the duration required for the loop to capture the signal. Both parameters are influenced by the loop's gain and the loop filter's bandwidth. The loop filter's role is to eliminate difference components from distant interfering signals and provide memory to maintain lock during transient interferences. Narrowing the loop filter bandwidth enhances out-of-band signal rejection but reduces the capture range, extends the pull-in time, and degrades the loop phase margin."
},
{
    "text": "A block diagram illustrating the fundamental phase-locked loop (PLL) system is presented in Fig. 10.13. The system comprises a phase comparator, a loop filter, an amplifier, and a voltage-controlled oscillator (VCO). The VCO is an oscillator whose frequency is directly proportional to an applied external voltage. When the loop locks onto an incoming periodic signal, the VCO's frequency matches that of the incoming signal precisely. The phase detector generates a dc or low-frequency signal corresponding to the phase difference between the incoming signal and the VCO's output. This phase-sensitive signal is then processed through the loop filter and amplifier before being applied to the VCO's control input. For instance, if the incoming signal's frequency shifts slightly, the phase difference between the VCO signal and the incoming signal will gradually increase. This alters the VCO's control voltage to restore its frequency to match the incoming signal, enabling the loop to maintain lock despite frequency changes. Consequently, the VCO's input voltage is proportional to the incoming signal's frequency, making PLLs highly effective for FM signal demodulation, where frequency variations contain essential information. The range of frequencies over which the loop can maintain lock is termed the lock range.\n\nA critical aspect of PLL performance is the capture process, wherein the loop transitions from an unlocked, free-running state to a locked state. In the unlocked state, the VCO operates at a frequency corresponding to zero applied dc voltage at its control input, known as the center or free-running frequency. When a periodic signal with a frequency near the free-running frequency is applied, the loop may or may not lock onto it, influenced by various factors. The capture process is inherently nonlinear, and we will describe it qualitatively.\n\nConsider the loop open between the loop filter and the VCO control input, with a signal applied whose frequency is close but not equal to the free-running frequency. Assuming the phase detector is an analog multiplier, it multiplies the two sinusoids, producing sum and difference frequency components. The high-frequency sum component is filtered out by the low-pass filter, leaving a sinusoid with a frequency equal to the difference between the VCO's free-running frequency and the incoming signal frequency.\n\nUpon suddenly closing the loop, this difference frequency sinusoid is applied to the VCO input, causing the VCO frequency to vary sinusoidally over time. If the incoming frequency is lower than the free-running frequency, the VCO frequency will alternately approach and deviate from the incoming frequency. The phase detector's output is a near-sinusoid with a frequency equal to the difference between the VCO and input frequencies. As the VCO frequency deviates, the sinusoid's frequency correspondingly increases or decreases. This results in an asymmetrical waveform in the phase detector output during capture, as shown in Fig. 10.14, introducing a dc component that shifts the average VCO frequency toward the incoming signal frequency, gradually reducing the difference frequency. Once locked, the difference frequency becomes zero, leaving only a dc voltage at the loop-filter output.\n\nThe capture range is the frequency range around the center frequency where the loop can transition from unlocked to locked. The pull-in time is the duration required for the loop to capture the signal. Both parameters depend on the loop's gain and the loop filter's bandwidth. The loop filter aims to eliminate difference components from distant interfering signals and provides memory to maintain lock during transient interferences. Reducing the loop filter's bandwidth enhances out-of-band signal rejection but decreases the capture range, extends the pull-in time, and degrades the loop phase margin."
},
{
    "text": "A block diagram illustrating the fundamental phase-locked loop (PLL) system is presented in Fig. 10.13. This system comprises a phase comparator, a loop filter, an amplifier, and a voltage-controlled oscillator (VCO). The VCO is an oscillator whose frequency is directly proportional to an applied external voltage. When the loop locks onto an incoming periodic signal, the VCO's frequency matches that of the incoming signal precisely. The phase detector generates a dc or low-frequency signal proportional to the phase discrepancy between the incoming signal and the VCO output. This phase-sensitive signal is then processed through the loop filter and amplifier before being applied to the VCO's control input. For instance, if the incoming signal's frequency shifts slightly, the phase difference between the VCO signal and the incoming signal will gradually increase. This alters the VCO's control voltage to restore its frequency to match the incoming signal, enabling the loop to maintain lock despite frequency changes. Consequently, the VCO input voltage reflects the incoming signal's frequency, making PLLs highly effective for FM signal demodulation, where frequency variations contain essential information. The range of frequencies over which the loop can maintain lock is termed the lock range.\n\nA critical aspect of PLL performance is the capture process, transitioning from an unlocked, free-running state to a locked state. In the unlocked state, the VCO operates at a frequency corresponding to zero applied dc voltage, known as the center or free-running frequency. When a signal near this frequency is applied, the loop may or may not lock onto it, influenced by various factors. The capture process is inherently nonlinear and will be described qualitatively.\n\nConsider the loop open between the loop filter and the VCO control input, with a signal slightly off the free-running frequency applied to the PLL input. Assuming the phase detector acts as an analog multiplier, its output contains sum and difference frequency components. The high-frequency sum component is filtered out by the low-pass filter, leaving a sinusoid at the difference frequency.\n\nClosing the loop suddenly applies this difference frequency sinusoid to the VCO input, causing the VCO frequency to vary sinusoidally over time. If the incoming frequency is lower than the free-running frequency, the VCO frequency will alternately approach and diverge from the incoming frequency. The phase detector output is a near-sinusoid at the frequency difference, shifting higher or lower as the VCO frequency moves away from or toward the incoming frequency. This asymmetrical waveform during capture, depicted in Fig. 10.14, introduces a dc component that adjusts the average VCO frequency toward the incoming signal frequency, gradually reducing the difference frequency. Once locked, the difference frequency becomes zero, leaving only a dc voltage at the loop-filter output.\n\nThe capture range is the frequency range around the center frequency where the loop can transition from unlocked to locked. The pull-in time is the duration required for this capture. Both parameters depend on the loop's gain and the loop filter's bandwidth. The loop filter aims to eliminate difference components from distant interfering signals and provides memory for the loop if lock is temporarily lost due to interference. Reducing the loop filter bandwidth enhances out-of-band signal rejection but narrows the capture range, extends the pull-in time, and degrades the loop phase margin."
},
{
    "text": "A block diagram illustrating the fundamental phase-locked loop (PLL) system is presented in Fig. 10.13. The system comprises a phase comparator, a loop filter, an amplifier, and a voltage-controlled oscillator (VCO). The VCO is an oscillator whose frequency is directly proportional to an applied external voltage. When the loop locks onto an incoming periodic signal, the VCO's frequency matches that of the incoming signal precisely. The phase detector generates a dc or low-frequency signal corresponding to the phase difference between the incoming signal and the VCO's output. This phase-sensitive signal is then routed through the loop filter and amplifier, ultimately being applied to the VCO's control input. For instance, if the incoming signal's frequency shifts slightly, the phase difference between the VCO signal and the incoming signal will gradually increase. This alters the VCO's control voltage to realign its frequency with the incoming signal, enabling the loop to maintain lock despite frequency changes. This functionality is particularly valuable for FM signal demodulation, where frequency variations contain essential information. The range of input signal frequencies within which the loop can maintain lock is termed the lock range.\n\nA critical aspect of PLL performance is the capture process, transitioning the loop from an unlocked, free-running state to a locked state. In the unlocked state, the VCO operates at a frequency corresponding to zero applied dc voltage, known as the center or free-running frequency. When a periodic signal near this frequency is introduced, the loop may or may not lock onto it, influenced by various factors. The capture process is inherently nonlinear, and we will describe it qualitatively.\n\nConsider the loop open between the loop filter and the VCO control input, with a signal near but not equal to the free-running frequency applied to the PLL input. Assuming the phase detector is an analog multiplier, its output contains sum and difference frequency components. The high-frequency sum component is filtered out by the low-pass filter, leaving a sinusoid at the difference frequency.\n\nClosing the loop suddenly applies this difference frequency sinusoid to the VCO input, causing the VCO frequency to vary sinusoidally over time. If the incoming frequency is lower than the free-running frequency, the VCO frequency will alternately approach and diverge from the incoming frequency. The phase detector output is a near-sinusoid at the frequency difference between the VCO and the input. As the VCO frequency shifts, this sinusoid's frequency correspondingly increases or decreases. This results in an asymmetrical waveform during capture, as shown in Fig. 10.14, introducing a dc component that gradually aligns the VCO frequency with the incoming signal, reducing the difference frequency until lock is achieved.\n\nThe capture range is the frequency range around the center frequency where the loop can transition from unlocked to locked. The pull-in time is the duration required for this capture. Both parameters depend on the loop's gain and the loop filter's bandwidth. The loop filter aims to eliminate difference components from distant interfering signals and provides memory to re-establish lock after transient disruptions. Narrowing the loop filter bandwidth enhances out-of-band signal rejection but reduces the capture range, extends the pull-in time, and degrades the loop phase margin.\n\nFigure 10.13 Phase-locked-loop system.\nFigure 10.14 Typical phase detector output during capture transient."
},
{
    "text": "A block diagram illustrating the fundamental phase-locked loop (PLL) system is presented in Fig. 10.13. The system comprises a phase comparator, a loop filter, an amplifier, and a voltage-controlled oscillator (VCO). The VCO is an oscillator whose frequency is directly proportional to an applied external voltage. When the loop locks onto an incoming periodic signal, the VCO frequency matches that of the incoming signal precisely. The phase detector generates a dc or low-frequency signal proportional to the phase difference between the incoming signal and the VCO output. This phase-sensitive signal is then processed through the loop filter and amplifier before being applied to the VCO's control input. For instance, if the incoming signal's frequency shifts slightly, the phase difference between the VCO signal and the incoming signal will gradually increase. This alters the VCO's control voltage to realign its frequency with the incoming signal, enabling the loop to maintain lock despite frequency changes. This capability makes PLLs highly effective for FM signal demodulation, where the incoming signal's frequency varies over time, encoding the desired information. The range of frequencies over which the loop can maintain lock is termed the lock range.\n\nA critical aspect of PLL performance is the capture process, wherein the loop transitions from an unlocked, free-running state to a locked state on a signal. In the unlocked state, the VCO operates at a frequency corresponding to zero applied dc voltage at its control input, known as the center or free-running frequency. When a periodic signal with a frequency near the free-running frequency is applied, the loop may or may not lock onto it, influenced by various factors. The capture process is inherently nonlinear, and we will describe it qualitatively.\n\nConsider the loop open between the loop filter and the VCO control input, with a signal applied whose frequency is close but not identical to the free-running frequency. Assuming the phase detector is an analog multiplier, it multiplies the two sinusoids, producing sum and difference frequency components. The high-frequency sum component is filtered out by the low-pass filter, leaving a sinusoid at the difference frequency.\n\nUpon closing the loop, this difference frequency sinusoid is applied to the VCO input, causing the VCO frequency to vary sinusoidally over time. If the incoming frequency is lower than the free-running frequency, the VCO frequency will alternately approach and diverge from the incoming frequency. The phase detector output is a near-sinusoid with a frequency equal to the difference between the VCO and input frequencies. As the VCO frequency shifts, the sinusoid's frequency changes accordingly, leading to an asymmetrical waveform in the phase detector output during capture, as shown in Fig. 10.14. This asymmetry introduces a dc component that adjusts the average VCO frequency towards the incoming signal frequency, gradually reducing the difference frequency. Once locked, the difference frequency becomes zero, leaving only a dc voltage at the loop-filter output.\n\nThe capture range is the set of input frequencies around the center frequency onto which the loop can lock from an unlocked state. The pull-in time is the duration required for the loop to capture the signal. Both parameters depend on the loop's gain and the loop filter's bandwidth. The loop filter aims to remove difference components from distant interfering signals and provides memory to maintain lock during transient interferences. Reducing the loop filter bandwidth enhances out-of-band signal rejection but narrows the capture range, extends the pull-in time, and degrades the loop phase margin."
},
{
    "text": "A block diagram illustrating the fundamental phase-locked loop (PLL) system is presented in Fig. 10.13. The system comprises a phase comparator, a loop filter, an amplifier, and a voltage-controlled oscillator (VCO). The VCO is an oscillator whose frequency is directly proportional to an applied external voltage. When the loop locks onto an incoming periodic signal, the VCO's frequency matches that of the incoming signal precisely. The phase detector generates a dc or low-frequency signal corresponding to the phase difference between the incoming signal and the VCO's output. This phase-sensitive signal is then processed through the loop filter and amplifier before being applied to the VCO's control input. For instance, if the incoming signal's frequency shifts slightly, the phase difference between the VCO signal and the incoming signal will gradually increase. This alters the VCO's control voltage to adjust its frequency back to that of the incoming signal, enabling the loop to maintain lock despite frequency changes. Consequently, the VCO's input voltage reflects the incoming signal's frequency, making PLLs highly effective for FM signal demodulation, where frequency variations contain essential information. The range of frequencies over which the loop can maintain lock is termed the lock range.\n\nA critical aspect of PLL performance is the capture process, transitioning the loop from an unlocked, free-running state to a locked state. In the unlocked state, the VCO operates at a frequency corresponding to zero applied dc voltage, known as the center or free-running frequency. When a periodic signal near this frequency is applied, the loop may or may not lock onto it, influenced by various factors. The capture process is inherently nonlinear, and we will describe it qualitatively.\n\nInitially, assume the loop is open between the loop filter and the VCO control input, with a signal near but not equal to the free-running frequency applied to the PLL input. The phase detector, typically as discussed previously, is assumed here to be an analog multiplier, multiplying the two sinusoids. The resulting output contains sum and difference frequency components, with the sum component being high enough to be filtered out by the low-pass filter. Thus, the low-pass filter's output is a sinusoid with a frequency equal to the difference between the VCO's free-running frequency and the incoming signal frequency.\n\nClosing the loop suddenly applies this difference frequency sinusoid to the VCO input, causing the VCO frequency to vary sinusoidally over time. Assuming the incoming frequency is lower than the free-running frequency, the VCO frequency alternately approaches and deviates from the incoming signal frequency. The phase detector's output is a near-sinusoid with a frequency equal to the difference between the VCO and input frequencies. As the VCO frequency deviates, the sinusoid's frequency increases or decreases accordingly. This results in an asymmetrical waveform in the phase detector output during capture, as shown in Fig. 10.14, introducing a dc component that shifts the average VCO frequency toward the incoming signal frequency, gradually reducing the difference frequency. Once locked, the difference frequency becomes zero, leaving only a dc voltage at the loop-filter output.\n\nThe capture range is the set of input frequencies around the center frequency onto which the loop can lock from an unlocked state. The pull-in time is the duration required for the loop to capture the signal. Both parameters depend on the loop's gain and the loop filter's bandwidth. The loop filter's role is to filter out difference components from distant interfering signals and provide memory for the loop if lock is temporarily lost due to large transients. Reducing the loop filter bandwidth enhances out-of-band signal rejection but decreases the capture range, extends the pull-in time, and degrades the loop phase margin."
},
{
    "text": "When the phase-locked loop (PLL) is in a locked state, there exists a linear correlation between the output voltage of the phase detector and the phase disparity between the voltage-controlled oscillator (VCO) and the incoming signal. This linear relationship enables the analysis of the loop using conventional linear feedback mechanisms. A block diagram depiction of the system in this locked state can be seen in Fig. 10.15. The phase comparator's gain is denoted as \\( K_{D} \\mathrm{~V} / \\mathrm{rad} \\), the loop-filter transfer function is represented by \\( F(s) \\), and any amplification within the forward loop is indicated by \\( A \\). The VCO's gain is expressed as \\( K_{o} \\mathrm{rad} / \\mathrm{s} \\) per volt.\n\nA constant input voltage applied to the VCO's control input ensures that the VCO's output frequency remains stable. The phase comparator, however, is highly sensitive to any discrepancy between the phase of the VCO's output and that of the incoming signal. The phase of the VCO's output is essentially the time integral of the VCO's output frequency, as given by the equations:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{osc}}(t)=\\frac{d \\phi_{\\mathrm{osc}}(t)}{d t} \\tag{10.44}\n\\end{equation*}\n$$\n\nand\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{osc}}(t)=\\left.\\phi_{\\mathrm{osc}}\\right|_{t=0}+\\int_{0}^{t} \\omega_{\\mathrm{osc}}(t) d t \\tag{10.45}\n\\end{equation*}\n$$\n\nThe block diagram in Fig. 10.15 illustrates a Phase-Locked Loop (PLL) system designed to synchronize the phase of the voltage-controlled oscillator (VCO) output with that of an incoming signal. Here is a detailed breakdown of the system:\n\n1. **Main Components:**\n   - **Phase Detector:** This component compares the phase of the incoming signal, \\( \\phi_i \\), with the phase of the VCO output, \\( \\phi_{osc} \\). It outputs a phase error signal, \\( \\phi_\\epsilon \\), which indicates the difference between these two phases.\n   - **Gain Block (\\( K_D \\) V/rad):** This block scales the phase error signal \\( \\phi_\\epsilon \\) by a gain factor \\( K_D \\), converting it into a voltage.\n   - **Filter (\\( F(s) \\)):** The filtered error signal aids in stabilizing the loop and determines the dynamic characteristics of the PLL.\n   - **Amplifier (\\( A \\)):** This block further amplifies the filtered signal to drive the VCO input.\n   - **Voltage-Controlled Oscillator (VCO):** The VCO generates an output frequency \\( \\omega_{osc} \\) that is controlled by the input voltage \\( V_o \\). The relationship is defined as \\( \\omega_{osc} = \\omega_0 + K_O V_o \\), where \\( \\omega_0 \\) is the free-running frequency and \\( K_O \\) is the VCO gain.\n   - **Integrator (\\( 1/s \\)):** This block represents the integration of the VCO output frequency to produce the phase \\( \\phi_{osc} \\).\n\n2. **Flow of Information or Control:**\n   - The input phase \\( \\phi_i \\) and the feedback phase \\( \\phi_{osc} \\) are compared in the phase detector, generating a phase error \\( \\phi_\\epsilon \\).\n   - The error signal \\( \\phi_\\epsilon \\) is processed through the gain block \\( K_D \\), filter \\( F(s) \\), and amplifier \\( A \\) to produce the control voltage \\( V_o \\) for the VCO.\n   - The VCO adjusts its output frequency \\( \\omega_{osc} \\) based on \\( V_o \\), and this frequency is integrated to update the phase \\( \\phi_{osc} \\).\n   - The updated phase \\( \\phi_{osc} \\) is fed back to the phase detector, completing the control loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The gain of the phase detector is labeled as \\( K_D \\) V/rad.\n   - The VCO gain is labeled as \\( K_O \\) rad/s/V.\n   - The integrator is represented by \\( 1/s \\).\n   - The output of the amplifier is denoted as \\( V_o \\).\n\n4. **Overall System Function:**\n   - The primary function of this PLL system is to lock the phase of the VCO output to the phase of the incoming signal \\( \\phi_i \\). This is achieved through the feedback loop, which continuously adjusts the VCO frequency to minimize the phase error \\( \\phi_\\epsilon \\). The integration in the loop ensures that the VCO's phase tracks the incoming signal's phase over time, maintaining synchronization.\n\nThus, an integration inherently takes place within the phase-locked loop. This integration is represented by the \\( 1 / s \\) block in Fig. 10.15.\n\nFor practical reasons, the VCO is designed such that when the VCO input voltage (i.e., \\( V_{o} \\)) is zero, the VCO frequency is not zero. The relation between the VCO output frequency \\( \\omega_{\\text {osc }} \\) and \\( V_{o} \\) is actually\n\n$$\n\\omega_{\\mathrm{osc}}=\\omega_{o}+K_{O} V_{o}\n$$\n\nwhere \\( \\omega_{o} \\) is the free-running frequency that results when \\( V_{o}=0 \\).\n\nThe system can be seen from Fig. 10.15 to be a classical linear feedback control system. The closed-loop transfer function is given by\n\n$$\n\\begin{align*}\n\\frac{V_{o}}{\\phi_{i}} & =\\frac{K_{D} F(s) A}{1+K_{D} F(s) A \\frac{K_{o}}{s}}  \\tag{10.46}\\\\\n& =\\frac{s K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.47}\n\\end{align*}\n$$\n\n\n\n$$\n\\begin{equation*}\n\\omega_{i}=\\frac{d \\phi_{i}}{d t} \\tag{10.48}\n\\end{equation*}\n$$\n\n\n\n$$\n\\begin{equation*}\n\\omega_{i}(s)=s \\phi_{i}(s) \\tag{10.49}\n\\end{equation*}\n$$\n\nand\n\n$$\n\\begin{equation*}\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{s} \\frac{V_{o}}{\\phi_{i}}=\\frac{K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.50}\n\\end{equation*}\n$$\n\n \\( F(s) \\)  1\n\n$$\n\\begin{equation*}\n\\frac{V_{o}}{\\omega_{i}}=\\left(\\frac{K_{v}}{s+K_{v}}\\right)\\left(\\frac{1}{K_{O}}\\right) \\tag{10.51}\n\\end{equation*}\n$$\n\n\n\n$$\n\\begin{equation*}\nK_{v}=K_{O} K_{D} A \\tag{10.52}\n\\end{equation*}\n$$\n\n \\( \\omega_{i} \\)\n\n \\( (K_{v}) \\)  \\( \\omega_{m} \\)  \\( \\omega_{m} \\)  \\( \\omega_{m} \\)  \\( K_{v} \\)  \\( K_{v} \\) PLL\\( K_{v} \\) VCO \\( K_{v} \\)  10.16a  $10.16 b$ \n\n 10.16a  10.16b \n\n#### \n\nPLL \\( K_{O} \\)  \\( 2 \\pi(1 \\mathrm{kHz} / \\mathrm{V}) \\)\\( K_{v} \\)  \\( 500 \\mathrm{~s}^{-1} \\)500 Hz\n\n(a)  250 Hz  1 kHz \\( V_{o} \\)\n\n$$\nV_{o}=\\frac{\\omega_{i}-\\omega_{o}}{K_{O}}\n$$\n\n\n\n$$\n\\omega_{o}=\\text {  }\n$$\n\n 250 Hz\n\n$$\nV_{o}=\\frac{2 \\pi(250 \\mathrm{~Hz})-2 \\pi(500 \\mathrm{~Hz})}{2 \\pi(1 \\mathrm{kHz} / \\mathrm{V})}=-0.25 \\mathrm{~V}\n$$\n\n 1 kHz\n\n$$\nV_{o}=\\frac{2 \\pi(1 \\mathrm{kHz})-2 \\pi(500 \\mathrm{~Hz})}{2 \\pi(1 \\mathrm{kHz} / \\mathrm{V})}=+0.5 \\mathrm{~V}\n$$\n\n(b) \n\n$$\n\\omega_{i}(t)=(2 \\pi) 500 \\mathrm{~Hz}\\left[1+0.1 \\sin \\left(2 \\pi \\times 10^{2}\\right) t\\right]\n$$\n\n \\( V_{o}(t) \\) (10.51) \n\n$$\n\\begin{aligned}\n\\frac{V_{o}(j \\omega)}{\\omega_{i}(j \\omega)} & =\\frac{1}{K_{O}}\\left(\\frac{K_{v}}{K_{v}+j \\omega}\\right)=\\frac{1}{K_{O}}\\left[\\frac{K_{v}}{K_{v}+j\\left(2 \\pi \\times 10^{2}\\right)}\\right] \\\\\n& =\\frac{1}{2 \\pi(1 \\mathrm{kHz} / \\mathrm{V})}\\left(\\frac{500}{500+j 628}\\right) \\\\\n& =\\frac{1}{2 \\pi(1 \\mathrm{kHz} / \\mathrm{V})}(0.39-j 0.48)\n\\end{aligned}\n$$\n\n\n\n$$\n\\left|\\omega_{i}(j \\omega)\\right|=(0.1)(500 \\mathrm{~Hz})(2 \\pi)=(50)(2 \\pi)\n$$\n\n\n\n$$\nV_{o}(j \\omega)=\\frac{50 \\mathrm{~Hz}}{1 \\mathrm{kHz}}(0.39-j 0.48)=\\frac{50}{1000}\\left(0.62 \\angle-51^{\\circ}\\right)\n$$\n\nand\n\n$$\nV_{o}(t)=0.031 \\sin \\left[\\left(2 \\pi \\times 10^{2} t\\right)-51^{\\circ}\\right]\n$$\n\n\n\nPLL \\( F(s) \\) \n\n$$\n\\begin{equation*}\nF(s)=\\left(\\frac{1}{1+\\frac{s}{\\omega_{1}}}\\right) \\tag{10.53}\n\\end{equation*}\n$$\n\n (10.50)\n\n$$\n\\begin{equation*}\n\\frac{V_{o}}{\\omega_{1}}(s)=\\frac{1}{K_{O}}\\left(\\frac{1}{1+\\frac{s}{K_{v}}+\\frac{s^{2}}{\\omega_{1} K_{v}}}\\right) \\tag{10.54}\n\\end{equation*}\n$$\n\n \\( K_{v} \\)  10.17 \n\n$$\n\\begin{equation*}\ns=-\\frac{\\omega_{1}}{2}\\left(1 \\pm \\sqrt{1-\\frac{4 K_{v}}{\\omega_{1}}}\\right) \\tag{10.55}\n\\end{equation*}\n$$\n\n(10.54) \n\n$$\n\\begin{equation*}\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{K_{O}}\\left(\\frac{1}{\\frac{s^{2}}{\\omega_{n}^{2}}+\\frac{2 \\zeta}{\\omega_{n}} s+1}\\right) \\tag{10.56}\n\\end{equation*}\n$$\n\n\n\n$$\n\\begin{align*}\n\\omega_{n} & =\\sqrt{K_{v} \\omega_{1}}  \\tag{10.57}\\\\\n\\zeta & =\\frac{1}{2} \\sqrt{\\frac{\\omega_{1}}{K_{v}}} \\tag{10.58}\n\\end{align*}\n$$\n\n \\( K_{v} \\) \\( \\omega_{1} \\) FM \\( 45^{\\circ} \\)  \\( \\zeta \\)  \\( 1 / \\sqrt{2} \\)\n\n$$\n\\begin{equation*}\n\\frac{1}{\\sqrt{2}}=\\frac{1}{2} \\sqrt{\\frac{\\omega_{1}}{K_{v}}} \\tag{10.59}\n\\end{equation*}\n$$\n\nand\n\n$$\n\\begin{equation*}\n\\omega_{1}=2 K_{v} \\tag{10.60}\n\\end{equation*}\n$$\n\n \\( \\left(V_{o} / \\omega_{i}\\right)(j \\omega) \\)  \\(-3-\\mathrm{dB}\\) \n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}}=\\omega_{n}=\\sqrt{K_{v} \\omega_{1}}=\\sqrt{2} K_{v} \\tag{10.61}\n\\end{equation*}\n$$\n\n \\(-3-\\mathrm{dB}\\)  \\( K_{v} \\)  (10.61)  \\( \\omega_{1} \\) \n\n $10.18 a$  \\(-20-\\mathrm{dB} /\\)  \\( K_{v} \\)  $10.18 b$  \\( \\omega_{1} \\)  \\( K_{v} \\)  \\( K_{v} \\) \\( K_{\\nu} \\)  $10.18d$  R-C \n\nLoop Lock Range. The loop lock range is the range of input frequencies about the center frequency for which the loop maintains lock. In most cases, it is limited by the fact that the phase comparator has a limited phase comparison range; once the phase difference between the input signal and the VCO output reaches some critical value, the phase comparator ceases to behave linearly. The transfer characteristic of a typical analog phase comparator is shown in Fig. 10.12. It is clear from this figure that in order to maintain lock, the phase difference between the VCO output and the incoming signal must be kept between zero and \\( \\pi \\). If the phase difference is equal to either zero or \\( \\pi \\), then the magnitude of the dc voltage at the output of the phase comparator is\n\n$$\n\\begin{equation*}\nV"
},
{
    "text": "In a locked state, the output voltage from the phase detector exhibits a linear correlation with the phase discrepancy between the voltage-controlled oscillator (VCO) and the incoming signal. This linear relationship permits the analysis of the loop using conventional linear feedback mechanisms while in the locked state. A block diagram depicting the system in this locked mode is presented in Fig. 10.15. The phase comparator's gain is denoted as \\( K_{D} \\mathrm{~V} / \\mathrm{rad} \\) per radian of phase difference, the loop filter's transfer function is \\( F(s) \\), and any amplification within the forward loop is represented by \\( A \\). The VCO's gain is expressed as \\( K_{o} \\mathrm{rad} / \\mathrm{s} \\) per volt.\n\nWhen a steady voltage is applied to the VCO's control input, the VCO's output frequency remains constant. However, the phase comparator is sensitive to the discrepancy between the phase of the VCO's output and the phase of the incoming signal. The phase of the VCO's output is essentially the time integral of the VCO's output frequency, as given by\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{osc}}(t)=\\frac{d \\phi_{\\mathrm{osc}}(t)}{d t} \\tag{10.44}\n\\end{equation*}\n$$\n\nand thus\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{osc}}(t)=\\left.\\phi_{\\mathrm{osc}}\\right|_{t=0}+\\int_{0}^{t} \\omega_{\\mathrm{osc}}(t) d t \\tag{10.45}\n\\end{equation*}\n$$\n\nThe block diagram in Fig. 10.15 illustrates a Phase-Locked Loop (PLL) system, which synchronizes the phase of the VCO's output with the phase of an incoming signal. The system's components and their interactions are as follows:\n\n1. **Main Components:**\n   - **Phase Detector:** This component compares the phase of the incoming signal, \\( \\phi_i \\), with the phase of the VCO output, \\( \\phi_{osc} \\), generating a phase error signal, \\( \\phi_\\epsilon \\), which represents the phase discrepancy.\n   - **Gain Block (\\( K_D \\) V/rad):** This block scales the phase error signal \\( \\phi_\\epsilon \\) by a gain factor \\( K_D \\), converting it into a voltage.\n   - **Filter (\\( F(s) \\)):** The filter stabilizes the loop and determines the dynamic behavior of the PLL by processing the error signal.\n   - **Amplifier (\\( A \\)):** This block amplifies the filtered signal to drive the VCO input.\n   - **Voltage-Controlled Oscillator (VCO):** The VCO generates an output frequency \\( \\omega_{osc} \\) that is modulated by the input voltage \\( V_o \\). The relationship is defined as \\( \\omega_{osc} = \\omega_0 + K_O V_o \\), where \\( \\omega_0 \\) is the free-running frequency and \\( K_O \\) is the VCO gain.\n   - **Integrator (\\( 1/s \\)):** This block integrates the VCO output frequency to produce the phase \\( \\phi_{osc} \\).\n\n2. **Flow of Information or Control:**\n   - The input phase \\( \\phi_i \\) and the feedback phase \\( \\phi_{osc} \\) are compared in the phase detector, generating a phase error \\( \\phi_\\epsilon \\).\n   - The error signal \\( \\phi_\\epsilon \\) is processed through the gain block \\( K_D \\), filter \\( F(s) \\), and amplifier \\( A \\) to produce the control voltage \\( V_o \\) for the VCO.\n   - The VCO adjusts its output frequency \\( \\omega_{osc} \\) based on \\( V_o \\), and this frequency is integrated to update the phase \\( \\phi_{osc} \\).\n   - The updated phase \\( \\phi_{osc} \\) is fed back to the phase detector, completing the control loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The phase detector's gain is labeled as \\( K_D \\) V/rad.\n   - The VCO gain is labeled as \\( K_O \\) rad/s/V.\n   - The integrator is represented by \\( 1/s \\).\n   - The amplifier's output is denoted as \\( V_o \\).\n\n4. **Overall System Function:**\n   - The primary function of the PLL system is to lock the phase of the VCO output to the phase of the incoming signal \\( \\phi_i \\). This synchronization is achieved through a feedback loop that continuously adjusts the VCO frequency to minimize the phase error \\( \\phi_\\epsilon \\). The integration within the loop ensures that the VCO's phase tracks the incoming signal's phase over time, maintaining synchronization.\n\nThus, an integration process inherently occurs within the phase-locked loop, represented by the \\( 1 / s \\) block in Fig. 10.15.\n\nFor practical reasons, the VCO is designed such that when the input voltage \\( V_o \\) is zero, the VCO frequency is not zero. The relationship between the VCO output frequency \\( \\omega_{\\text {osc }} \\) and \\( V_o \\) is given by\n\n$$\n\\omega_{\\mathrm{osc}}=\\omega_{o}+K_{O} V_{o}\n$$\n\nwhere \\( \\omega_{o} \\) is the free-running frequency that results when \\( V_o = 0 \\).\n\nThe system, as seen in Fig. 10.15, represents a classical linear feedback control system. The closed-loop transfer function is expressed as\n\n$$\n\\begin{align*}\n\\frac{V_{o}}{\\phi_{i}} & =\\frac{K_{D} F(s) A}{1+K_{D} F(s) A \\frac{K_{o}}{s}}  \\tag{10.46}\\\\\n& =\\frac{s K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.47}\n\\end{align*}\n$$\n\nUsually, the focus is on the loop's response to frequency variations at the input, treating the input variable as frequency rather than phase. Given\n\n$$\n\\begin{equation*}\n\\omega_{i}=\\frac{d \\phi_{i}}{d t} \\tag{10.48}\n\\end{equation*}\n$$\n\nthen\n\n$$\n\\begin{equation*}\n\\omega_{i}(s)=s \\phi_{i}(s) \\tag{10.49}\n\\end{equation*}\n$$\n\nand\n\n$$\n\\begin{equation*}\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{s} \\frac{V_{o}}{\\phi_{i}}=\\frac{K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.50}\n\\end{equation*}\n$$\n\nInitially, consider the scenario where the loop filter is absent, and \\( F(s) \\) is unity. This is referred to as a first-order loop, and we have\n\n$$\n\\begin{equation*}\n\\frac{V_{o}}{\\omega_{i}}=\\left(\\frac{K_{v}}{s+K_{v}}\\right)\\left(\\frac{1}{K_{O}}\\right) \\tag{10.51}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nK_{v}=K_{O} K_{D} A \\tag{10.52}\n\\end{equation*}\n$$\n\nThus, the loop inherently exhibits a first-order, low-pass transfer characteristic. The input variable in this context is the frequency \\( \\omega_{i} \\) of the incoming signal. The response calculated above corresponds to the loop's response to frequency modulation on the incoming carrier, resulting in the loop voltage output.\n\nThe constant \\( K_{v} \\) is referred to as the loop bandwidth. If the loop is locked on a carrier signal, and the carrier's frequency is modulated sinusoidally with a frequency \\( \\omega_{m} \\), a sinusoid of frequency \\( \\omega_{m} \\) will be observed at the loop output. When \\( \\omega_{m} \\) exceeds \\( K_{v} \\), the magnitude of the sinusoid at the output diminishes. The loop bandwidth \\( K_{v} \\) is, therefore, the effective bandwidth for the modulating signal being demodulated by the PLL. In terms of the loop parameters, \\( K_{v} \\) is the product of the phase detector gain, VCO gain, and any other electrical gain in the loop. The root locus of this single pole as a function of the loop gain \\( K_{v} \\) is shown in Fig. 10.16a, along with the frequency response. The loop's response to variations in input frequency is illustrated\nIn a locked condition, the phase detector's output voltage is linearly proportional to the phase difference between the voltage\nIn a locked condition, the phase detector's output voltage is linearly proportional to the phase difference between the voltage-controlled oscillator (VCO) and the incoming signal. This linear relationship allows the loop to be analyzed using standard linear feedback concepts. A block diagram of the system in this locked mode is shown in Fig. 10.15. The phase comparator's gain is \\( K_{D} \\mathrm{~V} / \\mathrm{rad} \\) per radian of phase difference, the loop filter's transfer function is \\( F(s) \\), and any amplification within the forward loop is represented by \\( A \\). The VCO's gain is \\( K_{o} \\mathrm{rad} / \\mathrm{s} \\) per volt.\n\nWhen a constant voltage is applied to the VCO's control input, the VCO's output frequency remains constant. However, the phase comparator is sensitive to the discrepancy between the phase of the VCO's output and the phase of the incoming signal. The phase of the VCO's output is actually the time integral of the VCO's output frequency, as given by\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{osc}}(t)=\\frac{d \\phi_{\\mathrm{osc}}(t)}{d t} \\tag{10.44}\n\\end{equation*}\n$$\n\nand thus\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{osc}}(t)=\\left.\\phi_{\\mathrm{osc}}\\right|_{t=0}+\\int_{0}^{t} \\omega_{\\mathrm{osc}}(t) d t \\tag{10.45}\n\\end{equation*}\n$$\n\nThe block diagram in Fig. 10.15 illustrates a Phase-Locked Loop (PLL) system, which synchronizes the phase of the VCO's output with the phase of an incoming signal. The system's components and their interactions are as follows:\n\n1. **Main Components:**\n   - **Phase Detector:** This component compares the phase of the incoming signal, \\( \\phi_i \\), with the phase of the VCO output, \\( \\phi_{osc} \\), generating a phase error signal, \\( \\phi_\\epsilon \\), which represents the phase discrepancy.\n   - **Gain Block (\\( K_D \\) V/rad):** This block scales the phase error signal \\( \\phi_\\epsilon \\) by a gain factor \\( K_D \\), converting it into a voltage.\n   - **Filter (\\( F(s) \\)):** The filter stabilizes the loop and determines the dynamic behavior of the PLL by processing the error signal.\n   - **Amplifier (\\( A \\)):** This block amplifies the filtered signal to drive the VCO input.\n   - **Voltage-Controlled Oscillator (VCO):** The VCO generates an output frequency \\( \\omega_{osc} \\) that is modulated by the input voltage \\( V_o \\). The relationship is defined as \\( \\omega_{osc} = \\omega_0 + K_O V_o \\), where \\( \\omega_0 \\) is the free-running frequency and \\( K_O \\) is the VCO gain.\n   - **Integrator (\\( 1/s \\)):** This block integrates the VCO output frequency to produce the phase \\( \\phi_{osc} \\).\n\n2. **Flow of Information or Control:**\n   - The input phase \\( \\phi_i \\) and the feedback phase \\( \\phi_{osc} \\) are compared in the phase detector, generating a phase error \\( \\phi_\\epsilon \\).\n   - The error signal \\( \\phi_\\epsilon \\) is processed through the gain block \\( K_D \\), filter \\( F(s) \\), and amplifier \\( A \\) to produce the control voltage \\( V_o \\) for the VCO.\n   - The VCO adjusts its output frequency \\( \\omega_{osc} \\) based on \\( V_o \\), and this frequency is integrated to update the phase \\( \\phi_{osc} \\).\n   - The updated phase \\( \\phi_{osc} \\) is fed back to the phase detector, completing the control loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The phase detector's gain is labeled as \\( K_D \\) V/rad.\n   - The VCO gain is labeled as \\( K_O \\) rad/s/V.\n   - The integrator is represented by \\( 1/s \\).\n   - The amplifier's output is denoted as \\( V_o \\).\n\n4. **Overall System Function:**\n   - The primary function of the PLL system is to lock the phase of the VCO output to the phase of the incoming signal \\( \\phi_i \\). This synchronization is achieved through a feedback loop that continuously adjusts the VCO frequency to minimize the phase error \\( \\phi_\\epsilon \\). The integration within the loop ensures that the VCO's phase tracks the incoming signal's phase over time, maintaining synchronization.\n\nThus, an integration process inherently occurs within the phase-locked loop, represented by the \\( 1 / s \\) block in Fig. 10.15.\n\nFor practical reasons, the VCO is designed such that when the input voltage \\( V_o \\) is zero, the VCO frequency is not zero. The relationship between the VCO output frequency \\( \\omega_{\\text {osc }} \\) and \\( V_o \\) is given by\n\n$$\n\\omega_{\\mathrm{osc}}=\\omega_{o}+K_{O} V_{o}\n$$\n\nwhere \\( \\omega_{o} \\) is the free-running frequency that results when \\( V_o = 0 \\).\n\nThe system, as seen in Fig. 10.15, represents a classical linear feedback control system. The closed-loop transfer function is expressed as\n\n$$\n\\begin{align*}\n\\frac{V_{o}}{\\phi_{i}} & =\\frac{K_{D} F(s) A}{1+K_{D} F(s) A \\frac{K_{o}}{s}}  \\tag{10.46}\\\\\n& =\\frac{s K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.47}\n\\end{align*}\n$$\n\nUsually, the focus is on the loop's response to frequency variations at the input, treating the input variable as frequency rather than phase. Given\n\n$$\n\\begin{equation*}\n\\omega_{i}=\\frac{d \\phi_{i}}{d t} \\tag{10.48}\n\\end{equation*}\n$$\n\nthen\n\n$$\n\\begin{equation*}\n\\omega_{i}(s)=s \\phi_{i}(s) \\tag{10.49}\n\\end{equation*}\n$$\n\nand\n\n$$\n\\begin{equation*}\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{s} \\frac{V_{o}}{\\phi_{i}}=\\frac{K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.50}\n\\end{equation*}\n$$\n\nInitially, consider the scenario where the loop filter is absent, and \\( F(s) \\) is unity. This is referred to as a first-order loop, and we have\n\n$$\n\\begin{equation*}\n\\frac{V_{o}}{\\omega_{i}}=\\left(\\frac{K_{v}}{s+K_{v}}\\right)\\left(\\frac{1}{K_{O}}\\right) \\tag{10.51}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nK_{v}=K_{O} K_{D} A \\tag{10.52}\n\\end{equation*}\n$$\n\nThus, the loop inherently exhibits a first-order, low-pass transfer characteristic. The input variable in this context is the frequency \\( \\omega_{i} \\) of the incoming signal. The response calculated above corresponds to the loop's response to frequency modulation on the incoming carrier, resulting in the loop voltage output.\n\nThe constant \\( K_{v} \\) is referred to as the loop bandwidth. If the loop is locked on a carrier signal, and the carrier's frequency is modulated sinusoidally with a frequency \\( \\omega_{m} \\), a sinusoid of frequency \\( \\omega_{m} \\) will be observed at the loop output. When \\( \\omega_{m} \\) exceeds \\( K_{v} \\), the magnitude of the sinusoid at the output diminishes. The loop bandwidth \\( K_{v} \\) is, therefore, the effective bandwidth for the modulating signal being demodulated by the PLL. In terms of the loop parameters, \\( K_{v} \\) is the product of the phase detector gain, VCO gain, and any other electrical gain in the loop. The root locus of this single pole as a function of the loop gain \\( K_{v} \\) is shown in Fig. 10.16a, along with the frequency response. The loop's response to variations in input frequency is"
},
{
    "text": "When the phase-locked loop (PLL) is in a locked state, a linear relationship is observed between the output voltage of the phase detector and the phase difference between the voltage-controlled oscillator (VCO) and the incoming signal. This linear relationship allows the loop to be analyzed using standard linear feedback theory. A block diagram representation of the system in this locked state is provided in Fig. 10.15. The phase comparator's gain is expressed as \\( K_{D} \\mathrm{~V} / \\mathrm{rad} \\) of phase difference, the loop filter's transfer function is denoted as \\( F(s) \\), and any gain in the forward path is represented by \\( A \\). The VCO's gain is given as \\( K_{o} \\mathrm{rad} / \\mathrm{s} \\) per volt.\n\nWhen a constant input voltage is applied to the VCO's control input, the output frequency of the VCO remains constant. However, the phase comparator is sensitive to the phase difference between the VCO output and the incoming signal. The phase of the VCO output is actually the time integral of the VCO output frequency, since\n\n$$\n\\omega_{\\mathrm{osc}}(t)=\\frac{d \\phi_{\\mathrm{osc}}(t)}{d t} \\tag{10.44}\n$$\n\nand thus\n\n$$\n\\phi_{\\mathrm{osc}}(t)=\\left.\\phi_{\\mathrm{osc}}\\right|_{t=0}+\\int_{0}^{t} \\omega_{\\mathrm{osc}}(t) d t \\tag{10.45}\n$$\n\nThe block diagram in Figure 10.15 represents a Phase-Locked Loop (PLL) system used to synchronize the phase of the VCO output with that of an incoming signal. The system's main components include the phase detector, gain block, filter, amplifier, VCO, and integrator. The flow of information or control within the system involves comparing input and feedback phases, processing the error signal, and adjusting the VCO frequency. The system's primary function is to lock the VCO output phase to the incoming signal phase, achieved through a feedback loop that continuously adjusts the VCO frequency to minimize the phase error.\n\nAn integration inherently takes place within the phase-locked loop, represented by the \\( 1 / s \\) block in Fig. 10.15. For practical reasons, the VCO is designed such that when the input voltage \\( V_{o} \\) is zero, the VCO frequency is not zero. The relationship between the VCO output frequency \\( \\omega_{\\text {osc }} \\) and \\( V_{o} \\) is given by\n\n$$\n\\omega_{\\mathrm{osc}}=\\omega_{o}+K_{O} V_{o}\n$$\n\nwhere \\( \\omega_{o} \\) is the free-running frequency when \\( V_{o}=0 \\). The system can be seen as a classical linear feedback control system, and its closed-loop transfer function is provided.\n\nThe response of the loop to frequency variations at the input is of interest, considering the input variable as frequency rather than phase. The loop inherently produces a first-order, low-pass transfer characteristic. The constant \\( K_{v} \\) is termed the loop bandwidth and represents the effective bandwidth for the modulating signal being demodulated by the PLL.\n\nA common configuration for integrated circuit PLLs is the second-order loop, where the loop filter \\( F(s) \\) is a single-pole, low-pass filter. This filter can be realized with a resistor and capacitor, with the cutoff frequency given by \\( \\omega_1 = \\frac{1}{RC} \\).\n\nThe loop lock range is the range of input frequencies about the center frequency for which the loop maintains lock. It is limited by the phase comparator's phase comparison range. The lock range \\( \\omega_{L} \\) is given by\n\n$$\n\\omega_{L}=K_{v} \\frac{\\pi}{2}\n$$\n\nThe capture range is the range of input frequencies for which the initially unlocked loop will lock on an input signal when initially in an unlocked condition and is always less than the lock range. The capture range can be estimated using the phase comparator's transfer characteristic and the loop filter's response."
},
{
    "text": "In a locked state, the phase detector's output voltage exhibits a linear dependence on the phase discrepancy between the voltage-controlled oscillator (VCO) and the incident signal. This linear relationship permits the analysis of the loop using conventional linear feedback theories while in the locked state. A block diagram depiction of the system in this locked mode is presented in Fig. 10.15. The phase comparator's gain is denoted as \\( K_{D} \\mathrm{~V} / \\mathrm{rad} \\) per unit of phase difference, the loop filter's transfer function is denoted as \\( F(s) \\), and any amplification within the forward loop is represented by \\( A \\). The VCO's gain is \\( K_{o} \\mathrm{rad} / \\mathrm{s} \\) per volt.\n\nWhen a constant input voltage is supplied to the VCO's control input, the VCO's output frequency remains constant. However, the phase comparator is highly responsive to any discrepancy between the phase of the VCO's output and the phase of the incoming signal. The phase of the VCO's output is fundamentally the time integral of the VCO's output frequency, as indicated by the equations:\n\n$$\n\\omega_{\\mathrm{osc}}(t)=\\frac{d \\phi_{\\mathrm{osc}}(t)}{d t} \\tag{10.44}\n$$\n\nand\n\n$$\n\\phi_{\\mathrm{osc}}(t)=\\left.\\phi_{\\mathrm{osc}}\\right|_{t=0}+\\int_{0}^{t} \\omega_{\\mathrm{osc}}(t) d t \\tag{10.45}\n$$\n\nThe block diagram in Figure 10.15 illustrates a Phase-Locked Loop (PLL) system, which serves to synchronize the phase of the VCO's output with the phase of an incoming signal. The system's main components are:\n\n1. **Phase Detector:** This component contrasts the phase of the incoming signal, \\( \\phi_i \\), with the phase of the VCO's output, \\( \\phi_{osc} \\), generating a phase error signal, \\( \\phi_\\epsilon \\), which signifies the discrepancy between these two phases.\n2. **Gain Block (\\( K_D \\) V/rad):** This block amplifies the phase error signal \\( \\phi_\\epsilon \\) by a factor \\( K_D \\), converting it into a voltage.\n3. **Filter (\\( F(s) \\)):** The filtered error signal aids in stabilizing the loop and defines the dynamic behavior of the PLL.\n4. **Amplifier (\\( A \\)):** This block further amplifies the filtered signal to drive the VCO input.\n5. **Voltage-Controlled Oscillator (VCO):** The VCO generates an output frequency \\( \\omega_{osc} \\) that is modulated by the input voltage \\( V_o \\). The relationship is defined as \\( \\omega_{osc} = \\omega_0 + K_O V_o \\), where \\( \\omega_0 \\) is the free-running frequency and \\( K_O \\) is the VCO gain.\n6. **Integrator (\\( 1/s \\)):** This block represents the integration of the VCO output frequency to yield the phase \\( \\phi_{osc} \\).\n\nThe flow of information or control within the system involves the comparison of the input phase \\( \\phi_i \\) and the feedback phase \\( \\phi_{osc} \\) in the phase detector, generating a phase error \\( \\phi_\\epsilon \\). The error signal \\( \\phi_\\epsilon \\) is then processed through the gain block \\( K_D \\), filter \\( F(s) \\), and amplifier \\( A \\) to generate the control voltage \\( V_o \\) for the VCO. The VCO adjusts its output frequency \\( \\omega_{osc} \\) based on \\( V_o \\), and this frequency is integrated to update the phase \\( \\phi_{osc} \\). The updated phase \\( \\phi_{osc} \\) is fed back to the phase detector, completing the control loop.\n\nThe PLL system's primary function is to lock the VCO's phase to the phase of the incoming signal \\( \\phi_i \\). This synchronization is achieved through the feedback loop, which continuously fine-tunes the VCO's frequency to minimize the phase error \\( \\phi_\\epsilon \\). The integration within the loop ensures that the VCO's phase tracks the incoming signal's phase over time, maintaining synchronization.\n\nFor practical considerations, the VCO is engineered such that when the VCO input voltage (i.e., \\( V_{o} \\)) is zero, the VCO frequency is not zero. The relationship between the VCO output frequency \\( \\omega_{\\text {osc }} \\) and \\( V_{o} \\) is expressed as:\n\n$$\n\\omega_{\\mathrm{osc}}=\\omega_{o}+K_{O} V_{o}\n$$\n\nwhere \\( \\omega_{o} \\) is the free-running frequency that results when \\( V_{o}=0 \\). The system, as depicted in Fig. 10.15, represents a classical linear feedback control system. The closed-loop transfer function is given by:\n\n$$\n\\frac{V_{o}}{\\phi_{i}} =\\frac{K_{D} F(s) A}{1+K_{D} F(s) A \\frac{K_{o}}{s}}  \\tag{10.46}\n$$\n\nand\n\n$$\n\\frac{V_{o}}{\\phi_{i}} =\\frac{s K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.47}\n$$\n\nThe system's response to frequency variations at the input is of particular interest, considering the input variable as frequency rather than phase. Given that:\n\n$$\n\\omega_{i}=\\frac{d \\phi_{i}}{d t} \\tag{10.48}\n$$\n\nthen\n\n$$\n\\omega_{i}(s)=s \\phi_{i}(s) \\tag{10.49}\n$$\n\nand\n\n$$\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{s} \\frac{V_{o}}{\\phi_{i}}=\\frac{K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.50}\n$$\n\nWhen the loop filter is removed entirely, and \\( F(s) \\) is unity, the system is referred to as a first-order loop, and we have:\n\n$$\n\\frac{V_{o}}{\\omega_{i}}=\\left(\\frac{K_{v}}{s+K_{v}}\\right)\\left(\\frac{1}{K_{O}}\\right) \\tag{10.51}\n$$\n\nwhere\n\n$$\nK_{v}=K_{O} K_{D} A \\tag{10.52}\n$$\n\nThus, the loop inherently exhibits a first-order, low-pass transfer characteristic. The input variable, in this case, is the frequency \\( \\omega_{i} \\) of the incoming signal. The calculated response, then, represents the system's response to frequency modulation on the incoming carrier as reflected in the loop voltage output.\n\nThe constant \\( K_{v} \\) is referred to as the loop bandwidth. If the loop is locked on a carrier signal, and the frequency of that carrier varies sinusoidally in time with a frequency \\( \\omega_{m} \\), then a sinusoid of frequency \\( \\omega_{m} \\) will be observed at the loop output. When \\( \\omega_{m} \\) exceeds \\( K_{v} \\), the magnitude of the sinusoid at the output diminishes. The loop bandwidth \\( K_{v} \\), therefore, represents the effective bandwidth for the modulating signal that is being demodulated by the PLL. In terms of the loop parameters, \\( K_{v} \\) is simply the product of the phase detector gain, VCO gain, and any other electrical gain within the loop.\n\nThe root locus of this single pole as a function of the loop gain \\( K_{v} \\) is shown in Fig. 10.16a, along with the frequency response. The loop's response to variations in input frequency is illustrated in Fig. 10.16b and through the following example."
},
{
    "text": "In locked state, the phase detector's output voltage exhibits a linear correlation with the phase discrepancy between the voltage-controlled oscillator (VCO) and the incoming signal. This linear relationship facilitates the analysis of the loop using conventional linear feedback theory when it is in the locked state. A block diagram depicting the system in this state can be seen in Fig. 10.15. The phase comparator's gain is denoted as \\( K_{D} \\mathrm{~V} / \\mathrm{rad} \\) per unit of phase difference, the loop filter's transfer function is represented by \\( F(s) \\), and any amplification within the forward loop is indicated by \\( A \\). The VCO's gain is expressed as \\( K_{o} \\mathrm{rad} / \\mathrm{s} \\) per volt.\n\nWhen a constant voltage is supplied to the VCO's control input, the VCO's output frequency remains constant. Nevertheless, the phase comparator is sensitive to the phase difference between the VCO's output and the incoming signal. The phase of the VCO's output is indeed the time integral of the VCO's output frequency, as demonstrated by the equations:\n\n$$\n\\omega_{\\mathrm{osc}}(t)=\\frac{d \\phi_{\\mathrm{osc}}(t)}{d t} \\tag{10.44}\n$$\n\nand\n\n$$\n\\phi_{\\mathrm{osc}}(t)=\\left.\\phi_{\\mathrm{osc}}\\right|_{t=0}+\\int_{0}^{t} \\omega_{\\mathrm{osc}}(t) d t \\tag{10.45}\n$$\n\nThe block diagram in Figure 10.15 represents a Phase-Locked Loop (PLL) system, which is utilized to synchronize the phase of the VCO's output with the incoming signal. Here is a detailed breakdown of the system:\n\n1. **Main Components:**\n   - **Phase Detector:** This component compares the phase of the incoming signal, \\( \\phi_i \\), with the phase of the VCO output, \\( \\phi_{osc} \\). It outputs a phase error signal, \\( \\phi_\\epsilon \\), which indicates the difference between these two phases.\n   - **Gain Block (\\( K_D \\) V/rad):** This block scales the phase error signal \\( \\phi_\\epsilon \\) by a gain factor \\( K_D \\), converting it into a voltage.\n   - **Filter (\\( F(s) \\)):** The filtered error signal helps stabilize the loop and determines the dynamic characteristics of the PLL.\n   - **Amplifier (\\( A \\)):** This block further amplifies the filtered signal to drive the VCO input.\n   - **Voltage-Controlled Oscillator (VCO):** The VCO generates an output frequency \\( \\omega_{osc} \\) that is controlled by the input voltage \\( V_o \\). The relationship is defined as \\( \\omega_{osc} = \\omega_0 + K_O V_o \\), where \\( \\omega_0 \\) is the free-running frequency and \\( K_O \\) is the VCO gain.\n   - **Integrator (\\( 1/s \\)):** This block represents the integration of the VCO output frequency to produce the phase \\( \\phi_{osc} \\).\n\n2. **Flow of Information or Control:**\n   - The input phase \\( \\phi_i \\) and the feedback phase \\( \\phi_{osc} \\) are compared in the phase detector, generating a phase error \\( \\phi_\\epsilon \\).\n   - The error signal \\( \\phi_\\epsilon \\) is processed through the gain block \\( K_D \\), filter \\( F(s) \\), and amplifier \\( A \\) to produce the control voltage \\( V_o \\) for the VCO.\n   - The VCO adjusts its output frequency \\( \\omega_{osc} \\) based on \\( V_o \\), and this frequency is integrated to update the phase \\( \\phi_{osc} \\).\n   - The updated phase \\( \\phi_{osc} \\) is fed back to the phase detector, completing the control loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The gain of the phase detector is labeled as \\( K_D \\) V/rad.\n   - The VCO gain is labeled as \\( K_O \\) rad/s/V.\n   - The integrator is represented by \\( 1/s \\).\n   - The output of the amplifier is denoted as \\( V_o \\).\n\n4. **Overall System Function:**\n   - The primary function of this PLL system is to lock the phase of the VCO output to the phase of the incoming signal \\( \\phi_i \\). This is achieved through the feedback loop, which continuously adjusts the VCO frequency to minimize the phase error \\( \\phi_\\epsilon \\). The integration in the loop ensures that the VCO's phase tracks the incoming signal's phase over time, maintaining synchronization.\n\nThe integration inherent in the phase-locked loop is represented by the \\( 1 / s \\) block in Fig. 10.15.\n\nFor practical reasons, the VCO is designed such that when the VCO input voltage (i.e., \\( V_{o} \\)) is zero, the VCO frequency is not zero. The relationship between the VCO output frequency \\( \\omega_{\\text {osc }} \\) and \\( V_{o} \\) is actually\n\n$$\n\\omega_{\\mathrm{osc}}=\\omega_{o}+K_{O} V_{o}\n$$\n\nwhere \\( \\omega_{o} \\) is the free-running frequency that results when \\( V_{o}=0 \\).\n\nThe system can be seen from Fig. 10.15 to be a classical linear feedback control system. The closed-loop transfer function is given by\n\n$$\n\\frac{V_{o}}{\\phi_{i}} =\\frac{K_{D} F(s) A}{1+K_{D} F(s) A \\frac{K_{o}}{s}}  \\tag{10.46}\n$$\n\nand\n\n$$\n\\frac{V_{o}}{\\phi_{i}} =\\frac{s K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.47}\n$$\n\nUsually, we are interested in the response of this loop to frequency variations at the input, so that the input variable is frequency rather than phase. Since\n\n$$\n\\omega_{i}=\\frac{d \\phi_{i}}{d t} \\tag{10.48}\n$$\n\nthen\n\n$$\n\\omega_{i}(s)=s \\phi_{i}(s) \\tag{10.49}\n$$\n\nand\n\n$$\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{s} \\frac{V_{o}}{\\phi_{i}}=\\frac{K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.50}\n$$\n\nWe first consider the case in which the loop filter is removed entirely, and \\( F(s) \\) is unity. This is called a first-order loop and we have\n\n$$\n\\frac{V_{o}}{\\omega_{i}}=\\left(\\frac{K_{v}}{s+K_{v}}\\right)\\left(\\frac{1}{K_{O}}\\right) \\tag{10.51}\n$$\n\nwhere\n\n$$\nK_{v}=K_{O} K_{D} A \\tag{10.52}\n$$\n\nThus the loop inherently produces a first-order, low-pass transfer characteristic. Remember that we regard the input variable as the frequency \\( \\omega_{i} \\) of the incoming signal. The response calculated above, then, is really the response from the frequency modulation on the incoming carrier to the loop voltage output.\n\nThe constant above \\( (K_{v}) \\) is termed the loop bandwidth. If the loop is locked on a carrier signal, and the frequency of that carrier is made to vary sinusoidally in time with a frequency \\( \\omega_{m} \\), then a sinusoid of frequency \\( \\omega_{m} \\) will be observed at the loop output. When \\( \\omega_{m} \\) is increased above \\( K_{v} \\), the magnitude of the sinusoid at the output falls. The loop bandwidth \\( K_{v} \\), then, is the effective bandwidth for the modulating signal that is being demodulated by the PLL. In terms of the loop parameters, \\( K_{v} \\) is simply the product of the phase detector gain, VCO gain, and any other electrical gain in the loop. The root locus of this single pole as a function of loop gain \\( K_{v} \\) is shown in Fig. 10.16a. The frequency response is also shown in this figure. The response of the loop to variations in input frequency is illustrated in Fig. $10.16 b$ and by the following example.\n\nFor a PLL with a \\( K_{O} \\) of \\( 2 \\pi(1 \\mathrm{kHz} / \\mathrm{V}) \\), a \\( K_{v} \\) of \\( 500 \\mathrm{~s}^{-1} \\), and a free-running frequency of 500 Hz, we can calculate the output voltage for different input signal frequencies.\n\n$$\nV_{o}=\\frac{\\omega_{i}-\\omega_{o}}{K_{O}}\n$$\n\nwhere \\( \\omega_{o} \\) is the oscillator free-running frequency.\n\nAt 250 Hz,\n\n$$\nV_{o}=\\frac{2 \\pi(250 \\mathrm{~Hz})-2 \\pi(500 \\mathrm{~Hz})}{2 \\pi(1 \\mathrm{kHz} / \\mathrm{V})}=-0.25 \\mathrm{~V}\n$$\n\nAt 1 kHz,\n\n$$\nV_{o}=\\frac{2 \\pi(1 \\mathrm{kHz})-2 \\pi(500 \\mathrm{~Hz})}{2 \\pi(1 \\mathrm{kHz} / \\mathrm{V})}=+0.5 \\mathrm{~V}\n$$\n\nFor a frequency-modulated input signal,\n\n$$\n\\omega_{i}(t)=(2 \\pi) 500 \\mathrm{~Hz}\\left[1+0.1 \\sin \\left(2 \\pi \\times 10^{2}\\right) t\\right]\n$$\n\nthe output signal \\( V_{o}(t) \\) can be calculated using the transfer function.\n\nOperating the loop with no loop filter has several practical drawbacks. Since the phase detector is really a multiplier, it produces a sum frequency component at its output as well as the difference frequency component. This component at twice the carrier frequency will be fed directly to the output if there is no loop filter. Also, all the out-of-band interfering signals present at the input will appear, shifted in frequency, at the output. Thus, a loop filter is very desirable in applications where interfering signals are present.\n\nThe most common configuration for integrated circuit PLLs is the second-order loop. Here, loop filter \\( F(s) \\) is simply a single-pole, low-pass filter, usually realized with a single resistor and capacitor. Thus\n\n$$\nF(s)=\\left(\\frac{1}{1+\\frac{s}{\\omega_{1}}}\\right) \\tag{10.53}\n$$\n\nBy substituting into (10.50), the transfer function becomes\n\n$$\n\\frac{V_{o}}{\\omega_{1}}(s)=\\frac{1}{K_{O}}\\left(\\frac{1}{1+\\frac{s}{K_{v}}+\\frac{s^{2}}{\\omega_{1} K_{v}}}\\right) \\tag{10.54}\n$$\n\nThe root locus for this feedback system as \\( K_{v} \\) varies is shown in Fig. 10.17, along with the corresponding frequency response. The roots of the transfer function are\n\n$$\ns=-\\frac{\\omega_{1}}{2}\\left(1 \\pm \\sqrt{1-\\frac{4 K_{v}}{\\omega_{1}}}\\right) \\tag{10.55}\n$$\n\nEquation 10.54 can be expressed as\n\n$$\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{K_{O}}\\left(\\frac{1}{\\frac{s^{2}}{\\omega_{n}^{2}}+\\frac{2 \\zeta}{\\omega_{n}} s+1}\\right) \\tag{10.56}\n$$\n\nwhere\n\n$$\n\\omega_{n} =\\sqrt{K_{v} \\omega_{1}}  \\tag{10.57}\n$$\n\nand\n\n$$\n\\zeta =\\frac{1}{2} \\sqrt{\\frac{\\omega_{1}}{K_{v}}} \\tag{10.58}\n$$\n\nThe basic factor setting the loop bandwidth is \\( K_{v} \\) as in the first-order case. The magnitude \\( \\omega_{1} \\) of the additional pole is then made as low as possible without causing an unacceptable amount of peaking in the frequency response. This peaking is of concern both because it distorts the demodulated FM output and because it causes the loop to ring, or experience a poorly damped oscillatory response, when a transient disturbs the loop. A good compromise is using a maximally flat low-pass pole configuration in which the poles are placed on radials angled \\( 45^{\\circ} \\) from the negative real axis. For this response, the damping factor \\( \\zeta \\) should be equal to \\( 1 / \\sqrt{2} \\). Thus\n\n$$\n\\frac{1}{\\sqrt{2}}=\\frac{1}{2} \\sqrt{\\frac{\\omega_{1}}{K_{v}}} \\tag{10.59}\n$$\n\nand\n\n$$\n\\omega_{1}=2 K_{v} \\tag{10.60}\n$$\n\nThe \\( -3-\\mathrm{dB} \\) frequency of the transfer function \\( \\left(V_{o} / \\omega_{i}\\right)(j \\omega) \\) is then\n\n$$\n\\omega_{-3 \\mathrm{~dB}}=\\omega_{n}=\\sqrt{K_{v} \\omega_{1}}=\\sqrt{2} K_{v} \\tag{10.61}\n$$\n\nA disadvantage of the second-order loop as discussed thus far is that the \\( -3-\\mathrm{dB} \\) bandwidth of the loop is basically dictated by loop gain \\( K_{v} \\) as shown by (10.61). As we will show, the loop gain also sets the lock range, so that with the simple filter used above these two parameters are constrained to be comparable. Situations do arise in phase-locked communications in which a wide lock range is desired for tracking large signal-frequency variations, yet a narrow loop bandwidth is desired for rejecting out-of-band signals. Using a very small \\( \\omega_{1} \\) would accomplish this were it not for the fact that this produces underdamped loop response. By adding a zero to the loop filter, the loop filter pole can be made small while still maintaining good loop dampening.\n\nThe effect of the addition of a zero on the loop response is best seen by examining the open-loop response of the circuit. Shown in Fig. $10.18 a$ is the open-loop response of the circuit with no loop filter. Because of the integration inherent in the loop, the response has a \\( -20-\\mathrm{dB} / \\) decade slope throughout the frequency range and crosses unity gain at \\( K_{v} \\). In Fig. $10.18 b$, a loop filter in which \\( \\omega_{1} \\) is much less than \\( K_{v} \\) has been added, and, as a result, the loop phase shift is very nearly \\( 180^{\\circ} \\) at the crossover frequency. The result is a sharp peak in the closed-loop frequency response at the crossover frequency. By adding a zero in the loop filter at \\( \\omega_{2} \\), as shown in Fig. 10.18c, the loop phase margin can be greatly improved. Note that for this case the loop bandwidth, which is equal to the crossover frequency, is much lower than \\( K_{v} \\). This ability to set loop bandwidth and \\( K_{\\nu} \\) independently is an advantage of this type of loop filter. An R-C circuit that provides the necessary pole and zero in the filter response is shown in Fig. 10.18d. The root locus for this loop filter and the resulting closed-loop response are also shown.\n\nLoop Lock Range. The loop lock range is the range of input frequencies about the center frequency for which the loop maintains lock. In most cases, it is limited by the fact that the phase comparator has a limited phase comparison range; once the phase difference between the input signal and the VCO output reaches some critical value, the phase comparator ceases to behave linearly. The transfer characteristic of a typical analog phase comparator is shown in Fig. 10.12. It is clear from this figure that in order to maintain lock, the phase difference between the VCO output and the incoming signal must be kept between zero and \\( \\pi \\). If the phase difference is equal to either zero or \\( \\pi \\), then the magnitude of the dc voltage at the output of the phase comparator is\n\n$$\nV_{o(\\max )}= \\pm K_{D}\\left(\\frac{\\pi}{2}\\right) \\tag{10.62}\n$$\n\nThis dc voltage is amplified by the electrical gain \\( A \\), and the result is applied to the VCO input, producing a frequency shift away from the free-running center frequency of\n\n$$\n\\Delta \\omega_{\\mathrm{osc}}=K_{D} A K_{O}\\left(\\frac{\\pi}{2}\\right)=\\left(\\frac{K_{v} \\pi}{2}\\right) \\tag{10.63}\n$$\n\nIf the input frequency is now shifted away from the free-running frequency, more voltage will have to be applied to the VCO in order for the VCO frequency to shift accordingly. However, the phase detector can produce no more dc output voltage to shift the VCO frequency further, so the loop will lose lock. The lock range \\( \\omega_{L} \\) is then given by\n\n$$\n\\omega_{L}=K_{v} \\frac{\\pi}{2} \\tag{10.64}\n$$\n\nThis is the frequency range on either side of the free-running frequency for which the loop will track input frequency variations. It is a parameter that depends only on the dc gain in the loop and is independent of the properties of the loop filter. Other types of phase detectors can give larger linear ranges of phase-comparator operation.\n\nThe capture range is the range of input frequencies for which the initially unlocked loop will lock on an input signal when initially in an unlocked condition and is always less than the lock range. When the input frequency is swept through a range around the center frequency, the output voltage as a function of input frequency displays a hysteresis effect, as shown in Fig. 10.19. As discussed earlier, the capture range is difficult to predict analytically. As a very rough rule of thumb, the approximate capture range can be estimated using the following procedure"
},
{
    "text": "A linear correlation exists between the phase detector's output voltage and the phase discrepancy between the voltage-controlled oscillator (VCO) and the incoming signal under locked conditions. This linear relationship facilitates the analysis of the loop using conventional linear feedback principles when it is in the locked state. The system's block diagram in this locked mode is depicted in Fig. 10.15. The phase comparator's gain is expressed as \\( K_{D} \\mathrm{~V} / \\mathrm{rad} \\) per unit of phase difference, the loop filter's transfer function is denoted by \\( F(s) \\), and any amplification within the forward loop is represented by \\( A \\). The VCO's gain is \\( K_{o} \\mathrm{rad} / \\mathrm{s} \\) per volt.\n\nWhen a steady input voltage is supplied to the VCO's control input, the VCO's output frequency remains constant. However, the phase comparator is sensitive to the phase difference between the VCO's output and the incoming signal's phase. The VCO's output phase is fundamentally the integral of the VCO's output frequency over time, as expressed by the equations (10.44) and (10.45).\n\nThe block diagram in Figure 10.15 illustrates a Phase-Locked Loop (PLL) system, which synchronizes the VCO's output phase with the incoming signal's phase. It comprises several main components and information flow:\n\n1. **Main Components:**\n   - **Phase Detector:** Compares the incoming signal's phase, \\( \\phi_i \\), with the VCO's output phase, \\( \\phi_{osc} \\), producing a phase error signal, \\( \\phi_\\epsilon \\).\n   - **Gain Block (\\( K_D \\) V/rad):** Amplifies the phase error signal by a factor \\( K_D \\).\n   - **Filter (\\( F(s) \\)):** Stabilizes the loop and shapes the dynamic response.\n   - **Amplifier (\\( A \\)):** Further amplifies the filtered signal to drive the VCO.\n   - **Voltage-Controlled Oscillator (VCO):** Generates a frequency \\( \\omega_{osc} \\) modulated by the input voltage \\( V_o \\).\n   - **Integrator (\\( 1/s \\)):** Represents the integration of the VCO's frequency to determine the phase \\( \\phi_{osc} \\).\n\n2. **Flow of Information or Control:**\n   - The phase error \\( \\phi_\\epsilon \\) is generated and processed through the gain block, filter, and amplifier to produce the control voltage \\( V_o \\).\n   - The VCO adjusts its frequency \\( \\omega_{osc} \\), which is integrated to update the phase \\( \\phi_{osc} \\).\n   - The updated phase is fed back to the phase detector, completing the control loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The phase detector's gain is labeled \\( K_D \\) V/rad.\n   - The VCO's gain is labeled \\( K_O \\) rad/s/V.\n   - The integrator is represented by \\( 1/s \\).\n   - The amplifier's output is denoted \\( V_o \\).\n\n4. **Overall System Function:**\n   - The PLL system locks the VCO's phase to the incoming signal's phase by continuously adjusting the VCO's frequency to minimize the phase error \\( \\phi_\\epsilon \\). The integration within the loop ensures the VCO's phase tracks the incoming signal's phase over time.\n\nThis inherent integration in the phase-locked loop is symbolized by the \\( 1 / s \\) block in Fig. 10.15. For practical reasons, the VCO is designed such that its frequency is non-zero when the input voltage \\( V_o \\) is zero, with the relationship between the VCO's output frequency \\( \\omega_{osc} \\) and \\( V_o \\) given by \\( \\omega_{osc} = \\omega_{o} + K_{O} V_{o} \\), where \\( \\omega_{o} \\) is the free-running frequency at \\( V_o = 0 \\).\n\nThe system in Fig. 10.15 represents a classical linear feedback control system, and its closed-loop transfer function is provided by equations (10.46) and (10.47). The analysis often focuses on the loop's response to frequency variations at the input, treating frequency as the input variable rather than phase.\n\nIn the case of a first-order loop without a loop filter (i.e., \\( F(s) = 1 \\)), the loop exhibits a first-order, low-pass transfer characteristic, as shown in equations (10.51) and (10.52). The loop bandwidth \\( K_{v} \\) is a critical parameter, representing the effective bandwidth for the modulating signal that the PLL demodulates.\n\nThe root locus and frequency response plots in Figure 10.16a and b illustrate the loop's behavior, while Figure 10.16b provides a time-domain response example.\n\nFor second-order loops, a common configuration uses a single-pole, low-pass filter as the loop filter \\( F(s) \\), as in equation (10.53). The root locus and closed-loop frequency response for this configuration are shown in Figure 10.17. The addition of a zero to the loop filter, as in Figure 10.18c and d, allows for independent setting of loop bandwidth and \\( K_{v} \\), improving stability and control.\n\nThe loop lock range \\( \\omega_{L} \\) and capture range are essential parameters defined by the phase comparator's operational range and the loop's ability to acquire and maintain lock, as depicted in Figure 10.19 and explained by equations (10.62) through (10.68)."
},
{
    "text": "When the loop is in a locked state, there is a direct proportionality between the phase detector's output voltage and the phase discrepancy between the voltage-controlled oscillator (VCO) and the incoming signal. This linear relationship allows the loop to be analyzed using standard linear feedback control theory. A block diagram depicting the system in this locked state can be found in Fig. 10.15. The phase comparator's gain is expressed as \\( K_{D} \\frac{\\text{V}}{\\text{rad}} \\) per radian of phase difference, the loop filter's transfer function is denoted by \\( F(s) \\), and any amplification in the forward path is represented by \\( A \\). The VCO's gain is given by \\( K_{o} \\frac{\\text{rad}}{\\text{s}} \\) per volt.\n\nWhen a steady input voltage is supplied to the VCO's control terminal, the VCO's output frequency remains constant. However, the phase comparator is highly responsive to the phase discrepancy between the VCO's output and the incoming signal. The phase of the VCO's output is actually the time integral of the VCO's output frequency, as indicated by the equations:\n\n$$\n\\omega_{\\mathrm{osc}}(t)=\\frac{d \\phi_{\\mathrm{osc}}(t)}{d t} \\tag{10.44}\n$$\n\nand\n\n$$\n\\phi_{\\mathrm{osc}}(t)=\\left.\\phi_{\\mathrm{osc}}\\right|_{t=0}+\\int_{0}^{t} \\omega_{\\mathrm{osc}}(t) d t \\tag{10.45}\n$$\n\nThe block diagram in Fig. 10.15 illustrates a Phase-Locked Loop (PLL) system, which is employed to synchronize the phase of the VCO's output with that of the incoming signal. The system's components and their interactions are as follows:\n\n1. **Main Components:**\n   - **Phase Detector:** This element compares the phases of the incoming signal, \\( \\phi_i \\), and the VCO's output, \\( \\phi_{osc} \\), generating a phase error signal, \\( \\phi_\\epsilon \\), that represents the phase difference.\n   - **Gain Block (\\( K_D \\) V/rad):** This block amplifies the phase error signal \\( \\phi_\\epsilon \\) by a factor of \\( K_D \\), converting it into a voltage.\n   - **Filter (\\( F(s) \\)):** The filter smooths the error signal, contributing to loop stability and defining the PLL's dynamic behavior.\n   - **Amplifier (\\( A \\)):** This block further amplifies the filtered signal to drive the VCO's control input.\n   - **Voltage-Controlled Oscillator (VCO):** The VCO generates an output frequency \\( \\omega_{osc} \\) that is modulated by the input voltage \\( V_o \\). The relationship is defined as \\( \\omega_{osc} = \\omega_0 + K_O V_o \\), where \\( \\omega_0 \\) is the VCO's free-running frequency and \\( K_O \\) is the VCO's gain.\n   - **Integrator (\\( \\frac{1}{s} \\)):** This block represents the integration of the VCO's output frequency to produce the phase \\( \\phi_{osc} \\).\n\n2. **Flow of Information or Control:**\n   - The incoming phase \\( \\phi_i \\) and the feedback phase \\( \\phi_{osc} \\) are compared in the phase detector, generating a phase error \\( \\phi_\\epsilon \\).\n   - The error signal \\( \\phi_\\epsilon \\) passes through the gain block \\( K_D \\), filter \\( F(s) \\), and amplifier \\( A \\) to produce the control voltage \\( V_o \\) for the VCO.\n   - The VCO adjusts its output frequency \\( \\omega_{osc} \\) based on \\( V_o \\), and this frequency is integrated to update the phase \\( \\phi_{osc} \\).\n   - The updated phase \\( \\phi_{osc} \\) is fed back to the phase detector, completing the control loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The phase comparator's gain is denoted as \\( K_D \\) V/rad.\n   - The VCO's gain is labeled as \\( K_O \\) rad/s/V.\n   - The integrator is represented by \\( \\frac{1}{s} \\).\n   - The amplifier's output is denoted as \\( V_o \\).\n\n4. **Overall System Function:**\n   - The primary function of the PLL system is to align the phase of the VCO's output with the phase of the incoming signal \\( \\phi_i \\). This is achieved through a feedback loop that continuously adjusts the VCO's frequency to minimize the phase error \\( \\phi_\\epsilon \\). The integration within the loop ensures that the VCO's phase tracks the incoming signal's phase over time, maintaining synchronization.\n\nThe block diagram in Fig. 10.15 also indicates that an integration process inherently occurs within the phase-locked loop, represented by the \\( \\frac{1}{s} \\) block.\n\nFor practical considerations, the VCO is designed such that when the control voltage \\( V_o \\) is zero, the VCO's frequency is not zero. The relationship between the VCO's output frequency \\( \\omega_{\\text{osc}} \\) and \\( V_o \\) is given by:\n\n$$\n\\omega_{\\mathrm{osc}}=\\omega_{o}+K_{O} V_{o}\n$$\n\nwhere \\( \\omega_{o} \\) is the free-running frequency when \\( V_o = 0 \\).\n\nThe system depicted in Fig. 10.15 is a classical linear feedback control system. The closed-loop transfer function is expressed as:\n\n$$\n\\frac{V_{o}}{\\phi_{i}} =\\frac{K_{D} F(s) A}{1+K_{D} F(s) A \\frac{K_{o}}{s}} \\tag{10.46}\n$$\n\nand\n\n$$\n\\frac{V_{o}}{\\phi_{i}} =\\frac{s K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.47}\n$$\n\nIn most cases, we are interested in the loop's response to frequency fluctuations at the input, treating the input variable as frequency rather than phase. Given that:\n\n$$\n\\omega_{i}=\\frac{d \\phi_{i}}{d t} \\tag{10.48}\n$$\n\nwe can express the input frequency in the s-domain as:\n\n$$\n\\omega_{i}(s)=s \\phi_{i}(s) \\tag{10.49}\n$$\n\nand the output-to-input frequency transfer function as:\n\n$$\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{s} \\frac{V_{o}}{\\phi_{i}}=\\frac{K_{D} F(s) A}{s+K_{D} K_{O} A F(s)} \\tag{10.50}\n$$\n\nWe first consider the scenario where the loop filter is entirely absent, resulting in a first-order loop with \\( F(s) = 1 \\). The transfer function for this simplified loop is:\n\n$$\n\\frac{V_{o}}{\\omega_{i}}=\\left(\\frac{K_{v}}{s+K_{v}}\\right)\\left(\\frac{1}{K_{O}}\\right) \\tag{10.51}\n$$\n\nwhere\n\n$$\nK_{v}=K_{O} K_{D} A \\tag{10.52}\n$$\n\nThus, the loop inherently exhibits a first-order, low-pass transfer characteristic. It is important to note that the input variable in this context is the frequency \\( \\omega_{i} \\) of the incoming signal. The response calculated above is the loop's response to frequency modulation on the incoming carrier signal.\n\nThe constant \\( K_{v} \\) is referred to as the loop bandwidth. If the loop is locked to a carrier signal that varies sinusoidally in frequency with a frequency \\( \\omega_{m} \\), a sinusoidal signal at the frequency \\( \\omega_{m} \\) will be observed at the loop's output. When \\( \\omega_{m} \\) exceeds \\( K_{v} \\), the magnitude of the sinusoid at the output diminishes. Therefore, the loop bandwidth \\( K_{v} \\) represents the effective bandwidth for the modulating signal that the PLL can demodulate. In terms of the loop parameters, \\( K_{v} \\) is the product of the phase detector gain, VCO gain, and any additional electrical gain within the loop. The root locus of this single-pole system as a function of the loop gain \\( K_{v} \\) is depicted in Fig. 10.16a, along with the frequency response and the time-domain response illustrating the loop output voltage's behavior to step changes in input frequency.\n\nThe PLL system's behavior in response to step changes in input frequency is shown in Fig. 10.16b. The parameters for this example are provided, and the output voltage \\( V_o \\) is calculated for constant input signal frequencies of 250 Hz and 1 kHz. Additionally, the output signal \\( V_o(t) \\) is determined for a frequency-modulated input signal.\n\nOperating the loop without a loop filter has practical drawbacks. Since the phase detector acts as a multiplier, it generates a sum frequency component at its output in addition to the difference frequency component. Without a loop filter, this component at twice the carrier frequency would be transmitted directly to the output. Furthermore, all out-of-band interfering signals present at the input would appear at the output, shifted in frequency. Hence, a loop filter is highly desirable in applications where interfering signals are present.\n\nThe most common configuration for integrated circuit PLLs is the second-order loop. In this setup, the loop filter \\( F(s) \\) is typically a single-pole, low-pass filter, usually implemented with a resistor and capacitor. The cutoff frequency of this filter is given by \\( \\omega_1 = \\frac{1}{RC} \\). The root locus and closed-loop response plots for this filter configuration are provided, indicating stability and frequency response characteristics.\n\nBy substituting the loop filter's transfer function into the overall transfer function, we obtain:\n\n$$\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{K_{O}}\\left(\\frac{1}{1+\\frac{s}{K_{v}}+\\frac{s^{2}}{\\omega_{1} K_{v}}}\\right) \\tag{10.54}\n$$\n\nThe root locus for this feedback system as \\( K_{v} \\) varies is shown in Fig. 10.17, along with the corresponding frequency response. The roots of the transfer function are:\n\n$$\ns=-\\frac{\\omega_{1}}{2}\\left(1 \\pm \\sqrt{1-\\frac{4 K_{v}}{\\omega_{1}}}\\right) \\tag{10.55}\n$$\n\nThe transfer function can also be expressed in terms of the natural frequency \\( \\omega_{n} \\) and damping ratio \\( \\zeta \\) as:\n\n$$\n\\frac{V_{o}}{\\omega_{i}}=\\frac{1}{K_{O}}\\left(\\frac{1}{\\frac{s^{2}}{\\omega_{n}^{2}}+\\frac{2 \\zeta}{\\omega_{n}} s+1}\\right) \\tag{10.56}\n$$\n\nwhere\n\n$$\n\\omega_{n} =\\sqrt{K_{v} \\omega_{1}}  \\tag{10.57}\n$$\n\nand\n\n$$\n\\zeta =\\frac{1}{2} \\sqrt{\\frac{\\omega_{1}}{K_{v}}} \\tag{10.58}\n$$\n\nThe basic factor that determines the loop bandwidth is \\( K_{v} \\), similar to the first-order case. The magnitude \\( \\omega_{1} \\) of the additional pole is then minimized to reduce peaking in the frequency response without compromising stability. This peaking is of concern because it distorts the demodulated FM output and causes the loop to oscillate or exhibit an undamped oscillatory response when disturbed by transients. A good compromise is to use a maximally flat low-pass pole configuration, placing the poles at \\( 45^{\\circ} \\) from the negative real axis. For this response, the damping ratio \\( \\zeta \\) should be equal to \\( \\frac{1}{\\sqrt{2}} \\). Thus:\n\n$$\n\\frac{1}{\\sqrt{2}}=\\frac{1}{2} \\sqrt{\\frac{\\omega_{1}}{K_{v}}} \\tag{10.59}\n$$\n\nand\n\n$$\n\\omega_{1}=2 K_{v} \\tag{10.60}\n$$\n\nThe \\( -3 \\text{dB} \\) frequency of the transfer function \\( \\left(\\frac{V_{o}}{\\omega_{i}}\\right)(j \\omega) \\) is then:\n\n$$\n\\omega_{-3 \\mathrm{~dB}}=\\omega_{n}=\\sqrt{K_{v} \\omega_{1}}=\\sqrt{2} K_{v} \\tag{10.61}\n$$\n\nA disadvantage of the second-order loop, as discussed, is that the \\( -3 \\text{dB} \\) bandwidth is primarily determined by the loop gain \\( K_{v} \\) (Equation 10.61). As we will show, the loop gain also sets the lock range, meaning that with the simple filter used here, these two parameters are inherently linked. In some phase-locked communications systems, a wide lock range is required to track large signal-frequency variations, yet a narrow loop bandwidth is needed to reject out-of-band signals. Using a very small \\( \\omega_{1} \\) would achieve this, but it would result in an underdamped loop response. By adding a zero to the loop filter, the loop filter pole can be made small while still maintaining good loop damping.\n\nThe effect of adding a zero to the loop response is best observed by examining the open-loop response of the circuit. Shown in Fig. 10.18a is the open-loop response of the circuit with no loop filter. Due to the integration inherent in the loop, the response exhibits a \\( -20 \\text{dB/dec} \\) slope across the entire frequency range and crosses unity gain at \\( K_{v} \\). In Fig. 10.18b, a loop filter with \\( \\omega_{1} \\) much smaller than \\( K_{v} \\) has been added, resulting in a phase shift close to \\( 180^{\\circ} \\) at the crossover frequency and a sharp peak in the closed-loop frequency response. By adding a zero in the loop filter at \\( \\omega_{2} \\), as shown in Fig. 10.18c, the loop phase margin can be significantly improved. Note that for this case, the loop bandwidth, which is equal to the crossover frequency, is much lower than \\( K_{v} \\). This ability to set the loop bandwidth and \\( K_{v} \\) independently is an advantage of this type of loop filter. An R-C circuit that provides the necessary pole and zero in the filter response is shown in Fig. 10.18d. The root locus for this loop filter and the resulting closed-loop response are also shown.\n\nThe loop lock range is the range of input frequencies around the center frequency where the loop maintains lock. It is typically limited by the phase comparator's finite phase comparison range. Once the phase difference between the input signal and the VCO output reaches a critical value, the phase comparator ceases to behave linearly. The transfer characteristic of a typical analog phase comparator is shown in Fig. 10.12. It is evident from this figure that to maintain lock, the phase difference between the VCO output and the incoming signal must be kept between zero and \\( \\pi \\). If the phase difference equals either zero or \\( \\pi \\), the magnitude of the dc voltage at the phase comparator's output is:\n\n$$\nV_{o(\\max )}= \\pm K_{D}\\left(\\frac{\\pi}{2}\\right) \\tag{10.62}\n$$\n\nThis dc voltage is amplified by the electrical gain \\( A \\), and the result is applied to the VCO input, causing a frequency shift away from the free-running center frequency of:\n\n$$\n\\Delta \\omega_{\\mathrm{osc}}=K_{D} A K_{O}\\left(\\frac{\\pi}{2}\\right)=\\left(\\frac{K_{v} \\pi}{2}\\right) \\tag{10.63}\n$$\n\nIf the input frequency is shifted away from the free-running frequency, more voltage will be required to shift the VCO frequency accordingly. However, the phase comparator cannot produce more dc output voltage to shift the VCO frequency further, causing the loop to lose lock. The lock range \\( \\omega_{L} \\) is then given by:\n\n$$\n\\omega_{L}=K_{v} \\frac{\\pi}{2} \\tag{10.64}\n$$\n\nThis is the frequency range on either side of the free-running frequency where the loop will track input frequency variations. It is a parameter that depends solely on the dc gain within the loop and is independent of the loop filter's properties. Other types of phase detectors can provide larger linear ranges of phase-comparator operation.\n\nThe capture range is the range of input frequencies for which an initially unlocked loop will lock onto an input signal when initially in an unlocked state, and it is always less than the lock range. When the input frequency is swept through a range around the center frequency, the output voltage as a function of input frequency displays a hysteresis effect, as shown in Fig. 10.19. As previously discussed, the capture range is difficult to predict analytically. As a rough estimate, the approximate capture range can be determined using the following procedure: Refer to Fig. 10.13 and assume that the loop is opened at the loop-amplifier output and that a signal with a frequency not equal to the free-running VCO frequency is applied at the input of the PLL. The sinusoidal difference frequency component that appears at the phase detector's output has the value:\n\n$$\nV_{p}(t)=\\frac{\\pi}{2} K_{D} \\cos \\left(\\omega_{i}-\\omega_{\\mathrm{osc}}\\right) t \\tag{10.65}\n$$\n\nwhere \\( \\omega_{i} \\) is the input signal frequency and \\( \\omega_{\\text{osc}} \\) is the VCO's free-running frequency. This component passes through the loop filter, and the output from the loop amplifier resulting from this component is:\n\n$$\nV_{o}(t)=\\frac{\\pi}{2} K_{D} A\\left|F\\left[j\\left(\\omega_{i}-\\omega_{\\mathrm{osc}}\\right)\\right]\\right| \\cos \\left[\\left(\\omega_{i}-\\omega_{\\mathrm{osc}}\\right) t+\\phi\\right] \\tag{10.66}\n$$\n\nwhere\n\n$$\n\\phi=\\angle"
},
{
    "text": "When the loop is in a locked state, there is a direct proportionality between the phase detector's output voltage and the phase discrepancy between the voltage-controlled oscillator (VCO) and the incoming signal. This linear relationship allows the analysis of the loop using standard linear feedback theory. A block diagram depicting the system in this locked state is presented in Fig. 10.15. The phase comparator's gain is quantified as \\( K_{D} \\mathrm{~V} / \\mathrm{rad} \\) per radian of phase difference, the loop filter's transfer function is denoted by \\( F(s) \\), and any amplification in the forward path is represented by \\( A \\). The VCO's gain is expressed as \\( K_{o} \\mathrm{rad} / \\mathrm{s} \\) per volt.\n\nA constant input voltage applied to the VCO's control terminal ensures a steady output frequency from the VCO. The phase comparator, however, is highly sensitive to the phase disparity between the VCO's output and the incoming signal's phase. The phase of the VCO's output is essentially the integral of its output frequency over time, which can be mathematically represented by the equations (10.44) and (10.45).\n\nThe block diagram in Fig. 10.15 illustrates a Phase-Locked Loop (PLL) system, which is designed to synchronize the VCO's output phase with that of an incoming signal. The system's key components include:\n\n1. **Phase Detector:** This component compares the incoming signal's phase, \\( \\phi_i \\), with the VCO's output phase, \\( \\phi_{osc} \\), generating a phase error signal, \\( \\phi_\\epsilon \\), which reflects the phase difference.\n2. **Gain Block (\\( K_D \\) V/rad):** This block scales the phase error signal \\( \\phi_\\epsilon \\) by a factor \\( K_D \\), converting it into a voltage.\n3. **Filter (\\( F(s) \\)):** The filter shapes the error signal to stabilize the loop and define the dynamic behavior of the PLL.\n4. **Amplifier (\\( A \\)):** This block amplifies the filtered signal to drive the VCO's input.\n5. **Voltage-Controlled Oscillator (VCO):** The VCO generates an output frequency \\( \\omega_{osc} \\) that is governed\nadjusted based on the input voltage \\( V_o \\), with the relationship defined as \\( \\omega_{osc} = \\omega_0 + K_O V_o \\), where \\( \\omega_0 \\) is the free-running frequency and \\( K_O \\) is the VCO gain.\n6. **Integrator (\\( 1/s \\)):** This block represents the integration of the VCO output frequency to produce the phase \\( \\phi_{osc} \\).\n\nThe flow of information and control within the system is as follows:\n\n- The input phase \\( \\phi_i \\) and the feedback phase \\( \\phi_{osc} \\) are compared in the phase detector, producing a phase error \\( \\phi_\\epsilon \\).\n- The error signal \\( \\phi_\\epsilon \\) is processed through the gain block \\( K_D \\), filter \\( F(s) \\), and amplifier \\( A \\) to generate the control voltage \\( V_o \\) for the VCO.\n- The VCO adjusts its output frequency \\( \\omega_{osc} \\) in response to \\( V_o \\), and this frequency is integrated to update the phase \\( \\phi_{osc} \\).\n- The updated phase \\( \\phi_{osc} \\) is fed back to the phase detector, completing the control loop.\n\nThe PLL system's primary function is to lock the VCO's output phase to the phase of the incoming signal \\( \\phi_i \\). This is achieved through a feedback loop that continuously adjusts the VCO frequency to minimize the phase error \\( \\phi_\\epsilon \\). The integration within the loop ensures that the VCO's phase tracks the incoming signal's phase over time, maintaining synchronization.\n\nFor practical reasons, the VCO is designed such that when the input voltage \\( V_o \\) is zero, the VCO frequency is not zero. The relationship between the VCO output frequency \\( \\omega_{\\text {osc }} \\) and \\( V_o \\) is given by:\n\n$$\n\\omega_{\\mathrm{osc}}=\\omega_{o}+K_{O} V_{o}\n$$\n\nwhere \\( \\omega_{o} \\) is the free-running frequency when \\( V_o = 0 \\).\n\nThe system can be seen from Fig. 10.15 as a classical linear feedback control system. The closed-loop transfer function is provided by equations (10.46) and (10.47). Typically, the interest lies in the loop's response to frequency variations at the input, treating the input variable as frequency rather than phase. The equations (10.48) to (10.52) describe this frequency response and define the loop bandwidth \\( K_{v} \\), which is the product of the phase detector gain, VCO gain, and any other electrical gain in the loop.\n\nFigures 10.16a and 10.16b illustrate the root locus and frequency response of a first-order PLL, as well as the time-domain response to step changes in input frequency. The loop bandwidth \\( K_{v} \\) is the effective bandwidth for the modulating signal being demodulated by the PLL.\n\nOperating the loop without a filter has practical drawbacks, such as the presence of sum frequency components and out-of-band interfering signals at the output. Therefore, a loop filter is essential, especially in applications with interfering signals.\n\nThe second-order loop, which is common in integrated circuit PLLs, uses a single-pole, low-pass filter \\( F(s) \\). The transfer function for this configuration is given by equation (10.53), and the closed-loop transfer function is provided by equations (10.54) to (10.58). The loop bandwidth is set by \\( K_{v} \\), and the additional pole's magnitude \\( \\omega_{1} \\) is minimized to avoid excessive peaking in the frequency response, which can cause instability.\n\nThe addition of a zero to the loop filter allows for independent setting of the loop bandwidth and \\( K_{v} \\), which is advantageous in certain applications. Figure 10.18 illustrates the open-loop response with and without a zero in the loop filter.\n\nThe loop lock range is the range of input frequencies around the center frequency where the loop maintains lock. It is limited by the phase comparator's phase comparison range and is given by equation (10.64). The capture range, which is always less than the lock range, is the range of input frequencies for which the initially unlocked loop will lock onto an input signal. Figure 10.19 shows the hysteresis effect in the output voltage as a function of input frequency, and equation (10.68) provides an estimation of the capture range."
},
{
    "text": "PLLs are extensively utilized in systems primarily because their components are well-suited for monolithic integration, allowing entire PLL systems to be fabricated on a single chip. We will now delve into the design specifics of each PLL component.\n\nThe Phase Detector for monolithic PLLs typically uses the Gilbert multiplier configuration, as depicted in Fig. 10.4. When two input signals, with amplitudes sufficient to induce limiting in the emitter-coupled pairs that comprise the circuit, are applied, the output will include a DC component expressed by\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nHere, $\\phi$ represents the phase difference between the input signals. A notable characteristic of this phase detector's performance is that if the amplitude of the signal applied at $V_{\\mathrm{in} 2}$ is significantly smaller than the thermal voltage $V_{T}$, the circuit functions as a balanced modulator. Consequently, the DC component of the output depends on the amplitude of the lower-level input. The resulting output waveform is a sinusoid multiplied by a synchronous square wave, as illustrated in Fig. 10.20. When the small input is much smaller than $V_{T}$, the DC component in the output, as per Fig. 10.20, becomes\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nIn PLL applications, the frequency response of the phase detector usually does not constrain the usable operating frequency range of the loop itself. At elevated operating frequencies, the parasitic capacitances of the devices lead to feedthrough of the carrier frequency, introducing an erroneous component in the output at the center frequency. However, this component is effectively removed by the loop filter and does not significantly impair loop performance. Typically, the VCO is the limiting factor in the operating frequency range.\n\nThe Voltage-Controlled Oscillator (VCO) dictates the operating frequency range, FM distortion, center-frequency drift, and center-frequency supply-voltage sensitivity. Integrated-circuit VCOs often take the form of R-C multivibrators, where the charging current in the capacitor is altered in response to the control input. Initially, we consider the emitter-coupled multivibrator, as shown in Fig. 10.21a, which is representative of those employed in this context. To calculate the period, we first assume that $Q_{1}$ is off and $Q_{2}$ is on, resulting in the circuit appearing as depicted in Fig. 10.21b. Assuming that current $I$ is substantial enough for the voltage drop $I R$ to activate diode $Q_{6}$, the base of $Q_{4}$ sits one diode drop below $V_{C C}$, the emitter is two diode drops below $V_{C C}$, and the base of $Q_{1}$ is two diode drops below $V_{C C}$. Neglecting the base current of $Q_{3}$, its base is at $V_{C C}$ and its emitter is one diode drop below $V_{C C}$. Hence, the emitter of $Q_{2}$ is two diode drops below $V_{C C}$. Since $Q_{1}$ is off, current $I_{1}$ charges the capacitor, causing the emitter of $Q_{1}$ to become more negative. $Q_{1}$ will turn on when the voltage at its emitter equals three diode drops below $V_{C C}$. The resulting collector current in $Q_{1}$ then activates $Q_{5}$. Consequently, the base of $Q_{3}$ shifts negatively by one diode drop, prompting the base of $Q_{2}$ to shift negatively as well. $Q_{2}$ will turn off, causing the base of $Q_{1}$ to shift positively by one diode drop because $Q_{6}$ also turns off. As a result, the emitter-base junction of $Q_{2}$ becomes reverse biased by one diode drop since the voltage on $C$ cannot change instantaneously. Current $I_{1}$ must now charge the capacitor voltage in the negative direction by an amount equal to two diode drops before the circuit will switch back again. Given the circuit's symmetry, the half period is determined by the time required to charge the capacitor and is expressed as\n\n$$\n\\begin{equation*}\n\\frac{T}{2}=\\frac{Q}{I_{1}} \\tag{10.72}\n\\end{equation*}\n$$\n\nwhere $Q=C \\Delta V=2 C V_{B E(\\text { on })}$ denotes the charge on the capacitor. Therefore, the frequency of the oscillator is given by\n\n$$\n\\begin{equation*}\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}} \\tag{10.73}\n\\end{equation*}\n$$\n\nThe various waveforms within the circuit are displayed in Fig. 10.21c. This emitter-coupled configuration is nonsaturating and consists solely of npn transistors. Moreover, the voltage swings within the circuit are minimal. Consequently, the circuit can operate at frequencies up to roughly 1 GHz for standard integrated-circuit transistors. Nevertheless, the usable frequency range is confined to a value lower than this due to the substantial center frequency drift with temperature fluctuations at the higher frequencies. This drift arises because the switching transients themselves constitute a large percentage of the period of the oscillation, and the duration of the switching transients depends on circuit parasitics, circuit resistances, transistor transconductance, and transistor input resistance, all of which are temperature dependent.\n\nAlthough the emitter-coupled configuration is capable of high operating speeds, it exhibits considerable sensitivity of the center frequency to temperature even at low frequencies, since the period is dependent on $V_{B E(\\text { on })}$. Using equation $(10.73)$, we can compute the temperature coefficient of the center frequency as\n\n$$\n\\begin{equation*}\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C} \\tag{10.74}\n\\end{equation*}\n$$\n\nThis temperature sensitivity of the center frequency can be offset by making current $I_{1}$ temperature dependent in such a way that its impact counteracts the effect of the variation of $V_{B E(\\text { on })}$."
},
{
    "text": "PLLs have gained extensive adoption as system components primarily because their elements are well-suited for monolithic construction, allowing entire PLL systems to be integrated onto a single chip. We shall now delve into the design of the individual components of a PLL.\n\nPhase Detector: For monolithic PLL applications, phase detectors typically employ the Gilbert multiplier configuration depicted in Fig. 10.4. As shown in Fig. 10.11, when two signals with sufficient amplitude to induce limiting in the emitter-coupled pairs that comprise the circuit are applied to the inputs, the output will include a DC component expressed by\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nwhere $\\phi$ denotes the phase difference between the input signals. A crucial aspect of this phase detector's performance is that if the amplitude of the signal applied at $V_{\\mathrm{in} 2}$ is much smaller than the thermal voltage $V_{T}$, the circuit functions as a balanced modulator, and the DC component of the output is influenced by the amplitude of the low-level input. Consequently, the output waveform resembles a sinusoid multiplied by a synchronous square wave, as depicted in Fig. 10.20. In the scenario where the small input is negligible compared to $V_{T}$, the DC component in the output, as per Fig. 10.20, becomes\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nwhere $R_{C}$ is the collector resistor in the Gilbert multiplier, and $g_{m}$ is the transconductance of the transistors. The phase detector output voltage is thus proportional to the amplitude $V_{i}$ of the incoming signal, and if the signal amplitude fluctuates, the loop gain of the phase-locked loop is affected. Hence, when signal amplitude varies, it is often necessary to precede the phase detector with an amplifier/limiter to circumvent this issue. In FM demodulators, for instance, any amplitude modulation present on the incoming frequency-modulated signal will be demodulated, leading to an erroneous output.\n\nIn PLL applications, the frequency response of the phase detector typically does not constrain the usable operating frequency range of the loop itself. At high operating frequencies, parasitic capacitances of the devices cause a feedthrough of the carrier frequency, introducing an erroneous component in the output at the center frequency. However, this component is filtered out by the loop filter and does not significantly impair loop performance. The VCO is usually the limiting factor in the operating frequency range.\n\nVoltage-Controlled Oscillator: The operating frequency range, FM distortion, center frequency drift, and center-frequency supply-voltage sensitivity are all dictated by the VCO's performance. Integrated-circuit VCOs are often R-C multivibrators in which the charging current in the capacitor is altered in response to the control input. We initially consider the emitter-coupled multivibrator as shown in Fig. 10.21a, which is representative of those used in this application. To calculate the period, we first assume that $Q_{1}$ is off and $Q_{2}$ is on. The circuit then appears as shown in Fig. 10.21b. We assume that current $I$ is substantial so that the voltage drop $I R$ is sufficient to activate diode $Q_{6}$. Consequently, the base of $Q_{4}$ is one diode drop below $V_{C C}$, the emitter is two diode drops below $V_{C C}$, and the base of $Q_{1}$ is two diode drops below $V_{C C}$. If we can disregard the base current of $Q_{3}$, its base is at $V_{C C}$ and its emitter is one diode drop below $V_{C C}$. Since $Q_{1}$ is off, current $I_{1}$ charges the capacitor, causing the emitter of $Q_{1}$ to become more negative. $Q_{1}$ will turn on when the voltage at its emitter equals three diode drops below $V_{C C}$. The resulting collector current in $Q_{1}$ activates $Q_{5}$. Consequently, the base of $Q_{3}$ shifts in the negative direction by one diode drop, causing the base of $Q_{2}$ to move in the negative direction by one diode drop. $Q_{2}$ will turn off, causing the base of $Q_{1}$ to shift positive by one diode drop because $Q_{6}$ also turns off. As a result, the emitter-base junction of $Q_{2}$ is reverse biased by one diode drop because the voltage on $C$ cannot change instantaneously. Current $I_{1}$ must now charge the capacitor voltage in the negative direction by an amount equal to two diode drops before the circuit will switch back again. Since the circuit is symmetrical, the half period is determined by the time required to charge the capacitor and is given by\n\n$$\n\\begin{equation*}\n\\frac{T}{2}=\\frac{Q}{I_{1}} \\tag{10.72}\n\\end{equation*}\n$$\n\nwhere $Q=C \\Delta V=2 C V_{B E(\\text { on })}$ is the charge on the capacitor. The frequency of the oscillator is thus\n\n$$\n\\begin{equation*}\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}} \\tag{10.73}\n\\end{equation*}\n$$\n\nThe various waveforms within the circuit are shown in Fig. 10.21c. This emitter-coupled configuration is nonsaturating and comprises only npn transistors. Moreover, the voltage swings within the circuit are limited. Consequently, the circuit is capable of operating up to approximately 1 GHz for typical integrated-circuit transistors. However, the usable frequency range is limited to a value lower than this because the center frequency drift with temperature variations becomes significant at higher frequencies. This drift occurs because the switching transients themselves become a large percentage of the period of the oscillation, and the duration of the switching transients depends on circuit parasitics, circuit resistances, transistor transconductance, and transistor input resistance, which are all temperature sensitive.\n\nAlthough the emitter-coupled configuration is capable of high operating speed, it exhibits considerable sensitivity of center frequency to temperature even at low frequencies, since the period is dependent on $V_{B E(\\text { on })}$. Utilizing $(10.73)$ we can calculate the temperature coefficient of the center frequency as\n\n$$\n\\begin{equation*}\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C} \\tag{10.74}\n\\end{equation*}\n$$\n\nThis temperature sensitivity of center frequency can be compensated by making current $I_{1}$ temperature sensitive in such a way that its effect is equal and opposite to the effect of the variation of $V_{B E(\\text { on })}$."
},
{
    "text": "The primary factor contributing to the extensive adoption of phase-locked loops (PLLs) as integral system components lies in their components being highly suitable for monolithic assembly, allowing for the creation of full PLL systems on a single integrated circuit. We will delve into the design of each individual PLL component now.\n\nPhase Detector: For monolithic PLLs, phase detectors commonly employ the Gilbert multiplier configuration, as depicted in Figure 10.4. As shown in Figure 10.11, when two signals of sufficient amplitude are applied to the circuit's emitter-coupled pairs, the output will include a direct current (dc) component, calculated as follows:\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nwhere $\\phi$ denotes the phase difference between the input signals. A critical performance characteristic of this phase detector is that, if the input signal amplitude at $V_{\\mathrm{in} 2}$ is significantly less than the thermal voltage $V_{T}$, the circuit behaves akin to a balanced modulator, with the dc component of the output being dependent on the low-level input amplitude. The resulting output waveform is a sine wave multiplied by a synchronized square wave, as depicted in Figure 10.20. In the limiting scenario where the small input is much less than $V_{T}$, the dc component in the output becomes, as seen in Figure 10.20,\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nimage_name:Figure 10.20\ndescription:**Graph Type and Function:** This graph is a time-domain representation of a sinusoidal waveform.\\n\\n**Axes and Units:** The horizontal axis is marked as \\( \\omega t \\), symbolizing the product of angular frequency and time, typically without units. The vertical axis is designated as \\( V_{\\text{in2}} \\), indicating the input voltage measured in volts.\\n\\n**Overall Behavior and Trends:** The graph illustrates a sinusoidal waveform with smooth, periodic fluctuations. It initiates from zero, peaks positively, dips to zero again, hits a negative peak, and returns to zero, completing one full cycle. The waveform is symmetrically balanced about the horizontal axis, suggesting equal positive and negative amplitudes.\\n\\n**Key Features and Technical Details:** The sinusoidal function is represented by \\( V_i \\sin \\omega t \\), with \\( V_i \\) signifying the sine wave's amplitude. The waveform demonstrates periodic behavior, marked by consistent intervals between peaks and zero crossings. The waveform's maximum and minimum points, or peaks, correspond to the amplitude \\( V_i \\), representing the highest positive and lowest negative voltages. Zero crossings occur at consistent intervals, indicating points where the waveform's polarity changes.\\n\\n**Annotations and Specific Data Points:** The graph is annotated with the sinusoidal function's mathematical form, \\( V_i \\sin \\omega t \\), along the curve. No numerical values are given for amplitude or frequency, but the general shape of the sinusoid is clearly displayed.\n\nimage_name:Figure 10.20 Sinusoid multiplied by a synchronous square wave\ndescription:Figure 10.20 displays two waveforms plotted over time (\\( \\omega t \\)). The upper waveform is a synchronous square wave, labeled \\( V_{in1} \\), and the lower waveform is a sinusoidal wave, labeled \\( V_o \\). Both waveforms are plotted along the same time axis, \\( \\omega t \\).\n\n1. **Type of Graph and Function:**\n- The graph represents a time-domain waveform that shows the interaction between a sinusoidal and a synchronous square wave.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time, identified as \\( \\omega t \\), where \\( \\omega \\) denotes the angular frequency, and is typically dimensionless.\n- The vertical axis for the upper waveform is marked as \\( V_{in1} \\), while for the lower waveform, it is labeled \\( V_o \\). No units are specified, indicating a general depiction of voltage.\n\n3. **Overall Behavior and Trends:**\n- The upper waveform is a square wave that alternates between high and low states at a constant period.\n- The lower waveform is a sinusoidal wave that exhibits regular oscillations with a consistent amplitude and period. The sinusoidal wave \\( V_o \\) appears to be modulated by the square wave \\( V_{in1} \\), as indicated by the phase shift \\( \\phi \\).\n\n4. **Key Features and Technical Details:**\n- The square wave \\( V_{in1} \\) has a duty cycle that appears to be 50%, with equal duration in high and low states.\n- The sinusoidal wave \\( V_o \\) maintains its sinusoidal shape but is affected by the phase \\( \\phi \\), which is indicated on the graph.\n- Zero crossings of the sinusoidal wave occur at regular intervals, indicating consistent periodicity.\n\n5. **Annotations and Specific Data Points:**\n- The phase shift \\( \\phi \\) is annotated on both waveforms, indicating the timing difference between the square wave's transition and the sinusoidal wave's zero crossing.\n- No specific numerical values for amplitude, frequency, or phase shift are provided, but the general behavior and interaction of the waveforms are clearly depicted.\n\nFigure 10.20 Sinusoid multiplied by a synchronous square wave.\nwhere $R_{C}$ is the collector resistor in the Gilbert multiplier and $g_{m}$ is the transconductance of the transistors. The output voltage of the phase detector is directly proportional to the amplitude $V_{i}$ of the incoming signal, and variations in the signal amplitude lead to a change in the phase-locked loop's loop gain. Consequently, it is often necessary to incorporate an amplifier/limiter before the phase detector when the signal amplitude fluctuates to prevent this issue. For example, in FM demodulators, any amplitude modulation present on the incoming frequency-modulated signal will be demodulated, leading to an erroneous output.\n\nIn PLL implementations, the frequency response of the phase detector is typically not the constraint limiting the operational frequency range of the loop itself. At high operational frequencies, the parasitic capacitances of the devices cause the carrier frequency to pass through, resulting in an erroneous component in the output at the center frequency. This component is removed by the loop filter and does not significantly impact loop performance. The voltage-controlled oscillator (VCO) usually serves as the limiting factor in the operational frequency range.\n\nVoltage-Controlled Oscillator: The performance of the VCO determines the operating frequency range, frequency modulation distortion, center frequency drift, and center frequency's sensitivity to supply voltage. Integrated-circuit VCOs are often simple R-C oscillators, where the charging current in the capacitor varies in response to the control input. We first examine the emitter-coupled multivibrator, as shown in Figure 10.21a, which is representative of those used in this application. We calculate the period by initially assuming that $Q_{1}$ is turned off and $Q_{2}$ is turned on. The circuit then appears as depicted in Figure 10.21b. We assume that current $I$ is substantial enough so that the voltage drop $I R$ is large enough to turn on diode $Q_{6}$. Thus the base of $Q_{4}$ is one diode drop below $V_{C C}$, the emitter is two diode drops below $V_{C C}$, and the base of $Q_{1}$ is two diode drops below $V_{C C}$. If we can ignore the base current of $Q_{3}$, its base is at $V_{C C}$ and its emitter is one diode drop below $V_{C C}$. \n\nimage_name:(a)\ndescription:This circuit is a voltage-controlled, emitter-coupled multivibrator designed for use in VCO applications. It comprises several NPN transistors, resistors, capacitors, and current sources.\n\nFigure 10.21 (a) Voltage-controlled, emitter-coupled multivibrator.\nimage_name:The circuit is a voltage-controlled, emitter-coupled multivibrator used in VCO applications. It consists of multiple NPN transistors, resistors, capacitors, and current sources. The circuit operates by alternately activating and deactivating transistors Q1 and Q2, generating a square wave output at Vout. Diodes Q5 and Q6 assist in maintaining the voltage levels necessary for switching the transistors. The capacitors and resistors dictate the timing characteristics of the multivibrator.\n\nFigure 10.21 (b) Equivalent circuit during one half-cycle.\nemitter is one diode drop below $V_{C C}$. Thus the emitter of $Q_{2}$ is two diode drops below $V_{C C}$. Since $Q_{1}$ is off, the current $I_{1}$ is charging the capacitor so that the emitter of $Q_{1}$ is becoming more negative. $Q_{1}$ will turn on when the voltage at its emitter becomes equal to three diode drops below $V_{C C}$. Transistor $Q_{1}$ will then turn on, and the resulting collector current in $Q_{1}$ turns on $Q_{5}$. As a result, the base of $Q_{3}$ moves in the negative direction by one diode drop, causing the base of $Q_{2}$ to move in the negative direction by one diode drop. $Q_{2}$ will turn off, causing the base of $Q_{1}$ to move positive by one diode drop because $Q_{6}$ also turns off. As a result, the emitter-base junction of $Q_{2}$ is reverse biased by one diode drop because the voltage on $C$ cannot change instantaneously. Current $I_{1}$ must now charge the capacitor voltage in the negative direction by an amount equal to two diode drops before the circuit will switch back again. Since the circuit is symmetrical, the half period is given by the time required to charge the capacitor and is\n\n$$\n\\begin{equation*}\n\\frac{T}{2}=\\frac{Q}{I_{1}} \\tag{10.72}\n\\end{equation*}\n$$\n\nwhere $Q=C \\Delta V=2 C V_{B E(\\text { on })}$ is the charge on the capacitor. The frequency of the oscillator is thus\n\n$$\n\\begin{equation*}\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}} \\tag{10.73}\n\\end{equation*}\n$$\n\nThe various waveforms within the circuit are depicted in Figure 10.21c. This emitter-coupled configuration is nonsaturating and contains only npn transistors. Additionally, the voltage swings within the circuit are small. Consequently, the circuit is capable of operating up to approximately 1 GHz for typical integrated-circuit transistors. However, the usable frequency range is limited to a value lower than this because the center frequency drift with temperature variations becomes significant at higher frequencies. This drift is due to the switching transients comprising a large percentage of the oscillation period, and the duration of the switching transients depends on circuit parasitics, resistances, transistor transconductance, and transistor input resistance, all of which are sensitive to temperature. \n\nAlthough the emitter-coupled configuration is capable of high operating speeds, it exhibits considerable sensitivity to center frequency changes with temperature, even at low frequencies, since the period depends on $V_{B E(\\text { on })}$. Using equation (10.73), we can calculate the temperature coefficient of the center frequency as\n\n$$\n\\begin{equation*}\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C} \\tag{10.74}\n\\end{equation*}\n$$\n\nThis temperature sensitivity of the center frequency can be offset by adjusting the current $I_{1}$ to be sensitive to temperature in such a way that its effect counteracts the variation of $V_{B E(\\text { on })}$."
},
{
    "text": "PLLs have become integral components in systems primarily due to their suitability for monolithic integration, allowing the entire PLL system to be fabricated on a single chip. We will now delve into the design of the individual components that make up a PLL.\n\n**Phase Detector:** For monolithic PLL applications, phase detectors are typically based on the Gilbert multiplier configuration, as depicted in Fig. 10.4. As shown in Fig. 10.11, when two signals with sufficient amplitude to induce limiting in the emitter-coupled pairs that form the circuit are applied to the inputs, the output will contain a DC component given by:\n\n$$\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n$$\n\nwhere $\\phi$ represents the phase difference between the input signals. A key aspect of this phase detector's performance is that if the amplitude of the applied signal at $V_{\\mathrm{in} 2}$ is small relative to the thermal voltage $V_{T}$, the circuit acts as a balanced modulator, and the DC component of the output depends on the amplitude of the low-level input. The output waveform then becomes a sinusoid multiplied by a synchronous square wave, as shown in Fig. 10.20. In the limiting case where the small input is much smaller than $V_{T}$, the DC component in the output, referring to Fig. 10.20, becomes:\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\n**Figure 10.20:** The graph is a time-domain waveform depicting a sinusoidal function. The horizontal axis is labeled as \\( \\omega t \\), representing the angular frequency multiplied by time, which is typically dimensionless. The vertical axis is labeled as \\( V_{\\text{in2}} \\), representing the input voltage in volts. The graph shows a sinusoidal waveform, characterized by a smooth, periodic oscillation. This sinusoid starts from zero, rises to a positive peak, descends back through zero to a negative peak, and returns to zero, completing one full cycle. The waveform is symmetrical about the horizontal axis, indicating equal positive and negative amplitudes.\n\n**Figure 10.20 Sinusoid multiplied by a synchronous square wave:** The graph in Figure 10.20 depicts two waveforms plotted against time (\\( \\omega t \\)). The top waveform is a synchronous square wave, labeled \\( V_{in1} \\), and the bottom waveform is a sinusoidal wave, labeled \\( V_o \\). Both waveforms share the same time axis, \\( \\omega t \\).\n\nIn PLL applications, the frequency response of the phase detector is usually not the limiting factor in the usable operating frequency range of the loop itself. At high operating frequencies, the parasitic capacitances of the devices result in a feedthrough of the carrier frequency, giving an erroneous component in the output at the center frequency. This component is removed by the loop filter, however, and does not greatly affect loop performance. The VCO is usually the limiting factor in the operating frequency range.\n\n**Voltage-Controlled Oscillator:** The operating frequency range, FM distortion, centerfrequency drift, and center-frequency supply-voltage sensitivity are all determined by the performance of the VCO. Integrated-circuit VCOs often are simply R-C multivibrators in which the charging current in the capacitor is varied in response to the control input. We first consider the emitter-coupled multivibrator as shown in Fig. 10.21a, which is typical of those used in this application. We calculate the period by first assuming that $Q_{1}$ is turned off and $Q_{2}$ is turned on. The circuit then appears as shown in Fig. 10.21b. We assume that current $I$ is large so that the voltage drop $I R$ is large enough to turn on diode $Q_{6}$. Thus the base of $Q_{4}$ is one diode drop below $V_{C C}$, the emitter is two diode drops below $V_{C C}$, and the base of $Q_{1}$ is two diode drops below $V_{C C}$. If we can neglect the base current of $Q_{3}$, its base is at $V_{C C}$ and its"
},
{
    "text": "PLLs have become a standard choice for system components primarily because their constituent parts are well-suited for monolithic construction, allowing entire PLL systems to be fabricated on a single chip. We will now delve into the design specifics of each PLL component.\n\nPhase Detector: Monolithic PLL applications typically employ a phase detector of the Gilbert multiplier configuration, as depicted in Fig. 10.4. As shown in Fig. 10.11, when two signals of sufficient amplitude are applied to the inputs to induce limiting in the emitter-coupled pairs that constitute the circuit, the output will feature a DC component determined by:\n\n$$\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n$$\n\nHere, $\\phi$ represents the phase difference between the input signals. A critical performance aspect of this phase detector is that when the amplitude of the signal at $V_{\\mathrm{in} 2}$ is relatively small compared to the thermal voltage $V_{T}$, the circuit functions as a balanced modulator, and the DC component of the output is influenced by the amplitude of the lower-level input. Consequently, the output waveform resembles a sinusoid multiplied by a synchronous square wave, as illustrated in Fig. 10.20. When the small input is significantly smaller than $V_{T}$, the DC component of the output, as depicted in Fig. 10.20, becomes:\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nFigure 10.20 Sinusoid multiplied by a synchronous square wave.\nHere, $R_{C}$ denotes the collector resistor in the Gilbert multiplier, and $g_{m}$ represents the transconductance of the transistors. The phase detector output voltage is thus proportional to the amplitude $V_{i}$ of the incoming signal, and fluctuations in signal amplitude lead to changes in the loop gain of the phase-locked loop. Consequently, to circumvent this issue, it is often necessary to precede the phase detector with an amplifier/limiter, particularly in FM demodulators, where amplitude modulation on the incoming frequency-modulated signal can lead to erroneous output.\n\nIn PLL applications, the frequency response of the phase detector is usually not the limiting factor in the usable operating frequency range of the loop itself. At high operating frequencies, the parasitic capacitances of the devices can result in feedthrough of the carrier frequency, introducing an erroneous component in the output at the center frequency. However, this component is effectively removed by the loop filter and does not significantly impair loop performance. The VCO is typically the limiting factor in the operating frequency range.\n\nVoltage-Controlled Oscillator: The operating frequency range, FM distortion, centerfrequency drift, and center-frequency supply-voltage sensitivity are all dictated by the VCO's performance. Integrated-circuit VCOs often take the form of R-C multivibrators, where the charging current in the capacitor is modulated in response to the control input. We initially consider the emitter-coupled multivibrator, as shown in Fig. 10.21a, which is representative of those used in this context. To calculate the period, we first assume that $Q_{1}$ is off and $Q_{2}$ is on, resulting in the circuit configuration depicted in Fig. 10.21b. Assuming current $I$ is sufficiently high to induce a voltage drop $I R$ that activates diode $Q_{6}$, the base of $Q_{4}$ will be one diode drop below $V_{C C}$, with the emitter two diode drops below $V_{C C}$ and the base of $Q_{1}$ also two diode drops below $V_{C C}$. Neglecting the base current of $Q_{3}$, its base will be at $V_{C C}$, and its"
},
{
    "text": "PLLs are commonly used as system components due to their suitability for monolithic construction, allowing complete PLL systems to be fabricated on a single chip. Now, let's discuss the design of individual PLL components.\n\nPhase Detector: Phase detectors for monolithic PLL applications are typically of the Gilbert multiplier configuration. If two signals large enough in amplitude to cause limiting in the emitter-coupled pairs are applied to the inputs, the output will contain a DC component given by:\n\n$$\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right)\n$$\n\nwhere $\\phi$ is the phase difference between the input signals. An important aspect of the performance of this phase detector is that if the amplitude of the applied signal at $V_{\\mathrm{in} 2}$ is small compared to the thermal voltage $V_{T}$, the circuit behaves as a balanced modulator, and the DC component of the output depends on the amplitude of the low-level input. The output waveform is then a sinusoid multiplied by a synchronous square wave. In the limiting case when the small input is small compared to $V_{T}$, the DC component in the output becomes:\n\n$$\nV_{\\text {average }} =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]\n$$\n\n$$\nV_{\\text {average }} =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi}\n$$\n\nThe phase detector output voltage becomes proportional to the amplitude $V_{i}$ of the incoming signal, and if the signal amplitude varies, then the loop gain of the phase-locked loop changes. Thus, when the signal amplitude varies, it is often necessary to precede the phase detector with an amplifier/limiter to avoid this problem. In FM demodulators, for example, any amplitude modulation appearing on the incoming frequency-modulated signal will be demodulated, producing an erroneous output.\n\nIn PLL applications, the frequency response of the phase detector is usually not the limiting factor in the usable operating frequency range of the loop itself. At high operating frequencies, the parasitic capacitances of the devices result in a feedthrough of the carrier frequency, giving an erroneous component in the output at the center frequency. This component is removed by the loop filter, however, and does not greatly affect loop performance. The VCO is usually the limiting factor in the operating frequency range.\n\nVoltage-Controlled Oscillator: The operating frequency range, FM distortion, center frequency drift, and center-frequency supply-voltage sensitivity are all determined by the performance of the VCO. Integrated-circuit VCOs often are simply R-C multivibrators in which the charging current in the capacitor is varied in response to the control input. We first consider the emitter-coupled multivibrator as shown in Fig. 10.21a, which is typical of those used in this application. We calculate the period by first assuming that $Q_{1}$ is turned off and $Q_{2}$ is turned on. The circuit then appears as shown in Fig. 10.21b. We assume that current $I$ is large so that the voltage drop $I R$ is large enough to turn on diode $Q_{6}$. Thus the base of $Q_{4}$ is one diode drop below $V_{C C}$, the emitter is two diode drops below $V_{C C}$, and the base of $Q_{1}$ is two diode drops below $V_{C C}$. If we can neglect the base current of $Q_{3}$, its base is at $V_{C C}$ and its emitter is one diode drop below $V_{C C}$. Thus the emitter of $Q_{2}$ is two diode drops below $V_{C C}$. Since $Q_{1}$ is off, the current $I_{1}$ is charging the capacitor so that the emitter of $Q_{1}$ is becoming more negative. $Q_{1}$ will turn on when the voltage at its emitter becomes equal to three diode drops below $V_{C C}$. Transistor $Q_{1}$ will then turn on, and the resulting collector current in $Q_{1}$ turns on $Q_{5}$. As a result, the base of $Q_{3}$ moves in the negative direction by one diode drop, causing the base of $Q_{2}$ to move in the negative direction by one diode drop. $Q_{2}$ will turn off, causing the base of $Q_{1}$ to move positive by one diode drop because $Q_{6}$ also turns off. As a result, the emitter-base junction of $Q_{2}$ is reverse biased by one diode drop because the voltage on $C$ cannot change instantaneously. Current $I_{1}$ must now charge the capacitor voltage in the negative direction by an amount equal to two diode drops before the circuit will switch back again. Since the circuit is symmetrical, the half period is given by the time required to charge the capacitor and is:\n\n$$\n\\frac{T}{2}=\\frac{Q}{I_{1}}\n$$\n\nwhere $Q=C \\Delta V=2 C V_{B E(\\text { on })}$ is the charge on the capacitor. The frequency of the oscillator is thus:\n\n$$\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}}\n$$\n\nThe various waveforms in the circuit are shown in Fig. 10.21c. This emitter-coupled configuration is nonsaturating and contains only npn transistors. Furthermore, the voltage swings within the circuit are small. As a result, the circuit is capable of operating up to approximately 1 GHz for typical integrated-circuit transistors. However, the usable frequency range is limited to a value lower than this because the center frequency drift with temperature variations becomes large at the higher frequencies. This drift occurs because the switching transients themselves become a large percentage of the period of the oscillation, and the duration of the switching transients depends on circuit parasitics, circuit resistances, transistor transconductance, and transistor input resistance, which are all temperature sensitive.\n\nAlthough the emitter-coupled configuration is capable of high operating speed, it displays considerable sensitivity of center frequency to temperature even at low frequencies, since the period is dependent on $V_{B E(\\text { on })}$. Utilizing $(10.73)$ we can calculate the temperature coefficient of the center frequency as:\n\n$$\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C}\n$$\n\nThis temperature sensitivity of center frequency can be compensated by causing current $I_{1}$ to be temperature sensitive in such a way that its effect is equal and opposite to the effect of the variation of $V_{B E(\\text { on })}$."
},
{
    "text": "PLLs have become integral components in systems primarily because their constituent parts are ideally suited for monolithic integration, allowing entire PLL systems to be fabricated on a single chip. We will now delve into the design specifics of the individual components that make up a PLL.\n\n**Phase Detector**: Monolithic PLLs typically utilize a Gilbert multiplier configuration for the phase detector, as depicted in Fig. 10.4. When two signals with sufficient amplitude to induce limiting in the emitter-coupled pairs that form the circuit are applied to the inputs, the output will include a DC component as expressed by:\n\n$$\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right)\n$$\n\nHere, $\\phi$ represents the phase difference between the input signals. A notable feature of this phase detector is that if the amplitude of the signal at $V_{\\mathrm{in} 2}$ is much smaller than the thermal voltage $V_{T}$, the circuit acts as a balanced modulator, and the DC component of the output depends on the amplitude of the weaker input. Consequently, the output waveform resembles a sinusoid modulated by a synchronous square wave, as illustrated in Fig. 10.20. When the weaker input is significantly smaller than $V_{T}$, the DC component in the output, as per Fig. 10.20, becomes:\n\n$$\nV_{\\text {average }} =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]\n$$\n\n$$\nV_{\\text {average }} =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi}\n$$\n\n**Image Descriptions**:\n\n*Figure 10.20*: This figure portrays a sinusoidal function in the time domain. The horizontal axis, labeled as $\\omega t$, denotes the angular frequency multiplied by time, typically a dimensionless quantity. The vertical axis, labeled as $V_{\\text{in2}}$, indicates the input voltage in volts. The graph illustrates a sinusoidal waveform characterized by smooth, periodic oscillations. Starting starts from zero, rises to a positive peak, falls through zero to a negative peak, and returns to zero, completing one cycle. The waveform is symmetrical around the horizontal axis, indicating equal positive and negative amplitudes.\n\n*Figure 10.20 Sinusoid multiplied by a synchronous square wave*: This graph displays two waveforms plotted against time ($\\omega t$). The top waveform is a synchronous square wave, labeled $V_{in1}$, and the bottom waveform is a sinusoidal wave, labeled $V_o$. Both share the same time axis, $\\omega t$.\n\nThe phase detector output voltage is proportional to the amplitude $V_{i}$ of the incoming signal. If the signal amplitude fluctuates, the loop gain of the phase-locked loop is affected. Therefore, when signal amplitude variations are expected, it's often necessary to precede the phase detector with an amplifier/limiter to mitigate this issue. For instance, in FM demodulators, any amplitude modulation on the incoming frequency-modulated signal will be demodulated, leading to erroneous output.\n\nIn PLL applications, the phase detector's frequency response is usually not the bottleneck in the loop's operating frequency range. At high frequencies, parasitic capacitances can cause feedthrough of the carrier frequency, introducing an erroneous component in the output at the center frequency. However, this component is typically filtered out by the loop filter and does not significantly impact loop performance. The VCO is usually the primary limiting factor in the operating frequency range.\n\n**Voltage-Controlled Oscillator (VCO)**: The VCO's operating frequency range, FM distortion, center frequency drift, and sensitivity to supply voltage changes are all determined by its performance. Integrated-circuit VCOs are often R-C multivibrators where the charging current in the capacitor is varied in response to the control input. We initially consider the emitter-coupled multivibrator as shown in Fig. 10.21a, a typical example used in this context. To calculate the period, we first assume that $Q_{1}$ is off and $Q_{2}$ is on, resulting in the circuit appearing as shown in Fig. 10.21b. Assuming current $I$ is large enough so that the voltage drop $I R$ is sufficient to turn on diode $Q_{6}$, the base of $Q_{4}$ is one diode drop below $V_{C C}$, the emitter is two diode drops below $V_{C C}$, and the base of $Q_{1}$ is two diode drops below $V_{C C}$. If we can neglect the base current of $Q_{3}$, its base is at $V_{C C}$ and its emitter is one diode drop below $V_{C C}$. Since $Q_{1}$ is off, current $I_{1}$ charges the capacitor, causing the emitter of $Q_{1}$ to become more negative. $Q_{1}$ will turn on when the voltage at its emitter equals three diode drops below $V_{C C}$. The resulting collector current in $Q_{1}$ turns on $Q_{5}$. As a result, the base of $Q_{3}$ moves in the negative direction by one diode drop, causing the base of $Q_{2}$ to move in the negative direction by one diode drop. $Q_{2}$ will turn off, causing the base of $Q_{1}$ to move positive by one diode drop because $Q_{6}$ also turns off. As a result, the emitter-base junction of $Q_{2}$ is reverse biased by one diode drop because the voltage on $C$ cannot change instantaneously. Current $I_{1}$ must now charge the capacitor voltage in the negative direction by an amount equal to two diode drops before the circuit will switch back again. Since the circuit is symmetrical, the half period is given by the time required to charge the capacitor and is:\n\n$$\n\\frac{T}{2}=\\frac{Q}{I_{1}}\n$$\n\nwhere $Q=C \\Delta V=2 C V_{B E(\\text { on })}$ is the charge on the capacitor. The frequency of the oscillator is thus:\n\n$$\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}}\n$$\n\nThe various waveforms in the circuit are shown in Fig. 10.21c. This emitter-coupled configuration is nonsaturating and contains only npn transistors. Furthermore, the voltage swings within the circuit are small. As a result, the circuit is capable of operating up to approximately 1 GHz for typical integrated-circuit transistors. However, the usable frequency range is limited to a value lower than this because the center frequency drift with temperature variations becomes significant at the higher frequencies. This drift occurs because the switching transients themselves become a large percentage of the period of the oscillation, and the duration of the switching transients depends on circuit parasitics, circuit resistances, transistor transconductance, and transistor input resistance, which are all temperature sensitive.\n\nAlthough the emitter-coupled configuration is capable of high operating speed, it exhibits considerable sensitivity of center frequency to temperature even at low frequencies, since the period is dependent on $V_{B E(\\text { on })}$. Utilizing $(10.73)$ we can calculate the temperature coefficient of the center frequency as:\n\n$$\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C}\n$$\n\nThis temperature sensitivity of center frequency can be compensated by causing current $I_{1}$ to be temperature sensitive in such a way that its effect is equal and opposite to the effect of the variation of $V_{B E(\\text { on })}$."
},
{
    "text": "PLLs have become a common choice for system components due to their compatibility with monolithic construction, allowing for the fabrication of complete PLL systems on a single chip. The design of each component within a PLL is discussed below.\n\nPhase Detector: For monolithic PLL applications, phase detectors typically utilize the Gilbert multiplier configuration, as depicted in Fig. 10.4. As shown in Fig. 10.11, when two signals with sufficient amplitude to induce limiting in the emitter-coupled pairs that comprise the circuit are applied to the inputs, the output will feature a dc component expressed by\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nwhere $\\phi$ represents the phase difference between the input signals. A crucial aspect of the phase detector's performance is that when the amplitude of the signal applied at $V_{\\mathrm{in} 2}$ is small relative to the thermal voltage $V_{T}$, the circuit acts as a balanced modulator, with the dc component of the output depending on the amplitude of the low-level input. The output waveform resembles a sinusoid multiplied by a synchronous square wave, as shown in Fig. 10.20. When the small input is much smaller than $V_{T}$, the dc component in the output becomes, as per Fig. 10.20,\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nwhere $R_{C}$ is the collector resistor in the Gilbert multiplier and $g_{m}$ is the transconductance of the transistors. The phase detector output voltage is thus proportional to the amplitude $V_{i}$ of the incoming signal, and if the signal amplitude varies, the loop gain of the phaselocked loop changes. Consequently, when the signal amplitude varies, it is often necessary to precede the phase detector with an amplifier/limiter to prevent this issue. In FM demodulators, for instance, any amplitude modulation present on the incoming frequency-modulated signal will be demodulated, resulting in an erroneous output.\n\nIn PLL applications, the frequency response of the phase detector is usually not the limiting factor in the usable operating frequency range of the loop itself. At high operating frequencies, the parasitic capacitances of the devices lead to a feedthrough of the carrier frequency, introducing an erroneous component in the output at the center frequency. However, this component is eliminated\nThe widespread adoption of Phases as integral system components can be attributed to their suitability with monolithic construction, enabling the integration of entire PLL systems onto a single chip. We will now delve into the design specifics\nThe widespread adoption of PLLs as integral system components can be attributed to their compatibility with monolithic construction, enabling the integration of entire PLL systems onto a single chip. We will now delve into the design"
},
{
    "text": "The primary factors contributing to the extensive adoption of phase-locked loops (PLLs) as system components are their components' suitability for monolithic integration and the feasibility of creating complete PLL systems on a single integrated circuit. This section will delve into the design specifics of the various PLL components.\n\nPhase Detector: Monolithic PLLs commonly employ phase detectors based on the Gilbert multiplier topology, as depicted in Figure 10.4. Figure 10.11 illustrates that when two signals of adequate amplitude are fed into the two inputs of the circuit (constructed from emitter-coupled pairs), the output will include a direct current (dc) component, calculated as follows:\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nHere, $\\phi$ denotes the phase discrepancy between the input signals. A significant characteristic of this phase detector's performance is its behavior when the input signal's amplitude at $V_{\\mathrm{in} 2}$ is lesser compared to the thermal voltage $V_{T}$. In such cases, the circuit acts as a balanced modulator, with the dc component of the output being contingent upon the low-level input's amplitude. The output waveform, as demonstrated in Figure 10.20, is a sinusoidal wave multiplied by a synchronous square wave. In the limiting scenario where the small input is minimal compared to $V_{T}$, the dc component in the output is presented in Figure 10.20 as follows:\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nFigure 10.20 presents a graph illustrating a time-domain waveform depicting a sinusoidal function. The horizontal axis is labeled as $ \\omega t $, representing the product of the angular frequency and time, typically dimensionless. The vertical axis is labeled $ V_{\\text{in2}} $, denoting the input voltage in volts. The graph illustrates a smooth, periodic oscillation starting from zero, rising to a positive peak, falling back to zero to a negative peak, and returning to zero, completing one full cycle. The waveform is symmetric about the horizontal axis, indicating equal positive and negative amplitudes.\n\nThe sinusoidal function is represented by $ V_i \\sin \\omega t $, where $ V_i $ is the amplitude of the sine wave. The waveform exhibits regular intervals between peaks and zero crossings, with the maximum and minimum points (peaks) corresponding to the amplitude $ V_i $, signifying the highest positive and lowest negative voltages reached. Zero crossings occur at regular intervals, indicating points where the waveform changes polarity.\n\nFigure 10.20 Sinusoid multiplied by a synchronous square wave shows two waveforms plotted against time ($ \\omega t $). The top waveform is a synchronous square wave labeled $ V_{in1} $, and the bottom waveform is a sinusoidal wave labeled $ V_o $. Both waveforms share the same time axis, $ \\omega t $.\n\n1. **Type of Graph and Function:**\n- The graph represents a time-domain waveform.\n- It illustrates the interaction between a sinusoidal wave and a synchronous square wave.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is denoted as $ \\omega t $, representing the product of the angular frequency and time, typically dimensionless.\n- The vertical axis for the top waveform is labeled $ V_{in1} $, and for the bottom waveform, it is labeled $ V_o $. No specific units are given, indicating a general representation of voltage.\n\n3. **Overall Behavior and Trends:**\n- The top waveform is a square wave that alternates between high and low states with a consistent period.\n- The bottom waveform is a sinusoidal wave that exhibits regular oscillations with a consistent amplitude and period.\n- The sinusoidal wave $ V_o $ appears to be modulated by the square wave $ V_{in1} $, indicated by the phase shift $ \\phi $.\n\n4. **Key Features and Technical Details:**\n- The square wave $ V_{in1} $ has a 50% duty cycle, spending equal amounts of time in high and low states.\n- The sinusoidal wave $ V_o $ retains its sinusoidal shape but is influenced by the phase shift $ \\phi $, marked on the graph.\n- Zero crossings of the sinusoidal wave occur at regular intervals, indicating consistent periodicity.\n\n5. **Annotations and Specific Data Points:**\n- The phase shift $ \\phi $ is annotated on both waveforms, indicating the time difference between the square wave transition and the sinusoidal wave's zero crossing.\n- There are no specific numerical values for amplitude, frequency, or phase shift, but the general behavior and interaction of the waveforms are clearly depicted.\n\nThe discussions continue with further analysis of the VCO and other aspects of the emitter-coupled multivibrator circuit."
},
{
    "text": "The primary rationale for the extensive employment of phase-locked loops (PLLs) as system elements stems from the fact that their constituent parts are well-suited for monolithic assembly, and entire PLL systems can be integrated onto a single integrated circuit (IC). We proceed to delve into the design intricacies of the individual PLL components.\n\nPhase Detector: In the context of monolithic PLL implementations, phase detectors typically employ the Gilbert multiplier topology, as depicted in Figure 10.4. As visualized in Figure 10.11, when signals of sufficient amplitude, which can induce limiting in the emitter-coupled pairs that compose the circuit, are applied to both inputs, the resulting output features a direct current (dc) component represented by the following equation:\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nHere, $\\phi$ denotes the phase difference between the input signals. A critical feature of this phase detector's performance is that if the amplitude of the applied signal at $V_{\\mathrm{in} 2}$ is notably less than the thermal voltage $V_{T}$, the circuit behaves akin to a balanced modulator, and the dc portion of the output is contingent upon the amplitude of the low-level input. The output waveform, as depicted in Figure 10.20, is then a sinusoid multiplied by a synchronized square wave.\n\nIn the limiting scenario where the small input is much less than $V_{T}$, the dc component in the output becomes, as illustrated in Figure 10.20:\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nImage name: Figure 10.20\nDescription: The depicted graph is a time-domain waveform that represents a sinusoidal function.\n\nAxes Labels and Units:\n- The horizontal axis is labeled as \\( \\omega t \\), indicating the product of the angular frequency \\( \\omega \\) and time \\( t \\), which is typically dimensionless.\n- The vertical axis is labeled as \\( V_{\\text{in2}} \\), signifying the input voltage in volts.\n\nOverall Behavior and Trends:\n- The graph illustrates a sinusoidal waveform characterized by smooth, periodic fluctuations.\n- The sinusoid initiates at zero, ascends to a positive peak, descends through zero to a negative peak, and reverts to zero, completing a full cycle.\n- The waveform is symmetrical about the horizontal axis, suggesting equal positive and negative amplitudes.\n\nKey Features and Technical Details:\n- The sinusoidal function is denoted as \\( V_i \\sin \\omega t \\), with \\( V_i \\) representing the amplitude of the sine wave.\n- The waveform demonstrates periodicity, with consistent intervals between peaks and zero crossings.\n- The peak and trough points correspond to the amplitude \\( V_i \\), denoting the highest positive and lowest negative voltages reached.\n- Zero crossings occur at consistent intervals, indicating points where the waveform's polarity changes.\n\nAnnotations and Specific Data Points:\n- The graph is annotated with the expression \\( V_i \\sin \\omega t \\) along the curve, showing the mathematical form of the sinusoidal function.\n- No specific numerical values are provided for the amplitude or frequency; however, the sinusoidal shape is clearly portrayed.\n\nFigure 10.20 Sinusoid multiplied by a synchronous square wave\nDescription: The graph in Figure 10.20 presents two waveforms plotted over time (\\( \\omega t \\)). The upper waveform is a synchronized square wave, denoted \\( V_{in1} \\), and the lower waveform is a sinusoidal wave, denoted \\( V_o \\). Both waveforms share the same time axis, \\( \\omega t \\).\n\n1. **Type of Graph and Function:**\n- The graph is a time-domain representation of waveforms.\n- It illustrates the interaction between a sinusoidal wave and a synchronous square wave.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time, denoted as \\( \\omega t \\), with \\( \\omega \\) being the angular frequency.\n- The vertical axis for the top waveform is labeled \\( V_{in1} \\), and for the bottom waveform, it is labeled \\( V_o \\). No specific units are provided, indicating a general depiction of voltage.\n\n3. **Overall Behavior and Trends:**\n- The top waveform is a square wave that alternates between high and low states with a constant period.\n- The bottom waveform is a sinusoidal wave that shows regular oscillations with a constant amplitude and period.\n- The sinusoidal wave \\( V_o \\) appears to be modulated by the square wave \\( V_{in1} \\), as indicated by the phase shift \\( \\phi \\).\n\n4. **Key Features and Technical Details:**\n- The square wave \\( V_{in1} \\) has a duty cycle that appears to be 50%, with equal durations spent in the high and low states.\n- The sinusoidal wave \\( V_o \\) maintains its sinusoidal shape but is influenced by the phase \\( \\phi \\), which is marked on the graph.\n- Zero crossings of the sinusoidal wave occur at regular intervals, indicating consistent periodicity.\n\n5. **Annotations and Specific Data Points:**\n- The phase shift \\( \\phi \\) is annotated on both waveforms, indicating the time difference between the square wave transition and the sinusoidal wave's zero crossing.\n- There are no specific numerical values for amplitude, frequency, or phase shift, but the general behavior and interaction of the waveforms are clearly depicted.\n\nFigure 10.20 Sinusoid multiplied by a synchronous square wave.\nwhere \\( R_{C} \\) is the collector resistor within the Gilbert multiplier and \\( g_{m} \\) is the transconductance of the transistors. The phase detector output voltage is proportional to the amplitude \\( V_{i} \\) of the incoming signal. If the signal amplitude varies, the loop gain of the phase-locked loop changes. Consequently, when the signal amplitude fluctuates, it is typically necessary to precede the phase detector with an amplifier/limiter to prevent this issue. For instance, in frequency-modulated (FM) demodulators, any amplitude modulation present on the incoming FM signal will be demodulated, resulting in an erroneous output.\n\nIn PLL applications, the frequency response of the phase detector is usually not the limiting factor within the usable operating frequency range of the loop itself. At high operating frequencies, the parasitic capacitances of the devices lead to a feedthrough of the carrier frequency, introducing an erroneous component in the output at the center frequency. This component is eliminated by the loop filter and does not significantly impact loop performance. The voltage-controlled oscillator (VCO) is generally the limiting factor in the operating frequency range.\n\nVoltage-Controlled Oscillator: The operating frequency range, frequency modulation distortion, center frequency drift, and the sensitivity of the center frequency to supply voltage are all determined by the performance of the VCO. Integrated-circuit VCOs are often simply R-C multivibrators in which the charging current in the capacitor is altered in response to the control input. Initially, we consider the emitter-coupled multivibrator depicted in Figure 10.21a, which is representative of those commonly used in this application. We calculate the period by first assuming that \\( Q_{1} \\) is off and \\( Q_{2} \\) is on. The circuit then appears as shown in Figure 10.21b. Assuming current \\( I \\) is substantial, such that the voltage drop \\( I R \\) is ample to turn on diode \\( Q_{6} \\), the base of \\( Q_{4} \\) is one diode drop below \\( V_{C C} \\), the emitter is two diode drops below \\( V_{C C} \\), and the base of \\( Q_{1} \\) is two diode drops below \\( V_{C C} \\). If the base current of \\( Q_{3} \\) can be disregarded, its base is at \\( V_{C C} \\), and its emitter is one diode drop below \\( V_{C C} \\).\n\nImage name: Figure 10.21a\nDescription: The circuit is a voltage-controlled, emitter-coupled multivibrator utilized in VCO applications. It comprises multiple NPN transistors, resistors, capacitors, and current sources.\n\nFigure 10.21 (a) Voltage-controlled, emitter-coupled multivibrator.\nImage name: Figure 10.21b\nDescription: The circuit is an equivalent configuration during one half-cycle of the voltage-controlled, emitter-coupled multivibrator. It shows the simplified circuit diagram with only \\( Q_{1} \\) turned off and \\( Q_{2} \\) turned on, emphasizing the path for current \\( I \\) and the voltage drops across the diodes and transistors.\n\nImage name: Figure 10.21 (c)\nDescription: The various waveforms within the voltage-controlled, emitter-coupled multivibrator circuit, illustrating the behavior of voltages at the bases and emitters of transistors, the capacitor voltage, and the output voltage.\n\nFigure 10.21 (c) Waveforms within the emitter-coupled multivibrator.\nTransistor \\( Q_{1} \\) turns on when the voltage at its emitter becomes three diode drops below \\( V_{C C} \\). When \\( Q_{1} \\) turns on, the resulting collector current turns on \\( Q_{5} \\), which in turn causes the base of \\( Q_{3} \\) to move negatively by one diode drop, leading to the base of \\( Q_{2} \\) moving negatively by one diode drop as well. \\( Q_{2} \\) will then turn off, which will cause the base of \\( Q_{1} \\) to move positively by one diode drop since \\( Q_{6} \\) also turns off. As a result, the emitter-base junction of \\( Q_{2} \\) becomes reverse biased by one diode drop due to the voltage on \\( C \\) not being able to change instantaneously. Current \\( I_{1} \\) must now charge the capacitor voltage negatively by an amount equal to two diode drops before the circuit will switch back again. Since the circuit is symmetrical, the half period is given by the time required to charge the capacitor and is:\n\n$$\n\\begin{equation*}\n\\frac{T}{2}=\\frac{Q}{I_{1}} \\tag{10.72}\n\\end{equation*}\n$$\n\nwhere \\( Q=C \\Delta V=2 C V_{B E(\\text { on })} \\) is the charge on the capacitor. The frequency of the oscillator is thus:\n\n$$\n\\begin{equation*}\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}} \\tag{10.73}\n\\end{equation*}\n$$\n\nThe various waveforms in the circuit are shown in Figure 10.21c. This emitter-coupled configuration is non-saturating and contains only npn transistors. Furthermore, the voltage swings within the circuit are small, enabling the circuit to operate up to approximately 1 GHz for typical integrated-circuit transistors. However, the usable frequency range is limited to a value lower than this because the center frequency drift with temperature variations becomes significant at higher frequencies. This drift occurs because the switching transients themselves become a large percentage of the period of the oscillation, and the duration of the switching transients depends on circuit parasitics, circuit resistances, transistor transconductance, and transistor input resistance, which are all temperature sensitive.\n\nDespite the emitter-coupled configuration's capability for high operating speeds, it exhibits considerable sensitivity of the center frequency to temperature, even at low frequencies, since the period is dependent on \\( V_{B E(\\text { on })} \\). By utilizing Equation 10.73, we can calculate the temperature coefficient of the center frequency as:\n\n$$\n\\begin{equation*}\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C} \\tag{10.74}\n\\end{equation*}\n$$\n\nThis temperature sensitivity of the center frequency can be compensated by causing current \\( I_{1} \\) to be temperature sensitive in such a way that its effect is equal and opposite to the effect of the variation of \\( V_{B E(\\text { on })} \\)."
},
{
    "text": "The primary reason for the extensive application of phase-locked loops (PLLs) as system components stems from the fact that the phase-locked loop's components are ideally suited for monolithic construction. As a result, entire PLL systems can be integrated onto a solitary semiconductor chip. We proceed to delve into the design specifics of these individual PLL components.\n\nPhase Detector: For monolithic PLLs, phase detectors typically employ the Gilbert multiplier configuration, as depicted in Figure 10.4. Figure 10.11 illustrates that when signals of adequate amplitude are applied to the two inputs, which are strong enough to induce limiting in the emitter-coupled pairs forming the circuit, the output will incorporate a direct current (dc) component. This is given by:\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nHere, $\\phi$ denotes the phase difference between the input signals. A significant characteristic of this phase detector's performance is that when the amplitude of the signal applied at $V_{\\mathrm{in} 2}$ is notably less than the thermal voltage $V_{T}$, the circuit operates as a balanced modulator. The dc portion of the output then depends on the amplitude of the low-level input. The resulting output waveform is a sinusoid multiplied by a synchronous square wave, as depicted in Figure 10.20. In the limiting scenario where the small input is much smaller than $V_{T}$, the dc component in the output is, as referenced to Figure 10.20:\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nFigure 10.20\nDescription: The graph represents a time-domain waveform of a sinusoidal function.\n\nAxes Labels and Units:\n- Horizontal axis: Angular frequency multiplied by time (dimensionless).\n- Vertical axis: Input voltage in volts.\n\nOverall Behavior and Trends:\nThe graph illustrates a sinusoidal waveform characterized by a smooth, periodic oscillation starting from zero, rising to a positive peak, descending through zero to a negative peak, and returning to zero, completing a full cycle. The waveform is symmetrical about the horizontal axis, indicating equal positive and negative amplitudes.\n\nKey Features and Technical Details:\n- The sinusoidal function is represented by $V_i \\sin \\omega t$, where $V_i$ is the amplitude of the sine wave.\n- The waveform exhibits periodic behavior, with consistent intervals between peaks and zero crossings.\n- The maximum and minimum points (peaks) correspond to the amplitude $V_i$, representing the highest positive and lowest negative voltages reached.\n- Zero crossings occur at regular intervals, indicating points where the waveform changes polarity.\n\nAnnotations and Specific Data Points:\n- The graph is annotated with the expression $V_i \\sin \\omega t$ along the curve, indicating the mathematical form of the sinusoidal function.\n- No specific numerical values are provided for amplitude or frequency, but the general sinusoidal shape is clearly depicted.\n\nThe role of $R_{C}$ is as the collector resistor in the Gilbert multiplier, while $g_{m}$ represents the transconductance of the transistors. The phase detector output voltage is proportional to the amplitude $V_{i}$ of the incoming signal, and changes in signal amplitude can alter the loop gain of the PLL. Consequently, when the signal amplitude fluctuates, it is often essential to precede the phase detector with an amplifier/limiter to prevent this issue. For instance, in frequency-modulation (FM) demodulators, any amplitude modulation on the incoming frequency-modulated signal can lead to demodulation errors in the output.\n\nIn PLL applications, the frequency response of the phase detector usually is not the critical factor determining the usable operating frequency range of the loop. At high frequencies of operation, parasitic capacitances in the devices can result in feedthrough of the carrier frequency, introducing an erroneous component at the center frequency in the output. This component is eliminated by the loop filter, however, and does not significantly impact loop performance. Typically, the voltage-controlled oscillator (VCO) acts as the limiting factor in the operating frequency range.\n\nVoltage-Controlled Oscillator: The operating frequency range, frequency-modulation distortion, center-frequency drift, and sensitivity to center-frequency supply voltage are all influenced by the performance of the VCO. Integrated-circuit VCOs often consist of R-C multivibrators where the charging current in the capacitor is adjusted in response to the control input. We initially examine the emitter-coupled multivibrator depicted in Figure 10.21a, which is representative of those commonly used in this application. We calculate the period by assuming $Q_{1}$ is off and $Q_{2}$ is on, leading to the circuit configuration in Figure 10.21b. Assuming current $I$ is sufficiently large, the voltage drop $I R$ is large enough to turn on diode $Q_{6}$. Consequently, the base of $Q_{4}$ is one diode drop below $V_{C C}$, the emitter is two diode drops below $V_{C C}$, and the base of $Q_{1}$ is two diode drops below $V_{C C}$. If we can neglect the base current of $Q_{3}$, its base is at $V_{C C}$ and its emitter is one diode drop below $V_{C C}$. Thus, the emitter of $Q_{2}$ is two diode drops below $V_{C C}$. Since $Q_{1}$ is off, the current $I_{1}$ is charging the capacitor, causing the emitter of $Q_{1}$ to become more negative. $Q_{1}$ will turn on when the voltage at its emitter becomes equal to three diode drops below $V_{C C}$. Transistor $Q_{1}$ will then turn on, and the resulting collector current in $Q_{1}$ turns on $Q_{5}$. As a result, the base of $Q_{3}$ moves in the negative direction by one diode drop, causing the base of $Q_{2}$ to move in the negative direction by one diode drop. $Q_{2}$ will turn off, causing the base of $Q_{1}$ to move positive by one diode drop because $Q_{6}$ also turns off. As a result, the emitter-base junction of $Q_{2}$ is reverse biased by one diode drop because the voltage on $C$ cannot change instantaneously. Current $I_{1}$ must now charge the capacitor voltage in the negative direction by an amount equal to two diode drops before the circuit will switch back again. Since the circuit is symmetrical, the half period is given by the time required to charge the capacitor and is:\n\n$$\n\\begin{equation*}\n\\frac{T}{2}=\\frac{Q}{I_{1}} \\tag{10.72}\n\\end{equation*}\n$$\n\nwhere $Q=C \\Delta V=2 C V_{B E(\\text { on })}$ is the charge on the capacitor. The frequency of the oscillator is thus:\n\n$$\n\\begin{equation*}\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}} \\tag{10.73}\n\\end{equation*}\n$$\n\nThe various waveforms in the circuit are shown in Figure 10.21c. This emitter-coupled configuration is nonsaturating and contains only npn transistors. Furthermore, the voltage swings within the circuit are small, allowing the circuit to operate up to approximately 1 GHz for typical integrated-circuit transistors. However, the usable frequency range is limited to a value lower than this due to large center-frequency drift with temperature variations at the higher frequencies. This drift occurs because the switching transients become a significant portion of the period of the oscillation, and the duration of the switching transients depends on circuit parasitics, circuit resistances, transistor transconductance, and transistor input resistance, which are all temperature sensitive.\n\nDespite the emitter-coupled configuration's capability for high operating speed, it exhibits considerable sensitivity to center-frequency changes with temperature, even at low frequencies, since the period depends on $V_{B E(\\text { on })}$. By applying equation (10.73), we can determine the temperature coefficient of the center frequency:\n\n$$\n\\begin{equation*}\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C} \\tag{10.74}\n\\end{equation*}\n$$\n\nThis temperature sensitivity of the center frequency can be compensated by adjusting the current $I_{1}$ to be temperature sensitive in such a manner that its effect is equal and opposite to the effect of the variation of $V_{B E(\\text { on })}$."
},
{
    "text": "The primary factor behind the widespread adoption of phase-locked loops (PLLs) as integral system components lies in the fact that their constituent elements are highly conducive to monolithic assembly. Consequently, comprehensive PLL systems can be manufactured on a single integrated circuit (IC). This section delves into the architecture of the individual PLL components.\n\nPhase Detector: In monolithic PLL implementations, phase detectors typically adopt the configuration of a Gilbert multiplier, as depicted in Figure 10.4. As visualized in Figure 10.11, when two signals of adequate amplitude, sufficient to trigger limiting in the emitter-coupled pairs that compose the circuit, are fed into the two inputs, the resultant output will incorporate a direct current (dc) component, which can be calculated as follows:\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nHere, $\\phi$ denotes the phase discrepancy between the input signals. A notable aspect of this phase detector's performance is that if the amplitude of the applied signal at $V_{\\mathrm{in} 2}$ is relatively small in comparison to the thermal voltage $V_{T}$, the circuit operates akin to a balanced modulator, with the dc component of the output being contingent upon the amplitude of the low-level input. The output waveform then becomes a sinusoid multiplied by a synchronous square wave, as depicted in Figure 10.20. In the limiting scenario where the small input is minuscule in comparison to $V_{T}$, the dc component in the output transforms into, as seen in Figure 10.20,\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nImage: Figure 10.20\nDescription: The graph illustrates a time-domain waveform representing a sinusoidal function.\n- **Axes Labels and Units:** The horizontal axis, labeled as \\( \\omega t \\), denotes the product of the angular frequency and time, typically dimensionless. The vertical axis, labeled as \\( V_{\\text{in2}} \\), represents the input voltage in volts.\n- **Overall Behavior and Trends:** The waveform is sinusoidal, exhibiting a smooth, regular oscillation, starting from zero, ascending to a positive peak, descending back to zero, through a negative peak, and returning to zero, completing a full cycle. Symmetrical about the horizontal axis, it demonstrates equivalent positive and negative amplitudes.\n- **Key Features and Technical Details:** The sinusoidal function is represented by \\( V_i \\sin \\omega t \\), with \\( V_i \\) being the amplitude of the sine wave. The waveform exhibits periodic behavior with consistent intervals between peaks and zero crossings. The peaks correspond to the amplitude \\( V_i \\), signifying the maximum and minimum voltages. Zero crossings occur at regular intervals, marking points of waveform polarity change.\n- **Annotations and Specific Data Points:** The waveform is annotated with the expression \\( V_i \\sin \\omega t \\) along its curve, denoting the mathematical form of the sinusoidal function. No specific numerical values are provided for amplitude or frequency, but the general sinusoidal shape is distinctly portrayed.\n\nFigure 10.20: Sinusoid multiplied by a synchronous square wave\nDescription: The graph in Figure 10.20 shows two waveforms plotted against time (\\( \\omega t \\)). The upper waveform is a synchronous square wave, denoted \\( V_{in1} \\), and the lower waveform is a sinusoidal wave, labeled \\( V_o \\). Both waveforms share the same time axis, \\( \\omega t \\).\n\n1. **Type of Graph and Function:** The graph is a time-domain waveform representation, illustrating the interaction between a sinusoidal wave and a synchronous square wave.\n2. **Axes Labels and Units:** The horizontal axis represents time, denoted as \\( \\omega t \\), with \\( \\omega \\) as the angular frequency. The vertical axis for the top waveform is labeled \\( V_{in1} \\), and for the bottom waveform, it is labeled \\( V_o \\). No specific units are provided, indicating a general depiction of voltage.\n3. **Overall Behavior and Trends:** The top waveform is a square wave alternating between high and low states with a consistent period. The bottom waveform is a sinusoidal wave demonstrating regular oscillations with a consistent amplitude and period. The sinusoidal wave \\( V_o \\) is modulated by the square wave \\( V_{in1} \\), as indicated by the phase shift \\( \\phi \\).\n4. **Key Features and Technical Details:** The square wave \\( V_{in1} \\) has a 50% duty cycle, with equal duration spent in high and low states. The sinusoidal wave \\( V_o \\) retains its sinusoidal shape but is influenced by the phase \\( \\phi \\), marked on the graph.\n5. **Annotations and Specific Data Points:** The phase shift \\( \\phi \\) is annotated on both waveforms, indicating the time difference between the square wave transition and the sinusoidal wave's zero crossing. No specific numerical values for amplitude, frequency, or phase shift are given, but the general behavior and interaction of the waveforms are clearly depicted.\n\nFigure 10.20: Sinusoid multiplied by a synchronous square wave\nwhere $R_{C}$ is the collector resistor in the Gilbert multiplier and $g_{m}$ is the transconductance of the transistors. The phase detector output voltage is proportional to the amplitude $V_{i}$ of the incoming signal, and if the signal amplitude varies, the loop gain of the phaselocked loop changes. Consequently, when the signal amplitude varies, it is usually essential to position an amplifier/limiter prior to the phase detector to avert this issue. In FM demodulators, for instance, any amplitude modulation present on the incoming frequency-modulated signal will be demodulated, resulting in an erroneous output.\n\nIn PLL applications, the frequency response of the phase detector typically does not act as the limiting factor within the operational frequency range of the loop itself. At elevated operating frequencies, the parasitic capacitances of the devices lead to the feedthrough of the carrier frequency, introducing an erroneous component in the output at the center frequency. Nevertheless, this component is eliminated by the loop filter, and it does not significantly impact the loop performance. The voltage-controlled oscillator (VCO) often becomes the limiting factor in the operational frequency range.\n\nVoltage-Controlled Oscillator: The operational frequency range, frequency modulation (FM) distortion, center-frequency drift, and the sensitivity of the center frequency to supply voltage are all determined by the performance of the VCO. Integrated-circuit VCOs often employ simple R-C multivibrators, where the charging current in the capacitor is modified in response to the control input. We initially examine the emitter-coupled multivibrator, as shown in Figure 10.21a, which is a representative example of those used in this application. We determine the period by first assuming that $Q_{1}$ is turned off and $Q_{2}$ is turned on. The circuit then assumes the appearance presented in Figure 10.21b. We assume that current $I$ is substantial enough for the voltage drop $I R$ to activate diode $Q_{6}$. Consequently, the base of $Q_{4}$ is one diode drop below $V_{C C}$, the emitter is two diode drops below $V_{C C}$, and the base of $Q_{1}$ is two diode drops below $V_{C C}$. Neglecting the base current of $Q_{3}$, its base is at $V_{C C}$, and its emitter is one diode drop below $V_{C C}$. If we can assume that $Q_{1}$ is off, the current $I_{1}$ is charging the capacitor such that the emitter of $Q_{1}$ becomes more negative. $Q_{1}$ will turn on when the voltage at its emitter becomes equal to three diode drops below $V_{C C}$. Transistor $Q_{1}$ will then turn on, and the resulting collector current in $Q_{1}$ will activate $Q_{5}$. As a result, the base of $Q_{3}$ moves in the negative direction by one diode drop, causing the base of $Q_{2}$ to move in the negative direction by one diode drop. $Q_{2}$ will turn off, causing the base of $Q_{1}$ to move positively by one diode drop because $Q_{6}$ also turns off. As a consequence, the emitter-base junction of $Q_{2}$ is reverse biased by one diode drop because the voltage on $C$ cannot change instantaneously. Current $I_{1}$ must now charge the capacitor voltage in the negative direction by an amount equal to two diode drops before the circuit will switch back again. Since the circuit is symmetrical, the half period is given by the time required to charge the capacitor and is\n\n$$\n\\begin{equation*}\n\\frac{T}{2}=\\frac{Q}{I_{1}} \\tag{10.72}\n\\end{equation*}\n$$\n\nwhere $Q=C \\Delta V=2 C V_{B E(\\text { on })}$ is the charge on the capacitor. The frequency of the oscillator is therefore\n\n$$\n\\begin{equation*}\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}} \\tag{10.73}\n\\end{equation*}\n$$\n\nThe various waveforms within the circuit are illustrated in Figure 10.21c. This emitter-coupled configuration is non-saturating and employs only npn transistors. Additionally, the voltage swings within the circuit are minor. Consequently, the circuit is capable of operating at approximately 1 GHz for typical integrated-circuit transistors. However, the usable frequency range is limited to a value below this because the center frequency drift with temperature variations becomes significant at the higher frequencies. This drift arises because the switching transients themselves become a large percentage of the period of the oscillation, and the duration of the switching transients depends on circuit parasitics, circuit resistances, transistor transconductance, and transistor input resistance, which are all temperature sensitive.\n\nAlthough the emitter-coupled configuration is capable of high operating speeds, it exhibits considerable sensitivity to the center frequency with respect to temperature, even at low frequencies, as the period depends on $V_{B E(\\text { on })}$. Utilizing equation (10.73), we can calculate the temperature coefficient of the center frequency as\n\n$$\n\\begin{equation*}\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C} \\tag{10.74}\n\\end{equation*}\n$$\n\nThis sensitivity of the center frequency to temperature can be offset by adjusting current $I_{1}$ in a manner that its effect is equal and opposite to the effect of the variation of $V_{B E(\\text { on })}$."
},
{
    "text": "PLLs have become prevalent in system design due to their compatibility with monolithic construction, allowing entire PLL systems to be integrated onto a single chip. We will now delve into the design specifics of the individual components that constitute a PLL.\n\nPhase Detector: Monolithic PLLs commonly employ a Gilbert multiplier-based phase detector, as depicted in Fig. 10.4. As Fig. 10.11 illustrates, when two input signals with sufficient amplitude to induce limiting in the emitter-coupled pairs of the circuit are applied, the output includes a DC component calculated by\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nwhere $\\phi$ denotes the phase difference between the input signals. A notable characteristic of this phase detector is that if the amplitude of the signal at $V_{\\mathrm{in} 2}$ is much smaller than the thermal voltage $V_{T}$, the circuit acts as a balanced modulator, with the DC component of the output dependent on the amplitude of the weaker input. Consequently, the output waveform resembles a sinusoid modulated by a synchronous square wave, as shown in Fig. 10.20. When the small input is significantly less than $V_{T}$, the DC component in the output, as referenced in Fig. 10.20, becomes\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nIn the context of PLLs, the frequency response of the phase detector typically does not constrain the usable operating frequency range of the loop. However, at high frequencies, parasitic capacitances can allow the carrier frequency to feed through, introducing an erroneous component at the center frequency. This component is usually filtered out by the loop filter and does not significantly impair loop performance. The VCO is more often the bottleneck in terms of operating frequency range.\n\nVoltage-Controlled Oscillator: The VCO's performance dictates several critical parameters, including operating frequency range, FM distortion, center frequency drift, and sensitivity to supply voltage variations. Integrated-circuit VCOs are often R-C multivibrators where the capacitor charging current is modulated in response to the control input. We initially examine the emitter-coupled multivibrator, as shown in Fig. 10.21a, which is representative of those used in this context. To determine the period, we initially assume that $Q_{1}$ is off and $Q_{2}$ is on, leading to the circuit representation in Fig. 10.21b. Assuming current $I$ is substantial enough to produce a voltage drop $I R$ capable of turning on diode $Q_{6}$, the base of $Q_{4}$ is one diode drop below $V_{C C}$, the emitter is two diode drops below $V_{C C}$, and the base of $Q_{1}$ is two diode drops below $V_{C C}$. Neglecting the base current of $Q_{3}$, its base is at $V_{C C}$ and its emitter is one diode drop below $V_{C C}$. Since $Q_{1}$ is off, current $I_{1}$ charges the capacitor, making the emitter of $Q_{1}$ more negative. $Q_{1}$ will turn on when the voltage at its emitter equals three diode drops below $V_{C C}$. The subsequent collector current in $Q_{1}$ activates $Q_{5}$. This causes the base of $Q_{3}$ to shift negatively by one diode drop, prompting the base of $Q_{2}$ to move negatively by one diode drop as well. $Q_{2}$ will then turn off, causing the base of $Q_{1}$ to shift positively by one diode drop since $Q_{6}$ also turns off. Consequently, the emitter-base junction of $Q_{2}$ becomes reverse-biased by one diode drop because the capacitor voltage cannot change instantaneously. Current $I_{1}$ must now charge the capacitor in the negative direction by an amount equal to two diode drops before the circuit can switch back. Given the circuit's symmetry, the half period is determined by the capacitor charging time and is expressed as\n\n$$\n\\begin{equation*}\n\\frac{T}{2}=\\frac{Q}{I_{1}} \\tag{10.72}\n\\end{equation*}\n$$\n\nwhere $Q=C \\Delta V=2 C V_{B E(\\text { on })}$ represents the capacitor charge. Hence, the oscillator frequency is\n\n$$\n\\begin{equation*}\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}} \\tag{10.73}\n\\end{equation*}\n$$\n\nThe various waveforms within the circuit are presented in Fig. 10.21c. This emitter-coupled configuration is nonsaturating and employs only npn transistors. Additionally, the voltage swings within the circuit are minimal. As a result, the circuit can operate at frequencies up to roughly 1 GHz for standard integrated-circuit transistors. However, the usable frequency range is lower than this due to substantial center frequency drift with temperature fluctuations at higher frequencies. This drift arises because the switching transients themselves constitute a significant portion of the oscillation period, and the duration of these transients depends on temperature-sensitive factors such as circuit parasitics, resistances, transistor transconductance, and input resistance.\n\nWhile the emitter-coupled configuration supports high operating speeds, it exhibits considerable sensitivity to temperature variations in the center frequency, even at low frequencies, since the period depends on $V_{B E(\\text { on })}$. Using equation $(10.73)$, we can determine the temperature coefficient of the center frequency as\n\n$$\n\\begin{equation*}\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C} \\tag{10.74}\n\\end{equation*}\n$$\n\nThis temperature dependence can be mitigated by designing current $I_{1}$ to be temperature-sensitive in a manner that counteracts the variation of $V_{B E(\\text { on })}$."
},
{
    "text": "The primary factor behind the widespread adoption of Phase-Locked Loops (PLLs) as system components is the compatibility of their components with monolithic assembly. It is feasible to integrate entire PLL systems onto a solitary chip. In the following section, we delve into the design intricacies of the distinct PLL elements.\n\nPhase Detector: In monolithic PLLs, phase detectors typically employ the Gilbert multiplier architecture depicted in Figure 10.4. As illustrated in Figure 10.11, if two signals of sufficient amplitude to induce limiting in the emitter-coupled pairs forming the circuit are inputted to both inputs, the resultant output will include a DC component, calculated as follows:\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nHere, $\\phi$ represents the phase discrepancy between the input signals. A significant feature of this phase detector's performance is that if the amplitude of the input at $V_{\\mathrm{in} 2}$ is much smaller than the thermal voltage $V_{T}$, the circuit operates akin to a balanced modulator. The DC component of the output is contingent upon the amplitude of the low-level input. The output waveform, as shown in Figure 10.20, consists of a sinusoid multiplied by a synchronous square wave.\n\nIn the scenario where the minimal input is much less than $V_{T}$, the DC component of the output, as depicted in Figure 10.20, is:\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nThe figures presented alongside this text provide a visual representation of the waveforms and circuits discussed in this section, aiding in the understanding of the PLL components and their operation."
},
{
    "text": "The primary motivation behind the extensive adoption of Phase-Locked Loops (PLLs) as system components lies in the fact that their constituent elements are exceptionally well-suited for monolithic assembly, enabling complete PLL systems to be produced on a single integrated circuit. We proceed with a discussion on the design of the individual components of a PLL.\n\nPhase Detector: In monolithic PLL implementations, phase detectors are commonly configured as Gilbert multipliers, as depicted in Figure 10.4. As visualized in Figure 10.11, when two signals of sufficient amplitude to induce limiting within the emitter-coupled pairs forming the circuit are applied to the two inputs, the output encompasses a direct current (dc) component calculated by\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nwhere \\( \\phi \\) denotes the phase discrepancy between the input signals. An essential aspect of the performance of this phase detector is that, if the amplitude of the input signal at \\( V_{\\mathrm{in} 2} \\) is notably lower compared to the thermal voltage \\( V_{T} \\), the circuit operates as a balanced modulator, and the dc component of the output is contingent upon the amplitude of the low-level input. Consequently, the output waveform is then a sine wave multiplied by a synchronous square wave, as depicted in Figure 10.20. In the limiting condition where the small input is far smaller than \\( V_{T} \\), the dc component in the output transforms into, as shown in Figure 10.20,\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\nFigure 10.20 illustrates the superposition of a sinusoidal function.\n\n1. **Graph Type and Function:**\n   The depicted graph is a time-domain representation of a sinusoidal waveform.\n\n2. **Axes Labels and Units:**\n   - The horizontal axis is labeled as \\( \\omega t \\), signifying the product of angular frequency and time, which is generally dimensionless.\n   - The vertical axis is labeled as \\( V_{\\text{in2}} \\), indicating the input voltage measured in volts.\n\n3. **Overall Behavior and Trends:**\n   The graph illustrates a sinusoidal waveform characterized by smooth, periodic oscillations. It starts from zero, peaks positively, descends to zero, reaches a negative peak, and returns to zero, completing one cycle. The waveform is symmetrical about the horizontal axis, indicating equal positive and negative amplitudes.\n\n4. **Key Features and Technical Details:**\n   - The sinusoidal function is represented by \\( V_i \\sin \\omega t \\), with \\( V_i \\) being the sine wave's amplitude.\n   - The waveform exhibits periodic behavior, with consistent intervals between peaks and zero crossings.\n   - The peaks correspond to the amplitude \\( V_i \\), which denotes the highest positive and lowest negative voltages.\n   - Zero crossings occur at consistent intervals, marking points where the waveform's polarity changes.\n\n5. **Annotations and Specific Data Points:**\n   The graph is annotated with the expression \\( V_i \\sin \\omega t \\) along the curve, showcasing the sinusoidal function's mathematical form. No specific numerical values for amplitude or frequency are provided, but the general sinusoidal shape is clearly delineated.\n\nIn frequency-modulated demodulators, for instance, any amplitude modulation present on the incoming frequency-modulated signal is demodulated, yielding an erroneous output. To circumvent this, it is often essential to precede the phase detector with an amplifier/limiter in PLL applications.\n\nThe frequency response of the phase detector is typically not the constraining factor within the operational frequency range of the PLL loop itself. At elevated operating frequencies, the parasitic capacitances of the devices lead to the feedthrough of the carrier frequency, introducing an erroneous component at the central frequency. This component is corrected by the loop filter, thereby minimally affecting the loop performance. The Voltage-Controlled Oscillator (VCO) is usually the limiting factor in the operational frequency range.\n\nThe VCO's performance dictates the operating frequency range, frequency-modulation distortion, center-frequency drift, and the sensitivity of the center frequency to supply voltage. Integrated-circuit VCOs are often simple R-C multivibrators where the charging current in the capacitor is adjusted in response to the control input. Initially, we consider the emitter-coupled multivibrator presented in Figure 10.21a, which is a representative example for this application. The period calculation is based on the assumption that \\( Q_{1} \\) is off and \\( Q_{2} \\) is on, transforming the circuit to the configuration shown in Figure 10.21b. Assuming a large current \\( I \\), the diode \\( Q_{6} \\) turns on due to the significant voltage drop \\( I R \\). Consequently, the base of \\( Q_{4} \\) is at one diode drop below \\( V_{C C} \\), the emitter at two diode drops below \\( V_{C C} \\), and the base of \\( Q_{1} \\) at two diode drops below \\( V_{C C} \\). Neglecting the base current of \\( Q_{3} \\), its base is at \\( V_{C C} \\), and the emitter is one diode drop below \\( V_{C C} \\).\n\nThe analysis continues with the calculation of the period, the switch-on and switch-off behaviors of the transistors, and the resultant waveforms. The performance of the oscillator, its temperature sensitivity, and the compensation techniques are also discussed."
},
{
    "text": "The primary rationale for the widespread adoption of phase-locked loops (PLLs) as system components lies in the fact that the components of the phase-locked loop are highly amenable to monolithic integration. A complete PLL system can be fabricated on a single integrated circuit chip. We proceed with a discussion on the design of the individual PLL components.\n\nPhase Detector: Monolithic PLL applications typically employ phase detectors configured as Gilbert multipliers, as depicted in Figure 10.4. As shown in Figure 10.11, when signals of sufficient amplitude to induce limiting in the emitter-coupled pairs that make up the circuit are applied to both inputs, the output contains a direct current (dc) component, expressed as\n\n$$\n\\begin{equation*}\nV_{\\text {average }}=-I_{E E} R_{C}\\left(1-\\frac{2 \\phi}{\\pi}\\right) \\tag{10.69}\n\\end{equation*}\n$$\n\nHere, $\\phi$ denotes the phase difference between the input signals. An essential aspect of the phase detector's performance is that if the amplitude of the applied signal at $V_{\\mathrm{in} 2}$ is relatively small in comparison to the thermal voltage $V_{T}$, the circuit operates as a balanced modulator, and the dc component of the output depends on the amplitude of the low-level input. The output waveform is then a sinusoid multiplied by a synchronous square wave, as illustrated in Figure 10.20. In the limiting case where the small input is small compared to $V_{T}$, the dc component in the output is as follows, referring to Figure 10.20:\n\n$$\n\\begin{align*}\nV_{\\text {average }} & =\\frac{1}{\\pi} g_{m} R_{C} V_{i}\\left[\\int_{0}^{\\phi}(\\sin \\omega t) d(\\omega t)-\\int_{\\phi}^{\\pi}(\\sin \\omega t) d(\\omega t)\\right]  \\tag{10.70}\\\\\n& =-\\frac{2 g_{m} R_{C} V_{i} \\cos \\phi}{\\pi} \\tag{10.71}\n\\end{align*}\n$$\n\n[Image: Figure 10.20]\n[Description: Type of Graph and Function: A time-domain waveform graph depicting a sinusoidal function.]\n\n[Image: Figure 10.20 Sinusoid multiplied by a synchronous square wave]\n[Description: The graph in Figure 10.20 illustrates two waveforms plotted over time (\\( \\omega t \\)). The top waveform is a synchronous square wave, labeled \\( V_{in1} \\), and the bottom waveform is a sinusoidal wave, labeled \\( V_o \\). Both waveforms are plotted against the same time axis, \\( \\omega t \\).]\n\n[Image: Figure 10.20 Sinusoid multiplied by a synchronous square wave]\n[Description: The graph in Figure 10.20 shows two waveforms plotted against time (\\( \\omega t \\)). The top waveform is a synchronous square wave, labeled \\( V_{in1} \\), and the bottom waveform is a sinusoidal wave, labeled \\( V_o \\). Both waveforms share the same time axis, \\( \\omega t \\).]\n\nThe collector resistor \\( R_{C} \\) in the Gilbert multiplier and the transconductance \\( g_{m} \\) of the transistors play a role in determining the output voltage. The phase detector output voltage is proportional to the amplitude \\( V_{i} \\) of the incoming signal, and if the signal amplitude varies, the loop gain of the phase-locked loop is also affected. Consequently, when signal amplitude variations occur, it is often necessary to incorporate an amplifier/limiter before the phase detector to prevent this issue. For example, in FM demodulators, any amplitude modulation present on the incoming frequency-modulated signal can be demodulated, resulting in erroneous output.\n\nIn PLL applications, the frequency response of the phase detector is generally not the limiting factor within the usable operating frequency range of the loop. At high operating frequencies, parasitic capacitances within the devices cause a feedthrough of the carrier frequency, introducing an erroneous component in the output at the center frequency. This component is eliminated by the loop filter, however, and does not significantly impact loop performance. The voltage-controlled oscillator (VCO) is often the limiting factor in the operating frequency range.\n\nVoltage-Controlled Oscillator: The operational frequency range, frequency modulation distortion, center-frequency drift, and center-frequency supply-voltage sensitivity are all determined by the performance of the VCO. Integrated-circuit VCOs are often simple R-C multivibrators, where the charging current in the capacitor is adjusted in response to the control input. We initially consider the emitter-coupled multivibrator illustrated in Figure 10.21a, which is representative of those commonly used in this application. We calculate the period by first assuming that \\( Q_{1} \\) is turned off and \\( Q_{2} \\) is turned on. The circuit then appears as in Figure 10.21b. We assume that current \\( I \\) is sufficiently large such that the voltage drop \\( I R \\) is large enough to turn on diode \\( Q_{6} \\). Thus, the base of \\( Q_{4} \\) is one diode drop below \\( V_{C C} \\), the emitter is two diode drops below \\( V_{C C} \\), and the base of \\( Q_{1} \\) is two diode drops below \\( V_{C C} \\). If we can neglect the base current of \\( Q_{3} \\), its base is at \\( V_{C C} \\), and its emitter is one diode drop below \\( V_{C C} \\). Thus, the emitter of \\( Q_{2} \\) is two diode drops below \\( V_{C C} \\).\n\nSince \\( Q_{1} \\) is off, the current \\( I_{1} \\) is charging the capacitor so that the emitter of \\( Q_{1} \\) is becoming more negative. \\( Q_{1} \\) will turn on when the voltage at its emitter becomes equal to three diode drops below \\( V_{C C} \\). Transistor \\( Q_{1} \\) will then turn on, and the resulting collector current in \\( Q_{1} \\) turns on \\( Q_{5} \\). As a result, the base of \\( Q_{3} \\) moves in the negative direction by one diode drop, causing the base of \\( Q_{2} \\) to move in the negative direction by one diode drop. \\( Q_{2} \\) will turn off, causing the base of \\( Q_{1} \\) to move positive by one diode drop because \\( Q_{6} \\) also turns off. As a result, the emitter-base junction of \\( Q_{2} \\) is reverse biased by one diode drop because the voltage on \\( C \\) cannot change instantaneously. Current \\( I_{1} \\) must now charge the capacitor voltage in the negative direction by an amount equal to two diode drops before the circuit will switch back again. Since the circuit is symmetrical, the half period is given by the time required to charge the capacitor and is\n\n$$\n\\begin{equation*}\n\\frac{T}{2}=\\frac{Q}{I_{1}} \\tag{10.72}\n\\end{equation*}\n$$\n\nwhere \\( Q=C \\Delta V=2 C V_{B E(\\text { on })} \\) is the charge on the capacitor. The frequency of the oscillator is thus\n\n$$\n\\begin{equation*}\nf=\\frac{1}{T}=\\frac{I_{1}}{4 C V_{B E(\\mathrm{on})}} \\tag{10.73}\n\\end{equation*}\n$$\n\nThe various waveforms within the circuit are shown in Figure 10.21c. This emitter-coupled configuration is nonsaturating and contains only npn transistors. Furthermore, the voltage swings within the circuit are small. As a result, the circuit is capable of operating up to approximately 1 GHz for typical integrated-circuit transistors. However, the usable frequency range is limited to a value lower than this because the center frequency drift with temperature variations becomes large at higher frequencies. This drift occurs because the switching transients themselves become a large percentage of the period of the oscillation, and the duration of the switching transients depends on circuit parasitics, circuit resistances, transistor transconductance, and transistor input resistance, which are all temperature sensitive.\n\nAlthough the emitter-coupled configuration is capable of high operating speeds, it displays considerable sensitivity of center frequency to temperature even at low frequencies, since the period is dependent on \\( V_{B E(\\text { on })} \\). Using Equation 10.73, we can calculate the temperature coefficient of the center frequency as\n\n$$\n\\begin{equation*}\n\\frac{1}{\\omega_{\\mathrm{osc}}} \\frac{d \\omega_{\\mathrm{osc}}}{d T}=-\\frac{1}{V_{B E(\\mathrm{on})}} \\frac{d V_{B E(\\mathrm{on})}}{d T}=\\frac{+2 \\mathrm{mV} /{ }^{\\circ} \\mathrm{C}}{600 \\mathrm{mV}}=+3300 \\mathrm{ppm} /{ }^{\\circ} \\mathrm{C} \\tag{10.74}\n\\end{equation*}\n$$\n\nThis temperature sensitivity of the center frequency can be compensated by adjusting current \\( I_{1} \\) to be temperature sensitive in such a way that its effect is equal and opposite to the effect of the variation of \\( V_{B E(\\text { on })} \\)."
}
]