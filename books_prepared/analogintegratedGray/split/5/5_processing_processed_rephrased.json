[

{
    "text": "The amplifier's output stage must meet various specific criteria. A key requirement is to provide a predetermined level of signal power to the load while maintaining low signal distortion. Another typical goal in designing the output stage is to reduce the output impedance, ensuring the voltage gain remains stable regardless of the load impedance. An effectively designed output stage should meet these performance benchmarks while using minimal quiescent power and not significantly restricting the amplifier's frequency response.\n\nThis chapter explores various output-stage configurations aimed at fulfilling the aforementioned requirements. The most basic configurations include emitter and source followers. More intricate designs featuring multiple output devices are also discussed, with comparisons drawn regarding their power-output capacity and efficiency.\n\nDue to their superior current-handling abilities, bipolar transistors are the favored choice for output stages. While parasitic bipolar transistors can be incorporated in some CMOS output stages, CMOS-based output stages typically exclude bipolar transistors, and these configurations are detailed in this chapter as well."
},
{
    "text": "The final stage of an amplifier needs to meet several specific criteria. A key requirement is to provide a designated level of signal power to the load while maintaining low levels of signal distortion. Another typical goal in designing the output stage is to reduce the output impedance, ensuring the voltage gain remains largely unaffected by variations in load impedance. An effectively designed output stage should meet these performance metrics while using minimal quiescent power and not significantly restricting the amplifier's frequency response.\n\nThis chapter will explore various output-stage configurations aimed at fulfilling these criteria. The most basic configurations include emitter and source followers. More intricate designs featuring multiple output devices will also be discussed, along with comparisons of their power-output capabilities and efficiencies.\n\nDue to their superior current-handling abilities, bipolar transistors are the preferred choice for output stages. While parasitic bipolar transistors can be utilized in certain CMOS output stages, CMOS-based output stages typically do not incorporate bipolar transistors and are also covered in this chapter."
},
{
    "text": "The final stage of an amplifier must meet various specific criteria. A crucial criterion is the ability to deliver a predetermined level of signal power to a load while maintaining low signal distortion. Another key goal in designing the output stage is to reduce the output impedance, ensuring that the voltage gain remains largely independent of the load impedance. An effectively designed output stage should meet these performance standards while using minimal quiescent power and not significantly constraining the amplifier's frequency response.\n\nThis chapter explores various output-stage configurations aimed at fulfilling these requirements. The most basic configurations include emitter and source followers. More intricate designs featuring multiple output devices are also discussed, with comparisons drawn regarding their power-output capacity and efficiency.\n\nDue to their superior current-handling abilities, bipolar transistors are the favored choice for output stages. While parasitic bipolar transistors can sometimes be used in CMOS output stages, CMOS-based output stages typically do not incorporate bipolar transistors and are detailed in this chapter as well."
},
{
    "text": "The amplifier's output stage must meet several specific criteria. A crucial requirement is to provide a predetermined level of signal power to a load while maintaining low signal distortion. Another key goal in designing the output stage is to reduce the output impedance, ensuring the voltage gain remains largely independent of the load impedance. An effectively designed output stage should meet these performance benchmarks while using minimal quiescent power and not significantly constraining the amplifier's frequency response.\n\nThis chapter will examine various output-stage configurations aimed at fulfilling the aforementioned criteria. The most basic configurations include emitter and source followers. More intricate designs that utilize multiple output devices will also be discussed, along with comparisons of their power-output capabilities and efficiency.\n\nDue to their superior current-handling abilities, bipolar transistors are the favored choice for output stages. While parasitic bipolar transistors can be employed in certain CMOS output stages, CMOS technology-based output stages typically exclude bipolar transistors, and these configurations are detailed in this chapter as well."
},
{
    "text": "The amplifier's output stage must meet various specific criteria. A crucial requirement is to supply a designated level of signal power to the load while maintaining low signal distortion. Another key goal in designing the output stage is to reduce output impedance, ensuring the voltage gain remains largely unaffected by the load impedance. An effectively designed output stage should meet these performance standards while using minimal quiescent power and not significantly restricting the amplifier's frequency response.\n\nThis chapter explores multiple output-stage configurations aimed at fulfilling these requirements. The most basic configurations include emitter and source followers. More intricate stages that utilize multiple output devices are also discussed, with evaluations of their power-output capacity and efficiency.\n\nDue to their superior current-handling abilities, bipolar transistors are the favored choice for output stages. While parasitic bipolar transistors can be employed in certain CMOS output stages, CMOS technology-based output stages typically exclude bipolar transistors, and these are also detailed in this chapter."
},
{
    "text": "The amplifier's output stage must meet several specific criteria. A crucial requirement is to supply a designated level of signal power to the load while maintaining low signal distortion. Another key goal in designing the output stage is to reduce output impedance, ensuring that the voltage gain remains largely independent of the load impedance. An effectively designed output stage should meet these performance benchmarks while using minimal quiescent power and not significantly constraining the amplifier's frequency response.\n\nThis chapter examines various output-stage configurations aimed at fulfilling these requirements. The most basic configurations include emitter and source followers. More intricate designs featuring multiple output devices are also discussed, with comparisons drawn regarding their power-output capacity and efficiency.\n\nThanks to their superior current-handling abilities, bipolar transistors are the favored choice for output stages. While parasitic bipolar transistors can be incorporated in some CMOS output stages, CMOS-based output stages typically exclude bipolar transistors, and such configurations are also detailed in this chapter."
},
{
    "text": "The amplifier's output stage must meet several specific criteria. A key requirement is to deliver a defined level of signal power to the load while maintaining low signal distortion. Another design goal for the output stage is to reduce output impedance, ensuring that the voltage gain remains largely unaffected by the load impedance. An effectively designed output stage should meet these performance criteria while using minimal quiescent power and should not significantly restrict the amplifier's frequency response.\n\nThis chapter explores various output-stage configurations aimed at fulfilling these requirements. The most basic configurations include emitter and source followers. More intricate designs featuring multiple output devices are also discussed, with comparisons drawn regarding their power-output capacity and efficiency.\n\nDue to their superior current-handling abilities, bipolar transistors are the favored choice for output stages. While parasitic bipolar transistors can be employed in some CMOS output stages, CMOS-based output stages typically exclude bipolar transistors, and these configurations are also detailed in this chapter."
},
{
    "text": "The final stage of an amplifier is subject to several specific criteria. A crucial criterion is the ability to supply a designated level of signal power to a load while maintaining signal distortion within acceptable limits. Another key goal in designing the output stage is to reduce the output impedance, ensuring that the voltage gain remains largely independent of the load impedance. An effectively designed output stage should meet these performance criteria while drawing minimal quiescent power and not significantly constraining the amplifier's frequency response.\n\nThis chapter will examine various output-stage configurations aimed at fulfilling the aforementioned criteria. The most basic configurations include emitter and source followers. More intricate designs featuring multiple output devices will also be discussed, with comparative analyses of their power-output capabilities and efficiencies.\n\nOwing to their superior current-handling capabilities, bipolar transistors are the favored choice for output stages. While parasitic bipolar transistors can sometimes be incorporated in CMOS output stages, CMOS technology-based output stages typically exclude bipolar transistors, and such configurations are detailed in this chapter."
},
{
    "text": "An emitter-follower output stage is depicted in Fig. 5.1. For ease of analysis, it is assumed that both positive and negative bias supplies have equal magnitudes of $V_{C C}$, despite potentially differing values in practical applications. When the output voltage $V_{o}$ is zero, the output current $I_{o}$ is also zero. The emitter-follower output device $Q_{1}$ is set to a quiescent current $I_{Q}$ by the current source $Q_{2}$. The output stage is driven by the voltage $V_{i}$, which maintains a quiescent dc value of $V_{b e 1}$ when $V_{o}$ equals 0 V. The bias components $R_{1}$, $R_{3}$, and $Q_{3}$ can be the same as those used for biasing other stages in the circuit. Given that the quiescent current $I_{Q}$ in $Q_{2}$ typically exceeds the reference current $I_{R}$, resistor $R_{2}$ is usually smaller than $R_{1}$ to account for this disparity.\n\nThis circuit configuration can also be realized in CMOS technologies by employing an MOS current source for biasing and utilizing the parasitic bipolar-transistor emitter follower available in standard CMOS processes. However, due to the risk of triggering the pnpn latch-up phenomenon, as discussed in Chapter 2, this setup should be applied cautiously in CMOS technologies with lightly doped substrates. It is crucial to have extensive substrate taps near the emitter follower to manage the substrate current flow effectively."
},
{
    "text": "An emitter-follower output stage is depicted in Fig. 5.1. For ease of analysis, it is assumed that positive and negative bias supplies of identical magnitude $V_{C C}$ are used, even though their values may differ in actual practice. When the output voltage $V_{o}$ is zero, the output current $I_{o}$ is also zero. The emitter-follower output device $Q_{1}$ is set to a quiescent current $I_{Q}$ by the current source $Q_{2}$. The output stage is driven by the voltage $V_{i}$, which maintains a quiescent dc value of $V_{b e 1}$ when $V_{o}$ equals 0 V. The bias components $R_{1}$, $R_{3}$, and $Q_{3}$ can be the same as those used for biasing other stages in the circuit. Typically, since the quiescent current $I_{Q}$ in $Q_{2}$ exceeds the reference current $I_{R}$, resistor $R_{2}$ is usually smaller than $R_{1}$ to account for this disparity.\n\nThis circuit configuration can also be realized in CMOS technologies by employing an MOS current source for biasing and utilizing the parasitic bipolar-transistor emitter follower inherent in standard CMOS processes. However, due to the risk of initiating the pnpn latch-up phenomenon, as detailed in Chapter 2, this setup should be applied cautiously in CMOS technologies with lightly doped substrates. It is crucial to have extensive substrate taps near the emitter follower to capture the substrate current flow."
},
{
    "text": "An emitter-follower output stage is depicted in Fig. 5.1. For ease of analysis, it is assumed that both positive and negative bias supplies have equal magnitudes of $V_{C C}$, despite potentially differing values in actual applications. When the output voltage $V_{o}$ is zero, the output current $I_{o}$ also becomes zero. The emitter-follower output device, $Q_{1}$, is set to a quiescent current $I_{Q}$ by the current source $Q_{2}$. The output stage is driven by the input voltage $V_{i}$, which maintains a quiescent dc value of $V_{b e 1}$ when $V_{o}$ equals 0 V. The biasing components, $R_{1}$, $R_{3}$, and $Q_{3}$, can be the same as those used for biasing other stages within the circuit. Typically, since the quiescent current $I_{Q}$ in $Q_{2}$ exceeds the reference current $I_{R}$, resistor $R_{2}$ is usually smaller than $R_{1}$ to account for this disparity.\n\nThis circuit configuration can also be realized in CMOS technologies by employing an MOS current source for biasing and utilizing the parasitic bipolar-transistor emitter follower inherent in standard CMOS processes. However, due to the risk of triggering the pnpn latch-up phenomenon, as detailed in Chapter 2, this setup should be applied cautiously in CMOS technologies with lightly doped substrates. It is crucial to have extensive substrate taps near the emitter follower to manage the substrate current flow effectively."
},
{
    "text": "An emitter-follower output stage is depicted in Fig. 5.1. For ease of analysis, it is assumed that the positive and negative bias supplies have equal magnitudes of $V_{C C}$, despite potentially differing in actual applications. When the output voltage $V_{o}$ is zero, the output current $I_{o}$ is also zero. The emitter-follower output device $Q_{1}$ is set to a quiescent current $I_{Q}$ by the current source $Q_{2}$. The output stage is driven by the voltage $V_{i}$, which maintains a quiescent dc value of $V_{b e 1}$ when $V_{o}=0 \\mathrm{~V}$. The biasing components $R_{1}, R_{3}$, and $Q_{3}$ can be the same as those used for biasing other stages within the circuit. Given that the quiescent current $I_{Q}$ in $Q_{2}$ typically exceeds the reference current $I_{R}$, resistor $R_{2}$ is usually smaller than $R_{1}$ to account for this disparity.\n\nThis circuit configuration can also be realized in CMOS technologies by employing an MOS current source for biasing and utilizing the parasitic bipolar-transistor emitter follower inherent in standard CMOS processes. However, due to the risk of triggering the pnpn latch-up phenomenon, as detailed in Chapter 2, caution is advised when implementing this setup in CMOS technologies with lightly doped substrates. It is crucial to incorporate extensive substrate taps near the emitter follower to effectively manage the substrate current flow."
},
{
    "text": "An emitter-follower output stage is depicted in Fig. 5.1. For ease of analysis, it is assumed that the positive and negative bias supplies have equal magnitudes of $V_{C C}$, despite potentially differing values in actual practice. When the output voltage $V_{o}$ is zero, the output current $I_{o}$ also equals zero. The emitter-follower output device $Q_{1}$ is set to a quiescent current $I_{Q}$ by the current source $Q_{2}$. The output stage is activated by the voltage $V_{i}$, which maintains a quiescent dc value of $V_{b e 1}$ when $V_{o}$ is 0 V. The biasing components $R_{1}$, $R_{3}$, and $Q_{3}$ can be the same as those used for biasing other stages within the circuit. Given that the quiescent current $I_{Q}$ in $Q_{2}$ typically exceeds the reference current $I_{R}$, resistor $R_{2}$ is generally smaller than $R_{1}$ to account for this disparity.\n\nThis circuit configuration can also be realized in CMOS technologies by employing an MOS current source for biasing and utilizing the parasitic bipolar-transistor emitter follower found in standard CMOS processes. However, due to the risk of initiating the pnpn latch-up phenomenon, as discussed in Chapter 2, this setup should be applied cautiously in CMOS technologies with lightly doped substrates. It is crucial to implement extensive substrate taps near the emitter follower to manage the substrate current flow effectively."
},
{
    "text": "An emitter-follower output stage is depicted in Fig. 5.1. For ease of analysis, equal magnitude positive and negative bias supplies, denoted as $V_{C C}$, are presumed, despite their potential differing values in real scenarios. When the output voltage $V_{o}$ is at zero, the output current $I_{o}$ is similarly zero. The emitter-follower output device, $Q_{1}$, is set to a quiescent current $I_{Q}$ by the current source $Q_{2}$. The output stage is activated by the voltage $V_{i}$, which maintains a quiescent dc value of $V_{b e 1}$ when $V_{o}$ equals 0 V. The biasing components, $R_{1}$, $R_{3}$, and $Q_{3}$, can be the same as those used for biasing other circuit stages. Given that the quiescent current $I_{Q}$ in $Q_{2}$ typically exceeds the reference current $I_{R}$, resistor $R_{2}$ is generally smaller than $R_{1}$ to account for this disparity.\n\nThis circuit configuration can also be realized in CMOS technologies by employing an MOS current source for biasing and utilizing the parasitic bipolar-transistor emitter follower found in standard CMOS processes. However, due to the risk of triggering the pnpn latch-up phenomenon, as detailed in Chapter 2, caution is advised when using this setup in CMOS technologies with lightly doped substrates. It is crucial to implement extensive substrate taps around the emitter follower to manage the substrate current flow effectively."
},
{
    "text": "An emitter-follower output stage is depicted in Fig. 5.1. For ease of analysis, equalmagnitude positive and negative bias supplies, denoted as $V_{C C}$, are presumed, despite potential variations in actual values. When the output voltage $V_{o}$ is zero, the output current $I_{o}$ is similarly zero. The emitter-follower output transistor $Q_{1}$ is set to a quiescent current $I_{Q}$ by the current source $Q_{2}$. The stage is driven by the input voltage $V_{i}$, which maintains a quiescent dc level of $V_{b e 1}$ when $V_{o}$ equals 0 V. The biasing elements $R_{1}, R_{3}$, and $Q_{3}$ can be shared with other stages in the circuit. Typically, the quiescent current $I_{Q}$ in $Q_{2}$ exceeds the reference current $I_{R}$, necessitating that resistor $R_{2}$ be smaller than $R_{1}$ to balance this disparity.\n\nThis circuit configuration can also be realized in CMOS technologies by employing an MOS current source for biasing and utilizing the parasitic bipolar-transistor emitter follower inherent in standard CMOS processes. However, due to the risk of triggering the pnpn latch-up phenomenon, as detailed in Chapter 2, caution is advised when using this setup in CMOS technologies with lightly doped substrates. It is crucial to implement extensive substrate taps near the emitter follower to manage the substrate current flow effectively."
},
{
    "text": "An emitter-follower output stage is depicted in Fig. 5.1. For ease of analysis, equal magnitude positive and negative bias supplies, denoted as $V_{C C}$, are presumed, despite their potential differing values in actual applications. When the output voltage $V_{o}$ is at zero, the output current $I_{o}$ similarly is zero. The emitter-follower output device, $Q_{1}$, is set to a quiescent current $I_{Q}$ by the current source $Q_{2}$. The output stage is activated by the voltage $V_{i}$, which maintains a quiescent dc level of $V_{b e 1}$ when $V_{o}$ equals 0 V. The biasing components, $R_{1}$, $R_{3}$, and $Q_{3}$, can be the same as those used for biasing other stages within the circuit. Given that the quiescent current $I_{Q}$ in $Q_{2}$ typically exceeds the reference current $I_{R}$, resistor $R_{2}$ is generally smaller than $R_{1}$ to account for this disparity.\n\nThis circuit configuration can also be realized in CMOS technologies by employing an MOS current source for biasing and utilizing the parasitic bipolar-transistor emitter follower inherent in standard CMOS processes. However, due to the risk of triggering the pnpn latch-up phenomenon, as detailed in Chapter 2, particularly with large current flows to the substrate, caution is advised when using this setup in CMOS technologies with lightly doped substrates. It is crucial to implement extensive substrate taps near the emitter follower to effectively manage the substrate current flow."
},
{
    "text": "The circuit depicted in Fig. 5.1 is designed to manage substantial signal amplitudes, where the current and voltage fluctuations due to signal presence can be a significant portion of the bias values. The image description for Figure 5.1 outlines an emitter-follower output stage with current-mirror bias, comprising three NPN transistors (Q1, Q2, Q3) and four resistors (R1, R2, R3, RL). The input voltage Vi is applied to the base of Q1, and the output voltage Vo is measured across RL. The circuit is biased using VCC and -VCC voltages, with Q3 serving as a current mirror to provide biasing for Q2.\n\nFigure 5.1 illustrates an emitter-follower output stage with current-mirror bias.\nConsequently, the small-signal analyses previously employed extensively must be applied cautiously in this scenario. Therefore, we initially determine the dc transfer characteristic of the emitter follower. This characteristic facilitates the calculation of the circuit's gain and provides crucial insights into the linearity and, consequently, the distortion performance of the stage.\n\nExamining the circuit in Fig. 5.1, the large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{b e 1}+V_{o} \\tag{5.1}\n\\end{equation*}\n$$\n\nIn this context, the base-emitter voltage $V_{b e 1}$ of $Q_{1}$ cannot be presumed constant and must be expressed in terms of the collector current $I_{c 1}$ of $Q_{1}$ and the saturation current $I_{S}$. If the load resistance $R_{L}$ is relatively small compared to the output resistance of the transistors,\n\n$$\n\\begin{equation*}\nV_{b e 1}=\\frac{k T}{q} \\ln \\left(\\frac{I_{c 1}}{I_{S}}\\right) \\tag{5.2}\n\\end{equation*}\n$$\n\nprovided $Q_{1}$ is in the forward-active region. Additionally,\n\n$$\n\\begin{equation*}\nI_{c 1}=I_{Q}+\\frac{V_{o}}{R_{L}} \\tag{5.3}\n\\end{equation*}\n$$\n\nif $Q_{2}$ is in the forward-active region and $\\beta_{F}$ is assumed to be large. Substituting (5.3) and (5.2) into (5.1) yields\n\n$$\n\\begin{equation*}\nV_{i}=\\frac{k T}{q} \\ln \\left(\\frac{I_{Q}+\\frac{V_{o}}{R_{L}}}{I_{S}}\\right)+V_{o} \\tag{5.4}\n\\end{equation*}\n$$\n\nEquation 5.4 represents a nonlinear relationship between $V_{o}$ and $V_{i}$ when both $Q_{1}$ and $Q_{2}$ are in the forward-active region.\n\nThe transfer characteristic from (5.4) is plotted in Fig. 5.2. Initially, consider the scenario where $R_{L}$ is large, designated as $R_{L 1}$. In this instance, the first term on the right-hand side of (5.4), corresponding to the base-emitter voltage $V_{b e 1}$ of $Q_{1}$, remains nearly constant as $V_{o}$ varies. This outcome arises because the load current is minimal for a large $R_{L}$;\nimage_name:Figure 5.2\ndescription:The graph in Figure 5.2 displays the transfer characteristic, depicting the relationship between the output voltage \\(V_o\\) and the input voltage \\(V_i\\) for a circuit involving transistors \\(Q_1\\) and \\(Q_2\\). The graph plots \\(V_o\\) on the vertical axis and \\(V_i\\) on the horizontal axis.\n\nAxes Labels and Units:\n- **Vertical Axis (\\(V_o\\))**: Indicates the output voltage.\n- **Horizontal Axis (\\(V_i\\))**: Indicates the input voltage.\n\nOverall Behavior and Trends:\nThe graph exhibits distinct regions based on the operational states of transistors \\(Q_1\\) and \\(Q_2\\):\n1. **Region where \\(Q_2\\) is saturated**: At low input voltages, \\(Q_2\\) is saturated, resulting in an output voltage \\(V_o\\) approximately equal to \\(-V_{CC} + V_{CE2(sat)}\\).\n2. **Linear Region**: As \\(V_i\\) increases, the graph transitions to a linear region with a slope of unity, occurring when both transistors are in the forward-active region and \\(Q_1\\) is not yet saturated.\n3. **Region where \\(Q_1\\) is saturated**: At higher input voltages, \\(Q_1\\) becomes saturated, causing the output voltage to plateau at \\(V_{CC} - V_{CE1(sat)}\\).\n\nKey Features and Technical Details:\n- The linear region is offset on the \\(V_i\\) axis by \\(V_{BE1}\\), the base-emitter voltage of \\(Q_1\\).\n- The graph includes specific points such as \\([-V_{CC} + V_{CE1(sat)} + V_{be1}]\\), \\(V_{BE1}\\), and \\((V_{CC} - V_{CE1(sat)} + V_{be1})\\).\n- Transition points between regions are marked by dashed lines, indicating where \\(Q_1\\) cuts off and where \\(Q_1\\) becomes saturated.\n\nAnnotations and Specific Data Points:\n- The point \\(V_{BE1}\\) is highlighted, representing the quiescent value of the base-emitter voltage.\n- The graph includes annotations such as \\(Q_1\\) cutoff and \\(Q_1\\) saturated, indicating the operational regions of the transistors.\n- Load resistances are labeled as \\(R_{L1}\\) and \\(R_{L2}\\), influencing the slope and offset of the linear region.\n\nThis transfer characteristic plot illustrates how varying the input voltage \\(V_i\\) impacts the output voltage \\(V_o\\) across different operating conditions of the transistors, offering insights into the circuit's behavior under varying load resistances.\n\nFigure 5.2 Transfer characteristic of the circuit of Fig. 5.1 for a low $\\left(R_{L 2}\\right)$ and a high ( $R_{L 1}$ ) value of load resistance.\nhence, the current in $Q_{1}$ and $V_{b e 1}$ both remain largely constant as $V_{o}$ changes. Consequently, the central portion of the transfer characteristic for $R_{L}=R_{L 1}$ appears nearly as a straight line with a unity slope, offset on the $V_{i}$ axis by $V_{B E 1}$, the quiescent value of $V_{b e 1}$. This near-linear region depends on both $Q_{1}$ and $Q_{2}$ being in the forward-active region. However, when $V_{i}$ becomes significantly positive or negative, one of these devices saturates, causing an abrupt change in the transfer characteristic's slope.\n\nConsider $V_{i}$ becoming large and positive. The output voltage $V_{o}$ tracks $V_{i}$ until $V_{o}=V_{C C}-$ $V_{C E 1 \\text { (sat) }}$, at which point $Q_{1}$ saturates. The collector-base junction of $Q_{1}$ then becomes forward-biased, allowing substantial currents to flow from base to collector. In practice, the transistor base resistance (and any source resistance present) limits the current in the forward-biased collector-base junction, preventing the internal transistor base voltage from rising significantly higher. Further increases in $V_{i}$ result in minimal changes in $V_{o}$, causing the characteristic to flatten, as depicted in Fig. 5.2. The value of $V_{i}$ required to induce this behavior is slightly greater than the supply voltage due to $V_{b e 1}$ being larger than the saturation voltage $V_{C E(\\text { sat })}$. Thus, the preceding stage often limits the maximum positive output voltage in a practical circuit because a voltage exceeding $V_{C C}$ typically cannot be generated at the base of the output stage. (The portion of the curve for large positive $V_{i}$ where $Q_{1}$ is saturated actually exhibits a positive slope if the effect of the collector series resistance $r_{c}$ of $Q_{1}$ is considered. Regardless, this portion of the transfer characteristic should be avoided due to the significant nonlinearity and substantial reduction in power gain resulting from $Q_{1}$ saturation.)\n\nNow, consider $V_{i}$ becoming large and negative. The output voltage follows the input until $V_{o}=-V_{C C}+V_{C E 2 \\text { (sat) }}$, at which point $Q_{2}$ saturates. (The voltage drop across $R_{2}$ is assumed to be negligible and can be incorporated into the saturation voltage $V_{C E 2 \\text { (sat) }}$ of $Q_{2}$ if necessary.) When $Q_{2}$ saturates, another discontinuity in the transfer curve occurs, leading to an abrupt decrease in the slope. For acceptable distortion performance, the voltage swing must be confined to the region between these two breakpoints. As previously mentioned, the driver stage providing $V_{i}$ usually cannot produce $V_{i}$ values exceeding $V_{C C}$ (if connected to the same supply voltages), thereby setting the upper limit.\n\nNext, consider the scenario where $R_{L}$ in Fig. 5.1 is relatively small. When $V_{o}$ becomes large and negative, the first term in (5.4) can become significantly large. Specifically, this term\nimage_name:(a)\ndescription:The graph labeled \"(a)\" represents an AC input voltage waveform plotted against time. It is a time-domain waveform.\n\n1. **Axes Labels and Units:**\n- The horizontal axis denotes time, labeled as 't'.\n- The vertical axis denotes the AC input voltage, labeled as 'ac input voltage'.\n\n2. **Overall Behavior and Trends:**\n- The graph displays two sinusoidal waveforms. The waveforms are periodic and exhibit oscillatory behavior.\n- The first waveform, labeled ①, has a smaller amplitude and is nested within the second waveform, labeled ②, which has a larger amplitude.\n- Both waveforms are symmetrical around the horizontal axis, indicating no DC offset.\n\n3. **Key Features and Technical Details:**\n- Waveform ① reaches a peak at voltage level \\(V_1\\) and a trough at \\(-V_1\\).\n- Waveform ② reaches a peak at voltage level \\(V_2\\) and a trough at \\(-V_2\\), indicating a higher amplitude than waveform ①.\n- There are no annotations for phase shifts or frequency values, but the periodic nature suggests a consistent frequency for both waveforms.\n\n4. **Annotations and Specific Data Points:**\n- The graph includes horizontal dashed lines marking the voltage levels \\(V_1\\), \\(-V_1\\), \\(V_2\\), and \\(-V_2\\).\n- The waveforms are distinguished by labels ① and ②.\nimage_name:(b)\ndescription:The graph labeled (b) depicts a time-domain waveform graph of the AC output voltage as a function of time (t). The horizontal axis represents time, while the vertical axis represents the AC output voltage. The scale is linear, with significant markers on the voltage axis at levels $V_1$, $V_2$, $-V_1$, $-V_2$, and $-I_Q R_{L2}$.\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform graph showing the behavior of AC output voltage over time.\n\n2. **Axes Labels and Units:**\n- **Horizontal Axis (x-axis):** Represents time (t).\n- **Vertical Axis (y-axis):** Represents AC output voltage.\n- The voltage scale is marked at specific points: $V_1$, $V_2$, $-V_1$, $-V_2$, and $-I_Q R_{L2}$.\n\n3. **Overall Behavior and Trends:**\n- The waveform displays periodic oscillation, resembling a sine wave but with noticeable clipping at the negative peaks.\n- The positive peaks reach up to $V_2$, while the negative peaks are clipped at $-I_Q R_{L2}$, indicating waveform distortion.\n- The waveform is symmetric around the time axis, but the clipping causes the negative half to flatten at the bottom.\n\n4. **Key Features and Technical Details:**\n- The waveform clipping at the negative peaks is marked as \"Waveform clipping.\"\n- The clipping level at $-I_Q R_{L2}$ suggests that the circuit cannot produce output voltages below this threshold, likely due to current limitations described in the context.\n- The waveform maintains its sinusoidal shape on the positive side but is distorted on the negative side due to clipping.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes voltage levels $V_1$ and $V_2$ for reference.\n- The clipping level is explicitly marked at $-I_Q R_{L2}$.\n- Annotations indicate two different input signal levels (1 and 2) corresponding to different amplitudes in the input waveform shown in graph (a).\n\nFigure 5.3 (a) ac input signals applied to the circuit of Fig. 5.1. (b) ac output waveforms corresponding to the inputs in (a) with $R_{L}=R_{L 2}$.\napproaches minus infinity when $V_{o}$ approaches the critical value\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.5}\n\\end{equation*}\n$$\n\nIn this situation, the current drawn from the load $\\left(-V_{o} / R_{L}\\right)$ equals the current $I_{Q}$, and device $Q_{1}$ cuts off, leaving $Q_{2}$ to draw the current $I_{Q}$ from the load. Further decreases in $V_{i}$ result in no change in $V_{o}$, and the transfer characteristic is labeled $R_{L 2}$ in Fig. 5.2. The transfer characteristic for positive $V_{i}$ is similar for both cases.\n\nFor the case $R_{L}=R_{L 2}$, severe waveform distortion occurs if $V_{i}$ is a sinusoid with an amplitude exceeding $I_{Q} R_{L 2}$. Consider the two sinusoidal waveforms in Fig. 5.3a. Waveform (1) has an amplitude $V_{1}<I_{Q} R_{L 2}$, and waveform (2) has an amplitude $V_{2}>I_{Q} R_{L 2}$. If these signals are applied as inputs at $V_{i}$ in Fig. 5.1 (along with a bias voltage), the resulting output waveforms are shown in Fig. $5.3 b$ for $R_{L}=R_{L 2}$. For the smaller input signal, the circuit acts as a near-linear amplifier, producing a nearly sinusoidal output. The output waveform distortion, evident for the larger input, is termed \"clipping\" and must be avoided in normal operation of the circuit as a linear output stage. For a given $I_{Q}$ and $R_{L}$, the onset of clipping restricts the maximum signal that can be handled. Note that if $I_{Q} R_{L}$ is larger than $V_{C C}$, the situation depicted for $R_{L}=R_{L 1}$ in Fig. 5.2 applies, and the output voltage can swing almost to the positive and negative supply voltages before significant distortion occurs."
},
{
    "text": "The circuit depicted in Fig. 5.1 is designed to manage substantial signal amplitudes, meaning the current and voltage fluctuations due to signal presence can be a significant portion of the bias values. As detailed in the image description:\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias**\n- **Components:**\n  - **Q1**: NPN transistor, connections: Collector (C) to VCC, Base (B) to Vi, Emitter (E) to e1c2\n  - **Q2**: NPN transistor, connections: Collector (C) to e1c2, Base (B) to b2a3, Emitter (E) to e2\n  - **Q3**: Diode, connections: Anode (Na) to b2a3, Cathode (Nc) to k3\n  - **R1**: Resistor, value R1, connections: Node 1 (N1) to k3, Node 2 (N2) to -VCC\n  - **R2**: Resistor, value R2, connections: Node 1 (N1) to e2, Node 2 (N2) to -VCC\n  - **R3**: Resistor, value R3, connections: Node 1 (N1) to q2a3, Node 2 (N2) to GND\n  - **RL**: Resistor, value RL, connections: Node 1 (N1) to e1c2, Node 2 (N2) to GND\n\n**Additional Information:**\n- The circuit functions as an emitter-follower output stage with current-mirror bias.\n- It incorporates three NPN transistors (Q1, Q2, Q3) and four resistors (R1, R2, R3, RL).\n- The input voltage Vi is applied to the base of Q1, and the output voltage Vo is measured across RL.\n- The circuit is biased using VCC and -VCC voltages.\n- Q3 serves as a current mirror to provide biasing current for Q2.\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias.**\nConsequently, the small-signal analyses that have been extensively utilized up to this point must be applied cautiously in this scenario. Therefore, we initially determine the dc transfer characteristic of the emitter follower. This characteristic enables the calculation of the circuit's gain and provides crucial insights into the linearity and, consequently, the distortion performance of the stage.\n\nConsider the circuit in Fig. 5.1. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{b e 1}+V_{o} \\tag{5.1}\n\\end{equation*}\n$$\n\nIn this context, the base-emitter voltage $V_{b e 1}$ of $Q_{1}$ cannot be presumed constant but must be expressed in terms of the collector current $I_{c 1}$ of $Q_{1}$ and the saturation current $I_{S}$. If the load resistance $R_{L}$ is relatively small compared to the output resistance of the transistors,\n\n$$\n\\begin{equation*}\nV_{b e 1}=\\frac{k T}{q} \\ln \\left(\\frac{I_{c 1}}{I_{S}}\\right) \\tag{5.2}\n\\end{equation*}\n$$\n\nprovided $Q_{1}$ is in the forward-active region. Additionally,\n\n$$\n\\begin{equation*}\nI_{c 1}=I_{Q}+\\frac{V_{o}}{R_{L}} \\tag{5.3}\n\\end{equation*}\n$$\n\nif $Q_{2}$ is in the forward-active region and $\\beta_{F}$ is assumed to be large. Substituting (5.3) and (5.2) into (5.1) yields\n\n$$\n\\begin{equation*}\nV_{i}=\\frac{k T}{q} \\ln \\left(\\frac{I_{Q}+\\frac{V_{o}}{R_{L}}}{I_{S}}\\right)+V_{o} \\tag{5.4}\n\\end{equation*}\n$$\n\nEquation 5.4 is a nonlinear equation relating $V_{o}$ and $V_{i}$ when both $Q_{1}$ and $Q_{2}$ are in the forward-active region.\n\nThe transfer characteristic from (5.4) is plotted in Fig. 5.2. Initially, consider the scenario where $R_{L}$ is large, designated as $R_{L 1}$. In this case, the first term on the right-hand side of (5.4), representing the base-emitter voltage $V_{b e 1}$ of $Q_{1}$, remains nearly constant as $V_{o}$ varies. This outcome arises because the load current is minimal for a large $R_{L}$;\n**Figure 5.2**\n**Description:**\nThe graph in Figure 5.2 illustrates the transfer characteristic, depicting the relationship between the output voltage \\(V_o\\) and the input voltage \\(V_i\\) for a circuit involving transistors \\(Q_1\\) and \\(Q_2\\). The graph is plotted with \\(V_o\\) on the vertical axis and \\(V_i\\) on the horizontal axis.\n\n**Axes Labels and Units:**\n- **Vertical Axis (\\(V_o\\))**: Indicates the output voltage.\n- **Horizontal Axis (\\(V_i\\))**: Indicates the input voltage.\n\n**Overall Behavior and Trends:**\nThe graph exhibits distinct regions based on the operational states of transistors \\(Q_1\\) and \\(Q_2\\):\n1. **Region where \\(Q_2\\) is saturated**: At low input voltages, \\(Q_2\\) is saturated, and the output voltage \\(V_o\\) is approximately \\(-V_{CC} + V_{CE2(sat)}\\).\n2. **Linear Region**: As \\(V_i\\) increases, the graph displays a linear region with a slope of unity, occurring when both transistors are in the forward-active region and \\(Q_1\\) is not yet saturated.\n3. **Region where \\(Q_1\\) is saturated**: At higher input voltages, \\(Q_1\\) becomes saturated, and the output voltage stabilizes at \\(V_{CC} - V_{CE1(sat)}\\).\n\n**Key Features and Technical Details:**\n- The linear region is offset on the \\(V_i\\) axis by \\(V_{BE1}\\), the base-emitter voltage of \\(Q_1\\).\n- The graph includes specific points such as \\([-V_{CC} + V_{CE1(sat)} + V_{be1}]\\), \\(V_{BE1}\\), and \\((V_{CC} - V_{CE1(sat)} + V_{be1})\\).\n- Transition points between regions are marked by dashed lines, indicating where \\(Q_1\\) cuts off and where \\(Q_1\\) becomes saturated.\n\n**Annotations and Specific Data Points:**\n- The point \\(V_{BE1}\\) is marked, indicating the quiescent base-emitter voltage.\n- Annotations such as \\(Q_1\\) cutoff and \\(Q_1\\) saturated highlight the operational regions of the transistors.\n- Load resistances \\(R_{L1}\\) and \\(R_{L2}\\) are marked, influencing the slope and offset of the linear region.\n\nThis transfer characteristic plot shows how varying \\(V_i\\) affects \\(V_o\\) under different operating conditions, providing insights into the circuit's behavior with varying load resistances.\n\n**Figure 5.2: Transfer characteristic of the circuit of Fig. 5.1 for low (\\(R_{L 2}\\)) and high (\\(R_{L 1}\\)) load resistance values.**\nconsequently, the current in $Q_{1}$ and $V_{b e 1}$ are both nearly constant as $V_{o}$ changes in this scenario. As a result, the central part of the transfer characteristic for $R_{L}=R_{L 1}$ is almost a straight line with a unity slope, offset on the $V_{i}$ axis by $V_{B E 1}$, the quiescent value of $V_{b e 1}$. This near-linear region depends on both $Q_{1}$ and $Q_{2}$ being in the forward-active region. However, as $V_{i}$ becomes significantly positive or negative, one of these devices saturates, causing an abrupt change in the slope of the transfer characteristic.\n\nConsider $V_{i}$ becoming large and positive. The output voltage $V_{o}$ follows $V_{i}$ until $V_{o}=V_{C C}-V_{C E 1 \\text { (sat) }}$, at which point $Q_{1}$ saturates. The collector-base junction of $Q_{1}$ then becomes forward-biased, allowing large currents to flow from the base to the collector. In practice, the transistor base resistance (and any source resistance present) limits the current in the forward-biased collector-base junction, preventing the internal base voltage from rising significantly higher. Further increases in $V_{i}$ thus result in minimal changes in $V_{o}$, causing the characteristic to flatten, as shown in Fig. 5.2. The value of $V_{i}$ required to cause this behavior is slightly larger than the supply voltage because $V_{b e 1}$ exceeds the saturation voltage $V_{C E(\\text { sat })}$. Consequently, the preceding stage often limits the maximum positive output voltage in a practical circuit since a voltage greater than $V_{C C}$ usually cannot be generated at the base of the output stage. (The portion of the curve for large positive $V_{i}$ where $Q_{1}$ is saturated actually exhibits a positive slope if the effect of the collector series resistance $r_{c}$ of $Q_{1}$ is considered. However, this portion of the transfer characteristic should be avoided because the saturation of $Q_{1}$ leads to significant nonlinearity and a substantial reduction in power gain.)\n\nNow consider $V_{i}$ becoming large and negative. The output voltage follows the input until $V_{o}=-V_{C C}+V_{C E 2 \\text { (sat) }}$, at which point $Q_{2}$ saturates. (The voltage drop across $R_{2}$ is assumed to be small and is neglected; it could be included in the saturation voltage $V_{C E 2 \\text { (sat) }}$ of $Q_{2}$ if necessary.) When $Q_{2}$ saturates, another discontinuity in the transfer curve occurs, and the slope decreases abruptly. For acceptable distortion performance, the voltage swing must be limited to the region between these two break points. As previously mentioned, the driver stage supplying $V_{i}$ usually cannot produce values of $V_{i}$ exceeding $V_{C C}$ (if it is connected to the same supply voltages), and thus the driver itself sets the upper limit.\n\nNext, consider the case where $R_{L}$ in Fig. 5.1 has a relatively small value. When $V_{o}$ becomes large and negative, the first term in (5.4) can approach minus infinity as $V_{o}$ nears the critical value\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.5}\n\\end{equation*}\n$$\n\nIn this situation, the current drawn from the load $\\left(-V_{o} / R_{L}\\right)$ equals the current $I_{Q}$, and device $Q_{1}$ cuts off, leaving $Q_{2}$ to draw the current $I_{Q}$ from the load. Further decreases in $V_{i}$ produce no change in $V_{o}$, resulting in the transfer characteristic labeled $R_{L 2}$ in Fig. 5.2. The transfer characteristic for positive $V_{i}$ is similar in both cases.\n\nFor the scenario $R_{L}=R_{L 2}$, the stage will exhibit severe waveform distortion if $V_{i}$ is a sinusoid with an amplitude exceeding $I_{Q} R_{L 2}$. Consider the two sinusoidal waveforms in Fig. 5.3a. Waveform (1) has an amplitude $V_{1}<I_{Q} R_{L 2}$, and waveform (2) has an amplitude $V_{2}>I_{Q} R_{L 2}$. If these signals are applied as inputs at $V_{i}$ in Fig. 5.1 (along with a bias voltage), the resulting output waveforms are shown in Fig. 5.3b for $R_{L}=R_{L 2}$. For the smaller input signal, the circuit acts as a near-linear amplifier, producing a nearly sinusoidal output. The distortion apparent in the larger input signal, termed \"clipping,\" must be avoided in normal operation of the circuit as a linear output stage. For given $I_{Q}$ and $R_{L}$, the onset of clipping limits the maximum signal that can be handled. Note that if $I_{Q} R_{L}$ exceeds $V_{C C}$, the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.2 applies, and the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "The circuit depicted in Fig. 5.1 is designed to manage substantial signal amplitudes, where the current and voltage fluctuations due to signal presence can be a significant portion of the bias values. As described:\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias**\n- **Components:**\n  - **Q1**: NPN transistor, connections: Collector (C) to VCC, Base (B) to Vi, Emitter (E) to e1c2\n  - **Q2**: NPN transistor, connections: Collector (C) to e1c2, Base (B) to b2a3, Emitter (E) to e2\n  - **Q3**: Diode, connections: Anode (Na) to b2a3, Cathode (Nc) to k3\n  - **R1**: Resistor, value R1, connections: Node 1 (N1) to k3, Node 2 (N2) to -VCC\n  - **R2**: Resistor, value R2, connections: Node 1 (N1) to e2, Node 2 (N2) to -VCC\n  - **R3**: Resistor, value R3, connections: Node 1 (N1) to q2a3, Node 2 (N2) to GND\n  - **RL**: Resistor, value RL, connections: Node 1 (N1) to e1c2, Node 2 (N2) to GND\n\n**Additional Information:**\nThe circuit is an emitter-follower output stage with current-mirror bias, utilizing three NPN transistors (Q1, Q2, Q3) and four resistors (R1, R2, R3, RL). The input voltage Vi is applied to the base of Q1, and the output voltage Vo is measured across RL. The circuit is biased using VCC and -VCC voltages, with Q3 serving as a current mirror to provide biasing current for Q2.\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias.**\n\nConsequently, the small-signal analyses previously employed extensively must be applied cautiously in this scenario. Therefore, we initially determine the dc transfer characteristic of the emitter follower. This characteristic facilitates the calculation of the circuit's gain and provides crucial insights into the linearity and distortion performance of the stage.\n\nConsider the circuit in Fig. 5.1. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{b e 1}+V_{o} \\tag{5.1}\n\\end{equation*}\n$$\n\nIn this context, the base-emitter voltage $V_{b e 1}$ of $Q_{1}$ cannot be presumed constant but must be expressed in terms of the collector current $I_{c 1}$ of $Q_{1}$ and the saturation current $I_{S}$. If the load resistance $R_{L}$ is minimal compared to the output resistance of the transistors,\n\n$$\n\\begin{equation*}\nV_{b e 1}=\\frac{k T}{q} \\ln \\left(\\frac{I_{c 1}}{I_{S}}\\right) \\tag{5.2}\n\\end{equation*}\n$$\n\nprovided $Q_{1}$ is in the forward-active region. Additionally,\n\n$$\n\\begin{equation*}\nI_{c 1}=I_{Q}+\\frac{V_{o}}{R_{L}} \\tag{5.3}\n\\end{equation*}\n$$\n\nif $Q_{2}$ is in the forward-active region and $\\beta_{F}$ is assumed large. Substituting (5.3) and (5.2) into (5.1) yields\n\n$$\n\\begin{equation*}\nV_{i}=\\frac{k T}{q} \\ln \\left(\\frac{I_{Q}+\\frac{V_{o}}{R_{L}}}{I_{S}}\\right)+V_{o} \\tag{5.4}\n\\end{equation*}\n$$\n\nEquation 5.4 is a nonlinear equation relating $V_{o}$ and $V_{i}$ when both $Q_{1}$ and $Q_{2}$ are in the forward-active region.\n\nThe transfer characteristic from (5.4) is plotted in Fig. 5.2. Initially, consider the scenario where $R_{L}$ is large, designated as $R_{L 1}$. In this case, the first term on the right-hand side of (5.4), representing the base-emitter voltage $V_{b e 1}$ of $Q_{1}$, remains nearly constant as $V_{o}$ varies. This outcome arises because the load current is small for a large $R_{L}$;\n**Figure 5.2:**\nThe graph in Figure 5.2 illustrates the transfer characteristic, depicting the relationship between the output voltage \\(V_o\\) and the input voltage \\(V_i\\) for a circuit involving transistors \\(Q_1\\) and \\(Q_2\\). The graph is plotted with \\(V_o\\) on the vertical axis and \\(V_i\\) on the horizontal axis.\n\n**Axes Labels and Units:**\n- **Vertical Axis (\\(V_o\\))**: Indicates the output voltage.\n- **Horizontal Axis (\\(V_i\\))**: Indicates the input voltage.\n\n**Overall Behavior and Trends:**\nThe graph exhibits distinct regions based on the operational states of transistors \\(Q_1\\) and \\(Q_2\\):\n1. **Region where \\(Q_2\\) is saturated**: At low input voltages, \\(Q_2\\) is saturated, resulting in an output voltage \\(V_o\\) approximately equal to \\(-V_{CC} + V_{CE2(sat)}\\).\n2. **Linear Region**: As \\(V_i\\) increases, the graph displays a linear region with a slope of unity, occurring when both transistors are in the forward-active region and \\(Q_1\\) is not yet saturated.\n3. **Region where \\(Q_1\\) is saturated**: At higher input voltages, \\(Q_1\\) becomes saturated, causing the output voltage to plateau at \\(V_{CC} - V_{CE1(sat)}\\).\n\n**Key Features and Technical Details:**\n- The linear region is offset on the \\(V_i\\) axis by \\(V_{BE1}\\), the base-emitter voltage of \\(Q_1\\).\n- The graph includes specific points such as \\([-V_{CC} + V_{CE1(sat)} + V_{be1}]\\), \\(V_{BE1}\\), and \\((V_{CC} - V_{CE1(sat)} + V_{be1})\\).\n- Transition points between regions are marked by dashed lines, indicating where \\(Q_1\\) cuts off and where \\(Q_1\\) becomes saturated.\n\n**Annotations and Specific Data Points:**\n- The point \\(V_{BE1}\\) is marked, indicating the quiescent value of the base-emitter voltage.\n- The graph includes annotations such as \\(Q_1\\) cutoff and \\(Q_1\\) saturated, highlighting the operational regions of the transistors.\n- Load resistances are marked as \\(R_{L1}\\) and \\(R_{L2}\\), influencing the slope and offset of the linear region.\n\nThis transfer characteristic plot demonstrates how varying the input voltage \\(V_i\\) impacts the output voltage \\(V_o\\) across different operating conditions of the transistors, offering insight into the circuit's behavior under varying load resistances.\n\n**Figure 5.2: Transfer characteristic of the circuit of Fig. 5.1 for low ( $R_{L 2}$ ) and high ( $R_{L 1}$ ) load resistance values.**\nconsequently, the current in $Q_{1}$ and $V_{b e 1}$ are both nearly constant as $V_{o}$ changes. Thus, the central part of the transfer characteristic for $R_{L}=R_{L 1}$ is almost a straight line with a unity slope, offset on the $V_{i}$ axis by $V_{B E 1}$, the quiescent value of $V_{b e 1}$. This near-linear region depends on both $Q_{1}$ and $Q_{2}$ being in the forward-active region. However, as $V_{i}$ becomes significantly positive or negative, one of these devices saturates, causing an abrupt change in the transfer characteristic's slope.\n\nConsider $V_{i}$ becoming large and positive. The output voltage $V_{o}$ tracks $V_{i}$ until $V_{o}=V_{C C}-V_{C E 1 \\text { (sat) }}$, at which point $Q_{1}$ saturates. The collector-base junction of $Q_{1}$ then becomes forward-biased, allowing large currents to flow from the base to the collector. In practice, the transistor base resistance (and any source resistance present) limits the current in the forward-biased collector-base junction, preventing the internal base voltage from rising significantly higher. Further increases in $V_{i}$ result in minimal changes in $V_{o}$, causing the characteristic to flatten, as shown in Fig. 5.2. The value of $V_{i}$ required to trigger this behavior is slightly larger than the supply voltage due to $V_{b e 1}$ being greater than the saturation voltage $V_{C E(\\text { sat })}$. Thus, the preceding stage often limits the maximum positive output voltage in a practical circuit because a voltage exceeding $V_{C C}$ usually cannot be generated at the base of the output stage. (The portion of the curve for large positive $V_{i}$ where $Q_{1}$ is saturated actually exhibits a positive slope if the effect of the collector series resistance $r_{c}$ of $Q_{1}$ is considered. Regardless, this portion of the transfer characteristic should be avoided due to the significant nonlinearity and substantial reduction in power gain it introduces.)\n\nNow, consider $V_{i}$ becoming large and negative. The output voltage follows the input until $V_{o}=-V_{C C}+V_{C E 2 \\text { (sat) }}$, at which point $Q_{2}$ saturates. (The voltage drop across $R_{2}$ is assumed small and neglected, though it could be included with the saturation voltage $V_{C E 2 \\text { (sat) }}$ of $Q_{2}$ if necessary.) When $Q_{2}$ saturates, another discontinuity in the transfer curve occurs, and the slope decreases abruptly. For acceptable distortion performance, the voltage swing must be confined to the region between these two break points. As previously mentioned, the driver stage providing $V_{i}$ usually cannot produce values of $V_{i}$ exceeding $V_{C C}$ (if it is connected to the same supply voltages), and thus the driver itself sets the upper limit.\n\nNext, consider the scenario where $R_{L}$ in Fig. 5.1 is relatively small. When $V_{o}$ becomes large and negative, the first term in (5.4) can approach minus infinity as $V_{o}$ nears the critical value\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.5}\n\\end{equation*}\n$$\n\nIn this situation, the current drawn from the load $\\left(-V_{o} / R_{L}\\right)$ equals the current $I_{Q}$, and device $Q_{1}$ cuts off, leaving $Q_{2}$ to draw the current $I_{Q}$ from the load. Further decreases in $V_{i}$ result in no change in $V_{o}$, producing the transfer characteristic labeled $R_{L 2}$ in Fig. 5.2. The transfer characteristic for positive $V_{i}$ is similar in both cases.\n\nFor the case $R_{L}=R_{L 2}$, severe waveform distortion occurs if $V_{i}$ is a sinusoid with an amplitude exceeding $I_{Q} R_{L 2}$. Consider the two sinusoidal waveforms in Fig. 5.3a. Waveform (1) has an amplitude $V_{1}<I_{Q} R_{L 2}$, and waveform (2) has an amplitude $V_{2}>I_{Q} R_{L 2}$. If these signals are applied as inputs at $V_{i}$ in Fig. 5.1 (along with a bias voltage), the resulting output waveforms are shown in Fig. 5.3b for $R_{L}=R_{L 2}$. For the smaller input signal, the circuit acts as a near-linear amplifier, producing a nearly sinusoidal output. The distortion evident for the larger input, termed \"clipping,\" must be avoided for the circuit to operate linearly as an output stage. For given $I_{Q}$ and $R_{L}$, the onset of clipping limits the maximum signal that can be handled. Note that if $I_{Q} R_{L}$ exceeds $V_{C C}$, the situation depicted for $R_{L}=R_{L 1}$ in Fig. 5.2 applies, allowing the output voltage to swing almost to the positive and negative supply voltages before significant distortion occurs."
},
{
    "text": "The circuit depicted in Fig. 5.1 is designed to manage substantial signal amplitudes, where the current and voltage fluctuations due to signal presence can be a significant portion of the bias values. As described in the image details:\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias**\n- **Components:**\n  - **Q1**: NPN transistor, connections: C to VCC, B to Vi, E to e1c2\n  - **Q2**: NPN transistor, connections: C to e1c2, B to b2a3, E to e2\n  - **Q3**: Diode, connections: Na to b2a3, Nc to k3\n  - **R1**: Resistor, value R1, connections: N1 to k3, N2 to -VCC\n  - **R2**: Resistor, value R2, connections: N1 to e2, N2 to -VCC\n  - **R3**: Resistor, value R3, connections: N1 to q2a3, N2 to GND\n  - **RL**: Resistor, value RL, connections: N1 to e1c2, N2 to GND\n\n**Additional Information:**\nThe circuit functions as an emitter-follower output stage with current-mirror bias, employing three NPN transistors (Q1, Q2, Q3) and four resistors (R1, R2, R3, RL). The input voltage Vi is applied to the base of Q1, and the output voltage Vo is measured across RL. The circuit is biased using VCC and -VCC voltages, with Q3 serving as a current mirror to provide biasing current for Q2.\n\nGiven the large signal amplitudes, the small-signal analyses previously utilized must be applied cautiously in this context. Therefore, we initially determine the dc transfer characteristic of the emitter follower. This characteristic is crucial for calculating the circuit's gain and provides essential insights into its linearity and distortion performance.\n\nAnalyzing the circuit in Fig. 5.1, the large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i} = V_{b e 1} + V_{o} \\tag{5.1}\n\\end{equation*}\n$$\n\nIn this scenario, the base-emitter voltage $V_{b e 1}$ of Q1 cannot be considered constant and must be expressed in terms of Q1's collector current $I_{c 1}$ and the saturation current $I_{S}$. If the load resistance $R_{L}$ is relatively small compared to the output resistance of the transistors,\n\n$$\n\\begin{equation*}\nV_{b e 1} = \\frac{k T}{q} \\ln \\left(\\frac{I_{c 1}}{I_{S}}\\right) \\tag{5.2}\n\\end{equation*}\n$$\n\nprovided Q1 is in the forward-active region. Additionally,\n\n$$\n\\begin{equation*}\nI_{c 1} = I_{Q} + \\frac{V_{o}}{R_{L}} \\tag{5.3}\n\\end{equation*}\n$$\n\nif Q2 is in the forward-active region and $\\beta_{F}$ is assumed to be large. Substituting (5.3) and (5.2) into (5.1) yields:\n\n$$\n\\begin{equation*}\nV_{i} = \\frac{k T}{q} \\ln \\left(\\frac{I_{Q} + \\frac{V_{o}}{R_{L}}}{I_{S}}\\right) + V_{o} \\tag{5.4}\n\\end{equation*}\n$$\n\nEquation 5.4 is a nonlinear equation relating Vo and Vi when both Q1 and Q2 are in the forward-active region.\n\nThe transfer characteristic from (5.4) is plotted in Fig. 5.2. Initially, consider the case where $R_{L}$ is large, designated as $R_{L 1}$. Here, the first term on the right-hand side of (5.4), representing Q1's base-emitter voltage $V_{b e 1}$, remains nearly constant as Vo varies. This is due to the low current in the load for a large $R_{L}$, resulting in minimal changes in the current through Q1 and $V_{b e 1}$. Consequently, the central part of the transfer characteristic for $R_{L} = R_{L 1}$ appears almost as a straight line with a unity slope, offset on the Vi axis by $V_{B E 1}$, the quiescent value of $V_{b e 1}$. This near-linear region depends on both Q1 and Q2 being in the forward-active region. However, as Vi becomes significantly positive or negative, one of the devices saturates, causing an abrupt change in the transfer characteristic's slope.\n\nWhen Vi is large and positive, Vo follows Vi until Vo reaches $V_{C C} - V_{C E 1 \\text{ (sat) }}$, at which point Q1 saturates. The collector-base junction of Q1 then becomes forward-biased, allowing substantial currents to flow from the base to the collector. In practice, the transistor's base resistance and any source resistance limit this current, preventing the internal base voltage from rising significantly further. Thus, additional increases in Vi result in minimal changes in Vo, causing the characteristic to flatten, as illustrated in Fig. 5.2. The Vi value required for this behavior is slightly above the supply voltage due to $V_{b e 1}$ being greater than the saturation voltage $V_{C E(\\text{ sat })}$. Often, the preceding stage limits the maximum positive output voltage in practical circuits since a voltage exceeding $V_{C C}$ cannot typically be generated at the output stage's base. (The portion of the curve for large positive Vi where Q1 is saturated actually exhibits a positive slope if the effect of Q1's collector series resistance $r_{c}$ is considered. However, this part of the transfer characteristic should be avoided due to significant nonlinearity and a substantial reduction in power gain.)\n\nFor large negative Vi, Vo follows Vi until Vo reaches $-V_{C C} + V_{C E 2 \\text{ (sat) }}$, at which point Q2 saturates. (The voltage drop across R2 is assumed to be minor and is neglected, though it could be included in Q2's saturation voltage $V_{C E 2 \\text{ (sat) }}$ if necessary.) When Q2 saturates, another discontinuity in the transfer curve occurs, and the slope decreases abruptly. For acceptable distortion performance, the voltage swing must be confined to the region between these two breakpoints. As previously mentioned, the driver stage providing Vi usually cannot produce Vi values exceeding $V_{C C}$ (if connected to the same supply voltages), thus setting the upper limit.\n\nNext, consider the scenario where $R_{L}$ in Fig. 5.1 is relatively small. When Vo becomes large and negative, the first term in (5.4) can become very large. Specifically, this term approaches negative infinity as Vo approaches the critical value:\n\n$$\n\\begin{equation*}\nV_{o} = -I_{Q} R_{L} \\tag{5.5}\n\\end{equation*}\n$$\n\nIn this situation, the current drawn from the load $\\left(-V_{o} / R_{L}\\right)$ equals the current $I_{Q}$, causing Q1 to cut off and leaving Q2 to draw the current $I_{Q}$ from the load. Further decreases in Vi do not alter Vo, resulting in the transfer characteristic labeled $R_{L 2}$ in Fig. 5.2. The transfer characteristic for positive Vi is similar in both cases.\n\nFor $R_{L} = R_{L 2}$, severe waveform distortion occurs if Vi is a sinusoid with an amplitude exceeding $I_{Q} R_{L 2}$. Consider the two sinusoidal waveforms in Fig. 5.3a: waveform (1) with amplitude $V_{1} < I_{Q} R_{L 2}$ and waveform (2) with amplitude $V_{2} > I_{Q} R_{L 2}$. When these signals are applied as inputs at Vi in Fig. 5.1 (along with a bias voltage), the resulting output waveforms are shown in Fig. 5.3b for $R_{L} = R_{L 2}$. For the smaller input signal, the circuit behaves as a near-linear amplifier, producing a nearly sinusoidal output. However, the larger input signal causes noticeable waveform distortion, termed \"clipping,\" which must be avoided for the circuit to operate as a linear output stage. For given $I_{Q}$ and $R_{L}$, the onset of clipping limits the maximum signal that can be handled. Note that if $I_{Q} R_{L}$ exceeds $V_{C C}$, the situation for $R_{L} = R_{L 1}$ in Fig. 5.2 applies, allowing the output voltage to swing almost to the positive and negative supply voltages before significant distortion occurs."
},
{
    "text": "The circuit depicted in Fig. 5.1 is designed to manage substantial signal amplitudes, meaning the current and voltage fluctuations due to signal presence can constitute a significant portion of the bias values. As illustrated:\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias**\n\n- **Components:**\n  - **Q1**: NPN transistor, connections: C to VCC, B to Vi, E to e1c2\n  - **Q2**: NPN transistor, connections: C to e1c2, B to b2a3, E to e2\n  - **Q3**: Diode, connections: Na to b2a3, Nc to k3\n  - **R1**: Resistor, value R1, connections: N1 to k3, N2 to -VCC\n  - **R2**: Resistor, value R2, connections: N1 to e2, N2 to -VCC\n  - **R3**: Resistor, value R3, connections: N1 to q2a3, N2 to GND\n  - **RL**: Resistor, value RL, connections: N1 to e1c2, N2 to GND\n\n**Additional Information:**\nThe circuit functions as an emitter-follower output stage with current-mirror bias, utilizing three NPN transistors (Q1, Q2, Q3) and four resistors (R1, R2, R3, RL). The input voltage Vi is applied to the base of Q1, and the output voltage Vo is measured across RL. The circuit is biased using VCC and -VCC voltages, with Q3 serving as a current mirror to provide biasing current for Q2.\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias.**\n\nConsequently, the small-signal analyses previously employed extensively must be applied cautiously in this scenario. Therefore, we initially determine the dc transfer characteristic of the emitter follower. This characteristic facilitates the calculation of the circuit's gain and provides crucial insights into the linearity and distortion performance of the stage.\n\nConsider the circuit in Fig. 5.1. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i} = V_{b e 1} + V_{o} \\tag{5.1}\n\\end{equation*}\n$$\n\nIn this context, the base-emitter voltage $V_{b e 1}$ of $Q_{1}$ cannot be presumed constant but must be expressed in terms of the collector current $I_{c 1}$ of $Q_{1}$ and the saturation current $I_{S}$. If the load resistance $R_{L}$ is relatively small compared to the output resistance of the transistors,\n\n$$\n\\begin{equation*}\nV_{b e 1} = \\frac{k T}{q} \\ln \\left(\\frac{I_{c 1}}{I_{S}}\\right) \\tag{5.2}\n\\end{equation*}\n$$\n\nprovided $Q_{1}$ is in the forward-active region. Additionally,\n\n$$\n\\begin{equation*}\nI_{c 1} = I_{Q} + \\frac{V_{o}}{R_{L}} \\tag{5.3}\n\\end{equation*}\n$$\n\nif $Q_{2}$ is in the forward-active region and $\\beta_{F}$ is assumed to be large. Substituting (5.3) and (5.2) into (5.1) yields:\n\n$$\n\\begin{equation*}\nV_{i} = \\frac{k T}{q} \\ln \\left(\\frac{I_{Q} + \\frac{V_{o}}{R_{L}}}{I_{S}}\\right) + V_{o} \\tag{5.4}\n\\end{equation*}\n$$\n\nEquation 5.4 represents a nonlinear relationship between $V_{o}$ and $V_{i}$ when both $Q_{1}$ and $Q_{2}$ are in the forward-active region.\n\nThe transfer characteristic from (5.4) is plotted in Fig. 5.2. Initially, consider the scenario where $R_{L}$ is large, designated as $R_{L 1}$. Here, the first term on the right-hand side of (5.4), representing the base-emitter voltage $V_{b e 1}$ of $Q_{1}$, remains nearly constant as $V_{o}$ varies. This outcome is due to the minimal current in the load for a large $R_{L}$;\n\n**Figure 5.2:**\nThe graph in Figure 5.2 illustrates the transfer characteristic, depicting the relationship between the output voltage \\(V_o\\) and the input voltage \\(V_i\\) for a circuit involving transistors \\(Q_1\\) and \\(Q_2\\). The graph is plotted with \\(V_o\\) on the vertical axis and \\(V_i\\) on the horizontal axis.\n\n**Axes Labels and Units:**\n- **Vertical Axis (\\(V_o\\))**: Indicates the output voltage.\n- **Horizontal Axis (\\(V_i\\))**: Indicates the input voltage.\n\n**Overall Behavior and Trends:**\nThe graph delineates different regions based on the operational states of transistors \\(Q_1\\) and \\(Q_2\\):\n1. **Region where \\(Q_2\\) is saturated**: At low input voltages, \\(Q_2\\) is saturated, and the output voltage \\(V_o\\) approximates \\(-V_{CC} + V_{CE2(sat)}\\).\n2. **Linear Region**: As \\(V_i\\) increases, the graph exhibits a linear region with a slope of unity, occurring when both transistors are in the forward-active region and \\(Q_1\\) is not yet saturated.\n3. **Region where \\(Q_1\\) is saturated**: At higher input voltages, \\(Q_1\\) becomes saturated, and the output voltage stabilizes at \\(V_{CC} - V_{CE1(sat)}\\).\n\n**Key Features and Technical Details:**\n- The linear region is offset on the \\(V_i\\) axis by \\(V_{BE1}\\), the base-emitter voltage of \\(Q_1\\).\n- The graph includes specific points such as \\([-V_{CC} + V_{CE1(sat)} + V_{be1}]\\), \\(V_{BE1}\\), and \\((V_{CC} - V_{CE1(sat)} + V_{be1})\\).\n- Transition points between regions are marked by dashed lines, indicating where \\(Q_1\\) cuts off and where \\(Q_1\\) becomes saturated.\n\n**Annotations and Specific Data Points:**\n- The point \\(V_{BE1}\\) is marked, indicating the quiescent value of the base-emitter voltage.\n- The graph includes annotations such as \\(Q_1\\) cutoff and \\(Q_1\\) saturated, highlighting the operational regions of the transistors.\n- Load resistances are marked as \\(R_{L1}\\) and \\(R_{L2}\\), influencing the slope and offset of the linear region.\n\nThis transfer characteristic plot elucidates how varying the input voltage \\(V_i\\) impacts the output voltage \\(V_o\\) across different operating conditions of the transistors, offering insights into the circuit's behavior under varying load resistances.\n\n**Figure 5.2: Transfer characteristic of the circuit of Fig. 5.1 for a low $\\left(R_{L 2}\\right)$ and a high ( $R_{L 1}$ ) value of load resistance.**\n\nhence, the current in $Q_{1}$ and $V_{b e 1}$ both remain largely constant as $V_{o}$ changes. Consequently, the central portion of the transfer characteristic for $R_{L} = R_{L 1}$ is nearly a straight line with a unity slope, offset on the $V_{i}$ axis by $V_{B E 1}$, the quiescent value of $V_{b e 1}$. This near-linear region depends on both $Q_{1}$ and $Q_{2}$ being in the forward-active region. However, as $V_{i}$ becomes significantly positive or negative, one of these devices saturates, causing an abrupt change in the slope of the transfer characteristic.\n\nConsider $V_{i}$ becoming large and positive. The output voltage $V_{o}$ tracks $V_{i}$ until $V_{o} = V_{C C} - V_{C E 1 \\text { (sat) }}$, at which point $Q_{1}$ saturates. The collector-base junction of $Q_{1}$ then becomes forward-biased, allowing large currents to flow from the base to the collector. In practice, the transistor base resistance (and any source resistance present) limits the current in the forward-biased collector-base junction, preventing the voltage at the internal transistor base from rising significantly higher. Further increases in $V_{i}$ result in minimal changes in $V_{o}$, causing the characteristic to flatten, as shown in Fig. 5.2. The value of $V_{i}$ required to induce this behavior is slightly larger than the supply voltage due to $V_{b e 1}$ being greater than the saturation voltage $V_{C E(\\text { sat })}$. Thus, the preceding stage often limits the maximum positive output voltage in a practical circuit because a voltage exceeding $V_{C C}$ typically cannot be generated at the base of the output stage. (The portion of the curve for $V_{i}$ large positive where $Q_{1}$ is saturated actually exhibits a positive slope if the effect of the collector series resistance $r_{c}$ of $Q_{1}$ is considered. Regardless, this portion of the transfer characteristic should be avoided due to the significant nonlinearity and substantial reduction in power gain it causes.)\n\nNow, consider $V_{i}$ becoming large and negative. The output voltage follows the input until $V_{o} = -V_{C C} + V_{C E 2 \\text { (sat) }}$, at which point $Q_{2}$ saturates. (The voltage drop across $R_{2}$ is assumed to be small and is neglected; it could be included with the saturation voltage $V_{C E 2 \\text { (sat) }}$ of $Q_{2}$ if necessary.) When $Q_{2}$ saturates, another discontinuity in the transfer curve occurs, and the slope decreases abruptly. For acceptable distortion performance in the circuit, the voltage swing must be confined to the region between these two break points. As previously mentioned, the driver stage providing $V_{i}$ usually cannot produce values of $V_{i}$ exceeding $V_{C C}$ (if it is connected to the same supply voltages), and thus the driver itself imposes the upper limit.\n\nNext, consider the case where $R_{L}$ in Fig. 5.1 has a relatively small value. When $V_{o}$ becomes large and negative, the first term in (5.4) can approach minus infinity as $V_{o}$ nears the critical value\n\n$$\n\\begin{equation*}\nV_{o} = -I_{Q} R_{L} \\tag{5.5}\n\\end{equation*}\n$$\n\nIn this situation, the current drawn from the load $\\left(-V_{o} / R_{L}\\right)$ equals the current $I_{Q}$, and device $Q_{1}$ cuts off, leaving $Q_{2}$ to draw the current $I_{Q}$ from the load. Further decreases in $V_{i}$ do not alter $V_{o}$, resulting in the transfer characteristic labeled $R_{L 2}$ in Fig. 5.2. The transfer characteristic for positive $V_{i}$ is similar in both cases.\n\nFor the scenario $R_{L} = R_{L 2}$, the stage will produce severe waveform distortion if $V_{i}$ is a sinusoid with an amplitude exceeding $I_{Q} R_{L 2}$. Consider the two sinusoidal waveforms in Fig. 5.3a. Waveform (1) has an amplitude $V_{1} < I_{Q} R_{L 2}$, and waveform (2) has an amplitude $V_{2} > I_{Q} R_{L 2}$. If these signals are applied as inputs at $V_{i}$ in Fig. 5.1 (along with a bias voltage), the resulting output waveforms are shown in Fig. 5.3b for $R_{L} = R_{L 2}$. For the smaller input signal, the circuit behaves as a near-linear amplifier, producing a nearly sinusoidal output. The distortion evident in the output waveform for the larger input signal, termed \"clipping,\" must be avoided in normal circuit operation as a linear output stage. For given $I_{Q}$ and $R_{L}$ values, the onset of clipping restricts the maximum signal that can be handled. Note that if $I_{Q} R_{L}$ exceeds $V_{C C}$, the situation depicted for $R_{L} = R_{L 1}$ in Fig. 5.2 applies, and the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "The circuit depicted in Fig. 5.1 is designed to manage substantial signal amplitudes, where the current and voltage fluctuations due to signal presence can constitute a significant portion of the bias values. As illustrated:\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias**\n- **Components:**\n  - **Q1**: NPN transistor, connections: Collector (C) to VCC, Base (B) to Vi, Emitter (E) to e1c2\n  - **Q2**: NPN transistor, connections: Collector (C) to e1c2, Base (B) to b2a3, Emitter (E) to e2\n  - **Q3**: Diode, connections: Anode (Na) to b2a3, Cathode (Nc) to k3\n  - **R1**: Resistor, value: R1, connections: Node 1 (N1) to k3, Node 2 (N2) to -VCC\n  - **R2**: Resistor, value: R2, connections: Node 1 (N1) to e2, Node 2 (N2) to -VCC\n  - **R3**: Resistor, value: R3, connections: Node 1 (N1) to q2a3, Node 2 (N2) to GND\n  - **RL**: Resistor, value: RL, connections: Node 1 (N1) to e1c2, Node 2 (N2) to GND\n\n**Additional Information:**\nThe circuit is an emitter-follower output stage with current-mirror bias, utilizing three NPN transistors (Q1, Q2, Q3) and four resistors (R1, R2, R3, RL). The input voltage Vi is applied to the base of Q1, and the output voltage Vo is measured across RL. The circuit is biased using VCC and -VCC voltages, with Q3 serving as a current mirror to provide biasing current for Q2.\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias.**\nConsequently, the small-signal analyses previously employed extensively must be applied cautiously in this scenario. Therefore, we initially determine the dc transfer characteristic of the emitter follower. This characteristic facilitates the calculation of the circuit's gain and provides crucial insights into the linearity and distortion performance of the stage.\n\nConsider the circuit in Fig. 5.1. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{b e 1}+V_{o} \\tag{5.1}\n\\end{equation*}\n$$\n\nIn this context, the base-emitter voltage $V_{b e 1}$ of $Q_{1}$ cannot be presumed constant but must be expressed in terms of the collector current $I_{c 1}$ of $Q_{1}$ and the saturation current $I_{S}$. If the load resistance $R_{L}$ is minimal compared to the output resistance of the transistors,\n\n$$\n\\begin{equation*}\nV_{b e 1}=\\frac{k T}{q} \\ln \\left(\\frac{I_{c 1}}{I_{S}}\\right) \\tag{5.2}\n\\end{equation*}\n$$\n\nprovided $Q_{1}$ is in the forward-active region. Additionally,\n\n$$\n\\begin{equation*}\nI_{c 1}=I_{Q}+\\frac{V_{o}}{R_{L}} \\tag{5.3}\n\\end{equation*}\n$$\n\nif $Q_{2}$ is in the forward-active region and $\\beta_{F}$ is assumed large. Substituting (5.3) and (5.2) into (5.1) yields\n\n$$\n\\begin{equation*}\nV_{i}=\\frac{k T}{q} \\ln \\left(\\frac{I_{Q}+\\frac{V_{o}}{R_{L}}}{I_{S}}\\right)+V_{o} \\tag{5.4}\n\\end{equation*}\n$$\n\nEquation 5.4 is a nonlinear equation relating $V_{o}$ and $V_{i}$ when both $Q_{1}$ and $Q_{2}$ are in the forward-active region.\n\nThe transfer characteristic from (5.4) is plotted in Fig. 5.2. Initially, consider the scenario where $R_{L}$ is large, designated as $R_{L 1}$. In this case, the first term on the right-hand side of (5.4), representing the base-emitter voltage $V_{b e 1}$ of $Q_{1}$, remains nearly constant as $V_{o}$ varies. This outcome arises because the load current is minimal for a large $R_{L}$;\n**Figure 5.2:**\n**Description:**\nThe graph in Figure 5.2 illustrates the transfer characteristic, depicting the relationship between the output voltage \\(V_o\\) and the input voltage \\(V_i\\) for a circuit involving transistors \\(Q_1\\) and \\(Q_2\\). The graph is plotted with \\(V_o\\) on the vertical axis and \\(V_i\\) on the horizontal axis.\n\n**Axes Labels and Units:**\n- **Vertical Axis (\\(V_o\\))**: Output voltage.\n- **Horizontal Axis (\\(V_i\\))**: Input voltage.\n\n**Overall Behavior and Trends:**\nThe graph displays distinct regions based on the operation of transistors \\(Q_1\\) and \\(Q_2\\):\n1. **Region where \\(Q_2\\) is saturated**: At low input voltages, \\(Q_2\\) is saturated, and \\(V_o\\) is approximately \\(-V_{CC} + V_{CE2(sat)}\\).\n2. **Linear Region**: As \\(V_i\\) increases, the graph shows a linear region with a unity slope, occurring when both transistors are in the forward-active region and \\(Q_1\\) is not yet saturated.\n3. **Region where \\(Q_1\\) is saturated**: At higher input voltages, \\(Q_1\\) saturates, and \\(V_o\\) levels off at \\(V_{CC} - V_{CE1(sat)}\\).\n\n**Key Features and Technical Details:**\n- The linear region is offset on the \\(V_i\\) axis by \\(V_{BE1}\\), the base-emitter voltage of \\(Q_1\\).\n- The graph includes specific points such as \\([-V_{CC} + V_{CE1(sat)} + V_{be1}]\\), \\(V_{BE1}\\), and \\((V_{CC} - V_{CE1(sat)} + V_{be1})\\).\n- Transition points between regions are marked by dashed lines, indicating where \\(Q_1\\) cuts off and saturates.\n\n**Annotations and Specific Data Points:**\n- The point \\(V_{BE1}\\) is marked, indicating the quiescent base-emitter voltage.\n- Annotations like \\(Q_1\\) cutoff and \\(Q_1\\) saturated highlight the operational regions of the transistors.\n- Load resistances \\(R_{L1}\\) and \\(R_{L2}\\) are marked, affecting the slope and offset of the linear region.\n\nThis transfer characteristic plot shows how varying \\(V_i\\) affects \\(V_o\\) under different operating conditions, providing insights into the circuit's behavior with varying load resistances.\n\n**Figure 5.2: Transfer characteristic of the circuit of Fig. 5.1 for low (\\(R_{L 2}\\)) and high (\\(R_{L 1}\\)) load resistance values.**\nhence, the current in $Q_{1}$ and $V_{b e 1}$ remain largely constant as $V_{o}$ changes. Consequently, the central part of the transfer characteristic for $R_{L}=R_{L 1}$ is nearly a straight line with a unity slope, offset on the $V_{i}$ axis by $V_{B E 1}$, the quiescent value of $V_{b e 1}$. This near-linear region depends on both $Q_{1}$ and $Q_{2}$ being in the forward-active region. However, as $V_{i}$ becomes significantly positive or negative, one of these devices saturates, causing an abrupt change in the slope of the transfer characteristic.\n\nConsider $V_{i}$ becoming large and positive. The output voltage $V_{o}$ follows $V_{i}$ until $V_{o}=V_{C C}-V_{C E 1 \\text { (sat) }}$, at which point $Q_{1}$ saturates. The collector-base junction of $Q_{1}$ then becomes forward-biased, allowing substantial currents to flow from the base to the collector. In practice, the transistor base resistance (and any source resistance present) limits the current in the forward-biased collector-base junction, preventing the internal base voltage from rising significantly higher. Further increases in $V_{i}$ result in minimal changes in $V_{o}$, causing the characteristic to flatten, as shown in Fig. 5.2. The $V_{i}$ value required to trigger this behavior is slightly larger than the supply voltage due to $V_{b e 1}$ being greater than the saturation voltage $V_{C E(\\text { sat })}$. Thus, the preceding stage often limits the maximum positive output voltage in a practical circuit because a voltage exceeding $V_{C C}$ typically cannot be generated at the base of the output stage. (The portion of the curve for large positive $V_{i}$ where $Q_{1}$ is saturated actually exhibits a positive slope if the effect of the collector series resistance $r_{c}$ of $Q_{1}$ is considered. Nonetheless, this portion of the transfer characteristic should be avoided due to the significant nonlinearity and substantial reduction in power gain it introduces.)\n\nNow consider $V_{i}$ becoming large and negative. The output voltage tracks the input until $V_{o}=-V_{C C}+V_{C E 2 \\text { (sat) }}$, at which point $Q_{2}$ saturates. (The voltage drop across $R_{2}$ is assumed small and neglected, but it could be included in the saturation voltage $V_{C E 2 \\text { (sat) }}$ of $Q_{2}$ if necessary.) When $Q_{2}$ saturates, another discontinuity in the transfer curve occurs, and the slope decreases abruptly. For acceptable distortion performance, the voltage swing must be confined to the region between these two break points. As previously mentioned, the driver stage supplying $V_{i}$ usually cannot produce $V_{i}$ values exceeding $V_{C C}$ (if connected to the same supply voltages), and thus the driver itself sets the upper limit.\n\nNext, consider the scenario where $R_{L}$ in Fig. 5.1 is relatively small. When $V_{o}$ becomes large and negative, the first term in (5.4) can approach minus infinity as $V_{o}$ nears the critical value\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.5}\n\\end{equation*}\n$$\n\nIn this situation, the current drawn from the load $\\left(-V_{o} / R_{L}\\right)$ equals the current $I_{Q}$, and $Q_{1}$ cuts off, leaving $Q_{2}$ to draw the current $I_{Q}$ from the load. Further decreases in $V_{i}$ result in no change in $V_{o}$, and the transfer characteristic is labeled $R_{L 2}$ in Fig. 5.2. The transfer characteristic for positive $V_{i}$ is similar in both cases.\n\nFor the case $R_{L}=R_{L 2}$, severe waveform distortion occurs if $V_{i}$ is a sinusoid with an amplitude exceeding $I_{Q} R_{L 2}$. Consider the two sinusoidal waveforms in Fig. 5.3a. Waveform (1) has an amplitude $V_{1}<I_{Q} R_{L 2}$, and waveform (2) has an amplitude $V_{2}>I_{Q} R_{L 2}$. If these signals are applied as inputs at $V_{i}$ in Fig. 5.1 (along with a bias voltage), the resulting output waveforms are shown in Fig. 5.3b for $R_{L}=R_{L 2}$. For the smaller input signal, the circuit behaves as a near-linear amplifier, producing a nearly sinusoidal output. The distortion evident in the larger input signal, termed \"clipping,\" must be avoided for the circuit to operate as a linear output stage. For given $I_{Q}$ and $R_{L}$, the onset of clipping limits the maximum signal that can be handled. Note that if $I_{Q} R_{L}$ exceeds $V_{C C}$, the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.2 applies, and the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "The circuit depicted in Fig. 5.1 is designed to manage substantial signal amplitudes, where the current and voltage fluctuations due to signal presence can constitute a significant portion of the bias values. The configuration is an emitter-follower output stage with current-mirror bias, incorporating three NPN transistors (Q1, Q2, Q3) and four resistors (R1, R2, R3, RL). The input voltage Vi is introduced at the base of Q1, and the output voltage Vo is measured across RL. The circuit is powered by VCC and -VCC voltages, with Q3 functioning as a current mirror to provide biasing for Q2.\n\nDue to these large signal amplitudes, the small-signal analyses typically employed must be applied cautiously. Consequently, our initial step is to determine the dc transfer characteristic of the emitter follower. This characteristic is crucial for calculating the circuit's gain and for providing insights into its linearity and distortion performance.\n\nAnalyzing the circuit in Fig. 5.1, the large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{b e 1}+V_{o} \\tag{5.1}\n\\end{equation*}\n$$\n\nHere, the base-emitter voltage $V_{b e 1}$ of Q1 is not constant and must be expressed in terms of Q1's collector current $I_{c 1}$ and the saturation current $I_{S}$. If the load resistance $R_{L}$ is relatively small compared to the transistors' output resistance,\n\n$$\n\\begin{equation*}\nV_{b e 1}=\\frac{k T}{q} \\ln \\left(\\frac{I_{c 1}}{I_{S}}\\right) \\tag{5.2}\n\\end{equation*}\n$$\n\nprovided Q1 is in the forward-active region. Additionally,\n\n$$\n\\begin{equation*}\nI_{c 1}=I_{Q}+\\frac{V_{o}}{R_{L}} \\tag{5.3}\n\\end{equation*}\n$$\n\nif Q2 is in the forward-active region and $\\beta_{F}$ is considered large. Substituting (5.3) and (5.2) into (5.1) yields\n\n$$\n\\begin{equation*}\nV_{i}=\\frac{k T}{q} \\ln \\left(\\frac{I_{Q}+\\frac{V_{o}}{R_{L}}}{I_{S}}\\right)+V_{o} \\tag{5.4}\n\\end{equation*}\n$$\n\nEquation 5.4 is a nonlinear relationship between $V_{o}$ and $V_{i}$ when both Q1 and Q2 are in the forward-active region.\n\nThe transfer characteristic from (5.4) is illustrated in Fig. 5.2. Initially, consider the scenario where $R_{L}$ is large, designated as $R_{L 1}$. In this instance, the first term on the right-hand side of (5.4), representing Q1's base-emitter voltage $V_{b e 1}$, remains nearly constant as $V_{o}$ varies. This is because the load current is minimal for a large $R_{L}$, resulting in both the current in Q1 and $V_{b e 1}$ being almost constant as $V_{o}$ changes. Consequently, the central part of the transfer characteristic for $R_{L}=R_{L 1}$ appears as an almost straight line with a unity slope, offset on the $V_{i}$ axis by $V_{B E 1}$, the quiescent value of $V_{b e 1}$. This near-linear region depends on both Q1 and Q2 being in the forward-active region. However, as $V_{i}$ becomes significantly positive or negative, one of the devices saturates, causing an abrupt change in the transfer characteristic's slope.\n\nWhen $V_{i}$ is highly positive, $V_{o}$ follows $V_{i}$ until $V_{o}=V_{C C}-V_{C E 1 \\text { (sat) }}$, at which point Q1 saturates. The collector-base junction of Q1 then becomes forward-biased, allowing substantial currents to flow from the base to the collector. In practice, the transistor's base resistance and any source resistance limit this current, preventing the internal base voltage from rising significantly. Further increases in $V_{i}$ result in minimal changes in $V_{o}$, causing the characteristic to flatten, as depicted in Fig. 5.2. The $V_{i}$ value causing this behavior is slightly above the supply voltage due to $V_{b e 1}$ being greater than the saturation voltage $V_{C E(\\text { sat })}$. Often, the preceding stage limits the maximum positive output voltage because a voltage exceeding $V_{C C}$ cannot typically be generated at the output stage's base. (The portion of the curve for highly positive $V_{i}$ where Q1 is saturated would actually have a positive slope if Q1's collector series resistance $r_{c}$ is considered. Nonetheless, this part of the transfer characteristic should be avoided due to significant nonlinearity and a substantial reduction in power gain.)\n\nFor highly negative $V_{i}$, $V_{o}$ follows the input until $V_{o}=-V_{C C}+V_{C E 2 \\text { (sat) }}$, at which point Q2 saturates. (The voltage drop across R2 is assumed negligible and can be included in Q2's saturation voltage $V_{C E 2 \\text { (sat) }}$ if necessary.) Q2's saturation introduces another discontinuity in the transfer curve, causing the slope to decrease abruptly. To maintain acceptable distortion performance, the voltage swing must be confined between these two breakpoints. As previously mentioned, the driver stage usually cannot produce $V_{i}$ values exceeding $V_{C C}$ in magnitude (if connected to the same supply voltages), thus setting the upper limit.\n\nNow, consider a scenario where $R_{L}$ in Fig. 5.1 is relatively small. When $V_{o}$ becomes highly negative, the first term in (5.4) can become very large. Specifically, this term approaches negative infinity as $V_{o}$ nears the critical value\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.5}\n\\end{equation*}\n$$\n\nIn this situation, the current drawn from the load $\\left(-V_{o} / R_{L}\\right)$ equals $I_{Q}$, causing Q1 to cutoff and leaving Q2 to draw $I_{Q}$ from the load. Further decreases in $V_{i}$ do not alter $V_{o}$, resulting in the transfer characteristic labeled $R_{L 2}$ in Fig. 5.2. The transfer characteristic for positive $V_{i}$ is similar in both cases.\n\nFor $R_{L}=R_{L 2}$, severe waveform distortion occurs if $V_{i}$ is a sinusoid with an amplitude exceeding $I_{Q} R_{L 2}$. Referring to the two sinusoidal waveforms in Fig. 5.3a, waveform (1) has an amplitude $V_{1}<I_{Q} R_{L 2}$, while waveform (2) has an amplitude $V_{2}>I_{Q} R_{L 2}$. When these signals are applied as inputs at $V_{i}$ in Fig. 5.1 (along with a bias voltage), the resulting output waveforms are shown in Fig. 5.3b for $R_{L}=R_{L 2}$. For the smaller input signal, the circuit behaves nearly linearly, producing a near-sinusoidal output. However, the larger input signal leads to apparent output waveform distortion, known as \"clipping,\" which should be avoided for the circuit to function as a linear output stage. For given $I_{Q}$ and $R_{L}$ values, clipping onset limits the maximum signal the circuit can handle. Note that if $I_{Q} R_{L}$ exceeds $V_{C C}$, the situation for $R_{L}=R_{L 1}$ in Fig. 5.2 applies, allowing the output voltage to swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "The circuit depicted in Fig. 5.1 is designed to manage substantial signal amplitudes, where the current and voltage fluctuations due to signal presence can be a significant portion of the bias values. As illustrated:\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias**\n- **Components:**\n  - **Q1:** NPN transistor, connections: C to VCC, B to Vi, E to e1c2\n  - **Q2:** NPN transistor, connections: C to e1c2, B to b2a3, E to e2\n  - **Q3:** Diode, connections: Na to b2a3, Nc to k3\n  - **R1:** Resistor, value R1, connections: N1 to k3, N2 to -VCC\n  - **R2:** Resistor, value R2, connections: N1 to e2, N2 to -VCC\n  - **R3:** Resistor, value R3, connections: N1 to q2a3, N2 to GND\n  - **RL:** Resistor, value RL, connections: N1 to e1c2, N2 to GND\n\n**Additional Information:**\nThe circuit is an emitter-follower output stage with current-mirror bias, utilizing three NPN transistors (Q1, Q2, Q3) and four resistors (R1, R2, R3, RL). The input voltage Vi is applied to the base of Q1, and the output voltage Vo is measured across RL. The circuit is biased using VCC and -VCC voltages, with Q3 serving as a current mirror to provide biasing current for Q2.\n\n**Figure 5.1: Emitter-follower output stage with current-mirror bias.**\nConsequently, the small-signal analyses commonly employed up to this point must be applied cautiously in this scenario. Therefore, we initially determine the dc transfer characteristic of the emitter follower. This characteristic facilitates the calculation of the circuit's gain and provides crucial insights into the linearity and, consequently, the distortion performance of the stage.\n\nConsider the circuit in Fig. 5.1. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{b e 1}+V_{o} \\tag{5.1}\n\\end{equation*}\n$$\n\nIn this context, the base-emitter voltage $V_{b e 1}$ of $Q_{1}$ cannot be presumed constant but must be expressed in terms of the collector current $I_{c 1}$ of $Q_{1}$ and the saturation current $I_{S}$. If the load resistance $R_{L}$ is relatively small compared to the output resistance of the transistors,\n\n$$\n\\begin{equation*}\nV_{b e 1}=\\frac{k T}{q} \\ln \\left(\\frac{I_{c 1}}{I_{S}}\\right) \\tag{5.2}\n\\end{equation*}\n$$\n\nprovided $Q_{1}$ is in the forward-active region. Additionally,\n\n$$\n\\begin{equation*}\nI_{c 1}=I_{Q}+\\frac{V_{o}}{R_{L}} \\tag{5.3}\n\\end{equation*}\n$$\n\nif $Q_{2}$ is in the forward-active region and $\\beta_{F}$ is assumed to be large. Substituting (5.3) and (5.2) into (5.1) yields\n\n$$\n\\begin{equation*}\nV_{i}=\\frac{k T}{q} \\ln \\left(\\frac{I_{Q}+\\frac{V_{o}}{R_{L}}}{I_{S}}\\right)+V_{o} \\tag{5.4}\n\\end{equation*}\n$$\n\nEquation 5.4 represents a nonlinear relationship between $V_{o}$ and $V_{i}$ when both $Q_{1}$ and $Q_{2}$ are in the forward-active region.\n\nThe transfer characteristic from (5.4) is plotted in Fig. 5.2. Initially, consider the scenario where $R_{L}$ is large, designated as $R_{L 1}$. In this case, the first term on the right-hand side of (5.4), representing the base-emitter voltage $V_{b e 1}$ of $Q_{1}$, remains nearly constant as $V_{o}$ varies. This outcome is due to the observation that the current in the load is minimal for a large $R_{L}$;\n\n**Figure 5.2:**\n**Description:**\nThe graph in Figure 5.2 illustrates the transfer characteristic, depicting the relationship between the output voltage \\(V_o\\) and the input voltage \\(V_i\\) for a circuit involving transistors \\(Q_1\\) and \\(Q_2\\). The graph is plotted with \\(V_o\\) on the vertical axis and \\(V_i\\) on the horizontal axis.\n\n**Axes Labels and Units:**\n- **Vertical Axis (\\(V_o\\))**: Indicates the output voltage.\n- **Horizontal Axis (\\(V_i\\))**: Indicates the input voltage.\n\n**Overall Behavior and Trends:**\nThe graph exhibits distinct regions based on the operational states of transistors \\(Q_1\\) and \\(Q_2\\):\n1. **Region where \\(Q_2\\) is saturated**: At low input voltages, \\(Q_2\\) is saturated, and the output voltage \\(V_o\\) is approximately \\(-V_{CC} + V_{CE2(sat)}\\).\n2. **Linear Region**: As \\(V_i\\) increases, the graph shows a linear region with a slope of unity, occurring when both transistors are in the forward-active region and \\(Q_1\\) is not yet saturated.\n3. **Region where \\(Q_1\\) is saturated**: At higher input voltages, \\(Q_1\\) saturates, and the output voltage stabilizes at \\(V_{CC} - V_{CE1(sat)}\\).\n\n**Key Features and Technical Details:**\n- The linear region is offset on the \\(V_i\\) axis by \\(V_{BE1}\\), the base-emitter voltage of \\(Q_1\\).\n- The graph includes specific points such as \\([-V_{CC} + V_{CE1(sat)} + V_{be1}]\\), \\(V_{BE1}\\), and \\((V_{CC} - V_{CE1(sat)} + V_{be1})\\).\n- Transition points between regions are marked by dashed lines, indicating where \\(Q_1\\) cuts off and saturates.\n\n**Annotations and Specific Data Points:**\n- The point \\(V_{BE1}\\) is marked, indicating the quiescent base-emitter voltage.\n- The graph includes annotations like \\(Q_1\\) cutoff and \\(Q_1\\) saturated, highlighting the operational regions of the transistors.\n- Load resistances \\(R_{L1}\\) and \\(R_{L2}\\) are marked, influencing the slope and offset of the linear region.\n\nThis transfer characteristic plot demonstrates how varying \\(V_i\\) affects \\(V_o\\) under different operating conditions, providing insights into the circuit's behavior with varying load resistances.\n\n**Figure 5.2: Transfer characteristic of the circuit of Fig. 5.1 for low (\\(R_{L 2}\\)) and high (\\(R_{L 1}\\)) load resistance values.**\nconsequently, the current in $Q_{1}$ and $V_{b e 1}$ remain largely constant as $V_{o}$ changes. Thus, the central part of the transfer characteristic for $R_{L}=R_{L 1}$ appears nearly as a straight line with a unity slope, offset on the $V_{i}$ axis by $V_{B E 1}$, the quiescent value of $V_{b e 1}$. This near-linear region depends on both $Q_{1}$ and $Q_{2}$ being in the forward-active region. However, as $V_{i}$ becomes significantly positive or negative, one of these devices saturates, causing an abrupt change in the slope of the transfer characteristic.\n\nConsider $V_{i}$ becoming large and positive. The output voltage $V_{o}$ follows $V_{i}$ until $V_{o}=V_{C C}-V_{C E 1 \\text { (sat) }}$, at which point $Q_{1}$ saturates. The collector-base junction of $Q_{1}$ then becomes forward-biased, allowing large currents to flow from the base to the collector. In practice, the transistor base resistance (and any source resistance present) limits the current in the forward-biased collector-base junction, preventing the internal base voltage from rising significantly higher. Further increases in $V_{i}$ result in minimal changes in $V_{o}$, causing the characteristic to flatten, as shown in Fig. 5.2. The $V_{i}$ value required to induce this behavior is slightly larger than the supply voltage due to $V_{b e 1}$ being greater than the saturation voltage $V_{C E(\\text { sat })}$. Consequently, the preceding stage often limits the maximum positive output voltage in practical circuits because a voltage exceeding $V_{C C}$ usually cannot be generated at the output stage base. (The portion of the curve for large positive $V_{i}$ where $Q_{1}$ is saturated actually exhibits a positive slope if the effect of the collector series resistance $r_{c}$ of $Q_{1}$ is considered. Regardless, this portion of the transfer characteristic should be avoided due to the significant nonlinearity and substantial reduction in power gain it introduces.)\n\nNow, consider $V_{i}$ becoming large and negative. The output voltage tracks the input until $V_{o}=-V_{C C}+V_{C E 2 \\text { (sat) }}$, at which point $Q_{2}$ saturates. (The voltage drop across $R_{2}$ is assumed to be small and is neglected, but it could be included in the saturation voltage $V_{C E 2 \\text { (sat) }}$ of $Q_{2}$ if necessary.) When $Q_{2}$ saturates, another discontinuity in the transfer curve occurs, and the slope decreases abruptly. For acceptable distortion performance, the voltage swing must be confined to the region between these two break points. As previously mentioned, the driver stage providing $V_{i}$ usually cannot produce $V_{i}$ values exceeding $V_{C C}$ (if connected to the same supply voltages), thus setting the upper limit.\n\nNext, consider the case where $R_{L}$ in Fig. 5.1 is relatively small. When $V_{o}$ becomes large and negative, the first term in (5.4) can approach minus infinity as $V_{o}$ reaches the critical value\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.5}\n\\end{equation*}\n$$\n\nIn this situation, the current drawn from the load $\\left(-V_{o} / R_{L}\\right)$ equals the current $I_{Q}$, and device $Q_{1}$ cuts off, leaving $Q_{2}$ to draw the current $I_{Q}$ from the load. Further decreases in $V_{i}$ do not alter $V_{o}$, resulting in the transfer characteristic labeled $R_{L 2}$ in Fig. 5.2. The transfer characteristic for positive $V_{i}$ is similar in both cases.\n\nFor $R_{L}=R_{L 2}$, severe waveform distortion occurs if $V_{i}$ is a sinusoid with an amplitude exceeding $I_{Q} R_{L 2}$. Consider the two sinusoidal waveforms in Fig. 5.3a. Waveform (1) has an amplitude $V_{1}<I_{Q} R_{L 2}$, and waveform (2) has an amplitude $V_{2}>I_{Q} R_{L 2}$. If these signals are applied as inputs at $V_{i}$ in Fig. 5.1 (along with a bias voltage), the resulting output waveforms are shown in Fig. 5.3b for $R_{L}=R_{L 2}$. For the smaller input signal, the circuit acts as a near-linear amplifier, producing a nearly sinusoidal output. The distortion evident for the larger input, termed \"clipping,\" must be avoided in normal operation as a linear output stage. For a given $I_{Q}$ and $R_{L}$, the onset of clipping limits the maximum signal that can be handled. Note that if $I_{Q} R_{L}$ exceeds $V_{C C}$, the situation for $R_{L}=R_{L 1}$ in Fig. 5.2 applies, allowing the output voltage to swing almost to the positive and negative supply voltages before significant distortion occurs."
},
{
    "text": "An in-depth understanding of the circuit illustrated in Fig. 5.1 can be achieved by examining Fig. 5.4, which depicts three distinct load lines superimposed on the $I_{c}-V_{ce}$ characteristics of transistor $Q_{1}$. The equation corresponding to the image in Fig. 5.4 is presented as follows:\n\n$$\nV_{ce1}=V_{CC}-(I_{c1}-I_{Q})R_{L} \\tag{5.6}\n$$\n\nThis equation holds true when both $Q_{1}$ and $Q_{2}$ are operating in the forward-active region. The values of $V_{ce1}$ and $I_{c1}$ are related by Equation 5.6 for any given input voltage $V_{i}$, and the line encompasses the quiescent point $Q$, where $I_{c1}=I_{Q}$ and $V_{ce1}=V_{CC}$. Equation 5.6 is depicted in Fig. 5.4 for load resistances $R_{L1}$, $R_{L2}$, and $R_{L3}$, with the device's operating point moving along these lines as $V_{i}$ varies. As $V_{i}$ increases and $V_{ce1}$ decreases, $Q_{1}$ eventually saturates, as demonstrated in Fig. 5.2. Conversely, as $V_{i}$ decreases and $V_{ce1}$ increases, two possibilities arise, as previously discussed. If the load resistance $R_{L}$ is high ($R_{L1}$), the output voltage $V_{o}$ decreases, and $V_{ce1}$ increases until $Q_{2}$ saturates. Hence, the maximum possible value for $V_{ce1}$ is $[2V_{CC} - V_{CE2}(sat)]$, as indicated in Fig. 5.4. However, if $R_{L}$ is low ($R_{L2}$), the maximum negative output voltage, as shown in Fig. 5.2, is $-I_{Q}R_{L2}$, and the maximum possible $V_{ce1}$ is $(V_{CC} + I_{Q}R_{L2})$.\n\nNo discussion has been made regarding the maximum voltage constraints of the output stage. As explained in Chapter 1, avalanche breakdown in a bipolar transistor occurs at $V_{ce}=B V_{CEO}$ in the common-emitter configuration, which represents the worst-case scenario for breakdown voltage. In a cautious design, the $V_{ce}$ value in the circuit of Fig. 5.1 should always be less than $B V_{CEO}$ by a suitable safety margin. In the previous analysis, the maximum $V_{ce1}$ value achievable in this circuit for any load resistance was determined to be approximately $2V_{CC}$, necessitating that $B V_{CEO}$ must exceed this value.\n\nLet's now consider the power dynamics within the circuit. When sinusoidal signals are present, the power dissipated in various components fluctuates with time. We are concerned with both the instantaneous power dissipation and the average power dissipation. Instantaneous power is crucial when assessing transistor dissipation with low-frequency or DC signals, as the transistor's junction temperature tends to rise and fall with the instantaneous power dissipated, thereby limiting the maximum permissible instantaneous power dissipation for safe device operation.\n\nAverage power levels are significant because the power delivered to a load is usually specified as an average value. Moreover, if an output stage only handles high-frequency signals, the transistor junction temperature will not significantly vary throughout a cycle, making the average device power dissipation the limiting factor.\n\nConsidering the output signal power that can be supplied to load $R_{L}$ when a sinusoidal input is applied at $V_{i}$, and assuming that $V_{o}$ is approximately sinusoidal, the average output power delivered to $R_{L}$ is given by:\n\n$$\nP_{L}=\\frac{1}{2}\\hat{V}_{o}\\hat{I}_{o} \\tag{5.7}\n$$\n\nwhere $\\hat{V}_{o}$ and $\\hat{I}_{o}$ represent the amplitudes (peak to zero) of the output sinusoidal voltage and current, respectively. As previously discussed, the maximum output signal amplitude that can be achieved before clipping occurs depends on the $R_{L}$ value. If $P_{L|max}$ denotes the maximum $P_{L}$ achievable before clipping with sinusoidal signals, then:\n\n$$\nP_{L|max}=\\frac{1}{2}\\hat{V}_{o m}\\hat{I}_{o m} \\tag{5.7a}\n$$\n\nwhere $\\hat{V}_{o m}$ and $\\hat{I}_{o m}$ are the maximum values of $\\hat{V}_{o}$ and $\\hat{I}_{o}$ that can be reached before clipping occurs. Consider the scenario with a high load resistance, $R_{L1}$. Figures 5.2 and 5.4 reveal that clipping occurs symmetrically in this case, leading to:\n\n$$\n\\hat{V}_{o m}=V_{CC}-V_{CE(sat)} \\tag{5.8}\n$$\n\nassuming equal saturation voltages in $Q_{1}$ and $Q_{2}$. The corresponding sinusoidal output current amplitude is $\\hat{I}_{o m}=\\hat{V}_{o m}/R_{L1}$. The maximum average power that can be delivered to $R_{L1}$ is determined by substituting these values into Equation 5.7a. This power value can be geometrically interpreted as the area of triangle $A$ in Fig. 5.4, where the base equals $\\hat{V}_{o m}$ and the height is $\\hat{I}_{o m}$. As $R_{L1}$ increases, the maximum average output power that can be delivered decreases because the triangle's area becomes smaller. The maximum output voltage amplitude remains largely unchanged, but the current amplitude diminishes as $R_{L1}$ increases.\n\nFor $R_{L}=R_{L2}$ in Fig. 5.4, the maximum output voltage swing before clipping occurs is:\n\n$$\n\\hat{V}_{o m}=I_{Q}R_{L2} \\tag{5.9}\n$$\n\nThe corresponding current amplitude is $\\hat{I}_{o m}=I_{Q}$. Utilizing Equation 5.7a, the maximum average output power $P_{L|max}$ deliverable is represented by the area of triangle $B$ in Fig. 5.4. As $R_{L2}$ decreases, the maximum average power that can be delivered decreases.\n\nA careful examination of Fig. 5.4 reveals that the power-output capability of the stage is optimized for $R_{L}=R_{L3}$, which can be calculated from Equation 5.6 and Fig. 5.4 as:\n\n$$\nR_{L3}=\\frac{V_{CC}-V_{CE(sat)}}{I_{Q}} \\tag{5.10}\n$$\n\nThis load line generates the largest area (triangle $C$) and, consequently, the highest average output power. In this scenario, $\\hat{V}_{o m}=[V_{CC}-V_{CE(sat)}]$ and $\\hat{I}_{o m}=I_{Q}$. Using Equation 5.7a, we obtain:\n\n$$\nP_{L|max}=\\frac{1}{2}\\hat{V}_{o m}\\hat{I}_{o m}=\\frac{1}{2}[V_{CC}-V_{CE(sat)}]I_{Q} \\tag{5.11}\n$$\n\nTo determine the circuit's efficiency, the power drawn from the supply voltages must be calculated. The current drawn from the positive supply is the collector current of $Q_{1}$, which is assumed to be sinusoidal with an average value of $I_{Q}$. The current flowing in the negative supply is constant and equals $I_{Q}$ (ignoring the bias current $I_{R}$). Since the supply voltages are constant, the average power drawn from the supplies is constant and independent of the sinusoidal signals present in the circuit. The total power drawn from both supplies is thus:\n\n$$\nP_{supply}=2V_{CC}I_{Q} \\tag{5.12}\n$$\n\nThe power conversion efficiency $\\eta_{C}$ of the circuit at any output power level is defined as the ratio of the average power delivered to the load to the average power drawn from the supplies:\n\n$$\n\\eta_{C}=\\frac{P_{L}}{P_{supply}} \\tag{5.13}\n$$\n\nSince the power drawn from the supplies is constant in this circuit, the efficiency increases as the output power increases. Additionally, since the previous analysis indicates that the power-output capability of the circuit depends on the $R_{L}$ value, the efficiency also depends on $R_{L}$. The highest efficiency is achieved for $R_{L}=R_{L3}$, as this value yields the maximum average power output. If $R_{L}=R_{L3}$ and $\\hat{V}_{o}=\\hat{V}_{o m}$, substituting Equations 5.11 and 5.12 into Equation 5.13 yields the maximum possible efficiency:\n\n$$\n\\eta_{max}=\\frac{1}{4}\\left(1-\\frac{V_{CE(sat)}}{V_{CC}}\\right) \\tag{5.14}\n$$\n\nThus, if $V_{CE(sat)} \\ll V_{CC}$, the maximum efficiency of the stage is $1/4$ or 25 percent. Another critical aspect of circuit performance is the power dissipated in the active device. The current and voltage waveforms in $Q_{1}$ at maximum signal swing and with $R_{L}=R_{L3}$ are shown in Fig. 5.5 (assuming $V_{CE(sat)} \\simeq 0$ for simplicity), along with their product, which is the instantaneous power dissipation in the transistor. The curve representing the instantaneous power dissipation in $Q_{1}$ as a function of time varies at twice the signal frequency and has an average value of one-half the quiescent value. This result can be analytically demonstrated as follows. The instantaneous power dissipation in $Q_{1}$ is given by:\n\n$$\nP_{c1}=V_{ce1}I_{c1} \\tag{5.15}\n$$\n\nAt maximum signal swing with a sinusoidal signal, $P_{c1}$ can be expressed as (from Fig. 5.5):\n\n$$\nP_{c1}=V_{CC}(1+\\sin \\omega t)I_{Q}(1-\\sin \\omega t)=\\frac{V_{CC}I_{Q}}{2}(1+\\cos 2 \\omega t) \\tag{5.15a}\n$$\n\nThe average value of $P_{c1}$ from Equation 5.15a is $V_{CC}I_{Q}/2$. Hence, at maximum output, the average power dissipated in $Q_{1}$ is half its quiescent value, and the average device temperature when delivering power with $R_{L}=R_{L3}$ is lower than its quiescent value.\n\nAdditional insights into the power dissipated in $Q_{1}$ can be gained by plotting curves of constant device dissipation in the $I_{c}-V_{ce}$ plane. Equation 5.15 indicates that these curves are hyperbolic. Figure 5.6 illustrates these hyperbolas for constant transistor instantaneous power dissipation values $P_{1}$, $P_{2}$, and $P_{3}$ (where $P_{1}<P_{2}<P_{3}$). The power hyperbola corresponding to $P_{2}$ passes through the quiescent point $Q$, and the equation of this curve can be derived from Equation 5.15 as:\n\n$$\nI_{c1}=\\frac{P_{2}}{V_{ce1}} \\tag{5.16}\n$$\n\nThe slope of the curve is:\n\n$$\n\\frac{d I_{c1}}{d V_{ce1}}=-\\frac{P_{2}}{V_{ce1}^{2}}\n$$\n\nAt the quiescent point $Q$, we have $I_{c1}=I_{Q}$ and $V_{ce1}=V_{CC}$. Thus, the slope is:\n\n$$\n\\left.\\frac{d I_{c1}}{d V_{ce1}}\\right|_{Q}=-\\frac{I_{Q}}{V_{CC}} \\tag{5.18}\n$$\n\nFrom Equation 5.6, the slope of the load line with $R_{L}=R_{L3}$ is $-(1/R_{L3})$. Using Equation 5.10 for $R_{L3}$ yields:\n\n$$\n-\\frac{1}{R_{L3}} \\simeq -\\frac{I_{Q}}{V_{CC}} \\tag{5.19}\n$$\n\nComparing Equations 5.18 and 5.19 reveals that the load line with $R_{L}=R_{L3}$ is tangent to the power hyperbola passing through the quiescent point, since both curves share the same slope at that point. This result is illustrated in Fig. 5.6. As the operating point moves away from the quiescent point along the load line with $R_{L}=R_{L3}$, the load line intersects constant-power hyperbolas representing lower power values; hence, the instantaneous device power dissipation decreases. This perspective aligns with the power waveform shown in Fig. 5.5.\n\nThe load line for $R_{L} \\rightarrow \\infty$ (open-circuit load) is also depicted in Fig. 5.6. In this case, the transistor's collector current does not vary over a period but remains constant. For values of $V_{ce1}$ exceeding the quiescent value, the instantaneous device power dissipation increases. The maximum possible value of $V_{ce1}$ is $(2V_{CC}-V_{CE2(sat)})$. At this value, the instantaneous power dissipation in $Q_{1}$ is approximately $2V_{CC}I_{Q}$ if $V_{CE2(sat)} \\ll V_{CC}$. This dissipation is twice the quiescent value of $V_{CC}I_{Q}$, and this scenario should be considered when evaluating the power-handling requirements of $Q_{1}$. At the other extreme of the swing where $V_{ce1} \\simeq 0$, the power dissipation in $Q_{2}$ is also $2V_{CC}I_{Q}$.\n\nA potentially more damaging situation can arise if the load is short-circuited. In such a case, the load line is vertical through the quiescent point, as shown in Fig. 5.6. With large input signals, the collector current (and thus the device power dissipation) of $Q_{1}$ can become quite substantial. The limit on collector current is determined by the driver's capability\nAn in-depth understanding of the circuit illustrated in Fig. 5.1 can be achieved by examining Fig. 5.4, which illustrates three distinct load lines superimposed on the $I_{c}-V_{ce}$ characteristics of transistor $Q_{1}$. The equation corresponding to the image in Fig. 5.4 is presented as follows:\n\n$$\nV_{ce1}=V_{CC}-(I_{c1}-I_{Q})R_{L} \\tag{5.6}\n$$\n\nThis equation holds true when both $Q_{1}$ and $Q_{2}$ are operating in the forward-active region. The values of $V_{ce1}$ and $I_{c1}$ are related by Equation 5.6 for any given input voltage $V_{i}$, and the line encompasses the quiescent point $Q$, where $I_{c1}=I_{Q}$ and $V_{ce1}=V_{CC}$. Equation 5.6 is depicted in Fig. 5.4 for load resistances $R_{L1}$, $R_{L2}$, and $R_{L3}$, with the device's operating point moving along these lines as $V_{i}$ varies. As $V_{i}$ increases and $V_{ce1}$ decreases, $Q_{1}$ eventually saturates, as demonstrated in Fig. 5.2. Conversely, as $V_{i}$ decreases and $V_{ce1}$ increases, two possibilities arise, as previously discussed. If the load resistance $R_{L}$ is high ($R_{L1}$), the output voltage $V_{o}$ decreases, and $V_{ce1}$ increases until $Q_{2}$ saturates. Hence, the maximum possible value for $V_{ce1}$ is $[2V_{CC} - V_{CE2}(sat)]$, as indicated in Fig. 5.4. However, if $R_{L}$ is low ($R_{L2}$), the maximum negative output voltage, as shown in Fig. 5.2, is $-I_{Q}R_{L2}$, and the maximum possible $V_{ce1}$ is $(V_{CC} + I_{Q}R_{L2})$.\n\nNo discussion has been made regarding the maximum voltage constraints of the output stage. As explained in Chapter 1, avalanche breakdown in a bipolar transistor occurs at $V_{ce}=B V_{CEO}$ in the common-emitter configuration, which represents the worst-case scenario for breakdown voltage. In a cautious design, the $V_{ce}$ value in the circuit of Fig. 5.1 should always be less than $B V_{CEO}$ by a suitable safety margin. In the previous analysis, the maximum $V_{ce1}$ value achievable in this circuit for any load resistance was determined to be approximately $2V_{CC}$, necessitating that $B V_{CEO}$ must exceed this value.\n\nLet's now consider the power dynamics within the circuit. When sinusoidal signals are present, the power dissipated in various components fluctuates with time. We are concerned with both the instantaneous power dissipation and the average power dissipation. Instantaneous power is crucial when assessing transistor dissipation with low-frequency or DC signals, as the transistor's junction temperature tends to rise and fall with the instantaneous power dissipated, thereby limiting the maximum permissible instantaneous power dissipation for safe device operation.\n\nAverage power levels are significant because the power delivered to a load is usually specified as an average value. Moreover, if an output stage only handles high-frequency signals, the transistor junction temperature will not significantly vary throughout a cycle, making the average device power dissipation the limiting factor.\n\nConsidering the output signal power that can be supplied to load $R_{L}$ when a sinusoidal input is applied at $V_{i}$, and assuming that $V_{o}$ is approximately sinusoidal, the average output power delivered to $R_{L}$ is given by:\n\n$$\nP"
},
{
    "text": "A deeper understanding of the circuit illustrated in Fig. 5.1 can be gained from Fig. 5.4, which depicts three distinct load lines on the $I_{c}-V_{ce}$ characteristics of transistor $Q_{1}$. The relationship between the collector current ($I_{c1}$) and the collector-emitter voltage ($V_{ce1}$) is visualized in this graph.\n\n1. **Graph Type and Function:**\n   - This graph represents the transistor characteristics, focusing on the load lines for varying load resistances ($R_L$) on the $I_{c1}-V_{ce1}$ plane.\n\n2. **Axes Labels and Units:**\n   - **Vertical Axis:** $I_{c1}$ (Collector Current)\n   - **Horizontal Axis:** $V_{ce1}$ (Collector-Emitter Voltage)\n   - The units are not specified but typically would be amperes for current and volts for voltage.\n\n3. **Overall Behavior and Trends:**\n   - The graph exhibits load lines corresponding to different load resistance values ($R_L = R_{L1}, R_{L2}, R_{L3}$).\n   - These load lines are straight and converge at the quiescent point $Q$, where $I_{c1} = I_Q$ and $V_{ce1} = V_{CC}$.\n   - The graph also shows curves of constant $V_{be1}$, defining the operational boundaries of the transistor.\n\n4. **Key Features and Technical Details:**\n   - Quiescent Point $Q$: The point where the transistor operates without an input signal, at $I_{c1} = I_Q$ and $V_{ce1} = V_{CC}$.\n   - Maximum Power Points: The graph indicates the maximum power points for each load line ($P_{L\\max}$ for $R_{L1}$, $R_{L2}$, and $R_{L3}$).\n   - Saturation and Maximum Voltage: The leftmost point on the load lines represents $V_{CE1}(sat)$, indicating saturation. The maximum possible $V_{ce1}$ is denoted as $[2V_{CC} - V_{CE2}(sat)]$.\n\n5. **Annotations and Specific Data Points:**\n   - Points A, B, C mark specific operational points on the load lines.\n   - The shaded regions represent the areas of maximum power dissipation for each load resistance.\n   - The diagram includes annotations for $V_{CC}$ and $V_{CC} + I_Q R_{L2}$ values, highlighting significant voltage levels.\n\nIn summary, this graph offers a comprehensive view of how different load resistances influence the transistor's operation in terms of current and voltage, emphasizing the impact on power output and efficiency.\n\nThe load lines depicted in Fig. 5.4 can be derived from Fig. 5.1 and are represented by the equation:\n\n$$\nV_{ce1}=V_{CC}-(I_{c1}-I_{Q}) R_{L} \\tag{5.6}\n$$\n\nThis equation applies when both $Q_{1}$ and $Q_{2}$ are in the forward-active region. The values of $V_{ce1}$ and $I_{c1}$ are related by (5.6) for any value of $V_{i}$, and the line includes the quiescent point $Q$, where $I_{c1}=I_{Q}$ and $V_{ce1}=V_{CC}$. Equation 5.6 is plotted in Fig. 5.4 for load resistances $R_{L1}, R_{L2}$, and $R_{L3}$, and the device's operating point moves along these lines as $V_{i}$ varies. As $V_{i}$ increases and $V_{ce1}$ decreases, $Q_{1}$ eventually saturates, as depicted in Fig. 5.2. Conversely, as $V_{i}$ decreases and $V_{ce1}$ increases, two scenarios arise. If $R_{L}$ is large ($R_{L1}$), $V_{o}$ decreases and $V_{ce1}$ increases until $Q_{2}$ saturates. Thus, the maximum possible value of $V_{ce1}$ is $[2V_{CC} - V_{CE2}(sat)]$, as annotated in Fig. 5.4. However, if $R_{L}$ is small ($R_{L2}$), the maximum negative value of $V_{o}$, as shown in Fig. 5.2, is $-I_{Q} R_{L2}$, and the maximum possible value of $V_{ce1}$ is $(V_{CC} + I_{Q} R_{L2})$.\n\nNo discussion has been made regarding the maximum voltage limitations of the output stage. As explained in Chapter 1, avalanche breakdown in a bipolar transistor occurs at $V_{ce}=B V_{CEO}$ in the common-emitter configuration, which is the worst-case scenario for breakdown voltage. In a conservative design, the value of $V_{ce}$ in the circuit of Fig. 5.1 should always be less than $B V_{CEO}$ by a suitable safety margin. In the previous analysis, the maximum value that $V_{ce1}$ can reach in this circuit for any load resistance was determined to be approximately $2 V_{CC}$, and thus $B V_{CEO}$ must exceed this value.\n\nConsidering the power relationships in the circuit, the power dissipated in various elements fluctuates with time when sinusoidal signals are present. Both instantaneous power dissipation and average power dissipation are of interest. Instantaneous power is crucial when examining transistor dissipation with low-frequency or dc signals, as the transistor's junction temperature tends to rise and fall with the instantaneous power dissipated, imposing limits on the maximum allowable instantaneous power dissipation for safe operation.\n\nAverage power levels are significant because the power delivered to a load is usually specified as an average value. Additionally, if an output stage handles only high-frequency signals, the transistor junction temperature will not vary significantly over a cycle, making average device power dissipation the limiting factor.\n\nThe average output power that can be delivered to load $R_{L}$ when a sinusoidal input is applied at $V_{i}$ is given by:\n\n$$\nP_{L}=\\frac{1}{2} \\hat{V}_{o} \\hat{I}_{o} \\tag{5.7}\n$$\n\nwhere $\\hat{V}_{o}$ and $\\hat{I}_{o}$ are the amplitudes (zero to peak) of the output sinusoidal voltage and current. As previously described, the maximum output signal amplitude that can be achieved before clipping depends on the value of $R_{L}$. If $P_{L\\max}$ is the maximum value of $P_{L}$ that can be reached before clipping occurs with sinusoidal signals, then:\n\n$$\nP_{L\\max}=\\frac{1}{2} \\hat{V}_{o m} \\hat{I}_{o m} \\tag{5.7a}\n$$\n\nwhere $\\hat{V}_{o m}$ and $\\hat{I}_{o m}$ are the maximum values of $\\hat{V}_{o}$ and $\\hat{I}_{o}$ that can be achieved before clipping.\n\nConsidering the case of large load resistance, $R_{L1}$. Figures 5.2 and 5.4 show that clipping occurs symmetrically in this case, and we have:\n\n$$\n\\hat{V}_{o m}=V_{CC}-V_{CE(sat)} \\tag{5.8}\n$$\n\nassuming equal saturation voltages in $Q_{1}$ and $Q_{2}$. The corresponding sinusoidal output current amplitude is $\\hat{I}_{o m}=\\hat{V}_{o m} / R_{L1}$. The maximum average power that can be delivered to $R_{L1}$ is calculated by substituting these values in (5.7a). This value of power can be interpreted geometrically as the area of the triangle $A$ in Fig. 5.4, where the base of the triangle equals $\\hat{V}_{o m}$ and its height is $\\hat{I}_{o m}$. As $R_{L1}$ increases, the maximum average output power that can be delivered decreases because the triangle becomes smaller. The maximum output voltage amplitude remains essentially the same, but the current amplitude decreases as $R_{L1}$ increases.\n\nIf $R_{L}=R_{L2}$ in Fig. 5.4, the maximum output voltage swing before clipping occurs is:\n\n$$\n\\hat{V}_{o m}=I_{Q} R_{L2} \\tag{5.9}\n$$\n\nThe corresponding current amplitude is $\\hat{I}_{o m}=I_{Q}$. Using (5.7a), the maximum average output power $P_{L\\max}$ that can be delivered is given by the area of triangle $B$, shown in Fig. 5.4. As $R_{L2}$ decreases, the maximum average power that can be delivered diminishes.\n\nAn analysis of Fig. 5.4 reveals that the power-output capability of the stage is maximized for $R_{L}=R_{L3}$, which can be calculated from (5.6) and Fig. 5.4 as:\n\n$$\nR_{L3}=\\frac{V_{CC}-V_{CE(sat)}}{I_{Q}} \\tag{5.10}\n$$\n\nThis load line corresponds to the triangle with the largest area $(C)$, indicating the highest average output power. In this case, $\\hat{V}_{o m}=[V_{CC}-V_{CE(sat)}]$ and $\\hat{I}_{o m}=I_{Q}$. Using (5.7a), we have:\n\n$$\nP_{L\\max}=\\frac{1}{2} \\hat{V}_{o m} \\hat{I}_{o m}=\\frac{1}{2}[V_{CC}-V_{CE(sat)}] I_{Q} \\tag{5.11}\n$$\n\nTo determine the efficiency of the circuit, the power drawn from the supply voltages must be calculated. The current drawn from the positive supply is the collector current of $Q_{1}$, which is assumed to be sinusoidal with an average value $I_{Q}$. The current flowing in the negative supply is constant and equal to $I_{Q}$ (neglecting bias current $I_{R}$). Since the supply voltages are constant, the average power drawn from the supplies is constant and independent of the presence of sinusoidal signals in the circuit. The total power drawn from the two supplies is thus:\n\n$$\nP_{\\text{supply}}=2 V_{CC} I_{Q} \\tag{5.12}\n$$\n\nThe power conversion efficiency $(\\eta_{C})$ of the circuit at an arbitrary output power level is defined as the ratio of the average power delivered to the load to the average power drawn from the supplies:\n\n$$\n\\eta_{C}=\\frac{P_{L}}{P_{\\text{supply}}} \\tag{5.13}\n$$\n\nSince the power drawn from the supplies is constant in this circuit, the efficiency increases as the output power increases. Additionally, since the previous analysis shows that the power-output capability of the circuit depends on the value of $R_{L}$, the efficiency also depends on $R_{L}$. The highest efficiency is achieved for $R_{L}=R_{L3}$, as this value yields the maximum average power output. If $R_{L}=R_{L3}$ and $\\hat{V}_{o}=\\hat{V}_{o m}$, then substitution of (5.11) and (5.12) in (5.13) gives the maximum possible efficiency:\n\n$$\n\\eta_{\\max}=\\frac{1}{4}\\left(1-\\frac{V_{CE(sat)}}{V_{CC}}\\right) \\tag{5.14}\n$$\n\nThus, if $V_{CE(sat)} \\ll V_{CC}$, the maximum efficiency of the stage is $1/4$ or 25 percent.\n\nAnother crucial aspect of circuit performance is the power dissipated in the active device. The current and voltage waveforms in $Q_{1}$ at maximum signal swing and with $R_{L}=R_{L3}$ are shown in Fig. 5.5 (assuming $V_{CE(sat)} \\simeq 0$ for simplicity) together with their product, which represents the instantaneous power dissipation in the transistor. The curve of instantaneous power dissipation in $Q_{1}$ as a function of time varies at twice the signal frequency and has an average value of one-half the quiescent value. This result can be shown analytically as follows. The instantaneous power dissipation in $Q_{1}$ is:\n\n$$\nP_{c1}=V_{ce1} I_{c1} \\tag{5.15}\n$$\n\nAt maximum signal swing with a sinusoidal signal, $P_{c1}$ can be expressed as (from Fig. 5.5):\n\n$$\nP_{c1}=V_{CC}(1+\\sin \\omega t) I_{Q}(1-\\sin \\omega t)=\\frac{V_{CC} I_{Q}}{2}(1+\\cos 2 \\omega t) \\tag{5.15a}\n$$\n\nThe average value of $P_{c1}$ from (5.15a) is $V_{CC} I_{Q} / 2$. Therefore, at maximum output, the average power dissipated in $Q_{1}$ is half its quiescent value, and the average device temperature when delivering power with $R_{L}=R_{L3}$ is less than its quiescent value.\n\nFurther information on the power dissipated in $Q_{1}$ can be obtained by plotting curves of constant device dissipation in the $I_{c}-V_{ce}$ plane. Equation 5.15 indicates that such curves are hyperbolas, which are plotted in Fig. 5.6 for constant transistor instantaneous power dissipation values $P_{1}, P_{2}$, and $P_{3}$ (where $P_{1}<P_{2}<P_{3}$). The power hyperbola of value $P_{2}$ passes through the quiescent point $Q$, and the equation of this curve can be calculated from (5.15) as:\n\n$$\nI_{c1}=\\frac{P_{2}}{V_{ce1}} \\tag{5.16}\n$$\n\nThe slope of the curve is:\n\n$$\n\\frac{d I_{c1}}{d V_{ce1}}=-\\frac{P_{2}}{V_{ce1}^{2}}\n$$\n\nAt the quiescent point $Q$, we have $I_{c1}=I_{Q}$ and $V_{ce1}=V_{CC}$. Thus, the slope is:\n\n$$\n\\left.\\frac{d I_{c1}}{d V_{ce1}}\\right|_{Q}=-\\frac{I_{Q}}{V_{CC}} \\tag{5.18}\n$$\n\nFrom (5.6), the slope of the load line with $R_{L}=R_{L3}$ is $-\\left(1 / R_{L3}\\right)$. Using (5.10) for $R_{L3}$ gives:\n\n$$\n-\\frac{1}{R_{L3}} \\simeq-\\frac{I_{Q}}{V_{CC}} \\tag{5.19}\n$$\n\nComparing (5.18) with (5.19) shows that the load line with $R_{L}=R_{L3}$ is tangent to the power hyperbola passing through the quiescent point, since both curves have the same slope at that point. This result is illustrated in Fig. 5.6. As the operating point leaves the quiescent point and moves along the load line with $R_{L}=R_{L3}$, the load line then intersects constant-power hyperbolas representing lower power values; therefore, the instantaneous device power dissipation decreases. This point of view is consistent with the power waveform shown in Fig. 5.5.\n\nThe load line for $R_{L} \\rightarrow \\infty$ (open-circuit load) is also shown in Fig. 5.6. In that case, the transistor collector current does not vary over a period but remains constant. For values of $V_{ce1}$ greater than the quiescent value, the instantaneous device power dissipation increases. The maximum possible value of $V_{ce1}$ is $(2 V_{CC}-V_{CE2(sat)})$. At this value, the instantaneous power dissipation in $Q_{1}$ is approximately $2 V_{CC} I_{Q}$ if $V_{CE2(sat)} \\ll V_{CC}$. This dissipation is twice the quiescent value of $V_{CC} I_{Q}$, and this possibility should be considered when assessing the power-handling requirements of $Q_{1}$. At the other extreme of the swing where $V_{ce1} \\simeq 0$, the power dissipation in $Q_{2}$ is also $2 V_{CC} I_{Q}$.\n\nA potentially more damaging situation can occur if the load is short-circuited. In that case, the load line is vertical through the quiescent point, as shown in Fig. 5.6. With large input signals, the collector current (and thus the device power dissipation) of $Q_{1}$ can become quite large. The limit on collector current is set by the ability of the driver to supply the base current to $Q_{1}$, and also by the high-current fall-off in $\\beta_{F}$ of $Q_{1}$, described in Chapter 1. In practice, these limits may be sufficient to prevent burnout of $Q_{1}$, but current-limiting circuitry may be necessary. An example of such protection is given in Section 5.4.6.\n\nA useful general result can be derived from the calculations involving load lines and constant-power hyperbolas. Fig. 5.6 shows that the maximum instantaneous device power dissipation for $R_{L}=R_{L3}$ occurs at the quiescent point $Q$ (since $P_{1}<P_{2}<P_{3}$), which is the midpoint of the load line if $V_{CE2(sat)} \\ll V_{CC}$. (The midpoint of the load line is assumed to be midway between its intersections with the $I_{c}$ and $V_{ce}$ axes.) It can be seen from (5.17) that any load line tangent to a power hyperbola makes contact with the hyperbola at the midpoint of the load line. Consequently, the midpoint is the point of maximum instantaneous device power dissipation with any load line. For example, in Fig. 5.4 with $R_{L}=R_{L2}$, the maximum instantaneous device power dissipation occurs at the midpoint of the load line where $V_{ce1}=\\frac{"
},
{
    "text": "Insight into the functioning of the circuit in Fig. 5.1 is enhanced by examining Fig. 5.4, which depicts three distinct load lines on the $I_{c}-V_{c e}$ characteristics of transistor $Q_{1}$. The equation representing the image in Fig. 5.4 is as follows:\n\n$$\nV_{c e 1}=V_{C C}-\\left(I_{c 1}-I_{Q}\\right) R_{L} \\tag{5.6}\n$$\n\nThis equation holds true when both $Q_{1}$ and $Q_{2}$ are in the forward-active region. The values of $V_{c e 1}$ and $I_{c 1}$ are related by (5.6) for any value of $V_{i}$, and the line includes the quiescent point $Q$, where $I_{c 1}=I_{Q}$ and $V_{c e 1}=V_{C C}$. Equation 5.6 is depicted in Fig. 5.4 for load resistances $R_{L 1}, R_{L 2}$, and $R_{L 3}$, and the device's operating point moves along these lines as $V_{i}$ varies. As $V_{i}$ increases and $V_{c e 1}$ decreases, $Q_{1}$ eventually saturates, as was illustrated in Fig. 5.2. Conversely, as $V_{i}$ decreases and $V_{c e 1}$ increases, two possibilities arise, as described previously. If the load resistance $R_{L}$ is large ($R_{L 1}$), the output voltage $V_{o}$ decreases, and $V_{c e 1}$ increases until $Q_{2}$ saturates. Thus, the maximum possible value of $V_{c e 1}$ is $[2V_{C C}-V_{C E 2(sat)}]$, and this value is indicated in Fig. 5.4. However, if $R_{L}$ is small ($R_{L 2}$), the maximum negative value of $V_{o}$, as illustrated in Fig. 5.2, is $-I_{Q} R_{L 2}$, and the maximum possible value of $V_{c e 1}$ is $(V_{C C}+I_{Q} R_{L 2})$.\n\nNo discussion has been made regarding the maximum voltage limitations of the output stage. As detailed in Chapter 1, avalanche breakdown of a bipolar transistor occurs at $V_{c e}=B V_{C E O}$ in the common-emitter configuration, which represents the worst-case scenario for breakdown voltage. In a conservative design, the value of $V_{c e}$ in the circuit of Fig. 5.1 should always be less than $B V_{C E O}$ by a suitable safety margin. In the preceding analysis, the maximum value that $V_{c e 1}$ can attain in this circuit for any load resistance was calculated as approximately $2 V_{C C}$, and thus $B V_{C E O}$ must be greater than this value.\n\nConsider now the power relationships within the circuit. When sinusoidal signals are present, the power dissipated in various elements varies with time. We are concerned with both the instantaneous power dissipated and the average power dissipated. Instantaneous power is significant when considering transistor dissipation with low-frequency or dc signals. The junction temperature of the transistor will tend to rise and fall with the instantaneous power dissipated in the device, limiting the maximum allowable instantaneous power dissipation for safe operation of any device.\n\nAverage power levels are crucial because the power delivered to a load is usually specified as an average value. Also, note that if an output stage handles only high-frequency signals, the transistor junction temperature will not vary appreciably over a cycle, and the average device power dissipation will then be the limiting quantity.\n\nConsider the output signal power that can be delivered to load $R_{L}$ when a sinusoidal input is applied at $V_{i}$. Assuming that $V_{o}$ is approximately sinusoidal, the average output power delivered to $R_{L}$ is given by:\n\n$$\nP_{L}=\\frac{1}{2} \\hat{V}_{o} \\hat{I}_{o} \\tag{5.7}\n$$\n\nwhere $\\hat{V}_{o}$ and $\\hat{I}_{o}$ are the amplitudes (zero to peak) of the output sinusoidal voltage and current. As described previously, the maximum output signal amplitude that can be achieved before clipping occurs depends on the value of $R_{L}$. If $\\left.P_{L}\\right|_{\\max }$ is the maximum value of $P_{L}$ that can be achieved before clipping occurs with sinusoidal signals, then:\n\n$$\n\\left.P_{L}\\right|_{\\max }=\\frac{1}{2} \\hat{V}_{o m} \\hat{I}_{o m} \\tag{5.7a}\n$$\n\nwhere $\\hat{V}_{o m}$ and $\\hat{I}_{o m}$ are the maximum values of $\\hat{V}_{o}$ and $\\hat{I}_{o}$ that can be achieved before clipping.\n\nConsider the case of the large load resistance, $R_{L 1}$. Figures 5.2 and 5.4 show that clipping occurs symmetrically in this case, and we have:\n\n$$\n\\hat{V}_{o m}=V_{C C}-V_{C E(sat)} \\tag{5.8}\n$$\n\nassuming equal saturation voltages in $Q_{1}$ and $Q_{2}$. The corresponding sinusoidal output current amplitude is $\\hat{I}_{o m}=\\hat{V}_{o m} / R_{L 1}$. The maximum average power that can be delivered to $R_{L 1}$ is calculated by substituting these values into (5.7a). This value of power can be interpreted geometrically as the area of the triangle $A$ in Fig. 5.4 since the base of the triangle equals $\\hat{V}_{o m}$ and its height is $\\hat{I}_{o m}$. As $R_{L 1}$ is increased, the maximum average output power that can be delivered diminishes because the triangle becomes smaller. The maximum output voltage amplitude remains essentially the same, but the current amplitude decreases as $R_{L 1}$ increases.\n\nIf $R_{L}=R_{L 2}$ in Fig. 5.4, the maximum output voltage swing before clipping occurs is:\n\n$$\n\\hat{V}_{o m}=I_{Q} R_{L 2} \\tag{5.9}\n$$\n\nThe corresponding current amplitude is $\\hat{I}_{o m}=I_{Q}$. Using (5.7a), the maximum average output power $\\left.P_{L}\\right|_{\\text {max }}$ that can be delivered is given by the area of triangle $B$, shown in Fig. 5.4. As $R_{L 2}$ is decreased, the maximum average power that can be delivered is diminished.\n\nAn examination of Fig. 5.4 reveals that the power-output capability of the stage is maximized for $R_{L}=R_{L 3}$, which can be calculated from (5.6) and Fig. 5.4 as:\n\n$$\nR_{L 3}=\\frac{V_{C C}-V_{C E(sat)}}{I_{Q}} \\tag{5.10}\n$$\n\nThis load line yields the triangle with the largest area $(C)$ and, consequently, the largest average output power. In this case, $\\hat{V}_{o m}=\\left[V_{C C}-V_{C E(sat)}\\right]$ and $\\hat{I}_{o m}=I_{Q}$. Using (5.7a), we obtain:\n\n$$\n\\left.P_{L}\\right|_{\\max }=\\frac{1}{2} \\hat{V}_{o m} \\hat{I}_{o m}=\\frac{1}{2}\\left[V_{C C}-V_{C E(sat)}\\right] I_{Q} \\tag{5.11}\n$$\n\nTo calculate the efficiency of the circuit, the power drawn from the supply voltages must now be calculated. The current drawn from the positive supply is the collector current of $Q_{1}$, which is assumed sinusoidal with an average value $I_{Q}$. The current flowing in the negative supply is constant and equal to $I_{Q}$ (neglecting bias current $I_{R}$). Since the supply voltages are constant, the average power drawn from the supplies is constant and independent of the presence of sinusoidal signals in the circuit. The total power drawn from the two supplies is thus:\n\n$$\nP_{\\text {supply }}=2 V_{C C} I_{Q} \\tag{5.12}\n$$\n\nThe power conversion efficiency $\\left(\\eta_{C}\\right)$ of the circuit at an arbitrary output power level is defined as the ratio of the average power delivered to the load to the average power drawn from the supplies:\n\n$$\n\\eta_{C}=\\frac{P_{L}}{P_{\\text {supply }}} \\tag{5.13}\n$$\n\nSince the power drawn from the supplies is constant in this circuit, the efficiency increases as the output power increases. Also, since the previous analysis shows that the power-output capability of the circuit depends on the value of $R_{L}$, the efficiency also depends on $R_{L}$. The best efficiency occurs for $R_{L}=R_{L 3}$ since this value provides the maximum average power output. If $R_{L}=R_{L 3}$ and $\\hat{V}_{o}=\\hat{V}_{o m}$, then substitution of (5.11) and (5.12) in (5.13) yields the maximum possible efficiency:\n\n$$\n\\eta_{\\max }=\\frac{1}{4}\\left(1-\\frac{V_{C E(sat)}}{V_{C C}}\\right) \\tag{5.14}\n$$\n\nThus, if $V_{C E(sat)} \\ll V_{C C}$, the maximum efficiency of the stage is $1 / 4$ or 25 percent.\n\nAnother important aspect of circuit performance is the power dissipated in the active device. The current and voltage waveforms in $Q_{1}$ at maximum signal swing and with $R_{L}=R_{L 3}$ are shown in Fig. 5.5 (assuming $V_{C E(sat)} \\simeq 0$ for simplicity) together with their product, which is the instantaneous power dissipation in the transistor. The curve of instantaneous power dissipation in $Q_{1}$ as a function of time varies at twice the signal frequency and has an average value of one-half the quiescent value. This result can be shown analytically as follows. The instantaneous power dissipation in $Q_{1}$ is:\n\n$$\nP_{c 1}=V_{c e 1} I_{c 1} \\tag{5.15}\n$$\n\nAt maximum signal swing with a sinusoidal signal, $P_{c 1}$ can be expressed as (from Fig. 5.5):\n\n$$\nP_{c 1}=V_{C C}(1+\\sin \\omega t) I_{Q}(1-\\sin \\omega t)=\\frac{V_{C C} I_{Q}}{2}(1+\\cos 2 \\omega t) \\tag{5.15a}\n$$\n\nThe average value of $P_{c 1}$ from (5.15a) is $V_{C C} I_{Q} / 2$. Thus, at maximum output, the average power dissipated in $Q_{1}$ is half its quiescent value, and the average device temperature when delivering power with $R_{L}=R_{L 3}$ is less than its quiescent value.\n\nFurther information on the power dissipated in $Q_{1}$ can be obtained by plotting curves of constant device dissipation in the $I_{c}-V_{c e}$ plane. Equation 5.15 indicates that such curves are hyperbolas, which are plotted in Fig. 5.6 for constant transistor instantaneous power dissipation values $P_{1}, P_{2}$, and $P_{3}$ (where $P_{1}<P_{2}<P_{3}$). The power hyperbola of value $P_{2}$ passes through the quiescent point $Q$, and the equation of this curve can be calculated from (5.15) as:\n\n$$\nI_{c 1}=\\frac{P_{2}}{V_{c e 1}} \\tag{5.16}\n$$\n\nThe slope of the curve is:\n\n$$\n\\frac{d I_{c 1}}{d V_{c e 1}}=-\\frac{P_{2}}{V_{c e 1}^{2}}\n$$\n\nAt the quiescent point $Q$, we have $I_{c 1}=I_{Q}$ and $V_{c e 1}=V_{C C}$. Thus the slope is:\n\n$$\n\\left.\\frac{d I_{c 1}}{d V_{c e 1}}\\right|_{Q}=-\\frac{I_{Q}}{V_{C C}} \\tag{5.18}\n$$\n\nFrom (5.6), the slope of the load line with $R_{L}=R_{L 3}$ is $-\\left(1 / R_{L 3}\\right)$. Using (5.10) for $R_{L 3}$ gives:\n\n$$\n-\\frac{1}{R_{L 3}} \\simeq-\\frac{I_{Q}}{V_{C C}} \\tag{5.19}\n$$\n\nComparing (5.18) with (5.19) shows that the load line with $R_{L}=R_{L 3}$ is tangent to the power hyperbola passing through the quiescent point, since both curves have the same slope at that point. This result is illustrated in Fig. 5.6. As the operating point leaves the quiescent point and moves along the load line with $R_{L}=R_{L 3}$, the load line then intersects constant-power hyperbolas representing lower power values; therefore, the instantaneous device power dissipation decreases. This point of view is consistent with the power waveform shown in Fig. 5.5.\n\nThe load line for $R_{L} \\rightarrow \\infty$ (open-circuit load) is also shown in Fig. 5.6. In that case, the transistor collector current does not vary over a period but is constant. For values of $V_{c e 1}$ greater than the quiescent value, the instantaneous device power dissipation increases. The maximum possible value of $V_{c e 1}$ is $(2 V_{C C}-V_{C E 2(sat)})$. At this value, the instantaneous power dissipation in $Q_{1}$ is approximately $2 V_{C C} I_{Q}$ if $V_{C E 2(sat)} \\ll V_{C C}$. This dissipation is twice the quiescent value of $V_{C C} I_{Q}$, and this possibility should be taken into account when considering the power-handling requirements of $Q_{1}$. At the other extreme of the swing where $V_{c e 1} \\simeq 0$, the power dissipation in $Q_{2}$ is also $2 V_{C C} I_{Q}$.\n\nA situation that is potentially even more damaging can occur if the load is short-circuited. In that case, the load line is vertical through the quiescent point, as shown in Fig. 5.6. With large input signals, the collector current (and thus the device power dissipation) of $Q_{1}$ can become quite large. The limit on collector current is set by the ability of the driver to supply the base current to $Q_{1}$, and also by the high-current fall-off in $\\beta_{F}$ of $Q_{1}$, described in Chapter 1. In practice, these limits may be sufficient to prevent burnout of $Q_{1}$, but current-limiting circuitry may be necessary. An example of such protection is given in Section 5.4.6.\n\nA useful general result can be derived from the calculations above involving load lines and constant-power hyperbolas. Figure 5.6 shows that the maximum instantaneous device power dissipation for $R_{L}=R_{L 3}$ occurs at the quiescent point $Q$ (since $P_{1}<P_{2}<P_{3}$), which is the midpoint of the load line if $V_{C E 2(sat)} \\ll V_{C C}$. (The midpoint of the load line is assumed to be midway between its intersections with the $I_{c}$ and $V_{c e}$ axes.) It can be seen from (5.17) that any load line tangent to a power hyperbola makes contact with the hyperbola at the midpoint of the load line. Consequently, the midpoint is the point of maximum instantaneous device power dissipation with any load line. For example, in Fig. 5.4 with $R_{L}=R_{L 2}$, the maximum instantaneous device power dissipation occurs at the midpoint of the load line where $V_{c e 1}=\\frac{1}{2}\\left(V_{C C}+I_{Q} R_{L 2}\\right)$.\n\nAn output stage of the type described in this section, where the output device always conducts appreciable current, is called a Class $A$ output stage. This type of operation can be realized with different transistor configurations but always has a maximum efficiency of 25 percent.\n\nFinally, the emitter follower in this analysis was assumed to have a current source $I_{Q}$ in its emitter as a bias element. In practice, the current source is sometimes replaced by a resistor connected to the negative supply, and such a configuration will introduce some deviations from the calculations presented above. In particular, the output power available from the circuit will be reduced."
},
{
    "text": "The analysis of the circuit operation depicted in Fig. 5.1 is deepened by examining Fig. 5.4, which portrays three distinct load lines superimposed on the $I_{c}-V_{ce}$ characteristics of transistor $Q_{1}$. These load lines represent different load resistances and their corresponding operating points. The equation derived for this scenario is:\n\n$$\nV_{ce1}=V_{CC}-(I_{c1}-I_{Q})R_{L}\n$$\n\nThis equation holds true when both $Q_{1}$ and $Q_{2}$ are in the forward-active region. The operating point, denoted as $Q$, is where the transistor is in its quiescent state with $I_{c1}=I_{Q}$ and $V_{ce1}=V_{CC}$. As the input voltage $V_{i}$ varies, the operating point moves along these load lines. An increase in $V_{i}$ leads to a decrease in $V_{ce1}$, eventually causing $Q_{1}$ to saturate. Conversely, a decrease in $V_{i}$ results in an increase in $V_{ce1}$, with the outcome dependent on the load resistance $R_{L}$.\n\nFor high load resistances, the output voltage $V_{o}$ decreases, and $V_{ce1}$ increases until $Q_{2}$ saturates, establishing a maximum $V_{ce1}$ value. For low load resistances, the maximum negative $V_{o}$ value is determined by $-I_{Q}R_{L}$, setting a limit on the maximum $V_{ce1}$.\n\nThe graph also delves into the maximum voltage limitations of the output stage, emphasizing the need to avoid avalanche breakdown by ensuring that the voltage does not exceed a certain safety margin below the breakdown voltage.\n\nPower relationships in the circuit are analyzed, considering both instantaneous and average power dissipation. Instantaneous power is crucial for understanding transistor dissipation with low-frequency or DC signals, as it affects the junction temperature. Average power, on the other hand, is significant for specifying the power delivered to a load and is the limiting factor for high-frequency signal handling.\n\nThe average output power delivered to load $R_{L}$ with a sinusoidal input is given by:\n\n$$\nP_{L}=\\frac{1}{2}\\hat{V}_{o}\\hat{I}_{o}\n$$\n\nThe maximum average output power before clipping, $P_{L\\max}$, depends on the load resistance and is geometrically represented by the area of a triangle in the graph.\n\nThe efficiency of the circuit, defined as the ratio of average power delivered to the load to the average power drawn from the supplies, is maximized for a specific load resistance $R_{L3}$. This resistance is calculated to achieve the largest average output power.\n\nThe graph also includes waveforms for the collector-emitter voltage, collector current, and power dissipation of transistor $Q_{1}$ at full output with $R_{L}=R_{L3}$. These waveforms illustrate the dynamic behavior of the transistor in response to changes in input signal and load conditions.\n\nFinally, the graph of hyperbolas in the $I_{c}-V_{ce}$ plane for constant power dissipation levels provides insight into how changes in voltage and current affect power dissipation in the transistor. This visualization aids in designing circuits to operate within safe power limits and understanding the relationship between load lines and constant-power hyperbolas."
},
{
    "text": "Figure 5.4 provides an in-depth look at the operating characteristics of the circuit depicted in Fig. 5.1, particularly focusing on the three distinct load lines superimposed on the $I_{c1}-V_{ce1}$ graph of transistor $Q_{1}$. The graphical representation conveys the interplay between the collector current ($I_{c1}$) and the collector-emitter voltage ($V_{ce1}$) for varying load resistances ($R_L$). Each load line corresponds to a different resistance value and is depicted as a straight line on the graph, all converging at the quiescent operating point $Q$, where $I_{c1} = I_Q$ and $V_{ce1} = V_{CC}$.\n\nThe graph delineates key operational boundaries, such as the saturation voltage $V_{CE1}(sat)$ and the maximum possible $V_{ce1}$ value annotated as $[2V_{CC} - V_{CE2}(sat)]$. Specific points A, B, and C are marked on the load lines, with shaded areas denoting the regions of peak power dissipation for each $R_L$. Annotations for crucial voltage levels like $V_{CC}$ and $V_{CC} + I_Q R_{L2}$ are included for clarity.\n\nBy examining Fig. 5.4, one can discern the influence of different load resistances on the transistor's operation, observing how they affect the output power and efficiency. The load lines' equations are given by (5.6), and the device's operating point shifts along these lines as the input voltage ($V_i$) fluctuates. As $V_i$ increases and $V_{ce1}$ diminishes, $Q_{1}$ approaches saturation. Conversely, if $V_i$ decreases, $V_{ce1}$ increases, and the circuit behavior depends on the magnitude of $R_L$. For high $R_L$ values, $V_o$ decreases, and $V_{ce1}$ increases until $Q_{2}$ saturates, while for lower $R_L$ values, the maximum negative $V_o$ is $-I_Q R_{L2}$, and the peak $V_{ce1}$ is $(V_{CC} + I_Q R_{L2})$.\n\nThe maximum voltage that the output stage can handle is crucial; in conservative design, $V_{ce}$ should remain below the breakdown voltage $B V_{CEO}$ by a safe margin. The analysis calculates the maximum $V_{ce1}$ in this circuit to be approximately $2 V_{CC}$, necessitating $B V_{CEO}$ to exceed this value.\n\nRegarding power dynamics in the circuit, both instantaneous and average power dissipation are critical considerations. Instantaneous power is particularly significant for low-frequency or DC signals, affecting the junction temperature of the transistor, which in turn dictates the maximum allowable instantaneous power for safe operation. Average power, however, is more relevant for load delivery and circuit handling of high-frequency signals, where the junction temperature remains relatively stable throughout the signal cycle.\n\nThe average power delivered to load $R_L$ under sinusoidal input is given by (5.7). The maximum average power before clipping, $P_{L\\max}$, is determined by (5.7a), with the specific conditions affecting this value depending on $R_L$. For large $R_L$ like $R_{L1}$, clipping occurs symmetrically, and the maximum average power is represented by the area of triangle $A$ in Fig. 5.4. For smaller $R_L$ like $R_{L2}$, the maximum average power is depicted by triangle $B$, diminishing as $R_L$ decreases.\n\nThe power-output capability is optimized for $R_L = R_{L3}$, as determined by (5.10), corresponding to triangle $C$ in Fig. 5.4. This load line yields the largest area and, thus, the highest average output power. The maximum efficiency occurs at this load resistance and is calculated by (5.14) to be approximately 25 percent if $V_{CE(sat)} \\ll V_{CC}$.\n\nThe power dissipation in the active device is another vital aspect. Figure 5.5 presents waveforms illustrating the voltage, current, and power dissipation in $Q_{1}$ at full output with $R_{L} = R_{L3}$. The instantaneous power dissipation varies at twice the signal frequency and averages to half the quiescent power, as shown in (5.15) and (5.15a).\n\nFigure 5.6 visualizes constant power dissipation levels in the $I_{c1} - V_{ce1}$ plane as hyperbolas. The slope of these hyperbolas at the quiescent point $Q$ matches that of the load line with $R_{L} = R_{L3}$, indicating a tangent relationship. As the operating point moves along this load line, it intersects lower power hyperbolas, reducing the instantaneous power dissipation. This behavior aligns with the power waveform in Fig. 5.5.\n\nThe open-circuit load line ($R_L \\rightarrow \\infty$) and the short-circuit load line also present in Fig. 5.6 indicate different operating conditions and power dissipation patterns. The load line for $R_{L} = 0$ shows constant current operation, with the power dissipation increasing for $V_{ce1}$ above the quiescent level.\n\nAn important general result from the analysis is that the midpoint of any load line, where it intersects the power hyperbola, represents the point of maximum instantaneous power dissipation. This principle applies to any load line tangent to a power hyperbola.\n\nIn conclusion, the circuit's efficiency and power handling capabilities are interlinked with the choice of load resistance, and careful design considerations are necessary to optimize these parameters while ensuring safe operation. The example provided illustrates the calculations involved in determining the maximum average output power, efficiency, and power dissipation under specific circuit conditions."
},
{
    "text": "To gain a deeper understanding of the circuit's operation depicted in Fig. 5.1, one can refer to Fig. 5.4, which illustrates three distinct load lines superimposed on the $I_{c}-V_{ce}$ characteristics of transistor $Q_{1}$. The equation derived from the image corresponds to:\n\n$$\nV_{ce1}=V_{CC}-(I_{c1}-I_{Q})R_{L}\n$$\n\nThis equation holds true when both $Q_{1}$ and $Q_{2}$ are in the forward-active region. The values of $V_{ce1}$ and $I_{c1}$ are interrelated by the aforementioned equation for any given $V_{i}$, and it encompasses the quiescent point $Q$, where $I_{c1}=I_{Q}$ and $V_{ce1}=V_{CC}$. Equation (5.6) is illustrated in Fig. 5.4 for various load resistances $R_{L1}$, $R_{L2}$, and $R_{L3}$, demonstrating how the operating point shifts along these lines as $V_{i}$ fluctuates. As $V_{i}$ increases and $V_{ce1}$ decreases, $Q_{1}$ eventually saturates, as depicted in Fig. 5.2. Conversely, as $V_{i}$ decreases and $V_{ce1}$ increases, two scenarios may unfold, as previously described. Should $R_{L}$ be substantial ($R_{L1}$), $V_{o}$ diminishes and $V_{ce1}$ rises until $Q_{2}$ saturates. Hence, the maximum feasible $V_{ce1}$ value is denoted as $[2V_{CC} - V_{CE2}(sat)]$. However, if $R_{L}$ is minimal ($R_{L2}$), the maximum negative $V_{o}$, as illustrated in Fig. 5.2, is $-I_{Q}R_{L2}$, and the maximum $V_{ce1}$ is $(V_{CC} + I_{Q}R_{L2})$.\n\nUp to this point, the discussion has omitted the maximum voltage constraints of the output stage. As outlined in Chapter 1, avalanche breakdown in a bipolar transistor occurs at $V_{ce}=BV_{CEO}$ in the common-emitter configuration, which represents the worst-case breakdown voltage. A cautious design dictates that the $V_{ce}$ in the circuit of Fig. 5.1 should consistently remain below $BV_{CEO}$ by a suitable safety margin. The preceding analysis determined that the maximum $V_{ce1}$ achievable in this circuit, irrespective of load resistance, is approximately $2V_{CC}$, necessitating that $BV_{CEO}$ must exceed this value.\n\nThe power dynamics within the circuit are now considered. With sinusoidal signals present, the power dissipated in the circuit elements fluctuates over time. Both the instantaneous power dissipation and the average power dissipation are of interest. Instantaneous power is crucial when assessing transistor dissipation with low-frequency or DC signals, as the transistor's junction temperature tends to rise and fall in sync with the instantaneous power dissipated, imposing a limit on the maximum permissible instantaneous power dissipation for safe operation.\n\nAverage power levels are significant since the power supplied to a load is customarily specified as an average. Furthermore, if an output stage solely handles high-frequency signals, the transistor's junction temperature will not appreciably fluctuate throughout a cycle, making the average device power dissipation the limiting factor.\n\nThe average output power that can be supplied to load $R_{L}$ with a sinusoidal input at $V_{i}$ is given by:\n\n$$\nP_{L}=\\frac{1}{2}\\hat{V}_{o}\\hat{I}_{o}\n$$\n\nwhere $\\hat{V}_{o}$ and $\\hat{I}_{o}$ represent the amplitudes (zero to peak) of the output sinusoidal voltage and current. As previously discussed, the maximum output signal amplitude achievable before clipping occurs is dependent on the $R_{L}$ value. If $\\left.P_{L}\\right|_{\\max}$ denotes the maximum $P_{L}$ achievable before clipping with sinusoidal signals, then:\n\n$$\n\\left.P_{L}\\right|_{\\max}=\\frac{1}{2}\\hat{V}_{o m}\\hat{I}_{o m}\n$$\n\nwhere $\\hat{V}_{o m}$ and $\\hat{I}_{o m}$ are the maximum values of $\\hat{V}_{o}$ and $\\hat{I}_{o}$ achievable before clipping.\n\nFor a high load resistance, $R_{L1}$, Figs. 5.2 and 5.4 illustrate that clipping occurs symmetrically, leading to:\n\n$$\n\\hat{V}_{o m}=V_{CC}-V_{CE(sat)}\n$$\n\nassuming equal saturation voltages in $Q_{1}$ and $Q_{2}$. The corresponding sinusoidal output current amplitude is $\\hat{I}_{o m}=\\hat{V}_{o m}/R_{L1}$. The maximum average power that can be delivered to $R_{L1}$ is determined by substituting these values into (5.7a). This power corresponds geometrically to the area of triangle $A$ in Fig. 5.4, where the base equals $\\hat{V}_{o m}$ and the height is $\\hat{I}_{o m}$. As $R_{L1}$ increases, the maximum average output power that can be delivered diminishes because the triangle shrinks. The maximum output voltage amplitude remains largely unchanged, but the current amplitude decreases with increasing $R_{L1}$.\n\nWhen $R_{L}=R_{L2}$ in Fig. 5.4, the maximum output voltage swing before clipping occurs is:\n\n$$\n\\hat{V}_{o m}=I_{Q}R_{L2}\n$$\n\nThe corresponding current amplitude is $\\hat{I}_{o m}=I_{Q}$. Utilizing (5.7a), the maximum average output power $\\left.P_{L}\\right|_{\\text{max}}$ deliverable is represented by the area of triangle $B$ in Fig. 5.4. As $R_{L2}$ decreases, the maximum average power that can be delivered is reduced.\n\nAn analysis of Fig. 5.4 reveals that the power-output capability of the stage is optimized for $R_{L}=R_{L3}$, which can be derived from (5.6) and Fig. 5.4 as:\n\n$$\nR_{L3}=\\frac{V_{CC}-V_{CE(sat)}}{I_{Q}}\n$$\n\nThis load line yields the largest area triangle $(C)$ and, consequently, the highest average output power. Here, $\\hat{V}_{o m}=[V_{CC}-V_{CE(sat)}]$ and $\\hat{I}_{o m}=I_{Q}$. Applying (5.7a) yields:\n\n$$\n\\left.P_{L}\\right|_{\\max}=\\frac{1}{2}\\hat{V}_{o m}\\hat{I}_{o m}=\\frac{1}{2}[V_{CC}-V_{CE(sat)}]I_{Q}\n$$\n\nTo compute the circuit's efficiency, the power drawn from the supply voltages must now be calculated. The current drawn from the positive supply is the collector current of $Q_{1}$, assumed to be sinusoidal with an average value $I_{Q}$. The current through the negative supply is constant and equals $I_{Q}$ (disregarding the bias current $I_{R}$). Since the supply voltages are constant, the average power drawn from the supplies is constant and unaffected by the presence of sinusoidal signals in the circuit. The total power drawn from both supplies is thus:\n\n$$\nP_{\\text{supply}}=2V_{CC}I_{Q}\n$$\n\nThe power conversion efficiency $\\left(\\eta_{C}\\right)$ of the circuit at any output power level is defined as the ratio of the average power delivered to the load to the average power drawn from the supplies:\n\n$$\n\\eta_{C}=\\frac{P_{L}}{P_{\\text{supply}}}\n$$\n\nSince the power drawn from the supplies is constant in this circuit, efficiency increases as the output power increases. Additionally, as the previous analysis indicates that the power-output capability of the circuit depends on the $R_{L}$ value, efficiency also hinges on $R_{L}$. The optimal efficiency is achieved for $R_{L}=R_{L3}$, as this value yields the maximum average power output. If $R_{L}=R_{L3}$ and $\\hat{V}_{o}=\\hat{V}_{o m}$, substituting (5.11) and (5.12) into (5.13) yields the maximum possible efficiency:\n\n$$\n\\eta_{\\max}=\\frac{1}{4}\\left(1-\\frac{V_{CE(sat)}}{V_{CC}}\\right)\n$$\n\nThus, if $V_{CE(\\text{sat})} \\ll V_{CC}$, the maximum efficiency of the stage is $1/4$ or 25 percent. Another critical aspect of circuit performance is the power dissipated in the active device. The current and voltage waveforms in $Q_{1}$ at maximum signal swing and with $R_{L}=R_{L3}$ are shown in Fig. 5.5 (assuming $V_{CE(\\text{sat})} \\simeq 0$ for simplicity) along with their product, which represents the instantaneous power dissipation in the transistor. The curve depicting the instantaneous power dissipation in $Q_{1}$ as a function of time varies at twice the signal frequency and has an average value of one-half the quiescent value. This outcome can be analytically demonstrated as follows. The instantaneous power dissipation in $Q_{1}$ is given by:\n\n$$\nP_{c1}=V_{ce1}I_{c1}\n$$\n\nAt maximum signal swing with a sinusoidal signal, $P_{c1}$ can be expressed as (from Fig. 5.5):\n\n$$\nP_{c1}=V_{CC}(1+\\sin \\omega t)I_{Q}(1-\\sin \\omega t)=\\frac{V_{CC}I_{Q}}{2}(1+\\cos 2\\omega t)\n$$\n\nThe average value of $P_{c1}$ from (5.15a) is $V_{CC}I_{Q}/2$. Hence, at maximum output, the average power dissipated in $Q_{1}$ is half its quiescent value, and the average device temperature when delivering power with $R_{L}=R_{L3}$ is lower than its quiescent value.\n\nAdditional insights into the power dissipated in $Q_{1}$ can be gleaned by plotting curves of constant device dissipation in the $I_{c}-V_{ce}$ plane. Equation 5.15 indicates that these curves are hyperbolic, which are depicted in Fig. 5.6 for constant transistor instantaneous power dissipation values $P_{1}$, $P_{2}$, and $P_{3}$ (where $P_{1}<P_{2}<P_{3}$). The power hyperbola corresponding to $P_{2}$ passes through the quiescent point $Q$, and the equation of this curve can be derived from (5.15) as:\n\n$$\nI_{c1}=\\frac{P_{2}}{V_{ce1}}\n$$\n\nThe slope of the curve is:\n\n$$\n\\frac{dI_{c1}}{dV_{ce1}}=-\\frac{P_{2}}{V_{ce1}^2}\n$$\n\nAt the quiescent point $Q$, we have $I_{c1}=I_{Q}$ and $V_{ce1}=V_{CC}$. Therefore, the slope becomes:\n\n$$\n\\left.\\frac{dI_{c1}}{dV_{ce1}}\\right|_{Q}=-\\frac{I_{Q}}{V_{CC}}\n$$\n\nFrom (5.6), the slope of the load line with $R_{L}=R_{L3}$ is $-(1/R_{L3})$. Utilizing (5.10) for $R_{L3}$ yields:\n\n$$\n-\\frac{1}{R_{L3}} \\simeq -\\frac{I_{Q}}{V_{CC}}\n$$\n\nComparing (5.18) with (5.19) reveals that the load line with $R_{L}=R_{L3}$ is tangent to the power hyperbola passing through the quiescent point, since both curves share the same slope at that point. This result is illustrated in Fig. 5.6. As the operating point departs from the quiescent point and moves along the load line with $R_{L}=R_{L3}$, the load line subsequently intersects constant-power hyperbolas signifying lower power values; hence, the instantaneous device power dissipation decreases. This perspective aligns with the power waveform shown in Fig. 5.5.\n\nThe load line for $R_{L} \\rightarrow \\infty$ (open-circuit load) is also presented in Fig. 5.6. In this scenario, the transistor's collector current does not fluctuate over a period but remains constant. For values of $V_{ce1}$ exceeding the quiescent value, the instantaneous device power dissipation increases. The maximum achievable $V_{ce1}$ is $(2V_{CC}-V_{CE2(\\text{sat})})$. At this value, the instantaneous power dissipation in $Q_{1}$ is approximately $2V_{CC}I_{Q}$ if $V_{CE2(\\text{sat})} \\ll V_{CC}$. This dissipation is twice the quiescent value of $V_{CC}I_{Q}$, and this possibility should be considered when evaluating the power-handling requirements of $Q_{1}$. At the opposite extreme of the swing where $V_{ce1} \\simeq 0$, the power dissipation in $Q_{2}$ is also $2V_{CC}I_{Q}$.\n\nA potentially more detrimental situation can arise if the load is short-circuited. In such a case, the load line is vertical through the quiescent point, as depicted in Fig. 5.6. With substantial input signals, the collector current (and thus the device power dissipation) of $Q_{1}$ can become exceedingly high. The limit on collector current is determined by the driver's capability to provide the base current to $Q_{1}$, as well as by the high-current fall-off in $\\beta_{F}$ of $Q_{1}$, as explained in Chapter 1. In practice, these limits may suffice to prevent $Q_{1}$ from burning out, but current-limiting circuitry may be necessary. An example of such protection is provided in Section 5.4.6.\n\nA valuable general conclusion can be drawn from the aforementioned calculations involving load lines and constant-power hyperbolas. Fig. 5.6 demonstrates that the maximum instantaneous device power dissipation for $R_{L}=R_{L3}$ occurs at the quiescent point $Q$ (since $P_{1}<P_{2}<P_{3}$), which is the midpoint of the load line if $V_{CE2(\\text{sat})} \\ll V_{CC}$. (The midpoint of the load line is assumed to be the midpoint between its intersections with the $I_{c}$ and $V_{ce}$ axes.) It can be observed from (5.17) that any load line tangent to a power hyperbola intersects the hyperbola at the midpoint of the load line. Consequently, the midpoint is the point of maximum instantaneous device power dissipation for any load line. For instance, in Fig. 5.4 with $R_{L}=R_{L2}$, the maximum instantaneous device power dissipation occurs at the midpoint of the load line where $V_{ce1}=\\frac{1}{2}(V_{CC}+I_{Q}R_{L2})$.\n\nAn output stage of the type discussed in this section, where the output device always conducts a significant current, is referred to as a Class A output stage. This type of operation can be achieved with various transistor configurations but always has a maximum efficiency of 25 percent.\n\nLastly, the emitter follower in this analysis was assumed to have a current source $I_{Q}$ in its emitter as a bias element. In practice, the current source is sometimes substituted by a resistor connected to the negative supply, and such a configuration will introduce some deviations from the aforementioned calculations. Notably, the output power available from the circuit will be reduced."
},
{
    "text": "Insight into the operational specifics of the circuit in Fig. 5.1 can be deepened by examining Fig. 5.4, where three distinct load lines are depicted on the $I_{c}-V_{ce}$ characteristics for transistor $Q_{1}$. The equation for this depiction is as follows:\n\n$$\nV_{ce1}=V_{CC}-(I_{c1}-I_{Q})R_{L}$$\n\nwhen applies when both $Q_{1}$ and $Q_{2}$ are in the forward-active region. The values of $V_{ce1}$ and $I_{c1}$ adhere to the above equation for any $V_{i}$ value, and the line encompasses the quiescent point $Q$, where $I_{c1}=I_{Q}$ and $V_{ce1}=V_{CC}$. The equation is graphed in Fig. 5.4 for load resistances $R_{L1}$, $R_{L2}$, and $R_{L3}$, and the device's operating point shifts along these lines as $V_{i}$ fluctuates. As $V_{i}$ rises and $V_{ce1}$ falls, $Q_{1}$ eventually saturates, as depicted in Fig. 5.2. Conversely, as $V_{i}$ falls and $V_{ce1}$ rises, two scenarios unfold as previously discussed. If $R_{L}$ is large ($R_{L1}$), $V_{o}$ decreases and $V_{ce1}$ increases until $Q_{2}$ saturates. Hence, the maximum achievable $V_{ce1}$ is $[2V_{CC} - V_{CE2}(sat)]$, as annotated in Fig. 5.4. However, if $R_{L}$ is small ($R_{L2}$), the maximum negative $V_{o}$, as shown in Fig. 5.2, is $-I_{Q}R_{L2}$, and the maximum $V_{ce1}$ is $(V_{CC}+I_{Q}R_{L2})$.\n\nThe maximum voltage constraints of the output stage have not yet been addressed. As outlined in Chapter 1, the avalanche breakdown of a bipolar transistor occurs at $V_{ce}=BV_{CEO}$ in the common-emitter setup, which is the most adverse case for breakdown voltage. A prudent design dictates that $V_{ce}$ in the circuit of Fig. 5.1 should consistently remain below $BV_{CEO}$ by a suitable safety margin. The preceding analysis computes the maximum $V_{ce1}$ in this circuit for any load resistance as roughly $2V_{CC}$, necessitating that $BV_{CEO}$ must exceed this value.\n\nNow, let's consider the power dynamics within the circuit. With sinusoidal signals present, the power dissipated in various components fluctuates over time. We are concerned with both the instantaneous power dissipation and the average power dissipation. Instantaneous power is significant when assessing transistor dissipation with low-frequency or DC signals, as the transistor's junction temperature will fluctuate with the instantaneous power dissipated, imposing limits on the maximum permissible instantaneous power dissipation for safe device operation.\n\nAverage power levels are crucial because the power supplied to a load is customarily specified as an average. Moreover, if an output stage solely\nGiven\nThe circuit\nI apologize, but it seems there has been a misunderstanding. I was tasked\n"
},
{
    "text": "For an in-depth understanding of the circuit in Fig. 5.1, we can refer to Fig. 5.4, which depicts three distinct load lines superimposed on the $I_{c}-V_{ce}$ characteristics of transistor $Q_{1}$. Fig. 5.4 visually represents the load lines on the $I_{c1}-V_{ce1}$ plane for the emitter follower configuration of $Q_{1}$ from Fig. 5.1. This graph is a characteristic curve illustrating the relationship between the collector current ($I_{c1}$) plotted on the vertical axis and the collector-emitter voltage ($V_{ce1}$) on the horizontal axis.\n\n1. **Graph Type and Function:**\n   - The graph plots the transistor characteristics, specifically depicting load lines for various load resistances ($R_L$) on the $I_{c1}-V_{ce1}$ plane.\n\n2. **Axes Labels and Units:**\n   - **Vertical Axis:** $I_{c1}$ (Collector Current)\n   - **Horizontal Axis:** $V_{ce1}$ (Collector-Emitter Voltage)\n   - The units are not specified, but typically would be amperes for current and volts for voltage.\n\n3. **General Behavior and Trends:**\n   - The graph displays several load lines corresponding to different load resistance values ($R_L = R_{L1}, R_{L2}, R_{L3}$).\n   - These load lines are linear and intersect at the quiescent point $Q$, where $I_{c1} = I_Q$ and $V_{ce1} = V_{CC}$.\n   - The graph also shows curves of constant $V_{be1}$, indicating the operational boundaries of the transistor.\n\n4. **Key Features and Technical Details:**\n   - Quiescent Point $Q$: This is the point where the transistor operates without an input signal, at $I_{c1} = I_Q$ and $V_{ce1} = V_{CC}$.\n   - Maximum Power Points: The graph marks the maximum power points for each load line ($P_{L\\max}$ for $R_{L1}$, $R_{L2}$, and $R_{L3}$).\n   - Saturation and Maximum Voltage: The leftmost point on the load lines corresponds to $V_{CE1}(sat)$, indicating saturation. The maximum possible value of $V_{ce1}$ is annotated as $[2V_{CC} - V_{CE2}(sat)]$.\n\n5. **Annotations and Specific Data Points:**\n   - Points A, B, C represent specific operational points on the load lines.\n   - The shaded regions indicate the area of maximum power dissipation for each load resistance.\n   - The diagram includes annotations for the values of $V_{CC}$ and $V_{CC} + I_Q R_{L2}$, marking significant voltage levels.\n\nIn summary, this graph provides a comprehensive view of how different load resistances affect the operation of the transistor in terms of current and voltage, highlighting the impact on power output and efficiency.\n\nThe load lines in Fig. 5.4 for the $I_{c1}-V_{ce1}$ plane of the emitter follower $Q_{1}$ from Fig. 5.1 can be described by the equation:\n\n$$\nV_{ce1} = V_{CC} - (I_{c1} - I_Q) R_L \\tag{5.6}\n$$\n\nThis equation applies when both $Q_{1}$ and $Q_{2}$ are in the forward-active region. The values of $V_{ce1}$ and $I_{c1}$ are related by (5.6) for any value of $V_i$, and the line includes the quiescent point $Q$, where $I_{c1} = I_Q$ and $V_{ce1} = V_{CC}$. Equation 5.6 is plotted in Fig. 5.4 for load resistances $R_{L1}, R_{L2}$, and $R_{L3}$, and the device operating point moves up and down these lines as $V_i$ varies. As $V_i$ increases and $V_{ce1}$ decreases, $Q_{1}$ eventually saturates, as was illustrated in Fig. 5.2. As $V_i$ decreases and $V_{ce1}$ increases, there are two possibilities as described above. If $R_L$ is large ($R_{L1}$), $V_o$ decreases and $V_{ce1}$ increases until $Q_{2}$ saturates. Thus the maximum possible value that $V_{ce1}$ can attain is $[2V_{CC} - V_{CE2}(sat)]$, and this value is marked on Fig. 5.4. However, if $R_L$ is small ($R_{L2}$), the maximum negative value of $V_o$ as illustrated in Fig. 5.2 is $-I_Q R_{L2}$, and the maximum possible value of $V_{ce1}$ is $(V_{CC} + I_Q R_{L2})$.\n\nSo far, no mention has been made of the maximum voltage limitations of the output stage. As described in Chapter 1, avalanche breakdown of a bipolar transistor occurs for $V_{ce} = B V_{CEO}$ in the common-emitter configuration, which is the worst case for breakdown voltage. In a conservative design, the value of $V_{ce}$ in the circuit of Fig. 5.1 should always be less than $B V_{CEO}$ by an appropriate safety margin. In the preceding analysis, the maximum value that $V_{ce1}$ can attain in this circuit for any load resistance was calculated as approximately $2 V_{CC}$, and thus $B V_{CEO}$ must be greater than this value.\n\nConsider now the power relationships in the circuit. When sinusoidal signals are present, the power dissipated in various elements varies with time. We are concerned both with the instantaneous power dissipated and with the average power dissipated. Instantaneous power is important when considering transistor dissipation with low-frequency or dc signals. The junction temperature of the transistor will tend to rise and fall with the instantaneous power dissipated in the device, limiting the maximum allowable instantaneous power dissipation for safe operation of any device.\n\nAverage power levels are important because the power delivered to a load is usually specified as an average value. Also note that if an output stage handles only high-frequency signals, the transistor junction temperature will not vary appreciably over a cycle, and the average device power dissipation will then be the limiting quantity.\n\nConsider the output signal power that can be delivered to load $R_L$ when a sinusoidal input is applied at $V_i$. Assuming that $V_o$ is approximately sinusoidal, the average output power delivered to $R_L$ is:\n\n$$\nP_L = \\frac{1}{2} \\hat{V}_o \\hat{I}_o \\tag{5.7}\n$$\n\nwhere $\\hat{V}_o$ and $\\hat{I}_o$ are the amplitudes (zero to peak) of the output sinusoidal voltage and current. As described previously, the maximum output signal amplitude that can be attained before clipping occurs depends on the value of $R_L$. If $P_{L\\max}$ is the maximum value of $P_L$ that can be attained before clipping occurs with sinusoidal signals, then:\n\n$$\nP_{L\\max} = \\frac{1}{2} \\hat{V}_{om} \\hat{I}_{om} \\tag{5.7a}\n$$\n\nwhere $\\hat{V}_{om}$ and $\\hat{I}_{om}$ are the maximum values of $\\hat{V}_o$ and $\\hat{I}_o$ that can be attained before clipping.\n\nConsider the case of the large load resistance, $R_{L1}$. Figures 5.2 and 5.4 show that clipping occurs symmetrically in this case, and we have:\n\n$$\n\\hat{V}_{om} = V_{CC} - V_{CE(sat)} \\tag{5.8}\n$$\n\nassuming equal saturation voltages in $Q_{1}$ and $Q_{2}$. The corresponding sinusoidal output current amplitude is $\\hat{I}_{om} = \\hat{V}_{om} / R_{L1}$. The maximum average power that can be delivered to $R_{L1}$ is calculated by substituting these values in (5.7a). This value of power can be interpreted geometrically as the area of the triangle $A$ in Fig. 5.4 since the base of the triangle equals $\\hat{V}_{om}$ and its height is $\\hat{I}_{om}$. As $R_{L1}$ is increased, the maximum average output power that can be delivered diminishes because the triangle becomes smaller. The maximum output voltage amplitude remains essentially the same, but the current amplitude decreases as $R_{L1}$ increases.\n\nIf $R_L = R_{L2}$ in Fig. 5.4, the maximum output voltage swing before clipping occurs is:\n\n$$\n\\hat{V}_{om} = I_Q R_{L2} \\tag{5.9}\n$$\n\nThe corresponding current amplitude is $\\hat{I}_{om} = I_Q$. Using (5.7a), the maximum average output power $P_{L\\max}$ that can be delivered is given by the area of triangle $B$, shown in Fig. 5.4. As $R_{L2}$ is decreased, the maximum average power that can be delivered is diminished.\n\nAn examination of Fig. 5.4 shows that the power-output capability of the stage is maximized for $R_L = R_{L3}$, which can be calculated from (5.6) and Fig. 5.4 as:\n\n$$\nR_{L3} = \\frac{V_{CC} - V_{CE(sat)}}{I_Q} \\tag{5.10}\n$$\n\nThis load line gives the triangle of largest area ($C$) and thus the largest average output power. In this case, $\\hat{V}_{om} = [V_{CC} - V_{CE(sat)}]$ and $\\hat{I}_{om} = I_Q$. Using (5.7a), we have:\n\n$$\nP_{L\\max} = \\frac{1}{2} \\hat{V}_{om} \\hat{I}_{om} = \\frac{1}{2} [V_{CC} - V_{CE(sat)}] I_Q \\tag{5.11}\n$$\n\nTo calculate the efficiency of the circuit, the power drawn from the supply voltages must now be calculated. The current drawn from the positive supply is the collector current of $Q_{1}$, which is assumed sinusoidal with an average value $I_Q$. The current flowing in the negative supply is constant and equal to $I_Q$ (neglecting bias current $I_R$). Since the supply voltages are constant, the average power drawn from the supplies is constant and independent of the presence of sinusoidal signals in the circuit. The total power drawn from the two supplies is thus:\n\n$$\nP_{\\text{supply}} = 2 V_{CC} I_Q \\tag{5.12}\n$$\n\nThe power conversion efficiency ($\\eta_C$) of the circuit at an arbitrary output power level is defined as the ratio of the average power delivered to the load to the average power drawn from the supplies:\n\n$$\n\\eta_C = \\frac{P_L}{P_{\\text{supply}}} \\tag{5.13}\n$$\n\nSince the power drawn from the supplies is constant in this circuit, the efficiency increases as the output power increases. Also, since the previous analysis shows that the power-output capability of the circuit depends on the value of $R_L$, the efficiency also depends on $R_L$. The best efficiency occurs for $R_L = R_{L3}$ since this value gives maximum average power output. If $R_L = R_{L3}$ and $\\hat{V}_o = \\hat{V}_{om}$, then substitution of (5.11) and (5.12) in (5.13) gives for the maximum possible efficiency:\n\n$$\n\\eta_{\\max} = \\frac{1}{4} \\left(1 - \\frac{V_{CE(sat)}}{V_{CC}}\\right) \\tag{5.14}\n$$\n\nThus if $V_{CE(sat)} \\ll V_{CC}$, the maximum efficiency of the stage is $1/4$ or 25 percent.\n\nAnother important aspect of circuit performance is the power dissipated in the active device. The current and voltage waveforms in $Q_{1}$ at maximum signal swing and with $R_L = R_{L3}$ are shown in Fig. 5.5 (assuming $V_{CE(sat)} \\simeq 0$ for simplicity) together with their product, which is the instantaneous power dissipation in the transistor. The curve of instantaneous power dissipation in $Q_{1}$ as a function of time varies at twice the signal frequency and has an average value of one-half the quiescent value. This result can be shown analytically as follows. The instantaneous power dissipation in $Q_{1}$ is:\n\n$$\nP_{c1} = V_{ce1} I_{c1} \\tag{5.15}\n$$\n\nAt maximum signal swing with a sinusoidal signal, $P_{c1}$ can be expressed as (from Fig. 5.5):\n\n$$\nP_{c1} = V_{CC}(1 + \\sin \\omega t) I_Q(1 - \\sin \\omega t) = \\frac{V_{CC} I_Q}{2}(1 + \\cos 2 \\omega t) \\tag{5.15a}\n$$\n\nThe average value of $P_{c1}$ from (5.15a) is $V_{CC} I_Q / 2$. Thus at maximum output, the average power dissipated in $Q_{1}$ is half its quiescent value, and the average device temperature when delivering power with $R_L = R_{L3}$ is less than its quiescent value.\n\nFurther information on the power dissipated in $Q_{1}$ can be obtained by plotting curves of constant device dissipation in the $I_{c}-V_{ce}$ plane. Equation 5.15 indicates that such curves are hyperbolas, which are plotted in Fig. 5.6 for constant transistor instantaneous power dissipation values $P_1, P_2$, and $P_3$ (where $P_1 < P_2 < P_3$). The power hyperbola of value $P_2$ passes through the quiescent point $Q$, and the equation of this curve can be calculated from (5.15) as:\n\n$$\nI_{c1} = \\frac{P_2}{V_{ce1}} \\tag{5.16}\n$$\n\nThe slope of the curve is:\n\n$$\n\\frac{d I_{c1}}{d V_{ce1}} = -\\frac{P_2}{V_{ce1}^2}\n$$\n\nAt the quiescent point $Q$, we have $I_{c1} = I_Q$ and $V_{ce1} = V_{CC}$. Thus the slope is:\n\n$$\n\\left.\\frac{d I_{c1}}{d V_{ce1}}\\right|_Q = -\\frac{I_Q}{V_{CC}} \\tag{5.18}\n$$\n\nFrom (5.6), the slope of the load line with $R_L = R_{L3}$ is $-\\left(1 / R_{L3}\\right)$. Using (5.10) for $R_{L3}$ gives:\n\n$$\n-\\frac{1}{R_{L3}} \\simeq -\\frac{I_Q}{V_{CC}} \\tag{5.19}\n$$\n\nComparing (5.18) with (5.19) shows that the load line with $R_L = R_{L3}$ is tangent to the power hyperbola passing through the quiescent point, since both curves have the same slope at that point. This result is illustrated in Fig. 5.6. As the operating point leaves the quiescent point and moves on the load line with $R_L = R_{L3}$, the load line then intersects constant-power hyperbolas representing lower power values; therefore, the instantaneous device power dissipation decreases. This point of view is consistent with the power waveform shown in Fig. 5.5.\n\nThe load line for $R_L \\rightarrow \\infty$ (open-circuit load) is also shown in Fig. 5.6. In that case, the transistor collector current does not vary over a period but is constant. For values of $V_{ce1}$ greater than the quiescent value, the instantaneous device power dissipation increases. The maximum possible value of $V_{ce1}$ is $(2V_{CC} - V_{CE2(sat)})$. At this value, the instantaneous power dissipation in $Q_{1}$ is approximately $2 V_{CC} I_Q$ if $V_{CE2(sat)} \\ll V_{CC}$. This dissipation is twice the quiescent value of $V_{CC} I_Q$, and this possibility should be taken into account when considering the power-handling requirements of $Q_{1}$. At the other extreme of the swing where $V_{ce1} \\simeq 0$, the power dissipation in $Q_{2}$ is also $2 V_{CC} I_Q$.\n\nA situation that is potentially even more damaging can occur if the load is short-circuited. In that case, the load line is vertical through the quiescent point, as shown in Fig. 5.6. With large input signals, the collector current (and thus the device power dissipation) of $Q_{1}$ can become quite large. The limit on collector current is set by the ability of the driver to supply the base current to $Q_{1}$, and also by the high-current fall-off in $\\beta_F$ of $Q_{1}$, described in Chapter 1. In practice, these limits may be sufficient to prevent burnout of $Q_{1}$, but current-limiting circuitry may be necessary. An example of such protection is given in Section 5.4.6.\n\nA useful general result can be derived from the calculations above involving load lines and constant-power hyperbolas. Figure 5.6 shows that the maximum instantaneous device power dissipation for $R_L = R_{L3}$ occurs at the quiescent point $Q$ (since $P_1 < P_2 < P_3$), which is the midpoint of the load line if $V_{CE2(sat)} \\ll V_{CC}$. (The midpoint of the load line is assumed to be midway between its intersections with the $I_{c}$ and $V_{ce}$ axes.) It can be seen from (5.17) that any load line tangent to a power hyperbola makes contact with the"
},
{
    "text": "The preceding calculations have focused on the performance of the emitter-follower output stage when it is driven by a sinusoidal input voltage. The stage that precedes the output stage is known as the driver stage, and in practical scenarios, it may impose additional constraints on the circuit's performance. For instance, it has been demonstrated that to drive the output voltage $V_{o}$ of the emitter follower to its maximum positive value, an input voltage slightly exceeding the supply voltage is necessary. Since the driver stage is typically connected to the same power supplies as the output stage, it generally cannot generate voltages higher than the supply voltage, thereby further limiting the potential output voltage swing.\n\nThese limitations arise from the fact that the emitter follower has a voltage gain of unity, meaning the driver stage must manage the same voltage swing as the output. However, the driver stage can be significantly lower in power compared to the output stage because the current it needs to supply is the base current of the emitter follower, which is approximately $1 / \\beta_{F}$ times the emitter current. As a result, the driver bias current can be much lower than the output-stage bias current, allowing for a smaller geometry to be used for the driver device. Despite having only unity voltage gain, the emitter follower provides substantial power gain, which is a necessary attribute for any output stage.\n\nThe image depicts a low-frequency, small-signal equivalent circuit for an emitter follower, as shown in Figure 5.7. The circuit includes a voltage source vi, resistors RS, rπ, RO, RL, and a current-controlled current source gmV1. The circuit is grounded at multiple points."
},
{
    "text": "The preceding calculations have focused on the performance of the emitter-follower output stage when it is driven by a sinusoidal input voltage. The stage that precedes the output stage is known as the driver stage, and in practical scenarios, it can impose additional constraints on the circuit's performance. For instance, it has been demonstrated that to drive the output voltage $V_{o}$ of the emitter follower to its maximum positive value, an input voltage slightly exceeding the supply voltage is necessary. Since the driver stage is typically connected to the same power supplies as the output stage, it generally cannot generate voltages higher than the supply voltage, thereby further limiting the potential output voltage swing.\n\nThese limitations arise from the fact that the emitter follower has a voltage gain of unity, meaning the driver stage must manage the same voltage swing as the output. However, the driver stage can be a significantly lower power stage compared to the output stage because the current it needs to supply is the base current of the emitter follower, which is approximately $1 / \\beta_{F}$ times the emitter current. As a result, the driver bias current can be much lower than the output-stage bias current, allowing for a smaller geometry to be used for the driver device. Despite having only unity voltage gain, the emitter follower provides substantial power gain, which is essential for any output stage.\n\nThe circuit depicted in Figure 5.7 is a low-frequency, small-signal equivalent circuit for an emitter follower, as shown in Figure 5.1. It comprises a voltage source vi, resistors RS, rπ, RO, RL, and a current-controlled current source gmV1. The circuit is grounded at multiple points."
},
{
    "text": "The calculations discussed earlier focus on the behavior of the emitter-follower output stage when it is driven by a sinusoidal input voltage. The stage that precedes the output stage is known as the driver stage, and in practical scenarios, it may impose additional constraints on the circuit's performance. For instance, it has been demonstrated that to push the output voltage $V_{o}$ of the emitter follower to its maximum positive level, an input voltage slightly higher than the supply voltage is necessary. Since the driver stage is typically connected to the same power supplies as the output stage, it generally cannot generate voltages exceeding the supply voltage, thereby further limiting the potential output voltage swing.\n\nThese limitations arise from the fact that the emitter follower has a voltage gain of unity, meaning the driver stage must manage the same voltage swing as the output. However, the driver stage can be significantly lower in power compared to the output stage because the current it needs to supply is the base current of the emitter follower, which is approximately $1 / \\beta_{F}$ times the emitter current. As a result, the driver bias current can be much lower than that of the output stage, allowing for a smaller geometry for the driver device. Despite having only unity voltage gain, the emitter follower provides substantial power gain, which is essential for any output stage.\n\nImage Description:\n[name: vi, type: VoltageSource, value: vi, ports: {Np: vin, Nn: GND}]\n[name: RS, type: Resistor, value: RS, ports: {N1: vin, N2: x}]\n[name: rπ, type: Resistor, value: rπ, ports: {N1: x, N2: vo}]\n[name: gmV1, type: CurrentControlledCurrentSource, ports: {Np: GND, Nn: vo}]\n[name: RL, type: Resistor, value: RL, ports: {N1: vo+, N2: GND}]\n\nAdditional Information:\nThe circuit depicted is a low-frequency small-signal equivalent circuit for an emitter follower. It comprises a voltage source vi, resistors RS, rπ, RO, RL, and a current-controlled current source gmV1. The circuit is grounded at multiple points.\n\nFigure 5.7: Low-frequency, small-signal equivalent circuit for the emitter follower of Fig. 5.1."
},
{
    "text": "The calculations discussed previously have focused on the performance of the emitter-follower output stage when it is driven by a sinusoidal input voltage. The stage that precedes the output stage is known as the driver stage, and in practical scenarios, it may impose additional constraints on the circuit's performance. For instance, it has been demonstrated that to drive the output voltage $V_{o}$ of the emitter follower to its maximum positive value, an input voltage slightly higher than the supply voltage is needed. Since the driver stage is typically connected to the same power supplies as the output stage, it generally cannot generate voltages exceeding the supply voltage, thereby further limiting the potential output voltage swing.\n\nThese limitations arise from the fact that the emitter follower has a voltage gain of unity, meaning the driver stage must manage the same voltage swing as the output. However, the driver stage can be significantly lower in power compared to the output stage because the current it needs to supply is the base current of the emitter follower, which is approximately $1 / \\beta_{F}$ times the emitter current. As a result, the driver bias current can be much lower than the output-stage bias current, allowing for a smaller geometry to be used for the driver device. Despite having only unity voltage gain, the emitter follower provides substantial power gain, which is essential for any output stage.\n\n(image description)\nFigure 5.7 depicts a low-frequency, small-signal equivalent circuit for the emitter follower shown in Fig. 5.1. The circuit includes a voltage source vi, resistors RS, rπ, RO, RL, and a current-controlled current source gmV1. The circuit is grounded at various points."
},
{
    "text": "The calculations previously discussed have focused on the performance of the emitter-follower output stage when it is driven by a sinusoidal input voltage. The stage that precedes the output stage is known as the driver stage, and in practical scenarios, it may impose additional constraints on the circuit's performance. For instance, it has been demonstrated that to drive the output voltage $V_{o}$ of the emitter follower to its maximum positive value, an input voltage slightly higher than the supply voltage is needed. Since the driver stage is typically connected to the same power supplies as the output stage, it generally cannot generate voltages exceeding the supply voltage, thereby further limiting the potential output voltage swing.\n\nThese limitations arise from the fact that the emitter follower has a voltage gain of unity, meaning the driver stage must manage the same voltage swing as the output. However, the driver can be a significantly lower power stage compared to the output stage because the current it needs to deliver is the base current of the emitter follower, which is approximately $1 / \\beta_{F}$ times the emitter current. As a result, the driver bias current can be much lower than the output-stage bias current, allowing for a smaller geometry to be used for the driver device. Despite having only unity voltage gain, the emitter follower provides substantial power gain, which is essential for any output stage.\n\n---\n\n[name: vi, type: VoltageSource, value: vi, ports: {Np: vin, Nn: GND}]\n[name: RS, type: Resistor, value: RS, ports: {N1: vin, N2: x}]\n[name: rπ, type: Resistor, value: rπ, ports: {N1: x, N2: vo}]\n[name: gmV1, type: CurrentControlledCurrentSource, ports: {Np: GND, Nn: vo}]\n[name: RL, type: Resistor, value: RL, ports: {N1: vo+, N2: GND}]\n\nAdditional Info: This circuit represents a low-frequency small-signal equivalent for an emitter follower. It comprises a voltage source vi, resistors RS, rπ, RO, RL, and a current-controlled current source gmV1. The circuit is grounded at various points.\n\nFigure 5.7 Low-frequency, small-signal equivalent circuit for the emitter follower of Fig. 5.1."
},
{
    "text": "The preceding calculations have focused on the performance of the emitter-follower output stage when it is driven by a sinusoidal input voltage. The stage that precedes the output stage is known as the driver stage, and in practical scenarios, it may impose additional constraints on the circuit's performance. For instance, it has been demonstrated that to drive the output voltage $V_{o}$ of the emitter follower to its maximum positive value, an input voltage slightly higher than the supply voltage is necessary. Since the driver stage is typically connected to the same power supplies as the output stage, it generally cannot generate voltages exceeding the supply voltage, thereby further limiting the potential output voltage swing.\n\nThese limitations arise from the fact that the emitter follower has a voltage gain of unity, meaning the driver stage must manage the same voltage swing as the output. However, the driver can be a significantly lower power stage compared to the output stage because the current it needs to supply is the base current of the emitter follower, which is approximately $1 / \\beta_{F}$ times the emitter current. As a result, the driver bias current can be much lower than the output-stage bias current, allowing for a smaller geometry to be used for the driver device. Despite having only unity voltage gain, the emitter follower provides substantial power gain, which is essential for any output stage.\n\nimage_name: Figure 5.7 Low-frequency, small-signal equivalent circuit for the emitter follower of Fig. 5.1.\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: vin, N2: x}\nname: rπ, type: Resistor, value: rπ, ports: {N1: x, N2: vo}\nname: gmV1, type: CurrentControlledCurrentSource, ports: {Np: GND, Nn: vo}\nname: RL, type: Resistor, value: RL, ports: {N1: vo+, N2: GND}\n]\nextrainfo: The circuit represents a low-frequency small-signal equivalent circuit for an emitter follower. It comprises a voltage source vi, resistors RS, rπ, RO, RL, and a current-controlled current source gmV1. The circuit is grounded at several points.\n\nFigure 5.7 Low-frequency, small-signal equivalent circuit for the emitter follower of Fig. 5.1."
},
{
    "text": "The computations presented have focused on the behavior of the emitter-follower output stage when subjected to a sinusoidal input voltage. The stage that precedes this output stage is known as the driver stage, and it can impose additional constraints on the circuit's overall performance. For instance, it has been demonstrated that driving the output voltage $V_{o}$ of the emitter follower to its peak positive value necessitates an input voltage marginally above the supply voltage. Given that the driver stage typically shares the same power supplies as the output stage, it usually cannot generate voltages exceeding the supply voltage, thereby further limiting the potential output voltage swing.\n\nThese constraints arise from the fact that the emitter follower possesses a voltage gain of unity, meaning the driver stage must manage the same voltage swing as the output. Nonetheless, the driver stage can be significantly lower in power compared to the output stage since the current it needs to supply is the base current of the emitter follower, which is approximately $1 / \\beta_{F}$ times the emitter current. As a result, the driver bias current can be substantially less than that of the output stage, allowing for a smaller geometry for the driver device. Despite having only unity voltage gain, the emitter follower offers considerable power gain, a crucial attribute for any output stage.\n\nImage Description:\n[name: vi, type: VoltageSource, value: vi, ports: {Np: vin, Nn: GND}]\n[name: RS, type: Resistor, value: RS, ports: {N1: vin, N2: x}]\n[name: rπ, type: Resistor, value: rπ, ports: {N1: x, N2: vo}]\n[name: gmV1, type: CurrentControlledCurrentSource, ports: {Np: GND, Nn: vo}]\n[name: RL, type: Resistor, value: RL, ports: {N1: vo+, N2: GND}]\nExtra Info: This circuit is a low-frequency small-signal equivalent for an emitter follower, incorporating a voltage source vi, resistors RS, rπ, RO, RL, and a current-controlled current source gmV1, with multiple grounding points.\n\nFigure 5.7: Low-frequency, small-signal equivalent circuit for the emitter follower depicted in Fig. 5.1."
},
{
    "text": "The calculations discussed earlier focus on the performance of the emitter-follower output stage when it is driven by a sinusoidal input voltage. The stage that precedes the output stage is known as the driver stage, which can impose additional constraints on the circuit's performance. For instance, it has been demonstrated that to drive the output voltage $V_{o}$ of the emitter follower to its maximum positive value, an input voltage slightly higher than the supply voltage is needed. Since the driver stage is typically connected to the same power supplies as the output stage, it generally cannot generate voltages exceeding the supply voltage, thereby further limiting the potential output voltage swing.\n\nThese limitations arise from the fact that the emitter follower has a voltage gain of unity, meaning the driver stage must manage the same voltage swing as the output. However, the driver stage can be a significantly lower power stage compared to the output stage because the current it needs to supply is the base current of the emitter follower, which is approximately $1 / \\beta_{F}$ times the emitter current. As a result, the driver bias current can be much lower than the output-stage bias current, allowing for a smaller geometry for the driver device. Despite having only unity voltage gain, the emitter follower provides substantial power gain, a necessary attribute for any output stage.\n\n(image_name: Figure 5.7 Low-frequency, small-signal equivalent circuit for the emitter follower of Fig. 5.1.\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: vin, N2: x}\nname: rπ, type: Resistor, value: rπ, ports: {N1: x, N2: vo}\nname: gmV1, type: CurrentControlledCurrentSource, ports: {Np: GND, Nn: vo}\nname: RL, type: Resistor, value: RL, ports: {N1: vo+, N2: GND}\n]\nextrainfo: The circuit is a low-frequency small-signal equivalent circuit for an emitter follower. It includes a voltage source vi, resistors RS, rπ, RO, RL, and a current-controlled current source gmV1. The circuit is grounded at multiple points.)\n\nFigure 5.7 Low-frequency, small-signal equivalent circuit for the emitter follower of Fig. 5.1."
},
{
    "text": "A simplified low-frequency, small-signal equivalent circuit of the emitter follower depicted in Fig. 5.1 is illustrated in Fig. 5.7. As detailed in Chapter 7, the emitter follower is an exceptionally wideband circuit and seldom acts as a frequency limitation factor in the small-signal gain of an amplifier. Consequently, the equivalent circuit in Fig. 5.7 is applicable across a broad frequency spectrum. An analysis of this circuit reveals that the voltage gain $A_{v}$ and the output resistance $R_{o}$ can be approximately expressed for $\\beta_{0} \\gg 1$ as follows:\n\n$$\n\\begin{align*}\nA_{v}=\\frac{v_{o}}{v_{i}} & \\simeq \\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}}}  \\tag{5.20}\\\\\nR_{o} & =\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}} \\tag{5.21}\n\\end{align*}\n$$\n\nThese parameters are small-signal quantities, and since $g_{m}=q I_{C} / \\mathrm{k} T$ depends on the bias point, both $A_{v}$ and $R_{o}$ are functions of $I_{C}$. Given that the emitter follower is being examined here for its use as an output stage where significant signal swings may occur, equations (5.20) and (5.21) should be applied cautiously. However, for small to moderate signal swings, these equations can be utilized to estimate the average gain and output resistance of the stage, provided quiescent bias values are used for the transistor parameters. Equation 5.20 can also serve to estimate the nonlinearity ${ }^{1}$ in the stage by noting that it provides the incremental slope of the large-signal characteristic shown in Fig. 5.2 at any given point. Evaluating this equation at the signal swing extremes yields an estimate of the characteristic's curvature, as demonstrated in the subsequent example.\n\n#### EXAMPLE\n\nDetermine the incremental slope of the transfer characteristic for the circuit in Fig. 5.1 at the quiescent point and at the signal swing extremes with a peak sinusoidal output of 0.6 V. Use the data from the preceding example and assume $R_{S}=0$.\n\nFrom equation (5.20), the small-signal gain with $R_{S}=0$ is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}} \\tag{5.22}\n\\end{equation*}\n$$\n\nGiven $I_{Q}=1.86 \\mathrm{~mA}$, $1 / g_{m}=14 \\Omega$ at the quiescent point, the quiescent gain is\n\n$$\nA_{v} Q=\\frac{1000}{1000+14}=0.9862\n$$\n\nWith an output voltage swing of 0.6 V, the output current swing is\n\n$$\n\\hat{I}_{o}=\\frac{\\hat{V}_{o}}{R_{L}}=\\frac{0.6}{1000}=0.6 \\mathrm{~mA}\n$$\n\nThus, at the positive signal peak, the transistor collector current is\n\n$$\nI_{Q}+\\hat{I}_{o}=1.86+0.6=2.46 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=10.6 \\Omega$, and using (5.22) gives the small-signal gain as\n\n$$\nA_{v}^{+}=\\frac{1000}{1010.6}=0.9895\n$$\n\nThis gain is 0.3 percent higher than the quiescent value. At the negative signal peak, the transistor collector current is\n\n$$\nI_{Q}-\\hat{I}_{o}=1.86-0.6=1.26 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=20.6 \\Omega$, and using (5.22) yields the small-signal gain as\n\n$$\nA_{v}^{-}=\\frac{1000}{1020.6}=0.9798\n$$\n\nThis gain is 0.7 percent lower than the quiescent value. Despite the collector-current signal amplitude being one-third of the bias current in this example, the variation in small-signal gain is minimal, indicating a high degree of linearity. Given the low nonlinearity, the resulting distortion can be assessed from the three small-signal gain values calculated here. Refer to Problem 5.8 for further details."
},
{
    "text": "A simplified low-frequency, small-signal equivalent circuit of the emitter follower depicted in Fig. 5.1 is illustrated in Fig. 5.7. As outlined in Chapter 7, the emitter follower is an exceptionally wideband circuit and seldom acts as a frequency limiting factor in the small-signal gain of an amplifier. Consequently, the equivalent circuit in Fig. 5.7 is effective across a broad frequency spectrum. Analyzing this circuit reveals that the voltage gain $A_{v}$ and the output resistance $R_{o}$ can be approximately expressed for $\\beta_{0} \\gg 1$ as follows:\n\n$$\n\\begin{align*}\nA_{v}=\\frac{v_{o}}{v_{i}} & \\simeq \\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}}}  \\tag{5.20}\\\\\nR_{o} & =\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}} \\tag{5.21}\n\\end{align*}\n$$\n\nThese parameters are small-signal quantities, and since $g_{m}=q I_{C} / \\mathrm{k} T$ depends on the bias point, both $A_{v}$ and $R_{o}$ are functions of $I_{C}$. Given that the emitter follower is being evaluated here for use as an output stage where the signal swing might be substantial, equations (5.20) and (5.21) should be applied cautiously. However, for small to moderate signal swings, these equations can be employed to estimate the average gain and output resistance of the stage, provided quiescent bias values are used for the transistor parameters. Equation 5.20 can also serve to estimate the nonlinearity ${ }^{1}$ in the stage by noting that it provides the incremental slope of the large-signal characteristic shown in Fig. 5.2 at any given point. Evaluating this equation at the signal swing extremes yields an estimate of the characteristic's curvature, as demonstrated in the subsequent example.\n\n#### EXAMPLE\n\nDetermine the incremental slope of the transfer characteristic for the circuit in Fig. 5.1 at the quiescent point and at the signal swing extremes with a peak sinusoidal output of 0.6 V. Utilize the data from the prior example and assume $R_{S}=0$.\n\nFrom equation (5.20), the small-signal gain with $R_{S}=0$ is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}} \\tag{5.22}\n\\end{equation*}\n$$\n\nGiven $I_{Q}=1.86 \\mathrm{~mA}$, $1 / g_{m}=14 \\Omega$ at the quiescent point, the quiescent gain is\n\n$$\nA_{v} Q=\\frac{1000}{1000+14}=0.9862\n$$\n\nWith an output voltage swing of 0.6 V, the output current swing is\n\n$$\n\\hat{I}_{o}=\\frac{\\hat{V}_{o}}{R_{L}}=\\frac{0.6}{1000}=0.6 \\mathrm{~mA}\n$$\n\nThus, at the positive signal peak, the transistor collector current is\n\n$$\nI_{Q}+\\hat{I}_{o}=1.86+0.6=2.46 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=10.6 \\Omega$, and using (5.22) yields the small-signal gain as\n\n$$\nA_{v}^{+}=\\frac{1000}{1010.6}=0.9895\n$$\n\nThis gain is 0.3 percent higher than the quiescent value. At the negative signal peak, the transistor collector current is\n\n$$\nI_{Q}-\\hat{I}_{o}=1.86-0.6=1.26 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=20.6 \\Omega$, and using (5.22) gives the small-signal gain as\n\n$$\nA_{v}^{-}=\\frac{1000}{1020.6}=0.9798\n$$\n\nThis gain is 0.7 percent lower than the quiescent value. Despite the collector-current signal amplitude being one-third of the bias current in this example, the variation in small-signal gain is minimal, indicating a high degree of linearity. Given the low nonlinearity, the resulting distortion can be assessed from the three small-signal gain values calculated here. Refer to Problem 5.8 for further details."
},
{
    "text": "A simplified low-frequency, small-signal equivalent circuit of the emitter follower depicted in Fig. 5.1 is illustrated in Fig. 5.7. As detailed in Chapter 7, the emitter follower is an exceptionally wideband circuit and seldom acts as a limiting factor in the small-signal gain of an amplifier. Consequently, the equivalent circuit in Fig. 5.7 is applicable across a broad frequency spectrum. An analysis of this circuit reveals that the voltage gain $A_{v}$ and the output resistance $R_{o}$ can be approximately expressed for $\\beta_{0} \\gg 1$ as follows:\n\n$$\n\\begin{align*}\nA_{v}=\\frac{v_{o}}{v_{i}} & \\simeq \\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}}}  \\tag{5.20}\\\\\nR_{o} & =\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}} \\tag{5.21}\n\\end{align*}\n$$\n\nThese parameters are small-signal quantities, and since $g_{m}=q I_{C} / \\mathrm{k} T$ depends on the bias point, both $A_{v}$ and $R_{o}$ are functions of $I_{C}$. Given that the emitter follower is being evaluated here for use as an output stage where significant signal swings may occur, equations (5.20) and (5.21) should be applied cautiously. However, for small to moderate signal swings, these equations can be employed to estimate the average gain and output resistance of the stage, provided quiescent bias values are used for the transistor parameters. Equation 5.20 can also serve to estimate the stage's nonlinearity ${ }^{1}$ by indicating the incremental slope of the large-signal characteristic in Fig. 5.2 at any given point. Evaluating this equation at the signal swing extremes yields an estimate of the characteristic's curvature, as demonstrated in the subsequent example.\n\n#### EXAMPLE\n\nDetermine the incremental slope of the transfer characteristic for the circuit in Fig. 5.1 at the quiescent point and at the signal swing extremes with a peak sinusoidal output of 0.6 V. Use the data from the prior example and assume $R_{S}=0$.\n\nFrom equation (5.20), the small-signal gain with $R_{S}=0$ is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}} \\tag{5.22}\n\\end{equation*}\n$$\n\nGiven $I_{Q}=1.86 \\mathrm{~mA}$, $1 / g_{m}=14 \\Omega$ at the quiescent point, the quiescent gain is\n\n$$\nA_{v} Q=\\frac{1000}{1000+14}=0.9862\n$$\n\nWith an output voltage swing of 0.6 V, the output current swing is\n\n$$\n\\hat{I}_{o}=\\frac{\\hat{V}_{o}}{R_{L}}=\\frac{0.6}{1000}=0.6 \\mathrm{~mA}\n$$\n\nThus, at the positive signal peak, the transistor collector current is\n\n$$\nI_{Q}+\\hat{I}_{o}=1.86+0.6=2.46 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=10.6 \\Omega$, and using (5.22) yields the small-signal gain as\n\n$$\nA_{v}^{+}=\\frac{1000}{1010.6}=0.9895\n$$\n\nThis gain is 0.3 percent higher than the quiescent value. At the negative signal peak, the transistor collector current is\n\n$$\nI_{Q}-\\hat{I}_{o}=1.86-0.6=1.26 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=20.6 \\Omega$, and using (5.22) gives the small-signal gain as\n\n$$\nA_{v}^{-}=\\frac{1000}{1020.6}=0.9798\n$$\n\nThis gain is 0.7 percent lower than the quiescent value. Despite the collector-current signal amplitude being one-third of the bias current in this example, the variation in small-signal gain is minimal, indicating a high degree of linearity. Given the low nonlinearity, the resulting distortion can be assessed from the three small-signal gain values calculated here. Refer to Problem 5.8 for further details."
},
{
    "text": "A simplified low-frequency, small-signal equivalent circuit of the emitter follower depicted in Fig. 5.1 is illustrated in Fig. 5.7. As detailed in Chapter 7, the emitter follower is an exceptionally wideband circuit and seldom acts as a frequency limiting factor in the small-signal gain of an amplifier. Consequently, the equivalent circuit in Fig. 5.7 is applicable across a broad frequency spectrum. Analyzing this circuit reveals that the voltage gain $A_{v}$ and the output resistance $R_{o}$ can be approximately expressed for $\\beta_{0} \\gg 1$ as follows:\n\n$$\n\\begin{align*}\nA_{v}=\\frac{v_{o}}{v_{i}} & \\simeq \\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}}}  \\tag{5.20}\\\\\nR_{o} & =\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}} \\tag{5.21}\n\\end{align*}\n$$\n\nThese parameters are small-signal quantities. Given that $g_{m}=q I_{C} / \\mathrm{k} T$ depends on the bias point, both $A_{v}$ and $R_{o}$ are functions of $I_{C}$. Since the emitter follower is being evaluated here for use as an output stage where significant signal swings may occur, equations (5.20) and (5.21) should be applied cautiously. However, for small to moderate signal swings, these equations can estimate the average gain and output resistance of the stage if quiescent bias values are used for the transistor parameters. Equation 5.20 can also serve to estimate the stage's nonlinearity by providing the incremental slope of the large-signal characteristic shown in Fig. 5.2 at any point. Evaluating this equation at the signal swing extremes yields an estimate of the characteristic's curvature, as demonstrated in the subsequent example.\n\n#### EXAMPLE\n\nDetermine the incremental slope of the transfer characteristic for the circuit in Fig. 5.1 at the quiescent point and at the signal swing extremes with a peak sinusoidal output of 0.6 V. Use the data from the prior example and assume $R_{S}=0$.\n\nFrom equation (5.20), the small-signal gain with $R_{S}=0$ is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}} \\tag{5.22}\n\\end{equation*}\n$$\n\nGiven $I_{Q}=1.86 \\mathrm{~mA}$, $1 / g_{m}=14 \\Omega$ at the quiescent point, the quiescent gain is\n\n$$\nA_{v} Q=\\frac{1000}{1000+14}=0.9862\n$$\n\nWith an output voltage swing of 0.6 V, the output current swing is\n\n$$\n\\hat{I}_{o}=\\frac{\\hat{V}_{o}}{R_{L}}=\\frac{0.6}{1000}=0.6 \\mathrm{~mA}\n$$\n\nThus, at the positive signal peak, the transistor collector current is\n\n$$\nI_{Q}+\\hat{I}_{o}=1.86+0.6=2.46 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=10.6 \\Omega$, and using (5.22) yields the small-signal gain as\n\n$$\nA_{v}^{+}=\\frac{1000}{1010.6}=0.9895\n$$\n\nThis gain is 0.3 percent higher than the quiescent value. At the negative signal peak, the transistor collector current is\n\n$$\nI_{Q}-\\hat{I}_{o}=1.86-0.6=1.26 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=20.6 \\Omega$, and using (5.22) gives the small-signal gain as\n\n$$\nA_{v}^{-}=\\frac{1000}{1020.6}=0.9798\n$$\n\nThis gain is 0.7 percent lower than the quiescent value. Despite the collector-current signal amplitude being one-third of the bias current in this example, the small-signal gain variation is minimal, indicating a high degree of linearity. Given the low nonlinearity, the resulting distortion can be derived from the three small-signal gain values calculated here. Refer to Problem 5.8 for further details."
},
{
    "text": "A simplified low-frequency, small-signal equivalent circuit of the emitter follower from Fig. 5.1 is depicted in Fig. 5.7. As outlined in Chapter 7, the emitter follower is an exceptionally wideband circuit and seldom acts as a frequency-limiting factor in the small-signal gain of an amplifier. Consequently, the equivalent circuit in Fig. 5.7 is effective across a broad frequency spectrum. Analyzing this circuit reveals that the voltage gain $A_{v}$ and the output resistance $R_{o}$ can be approximately expressed for $\\beta_{0} \\gg 1$ as follows:\n\n$$\n\\begin{align*}\nA_{v}=\\frac{v_{o}}{v_{i}} & \\simeq \\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}}}  \\tag{5.20}\\\\\nR_{o} & =\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}} \\tag{5.21}\n\\end{align*}\n$$\n\nThese parameters are small-signal quantities, and since $g_{m}=q I_{C} / \\mathrm{k} T$ depends on the bias point, both $A_{v}$ and $R_{o}$ are functions of $I_{C}$. Given that the emitter follower is being examined here for use as an output stage where significant signal swings may occur, equations (5.20) and (5.21) should be applied cautiously. However, for small to moderate signal swings, these equations can estimate the average gain and output resistance of the stage if the quiescent bias values are used for the transistor parameters. Equation 5.20 can also serve to estimate the nonlinearity ${ }^{1}$ in the stage by providing the incremental slope of the large-signal characteristic in Fig. 5.2 at any given point. Evaluating this equation at the signal swing extremes yields an estimate of the characteristic's curvature, as demonstrated in the subsequent example.\n\n#### EXAMPLE\n\nDetermine the incremental slope of the transfer characteristic for the circuit in Fig. 5.1 at the quiescent point and at the signal swing extremes with a peak sinusoidal output of 0.6 V. Use the data from the prior example and assume $R_{S}=0$.\n\nFrom (5.20), the small-signal gain with $R_{S}=0$ is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}} \\tag{5.22}\n\\end{equation*}\n$$\n\nGiven $I_{Q}=1.86 \\mathrm{~mA}$, $1 / g_{m}=14 \\Omega$ at the quiescent point, the quiescent gain is\n\n$$\nA_{v} Q=\\frac{1000}{1000+14}=0.9862\n$$\n\nWith an output voltage swing of 0.6 V, the output current swing is\n\n$$\n\\hat{I}_{o}=\\frac{\\hat{V}_{o}}{R_{L}}=\\frac{0.6}{1000}=0.6 \\mathrm{~mA}\n$$\n\nThus, at the positive signal peak, the transistor collector current is\n\n$$\nI_{Q}+\\hat{I}_{o}=1.86+0.6=2.46 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=10.6 \\Omega$, and using (5.22), the small-signal gain is\n\n$$\nA_{v}^{+}=\\frac{1000}{1010.6}=0.9895\n$$\n\nThis gain is 0.3 percent higher than the quiescent value. At the negative signal peak, the transistor collector current is\n\n$$\nI_{Q}-\\hat{I}_{o}=1.86-0.6=1.26 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=20.6 \\Omega$, and using (5.22), the small-signal gain is\n\n$$\nA_{v}^{-}=\\frac{1000}{1020.6}=0.9798\n$$\n\nThis gain is 0.7 percent lower than the quiescent value. Despite the collector-current signal amplitude being one-third of the bias current in this example, the small-signal gain variation is minimal, indicating a high degree of linearity. Given the low nonlinearity, the resulting distortion can be assessed from the three small-signal gain values calculated here. Refer to Problem 5.8 for further details."
},
{
    "text": "A simplified low-frequency, small-signal equivalent circuit of the emitter follower depicted in Fig. 5.1 is illustrated in Fig. 5.7. As detailed in Chapter 7, the emitter follower is a highly wideband circuit and seldom acts as a frequency limiting factor in the small-signal gain of an amplifier. Consequently, the equivalent circuit in Fig. 5.7 is applicable across a broad frequency spectrum. An analysis of this circuit reveals that the voltage gain $A_{v}$ and the output resistance $R_{o}$ can be approximately expressed for $\\beta_{0} \\gg 1$ as follows:\n\n$$\n\\begin{align*}\nA_{v}=\\frac{v_{o}}{v_{i}} & \\simeq \\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}}}  \\tag{5.20}\\\\\nR_{o} & =\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}} \\tag{5.21}\n\\end{align*}\n$$\n\nThese parameters are small-signal quantities, and since $g_{m}=q I_{C} / \\mathrm{k} T$ depends on the bias point, both $A_{v}$ and $R_{o}$ are functions of $I_{C}$. Given that the emitter follower is being evaluated here for use as an output stage where significant signal swings may occur, equations (5.20) and (5.21) should be applied with care. However, for small to moderate signal swings, these equations can be used to estimate the average gain and output resistance of the stage if the quiescent bias values are employed for the transistor parameters. Equation 5.20 can also serve to estimate the nonlinearity ${ }^{1}$ in the stage by noting that it provides the incremental slope of the large-signal characteristic shown in Fig. 5.2 at any point. Evaluating this equation at the signal swing extremes yields an estimate of the characteristic's curvature, as demonstrated in the subsequent example.\n\n#### EXAMPLE\n\nDetermine the incremental slope of the transfer characteristic for the circuit in Fig. 5.1 at the quiescent point and at the signal swing extremes with a peak sinusoidal output of 0.6 V. Use the data from the prior example and assume $R_{S}=0$.\n\nFrom (5.20), the small-signal gain with $R_{S}=0$ is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}} \\tag{5.22}\n\\end{equation*}\n$$\n\nGiven $I_{Q}=1.86 \\mathrm{~mA}$, $1 / g_{m}=14 \\Omega$ at the quiescent point, the quiescent gain is\n\n$$\nA_{v} Q=\\frac{1000}{1000+14}=0.9862\n$$\n\nWith an output voltage swing of 0.6 V, the output current swing is\n\n$$\n\\hat{I}_{o}=\\frac{\\hat{V}_{o}}{R_{L}}=\\frac{0.6}{1000}=0.6 \\mathrm{~mA}\n$$\n\nThus, at the positive signal peak, the transistor collector current is\n\n$$\nI_{Q}+\\hat{I}_{o}=1.86+0.6=2.46 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=10.6 \\Omega$, and using (5.22), the small-signal gain is\n\n$$\nA_{v}^{+}=\\frac{1000}{1010.6}=0.9895\n$$\n\nThis gain is 0.3 percent higher than the quiescent value. At the negative signal peak, the transistor collector current is\n\n$$\nI_{Q}-\\hat{I}_{o}=1.86-0.6=1.26 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=20.6 \\Omega$, and using (5.22), the small-signal gain is\n\n$$\nA_{v}^{-}=\\frac{1000}{1020.6}=0.9798\n$$\n\nThis gain is 0.7 percent lower than the quiescent value. Although the collector-current signal amplitude is one-third of the bias current in this example, the small-signal gain variation is minimal. This circuit, therefore, exhibits a high level of linearity. Since the nonlinearity is minor, the resulting distortion can be assessed from the three small-signal gain values calculated in this example. Refer to Problem 5.8 for further details."
},
{
    "text": "A simplified, low-frequency, small-signal equivalent circuit of the emitter follower depicted in Fig. 5.1 is illustrated in Fig. 5.7. As detailed in Chapter 7, the emitter follower is an exceptionally wideband circuit and seldom acts as a frequency limiting factor in the small-signal gain of an amplifier. Consequently, the equivalent circuit in Fig. 5.7 remains effective across a broad frequency spectrum. Analyzing this circuit reveals that the voltage gain $A_{v}$ and the output resistance $R_{o}$ can be approximately expressed for $\\beta_{0} \\gg 1$ as follows:\n\n$$\n\\begin{align*}\nA_{v}=\\frac{v_{o}}{v_{i}} & \\simeq \\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}}}  \\tag{5.20}\\\\\nR_{o} & =\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}} \\tag{5.21}\n\\end{align*}\n$$\n\nThese values represent small-signal parameters, and since $g_{m}=q I_{C} / \\mathrm{k} T$ depends on the bias point, both $A_{v}$ and $R_{o}$ are functions of $I_{C}$. Given that the emitter follower is examined here for use as an output stage, where signal swings can be substantial, equations (5.20) and (5.21) should be applied cautiously. However, for small to moderate signal swings, these equations can estimate the average gain and output resistance of the stage if quiescent bias values are used for the transistor parameters. Equation 5.20 can also serve to estimate the stage's nonlinearity ${ }^{1}$ by indicating the incremental slope of the large-signal characteristic shown in Fig. 5.2 at any given point. Evaluating this equation at the signal swing extremes provides an estimate of the characteristic's curvature, as demonstrated in the subsequent example.\n\n#### EXAMPLE\n\nDetermine the incremental slope of the transfer characteristic for the circuit in Fig. 5.1 at the quiescent point and at the signal swing extremes with a peak sinusoidal output of 0.6 V. Utilize the data from the preceding example and assume $R_{S}=0$.\n\nFrom equation (5.20), the small-signal gain with $R_{S}=0$ is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}} \\tag{5.22}\n\\end{equation*}\n$$\n\nGiven $I_{Q}=1.86 \\mathrm{~mA}$, $1 / g_{m}=14 \\Omega$ at the quiescent point, the quiescent gain is\n\n$$\nA_{v} Q=\\frac{1000}{1000+14}=0.9862\n$$\n\nWith an output voltage swing of 0.6 V, the output current swing is\n\n$$\n\\hat{I}_{o}=\\frac{\\hat{V}_{o}}{R_{L}}=\\frac{0.6}{1000}=0.6 \\mathrm{~mA}\n$$\n\nThus, at the positive signal peak, the transistor collector current is\n\n$$\nI_{Q}+\\hat{I}_{o}=1.86+0.6=2.46 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=10.6 \\Omega$, and using (5.22) yields the small-signal gain as\n\n$$\nA_{v}^{+}=\\frac{1000}{1010.6}=0.9895\n$$\n\nThis gain is 0.3 percent higher than the quiescent value. At the negative signal peak, the transistor collector current is\n\n$$\nI_{Q}-\\hat{I}_{o}=1.86-0.6=1.26 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=20.6 \\Omega$, and using (5.22) gives the small-signal gain as\n\n$$\nA_{v}^{-}=\\frac{1000}{1020.6}=0.9798\n$$\n\nThis gain is 0.7 percent lower than the quiescent value. Despite the collector-current signal amplitude being one-third of the bias current in this example, the variation in small-signal gain is minimal, indicating a high degree of linearity. Given the low nonlinearity, the resulting distortion can be derived from the three small-signal gain values calculated herein. Refer to Problem 5.8 for further details."
},
{
    "text": "A simplified low-frequency, small-signal equivalent circuit of the emitter follower from Fig. 5.1 is depicted in Fig. 5.7. As outlined in Chapter 7, the emitter follower is an exceptionally wideband circuit and seldom acts as a frequency limitation source in the small-signal gain of an amplifier. Consequently, the equivalent circuit in Fig. 5.7 is effective across a broad frequency spectrum. Analyzing this circuit reveals that the voltage gain $A_{v}$ and the output resistance $R_{o}$ can be approximately expressed for $\\beta_{0} \\gg 1$ as follows:\n\n$$\n\\begin{align*}\nA_{v}=\\frac{v_{o}}{v_{i}} & \\simeq \\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}}}  \\tag{5.20}\\\\\nR_{o} & =\\frac{1}{g_{m}}+\\frac{R_{S}}{\\beta_{0}} \\tag{5.21}\n\\end{align*}\n$$\n\nThese values are small-signal parameters, and since $g_{m}=q I_{C} / \\mathrm{k} T$ depends on the bias point, both $A_{v}$ and $R_{o}$ are functions of $I_{C}$. Given that the emitter follower is being evaluated here for use as an output stage where signal swings may be significant, equations (5.20) and (5.21) should be applied cautiously. However, for small to moderate signal swings, these equations can estimate the average gain and output resistance of the stage if quiescent bias values are used for transistor parameters. Equation 5.20 can also serve to estimate the stage's nonlinearity ${ }^{1}$ by noting that it provides the incremental slope of the large-signal characteristic in Fig. 5.2 at any point. Evaluating this equation at the signal swing extremes yields an estimate of the characteristic's curvature, as demonstrated in the subsequent example.\n\n#### EXAMPLE\n\nDetermine the incremental slope of the transfer characteristic for the circuit in Fig. 5.1 at the quiescent point and at the signal swing extremes with a peak sinusoidal output of 0.6 V. Use the data from the prior example and assume $R_{S}=0$.\n\nFrom (5.20), the small-signal gain with $R_{S}=0$ is\n\n$$\n\\begin{equation*}\nA_{v}=\\frac{R_{L}}{R_{L}+\\frac{1}{g_{m}}} \\tag{5.22}\n\\end{equation*}\n$$\n\nGiven $I_{Q}=1.86 \\mathrm{~mA}$, $1 / g_{m}=14 \\Omega$ at the quiescent point, the quiescent gain is\n\n$$\nA_{v} Q=\\frac{1000}{1000+14}=0.9862\n$$\n\nWith an output voltage swing of 0.6 V, the output current swing is\n\n$$\n\\hat{I}_{o}=\\frac{\\hat{V}_{o}}{R_{L}}=\\frac{0.6}{1000}=0.6 \\mathrm{~mA}\n$$\n\nThus, at the positive signal peak, the transistor collector current is\n\n$$\nI_{Q}+\\hat{I}_{o}=1.86+0.6=2.46 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=10.6 \\Omega$, and using (5.22) yields the small-signal gain as\n\n$$\nA_{v}^{+}=\\frac{1000}{1010.6}=0.9895\n$$\n\nThis gain is 0.3 percent higher than the quiescent value. At the negative signal peak, the transistor collector current is\n\n$$\nI_{Q}-\\hat{I}_{o}=1.86-0.6=1.26 \\mathrm{~mA}\n$$\n\nAt this current, $1 / g_{m}=20.6 \\Omega$, and using (5.22) gives the small-signal gain as\n\n$$\nA_{v}^{-}=\\frac{1000}{1020.6}=0.9798\n$$\n\nThis gain is 0.7 percent lower than the quiescent value. Although the collector-current signal amplitude is one-third of the bias current in this example, the small-signal gain variation is minimal, indicating a high degree of linearity. Given the low nonlinearity, the resulting distortion can be assessed from the three small-signal gain values calculated here. Refer to Problem 5.8 for further details."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, utilizing equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a consistent difference. However, in practice, the body effect alters the threshold voltage, and the overdrive is not constant due to the varying drain current.\n\n**Image Description:**\nFigure 5.8 illustrates a source-follower output stage with current-mirror biasing. The circuit includes:\n- NMOS transistor M1 with ports: Source (Vout), Drain (VDD), Gate (Vin)\n- NMOS transistor M2 with ports: Source (-VDD), Drain (Vout), Gate (g2g3d3)\n- NMOS transistor M3 with ports: Source (-VDD), Drain (g2g3d3), Gate (g2g3d3)\n- Current source IR, value: IR, ports: Positive (VDD), Negative (g2g3d3)\n- Resistor RL, value: RL, ports: Node1 (Vout), Node2 (GND)\n\nThe circuit comprises a source-follower output stage with current-mirror biasing, where M1 and M2 form the output stage, M3 is used for current mirroring, IR provides the biasing current, and RL is the load resistor.\n\n**Figure 5.8:** Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true if M1 and M2 operate in the active region with output resistances significantly greater than RL.\n\nThe transfer characteristic is depicted in Fig. 5.9. It intersects the x-axis at the input-referred offset voltage, given by:\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain from (3.80). With $r_{o} \\rightarrow \\infty$, the slope is:\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\n**Image Description:**\nFigure 5.9 presents a transfer characteristic plot for the circuit in Fig. 5.8, showing the relationship between output voltage \\( V_o \\) (vertical axis) and input voltage \\( V_i \\) (horizontal axis). The plot illustrates the circuit's response to various input voltages, focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Graph Type and Function:**\n   - A transfer characteristic graph, commonly used in analog electronics to depict output variation with input.\n\n2. **Axes Labels and Units:**\n   - Horizontal axis: Input voltage \\( V_i \\)\n   - Vertical axis: Output voltage \\( V_o \\)\n   - Units are volts, though not explicitly stated.\n\n3. **Overall Behavior and Trends:**\n   - The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\), with a central linear region flanked by nonlinear cutoff and triode regions.\n   - As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, enters a linear region, and eventually saturates, indicating operational limits.\n\n4. **Key Features and Technical Details:**\n   - **Cutoff Region:** At low \\( V_i \\), the curve starts with a gentle slope, indicating \\( M_1 \\) cutoff.\n   - **Triode Region:** As \\( V_i \\) increases, the curve steepens, entering the \\( M_2 \\) triode region.\n   - **Linear Region:** The central part shows linear behavior where \\( V_o \\) increases proportionally with \\( V_i \\).\n   - **Saturation Region:** At high \\( V_i \\), the curve flattens, indicating saturation and \\( M_1 \\) triode region.\n   - **Key Points:** Marked voltages like \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) indicate operational thresholds.\n\n5. **Annotations and Specific Data Points:**\n   - Annotated with voltages such as \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for different operating conditions.\n   - \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing the impact of different load resistances on the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across various input voltages and load conditions, highlighting transitions between cutoff, linear, and saturation regions.\n\n**Figure 5.9:** Transfer characteristic of the circuit in Fig. 5.8 for low (\\( R_{L2} \\)) and high (\\( R_{L1} \\)) load resistance values.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies between 0.7 and 0.9. In contrast, the emitter-follower's transfer characteristic slope is unity under these conditions. Furthermore, (1.200) indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope in (5.27) varies with $V_{o}$ even when M1 operates in the active region, causing distortion. Fig. 5.9 overlooks this slope variation, but it is addressed in Section 5.3.2.\n\nWhen the output voltage approaches an overdrive of the positive supply, M1 enters the triode region, significantly reducing the transfer characteristic slope. The overdrive at this break point is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Therefore, the break point location depends on $R_{L}$, though this effect is not shown in Fig. 5.9. Unlike the emitter follower, the output can asymptotically reach the supply voltage with unlimited input voltage. Practically, the input must exceed $V_{D D}$ by at least the threshold voltage to place M1 in the triode region. If the input is limited to $V_{D D}$, M1 never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the transfer characteristic slope remains approximately constant until M2 enters the triode region, occurring when:\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope is nearly constant until M1 turns off, with the corresponding minimum output voltage being:\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is typically set greater than $V_{D D}$, ensuring the situation depicted for $R_{L}=R_{L1}$ in Fig. 5.9. Under this condition, the output voltage can swing almost to the positive and negative supply voltages before significant distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, featuring equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a fixed difference. However, in reality, the body effect alters the threshold voltage, and the overdrive is not constant due to the non-constant drain current.\nimage_name:Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It crosses the $x$ axis at the input-referred offset voltage, given by\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription:The graph in Figure 5.9 depicts the transfer characteristic for a circuit, showing the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot illustrates the circuit's response to various input voltages, focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to display how a circuit's output varies with its input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), and the vertical axis represents the output voltage \\( V_o \\). Both axes are typically measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region flanked by nonlinear regions due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, enters a linear region, and then saturates, indicating the circuit's operational limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows linear behavior where \\( V_o \\) increases proportionally with \\( V_i \\).\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important operational thresholds.\n\n5. **Annotations and Specific Data Points**:\n- The graph includes annotations like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior under different conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively demonstrates the circuit's behavior across various input voltages and load conditions, highlighting transitions between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually falls between 0.7 and 0.9. In contrast, the emitter-follower transfer characteristic has a unity slope under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope in (5.27) varies with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this slope variation, but it is addressed in Section 5.3.2.\n\nWhen the output voltage increases to an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the transfer characteristic's slope. The overdrive at this break point is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Therefore, the break point's location depends on $R_{L}$, though this effect is not shown in Fig. 5.9. Unlike the emitter follower, the output can asymptotically approach the supply voltage with unlimited input voltage. Practically, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the transfer characteristic's slope remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains nearly constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set greater than $V_{D D}$, ensuring the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.9 applies. Under this condition, the output voltage can swing nearly to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, utilizing equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a fixed difference. However, in practice, the body effect alters the threshold voltage, and the overdrive is not constant due to the varying drain current.\n\nimage_name:Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation is valid provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It intersects the $x$ axis at the input-referred offset voltage, given by\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain, as calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription:The graph in Figure 5.9 depicts the transfer characteristic for a circuit, showing the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot illustrates the circuit's response to various input voltages, focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to depict how a circuit's output varies with its input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), and the vertical axis represents the output voltage \\( V_o \\). Both axes are typically measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region flanked by nonlinear regions due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operational limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows linear behavior where \\( V_o \\) increases proportionally with \\( V_i \\).\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important operational thresholds.\n\n5. **Annotations and Specific Data Points**:\n- The graph includes annotations like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior under different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing the impact of different load resistances on the transfer characteristics.\n\nOverall, the graph effectively demonstrates the circuit's behavior across various input voltages and load conditions, highlighting transitions between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for low $\\left(R_{L 2}\\right)$ and high $\\left(R_{L 1}\\right)$ load resistance values.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies between 0.7 and 0.9. In contrast, the emitter-follower transfer characteristic has a unity slope under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope in (5.27) changes with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this slope variation, but it is addressed in Section 5.3.2.\n\nWhen the output voltage increases to an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the transfer characteristic's slope. The overdrive at this breakpoint is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Therefore, the breakpoint's location depends on $R_{L}$, though this effect is not shown in Fig. 5.9. Unlike the emitter follower, the output can asymptotically approach the supply voltage with unlimited input voltage. Practically, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the transfer characteristic's slope remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains nearly constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.9 applies. Under this condition, the output voltage can swing close to the positive and negative supply voltages before significant distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, featuring equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a fixed difference. However, in practice, the body effect alters the threshold voltage, and the overdrive is not constant due to the non-constant drain current.\n\n**Image Description: Figure 5.8 Source-follower output stage with current-mirror bias**\n- **Components**:\n  - M1: NMOS, S: Vout, D: VDD, G: Vin\n  - M2: NMOS, S: -VDD, D: Vout, G: g2g3d3\n  - M3: NMOS, S: -VDD, D: g2g3d3, G: g2g3d3\n  - IR: CurrentSource, value: IR, Np: VDD, Nn: g2g3d3\n  - RL: Resistor, value: RL, N1: Vout, N2: GND\n- **Additional Info**: The circuit is a source-follower output stage with current-mirror biasing. M1 and M2 form the output stage, while M3 is used for current mirroring. IR provides the biasing current, and RL is the load resistor.\n\nFigure 5.8 illustrates a source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation is valid if M1 and M2 operate in the active region with output resistances significantly larger than RL.\n\nThe transfer characteristic is depicted in Fig. 5.9. It intersects the x-axis at the input-referred offset voltage, given by\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\n**Image Description: Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8**\n- **Graph Details**:\n  - **Type**: Transfer characteristic graph, showing the relationship between output voltage \\( V_o \\) (vertical axis) and input voltage \\( V_i \\) (horizontal axis).\n  - **Axes**: \\( V_i \\) on the horizontal axis, \\( V_o \\) on the vertical axis, both in volts.\n  - **Behavior**: Nonlinear relationship with a central linear region, flanked by cutoff and triode operation regions.\n  - **Key Features**:\n    - **Cutoff Region**: Gradual slope at low \\( V_i \\).\n    - **Triode Region**: Steeper slope as \\( V_i \\) increases.\n    - **Linear Region**: Proportional increase of \\( V_o \\) with \\( V_i \\).\n    - **Saturation Region**: Flattening at high \\( V_i \\).\n    - **Annotations**: Critical voltages like \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) marked.\n\nFigure 5.9 shows the transfer characteristic of the circuit in Fig. 5.8 for low (\\( R_{L2} \\)) and high (\\( R_{L1} \\)) load resistance values.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies between 0.7 and 0.9. In contrast, the emitter-follower's transfer characteristic slope is unity under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope in (5.27) varies with $V_{o}$ even when M1 is in the active region, causing distortion. Fig. 5.9 overlooks this slope variation, but it is addressed in Section 5.3.2.\n\nWhen the output voltage approaches an overdrive of the positive supply, M1 enters the triode region, significantly reducing the transfer characteristic's slope. The overdrive at this break point is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Therefore, the break point's location depends on $R_{L}$, though this effect is not shown in Fig. 5.9. Unlike the emitter follower, the output can asymptotically reach the supply voltage with unlimited input voltage. However, in practice, the input must exceed $V_{D D}$ by at least the threshold voltage to place M1 in the triode region. If the input voltage is limited to $V_{D D}$, M1 never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the transfer characteristic's slope remains roughly constant until M2 enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope is nearly constant until M1 turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set greater than $V_{D D}$, ensuring the situation depicted for $R_{L}=R_{L1}$ in Fig. 5.9. Under this condition, the output voltage can swing nearly to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, utilizing equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a fixed difference. However, in practice, the body effect alters the threshold voltage, and the overdrive is not constant, primarily due to the varying drain current.\nimage_name:Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It crosses the $x$ axis at the input-referred offset voltage, given by\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription:The graph in Figure 5.9 depicts the transfer characteristic of a circuit, showing the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot illustrates the circuit's response to various input voltages, focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to depict how a circuit's output varies with its input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), and the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region flanked by nonlinear regions due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operational limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows linear behavior where \\( V_o \\) increases proportionally with \\( V_i \\).\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important operational thresholds.\n\n5. **Annotations and Specific Data Points**:\n- The graph includes annotations like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior under different conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing the impact of different load resistances on the transfer characteristics.\n\nOverall, the graph effectively demonstrates the circuit's behavior across various input voltages and load conditions, highlighting transitions between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies between 0.7 and 0.9. In contrast, the emitter-follower transfer characteristic has a unity slope under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope in (5.27) varies with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this slope variation, but it is addressed in Section 5.3.2.\n\nWhen the output voltage increases within an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the transfer characteristic's slope. The overdrive at this breakpoint is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Consequently, the breakpoint's location depends on $R_{L}$, though this effect is not shown in Fig. 5.9. Unlike the emitter follower, the output can asymptotically approach the supply voltage with unlimited input voltage. In practice, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the transfer characteristic's slope remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains nearly constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation depicted for $R_{L}=R_{L 1}$ in Fig. 5.9 applies. Under this condition, the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, featuring equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a fixed difference. However, in practice, the body effect alters the threshold voltage, and the overdrive is not constant due to the varying drain current.\n\nimage_name: Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo: The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It intersects the $x$ axis at the input-referred offset voltage, given by\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name: Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription: The graph in Figure 5.9 depicts the transfer characteristic of a circuit, showing the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot illustrates the circuit's response to various input voltages, focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to depict how a circuit's output varies with its input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), and the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region flanked by nonlinear regions due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operational limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows linear behavior where \\( V_o \\) increases proportionally with \\( V_i \\).\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important operational thresholds.\n\n5. **Annotations and Specific Data Points**:\n- The graph is annotated with specific voltage levels like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior under different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across various input voltages and load conditions, highlighting transitions between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually falls between 0.7 and 0.9. In contrast, the slope of the emitter-follower transfer characteristic is unity under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope calculated in (5.27) varies with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this slope variation, but it is addressed in Section 5.3.2.\n\nWhen the output voltage rises within an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the transfer characteristic's slope. The overdrive at this break point is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Hence, the break point's location depends on $R_{L}$, though this effect is not shown in Fig. 5.9. Unlike in the emitter follower, the output can asymptotically reach the supply voltage with unlimited input voltage. Practically, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the transfer characteristic's slope remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains nearly constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.9 prevails. Under this condition, the output voltage can swing nearly to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, featuring equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a fixed difference. In reality, however, the body effect alters the threshold voltage, and the overdrive is not constant due to the non-constant drain current.\nimage_name:Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It intersects the $x$ axis at the input-referred offset voltage, which is\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription:The graph in Figure 5.9 is a transfer characteristic plot for a circuit, showing the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot is used to illustrate how the circuit responds to different input voltages, particularly focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, typically used in analog electronics to show how the output of a circuit varies with the input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), while the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph shows a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region where the circuit operates linearly, flanked by regions of nonlinearity due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operating limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows a linear behavior where the output voltage increases proportionally with the input voltage.\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important thresholds in the circuit's operation.\n\n5. **Annotations and Specific Data Points**:\n- The graph is annotated with specific voltage levels like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior at different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across different input voltages and load conditions, highlighting the transition between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually falls between 0.7 and 0.9. In contrast, the emitter-follower transfer characteristic has a unity slope under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope calculated in (5.27) varies with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this slope variation, but it is addressed in Section 5.3.2.\n\nWhen the output voltage increases to an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the transfer characteristic's slope. The overdrive at this break point is determined using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Therefore, the break point's location depends on $R_{L}$, though this effect is not depicted in Fig. 5.9. Unlike the emitter follower, the output can asymptotically approach the supply voltage with unlimited input voltage. Practically, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the transfer characteristic's slope remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains nearly constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.9 prevails. Under this condition, the output voltage can swing nearly to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, featuring equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIf the threshold and overdrive terms remain precisely constant, the output voltage tracks the input voltage with a consistent difference. In practice, however, the body effect alters the threshold voltage, and the overdrive is not constant, primarily due to the non-constant drain current.\n\nimage_name: Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo: The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It intersects the $x$ axis at the input-referred offset voltage, which is\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name: Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription: The graph in Figure 5.9 is a transfer characteristic plot for a circuit, depicting the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot illustrates how the circuit responds to different input voltages, particularly focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to show how the output of a circuit varies with the input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), while the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region where the circuit operates linearly, flanked by regions of nonlinearity due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operating limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows a linear behavior where the output voltage increases proportionally with the input voltage.\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important thresholds in the circuit's operation.\n\n5. **Annotations and Specific Data Points**:\n- The graph is annotated with specific voltage levels like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior at different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across different input voltages and load conditions, highlighting the transition between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies from about 0.7 to 0.9. In contrast, the slope of the emitter-follower transfer characteristic is unity under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Therefore, the slope calculated in (5.27) varies as $V_{o}$ changes, even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this variation in the slope, but it is addressed in Section 5.3.2.\n\nWhen the output voltage increases within an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the slope of the transfer characteristic. The overdrive at this break point is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Thus, the location of the break point depends on $R_{L}$, though this effect is not depicted in Fig. 5.9. Unlike in the emitter follower, the output can asymptotically reach the supply voltage with unlimited input voltage. In practice, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the slope of the transfer characteristic remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains almost constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.9 prevails. Under this condition, the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, utilizing equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIf the threshold and overdrive terms remain precisely constant, the output voltage tracks the input voltage with a consistent difference. However, in practice, the body effect alters the threshold voltage, and the overdrive is not constant due to the non-constant drain current.\n\nImage Description: Figure 5.8 illustrates a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 constitute the output stage, while M3 is employed for current mirroring. The current source IR supplies the biasing current, and RL serves as the load resistor.\n\nFigure 5.8: Source-follower output stage with current-mirror bias.\n\nBy substituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23), we obtain\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that M1 and M2 operate in the active region with output resistances significantly larger than RL.\n\nThe transfer characteristic is depicted in Fig. 5.9. It intersects the x-axis at the input-referred offset voltage, given by\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this juncture is the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nImage Description: Figure 5.9 presents a transfer characteristic plot for the circuit in Fig. 5.8, illustrating the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot is used to demonstrate the circuit's response to varying input voltages, particularly focusing on two distinct load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Graph Type and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to show how a circuit's output varies with its input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), and the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region where the circuit operates linearly, bounded by regions of nonlinearity due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operational limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows linear behavior where \\( V_o \\) increases proportionally with \\( V_i \\).\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating significant thresholds in the circuit's operation.\n\n5. **Annotations and Specific Data Points**:\n- The graph includes annotations with specific voltage levels like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior under different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across various input voltages and load conditions, highlighting transitions between cutoff, linear, and saturation regions.\n\nFigure 5.9: Transfer characteristic of the circuit in Fig. 5.8 for low (\\( R_{L2} \\)) and high (\\( R_{L1} \\)) load resistance values.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually falls between 0.7 and 0.9. In contrast, the slope of the emitter-follower transfer characteristic is unity under these conditions. Furthermore, (1.200) indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope calculated in (5.27) varies with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this slope variation, but it is addressed in Section 5.3.2.\n\nWhen the output voltage increases to an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the transfer characteristic's slope. The overdrive at this breakpoint is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Therefore, the breakpoint location depends on $R_{L}$, though this effect is not shown in Fig. 5.9. Unlike the emitter follower, the output can asymptotically reach the supply voltage with unlimited input voltage. Practically, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the transfer characteristic's slope remains roughly constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains nearly constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set greater than $V_{D D}$, ensuring the condition shown for $R_{L}=R_{L1}$ in Fig. 5.9 prevails. Under this condition, the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, featuring equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a fixed difference. In reality, however, the body effect alters the threshold voltage, and the overdrive is not constant due to the non-constant drain current.\nimage_name:Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nBy substituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23), we obtain\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It intersects the $x$ axis at the input-referred offset voltage, which is\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point corresponds to the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription:The graph in Figure 5.9 is a transfer characteristic plot for a circuit, depicting the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot is used to illustrate how the circuit responds to different input voltages, particularly focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to show how the output of a circuit varies with the input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), while the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region where the circuit operates linearly, flanked by regions of nonlinearity due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operating limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows a linear behavior where the output voltage increases proportionally with the input voltage.\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important thresholds in the circuit's operation.\n\n5. **Annotations and Specific Data Points**:\n- The graph is annotated with specific voltage levels like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior at different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across different input voltages and load conditions, highlighting the transition between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies from about 0.7 to 0.9. In contrast, the slope of the emitter-follower transfer characteristic is unity under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Therefore, the slope calculated in (5.27) varies with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this variation in the slope, but it is addressed in Section 5.3.2.\n\nWhen the output voltage increases within an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the slope of the transfer characteristic. The overdrive at this break point is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Thus, the location of the break point depends on $R_{L}$, though this effect is not depicted in Fig. 5.9. Unlike in the emitter follower, the output can asymptotically approach the supply voltage with unlimited input voltage. In practice, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the slope of the transfer characteristic remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains almost constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.9 prevails. Under this condition, the output voltage can swing nearly to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, utilizing equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIf the threshold and overdrive terms are precisely constant, the output voltage tracks the input voltage with a fixed difference. However, in practice, the body effect alters the threshold voltage. Additionally, the overdrive is not constant, primarily due to the non-constant drain current.\n\nimage_name: Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo: The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation is valid provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It intersects the $x$ axis at the input-referred offset voltage, which is\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name: Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription: The graph in Figure 5.9 is a transfer characteristic plot for a circuit, depicting the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot illustrates the circuit's response to various input voltages, particularly focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to show how the output of a circuit varies with the input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), and the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region where the circuit operates linearly, flanked by regions of nonlinearity due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operating limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows linear behavior where the output voltage increases proportionally with the input voltage.\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important thresholds in the circuit's operation.\n\n5. **Annotations and Specific Data Points**:\n- The graph is annotated with specific voltage levels like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior at different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across different input voltages and load conditions, highlighting the transition between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies from about 0.7 to 0.9. In contrast, the slope of the emitter-follower transfer characteristic is unity under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Therefore, the slope calculated in (5.27) varies as $V_{o}$ changes, even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this variation in the slope, but it is addressed in Section 5.3.2.\n\nWhen the output voltage rises within an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the slope of the transfer characteristic. The overdrive at this break point is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Thus, the location of the break point depends on $R_{L}$, though this effect is not depicted in Fig. 5.9. Unlike in the emitter follower, the output can asymptotically approach the supply voltage with unlimited input voltage. In practice, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the slope of the transfer characteristic is approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains almost constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.9 prevails. Under this condition, the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, utilizing equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a consistent difference. However, in practice, the body effect alters the threshold voltage, and the overdrive is not constant due to the non-constant drain current.\n\nimage_name:Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It intersects the $x$ axis at the input-referred offset voltage, which is\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point corresponds to the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription:The graph in Figure 5.9 is a transfer characteristic plot for a circuit, depicting the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot is used to illustrate how the circuit responds to different input voltages, particularly focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to show how the output of a circuit varies with the input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), while the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph shows a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region where the circuit operates linearly, flanked by regions of nonlinearity due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operating limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows a linear behavior where the output voltage increases proportionally with the input voltage.\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important thresholds in the circuit's operation.\n\n5. **Annotations and Specific Data Points**:\n- The graph is annotated with specific voltage levels like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior at different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across different input voltages and load conditions, highlighting the transition between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies from about 0.7 to 0.9. In contrast, the slope of the emitter-follower transfer characteristic is unity under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope calculated in (5.27) varies with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this variation in the slope, but it is addressed in Section 5.3.2.\n\nWhen the output voltage increases to an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the slope of the transfer characteristic. The overdrive at this break point is determined using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Hence, the location of the break point depends on $R_{L}$, though this effect is not depicted in Fig. 5.9. Unlike in the emitter follower, the output can asymptotically reach the supply voltage with unlimited input voltage. In practice, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the slope of the transfer characteristic remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope is nearly constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.9 prevails. Under this condition, the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, featuring equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIdeally, if the threshold and overdrive terms remain constant, the output voltage tracks the input voltage with a fixed difference. However, in practice, the body effect alters the threshold voltage, and the overdrive is not constant, primarily due to the varying drain current.\n\nimage_name:Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It intersects the $x$ axis at the input-referred offset voltage, given by\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point is the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription:The graph in Figure 5.9 depicts the transfer characteristic of a circuit, showing the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot illustrates the circuit's response to varying input voltages, focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to demonstrate how a circuit's output varies with its input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), and the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph reveals a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region where the circuit operates linearly, bordered by regions of nonlinearity due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operational limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph exhibits linear behavior where the output voltage increases proportionally with the input voltage.\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important thresholds in the circuit's operation.\n\n5. **Annotations and Specific Data Points**:\n- The graph is annotated with specific voltage levels like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior under different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across various input voltages and load conditions, highlighting the transitions between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies from about 0.7 to 0.9. In contrast, the slope of the emitter-follower transfer characteristic is unity under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Thus, the slope calculated in (5.27) varies with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this variation in the slope, but it is addressed in Section 5.3.2.\n\nWhen the output voltage increases within an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the slope of the transfer characteristic. The overdrive at this break point is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Therefore, the location of the break point depends on $R_{L}$, but this effect is not shown in Fig. 5.9. Unlike in the emitter follower, the output can asymptotically approach the supply voltage with unlimited input voltage. In practice, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the slope of the transfer characteristic remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains almost constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation depicted for $R_{L}=R_{L 1}$ in Fig. 5.9 applies. Under this condition, the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "A source-follower output stage is depicted in Fig. 5.8, featuring equal magnitude positive and negative power supplies for simplicity. The large-signal transfer characteristic can be derived as follows:\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{g s 1}=V_{o}+V_{t 1}+V_{o v 1} \\tag{5.23}\n\\end{equation*}\n$$\n\nIf the threshold and overdrive terms remain precisely constant, the output voltage tracks the input voltage with a consistent difference. However, in practice, the body effect alters the threshold voltage, and the overdrive is not constant, primarily due to the non-constant drain current.\nimage_name:Figure 5.8 Source-follower output stage with current-mirror bias\ndescription:\n[\nname: M1, type: NMOS, ports: {S: Vout, D: VDD, G: Vin}\nname: M2, type: NMOS, ports: {S: -VDD, D: Vout, G: g2g3d3}\nname: M3, type: NMOS, ports: {S: -VDD, D: g2g3d3, G: g2g3d3}\nname: IR, type: CurrentSource, value: IR, ports: {Np: VDD, Nn: g2g3d3}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The circuit is a source-follower output stage with current-mirror biasing. NMOS transistors M1 and M2 form the output stage, while M3 is used for current mirroring. The current source IR provides biasing current, and RL is the load resistor.\n\nFigure 5.8 Source-follower output stage with current-mirror bias.\n\nSubstituting (1.140) with $V_{s b}=V_{o}+V_{D D}$ and (1.166) with $I_{d 1}=I_{Q}+V_{o} / R_{L}$ into (5.23) yields\n\n$$\n\\begin{equation*}\nV_{i}=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{o}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2\\left(I_{Q}+\\frac{V_{o}}{R_{L}}\\right)}{k^{\\prime}(W / L)_{1}}} \\tag{5.24}\n\\end{equation*}\n$$\n\nThis equation holds true provided that $M_{1}$ and $M_{2}$ operate in the active region with output resistances significantly larger than $R_{L}$.\n\nThe transfer characteristic is illustrated in Fig. 5.9. It intersects the $x$ axis at the input-referred offset voltage, which is\n\n$$\n\\begin{equation*}\n\\left.V_{i}\\right|_{V_{o}=0}=V_{t 0}+\\gamma\\left(\\sqrt{2 \\phi_{f}+V_{D D}}-\\sqrt{2 \\phi_{f}}\\right)+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe slope at this point represents the incremental gain calculated in (3.80). With $r_{o} \\rightarrow \\infty$, the slope is\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}}{1+\\left(g_{m}+g_{m b}\\right) R_{L}} \\tag{5.26}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.9 Transfer characteristic of the circuit of Fig. 5.8\ndescription:The graph in Figure 5.9 depicts the transfer characteristic of a circuit, showing the relationship between the output voltage \\( V_o \\) on the vertical axis and the input voltage \\( V_i \\) on the horizontal axis. This plot is used to illustrate how the circuit responds to various input voltages, particularly focusing on two different load resistances, \\( R_{L1} \\) and \\( R_{L2} \\).\n\n1. **Type of Graph and Function**:\n- This is a transfer characteristic graph, commonly used in analog electronics to depict how the output of a circuit varies with the input.\n\n2. **Axes Labels and Units**:\n- The horizontal axis represents the input voltage \\( V_i \\), while the vertical axis represents the output voltage \\( V_o \\). Both axes are likely measured in volts, though specific units are not indicated.\n\n3. **Overall Behavior and Trends**:\n- The graph exhibits a nonlinear relationship between \\( V_i \\) and \\( V_o \\). It features a central linear region where the circuit operates linearly, flanked by regions of nonlinearity due to cutoff and triode operation.\n- As \\( V_i \\) increases, \\( V_o \\) initially rises slowly, then enters a linear region, and finally saturates, indicating the circuit's operational limits.\n\n4. **Key Features and Technical Details**:\n- **Cutoff Region**: At lower \\( V_i \\) values, the curve starts with a gradual slope, indicating the cutoff region for \\( M_1 \\), where the output is minimal.\n- **Triode Region**: As \\( V_i \\) increases, the curve enters the \\( M_2 \\) triode region, showing a steeper slope.\n- **Linear Region**: The central part of the graph shows linear behavior where the output voltage increases proportionally with the input voltage.\n- **Saturation Region**: At higher \\( V_i \\) values, the curve flattens, indicating saturation and the \\( M_1 \\) triode region.\n- **Key Points**: Critical voltages such as \\( V_{GS1} \\), \\( V_{DD} - V_{ov1} \\), and \\( V_{DD} + V_{t1} \\) are marked, indicating important thresholds in the circuit's operation.\n\n5. **Annotations and Specific Data Points**:\n- The graph is annotated with specific voltage levels like \\(-V_{DD} + V_{ov2} + V_{gs1} \\), \\( -I_QR_{L2} \\), and \\( V_{DD} \\), providing reference points for understanding the circuit's behavior at different operating conditions.\n- \\( R_{L1} \\) and \\( R_{L2} \\) are marked, showing how different load resistances affect the transfer characteristics.\n\nOverall, the graph effectively illustrates the circuit's behavior across different input voltages and load conditions, highlighting the transition between cutoff, linear, and saturation regions.\n\nFigure 5.9 Transfer characteristic of the circuit of Fig. 5.8 for a low $\\left(R_{L 2}\\right)$ and a high $\\left(R_{L 1}\\right)$ value of load resistance.\n\nWhen $R_{L} \\rightarrow \\infty$,\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m}}{g_{m}+g_{m b}}=\\frac{1}{1+\\chi} \\tag{5.27}\n\\end{equation*}\n$$\n\nSince $\\chi$ typically ranges from 0.1 to 0.3, the slope usually varies from about 0.7 to 0.9. In contrast, the slope of the emitter-follower transfer characteristic is unity under these conditions. Furthermore, $(1.200)$ indicates that $\\chi$ depends on the source-body voltage, which is $V_{o}+V_{D D}$ in Fig. 5.8. Therefore, the slope calculated in (5.27) varies with $V_{o}$ even when $M_{1}$ operates in the active region, causing distortion. Fig. 5.9 overlooks this variation in the slope, but it is addressed in Section 5.3.2.\n\nWhen the output voltage rises within an overdrive of the positive supply, $M_{1}$ enters the triode region, significantly reducing the slope of the transfer characteristic. The overdrive at this break point is calculated using the total drain current, which exceeds $I_{Q}$ if $R_{L}$ is finite. Thus, the location of the break point depends on $R_{L}$, though this effect is not shown in Fig. 5.9. Unlike in the emitter follower, the output can asymptotically reach the supply voltage with unlimited input voltage. In practice, however, the input must exceed $V_{D D}$ by at least the threshold voltage to bias $M_{1}$ in the triode region. If the input voltage is limited to $V_{D D}$, $M_{1}$ never reaches the triode region.\n\nFor negative input voltages, the minimum output voltage depends on $R_{L}$, similar to the emitter follower. If $I_{Q} R_{L}>V_{D D}$, the slope of the transfer characteristic remains approximately constant until $M_{2}$ enters the triode region, which occurs when\n\n$$\n\\begin{equation*}\nV_{o}=-V_{D D}+V_{o v 2}=-V_{D D}+\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{2}}} \\tag{5.28}\n\\end{equation*}\n$$\n\nThis scenario is labeled as $R_{L 1}$ in Fig. 5.9. Conversely, if $I_{Q} R_{L}<V_{D D}$, the slope remains nearly constant until $M_{1}$ turns off. The corresponding minimum output voltage is\n\n$$\n\\begin{equation*}\nV_{o}=-I_{Q} R_{L} \\tag{5.29}\n\\end{equation*}\n$$\n\nThis case is labeled as $R_{L 2}$ in Fig. 5.9. From a design perspective, $I_{Q} R_{L}$ is usually set larger than $V_{D D}$, ensuring the situation shown for $R_{L}=R_{L 1}$ in Fig. 5.9 prevails. Under this condition, the output voltage can swing almost to the positive and negative supply voltages before excessive distortion occurs."
},
{
    "text": "The transfer function for the source-follower stage has been determined in equation (5.23), in which the input voltage, \\( V_i \\), is represented as a function of the output voltage, \\( V_o \\). We will now utilize the source-follower stage as a case study to demonstrate the process of calculating signal distortion that arises from a nonlinear transfer function.\n\nWith the aid of a Taylor series expansion, the input voltage can be expressed as follows:\n\n\\[\n\\begin{equation*}\nV_{i} = V_{I} + v_{i} = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_{o} = V_{O})(V_{o} - V_{O})^n}{n!} \\tag{5.30}\n\\end{equation*}\n\\]\n\nHere, \\( f^{(n)} \\) denotes the \\( n \\)th derivative of \\( f \\). Given that \\( v_{o} = V_{o} - V_{O} \\), equation (5.30) can be rephrased as:\n\n\\[\n\\begin{equation*}\nV_{i} = V_{I} + v_{i} = \\sum_{n=0}^{\\infty} b_{n}(v_{o})^n \\tag{5.31}\n\\end{equation*}\n\\]\n\nwhere \\( b_{n} = f^{(n)}(V_{o} = V_{O}) / (n!) \\). For the sake of simplification, let's assume \\( R_{L} \\rightarrow \\infty \\). Referencing equations (1.140) and (5.23), we get:\n\n\\[\n\\begin{equation*}\nV_{i} = f(V_{o}) = V_{o} + V_{t0} + \\gamma\\left(\\sqrt{V_{o} + V_{DD} + 2\\phi_{f}} - \\sqrt{2\\phi_{f}}\\right) + V_{ov1} \\tag{5.32}\n\\end{equation*}\n\\]\n\nFrom this, we derive:\n\n\\[\n\\begin{align*}\nf'(V_{o}) & = 1 + \\frac{\\gamma}{2}(V_{o} + V_{DD} + 2\\phi_{f})^{-1/2} \\tag{5.33}\\\\\nf''(V_{o}) & = -\\frac{\\gamma}{4}(V_{o} + V_{DD} + 2\\phi_{f})^{-3/2} \\tag{5.34}\\\\\nf'''(V_{o}) & = \\frac{3\\gamma}{8}(V_{o} + V_{DD} + 2\\phi_{f})^{-5/2} \\tag{5.35}\n\\end{align*}\n\\]\n\nConsequently:\n\n\\[\n\\begin{align*}\nb_{0} & = f(V_{o} = V_{O}) = V_{O} + V_{t0} + \\gamma\\left(\\sqrt{V_{O} + V_{DD} + 2\\phi_{f}} - \\sqrt{2\\phi_{f}}\\right) + V_{ov1} \\tag{5.36}\\\\\nb_{1} & = f'(V_{o} = V_{O}) = 1 + \\frac{\\gamma}{2}(V_{O} + V_{DD} + 2\\phi_{f})^{-1/2} \\tag{5.37}\\\\\nb_{2} & = \\frac{f''(V_{o} = V_{O})}{2} = -\\frac{\\gamma}{8}(V_{O} + V_{DD} + 2\\phi_{f})^{-3/2} \\tag{5.38}\\\\\nb_{3} & = \\frac{f'''(V_{o} = V_{O})}{3!} = \\frac{\\gamma}{16}(V_{O} + V_{DD} + 2\\phi_{f})^{-5/2} \\tag{5.39}\n\\end{align*}\n\\]\n\nConsidering that \\( b_{0} \\) is the DC input voltage \\( V_{I} \\), equation (5.31) can be restated as:\n\n\\[\n\\begin{equation*}\nv_{i} = \\sum_{n=1}^{\\infty} b_{n}(v_{o})^n = b_{1}v_{o} + b_{2}v_{o}^2 + b_{3}v_{o}^3 + \\ldots \\tag{5.40}\n\\end{equation*}\n\\]\n\nTo determine the distortion, we aim to rearrange this equation into the form:\n\n\\[\n\\begin{equation*}\nv_{o} = \\sum_{n=1}^{\\infty} a_{n}(v_{i})^n = a_{1}v_{i} + a_{2}v_{i}^2 + a_{3}v_{i}^3 + \\ldots \\tag{5.41}\n\\end{equation*}\n\\]\n\nBy substituting equation (5.41) into (5.40), we obtain:\n\n\\[\n\\begin{align*}\nv_{i} & = b_{1}(a_{1}v_{i} + a_{2}v_{i}^2 + a_{3}v_{i}^3 + \\ldots) + b_{2}(a_{1}v_{i} + a_{2}v_{i}^2 + a_{3}v_{i}^3 + \\ldots)^2 \\\\\n& + b_{3}(a_{1}v_{i} + a_{2}v_{i}^2 + a_{3}v_{i}^3 + \\ldots)^3 + \\ldots \\\\\n& = b_{1}a_{1}v_{i} + (b_{1}a_{2} + b_{2}a_{1}^2)v_{i}^2 + (b_{1}a_{3} + 2b_{2}a_{1}a_{2} + b_{3}a_{1}^3)v_{i}^3 + \\ldots \\tag{5.42}\n\\end{align*}\n\\]\n\nBy equating coefficients in (5.42), we find:\n\n\\[\n\\begin{align*}\n1 & = b_{1}a_{1} \\tag{5.43}\\\\\n0 & = b_{1}a_{2} + b_{2}a_{1}^2 \\tag{5.44}\\\\\n0 & = b_{1}a_{3} + 2b_{2}a_{1}a_{2} + b_{3}a_{1}^3 \\tag{5.45}\n\\end{align*}\n\\]\n\nFrom (5.43):\n\n\\[\n\\begin{equation*}\na_{1} = \\frac{1}{b_{1}} \\tag{5.46}\n\\end{equation*}\n\\]\n\nSubstituting (5.46) into (5.44) and reorganizing, we have:\n\n\\[\n\\begin{equation*}\na_{2} = -\\frac{b_{2}}{b_{1}^3} \\tag{5.47}\n\\end{equation*}\n\\]\n\nSubstituting (5.46) and (5.47) into (5.45) and rearranging yields:\n\n\\[\n\\begin{equation*}\na_{3} = \\frac{2b_{2}^2}{b_{1}^5} - \\frac{b_{3}}{b_{1}^4} \\tag{5.48}\n\\end{equation*}\n\\]\n\nFor the source follower, inserting (5.37) into (5.46) gives:\n\n\\[\n\\begin{equation*}\na_{1} = \\frac{1}{1 + \\frac{\\gamma}{2}(V_{O} + V_{DD} + 2\\phi_{f})^{-1/2}} \\tag{5.49}\n\\end{equation*}\n\\]\n\nSubstituting (5.37) and (5.38) into (5.47) and reorganizing results in:\n\n\\[\n\\begin{equation*}\na_{2} = \\frac{\\frac{\\gamma}{8}(V_{O} + V_{DD} + 2\\phi_{f})^{-3/2}}{\\left(1 + \\frac{\\gamma}{2}(V_{O} + V_{DD} + 2\\phi_{f})^{-1/2}\\right)^3} \\tag{5.50}\n\\end{equation*}\n\\]\n\nAnd substituting (5.37), (5.38), and (5.39) into (5.48) and rearranging gives:\n\n\\[\n\\begin{equation*}\na_{3} = -\\frac{\\frac{\\gamma}{16}(V_{O} + V_{DD} + 2\\phi_{f})^{-5/2}}{\\left(1 + \\frac{\\gamma}{2}(V_{O} + V_{DD} + 2\\phi_{f})^{-1/2}\\right)^5} \\tag{5.51}\n\\end{equation*}\n\\]\n\nEquations 5.41, 5.49, 5.50, and 5.51 are utilized to compute the distortion of the source-follower stage. When \\( v_{i} \\) is small enough such that \\( a_{2}v_{i}^2 \\ll a_{1}v_{i} \\), the first term on the right-hand side of (5.41) prevails, and the circuit behaves nearly linearly. However, as \\( v_{i} \\) approaches \\( a_{1} / a_{2} \\), additional terms become significant, generating distortion products, as demonstrated subsequently. A conventional method to characterize the nonlinearity of an amplifier involves specifying harmonic distortion, defined for a solitary sinusoidal input applied to the amplifier. Thus, consider:\n\n\\[\n\\begin{equation*}\nv_{i} = \\hat{v}_{i}\\sin(\\omega t) \\tag{5.52}\n\\end{equation*}\n\\]\n\nInserting (5.52) into (5.41) leads to:\n\n\\[\n\\begin{align*}\nv_{o} & = a_{1}\\hat{v}_{i}\\sin(\\omega t) + a_{2}\\hat{v}_{i}^2\\sin^2(\\omega t) + a_{3}\\hat{v}_{i}^3\\sin^3(\\omega t) + \\ldots \\\\\n& = a_{1}\\hat{v}_{i}\\sin(\\omega t) + \\frac{a_{2}\\hat{v}_{i}^2}{2}(1 - \\cos(2\\omega t)) + \\frac{a_{3}\\hat{v}_{i}^3}{4}(3\\sin(\\omega t) - \\sin(3\\omega t)) + \\ldots \\tag{5.53}\n\\end{align*}\n\\]\n\nEquation 5.53 reveals that the output voltage contains not only the fundamental frequency, \\( \\omega \\) (the input frequency), but also harmonic frequencies \\( 2\\omega, 3\\omega \\), and higher. These additional terms represent distortion products not present in the input signal. The second-harmonic distortion, \\( \\mathrm{HD}_{2} \\), is defined as the ratio of the amplitude of the output signal component at frequency \\( 2\\omega \\) to the amplitude of the first harmonic (or fundamental) at frequency \\( \\omega \\). For small distortions, the term \\( (3/4)a_{3}\\hat{v}_{i}^3\\sin(\\omega t) \\) in (5.53) is negligible compared to \\( a_{1}\\hat{v}_{i}\\sin(\\omega t) \\), and the amplitude of the fundamental is approximately \\( a_{1}\\hat{v}_{i} \\). Assuming small distortions, higher-order terms in (5.53) may be disregarded, leading to:\n\n\\[\n\\begin{equation*}\n\\mathrm{HD}_{2} = \\frac{a_{2}\\hat{v}_{i}^2}{2a_{1}\\hat{v}_{i}} = \\frac{1}{2}\\frac{a_{2}}{a_{1}}\\hat{v}_{i} \\tag{5.54}\n\\end{equation*}\n\\]\n\nUnder these conditions, \\( \\mathrm{HD}_{2} \\) varies linearly with the peak signal level \\( \\hat{v}_{i} \\). The value of \\( \\mathrm{HD}_{2} \\) can be expressed in terms of known parameters by substituting (5.49) and (5.50) into (5.54):\n\n\\[\n\\begin{equation*}\n\\mathrm{HD}_{2} = \\frac{\\gamma}{16}\\frac{(V_{O} + V_{DD} + 2\\phi_{f})^{-3/2}\\hat{v}_{i}}{\\left(1 + \\frac{\\gamma}{2}(V_{O} + V_{DD} + 2\\phi_{f})^{-1/2}\\right)^2} \\tag{5.55}\n\\end{equation*}\n\\]\n\nIf \\( \\gamma \\ll 2\\sqrt{V_{O} + V_{DD} + 2\\phi_{f}} \\), then:\n\n\\[\n\\begin{equation*}\n\\mathrm{HD}_{2} \\simeq \\frac{\\gamma}{16}(V_{O} + V_{DD} + 2\\phi_{f})^{-3/2}\\hat{v}_{i} \\tag{5.56}\n\\end{equation*}\n\\]\n\nThis equation indicates that the second-harmonic distortion can be minimized by increasing the DC output voltage \\( V_{O} \\). This conclusion is logical since this distortion originates from the body effect. Therefore, increasing \\( V_{O} \\) reduces the variation of the source-body voltage compared to its DC value due to an input with a constant peak amplitude. Equation 5.56 also demonstrates that the second-harmonic distortion is approximately proportional to \\( \\gamma \\), ignoring the influence of \\( \\gamma \\) on \\( V_{O} \\).\n\nSimilarly, the third-harmonic distortion, \\( \\mathrm{HD}_{3} \\), is defined as the ratio of the output signal component at frequency \\( 3\\omega \\) to the first harmonic. From (5.53) and assuming small distortions:\n\n\\[\n\\begin{equation*}\n\\mathrm{HD}_{3} = \\frac{a_{3}\\hat{v}_{i}^3}{4a_{1}\\hat{v}_{i}} = \\frac{1}{4}\\frac{a_{3}}{a_{1}}\\hat{v}_{i}^2 \\tag{5.57}\n\\end{equation*}\n\\]\n\nUnder these assumptions, \\( \\mathrm{HD}_{3} \\) varies with the square of the signal amplitude. The value of \\( \\mathrm{HD}_{3} \\) can be expressed in terms of known parameters by substituting (5.49) and (5.51) into (5.57):\n\n\\[\n\\begin{equation*}\n\\mathrm{HD}_{3} = -\\frac{\\gamma}{64}\\frac{(V_{O} + V_{DD} + 2\\phi_{f})^{-5/2}\\hat{v}_{i}^2}{\\left(1 + \\frac{\\gamma}{2}(V_{O} + V_{DD} + 2\\phi_{f})^{-1/2}\\right)^4} \\tag{5.58}\n\\end{equation*}\n\\]\n\nSince the calculated distortion originates from the body effect, it can be mitigated by positioning the source follower within an isolated well and connecting the source to the well. However, this method necessitates a specific type of source-follower transistor, as it must have an opposite doping type to that of the well. Moreover, this approach introduces the well-substrate parasitic capacitance to the output load of the source follower, potentially narrowing its bandwidth.\n\n#### EXAMPLE\n\nCompute the second- and third-harmonic distortions in the circuit depicted in Fig. 5.8 for a peak sinusoidal input voltage \\( \\hat{v}_{i} = 0.5 \\mathrm{~V} \\). Assume \\( V_{I} = 0 \\), \\( V_{DD} = 2.5 \\mathrm{~V} \\), \\( I_{Q} = 1 \\mathrm{~mA} \\), and \\( R_{L} \\rightarrow \\infty \\). Also, assume \\( (W/L)_{1} = 1000 \\), \\( k' = 200 \\mu \\mathrm{~A}/\\mathrm{V}^2 \\), \\( V_{t0} = 0.7 \\mathrm{~V} \\), \\( \\phi_{f} = 0.3 \\mathrm{~V} \\), and \\( \\gamma = 0.5 \\mathrm{~V}^{1/2} \\).\n\nInitially, calculate the DC output voltage \\( V_{O} \\):\n\n\\[\n\\begin{equation*}\nV_{O} = V_{I} - V_{t0} - \\gamma\\left(\\sqrt{V_{O} + V_{DD} + 2\\phi_{f}} - \\sqrt{2\\phi_{f}}\\right) - V_{ov1} \\tag{5.59}\n\\end{equation*}\n\\]\n\nRearranging (5.59) gives:\n\n\\[\n\\begin{align*}\n(V_{O} + V_{DD} + 2\\phi_{f}) + \\gamma\\sqrt{V_{O} + V_{DD} + 2\\phi_{f}} & - V_{I} + V_{ov1} + V_{t0} - \\gamma\\sqrt{2\\phi_{f}} - V_{DD} - 2\\phi_{f} = 0 \\tag{5.60}\n\\end{align*}\n\\]\n\nThis quadratic equation can be solved for \\( \\sqrt{V_{O} + V_{DD} + 2\\phi_{f}} \\). Since the result must be positive:\n\n\\[\n\\begin{align*}\n\\sqrt{V_{O} + V_{DD} + 2\\phi_{f}} & = -\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_{I} - V_{ov1} - V_{t0} + \\gamma"
},
{
    "text": "The transfer function of the source-follower stage, computed in equation (5.23), presents $V_{i}$ as a function of $V_{o}$. We will now use the source-follower stage as a case study to demonstrate the calculation of signal distortion resulting from a nonlinear transfer function.\n\nBy employing a Taylor series expansion, the input voltage can be expressed as:\n\n$$\nV_{i} = V_{I} + v_{i} = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_{o}=V_{O})(V_{o}-V_{O})^{n}}{n!} \\tag{5.30}\n$$\n\nHere, $f^{(n)}$ denotes the $n^{\\text{th}}$ derivative of $f$. Given that $v_{o} = V_{o} - V_{O}$, equation (5.30) can be reformulated as:\n\n$$\nV_{i} = V_{I} + v_{i} = \\sum_{n=0}^{\\infty} b_{n}(v_{o})^{n} \\tag{5.31}\n$$\n\nwhere $b_{n} = f^{(n)}(V_{o}=V_{O}) / (n!)$. For simplicity, assume $R_{L} \\rightarrow \\infty$. Utilizing equations (1.140) and (5.23), we have:\n\n$$\nV_{i} = f(V_{o}) = V_{o} + V_{t 0} + \\gamma(\\sqrt{V_{o} + V_{D D} + 2 \\phi_{f}} - \\sqrt{2 \\phi_{f}}) + V_{o v 1} \\tag{5.32}\n$$\n\nThis leads to:\n\n$$\n\\begin{align*}\nf'(V_{o}) & = 1 + \\frac{\\gamma}{2}(V_{o} + V_{D D} + 2 \\phi_{f})^{-1/2} \\tag{5.33}\\\\\nf''(V_{o}) & = -\\frac{\\gamma}{4}(V_{o} + V_{D D} + 2 \\phi_{f})^{-3/2} \\tag{5.34}\\\\\nf'''(V_{o}) & = \\frac{3 \\gamma}{8}(V_{o} + V_{D D} + 2 \\phi_{f})^{-5/2} \\tag{5.35}\n\\end{align*}\n$$\n\nConsequently:\n\n$$\n\\begin{align*}\nb_{0} & = f(V_{o}=V_{O}) = V_{O} + V_{t 0} + \\gamma(\\sqrt{V_{O} + V_{D D} + 2 \\phi_{f}} - \\sqrt{2 \\phi_{f}}) + V_{o v 1} \\tag{5.36}\\\\\nb_{1} & = f'(V_{o}=V_{O}) = 1 + \\frac{\\gamma}{2}(V_{O} + V_{D D} + 2 \\phi_{f})^{-1/2} \\tag{5.37}\\\\\nb_{2} & = \\frac{f''(V_{o}=V_{O})}{2} = -\\frac{\\gamma}{8}(V_{O} + V_{D D} + 2 \\phi_{f})^{-3/2} \\tag{5.38}\\\\\nb_{3} & = \\frac{f'''(V_{o}=V_{O})}{3!} = \\frac{\\gamma}{16}(V_{O} + V_{D D} + 2 \\phi_{f})^{-5/2} \\tag{5.39}\n\\end{align*}\n$$\n\nSince $b_{0}$ is the constant dc input voltage $V_{I}$, equation (5.31) can be rewritten as:\n\n$$\nv_{i} = \\sum_{n=1}^{\\infty} b_{n}(v_{o})^{n} = b_{1} v_{o} + b_{2} v_{o}^{2} + b_{3} v_{o}^{3} + \\ldots \\tag{5.40}\n$$\n\nTo determine the distortion, we aim to rearrange this equation into the form:\n\n$$\nv_{o} = \\sum_{n=1}^{\\infty} a_{n}(v_{i})^{n} = a_{1} v_{i} + a_{2} v_{i}^{2} + a_{3} v_{i}^{3} + \\ldots \\tag{5.41}\n$$\n\nSubstituting equation (5.41) into (5.40) yields:\n\n$$\n\\begin{align*}\nv_{i} = & b_{1}(a_{1} v_{i} + a_{2} v_{i}^{2} + a_{3} v_{i}^{3} + \\ldots) + b_{2}(a_{1} v_{i} + a_{2} v_{i}^{2} + a_{3} v_{i}^{3} + \\ldots)^{2} \\\\\n& + b_{3}(a_{1} v_{i} + a_{2} v_{i}^{2} + a_{3} v_{i}^{3} + \\ldots)^{3} + \\ldots \\\\\n= & b_{1} a_{1} v_{i} + (b_{1} a_{2} + b_{2} a_{1}^{2}) v_{i}^{2} + (b_{1} a_{3} + 2 b_{2} a_{1} a_{2} + b_{3} a_{1}^{3}) v_{i}^{3} + \\ldots \\tag{5.42}\n\\end{align*}\n$$\n\nMatching coefficients in equation (5.42) yields:\n\n$$\n\\begin{align*}\n1 & = b_{1} a_{1} \\tag{5.43}\\\\\n0 & = b_{1} a_{2} + b_{2} a_{1}^{2} \\tag{5.44}\\\\\n0 & = b_{1} a_{3} + 2 b_{2} a_{1} a_{2} + b_{3} a_{1}^{3} \\tag{5.45}\n\\end{align*}\n$$\n\nFrom equation (5.43):\n\n$$\na_{1} = \\frac{1}{b_{1}} \\tag{5.46}\n$$\n\nSubstituting equation (5.46) into (5.44) and rearranging gives:\n\n$$\na_{2} = -\\frac{b_{2}}{b_{1}^{3}} \\tag{5.47}\n$$\n\nSubstituting equations (5.46) and (5.47) into (5.45) and rearranging gives:\n\n$$\na_{3} = \\frac{2 b_{2}^{2}}{b_{1}^{5}} - \\frac{b_{3}}{b_{1}^{4}} \\tag{5.48}\n$$\n\nFor the source follower, substituting equation (5.37) into (5.46) gives:\n\n$$\na_{1} = \\frac{1}{1 + \\frac{\\gamma}{2}(V_{O} + V_{D D} + 2 \\phi_{f})^{-1/2}} \\tag{5.49}\n$$\n\nSubstituting equations (5.37) and (5.38) into (5.47) and rearranging gives:\n\n$$\na_{2} = \\frac{\\frac{\\gamma}{8}(V_{O} + V_{D D} + 2 \\phi_{f})^{-3/2}}{\\left(1 + \\frac{\\gamma}{2}(V_{O} + V_{D D} + 2 \\phi_{f})^{-1/2}\\right)^{3}} \\tag{5.50}\n$$\n\nSubstituting equations (5.37), (5.38), and (5.39) into (5.48) and rearranging gives:\n\n$$\na_{3} = -\\frac{\\frac{\\gamma}{16}(V_{O} + V_{D D} + 2 \\phi_{f})^{-5/2}}{\\left(1 + \\frac{\\gamma}{2}(V_{O} + V_{D D} + 2 \\phi_{f})^{-1/2}\\right)^{5}} \\tag{5.51}\n$$\n\nEquations 5.41, 5.49, 5.50, and 5.51 can be employed to compute the distortion of the source-follower stage. For small $v_{i}$ such that $a_{2} v_{i}^{2} \\ll a_{1} v_{i}$, the first term on the right-hand side of equation (5.41) dominates, and the circuit behaves linearly. However, as $v_{i}$ approaches $a_{1} / a_{2}$, other terms become significant, generating distortion products, as demonstrated next. A common method to characterize the nonlinearity of an amplifier is by specifying harmonic distortion, defined for a single sinusoidal input applied to the amplifier. Thus, let:\n\n$$\nv_{i} = \\hat{v}_{i} \\sin \\omega t \\tag{5.52}\n$$\n\nSubstituting equation (5.52) into (5.41) gives:\n\n$$\n\\begin{align*}\nv_{o} & = a_{1} \\hat{v}_{i} \\sin \\omega t + a_{2} \\hat{v}_{i}^{2} \\sin^{2} \\omega t + a_{3} \\hat{v}_{i}^{3} \\sin^{3} \\omega t + \\ldots \\\\\n& = a_{1} \\hat{v}_{i} \\sin \\omega t + \\frac{a_{2} \\hat{v}_{i}^{2}}{2}(1 - \\cos 2 \\omega t) + \\frac{a_{3} \\hat{v}_{i}^{3}}{4}(3 \\sin \\omega t - \\sin 3 \\omega t) + \\ldots \\tag{5.53}\n\\end{align*}\n$$\n\nEquation 5.53 indicates that the output voltage includes frequency components at the fundamental frequency, $\\omega$ (the input frequency), and also at harmonic frequencies $2 \\omega, 3 \\omega$, and so on. The latter terms represent distortion products absent from the input signal. Second-harmonic distortion $\\mathrm{HD}_{2}$ is defined as the ratio of the amplitude of the output-signal component at frequency $2 \\omega$ to the amplitude of the first harmonic (or fundamental) at frequency $\\omega$. For small distortion, the term $(3/4) a_{3} \\hat{v}_{i}^{3} \\sin \\omega t$ in equation (5.53) is negligible compared to $a_{1} \\hat{v}_{i} \\sin \\omega t$, and the amplitude of the fundamental is approximately $a_{1} \\hat{v}_{i}$. Again, assuming small distortion, higher-order terms in equation (5.53) may be ignored, leading to:\n\n$$\n\\mathrm{HD}_{2} = \\frac{a_{2} \\hat{v}_{i}^{2}}{2} \\frac{1}{a_{1} \\hat{v}_{i}} = \\frac{1}{2} \\frac{a_{2}}{a_{1}} \\hat{v}_{i} \\tag{5.54}\n$$\n\nUnder these assumptions, $\\mathrm{HD}_{2}$ varies linearly with the peak signal level $\\hat{v}_{i}$. The value of $\\mathrm{HD}_{2}$ can be expressed in terms of known parameters by substituting equations (5.49) and (5.50) into (5.54) to obtain:\n\n$$\n\\mathrm{HD}_{2} = \\frac{\\gamma}{16} \\frac{(V_{O} + V_{D D} + 2 \\phi_{f})^{-3/2} \\hat{v}_{i}}{\\left(1 + \\frac{\\gamma}{2}(V_{O} + V_{D D} + 2 \\phi_{f})^{-1/2}\\right)^{2}} \\tag{5.55}\n$$\n\nIf $\\gamma \\ll 2 \\sqrt{V_{O} + V_{D D} + 2 \\phi_{f}}$, then:\n\n$$\n\\mathrm{HD}_{2} \\simeq \\frac{\\gamma}{16}(V_{O} + V_{D D} + 2 \\phi_{f})^{-3/2} \\hat{v}_{i} \\tag{5.56}\n$$\n\nThis equation demonstrates that the second-harmonic distortion can be minimized by increasing the dc output voltage $V_{O}$. This is logical because this distortion originates from the body effect. Hence, increasing $V_{O}$ reduces the variation of the source-body voltage compared to its dc value caused by an input with a fixed peak amplitude. Equation 5.56 also shows that the second-harmonic distortion is approximately proportional to $\\gamma$, disregarding the effect of $\\gamma$ on $V_{O}$.\n\nSimilarly, third-harmonic distortion $\\mathrm{HD}_{3}$ is defined as the ratio of the output signal component at frequency $3 \\omega$ to the first harmonic. From equation (5.53) and assuming small distortion:\n\n$$\n\\mathrm{HD}_{3} = \\frac{a_{3} \\hat{v}_{i}^{3}}{4} \\frac{1}{a_{1} \\hat{v}_{i}} = \\frac{1}{4} \\frac{a_{3}}{a_{1}} \\hat{v}_{i}^{2} \\tag{5.57}\n$$\n\nUnder these assumptions, $\\mathrm{HD}_{3}$ varies with the square of the signal amplitude. The value of $\\mathrm{HD}_{3}$ can be expressed in terms of known parameters by substituting equations (5.49) and (5.51) into (5.57) to obtain:\n\n$$\n\\mathrm{HD}_{3} = -\\frac{\\gamma}{64} \\frac{(V_{O} + V_{D D} + 2 \\phi_{f})^{-5/2} \\hat{v}_{i}^{2}}{\\left(1 + \\frac{\\gamma}{2}(V_{O} + V_{D D} + 2 \\phi_{f})^{-1/2}\\right)^{4}} \\tag{5.58}\n$$\n\nSince the calculated distortion arises from the body effect, it can be eradicated by placing the source follower in an isolated well and connecting the source to the well. However, this approach necessitates a specific type of source-follower transistor, as it must have an opposite type of doping to the well. Additionally, this method introduces the well-substrate parasitic capacitance to the output load of the source follower, reducing its bandwidth.\n\n#### EXAMPLE\n\nCalculate the second- and third-harmonic distortion in the circuit of Fig. 5.8 for a peak sinusoidal input voltage $\\hat{v}_{i} = 0.5 \\mathrm{~V}$. Assume $V_{I} = 0$, $V_{D D} = 2.5 \\mathrm{~V}$, $I_{Q} = 1 \\mathrm{~mA}$, and $R_{L} \\rightarrow \\infty$. Also, assume $(W/L)_{1} = 1000$, $k' = 200 \\mu \\mathrm{~A}/\\mathrm{V}^{2}$, $V_{t 0} = 0.7 \\mathrm{~V}$, $\\phi_{f} = 0.3 \\mathrm{~V}$, and $\\gamma = 0.5 \\mathrm{~V}^{1/2}$.\n\nFirst, the dc output voltage $V_{O}$ is:\n\n$$\nV_{O} = V_{I} - V_{t 0} - \\gamma(\\sqrt{V_{O} + V_{D D} + 2 \\phi_{f}} - \\sqrt{2 \\phi_{f}}) - V_{o v 1} \\tag{5.59}\n$$\n\nRearranging equation (5.59) gives:\n\n$$\n\\begin{align*}\n(V_{O} + V_{D D} + 2 \\phi_{f}) + \\gamma \\sqrt{V_{O} + V_{D D} + 2 \\phi_{f}} \\\\\n- V_{I} + V_{o v 1} + V_{t 0} - \\gamma \\sqrt{2 \\phi_{f}} - V_{D D} - 2 \\phi_{f} = 0 \\tag{5.60}\n\\end{align*}\n$$\n\nThis quadratic equation can be solved for $\\sqrt{V_{O} + V_{D D} + 2 \\phi_{f}}$. Since the result must be positive:\n\n$$\n\\begin{align*}\n\\sqrt{V_{O} + V_{D D} + 2 \\phi_{f}} = \\\\\n- \\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^{2} + V_{I} - V_{o v 1} - V_{t 0} + \\gamma \\sqrt{2 \\phi_{f}} + V_{D D} + 2 \\phi_{f}} \\tag{5.61}\n\\end{align*}\n$$\n\nSquaring both sides and rearranging gives:\n\n$$\n\\begin{align*}\nV_{O} = & - V_{D D} - 2 \\phi_{f} \\\\\n& + \\left(- \\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^{2} + V_{I} - V_{o v 1} - V_{t 0} + \\gamma \\sqrt{2 \\phi_{f}} + V_{D D} + 2 \\phi_{f}}\\right)^{2} \\tag{5.62}\n\\end{align*}\n$$\n\nIn this example:\n\n$$\nV_{o v 1} = \\sqrt{\\frac{2 I_{Q}}{k'(W/L)_{1}}} = \\sqrt{\\frac{2(1000)}{200(1000)}} \\mathrm{V} = 0.1 \\mathrm{~V} \\tag{5.63}\n$$\n\nSince $V"
},
{
    "text": "The transfer function of the source-follower stage, computed in equation (5.23), describes \\( V_{i} \\) as a function of \\( V_{o} \\). To exemplify the process of calculating signal distortion arising from a nonlinear transfer function, the source-follower stage will be utilized as a case study.\n\nEmploying a Taylor series expansion, the input voltage can be expressed as:\n\n\\[\nV_{i} = V_{I} + v_{i} = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_{o}=V_{O})(V_{o}-V_{O})^n}{n!} \\tag{5.30}\n\\]\n\nHere, \\( f^{(n)} \\) denotes the \\( n \\)th derivative of \\( f \\). Given that \\( v_{o} = V_{o} - V_{O} \\), equation (5.30) can be reformulated as:\n\n\\[\nV_{i} = V_{I} + v_{i} = \\sum_{n=0}^{\\infty} b_{n}(v_{o})^n \\tag{5.31}\n\\]\n\nIn this expression, \\( b_{n} = f^{(n)}(V_{o}=V_{O})/(n!) \\). For the sake of simplification, let's assume \\( R_{L} \\rightarrow \\infty \\). Utilizing equations (1.140) and (5.23), we obtain:\n\n\\[\nV_{i} = f(V_{o}) = V_{o} + V_{t 0} + \\gamma(\\sqrt{V_{o} +V_{D D}+2 \\phi_{f}} - \\sqrt{2\\phi_{f}}) + V_{o v 1} \\tag{5.32}\n\\]\n\nConsequently:\n\n\\[\n\\begin{align*}\nf'(V_{o}) & = 1 + \\frac{\\gamma}{2}(V_{o}+V_{D D}+2\\phi_{f})^{-1/2} \\tag{5.33}\\\\\nf''(V_{o}) & = -\\frac{\\gamma}{4}(V_{o}+V_{D D}+2\\phi_{f})^{-3/2} \\tag{5.34}\\\\\nf'''(V_{o}) & = \\frac{3\\gamma}{8}(V_{o}+V_{D D}+2\\phi_{f})^{-5/2} \\tag{5.35}\n\\end{align*}\n\\]\n\nTherefore:\n\n\\[\n\\begin{align*}\nb_{0} & = f(V_{o}=V_{O}) = V_{O} + V_{t 0} + \\gamma(\\sqrt{V_{O}+V_{D D}+2\\phi_{f}} - \\sqrt{2\\phi_{f}}) + V_{o v 1} \\tag{5.36}\\\\\nb_{1} & = f'(V_{o}=V_{O}) = 1 + \\frac{\\gamma}{2}(V_{O}+V_{D D}+2\\phi_{f})^{-1/2} \\tag{5.37}\\\\\nb_{2} & = \\frac{f''(V_{o}=V_{O})}{2} = -\\frac{\\gamma}{8}(V_{O}+V_{D D}+2\\phi_{f})^{-3/2} \\tag{5.38}\\\\\nb_{3} & = \\frac{f'''(V_{o}=V_{O})}{3!} = \\frac{\\gamma}{16}(V_{O}+V_{D D}+2\\phi_{f})^{-5/2} \\tag{5.39}\n\\end{align*}\n\\]\n\nConsidering that the constant \\( b_{0} \\) represents the DC input voltage \\( V_{I} \\), equation (5.31) can be rewritten as:\n\n\\[\nv_{i} = \\sum_{n=1}^{\\infty} b_{n}(v_{o})^n = b_{1}v_{o} + b_{2}v_{o}^2 + b_{3}v_{o}^3 + \\ldots \\tag{5.40}\n\\]\n\nTo determine the distortion, we aim to rearrange this equation into the following form:\n\n\\[\nv_{o} = \\sum_{n=1}^{\\infty} a_{n}(v_{i})^n = a_{1}v_{i} + a_{2}v_{i}^2 + a_{3}v_{i}^3 + \\ldots \\tag{5.41}\n\\]\n\nSubstituting equation (5.41) into (5.40) yields:\n\n\\[\n\\begin{align*}\nv_{i} = & b_{1}(a_{1}v_{i} + a_{2}v_{i}^2 + a_{3}v_{i}^3 + \\ldots) + b_{2}(a_{1}v_{i} + a_{2}v_{i}^2 + a_{3}v_{i}^3 + \\ldots)^2 \\\\\n& + b_{3}(a_{1}v_{i} + a_{2}v_{i}^2 + a_{3}v_{i}^3 + \\ldots)^3 + \\ldots \\\\\n= & b_{1}a_{1}v_{i} + (b_{1}a_{2} + b_{2}a_{1}^2)v_{i}^2 + (b_{1}a_{3} + 2b_{2}a_{1}a_{2} + b_{3}a_{1}^3)v_{i}^3 + \\ldots \\tag{5.42}\n\\end{align*}\n\\]\n\nBy matching coefficients in equation (5.42), we find:\n\n\\[\n\\begin{align*}\n1 = b_{1}a_{1} \\tag{5.43}\\\\\n0 = b_{1}a_{2} + b_{2}a_{1}^2 \\tag{5.44}\\\\\n0 = b_{1}a_{3} + 2b_{2}a_{1}a_{2} + b_{3}a_{1}^3 \\tag{5.45}\n\\end{align*}\n\\]\n\nFrom equation (5.43):\n\n\\[\na_{1} = \\frac{1}{b_{1}} \\tag{5.46}\n\\]\n\nSubstituting equation (5.46) into (5.44) and rearranging results in:\n\n\\[\na_{2} = -\\frac{b_{2}}{b_{1}^3} \\tag{5.47}\n\\]\n\nSubstituting equations (5.46) and (5.47) into (5.45) and rearranging gives:\n\n\\[\na_{3} = \\frac{2b_{2}^2}{b_{1}^5} - \\frac{b_{3}}{b_{1}^4} \\tag{5.48}\n\\]\n\nFor the source follower, substituting equation (5.37) into (5.46) yields:\n\n\\[\na_{1} = \\frac{1}{1 + \\frac{\\gamma}{2}(V_{O}+V_{D D}+2\\phi_{f})^{-1/2}} \\tag{5.49}\n\\]\n\nSubstituting equations (5.37) and (5.38) into (5.47) and rearranging results in:\n\n\\[\na_{2} = \\frac{\\frac{\\gamma}{8}(V_{O}+V_{D D}+2\\phi_{f})^{-3/2}}{\\left(1 + \\frac{\\gamma}{2}(V_{O}+V_{D D}+2\\phi_{f})^{-1/2}\\right)^3} \\tag{5.50}\n\\]\n\nSubstituting equations (5.37), (5.38), and (5.39) into (5.48) and rearranging gives:\n\n\\[\na_{3} = -\\frac{\\frac{\\gamma}{16}(V_{O}+V_{D D}+2\\phi_{f})^{-5/2}}{\\left(1 + \\frac{\\gamma}{2}(V_{O}+V_{D D}+2\\phi_{f})^{-1/2}\\right)^5} \\tag{5.51}\n\\]\n\nEquations (5.41), (5.49), (5.50), and (5.51) can be employed to compute the distortion of the source-follower stage. For small \\( v_{i} \\) values where \\( a_{2}v_{i}^2 \\ll a_{1}v_{i} \\), the first term on the right-hand side of equation (5.41) predominates, and the circuit behaves linearly. However, as \\( v_{i} \\) approaches \\( a_{1}/a_{2} \\), other terms become significant, generating distortion products, as demonstrated subsequently. A standard method to characterize the nonlinearity of an amplifier is by specifying harmonic distortion, defined for a single sinusoidal input applied to the amplifier. Hence, let:\n\n\\[\nv_{i} = \\hat{v}_{i}\\sin \\omega t \\tag{5.52}\n\\]\n\nSubstituting equation (5.52) into (5.41) gives:\n\n\\[\n\\begin{align*}\nv_{o} = & a_{1}\\hat{v}_{i}\\sin \\omega t + a_{2}\\hat{v}_{i}^2\\sin^2 \\omega t + a_{3}\\hat{v}_{i}^3\\sin^3 \\omega t + \\ldots \\\\\n= & a_{1}\\hat{v}_{i}\\sin \\omega t + \\frac{a_{2}\\hat{v}_{i}^2}{2}(1 - \\cos 2\\omega t) + \\frac{a_{3}\\hat{v}_{i}^3}{4}(3\\sin \\omega t - \\sin 3\\omega t) + \\ldots \\tag{5.53}\n\\end{align*}\n\\]\n\nEquation (5.53) indicates that the output voltage encompasses frequency components at the fundamental frequency, \\( \\omega \\) (the input frequency), and also at harmonic frequencies \\( 2\\omega, 3\\omega \\), and so on. The latter terms signify distortion products absent from the input signal. Second-harmonic distortion \\( \\mathrm{HD}_{2} \\) is defined as the ratio of the amplitude of the output-signal component at frequency \\( 2\\omega \\) to the amplitude of the first harmonic (or fundamental) at frequency \\( \\omega \\). For small distortions, the term \\( (3/4)a_{3}\\hat{v}_{i}^3\\sin \\omega t \\) in equation (5.53) is negligible compared to \\( a_{1}\\hat{v}_{i}\\sin \\omega t \\), and the amplitude of the fundamental is approximately \\( a_{1}\\hat{v}_{i} \\). Again, for small distortions, higher-order terms in equation (5.53) may be disregarded, leading to:\n\n\\[\n\\mathrm{HD}_{2} = \\frac{a_{2}\\hat{v}_{i}^2}{2}\\frac{1}{a_{1}\\hat{v}_{i}} = \\frac{1}{2}\\frac{a_{2}}{a_{1}}\\hat{v}_{i} \\tag{5.54}\n\\]\n\nUnder these assumptions, \\( \\mathrm{HD}_{2} \\) varies linearly with the peak signal level \\( \\hat{v}_{i} \\). The value of \\( \\mathrm{HD}_{2} \\) can be expressed in terms of known parameters by substituting equations (5.49) and (5.50) into (5.54) to yield:\n\n\\[\n\\mathrm{HD}_{2} = \\frac{\\gamma}{16}\\frac{(V_{O}+V_{D D}+2\\phi_{f})^{-3/2}(\\hat{v}_{i})}{\\left(1 + \\frac{\\gamma}{2}(V_{O}+V_{D D}+2\\phi_{f})^{-1/2}\\right)^2} \\tag{5.55}\n\\]\n\nIf \\( \\gamma \\ll 2\\sqrt{V_{O}+V_{D D}+2\\phi_{f}} \\), then:\n\n\\[\n\\mathrm{HD}_{2} \\simeq \\frac{\\gamma}{16}(V_{O}+V_{D D}+2\\phi_{f})^{-3/2}\\hat{v}_{i} \\tag{5.56}\n\\]\n\nThis equation demonstrates that the second-harmonic distortion can be mitigated by increasing the DC output voltage \\( V_{O} \\). This outcome is logical because this distortion originates from the body effect. Hence, elevating \\( V_{O} \\) diminishes the variation of the source-body voltage relative to its DC value caused by an input with a fixed peak amplitude. Equation (5.56) also indicates that the second-harmonic distortion is approximately proportional to \\( \\gamma \\), disregarding the effect of \\( \\gamma \\) on \\( V_{O} \\).\n\nSimilarly, third-harmonic distortion \\( \\mathrm{HD}_{3} \\) is defined as the ratio of the output signal component at frequency \\( 3\\omega \\) to the first harmonic. From equation (5.53) and assuming small distortion:\n\n\\[\n\\mathrm{HD}_{3} = \\frac{a_{3}\\hat{v}_{i}^3}{4}\\frac{1}{a_{1}\\hat{v}_{i}} = \\frac{1}{4}\\frac{a_{3}}{a_{1}}\\hat{v}_{i}^2 \\tag{5.57}\n\\]\n\nUnder these assumptions, \\( \\mathrm{HD}_{3} \\) varies with the square of the signal amplitude. The value of \\( \\mathrm{HD}_{3} \\) can be expressed in terms of known parameters by substituting equations (5.49) and (5.51) into (5.57) to yield:\n\n\\[\n\\mathrm{HD}_{3} = -\\frac{\\gamma}{64}\\frac{(V_{O}+V_{D D}+2\\phi_{f})^{-5/2}(\\hat{v}_{i}^2)}{\\left(1 + \\frac{\\gamma}{2}(V_{O}+V_{D D}+2\\phi_{f})^{-1/2}\\right)^4} \\tag{5.58}\n\\]\n\nSince the calculated distortion stems from the body effect, it can be eradicated by positioning the source follower in an isolated well and linking the source to the well. However, this method necessitates a specific type of source-follower transistor, which must be of opposite type to the well's doping. Additionally, this method introduces the well-substrate parasitic capacitance to the output load of the source follower, diminishing its bandwidth.\n\n#### EXAMPLE\n\nCalculate the second- and third-harmonic distortions in the circuit of Fig. 5.8 for a peak sinusoidal input voltage \\( \\hat{v}_{i} = 0.5 \\mathrm{~V} \\). Assume \\( V_{I} = 0 \\), \\( V_{D D} = 2.5 \\mathrm{~V} \\), \\( I_{Q} = 1 \\mathrm{~mA} \\), and \\( R_{L} \\rightarrow \\infty \\). Also, assume \\( (W/L)_{1} = 1000 \\), \\( k^{\\prime} = 200 \\mu \\mathrm{~A}/\\mathrm{V}^2 \\), \\( V_{t 0} = 0.7 \\mathrm{~V} \\), \\( \\phi_{f} = 0.3 \\mathrm{~V} \\), and \\( \\gamma = 0.5 \\mathrm{~V}^{1/2} \\).\n\nInitially, the DC output voltage \\( V_{O} \\) is:\n\n\\[\nV_{O} = V_{I} - V_{t 0} - \\gamma(\\sqrt{V_{O}+V_{D D}+2\\phi_{f}} - \\sqrt{2\\phi_{f}}) - V_{o v 1} \\tag{5.59}\n\\]\n\nRearranging equation (5.59) gives:\n\n\\[\n\\begin{align*}\n(V_{O}+V_{D D}+2\\phi_{f}) + \\gamma\\sqrt{V_{O}+V_{D D}+2\\phi_{f}} - V_{I} + V_{o v 1} + V_{t 0} - \\gamma\\sqrt{2\\phi_{f}} - V_{D D} - 2\\phi_{f} = 0 \\tag{5.60}\n\\end{align*}\n\\]\n\nThis quadratic equation can be solved for \\( \\sqrt{V_{O}+V_{D D}+2\\phi_{f}} \\). Since the result must be positive:\n\n\\[\n\\begin{align*}\n\\sqrt{V_{O}+V_{D D}+2\\phi_{f}} = -\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_{I} - V_{o v 1} - V_{t 0} + \\gamma\\sqrt{2\\phi_{f}} + V_{D D} + 2\\phi_{f}} \\tag{5.61}\n\\end{align*}\n\\]\n\nSquaring both sides and rearranging results in:\n\n\\[\n\\begin{align*}\nV_{O} = & -V_{D D} - 2\\phi_{f} \\\\\n& + \\left(-\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_{I} - V_{o v 1} - V_{t 0} + \\gamma\\sqrt{2\\phi_{f}} + V_{D D} + 2\\phi_{f}}\\right)^2 \\tag{5.62}\n\\end{align*}\n\\]\n\nIn this example:\n\n\\[\nV_{o v 1} = \\sqrt{\\frac{2I_{Q}}{k^{\\prime}(W/L)_{1}}} = \\sqrt{\\frac{2(1000)}{200(1000)}} \\mathrm{V} = 0.1 \\mathrm{~V} \\tag{5."
},
{
    "text": "The calculation of the transfer function for the source-follower stage was presented in equation (5.23), demonstrating how the input voltage, \\( V_i \\), depends on the output voltage, \\( V_o \\). We will now use the source-follower stage as a case study to illustrate the computation of signal distortion arising from a nonlinear transfer function.\n\nBy utilizing a Taylor series expansion, the input voltage can be expressed as follows:\n\n\\[\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_o = V_O)(V_o - V_O)^n}{n!} \\tag{5.30}\n\\]\n\nHere, \\( f^{(n)} \\) denotes the \\( n \\)-th derivative of \\( f \\). Given that \\( v_o = V_o - V_O \\), equation (5.30) can be reformulated as:\n\n\\[\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} b_n (v_o)^n \\tag{5.31}\n\\]\n\nwhere \\( b_n = \\frac{f^{(n)}(V_o = V_O)}{n!} \\). Assuming \\( R_L \\rightarrow \\infty \\), and using equations (1.140) and (5.23), we obtain:\n\n\\[\nV_i = f(V_o) = V_o + V_{t0} + \\gamma \\left( \\sqrt{V_o + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f} \\right) + V_{ov1} \\tag{5.32}\n\\]\n\nThis leads to:\n\n\\[\n\\begin{align*}\nf'(V_o) &= 1 + \\frac{\\gamma}{2}(V_o + V_{DD} + 2\\phi_f)^{-1/2} \\tag{5.33}\\\\\nf''(V_o) &= -\\frac{\\gamma}{4}(V_o + V_{DD} + 2\\phi_f)^{-3/2} \\tag{5.34}\\\\\nf'''(V_o) &= \\frac{3\\gamma}{8}(V_o + V_{DD} + 2\\phi_f)^{-5/2} \\tag{5.35}\n\\end{align*}\n\\]\n\nConsequently:\n\n\\[\n\\begin{align*}\nb_0 &= f(V_o = V_O) = V_O + V_{t0} + \\gamma \\left( \\sqrt{V_O + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f} \\right) + V_{ov1} \\tag{5.36}\\\\\nb_1 &= f'(V_o = V_O) = 1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2} \\tag{5.37}\\\\\nb_2 &= \\frac{f''(V_o = V_O)}{2} = -\\frac{\\gamma}{8}(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\tag{5.38}\\\\\nb_3 &= \\frac{f'''(V_o = V_O)}{3!} = \\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-5/2} \\tag{5.39}\n\\end{align*}\n\\]\n\nSince \\( b_0 \\) is the DC input voltage \\( V_I \\), equation (5.31) can be rewritten as:\n\n\\[\nv_i = \\sum_{n=1}^{\\infty} b_n (v_o)^n = b_1 v_o + b_2 v_o^2 + b_3 v_o^3 + \\ldots \\tag{5.40}\n\\]\n\nTo determine the distortion, we rearrange this equation into the form:\n\n\\[\nv_o = \\sum_{n=1}^{\\infty} a_n (v_i)^n = a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots \\tag{5.41}\n\\]\n\nSubstituting equation (5.41) into (5.40) yields:\n\n\\[\n\\begin{align*}\nv_i &= b_1 (a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots) + b_2 (a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots)^2 \\\\\n&\\quad + b_3 (a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots)^3 + \\ldots \\\\\n&= b_1 a_1 v_i + (b_1 a_2 + b_2 a_1^2) v_i^2 + (b_1 a_3 + 2b_2 a_1 a_2 + b_3 a_1^3) v_i^3 + \\ldots \\tag{5.42}\n\\end{align*}\n\\]\n\nBy matching coefficients in equation (5.42), we find:\n\n\\[\n\\begin{align*}\n1 &= b_1 a_1 \\tag{5.43}\\\\\n0 &= b_1 a_2 + b_2 a_1^2 \\tag{5.44}\\\\\n0 &= b_1 a_3 + 2b_2 a_1 a_2 + b_3 a_1^3 \\tag{5.45}\n\\end{align*}\n\\]\n\nFrom equation (5.43), we derive:\n\n\\[\na_1 = \\frac{1}{b_1} \\tag{5.46}\n\\]\n\nSubstituting equation (5.46) into (5.44) and rearranging results in:\n\n\\[\na_2 = -\\frac{b_2}{b_1^3} \\tag{5.47}\n\\]\n\nSubstituting equations (5.46) and (5.47) into (5.45) and rearranging gives:\n\n\\[\na_3 = \\frac{2b_2^2}{b_1^5} - \\frac{b_3}{b_1^4} \\tag{5.48}\n\\]\n\nFor the source follower, substituting equation (5.37) into (5.46) yields:\n\n\\[\na_1 = \\frac{1}{1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}} \\tag{5.49}\n\\]\n\nSubstituting equations (5.37) and (5.38) into (5.47) and rearranging results in:\n\n\\[\na_2 = \\frac{\\frac{\\gamma}{8}(V_O + V_{DD} + 2\\phi_f)^{-3/2}}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^3} \\tag{5.50}\n\\]\n\nSubstituting equations (5.37), (5.38), and (5.39) into (5.48) and rearranging gives:\n\n\\[\na_3 = -\\frac{\\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-5/2}}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^5} \\tag{5.51}\n\\]\n\nEquations (5.41), (5.49), (5.50), and (5.51) can be used to calculate the distortion of the source-follower stage. For small values of \\( v_i \\) such that \\( a_2 v_i^2 \\ll a_1 v_i \\), the first term on the right-hand side of (5.41) dominates and the circuit behaves linearly. However, as \\( v_i \\) becomes comparable to \\( \\frac{a_1}{a_2} \\), other terms become significant, generating distortion products, as illustrated next. A common method to describe the nonlinearity of an amplifier is the specification of harmonic distortion, defined for a single sinusoidal input applied to the amplifier. Hence, let:\n\n\\[\nv_i = \\hat{v}_i \\sin \\omega t \\tag{5.52}\n\\]\n\nSubstituting equation (5.52) into (5.41) gives:\n\n\\[\n\\begin{align*}\nv_o &= a_1 \\hat{v}_i \\sin \\omega t + a_2 \\hat{v}_i^2 \\sin^2 \\omega t + a_3 \\hat{v}_i^3 \\sin^3 \\omega t + \\ldots \\\\\n&= a_1 \\hat{v}_i \\sin \\omega t + \\frac{a_2 \\hat{v}_i^2}{2}(1 - \\cos 2\\omega t) + \\frac{a_3 \\hat{v}_i^3}{4}(3\\sin \\omega t - \\sin 3\\omega t) + \\ldots \\tag{5.53}\n\\end{align*}\n\\]\n\nEquation (5.53) shows that the output voltage contains frequency components at the fundamental frequency, \\( \\omega \\) (the input frequency), and also at harmonic frequencies \\( 2\\omega, 3\\omega \\), and so on. The latter terms represent distortion products not present in the input signal. Second-harmonic distortion \\( \\mathrm{HD}_2 \\) is defined as the ratio of the amplitude of the output-signal component at frequency \\( 2\\omega \\) to the amplitude of the first harmonic (or fundamental) at frequency \\( \\omega \\). For small distortion, the term \\( \\frac{3}{4}a_3 \\hat{v}_i^3 \\sin \\omega t \\) in (5.53) is small compared to \\( a_1 \\hat{v}_i \\sin \\omega t \\), and the amplitude of the fundamental is approximately \\( a_1 \\hat{v}_i \\). Again, for small distortion, higher-order terms in (5.53) may be neglected, leading to:\n\n\\[\n\\mathrm{HD}_2 = \\frac{a_2 \\hat{v}_i^2}{2} \\frac{1}{a_1 \\hat{v}_i} = \\frac{1}{2} \\frac{a_2}{a_1} \\hat{v}_i \\tag{5.54}\n\\]\n\nUnder these assumptions, \\( \\mathrm{HD}_2 \\) varies linearly with the peak signal level \\( \\hat{v}_i \\). The value of \\( \\mathrm{HD}_2 \\) can be expressed in terms of known parameters by substituting equations (5.49) and (5.50) into (5.54) to give:\n\n\\[\n\\mathrm{HD}_2 = \\frac{\\gamma}{16} \\frac{(V_O + V_{DD} + 2\\phi_f)^{-3/2}(\\hat{v}_i)}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^2} \\tag{5.55}\n\\]\n\nIf \\( \\gamma \\ll 2\\sqrt{V_O + V_{DD} + 2\\phi_f} \\), then:\n\n\\[\n\\mathrm{HD}_2 \\simeq \\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\hat{v}_i \\tag{5.56}\n\\]\n\nThis equation shows that the second-harmonic distortion can be reduced by increasing the DC output voltage \\( V_O \\). This result is reasonable because this distortion stems from the body effect. Therefore, increasing \\( V_O \\) decreases the variation of the source-body voltage compared to its DC value caused by an input with a fixed peak amplitude. Equation (5.56) also shows that the second-harmonic distortion is approximately proportional to \\( \\gamma \\), neglecting the effect of \\( \\gamma \\) on \\( V_O \\).\n\nSimilarly, third-harmonic distortion \\( \\mathrm{HD}_3 \\) is defined as the ratio of the output signal component at frequency \\( 3\\omega \\) to the first harmonic. From (5.53) and assuming small distortion:\n\n\\[\n\\mathrm{HD}_3 = \\frac{a_3 \\hat{v}_i^3}{4} \\frac{1}{a_1 \\hat{v}_i} = \\frac{1}{4} \\frac{a_3}{a_1} \\hat{v}_i^2 \\tag{5.57}\n\\]\n\nUnder these assumptions, \\( \\mathrm{HD}_3 \\) varies as the square of the signal amplitude. The value of \\( \\mathrm{HD}_3 \\) can be expressed in terms of known parameters by substituting equations (5.49) and (5.51) into (5.57) to give:\n\n\\[\n\\mathrm{HD}_3 = -\\frac{\\gamma}{64} \\frac{(V_O + V_{DD} + 2\\phi_f)^{-5/2}(\\hat{v}_i^2)}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^4} \\tag{5.58}\n\\]\n\nSince the distortion calculated above stems from the body effect, it can be eliminated by placing the source follower in an isolated well and connecting the source to the well. However, this approach specifies the type of source-follower transistor because it must be opposite the type of the doping in the well. Also, this approach adds the well-substrate parasitic capacitance to the output load of the source follower, reducing its bandwidth.\n\n#### EXAMPLE\n\nCalculate second- and third-harmonic distortion in the circuit of Fig. 5.8 for a peak sinusoidal input voltage \\( \\hat{v}_i = 0.5 \\mathrm{~V} \\). Assume that \\( V_I = 0 \\), \\( V_{DD} = 2.5 \\mathrm{~V} \\), \\( I_Q = 1 \\mathrm{~mA} \\), and \\( R_L \\rightarrow \\infty \\). Also, assume that \\( (W/L)_1 = 1000 \\), \\( k' = 200 \\mu \\mathrm{~A}/\\mathrm{V}^2 \\), \\( V_{t0} = 0.7 \\mathrm{~V} \\), \\( \\phi_f = 0.3 \\mathrm{~V} \\), and \\( \\gamma = 0.5 \\mathrm{~V}^{1/2} \\).\n\nFirst, the DC output voltage \\( V_O \\) is:\n\n\\[\nV_O = V_I - V_{t0} - \\gamma \\left( \\sqrt{V_O + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f} \\right) - V_{ov1} \\tag{5.59}\n\\]\n\nRearranging (5.59) gives:\n\n\\[\n\\begin{align*}\n(V_O + V_{DD} + 2\\phi_f) + \\gamma \\sqrt{V_O + V_{DD} + 2\\phi_f} \\\\\n&- V_I + V_{ov1} + V_{t0} - \\gamma \\sqrt{2\\phi_f} - V_{DD} - 2\\phi_f = 0 \\tag{5.60}\n\\end{align*}\n\\]\n\nThis quadratic equation can be solved for \\( \\sqrt{V_O + V_{DD} + 2\\phi_f} \\). Since the result must be positive:\n\n\\[\n\\begin{align*}\n\\sqrt{V_O + V_{DD} + 2\\phi_f} &= -\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_I - V_{ov1} - V_{t0} + \\gamma \\sqrt{2\\phi_f} + V_{DD} + 2\\phi_f} \\tag{5.61}\n\\end{align*}\n\\]\n\nSquaring both sides and rearranging gives:\n\n\\[\n\\begin{align*}\nV_O &= -V_{DD} - 2\\phi_f \\\\\n&+ \\left(-\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_I - V_{ov1} - V_{t0} + \\gamma \\sqrt{2\\phi_f} + V_{DD} + 2\\phi_f}\\right)^2 \\tag{5.62}\n\\end{align*}\n\\]\n\nIn this example:\n\n\\[\nV_{ov1} = \\sqrt{\\frac{2I_Q}{k'(W/L)_1}} = \\sqrt{\\frac{2(1000)}{200(1000)}} \\mathrm{V} = 0.1 \\mathrm{~V} \\tag{5.63}\n\\]\n\nSince \\( V_{DD} + 2\\phi_f = 3.1 \\mathrm{~V} \\) and \\( V_I - V_{ov1} - V_{t0} = -0.8 \\mathrm{~V} \\):\n\n\\[\n\\begin{aligned}\nV_O &= -3.1 \\mathrm{~V} + \\left(-0.25 + \\sqrt{(0.25)^2 - 0.8 + 0.5\\sqrt{0.6} + 3.1}\\right)^2 \\mathrm{~V} \\\\\n&= -1.117 \\mathrm{~V}\n\\end{aligned}\n\\]\n\nTherefore:\n\n\\[\nV_O + V_{DD} + 2\\phi_f = (-1.117 + 2.5 + 0.6) \\mathrm{V} = 1.983 \\mathrm{~V}\n\\]\n\nFrom (5.55):\n\n\\[\n\\mathrm{HD}_2 = \\frac{0.5}{16} \\frac{(1.983)^{-3/2}(0.5)}{\\left(1 + \\frac{0.5}{2}(1.983)^{-1/2}\\right)^2} = 0.0040 \\tag{5.64}\n\\]\n\nFrom (5.58):\n\n\\[\n\\mathrm{HD}_3 = -\\frac{0.5}{64} \\frac{(1.983)^{-5/2}(0.5)^2}{\\left(1 + \\frac{0.5}{"
},
{
    "text": "To illustrate the calculation of signal distortion from a nonlinear transfer function, we will use the source-follower stage as an example, where the transfer function was previously calculated in (5.23), with $V_{i}$ represented as a function of $V_{o}$.\n\nThe input voltage can be expressed using a Taylor series as follows:\n\n$$\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} \\frac{f^{(n)}\\left(V_{o}=V_{O}\\right)\\left(V_{o}-V_{O}\\right)^{n}}{n!} \\tag{5.30}\n$$\n\nHere, $f^{(n)}$ denotes the $n^{\\text {th }}$ derivative of $f$. Given that $v_{o}=V_{o}-V_{O}$, equation (5.30) can be rewritten as:\n\n$$\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} b_{n}\\left(v_{o}\\right)^{n} \\tag{5.31}\n$$\n\nwhere $b_{n}=f^{(n)}\\left(V_{o}=V_{O}\\right) /(n!)$. For simplicity, we assume that $R_{L} \\rightarrow \\infty$. Using (1.140) and (5.23), we get:\n\n$$\nV_{i}=f\\left(V_{o}\\right)=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{V_{o}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1} \\tag{5.32}\n$$\n\nThe derivatives of $f\\left(V_{o}\\right)$ are:\n\n$$\n\\begin{align*}\nf^{\\prime}\\left(V_{o}\\right) & =1+\\frac{\\gamma}{2}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.33}\\\\\nf^{\\prime \\prime}\\left(V_{o}\\right) & =-\\frac{\\gamma}{4}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.34}\\\\\nf^{\\prime \\prime \\prime}\\left(V_{o}\\right) & =\\frac{3 \\gamma}{8}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.35}\n\\end{align*}\n$$\n\nThus, the coefficients $b_{n}$ are:\n\n$$\n\\begin{align*}\n& b_{0}=f\\left(V_{o}=V_{O}\\right)=V_{O}+V_{t 0}+\\gamma\\left(\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1}  \\tag{5.36}\\\\\n& b_{1}=f^{\\prime}\\left(V_{o}=V_{O}\\right)=1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.37}\\\\\n& b_{2}=\\frac{f^{\\prime \\prime}\\left(V_{o}=V_{O}\\right)}{2}=-\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.38}\\\\\n& b_{3}=\\frac{f^{\\prime \\prime \\prime}\\left(V_{o}=V_{O}\\right)}{3!}=\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.39}\n\\end{align*}\n$$\n\nWith $b_{0}$ being the dc input voltage $V_{I}$, equation (5.31) can be simplified to:\n\n$$\nv_{i}=\\sum_{n=1}^{\\infty} b_{n}\\left(v_{o}\\right)^{n}=b_{1} v_{o}+b_{2} v_{o}^{2}+b_{3} v_{o}^{3}+\\ldots \\tag{5.40}\n$$\n\nTo analyze the distortion, we rearrange this into the form:\n\n$$\nv_{o}=\\sum_{n=1}^{\\infty} a_{n}\\left(v_{i}\\right)^{n}=a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots \\tag{5.41}\n$$\n\nSubstituting (5.41) into (5.40) yields:\n\n$$\n\\begin{align*}\nv_{i}= & b_{1}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)+b_{2}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{2} \\\\\n& +b_{3}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{3}+\\ldots \\\\\n= & b_{1} a_{1} v_{i}+\\left(b_{1} a_{2}+b_{2} a_{1}^{2}\\right) v_{i}^{2}+\\left(b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3}\\right) v_{i}^{3}+\\ldots \\tag{5.42}\n\\end{align*}\n$$\n\nBy matching coefficients in (5.42), we obtain:\n\n$$\n\\begin{align*}\n& 1=b_{1} a_{1}  \\tag{5.43}\\\\\n& 0=b_{1} a_{2}+b_{2} a_{1}^{2}  \\tag{5.44}\\\\\n& 0=b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3} \\tag{5.45}\n\\end{align*}\n$$\n\nFrom (5.43), we have:\n\n$$\na_{1}=\\frac{1}{b_{1}} \\tag{5.46}\n$$\n\nSubstituting (5.46) into (5.44) and rearranging gives:\n\n$$\na_{2}=-\\frac{b_{2}}{b_{1}^{3}} \\tag{5.47}\n$$\n\nSubstituting (5.46) and (5.47) into (5.45) and rearranging gives:\n\n$$\na_{3}=\\frac{2 b_{2}^{2}}{b_{1}^{5}}-\\frac{b_{3}}{b_{1}^{4}} \\tag{5.48}\n$$\n\nFor the source follower, substituting (5.37) into (5.46) gives:\n\n$$\na_{1}=\\frac{1}{1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}} \\tag{5.49}\n$$\n\nSubstituting (5.37) and (5.38) into (5.47) and rearranging gives:\n\n$$\na_{2}=\\frac{\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{3}} \\tag{5.50}\n$$\n\nSubstituting (5.37), (5.38), and (5.39) into (5.48) and rearranging gives:\n\n$$\na_{3}=-\\frac{\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{5}} \\tag{5.51}\n$$\n\nEquations $5.41,5.49,5.50$, and 5.51 can be used to calculate the distortion of the sourcefollower stage. For small values of $v_{i}$ such that $a_{2} v_{i}^{2} \\ll a_{1} v_{i}$, the first term on the right-hand side of (5.41) dominates and the circuit is essentially linear. However, as $v_{i}$ becomes comparable to $a_{1} / a_{2}$, other terms become significant and distortion products are generated, as illustrated next. A common method of describing the nonlinearity of an amplifier is the specification of harmonic distortion, which is defined for a single sinusoidal input applied to the amplifier. Thus let:\n\n$$\nv_{i}=\\hat{v}_{i} \\sin \\omega t \\tag{5.52}\n$$\n\nSubstituting (5.52) into (5.41) gives:\n\n$$\n\\begin{align*}\nv_{o} & =a_{1} \\hat{v}_{i} \\sin \\omega t+a_{2} \\hat{v}_{i}^{2} \\sin ^{2} \\omega t+a_{3} \\hat{v}_{i}^{3} \\sin ^{3} \\omega t+\\ldots \\\\\n& =a_{1} \\hat{v}_{i} \\sin \\omega t+\\frac{a_{2} \\hat{v}_{i}^{2}}{2}(1-\\cos 2 \\omega t)+\\frac{a_{3} \\hat{v}_{i}^{3}}{4}(3 \\sin \\omega t-\\sin 3 \\omega t)+\\ldots \\tag{5.53}\n\\end{align*}\n$$\n\nEquation 5.53 shows that the output voltage contains frequency components at the fundamental frequency, $\\omega$ (the input frequency), and also at harmonic frequencies $2 \\omega, 3 \\omega$, and so on. The latter terms represent distortion products that are not present in the input signal. Second-harmonic distortion $\\mathrm{HD}_{2}$ is defined as the ratio of the amplitude of the output-signal component at frequency $2 \\omega$ to the amplitude of the first harmonic (or fundamental) at frequency $\\omega$. For small distortion, the term (3/4) $a_{3} \\hat{v}_{i}^{3} \\sin \\omega t$ in (5.53) is small compared to $a_{1} \\hat{v}_{i} \\sin \\omega t$, and the amplitude of the fundamental is approximately $a_{1} \\hat{v}_{i}$. Again for small distortion, higher-order terms in (5.53) may be neglected and:\n\n$$\nH D_{2}=\\frac{a_{2} \\hat{v}_{i}^{2}}{2} \\frac{1}{a_{1} \\hat{v}_{i}}=\\frac{1}{2} \\frac{a_{2}}{a_{1}} \\hat{v}_{i} \\tag{5.54}\n$$\n\nUnder these assumptions, $H D_{2}$ varies linearly with the peak signal level $\\hat{v}_{i}$. The value of $H D_{2}$ can be expressed in terms of known parameters by substituting (5.49) and (5.50) in (5.54) to give:\n\n$$\nH D_{2}=\\frac{\\gamma}{16} \\frac{\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}\\left(\\hat{v}_{i}\\right)}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{2}} \\tag{5.55}\n$$\n\nIf $\\gamma \\ll 2 \\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}$, then:\n\n$$\nH D_{2} \\simeq \\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2} \\hat{v}_{i} \\tag{5.56}\n$$\n\nThis equation shows that the second-harmonic distortion can be reduced by increasing the dc output voltage $V_{O}$. This result is reasonable because this distortion stems from the body effect. Therefore, increasing $V_{O}$ decreases the variation of the source-body voltage compared to its dc value caused by an input with fixed peak amplitude. ${ }^{2}$ Equation 5.56 also shows that the second-harmonic distortion is approximately proportional to $\\gamma$, neglecting the effect of $\\gamma$ on $V_{O}$.\n\nSimilarly, third-harmonic distortion $\\mathrm{HD}_{3}$ is defined as the ratio of the output signal component at frequency $3 \\omega$ to the first harmonic. From (5.53) and assuming small distortion:\n\n$$\nH D_{3}=\\frac{a_{3} \\hat{v}_{i}^{3}}{4} \\frac{1}{a_{1} \\hat{v}_{i}}=\\frac{1}{4} \\frac{a_{3}}{a_{1}} \\hat{v}_{i}^{2} \\tag{5.57}\n$$\n\nUnder these assumptions, $H D_{3}$ varies as the square of the signal amplitude. The value of $H D_{3}$ can be expressed in terms of known parameters by substituting (5.49) and (5.51) in (5.57) to give:\n\n$$\nH D_{3}=-\\frac{\\gamma}{64} \\frac{\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2}\\left(\\hat{v}_{i}^{2}\\right)}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{4}} \\tag{5.58}\n$$\n\nSince the distortion calculated above stems from the body effect, it can be eliminated by placing the source follower in an isolated well and connecting the source to the well. However, this approach specifies the type of source-follower transistor because it must be opposite the type of the doping in the well. Also, this approach adds the well-substrate parasitic capacitance to the output load of the source follower, reducing its bandwidth.\n\n#### EXAMPLE\n\nCalculate second- and third-harmonic distortion in the circuit of Fig. 5.8 for a peak sinusoidal input voltage $\\hat{v}_{i}=0.5 \\mathrm{~V}$. Assume that $V_{I}=0, V_{D D}=2.5 \\mathrm{~V}, I_{Q}=1 \\mathrm{~mA}$, and $R_{L} \\rightarrow \\infty$. Also, assume that $(W / L)_{1}=1000, k^{\\prime}=200 \\mu \\mathrm{~A} / \\mathrm{V}^{2}, V_{t 0}=0.7 \\mathrm{~V}, \\phi_{f}=0.3 \\mathrm{~V}$, and $\\gamma=0.5 \\mathrm{~V}^{1 / 2}$.\n\nFirst, the dc output voltage $V_{O}$ is:\n\n$$\nV_{O}=V_{I}-V_{t 0}-\\gamma\\left(\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)-V_{o v 1} \\tag{5.59}\n$$\n\nRearranging (5.59) gives:\n\n$$\n\\begin{align*}\n\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right) & +\\gamma \\sqrt{V_{O}+V_{D D}+2 \\phi_{f}} \\\\\n& -V_{I}+V_{o v 1}+V_{t 0}-\\gamma \\sqrt{2 \\phi_{f}}-V_{D D}-2 \\phi_{f}=0 \\tag{5.60}\n\\end{align*}\n$$\n\nThis quadratic equation can be solved for $\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}$. Since the result must be positive:\n\n$$\n\\begin{align*}\n\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}} & = \\\\\n-\\frac{\\gamma}{2} & +\\sqrt{\\left(\\frac{\\gamma}{2}\\right)^{2}+V_{I}-V_{o v 1}-V_{t 0}+\\gamma \\sqrt{2 \\phi_{f}}+V_{D D}+2 \\phi_{f}} \\tag{5.61}\n\\end{align*}\n$$\n\nSquaring both sides and rearranging gives:\n\n$$\n\\begin{align*}\nV_{O}= & -V_{D D}-2 \\phi_{f} \\\\\n& +\\left(-\\frac{\\gamma}{2}+\\sqrt{\\left(\\frac{\\gamma}{2}\\right)^{2}+V_{I}-V_{o v 1}-V_{t 0}+\\gamma \\sqrt{2 \\phi_{f}}+V_{D D}+2 \\phi_{f}}\\right)^{2} \\tag{5.62}\n\\end{align*}\n$$\n\nIn this example:\n\n$$\nV_{o v 1}=\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}}=\\sqrt{\\frac{2("
},
{
    "text": "To illustrate the calculation of signal distortion from a nonlinear transfer function, we'll use the source-follower stage as an example. The transfer function of the source-follower stage was previously calculated, where the input voltage, $V_{i}$, is expressed as a function of the output voltage, $V_{o}$. \n\nBy utilizing a Taylor series, the input voltage can be expressed as:\n\n$$\n\\begin{equation*}\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} \\frac{f^{(n)}\\left(V_{o}=V_{O}\\right)\\left(V_{o}-V_{O}\\right)^{n}}{n!} \\tag{5.30}\n\\end{equation*}\n$$\n\nHere, $f^{(n)}$ denotes the $n^{\\text {th }}$ derivative of $f$. Given that $v_{o}=V_{o}-V_{O}$, equation (5.30) can be rewritten as:\n\n$$\n\\begin{equation*}\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} b_{n}\\left(v_{o}\\right)^{n} \\tag{5.31}\n\\end{equation*}\n$$\n\nIn this equation, $b_{n}=f^{(n)}\\left(V_{o}=V_{O}\\right) /(n!)$. For simplicity, we assume that $R_{L} \\rightarrow \\infty$. Using equations (1.140) and (5.23), we can express $V_{i}$ as:\n\n$$\n\\begin{equation*}\nV_{i}=f\\left(V_{o}\\right)=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{V_{o}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1} \\tag{5.32}\n\\end{equation*}\n$$\n\nFrom this, we can derive the first, second, and third derivatives of $f$ with respect to $V_{o}$:\n\n$$\n\\begin{align*}\nf^{\\prime}\\left(V_{o}\\right) & =1+\\frac{\\gamma}{2}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.33}\\\\\nf^{\\prime \\prime}\\left(V_{o}\\right) & =-\\frac{\\gamma}{4}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.34}\\\\\nf^{\\prime \\prime \\prime}\\left(V_{o}\\right) & =\\frac{3 \\gamma}{8}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.35}\n\\end{align*}\n$$\n\nUsing\nThe calculation\nThe source-follower stage's transfer function was previously determined, with the input voltage, $V_{i}$, defined in terms of the output voltage, $V_{o}$. To demonstrate the calculation of signal distortion arising from a nonlinear transfer function, we will utilize\nThe source-follower stage's transfer function was previously determined, with the input voltage, $V_{i}$, defined in terms of the output voltage, $V_{o}$. To demonstrate the computation of signal distortion arising from a nonlinear transfer function, we will utilize\nTo demonstrate the computation of signal distortion arising from a nonlinear transfer function, we will use the source-follower stage as an example. The transfer function for this stage was previously calculated, with the input voltage, $V_{i}$, expressed as a function of the output voltage, $V_{o}$."
},
{
    "text": "The transfer function of the source-follower stage was previously computed in equation (5.23), where the input voltage $V_i$ was represented in terms of the output voltage $V_o$. This section will use the source-follower stage as a case study to demonstrate the computation of signal distortion resulting from a nonlinear transfer function.\n\nEmploying the Taylor series expansion, the input voltage can be expressed as:\n\n$$\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_o = V_O)(V_o - V_O)^n}{n!} \\tag{5.30}\n$$\n\nHere, $f^{(n)}$ denotes the $n$th derivative of $f$. Given that $v_o = V_o - V_O$, equation (5.30) can be rearranged to:\n\n$$\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} b_n (v_o)^n \\tag{5.31}\n$$\n\nwhere $b_n = f^{(n)}(V_o = V_O) / (n!)$. Assuming $R_L$ approaches infinity, equations (1.140) and (5.23) lead to:\n\n$$\nV_i = f(V_o) = V_o + V_{t0} + \\gamma (\\sqrt{V_o + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f}) + V_{ov1} \\tag{5.32}\n$$\n\nFrom this, the first, second, and third derivatives of $f(V_o)$ are:\n\n$$\n\\begin{align*}\nf'(V_o) & = 1 + \\frac{\\gamma}{2}(V_o + V_{DD} + 2\\phi_f)^{-1/2} \\tag{5.33}\\\\\nf''(V_o) & = -\\frac{\\gamma}{4}(V_o + V_{DD} + 2\\phi_f)^{-3/2} \\tag{5.34}\\\\\nf'''(V_o) & = \\frac{3\\gamma}{8}(V_o + V_{DD} + 2\\phi_f)^{-5/2} \\tag{5.35}\n\\end{align*}\n$$\n\nConsequently, the coefficients $b_n$ are given by:\n\n$$\n\\begin{align*}\nb_0 & = f(V_o = V_O) = V_O + V_{t0} + \\gamma (\\sqrt{V_O + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f}) + V_{ov1} \\tag{5.36}\\\\\nb_1 & = f'(V_o = V_O) = 1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2} \\tag{5.37}\\\\\nb_2 & = \\frac{f''(V_o = V_O)}{2} = -\\frac{\\gamma}{8}(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\tag{5.38}\\\\\nb_3 & = \\frac{f'''(V_o = V_O)}{3!} = \\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-5/2} \\tag{5.39}\n\\end{align*}\n$$\n\nWith $b_0$ representing the DC input voltage $V_I$, equation (5.31) can be rewritten as:\n\n$$\nv_i = \\sum_{n=1}^{\\infty} b_n (v_o)^n = b_1 v_o + b_2 v_o^2 + b_3 v_o^3 + \\ldots \\tag{5.40}\n$$\n\nTo analyze distortion, this equation is transformed into:\n\n$$\nv_o = \\sum_{n=1}^{\\infty} a_n (v_i)^n = a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots \\tag{5.41}\n$$\n\nSubstituting (5.41) into (5.40) results in:\n\n$$\n\\begin{align*}\nv_i = & b_1 (a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots) + b_2 (a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots)^2 \\\\\n& + b_3 (a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots)^3 + \\ldots \\\\\n= & b_1 a_1 v_i + (b_1 a_2 + b_2 a_1^2) v_i^2 + (b_1 a_3 + 2b_2 a_1 a_2 + b_3 a_1^3) v_i^3 + \\ldots \\tag{5.42}\n\\end{align*}\n$$\n\nBy equating coefficients in (5.42), we obtain:\n\n$$\n\\begin{align*}\n1 & = b_1 a_1 \\tag{5.43}\\\\\n0 & = b_1 a_2 + b_2 a_1^2 \\tag{5.44}\\\\\n0 & = b_1 a_3 + 2b_2 a_1 a_2 + b_3 a_1^3 \\tag{5.45}\n\\end{align*}\n$$\n\nFrom (5.43):\n\n$$\na_1 = \\frac{1}{b_1} \\tag{5.46}\n$$\n\nSubstituting (5.46) into (5.44) yields:\n\n$$\na_2 = -\\frac{b_2}{b_1^3} \\tag{5.47}\n$$\n\nAnd substituting (5.46) and (5.47) into (5.45) results in:\n\n$$\na_3 = \\frac{2b_2^2}{b_1^5} - \\frac{b_3}{b_1^4} \\tag{5.48}\n$$\n\nFor the source follower, substituting (5.37) into (5.46) gives:\n\n$$\na_1 = \\frac{1}{1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}} \\tag{5.49}\n$$\n\nAnd substituting (5.37) and (5.38) into (5.47) and rearranging yields:\n\n$$\na_2 = \\frac{\\frac{\\gamma}{8}(V_O + V_{DD} + 2\\phi_f)^{-3/2}}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^3} \\tag{5.50}\n$$\n\nSubstituting (5.37), (5.38), and (5.39) into (5.48) and rearranging gives:\n\n$$\na_3 = -\\frac{\\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-5/2}}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^5} \\tag{5.51}\n$$\n\nEquations (5.41), (5.49), (5.50), and (5.51) are used to calculate the distortion of the source-follower stage. When $v_i$ is small such that $a_2 v_i^2 \\ll a_1 v_i$, the first term on the right-hand side of (5.41) dominates, and the circuit behaves linearly. However, as $v_i$ becomes comparable to $a_1 / a_2$, higher-order terms become significant, generating distortion products.\n\nA common way to describe amplifier nonlinearity is by specifying harmonic distortion, defined for a single sinusoidal input. Thus, let:\n\n$$\nv_i = \\hat{v}_i \\sin \\omega t \\tag{5.52}\n$$\n\nSubstituting (5.52) into (5.41) results in:\n\n$$\n\\begin{align*}\nv_o = & a_1 \\hat{v}_i \\sin \\omega t + a_2 \\hat{v}_i^2 \\sin^2 \\omega t + a_3 \\hat{v}_i^3 \\sin^3 \\omega t + \\ldots \\\\\n= & a_1 \\hat{v}_i \\sin \\omega t + \\frac{a_2 \\hat{v}_i^2}{2}(1 - \\cos 2\\omega t) + \\frac{a_3 \\hat{v}_i^3}{4}(3 \\sin \\omega t - \\sin 3\\omega t) + \\ldots \\tag{5.53}\n\\end{align*}\n$$\n\nEquation (5.53) shows that the output voltage contains frequency components at the fundamental frequency $\\omega$ and also at harmonic frequencies $2\\omega, 3\\omega$, and so on. The latter terms represent distortion products not present in the input signal. Second-harmonic distortion $HD_2$ is defined as the ratio of the amplitude of the output-signal component at frequency $2\\omega$ to the amplitude of the first harmonic at frequency $\\omega$. For small distortions, the term (3/4) $a_3 \\hat{v}_i^3 \\sin \\omega t$ in (5.53) is negligible compared to $a_1 \\hat{v}_i \\sin \\omega t$, and the amplitude of the fundamental is approximately $a_1 \\hat{v}_i$. Assuming small distortion, higher-order terms in (5.53) can be ignored, leading to:\n\n$$\nHD_2 = \\frac{a_2 \\hat{v}_i^2}{2} \\frac{1}{a_1 \\hat{v}_i} = \\frac{1}{2} \\frac{a_2}{a_1} \\hat{v}_i \\tag{5.54}\n$$\n\nUnder these assumptions, $HD_2$ varies linearly with the peak signal level $\\hat{v}_i$. Substituting (5.49) and (5.50) into (5.54) expresses $HD_2$ in terms of known parameters:\n\n$$\nHD_2 = \\frac{\\gamma}{16} \\frac{(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\hat{v}_i}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^2} \\tag{5.55}\n$$\n\nIf $\\gamma \\ll 2\\sqrt{V_O + V_{DD} + 2\\phi_f}$, then:\n\n$$\nHD_2 \\simeq \\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\hat{v}_i \\tag{5.56}\n$$\n\nThis equation indicates that the second-harmonic distortion can be reduced by increasing the DC output voltage $V_O$. This is logical because this distortion originates from the body effect. Hence, increasing $V_O$ decreases the variation of the source-body voltage relative to its DC value due to an input with a fixed peak amplitude. Equation (5.56) also suggests that the second-harmonic distortion is approximately proportional to $\\gamma$, disregarding the impact of $\\gamma$ on $V_O$.\n\nSimilarly, third-harmonic distortion $HD_3$ is defined as the ratio of the output signal component at frequency $3\\omega$ to the first harmonic. From (5.53) and assuming small distortion:\n\n$$\nHD_3 = \\frac{a_3 \\hat{v}_i^3}{4} \\frac{1}{a_1 \\hat{v}_i} = \\frac{1}{4} \\frac{a_3}{a_1} \\hat{v}_i^2 \\tag{5.57}\n$$\n\nUnder these assumptions, $HD_3$ varies with the square of the signal amplitude. Substituting (5.49) and (5.51) into (5.57) expresses $HD_3$ in terms of known parameters:\n\n$$\nHD_3 = -\\frac{\\gamma}{64} \\frac{(V_O + V_{DD} + 2\\phi_f)^{-5/2} \\hat{v}_i^2}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^4} \\tag{5.58}\n$$\n\nSince the calculated distortion stems from the body effect, it can be mitigated by placing the source follower in an isolated well and connecting the source to the well. However, this approach necessitates a specific type of source-follower transistor, opposite in type to the well's doping. Additionally, this method introduces the well-substrate parasitic capacitance to the output load of the source follower, narrowing its bandwidth.\n\n#### EXAMPLE\n\nCalculate the second- and third-harmonic distortion in the circuit of Fig. 5.8 for a peak sinusoidal input voltage $\\hat{v}_i = 0.5 \\text{ V}$. Assume $V_I = 0$, $V_{DD} = 2.5 \\text{ V}$, $I_Q = 1 \\text{ mA}$, and $R_L \\rightarrow \\infty$. Also, assume $(W/L)_1 = 1000$, $k' = 200 \\mu \\text{ A/V}^2$, $V_{t0} = 0.7 \\text{ V}$, $\\phi_f = 0.3 \\text{ V}$, and $\\gamma = 0.5 \\text{ V}^{1/2}$.\n\nFirst, the DC output voltage $V_O$ is:\n\n$$\nV_O = V_I - V_{t0} - \\gamma (\\sqrt{V_O + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f}) - V_{ov1} \\tag{5.59}\n$$\n\nRearranging (5.59) leads to:\n\n$$\n\\begin{align*}\n(V_O + V_{DD} + 2\\phi_f) + \\gamma \\sqrt{V_O + V_{DD} + 2\\phi_f} - V_I + V_{ov1} + V_{t0} - \\gamma \\sqrt{2\\phi_f} - V_{DD} - 2\\phi_f = 0 \\tag{5.60}\n\\end{align*}\n$$\n\nThis quadratic equation can be solved for $\\sqrt{V_O + V_{DD} + 2\\phi_f}$. Since the solution must be positive:\n\n$$\n\\begin{align*}\n\\sqrt{V_O + V_{DD} + 2\\phi_f} = & -\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_I - V_{ov1} - V_{t0} + \\gamma \\sqrt{2\\phi_f} + V_{DD} + 2\\phi_f} \\tag{5.61}\n\\end{align*}\n$$\n\nSquaring both sides and rearranging gives:\n\n$$\n\\begin{align*}\nV_O = & -V_{DD} - 2\\phi_f \\\\\n& + \\left(-\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_I - V_{ov1} - V_{t0} + \\gamma \\sqrt{2\\phi_f} + V_{DD} + 2\\phi_f}\\right)^2 \\tag{5.62}\n\\end{align*}\n$$\n\nIn this example:\n\n$$\nV_{ov1} = \\sqrt{\\frac{2I_Q}{k'(W/L)_1}} = \\sqrt{\\frac{2(1000)}{200(1000)}} \\text{ V} = 0.1 \\text{ V} \\tag{5.63}\n$$\n\nGiven that $V_{DD} + 2\\phi_f = 3.1 \\text{ V}$ and $V_I - V_{ov1} - V_{t0} = -0.8 \\text{ V}$:\n\n$$\n\\begin{aligned}\nV_O = & -3.1 \\text{ V} + \\left(-0.25 + \\sqrt{(0.25)^2 - 0.8 + 0.5\\sqrt{0.6} + 3.1}\\right)^2 \\text{ V} \\\\\n& = -1.117 \\text{ V}\n\\end{aligned}\n$$\n\nTherefore:\n\n$$\nV_O + V_{DD} + 2\\phi_f = (-1.117 + 2.5 + 0.6) \\text{ V} = 1.983 \\text{ V}\n$$\n\nFrom (5.55):\n\n$$\nHD_2 = \\frac{0.5}{16} \\frac{(1.983)^{-3/2}(0.5)}{\\left(1 + \\frac{0.5}{2}(1.983)^{-1/2}\\right)^2} = 0.0040 \\tag{5.64}\n$$\n\nAnd from (5.58):\n\n$$\nHD_3 = -\\frac{0.5}{64} \\frac{(1.983)^{-5/2}(0.5)^2}{\\left(1 + \\frac{0.5}{2}(1.983)^{-1/2}\\right)^4} = -1.8 \\times 10^{-4} \\tag{5.65}\n$$\n\nThus, the second-harmonic distortion is 0.40 percent and the third-harmonic distortion is 0.018 percent. In practice, the second-harmonic distortion is typically dominant."
},
{
    "text": "The transfer function for the source-follower stage was determined in equation (5.23), where the input voltage $V_{i}$ is represented as a function of the output voltage $V_{o}$. This section will demonstrate the computation of signal distortion arising from a nonlinear transfer function, utilizing the source-follower stage as a case study.\n\nBy employing a Taylor series, the input voltage can be expressed as:\n\n$$\n\\begin{equation*}\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} \\frac{f^{(n)}\\left(V_{o}=V_{O}\\right)\\left(V_{o}-V_{O}\\right)^{n}}{n!} \\tag{5.30}\n\\end{equation*}\n$$\n\nHere, $f^{(n)}$ denotes the $n^{\\text{th}}$ derivative of $f$. Given that $v_{o}=V_{o}-V_{O}$, equation (5.30) can be rewritten as:\n\n$$\n\\begin{equation*}\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} b_{n}\\left(v_{o}\\right)^{n} \\tag{5.31}\n\\end{equation*}\n$$\n\nwhere $b_{n}=\\frac{f^{(n)}\\left(V_{o}=V_{O}\\right)}{n!}$. For simplicity, assume that $R_{L} \\rightarrow \\infty$. Using equations (1.140) and (5.23), we have:\n\n$$\n\\begin{equation*}\nV_{i}=f\\left(V_{o}\\right)=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{V_{o}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1} \\tag{5.32}\n\\end{equation*}\n$$\n\nHence:\n\n$$\n\\begin{align*}\nf^{\\prime}\\left(V_{o}\\right) & =1+\\frac{\\gamma}{2}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.33}\\\\\nf^{\\prime \\prime}\\left(V_{o}\\right) & =-\\frac{\\gamma}{4}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.34}\\\\\nf^{\\prime \\prime \\prime}\\left(V_{o}\\right) & =\\frac{3 \\gamma}{8}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.35}\n\\end{align*}\n$$\n\nThus:\n\n$$\n\\begin{align*}\n& b_{0}=f\\left(V_{o}=V_{O}\\right)=V_{O}+V_{t 0}+\\gamma\\left(\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1}  \\tag{5.36}\\\\\n& b_{1}=f^{\\prime}\\left(V_{o}=V_{O}\\right)=1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.37}\\\\\n& b_{2}=\\frac{f^{\\prime \\prime}\\left(V_{o}=V_{O}\\right)}{2}=-\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.38}\\\\\n& b_{3}=\\frac{f^{\\prime \\prime \\prime}\\left(V_{o}=V_{O}\\right)}{3!}=\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.39}\n\\end{align*}\n$$\n\nSince the constant $b_{0}$ corresponds to the dc input voltage $V_{I}$, equation (5.31) can be rewritten as:\n\n$$\n\\begin{equation*}\nv_{i}=\\sum_{n=1}^{\\infty} b_{n}\\left(v_{o}\\right)^{n}=b_{1} v_{o}+b_{2} v_{o}^{2}+b_{3} v_{o}^{3}+\\ldots \\tag{5.40}\n\\end{equation*}\n$$\n\nTo determine the distortion, we rearrange this equation into the following form:\n\n$$\n\\begin{equation*}\nv_{o}=\\sum_{n=1}^{\\infty} a_{n}\\left(v_{i}\\right)^{n}=a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots \\tag{5.41}\n\\end{equation*}\n$$\n\nSubstituting equation (5.41) into (5.40) yields:\n\n$$\n\\begin{align*}\nv_{i}= & b_{1}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)+b_{2}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{2} \\\\\n& +b_{3}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{3}+\\ldots \\\\\n= & b_{1} a_{1} v_{i}+\\left(b_{1} a_{2}+b_{2} a_{1}^{2}\\right) v_{i}^{2}+\\left(b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3}\\right) v_{i}^{3}+\\ldots \\tag{5.42}\n\\end{align*}\n$$\n\nBy matching coefficients in equation (5.42), we obtain:\n\n$$\n\\begin{align*}\n& 1=b_{1} a_{1}  \\tag{5.43}\\\\\n& 0=b_{1} a_{2}+b_{2} a_{1}^{2}  \\tag{5.44}\\\\\n& 0=b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3} \\tag{5.45}\n\\end{align*}\n$$\n\nFrom equation (5.43):\n\n$$\n\\begin{equation*}\na_{1}=\\frac{1}{b_{1}} \\tag{5.46}\n\\end{equation*}\n$$\n\nSubstituting equation (5.46) into (5.44) and rearranging gives:\n\n$$\n\\begin{equation*}\na_{2}=-\\frac{b_{2}}{b_{1}^{3}} \\tag{5.47}\n\\end{equation*}\n$$\n\nSubstituting equations (5.46) and (5.47) into (5.45) and rearranging gives:\n\n$$\n\\begin{equation*}\na_{3}=\\frac{2 b_{2}^{2}}{b_{1}^{5}}-\\frac{b_{3}}{b_{1}^{4}} \\tag{5.48}\n\\end{equation*}\n$$\n\nFor the source follower, substituting equation (5.37) into (5.46) yields:\n\n$$\n\\begin{equation*}\na_{1}=\\frac{1}{1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}} \\tag{5.49}\n\\end{equation*}\n$$\n\nSubstituting equations (5.37) and (5.38) into (5.47) and rearranging gives:\n\n$$\n\\begin{equation*}\na_{2}=\\frac{\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{3}} \\tag{5.50}\n\\end{equation*}\n$$\n\nSubstituting equations (5.37), (5.38), and (5.39) into (5.48) and rearranging gives:\n\n$$\n\\begin{equation*}\na_{3}=-\\frac{\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{5}} \\tag{5.51}\n\\end{equation*}\n$$\n\nEquations $5.41, 5.49, 5.50$, and 5.51 can be used to calculate the distortion of the source-follower stage. For small values of $v_{i}$ such that $a_{2} v_{i}^{2} \\ll a_{1} v_{i}$, the first term on the right-hand side of equation (5.41) dominates and the circuit behaves linearly. However, as $v_{i}$ becomes comparable to $a_{1} / a_{2}$, other terms become significant, leading"
},
{
    "text": "The transfer function of the source-follower stage was computed in equation (5.23), where the input voltage \\( V_i \\) is represented as a function of the output voltage \\( V_o \\). The computation of signal distortion arising from a nonlinear transfer function will now be exemplified using the source-follower stage as a case study.\n\nThe input voltage can be expressed using a Taylor series as follows:\n\n\\[\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_o = V_O)(V_o - V_O)^n}{n!} \\tag{5.30}\n\\]\n\nHere, \\( f^{(n)} \\) denotes the \\( n \\)th derivative of \\( f \\). Given that \\( v_o = V_o - V_O \\), equation (5.30) can be rephrased as:\n\n\\[\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} b_n(v_o)^n \\tag{5.31}\n\\]\n\nwhere \\( b_n = f^{(n)}(V_o = V_O) / n! \\). For the sake of simplification, let's assume \\( R_L \\rightarrow \\infty \\). Using equations (1.140) and (5.23), we have:\n\n\\[\nV_i = f(V_o) = V_o + V_{t0} + \\gamma\\left(\\sqrt{V_o + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f}\\right) + V_{ov1} \\tag{5.32}\n\\]\n\nThis leads to:\n\n\\[\n\\begin{align*}\nf'(V_o) &= 1 + \\frac{\\gamma}{2}(V_o + V_{DD} + 2\\phi_f)^{-1/2} \\tag{5.33}\\\\\nf''(V_o) &= -\\frac{\\gamma}{4}(V_o + V_{DD} + 2\\phi_f)^{-3/2} \\tag{5.34}\\\\\nf'''(V_o) &= \\frac{3\\gamma}{8}(V_o + V_{DD} + 2\\phi_f)^{-5/2} \\tag{5.35}\n\\end{align*}\n\\]\n\nConsequently:\n\n\\[\n\\begin{align*}\nb_0 &= f(V_o = V_O) = V_O + V_{t0} + \\gamma\\left(\\sqrt{V_O + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f}\\right) + V_{ov1} \\tag{5.36}\\\\\nb_1 &= f'(V_o = V_O) = 1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2} \\tag{5.37}\\\\\nb_2 &= \\frac{f''(V_o = V_O)}{2} = -\\frac{\\gamma}{8}(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\tag{5.38}\\\\\nb_3 &= \\frac{f'''(V_o = V_O)}{3!} = \\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-5/2} \\tag{5.39}\n\\end{align*}\n\\]\n\nSince the constant \\( b_0 \\) is the DC input voltage \\( V_I \\), equation (5.31) can be rephrased as:\n\n\\[\nv_i = \\sum_{n=1}^{\\infty} b_n(v_o)^n = b_1 v_o + b_2 v_o^2 + b_3 v_o^3 + \\ldots \\tag{5.40}\n\\]\n\nTo determine the distortion, we aim to rearrange this equation into the form:\n\n\\[\nv_o = \\sum_{n=1}^{\\infty} a_n(v_i)^n = a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots \\tag{5.41}\n\\]\n\nSubstituting equation (5.41) into (5.40) yields:\n\n\\[\n\\begin{align*}\nv_i &= b_1(a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots) + b_2(a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots)^2 \\\\\n&\\quad + b_3(a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots)^3 + \\ldots \\\\\n&= b_1 a_1 v_i + (b_1 a_2 + b_2 a_1^2) v_i^2 + (b_1 a_3 + 2b_2 a_1 a_2 + b_3 a_1^3) v_i^3 + \\ldots \\tag{5.42}\n\\end{align*}\n\\]\n\nBy matching coefficients in equation (5.42), we find:\n\n\\[\n\\begin{align*}\n1 &= b_1 a_1 \\tag{5.43}\\\\\n0 &= b_1 a_2 + b_2 a_1^2 \\tag{5.44}\\\\\n0 &= b_1 a_3 + 2b_2 a_1 a_2 + b_3 a_1^3 \\tag{5.45}\n\\end{align*}\n\\]\n\nFrom equation (5.43), we have:\n\n\\[\na_1 = \\frac{1}{b_1} \\tag{5.46}\n\\]\n\nSubstituting equation (5.46) into (5.44) and rearranging gives:\n\n\\[\na_2 = -\\frac{b_2}{b_1^3} \\tag{5.47}\n\\]\n\nSubstituting equations (5.46) and (5.47) into (5.45) and rearranging gives:\n\n\\[\na_3 = \\frac{2b_2^2}{b_1^5} - \\frac{b_3}{b_1^4} \\tag{5.48}\n\\]\n\nFor the source follower, substituting equation (5.37) into (5.46) yields:\n\n\\[\na_1 = \\frac{1}{1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}} \\tag{5.49}\n\\]\n\nSubstituting equations (5.37) and (5.38) into (5.47) and rearranging gives:\n\n\\[\na_2 = \\frac{\\frac{\\gamma}{8}(V_O + V_{DD} + 2\\phi_f)^{-3/2}}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^3} \\tag{5.50}\n\\]\n\nSubstituting equations (5.37), (5.38), and (5.39) into (5.48) and rearranging gives:\n\n\\[\na_3 = -\\frac{\\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-5/2}}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^5} \\tag{5.51}\n\\]\n\nEquations (5.41), (5.49), (5.50), and (5.51) can be utilized to compute the distortion of the source-follower stage. For small values of \\( v_i \\) such that \\( a_2 v_i^2 \\ll a_1 v_i \\), the first term on the right-hand side of equation (5.41) prevails and the circuit behaves essentially linearly. However, as \\( v_i \\) becomes comparable to \\( a_1 / a_2 \\), other terms become significant, and distortion products are generated, as demonstrated next. A common method to describe the nonlinearity of an amplifier is the specification of harmonic distortion, which is defined for a single sinusoidal input applied to the amplifier. Hence, let:\n\n\\[\nv_i = \\hat{v}_i \\sin \\omega t \\tag{5.52}\n\\]\n\nSubstituting equation (5.52) into (5.41) results in:\n\n\\[\n\\begin{align*}\nv_o &= a_1 \\hat{v}_i \\sin \\omega t + a_2 \\hat{v}_i^2 \\sin^2 \\omega t + a_3 \\hat{v}_i^3 \\sin^3 \\omega t + \\ldots \\\\\n&= a_1 \\hat{v}_i \\sin \\omega t + \\frac{a_2 \\hat{v}_i^2}{2}(1 - \\cos 2\\omega t) + \\frac{a_3 \\hat{v}_i^3}{4}(3\\sin \\omega t - \\sin 3\\omega t) + \\ldots \\tag{5.53}\n\\end{align*}\n\\]\n\nEquation (5.53) shows that the output voltage includes frequency components at the fundamental frequency, \\( \\omega \\) (the input frequency), and also at harmonic frequencies \\( 2\\omega, 3\\omega \\), and so on. The latter terms represent distortion products that are absent from the input signal. Second-harmonic distortion \\( \\mathrm{HD}_2 \\) is defined as the ratio of the amplitude of the output-signal component at frequency \\( 2\\omega \\) to the amplitude of the first harmonic (or fundamental) at frequency \\( \\omega \\). For small distortion, the term \\( (3/4) a_3 \\hat{v}_i^3 \\sin \\omega t \\) in equation (5.53) is negligible compared to \\( a_1 \\hat{v}_i \\sin \\omega t \\), and the amplitude of the fundamental is approximately \\( a_1 \\hat{v}_i \\). Again, for small distortion, higher-order terms in equation (5.53) may be ignored, leading to:\n\n\\[\n\\mathrm{HD}_2 = \\frac{a_2 \\hat{v}_i^2}{2} \\frac{1}{a_1 \\hat{v}_i} = \\frac{1}{2} \\frac{a_2}{a_1} \\hat{v}_i \\tag{5.54}\n\\]\n\nUnder these assumptions, \\( \\mathrm{HD}_2 \\) varies linearly with the peak signal level \\( \\hat{v}_i \\). The value of \\( \\mathrm{HD}_2 \\) can be expressed in terms of known parameters by substituting equations (5.49) and (5.50) into (5.54) to obtain:\n\n\\[\n\\mathrm{HD}_2 = \\frac{\\gamma}{16} \\frac{(V_O + V_{DD} + 2\\phi_f)^{-3/2}(\\hat{v}_i)}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^2} \\tag{5.55}\n\\]\n\nIf \\( \\gamma \\ll 2\\sqrt{V_O + V_{DD} + 2\\phi_f} \\), then:\n\n\\[\n\\mathrm{HD}_2 \\simeq \\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\hat{v}_i \\tag{5.56}\n\\]\n\nThis equation indicates that the second-harmonic distortion can be mitigated by increasing the DC output voltage \\( V_O \\). This result is logical because this distortion originates from the body effect. Therefore, increasing \\( V_O \\) reduces the variation of the source-body voltage compared to its DC value caused by an input with a fixed peak amplitude. Equation (5.56) also shows that the second-harmonic distortion is approximately proportional to \\( \\gamma \\), disregarding the effect of \\( \\gamma \\) on \\( V_O \\).\n\nSimilarly, third-harmonic distortion \\( \\mathrm{HD}_3 \\) is defined as the ratio of the output signal component at frequency \\( 3\\omega \\) to the first harmonic. From equation (5.53) and assuming small distortion, we have:\n\n\\[\n\\mathrm{HD}_3 = \\frac{a_3 \\hat{v}_i^3}{4} \\frac{1}{a_1 \\hat{v}_i} = \\frac{1}{4} \\frac{a_3}{a_1} \\hat{v}_i^2 \\tag{5.57}\n\\]\n\nUnder these assumptions, \\( \\mathrm{HD}_3 \\) varies as the square of the signal amplitude. The value of \\( \\mathrm{HD}_3 \\) can be expressed in terms of known parameters by substituting equations (5.49) and (5.51) into (5.57) to yield:\n\n\\[\n\\mathrm{HD}_3 = -\\frac{\\gamma}{64} \\frac{(V_O + V_{DD} + 2\\phi_f)^{-5/2}(\\hat{v}_i^2)}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^4} \\tag{5.58}\n\\]\n\nSince the distortion calculated above arises from the body effect, it can be eradicated by placing the source follower in an isolated well and connecting the source to the well. However, this method dictates the type of source-follower transistor because it must be opposite the type of doping in the well. Additionally, this method introduces the well-substrate parasitic capacitance to the output load of the source follower, diminishing its bandwidth.\n\n#### EXAMPLE\n\nCalculate the second- and third-harmonic distortion in the circuit of Fig. 5.8 for a peak sinusoidal input voltage \\( \\hat{v}_i = 0.5 \\mathrm{~V} \\). Assume that \\( V_I = 0 \\), \\( V_{DD} = 2.5 \\mathrm{~V} \\), \\( I_Q = 1 \\mathrm{~mA} \\), and \\( R_L \\rightarrow \\infty \\). Also, assume that \\( (W/L)_1 = 1000 \\), \\( k' = 200 \\mu \\mathrm{~A}/\\mathrm{V}^2 \\), \\( V_{t0} = 0.7 \\mathrm{~V} \\), \\( \\phi_f = 0.3 \\mathrm{~V} \\), and \\( \\gamma = 0.5 \\mathrm{~V}^{1/2} \\).\n\nFirst, the DC output voltage \\( V_O \\) is:\n\n\\[\nV_O = V_I - V_{t0} - \\gamma\\left(\\sqrt{V_O + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f}\\right) - V_{ov1} \\tag{5.59}\n\\]\n\nRearranging equation (5.59) gives:\n\n\\[\n\\begin{align*}\n(V_O + V_{DD} + 2\\phi_f) + \\gamma \\sqrt{V_O + V_{DD} + 2\\phi_f} - V_I + V_{ov1} + V_{t0} - \\gamma \\sqrt{2\\phi_f} - V_{DD} - 2\\phi_f = 0 \\tag{5.60}\n\\end{align*}\n\\]\n\nThis quadratic equation can be solved for \\( \\sqrt{V_O + V_{DD} + 2\\phi_f} \\). Since the result must be positive:\n\n\\[\n\\begin{align*}\n\\sqrt{V_O + V_{DD} + 2\\phi_f} &= -\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_I - V_{ov1} - V_{t0} + \\gamma \\sqrt{2\\phi_f} + V_{DD} + 2\\phi_f} \\tag{5.61}\n\\end{align*}\n\\]\n\nSquaring both sides and rearranging yields:\n\n\\[\n\\begin{align*}\nV_O &= -V_{DD} - 2\\phi_f \\\\\n&\\quad + \\left(-\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_I - V_{ov1} - V_{t0} + \\gamma \\sqrt{2\\phi_f} + V_{DD} + 2\\phi_f}\\right)^2 \\tag{5.62}\n\\end{align*}\n\\]\n\nIn this example:\n\n\\[\nV_{ov1} = \\sqrt{\\frac{2I_Q}{k'(W/L)_1}} = \\sqrt{\\frac{2(1000)}{200(1000)}} \\mathrm{V} = 0.1 \\mathrm{~V} \\tag{5.63}\n\\]\n\nSince \\( V_{DD} + 2\\phi_f = 3.1 \\mathrm{~V} \\) and \\( V_I - V_{ov1} - V_{t0} = -0.8 \\mathrm{~V} \\),\n\n\\[\n\\begin{aligned}\nV_O &= -3.1 \\mathrm{~V} + \\left(-0.25 + \\sqrt{(0.25)^2 - 0.8 + 0.5\\sqrt{0.6} + 3.1}\\right)^2 \\mathrm{~V} \\\\\n&= -1.117 \\mathrm{~V}\n\\end{aligned}\n\\]\n\nTherefore:\n\n\\[\nV_O + V_{DD} + 2\\phi_f = (-1.117 + 2.5 + 0.6) \\mathrm{V} = 1.983 \\mathrm{~V}\n\\]\n\nFrom equation (5.55):\n\n\\[\n\\mathrm{HD}_2 = \\frac{0.5}{16} \\frac{(1.983)^{-3/2}(0.5)}{\\left(1 + \\frac{0.5}{2}(1.983)^{-1/2}\\right)^2} = 0.0040 \\tag{5.64}\n\\]\n\nFrom equation (5.58):\n\n\\[\n\\mathrm{HD}_3 = -\\frac{0.5}{64} \\frac{(1.983)^{-5/2}(0.5)^2}{\\left(1"
},
{
    "text": "The transfer function for the source-follower stage was determined in equation (5.23), wherein $V_{i}$ is represented as a function of $V_{o}$. We will now demonstrate the calculation of signal distortion from a nonlinear transfer function, utilizing the source-follower stage as a case study.\n\nWith the help of a Taylor series, the input voltage can be expressed as\n\n$$\n\\begin{equation*}\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} \\frac{f^{(n)}\\left(V_{o}=V_{O}\\right)\\left(V_{o}-V_{O}\\right)^{n}}{n!} \\tag{5.30}\n\\end{equation*}\n$$\n\nHere, $f^{(n)}$ denotes the $n^{\\text {th }}$ derivative of $f$. Given that $v_{o}=V_{o}-V_{O}$, equation (5.30) can be reformulated as\n\n$$\n\\begin{equation*}\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} b_{n}\\left(v_{o}\\right)^{n} \\tag{5.31}\n\\end{equation*}\n$$\n\nwhere $b_{n}=f^{(n)}\\left(V_{o}=V_{O}\\right) /(n!)$. For simplification, let's assume $R_{L} \\rightarrow \\infty$. Using equations (1.140) and (5.23),\n\n$$\n\\begin{equation*}\nV_{i}=f\\left(V_{o}\\right)=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{V_{o}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1} \\tag{5.32}\n\\end{equation*}\n$$\n\nThus,\n\n$$\n\\begin{align*}\nf^{\\prime}\\left(V_{o}\\right) & =1+\\frac{\\gamma}{2}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.33}\\\\\nf^{\\prime \\prime}\\left(V_{o}\\right) & =-\\frac{\\gamma}{4}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.34}\\\\\nf^{\\prime \\prime \\prime}\\left(V_{o}\\right) & =\\frac{3 \\gamma}{8}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.35}\n\\end{align*}\n$$\n\nConsequently,\n\n$$\n\\begin{align*}\n& b_{0}=f\\left(V_{o}=V_{O}\\right)=V_{O}+V_{t 0}+\\gamma\\left(\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1}  \\tag{5.36}\\\\\n& b_{1}=f^{\\prime}\\left(V_{o}=V_{O}\\right)=1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.37}\\\\\n& b_{2}=\\frac{f^{\\prime \\prime}\\left(V_{o}=V_{O}\\right)}{2}=-\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.38}\\\\\n& b_{3}=\\frac{f^{\\prime \\prime \\prime}\\left(V_{o}=V_{O}\\right)}{3!}=\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.39}\n\\end{align*}\n$$\n\nSince the constant $b_{0}$ corresponds to the dc input voltage $V_{I}$, equation (5.31) can be restated as\n\n$$\n\\begin{equation*}\nv_{i}=\\sum_{n=1}^{\\infty} b_{n}\\left(v_{o}\\right)^{n}=b_{1} v_{o}+b_{2} v_{o}^{2}+b_{3} v_{o}^{3}+\\ldots \\tag{5.40}\n\\end{equation*}\n$$\n\nTo determine the distortion, we aim to rearrange this equation into the following format\n\n$$\n\\begin{equation*}\nv_{o}=\\sum_{n=1}^{\\infty} a_{n}\\left(v_{i}\\right)^{n}=a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots \\tag{5.41}\n\\end{equation*}\n$$\n\nBy substituting (5.41) into (5.40), we obtain\n\n$$\n\\begin{align*}\nv_{i}= & b_{1}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)+b_{2}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{2} \\\\\n& +b_{3}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{3}+\\ldots \\\\\n= & b_{1} a_{1} v_{i}+\\left(b_{1} a_{2}+b_{2} a_{1}^{2}\\right) v_{i}^{2}+\\left(b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3}\\right) v_{i}^{3}+\\ldots \\tag{5.42}\n\\end{align*}\n$$\n\nBy matching coefficients in (5.42), we find that\n\n$$\n\\begin{align*}\n& 1=b_{1} a_{1}  \\tag{5.43}\\\\\n& 0=b_{1} a_{2}+b_{2} a_{1}^{2}  \\tag{5.44}\\\\\n& 0=b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3} \\tag{5.45}\n\\end{align*}\n$$\n\nFrom (5.43),\n\n$$\n\\begin{equation*}\na_{1}=\\frac{1}{b_{1}} \\tag{5.46}\n\\end{equation*}\n$$\n\nBy substituting (5.46) into (5.44) and rearranging, we get\n\n$$\n\\begin{equation*}\na_{2}=-\\frac{b_{2}}{b_{1}^{3}} \\tag{5.47}\n\\end{equation*}\n$$\n\nSubstituting (5.46) and (5.47) into (5.45) and rearranging yields\n\n$$\n\\begin{equation*}\na_{3}=\\frac{2 b_{2}^{2}}{b_{1}^{5}}-\\frac{b_{3}}{b_{1}^{4}} \\tag{5.48}\n\\end{equation*}\n$$\n\nFor the source follower, substituting (5.37) into (5.46) gives\n\n$$\n\\begin{equation*}\na_{1}=\\frac{1}{1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}} \\tag{5.49}\n\\end{equation*}\n$$\n\nSubstituting (5.37) and (5.38) into (5.47) and rearranging results in\n\n$$\n\\begin{equation*}\na_{2}=\\frac{\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{3}} \\tag{5.50}\n\\end{equation*}\n$$\n\nSubstituting (5.37), (5.38), and (5.39) into (5.48) and rearranging yields\n\n$$\n\\begin{equation*}\na_{3}=-\\frac{\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{5}} \\tag{5.51}\n\\end{equation*}\n$$\n\nEquations $5.41,5.49,5.50$, and 5.51 can be employed to compute the distortion of the source-follower stage. For small $v_{i}$ values where $a_{2} v_{i}^{2} \\ll a_{1} v_{i}$, the first term on the right-hand side of (5.41) prevails, and the circuit behaves nearly linearly. However, as $v_{i}$ approaches $a_{1} / a_{2}$, additional terms become significant, leading to distortion products, as demonstrated subsequently. A standard method to characterize the nonlinearity of an amplifier involves specifying harmonic distortion, defined for a single sinusoidal input applied to the amplifier. Hence, let\n\n$$\n\\begin{equation*}\nv_{i}=\\hat{v}_{i} \\sin \\omega t \\tag{5.52}\n\\end{equation*}\n$$\n\nBy substituting (5.52) into (5.41), we get\n\n$$\n\\begin{align*}\nv_{o} & =a_{1} \\hat{v}_{i} \\sin \\omega t+a_{2} \\hat{v}_{i}^{2} \\sin ^{2} \\omega t+a_{3} \\hat{v}_{i}^{3} \\sin ^{3} \\omega t+\\ldots \\\\\n& =a_{1} \\hat{v}_{i} \\sin \\omega t+\\frac{a_{2} \\hat{v}_{i}^{2}}{2}(1-\\cos 2 \\omega t)+\\frac{a_{3} \\hat{v}_{i}^{3}}{4}(3 \\sin \\omega t-\\sin 3 \\omega t)+\\ldots \\tag{5.53}\n\\end{align*}\n$$\n\nEquation 5.53 reveals that the output voltage comprises frequency components at the fundamental frequency, $\\omega$ (the input frequency), and also at harmonic frequencies $2 \\omega, 3 \\omega$, and so forth. These latter terms represent distortion products absent from the input signal. Second-harmonic distortion $\\mathrm{HD}_{2}$ is defined as the ratio of the amplitude of the output-signal component at frequency $2 \\omega$ to the amplitude of the first harmonic (or fundamental) at frequency $\\omega$. For minor distortions, the term (3/4) $a_{3} \\hat{v}_{i}^{3} \\sin \\omega t$ in (5.53) is negligible compared to $a_{1} \\hat{v}_{i} \\sin \\omega t$, and the amplitude of the fundamental is approximately $a_{1} \\hat{v}_{i}$. Again, for small distortions, higher-order terms in (5.53) can be disregarded, leading to\n\n$$\n\\begin{equation*}\nH D_{2}=\\frac{a_{2} \\hat{v}_{i}^{2}}{2} \\frac{1}{a_{1} \\hat{v}_{i}}=\\frac{1}{2} \\frac{a_{2}}{a_{1}} \\hat{v}_{i} \\tag{5.54}\n\\end{equation*}\n$$\n\nUnder these assumptions, $H D_{2}$ varies linearly with the peak signal level $\\hat{v}_{i}$. The value of $H D_{2}$ can be expressed in terms of known parameters by substituting (5.49) and (5.50) into (5.54), resulting in\n\n$$\n\\begin{equation*}\nH D_{2}=\\frac{\\gamma}{16} \\frac{\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}\\left(\\hat{v}_{i}\\right)}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{2}} \\tag{5.55}\n\\end{equation*}\n$$\n\nIf $\\gamma \\ll 2 \\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}$, then\n\n$$\n\\begin{equation*}\nH D_{2} \\simeq \\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2} \\hat{v}_{i} \\tag{5.56}\n\\end{equation*}\n$$\n\nThis equation indicates that the second-harmonic distortion can be diminished by elevating the dc output voltage $V_{O}$. This outcome is logical because this distortion arises from the body effect. Hence, increasing $V_{O}$ lessens the variation of the source-body voltage relative to its dc value due to an input with a fixed peak amplitude. ${ }^{2}$ Equation 5.56 also suggests that the second-harmonic distortion is roughly proportional to $\\gamma$, disregarding the impact of $\\gamma$ on $V_{O}$.\n\nLikewise, third-harmonic distortion $\\mathrm{HD}_{3}$ is defined as the ratio of the output signal component at frequency $3 \\omega$ to the first harmonic. From (5.53) and assuming minor distortions,\n\n$$\n\\begin{equation*}\nH D_{3}=\\frac{a_{3} \\hat{v}_{i}^{3}}{4} \\frac{1}{a_{1} \\hat{v}_{i}}=\\frac{1}{4} \\frac{a_{3}}{a_{1}} \\hat{v}_{i}^{2} \\tag{5.57}\n\\end{equation*}\n$$\n\nUnder these assumptions, $H D_{3}$ varies as the square of the signal amplitude. The value of $H D_{3}$ can be expressed in terms of known parameters by substituting (5.49) and (5.51) into (5.57), resulting in\n\n$$\n\\begin{equation*}\nH D_{3}=-\\frac{\\gamma}{64} \\frac{\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2}\\left(\\hat{v}_{i}^{2}\\right)}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{4}} \\tag{5.58}\n\\end{equation*}\n$$\n\nSince the calculated distortion originates from the body effect, it can be nullified by positioning the source follower in an isolated well and connecting the source to the well. However, this method dictates the type of source-follower transistor, as it must be of the opposite type of the doping in the well. Additionally, this method incorporates the well-substrate parasitic capacitance into the output load of the source follower, narrowing its bandwidth.\n\n#### EXAMPLE\n\nCompute the second- and third-harmonic distortion in the circuit depicted in Fig. 5.8 for a peak sinusoidal input voltage $\\hat{v}_{i}=0.5 \\mathrm{~V}$. Assume that $V_{I}=0, V_{D D}=2.5 \\mathrm{~V}, I_{Q}=1 \\mathrm{~mA}$, and $R_{L} \\rightarrow \\infty$. Also, assume that $(W / L)_{1}=1000, k^{\\prime}=200 \\mu \\mathrm{~A} / \\mathrm{V}^{2}, V_{t 0}=0.7 \\mathrm{~V}, \\phi_{f}=0.3 \\mathrm{~V}$, and $\\gamma=0.5 \\mathrm{~V}^{1 / 2}$.\n\nInitially, the dc output voltage $V_{O}$ is\n\n$$\n\\begin{equation*}\nV_{O}=V_{I}-V_{t 0}-\\gamma\\left(\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)-V_{o v 1} \\tag{5.59}\n\\end{equation*}\n$$\n\nRearranging (5.59) yields\n\n$$\n\\begin{align*}\n\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right) & +\\gamma \\sqrt{V_{O}+V_{D D}+2 \\phi_{f}} \\\\\n& -V_{I}+V_{o v 1}+V_{t 0}-\\gamma \\sqrt{2 \\phi_{f}}-V_{D D}-2 \\phi_{f}=0 \\tag{5.60}\n\\end{align*}\n$$\n\nThis quadratic equation can be solved for $\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}$. As the solution must be positive,\n\n$$\n\\begin{align*}\n\\sqrt{V_{O}+V_{D D}+"
},
{
    "text": "The calculation of the transfer function for the source-follower stage has been detailed in equation (5.23), with the input voltage, $V_{i}$, represented in terms of the output voltage, $V_{o}$. To demonstrate the process of calculating signal distortion arising from a nonlinear transfer function, we will utilize the source-follower stage as a case study.\n\nBy employing a Taylor series expansion, the input voltage can be expressed as:\n\n$$\n\\begin{equation*}\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} \\frac{f^{(n)}\\left(V_{o}=V_{O}\\right)\\left(V_{o}-V_{O}\\right)^{n}}{n!} \\tag{5.30}\n\\end{equation*}\n$$\n\nHere, $f^{(n)}$ denotes the $n^{\\text{th}}$ derivative of the function $f$. Given that $v_{o}=V_{o}-V_{O}$, equation (5.30) can be rephrased as:\n\n$$\n\\begin{equation*}\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} b_{n}\\left(v_{o}\\right)^{n} \\tag{5.31}\n\\end{equation*}\n$$\n\nwhere $b_{n}=\\frac{f^{(n)}\\left(V_{o}=V_{O}\\right)}{n!}$. For the sake of simplicity, let's assume that $R_{L}$ approaches infinity. Drawing from equations (1.140) and (5.23), we have:\n\n$$\n\\begin{equation*}\nV_{i}=f\\left(V_{o}\\right)=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{V_{o}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1} \\tag{5.32}\n\\end{equation*}\n$$\n\nThis leads to the following derivatives:\n\n$$\n\\begin{align*}\nf^{\\prime}\\left(V_{o}\\right) & =1+\\frac{\\gamma}{2}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.33}\\\\\nf^{\\prime \\prime}\\left(V_{o}\\right) & =-\\frac{\\gamma}{4}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.34}\\\\\nf^{\\prime \\prime \\prime}\\left(V_{o}\\right) & =\\frac{3 \\gamma}{8}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.35}\n\\end{align*}\n$$\n\nConsequently:\n\n$$\n\\begin{align*}\n& b_{0}=f\\left(V_{o}=V_{O}\\right)=V_{O}+V_{t 0}+\\gamma\\left(\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1}  \\tag{5.36}\\\\\n& b_{1}=f^{\\prime}\\left(V_{o}=V_{O}\\right)=1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.37}\\\\\n& b_{2}=\\frac{f^{\\prime \\prime}\\left(V_{o}=V_{O}\\right)}{2}=-\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.38}\\\\\n& b_{3}=\\frac{f^{\\prime \\prime \\prime}\\left(V_{o}=V_{O}\\right)}{3!}=\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.39}\n\\end{align*}\n$$\n\nWith the constant $b_{0}$ representing the DC input voltage $V_{I}$, equation (5.31) can be restated as:\n\n$$\n\\begin{equation*}\nv_{i}=\\sum_{n=1}^{\\infty} b_{n}\\left(v_{o}\\right)^{n}=b_{1} v_{o}+b_{2} v_{o}^{2}+b_{3} v_{o}^{3}+\\ldots \\tag{5.40}\n\\end{equation*}\n$$\n\nIn order to determine the distortion, we seek to rearrange this into the form:\n\n$$\n\\begin{equation*}\nv_{o}=\\sum_{n=1}^{\\infty} a_{n}\\left(v_{i}\\right)^{n}=a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots \\tag{5.41}\n\\end{equation*}\n$$\n\nInserting equation (5.41) into (5.40) results in:\n\n$$\n\\begin{align*}\nv_{i}= & b_{1}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)+b_{2}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{2} \\\\\n& +b_{3}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{3}+\\ldots \\\\\n= & b_{1} a_{1} v_{i}+\\left(b_{1} a_{2}+b_{2} a_{1}^{2}\\right) v_{i}^{2}+\\left(b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3}\\right) v_{i}^{3}+\\ldots \\tag{5.42}\n\\end{align*}\n$$\n\nBy matching coefficients in (5.42), we find:\n\n$$\n\\begin{align*}\n& 1=b_{1} a_{1}  \\tag{5.43}\\\\\n& 0=b_{1} a_{2}+b_{2} a_{1}^{2}  \\tag{5.44}\\\\\n& 0=b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3} \\tag{5.45}\n\\end{align*}\n$$\n\nFrom (5.43), we derive:\n\n$$\n\\begin{equation*}\na_{1}=\\frac{1}{b_{1}} \\tag{5.46}\n\\end{equation*}\n$$\n\nSubstituting (5.46) into (5.44) and rearranging, we obtain:\n\n$$\n\\begin{equation*}\na_{2}=-\\frac{b_{2}}{b_{1}^{3}} \\tag{5.47}\n\\end{equation*}\n$$\n\nSimilarly, substituting (5.46) and (5.47) into (5.45) and rearranging, we get:\n\n$$\n\\begin{equation*}\na_{3}=\\frac{2 b_{2}^{2}}{b_{1}^{5}}-\\frac{b_{3}}{b_{1}^{4}} \\tag{5.48}\n\\end{equation*}\n$$\n\nFor the source follower, using (5.37) in (5.46) yields:\n\n$$\n\\begin{equation*}\na_{1}=\\frac{1}{1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}} \\tag{5.49}\n\\end{equation*}\n$$\n\nAnd by substituting (5.37) and (5.38) into (5.47) and rearranging, we find:\n\n$$\n\\begin{equation*}\na_{2}=\\frac{\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{3}} \\tag{5.50}\n\\end{equation*}\n$$\n\nFurthermore, substituting (5.37), (5.38), and (5.39) into (5.48) and rearranging, we have:\n\n$$\n\\begin{equation*}\na_{3}=-\\frac{\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{5}} \\tag{5.51}\n\\end{equation*}\n$$\n\nThese equations (5.41, 5.49, 5.50, and 5.51) are instrumental in calculating the distortion of the source-follower stage. When $v_{i}$ is small such that $a_{2} v_{i}^{2} \\ll a_{1} v_{i}$, the first term on the right-hand side of (5.41) prevails, and the circuit behaves nearly linearly. However, as $v_{i}$ approaches the magnitude of $a_{1} / a_{2}$, additional terms become significant, generating distortion products, as we will illustrate subsequently. A typical method for characterizing amplifier nonlinearity involves specifying harmonic distortion, which is defined for a single sinusoidal input signal applied to the amplifier. Hence, let:\n\n$$\n\\begin{equation*}\nv_{i}=\\hat{v}_{i} \\sin \\omega t \\tag{5.52}\n\\end{equation*}\n$$\n\nInserting (5.52) into (5.41) yields:\n\n$$\n\\begin{align*}\nv_{o} & =a_{1} \\hat{v}_{i} \\sin \\omega t+a_{2} \\hat{v}_{i}^{2} \\sin ^{2} \\omega t+a_{3} \\hat{v}_{i}^{3} \\sin ^{3} \\omega t+\\ldots \\\\\n& =a_{1} \\hat{v}_{i} \\sin \\omega t+\\frac{a_{2} \\hat{v}_{i}^{2}}{2}(1-\\cos 2 \\omega t)+\\frac{a_{3} \\hat{v}_{i}^{3}}{4}(3 \\sin \\omega t-\\sin 3 \\omega t)+\\ldots \\tag{5.53}\n\\end{align*}\n$$\n\nEquation (5.53) indicates that the output voltage encompasses frequency components not only at the fundamental frequency, $\\omega$ (the input frequency), but also at harmonic frequencies $2 \\omega, 3 \\omega$, and higher. These additional terms signify distortion products absent from the input signal. The second-harmonic distortion, $\\mathrm{HD}_{2}$, is defined as the ratio of the amplitude of the output-signal component at frequency $2 \\omega$ to that of the first harmonic at frequency $\\omega$. Assuming small distortion, the term (3/4) $a_{3} \\hat{v}_{i}^{3} \\sin \\omega t$ in (5.53) is negligible compared to $a_{1} \\hat{v}_{i} \\sin \\omega t$, and the amplitude of the fundamental is approximately $a_{1} \\hat{v}_{i}$. Furthermore, assuming small distortion, higher-order terms in (5.53) can be disregarded, leading to:\n\n$$\n\\begin{equation*}\nH D_{2}=\\frac{a_{2} \\hat{v}_{i}^{2}}{2} \\frac{1}{a_{1} \\hat{v}_{i}}=\\frac{1}{2} \\frac{a_{2}}{a_{1}} \\hat{v}_{i} \\tag{5.54}\n\\end{equation*}\n$$\n\nUnder these assumptions, $H D_{2}$ varies linearly with the peak signal level $\\hat{v}_{i}$. The value of $H D_{2}$ can be expressed in terms of known parameters by substituting (5.49) and (5.50) into (5.54), resulting in:\n\n$$\n\\begin{equation*}\nH D_{2}=\\frac{\\gamma}{16} \\frac{\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}\\left(\\hat{v}_{i}\\right)}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{2}} \\tag{5.55}\n\\end{equation*}\n$$\n\nIf $\\gamma \\ll 2 \\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}$, then:\n\n$$\n\\begin{equation*}\nH D_{2} \\simeq \\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2} \\hat{v}_{i} \\tag{5.56}\n\\end{equation*}\n$$\n\nThis equation demonstrates that the second-harmonic distortion can be mitigated by elevating the DC output voltage $V_{O}$. This outcome is logical since this type of distortion originates from the body effect. Therefore, increasing $V_{O}$ diminishes the variation in the source-body voltage relative to its DC value, caused by an input with a constant peak amplitude. Equation (5.56) also suggests that the second-harmonic distortion is approximately proportional to $\\gamma$, disregarding the impact of $\\gamma$ on $V_{O}$.\n\nIn a similar vein, the third-harmonic distortion, $\\mathrm{HD}_{3}$, is defined as the ratio of the output signal component at frequency $3 \\omega$ to the first harmonic. From (5.53), and assuming small distortion, we have:\n\n$$\n\\begin{equation*}\nH D_{3}=\\frac{a_{3} \\hat{v}_{i}^{3}}{4} \\frac{1}{a_{1} \\hat{v}_{i}}=\\frac{1}{4} \\frac{a_{3}}{a_{1}} \\hat{v}_{i}^{2} \\tag{5.57}\n\\end{equation*}\n$$\n\nUnder these assumptions, $H D_{3}$ varies with the square of the signal amplitude. The value of $H D_{3}$ can be expressed in terms of known parameters by substituting (5.49) and (5.51) into (5.57), which yields:\n\n$$\n\\begin{equation*}\nH D_{3}=-\\frac{\\gamma}{64} \\frac{\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2}\\left(\\hat{v}_{i}^{2}\\right)}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{4}} \\tag{5.58}\n\\end{equation*}\n$$\n\nGiven that the calculated distortion is due to the body effect, it can be eradicated by situating the source follower within an isolated well and connecting the source to the well. However, this necessitates a specific type of source-follower transistor that must have an opposite doping type to that of the well. Moreover, this method introduces the well-substrate parasitic capacitance to the output load of the source follower, which can decrease its bandwidth.\n\n#### EXAMPLE\n\nCompute the second- and third-harmonic distortions in the circuit depicted in Fig. 5.8 for a peak sinusoidal input voltage $\\hat{v}_{i}=0.5 \\mathrm{~V}$. Assume that $V_{I}=0, V_{D D}=2.5 \\mathrm{~V}, I_{Q}=1 \\mathrm{~mA}$, and $R_{L} \\rightarrow \\infty$. Additionally, assume that $(W / L)_{1}=1000, k^{\\prime}=200 \\mu \\mathrm{~A} / \\mathrm{V}^{2}, V_{t 0}=0.7 \\mathrm{~V}, \\phi_{f}=0.3 \\mathrm{~V}$, and $\\gamma=0.5 \\mathrm{~V}^{1 / 2}$.\n\nFirst, the DC output voltage $V_{O}$ is determined by:\n\n$$\n\\begin{equation*}\nV_{O}=V_{I}-V_{t 0}-\\gamma\\left(\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)-V_{o v 1} \\tag{5.59}\n\\end{equation*}\n$$\n\nRearranging (5.59) gives:\n\n$$\n\\begin{align*}\n\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right) & +\\gamma \\sqrt{V_{O}+V_{D D}+2 \\phi_{f}} \\\\\n& -V_{I}+V_{o v 1}+V_{t 0}-\\gamma \\sqrt{2 \\phi_{f}}-V_{D D}-2 \\phi_{f}=0 \\tag{5.60}\n\\end{align*}\n$$\n\nThis quadratic equation"
},
{
    "text": "The transfer function for the source-follower stage was previously computed in equation (5.23), where the input voltage, $V_i$, is depicted as a function of the output voltage, $V_o$. This section will utilize the source-follower stage to exemplify the computation of signal distortion arising from a nonlinear transfer function.\n\nUtilizing a Taylor series expansion, the input voltage can be expressed as\n\n$$\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_o = V_O)(V_o - V_O)^n}{n!} \\tag{5.30}\n$$\n\nwhere $f^{(n)}$ denotes the $n$th derivative of $f$. With $v_o = V_o - V_O$, equation (5.30) can be rephrased as\n\n$$\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} b_n(v_o)^n \\tag{5.31}\n$$\n\nHere, $b_n = f^{(n)}(V_o = V_O) / (n!)$. For simplicity, we assume that $R_L \\rightarrow \\infty$. Employing equations (1.140) and (5.23), we get\n\n$$\nV_i = f(V_o) = V_o + V_{t0} + \\gamma(\\sqrt{V_o + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f}) + V_{ov1} \\tag{5.32}\n$$\n\nHence,\n\n$$\n\\begin{align*}\nf'(V_o) & = 1 + \\frac{\\gamma}{2}(V_o + V_{DD} + 2\\phi_f)^{-1/2} \\tag{5.33}\\\\\nf''(V_o) & = -\\frac{\\gamma}{4}(V_o + V_{DD} + 2\\phi_f)^{-3/2} \\tag{5.34}\\\\\nf'''(V_o) & = \\frac{3\\gamma}{8}(V_o + V_{DD} + 2\\phi_f)^{-5/2} \\tag{5.35}\n\\end{align*}\n$$\n\nTherefore,\n\n$$\n\\begin{align*}\nb_0 & = f(V_o = V_O) = V_O + V_{t0} + \\gamma(\\sqrt{V_O + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f}) + V_{ov1} \\tag{5.36}\\\\\nb_1 & = f'(V_o = V_O) = 1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2} \\tag{5.37}\\\\\nb_2 & = \\frac{f''(V_o = V_O)}{2} = -\\frac{\\gamma}{8}(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\tag{5.38}\\\\\nb_3 & = \\frac{f'''(V_o = V_O)}{3!} = \\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-5/2} \\tag{5.39}\n\\end{align*}\n$$\n\nGiven that the constant $b_0$ is the DC input voltage $V_I$, equation (5.31) can be restated as\n\n$$\nv_i = \\sum_{n=1}^{\\infty} b_n(v_o)^n = b_1 v_o + b_2 v_o^2 + b_3 v_o^3 + \\ldots \\tag{5.40}\n$$\n\nTo determine the distortion, we rearrange this equation into the form\n\n$$\nv_o = \\sum_{n=1}^{\\infty} a_n(v_i)^n = a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots \\tag{5.41}\n$$\n\nSubstituting equation (5.41) into (5.40) yields\n\n$$\n\\begin{align*}\nv_i = & b_1(a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots) + b_2(a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots)^2 \\\\\n& + b_3(a_1 v_i + a_2 v_i^2 + a_3 v_i^3 + \\ldots)^3 + \\ldots \\\\\n= & b_1 a_1 v_i + (b_1 a_2 + b_2 a_1^2) v_i^2 + (b_1 a_3 + 2 b_2 a_1 a_2 + b_3 a_1^3) v_i^3 + \\ldots \\tag{5.42}\n\\end{align*}\n$$\n\nMatching coefficients in equation (5.42) reveals that\n\n$$\n\\begin{align*}\n1 & = b_1 a_1 \\tag{5.43}\\\\\n0 & = b_1 a_2 + b_2 a_1^2 \\tag{5.44}\\\\\n0 & = b_1 a_3 + 2 b_2 a_1 a_2 + b_3 a_1^3 \\tag{5.45}\n\\end{align*}\n$$\n\nFrom equation (5.43),\n\n$$\na_1 = \\frac{1}{b_1} \\tag{5.46}\n$$\n\nSubstituting equation (5.46) into (5.44) and rearranging gives\n\n$$\na_2 = -\\frac{b_2}{b_1^3} \\tag{5.47}\n$$\n\nSubstituting equations (5.46) and (5.47) into (5.45) and rearranging provides\n\n$$\na_3 = \\frac{2 b_2^2}{b_1^5} - \\frac{b_3}{b_1^4} \\tag{5.48}\n$$\n\nFor the source follower, substituting equation (5.37) into (5.46) results in\n\n$$\na_1 = \\frac{1}{1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}} \\tag{5.49}\n$$\n\nSubstituting equations (5.37) and (5.38) into (5.47) and rearranging yields\n\n$$\na_2 = \\frac{\\frac{\\gamma}{8}(V_O + V_{DD} + 2\\phi_f)^{-3/2}}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^3} \\tag{5.50}\n$$\n\nSubstituting equations (5.37), (5.38), and (5.39) into (5.48) and rearranging provides\n\n$$\na_3 = -\\frac{\\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-5/2}}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^5} \\tag{5.51}\n$$\n\nEquations (5.41), (5.49), (5.50), and (5.51) are used to compute the distortion of the source-follower stage. For small values of $v_i$ such that $a_2 v_i^2 \\ll a_1 v_i$, the first term on the right-hand side of equation (5.41) prevails, and the circuit behaves linearly. However, as $v_i$ approaches $a_1 / a_2$, other terms become significant, generating distortion products, as demonstrated next. A common method to describe an amplifier's nonlinearity is through harmonic distortion, defined for a single sinusoidal input applied to the amplifier. Hence, let\n\n$$\nv_i = \\hat{v}_i \\sin \\omega t \\tag{5.52}\n$$\n\nSubstituting equation (5.52) into (5.41) results in\n\n$$\n\\begin{align*}\nv_o = & a_1 \\hat{v}_i \\sin \\omega t + a_2 \\hat{v}_i^2 \\sin^2 \\omega t + a_3 \\hat{v}_i^3 \\sin^3 \\omega t + \\ldots \\\\\n= & a_1 \\hat{v}_i \\sin \\omega t + \\frac{a_2 \\hat{v}_i^2}{2}(1 - \\cos 2 \\omega t) + \\frac{a_3 \\hat{v}_i^3}{4}(3 \\sin \\omega t - \\sin 3 \\omega t) + \\ldots \\tag{5.53}\n\\end{align*}\n$$\n\nEquation (5.53) shows that the output voltage contains frequency components at the fundamental frequency, $\\omega$ (the input frequency), and also at harmonic frequencies $2\\omega, 3\\omega$, and so forth. The latter terms represent distortion products not present in the input signal. Second-harmonic distortion, $\\mathrm{HD}_2$, is defined as the ratio of the amplitude of the output-signal component at frequency $2\\omega$ to the amplitude of the first harmonic (or fundamental) at frequency $\\omega$. For small distortions, the term (3/4) $a_3 \\hat{v}_i^3 \\sin \\omega t$ in equation (5.53) is minor compared to $a_1 \\hat{v}_i \\sin \\omega t$, and the amplitude of the fundamental is approximately $a_1 \\hat{v}_i$. Again, assuming small distortions, higher-order terms in equation (5.53) may be ignored, leading to\n\n$$\n\\mathrm{HD}_2 = \\frac{a_2 \\hat{v}_i^2}{2} \\frac{1}{a_1 \\hat{v}_i} = \\frac{1}{2} \\frac{a_2}{a_1} \\hat{v}_i \\tag{5.54}\n$$\n\nUnder these assumptions, $\\mathrm{HD}_2$ varies linearly with the peak signal level $\\hat{v}_i$. The value of $\\mathrm{HD}_2$ can be expressed in terms of known parameters by substituting equations (5.49) and (5.50) into (5.54), resulting in\n\n$$\n\\mathrm{HD}_2 = \\frac{\\gamma}{16} \\frac{(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\hat{v}_i}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^2} \\tag{5.55}\n$$\n\nIf $\\gamma \\ll 2 \\sqrt{V_O + V_{DD} + 2\\phi_f}$, then\n\n$$\n\\mathrm{HD}_2 \\simeq \\frac{\\gamma}{16}(V_O + V_{DD} + 2\\phi_f)^{-3/2} \\hat{v}_i \\tag{5.56}\n$$\n\nThis equation indicates that the second-harmonic distortion can be diminished by elevating the DC output voltage $V_O$. This outcome is sensible because this distortion originates from the body effect. Therefore, increasing $V_O$ reduces the variation of the source-body voltage relative to its DC value caused by an input with a fixed peak amplitude. Equation (5.56) also demonstrates that the second-harmonic distortion is approximately proportional to $\\gamma$, disregarding the effect of $\\gamma$ on $V_O$.\n\nLikewise, third-harmonic distortion, $\\mathrm{HD}_3$, is defined as the ratio of the output signal component at frequency $3\\omega$ to the first harmonic. From equation (5.53) and assuming small distortions,\n\n$$\n\\mathrm{HD}_3 = \\frac{a_3 \\hat{v}_i^3}{4} \\frac{1}{a_1 \\hat{v}_i} = \\frac{1}{4} \\frac{a_3}{a_1} \\hat{v}_i^2 \\tag{5.57}\n$$\n\nUnder these assumptions, $\\mathrm{HD}_3$ varies as the square of the signal amplitude. The value of $\\mathrm{HD}_3$ can be expressed in terms of known parameters by substituting equations (5.49) and (5.51) into (5.57), yielding\n\n$$\n\\mathrm{HD}_3 = -\\frac{\\gamma}{64} \\frac{(V_O + V_{DD} + 2\\phi_f)^{-5/2} \\hat{v}_i^2}{\\left(1 + \\frac{\\gamma}{2}(V_O + V_{DD} + 2\\phi_f)^{-1/2}\\right)^4} \\tag{5.58}\n$$\n\nSince the distortion calculated above stems from the body effect, it can be eradicated by placing the source follower in an isolated well and connecting the source to the well. However, this method restricts the type of source-follower transistor because it must be opposite the type of the doping in the well. Additionally, this method introduces the well-substrate parasitic capacitance to the output load of the source follower, diminishing its bandwidth.\n\n#### EXAMPLE\n\nCalculate the second- and third-harmonic distortions in the circuit of Fig. 5.8 for a peak sinusoidal input voltage $\\hat{v}_i = 0.5 \\mathrm{~V}$. Assume that $V_I = 0$, $V_{DD} = 2.5 \\mathrm{~V}$, $I_Q = 1 \\mathrm{~mA}$, and $R_L \\rightarrow \\infty$. Also, assume that $(W/L)_1 = 1000$, $k' = 200 \\mu \\mathrm{~A}/\\mathrm{V}^2$, $V_{t0} = 0.7 \\mathrm{~V}$, $\\phi_f = 0.3 \\mathrm{~V}$, and $\\gamma = 0.5 \\mathrm{~V}^{1/2}$.\n\nInitially, the DC output voltage $V_O$ is\n\n$$\nV_O = V_I - V_{t0} - \\gamma(\\sqrt{V_O + V_{DD} + 2\\phi_f} - \\sqrt{2\\phi_f}) - V_{ov1} \\tag{5.59}\n$$\n\nRearranging equation (5.59) gives\n\n$$\n\\begin{align*}\n(V_O + V_{DD} + 2\\phi_f) + \\gamma \\sqrt{V_O + V_{DD} + 2\\phi_f} \\\\\n- V_I + V_{ov1} + V_{t0} - \\gamma \\sqrt{2\\phi_f} - V_{DD} - 2\\phi_f = 0 \\tag{5.60}\n\\end{align*}\n$$\n\nThis quadratic equation can be solved for $\\sqrt{V_O + V_{DD} + 2\\phi_f}$. Since the result must be positive,\n\n$$\n\\begin{align*}\n\\sqrt{V_O + V_{DD} + 2\\phi_f} = \\\\\n-\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_I - V_{ov1} - V_{t0} + \\gamma \\sqrt{2\\phi_f} + V_{DD} + 2\\phi_f} \\tag{5.61}\n\\end{align*}\n$$\n\nSquaring both sides and rearranging gives\n\n$$\n\\begin{align*}\nV_O = & -V_{DD} - 2\\phi_f \\\\\n& + \\left(-\\frac{\\gamma}{2} + \\sqrt{\\left(\\frac{\\gamma}{2}\\right)^2 + V_I - V_{ov1} - V_{t0} + \\gamma \\sqrt{2\\phi_f} + V_{DD} + 2\\phi_f}\\right)^2 \\tag{5.62}\n\\end{align*}\n$$\n\nIn this example,\n\n$$\nV_{ov1} = \\sqrt{\\frac{2 I_Q}{k'(W/L)_1}} = \\sqrt{\\frac{2(1000)}{200(1000)}} \\mathrm{V} = 0.1 \\mathrm{~V} \\tag{5.63}\n$$\n\nSince $V_{DD} + 2\\phi_f = 3.1 \\mathrm{~V}$ and $V_I - V_{ov1} - V_{t0} = -0.8 \\mathrm{~V}$,\n\n$$\n\\begin{aligned}\nV_O = & -3.1 \\mathrm{~V} + \\left(-0.25 + \\sqrt{(0.25)^2 - 0.8 + 0.5 \\sqrt{0.6} + 3.1}\\right)^2 \\mathrm{~V} \\\\\n& = -1.117 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus,\n\n$$\nV_O + V_{DD} + 2\\phi_f = (-1.117 + 2.5 + 0.6) \\mathrm{V} = 1.983 \\mathrm{~V}\n$$\n\nFrom equation (5.55),\n\n$$\n\\mathrm{HD}_2 = \\frac{0.5}{16} \\frac{(1.983)^{-3/2}(0.5)}{\\left(1 + \\frac{0.5}{2}(1.983)^{-1/2}\\right)^2} = 0.0040 \\tag{5.64}\n$$\n\nFrom equation (5.58),\n\n$$\n\\mathrm{HD}_3 = -\\frac{0.5}{64} \\frac{(1.983)^{-5/2}(0.5)^2}{\\left(1 + \\frac{0.5}{2}(1.983)^{-1/2}\\right)^4} = -1.8 \\times 10^{-4} \\tag{5.65}\n$$\n\nThus, the second-harmonic distortion is 0.40 percent, and the third-harmonic distortion is 0.018 percent. In practice, the second-harmonic distortion is"
},
{
    "text": "The transfer function for the source-follower stage, as given by equation (5.23), defines the input voltage, \\( V_i \\), in terms of the output voltage, \\( V_o \\). To demonstrate the calculation of signal distortion arising from a nonlinear transfer function, we will use the source-follower stage as a case study.\n\nApplying the Taylor series expansion, the input voltage can be represented as:\n\n\\[\n\\begin{equation*}\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_o = V_O)(V_o - V_O)^n}{n!} \\tag{5.30}\n\\end{equation*}\n\\]\n\nwhere, \\( f^{(n)} \\) denotes the \\( n \\)th derivative of \\( f \\). With\nThe transfer function for the source-follower stage, as given by equation (5.23), defines the input voltage, \\( V_i \\), in terms of the output voltage, \\( V_o \\). To demonstrate the calculation of signal distortion arising from a nonlinear transfer function, we will use the source-follower stage as a case study.\n\nApplying the Taylor series expansion, the input voltage can be represented as:\n\n\\[\n\\begin{equation*}\nV_i = V_I + v_i = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_o = V_O)(V_o - V_O)^n}{n!} \\tag{5.30}\n\\end{equation*}\n\\]\n\nHere, \\( f^{(n)} \\) denotes the \\( n \\)th derivative of \\( f \\)."
},
{
    "text": "The calculation of the transfer function for the source-follower stage has been detailed in equation (5.23), where the input voltage $V_{i}$ is represented in terms of the output voltage $V_{o}$. We will now use this stage as a case study to demonstrate how signal distortion is computed from a nonlinear transfer function.\n\nBy employing a Taylor series expansion, the input voltage can be expressed as:\n\n$$\nV_{i} = V_{I} + v_{i} = \\sum_{n=0}^{\\infty} \\frac{f^{(n)}(V_{o} = V_{O})(V_{o} - V_{O})^n}{n!} \\tag{5.30}\n$$\n\nHere, $f^{(n)}$ denotes the $n^{\\text{th}}$ derivative of $f$. With $v_{o} = V_{o} - V_{O}$, equation (5.30) can be rephrased as:\n\n$$\nV_{i} = V_{I} + v_{i} = \\sum_{n=0}^{\\infty} b_{n}(v_{o})^n \\tag{5.31}\n$$\n\nwhere $b_{n} = f^{(n)}(V_{o} = V_{O}) / (n!)$. For the sake of simplicity, let's consider $R_{L} \\rightarrow \\infty$. Using equations (1.140) and (5.23), we obtain:\n\n$$\nV_{i} = f(V_{o}) = V_{o} + V_{t0} + \\gamma(\\sqrt{V_{o} + V_{DD} + 2\\phi_{f}} - \\sqrt{2\\phi_{f}}) + V_{ov1} \\tag{5.32}\n$$\n\nFrom this, the first, second, and third derivatives of $f(V_{o})$ with respect to $V_{o}$ are:\n\n$$\nf'(V_{o}) = 1 + \\frac{\\gamma}{2}(V_{o} + V_{DD} + 2\\phi_{f})^{-1/2} \\tag{5.33}\n$$\n\n$$\nf''(V_{o}) = -\\frac{\\gamma}{4}(V_{o} + V_{DD} + 2\\phi_{f})^{-3/2} \\tag{5.34}\n$$\n\n$$\nf'''(V_{o}) = \\frac{3\\gamma}{8}(V_{o} + V_{DD} + 2\\phi_{f})^{-5/2} \\tag{5.35}\n$$\n\nConsequently, the coefficients $b_{n}$ are given by:\n\n$$\nb_{0} = f(V_{o} = V_{O}) = V_{O} + V_{t0} + \\gamma(\\sqrt{V_{O} + V_{DD} + 2\\phi_{f}} - \\sqrt{2\\phi_{f}}) + V_{ov1} \\tag{5.36}\n$$\n\n$$\nb_{1} = f'(V_{o} = V_{O}) = 1 + \\frac{\\gamma}{2}(V_{O} + V_{DD} + 2\\phi_{f})^{-1/2} \\tag{5.37}\n$$\n\n$$\nb_{2} = \\frac{f''(V_{o} = V_{O})}{2} = -\\frac{\\gamma}{8}(V_{O} + V_{DD} + 2\\phi_{f})^{-3/2} \\tag{5.38}\n$$\n\n$$\nb_{3} = \\frac{f'''(V_{o} = V_{O})}{3!} = \\frac{\\gamma}{16}(V_{O} + V_{DD} + 2\\phi_{f})^{-5/2} \\tag{5.39}\n$$\n\nSince\nThe calculation text has been rephrased as requested."
},
{
    "text": "The calculation of the transfer function for the source-follower stage has been outlined in equation (5.23), in which the input voltage $V_{i}$ is expressed as a function of the output voltage $V_{o}$. This section will demonstrate the process of determining signal distortion from a nonlinear transfer function, utilizing the source-follower stage as a case study.\n\nA Taylor series expansion is employed to represent the input voltage as follows:\n\n$$\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} \\frac{f^{(n)}\\left(V_{o}=V_{O}\\right)\\left(V_{o}-V_{O}\\right)^{n}}{n!} \\tag{5.30}\n$$\n\nHere, $f^{(n)}$ denotes the $n^{\\text{th}}$ derivative of the function $f$. With the understanding that $v_{o}=V_{o}-V_{O}$, equation (5.30) can be reformulated to:\n\n$$\nV_{i}=V_{I}+v_{i}=\\sum_{n=0}^{\\infty} b_{n}\\left(v_{o}\\right)^{n} \\tag{5.31}\n$$\n\nwhere $b_{n}=\\frac{f^{(n)}\\left(V_{o}=V_{O}\\right)}{n!}$. For the sake of simplification, we consider the scenario where $R_{L}$ approaches infinity. Using equations (1.140) and (5.23), we obtain:\n\n$$\nV_{i}=f\\left(V_{o}\\right)=V_{o}+V_{t 0}+\\gamma\\left(\\sqrt{V_{o}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1} \\tag{5.32}\n$$\n\nThis leads to the first, second, and third derivatives of $f$ with respect to $V_{o}$:\n\n$$\n\\begin{align*}\nf^{\\prime}\\left(V_{o}\\right) & =1+\\frac{\\gamma}{2}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.33}\\\\\nf^{\\prime \\prime}\\left(V_{o}\\right) & =-\\frac{\\gamma}{4}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.34}\\\\\nf^{\\prime \\prime \\prime}\\left(V_{o}\\right) & =\\frac{3 \\gamma}{8}\\left(V_{o}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.35}\n\\end{align*}\n$$\n\nConsequently, the coefficients $b_{n}$ are given by:\n\n$$\n\\begin{align*}\nb_{0}=f\\left(V_{o}=V_{O}\\right)=V_{O}+V_{t 0}+\\gamma\\left(\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)+V_{o v 1}  \\tag{5.36}\\\\\nb_{1}=f^{\\prime}\\left(V_{o}=V_{O}\\right)=1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}  \\tag{5.37}\\\\\nb_{2}=\\frac{f^{\\prime \\prime}\\left(V_{o}=V_{O}\\right)}{2}=-\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}  \\tag{5.38}\\\\\nb_{3}=\\frac{f^{\\prime \\prime \\prime}\\left(V_{o}=V_{O}\\right)}{3!}=\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2} \\tag{5.39}\n\\end{align*}\n$$\n\nGiven that the coefficient $b_{0}$ corresponds to the DC input voltage $V_{I}$, equation (5.31) can be rewritten as:\n\n$$\nv_{i}=\\sum_{n=1}^{\\infty} b_{n}\\left(v_{o}\\right)^{n}=b_{1} v_{o}+b_{2} v_{o}^{2}+b_{3} v_{o}^{3}+\\ldots \\tag{5.40}\n$$\n\nTo analyze distortion, it is beneficial to rearrange this equation into the form:\n\n$$\nv_{o}=\\sum_{n=1}^{\\infty} a_{n}\\left(v_{i}\\right)^{n}=a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots \\tag{5.41}\n$$\n\nBy substituting equation (5.41) into (5.40), we arrive at:\n\n$$\n\\begin{align*}\nv_{i}= & b_{1}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)+b_{2}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{2} \\\\\n& +b_{3}\\left(a_{1} v_{i}+a_{2} v_{i}^{2}+a_{3} v_{i}^{3}+\\ldots\\right)^{3}+\\ldots \\\\\n= & b_{1} a_{1} v_{i}+\\left(b_{1} a_{2}+b_{2} a_{1}^{2}\\right) v_{i}^{2}+\\left(b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3}\\right) v_{i}^{3}+\\ldots \\tag{5.42}\n\\end{align*}\n$$\n\nBy equating coefficients in (5.42), we find:\n\n$$\n\\begin{align*}\n& 1=b_{1} a_{1}  \\tag{5.43}\\\\\n& 0=b_{1} a_{2}+b_{2} a_{1}^{2}  \\tag{5.44}\\\\\n& 0=b_{1} a_{3}+2 b_{2} a_{1} a_{2}+b_{3} a_{1}^{3} \\tag{5.45}\n\\end{align*}\n$$\n\nFrom (5.43), we derive:\n\n$$\na_{1}=\\frac{1}{b_{1}} \\tag{5.46}\n$$\n\nSubstituting (5.46) into (5.44) and reorganizing yields:\n\n$$\na_{2}=-\\frac{b_{2}}{b_{1}^{3}} \\tag{5.47}\n$$\n\nInserting (5.46) and (5.47) into (5.45) and reorganizing results in:\n\n$$\na_{3}=\\frac{2 b_{2}^{2}}{b_{1}^{5}}-\\frac{b_{3}}{b_{1}^{4}} \\tag{5.48}\n$$\n\nFor the source follower, substituting (5.37) into (5.46) provides:\n\n$$\na_{1}=\\frac{1}{1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}} \\tag{5.49}\n$$\n\nSubstituting (5.37) and (5.38) into (5.47) and reorganizing gives:\n\n$$\na_{2}=\\frac{\\frac{\\gamma}{8}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{3}} \\tag{5.50}\n$$\n\nSubstituting (5.37), (5.38), and (5.39) into (5.48) and reorganizing yields:\n\n$$\na_{3}=-\\frac{\\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2}}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{5}} \\tag{5.51}\n$$\n\nEquations (5.41), (5.49), (5.50), and (5.51) are instrumental in calculating the distortion of the source-follower stage. When the input voltage $v_{i}$ is small such that $a_{2} v_{i}^{2} \\ll a_{1} v_{i}$, the circuit behaves nearly linearly. However, as $v_{i}$ approaches $a_{1} / a_{2}$, additional terms become significant, leading to the generation of distortion products.\n\nA common approach to characterizing the nonlinearity of an amplifier involves specifying harmonic distortion, which is defined for a single sinusoidal input signal. Therefore, let:\n\n$$\nv_{i}=\\hat{v}_{i} \\sin \\omega t \\tag{5.52}\n$$\n\nBy substituting (5.52) into (5.41), we get:\n\n$$\n\\begin{align*}\nv_{o} & =a_{1} \\hat{v}_{i} \\sin \\omega t+a_{2} \\hat{v}_{i}^{2} \\sin ^{2} \\omega t+a_{3} \\hat{v}_{i}^{3} \\sin ^{3} \\omega t+\\ldots \\\\\n& =a_{1} \\hat{v}_{i} \\sin \\omega t+\\frac{a_{2} \\hat{v}_{i}^{2}}{2}(1-\\cos 2 \\omega t)+\\frac{a_{3} \\hat{v}_{i}^{3}}{4}(3 \\sin \\omega t-\\sin 3 \\omega t)+\\ldots \\tag{5.53}\n\\end{align*}\n$$\n\nEquation (5.53) indicates that the output voltage includes frequency components at the fundamental frequency, $\\omega$, and its harmonics, $2 \\omega$, $3 \\omega$, etc. These additional terms represent distortion products not present in the input signal. The second-harmonic distortion, $\\mathrm{HD}_{2}$, is defined as the ratio of the amplitude of the output component at frequency $2 \\omega$ to that of the fundamental frequency at $\\omega$. Assuming small distortions, we have:\n\n$$\nH D_{2}=\\frac{a_{2} \\hat{v}_{i}^{2}}{2} \\frac{1}{a_{1} \\hat{v}_{i}}=\\frac{1}{2} \\frac{a_{2}}{a_{1}} \\hat{v}_{i} \\tag{5.54}\n$$\n\nUnder these assumptions, $H D_{2}$ varies linearly with the peak signal level $\\hat{v}_{i}$. By substituting (5.49) and (5.50) into (5.54), we find:\n\n$$\nH D_{2}=\\frac{\\gamma}{16} \\frac{\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2}\\left(\\hat{v}_{i}\\right)}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{2}} \\tag{5.55}\n$$\n\nWhen $\\gamma \\ll 2 \\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}$, the equation simplifies to:\n\n$$\nH D_{2} \\simeq \\frac{\\gamma}{16}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-3 / 2} \\hat{v}_{i} \\tag{5.56}\n$$\n\nThis equation demonstrates that increasing the DC output voltage $V_{O}$ can reduce the second-harmonic distortion, which is reasonable since this type of distortion is related to the body effect. Therefore, an increase in $V_{O}$ diminishes the variation in the source-body voltage compared to its DC value due to an input with a fixed peak amplitude.\n\nSimilarly, the third-harmonic distortion, $\\mathrm{HD}_{3}$, is defined as the ratio of the output component at frequency $3 \\omega$ to the fundamental frequency. Assuming small distortions, we have:\n\n$$\nH D_{3}=\\frac{a_{3} \\hat{v}_{i}^{3}}{4} \\frac{1}{a_{1} \\hat{v}_{i}}=\\frac{1}{4} \\frac{a_{3}}{a_{1}} \\hat{v}_{i}^{2} \\tag{5.57}\n$$\n\nUnder these assumptions, $H D_{3}$ varies as the square of the signal amplitude. By substituting (5.49) and (5.51) into (5.57), we obtain:\n\n$$\nH D_{3}=-\\frac{\\gamma}{64} \\frac{\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-5 / 2}\\left(\\hat{v}_{i}^{2}\\right)}{\\left(1+\\frac{\\gamma}{2}\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right)^{-1 / 2}\\right)^{4}} \\tag{5.58}\n$$\n\nSince the distortion calculated here originates from the body effect, it can be mitigated by isolating the source follower in a separate well and connecting the source to this well. However, this method necessitates a specific type of source-follower transistor that must be of the opposite type of the well's doping. Additionally, this approach introduces the well-substrate parasitic capacitance to the output load of the source follower, thereby reducing its bandwidth.\n\n#### EXAMPLE\n\nCalculate the second- and third-harmonic distortions in the circuit depicted in Fig. 5.8 for a peak sinusoidal input voltage $\\hat{v}_{i}=0.5 \\mathrm{~V}$. Assume $V_{I}=0$, $V_{D D}=2.5 \\mathrm{~V}$, $I_{Q}=1 \\mathrm{~mA}$, and $R_{L} \\rightarrow \\infty$. Also, assume $(W / L)_{1}=1000$, $k^{\\prime}=200 \\mu \\mathrm{~A} / \\mathrm{V}^{2}$, $V_{t 0}=0.7 \\mathrm{~V}$, $\\phi_{f}=0.3 \\mathrm{~V}$, and $\\gamma=0.5 \\mathrm{~V}^{1 / 2}$.\n\nFirst, calculate the DC output voltage $V_{O}$ using:\n\n$$\nV_{O}=V_{I}-V_{t 0}-\\gamma\\left(\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}-\\sqrt{2 \\phi_{f}}\\right)-V_{o v 1} \\tag{5.59}\n$$\n\nRearranging (5.59) yields:\n\n$$\n\\begin{align*}\n\\left(V_{O}+V_{D D}+2 \\phi_{f}\\right) & +\\gamma \\sqrt{V_{O}+V_{D D}+2 \\phi_{f}} \\\\\n& -V_{I}+V_{o v 1}+V_{t 0}-\\gamma \\sqrt{2 \\phi_{f}}-V_{D D}-2 \\phi_{f}=0 \\tag{5.60}\n\\end{align*}\n$$\n\nSolving this quadratic equation for $\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}}$, we obtain:\n\n$$\n\\begin{align*}\n\\sqrt{V_{O}+V_{D D}+2 \\phi_{f}} & = \\\\\n-\\frac{\\gamma}{2} & +\\sqrt{\\left(\\frac{\\gamma}{2}\\right)^{2}+V_{I}-V_{o v 1}-V_{t 0}+\\gamma \\sqrt{2 \\phi_{f}}+V_{D D}+2 \\phi_{f}} \\tag{5.61}\n\\end{align*}\n$$\n\nSquaring both sides and reorganizing gives:\n\n$$\n\\begin{align*}\nV_{O}= & -V_{D D}-2 \\phi_{f} \\\\\n& +\\left(-\\frac{\\gamma}{2}+\\sqrt{\\left(\\frac{\\gamma}{2}\\right)^{2}+V_{I}-V_{o v 1}-V_{t 0}+\\gamma \\sqrt{2 \\phi_{f}}+V_{D D}+2 \\phi_{f}}\\right)^{2} \\tag{5.62}\n\\end{align*}\n$$\n\nIn this example, we calculate $V_{o v 1}$ as:\n\n$$\nV_{o v 1}=\\sqrt{\\frac{2 I_{Q}}{k^{\\prime}(W / L)_{1}}}=\\sqrt{\\frac{2(1000)}{200(1000)}} \\mathrm{V}=0.1 \\mathrm{~V} \\tag{5.63}\n$$\n\nGiven that $V_{D D}+2 \\phi_{f}=3.1 \\mathrm{~V}$ and $V_{I}-V_{o v 1}-V_{t 0}=-0.8 \\mathrm{~V}$, we find:\n\n$$\nV_{O}+V_{D D}+2 \\phi_{f}=(-1."
},
{
    "text": "The primary drawback of Class A output stages is the significant power dissipation that occurs even without any AC input. In numerous power amplifier applications, the circuit may remain in a standby state for extended periods with no input signal or experience intermittent inputs, such as with voice signals. The power consumed during these standby phases is squandered, which is crucial for two reasons. Firstly, in battery-powered devices, conserving supply power is essential to prolong battery life. Secondly, any wasted power within the circuit is dissipated by the active devices, raising their operating temperatures and thereby increasing the risk of failure. Additionally, the power dissipated in these devices influences the required physical size of the device, with larger devices being more costly in terms of silicon area.\n\nA Class B output stage mitigates this issue by virtually eliminating power dissipation when there is no input signal. Instead of using a single active device, two devices are employed to deliver power, with each conducting during alternate half cycles. This operation is the basis for the term \"push-pull.\" Another benefit of Class B output stages is their significantly higher efficiency compared to Class A output stages, ideally reaching 78.6 percent at maximum output power.\n\nImage Description:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vin, Nn: GND}\nname: Q1, type: NPN, ports: {C: VCC, B: Vin, E: Vout}\nname: Q2, type: PNP, ports: {C: -VCC, B: Vin, E: Vout}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nAdditional Information: The circuit is a Class B output stage employing a complementary pair of transistors (NPN and PNP). It functions in a push-pull arrangement to enhance efficiency, with the load resistor connected to the emitters of the transistors, causing them to operate as emitter followers.\n\nFigure 5.10 illustrates a simple integrated-circuit Class B output stage in bipolar technology. This circuit incorporates both $p n p$ and $n p n$ devices, forming a complementary output stage. The pnp transistor is typically a substrate $p n p$. It is important to note that the load resistance $R_{L}$ is attached to the emitters of the active devices, thereby enabling them to function as emitter followers."
},
{
    "text": "The primary drawback of Class A output stages is the significant power dissipation that occurs even without any AC input. In numerous power amplifier applications, the circuit may remain in a standby state for extended periods, either with no input signal or with intermittent inputs, such as in voice signal scenarios. The power wasted during these standby phases is problematic for two main reasons. Firstly, in battery-powered devices, conserving supply power is crucial to prolong battery life. Secondly, any power lost in the circuit is dissipated by the active devices, raising their operating temperatures and thereby increasing the risk of failure. Additionally, the power dissipated in these devices influences the required physical size of the device, with larger devices being more costly due to the increased silicon area needed.\n\nA Class B output stage mitigates this issue by exhibiting essentially zero power dissipation when there is no input signal. Instead of using a single active device, two devices are employed to deliver power, with each conducting during alternate half cycles. This operational mode is the basis for the term \"push-pull.\" Another benefit of Class B output stages is their significantly higher efficiency compared to Class A stages, ideally reaching 78.6 percent at full output power.\n\nImage Description:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vin, Nn: GND}\nname: Q1, type: NPN, ports: {C: VCC, B: Vin, E: Vout}\nname: Q2, type: PNP, ports: {C: -VCC, B: Vin, E: Vout}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nAdditional Information: The circuit depicted is a Class B output stage utilizing a complementary pair of transistors (NPN and PNP). It functions in a push-pull arrangement to enhance efficiency, with the load resistor connected to the emitters of the transistors, causing them to operate as emitter followers.\n\nFigure 5.10 illustrates a straightforward integrated-circuit Class B output stage.\n\nA common integrated-circuit implementation of the Class B output stage, depicted in Fig. 5.10, employs bipolar technology. This circuit incorporates both $p n p$ and $n p n$ devices, forming a complementary output stage. Typically, the pnp transistor is a substrate $p n p$. It is noteworthy that the load resistance $R_{L}$ is attached to the emitters of the active devices, thereby enabling them to function as emitter followers."
},
{
    "text": "The primary drawback of Class A output stages is the significant power dissipation that occurs even in the absence of an AC input. In numerous power amplifier applications, the circuit may remain in a standby state for extended periods without an input signal, or experience intermittent inputs, such as with voice signals. The power expended during these standby phases is squandered, which is significant for two key reasons. Firstly, in battery-powered devices, conserving supply power is crucial for prolonging battery life. Secondly, any wasted power within the circuit is dissipated by the active devices, elevating their operating temperatures and thereby increasing the risk of failure. Additionally, the power dissipated by the devices influences the required physical size of the device, with larger devices being costlier in terms of silicon area.\n\nA Class B output stage mitigates this issue by exhibiting virtually zero power dissipation when there is no input signal. Instead of using a single active device, two are employed to deliver power, with each device conducting during alternate half cycles. This operational mode is the basis for the term \"push-pull.\" Another benefit of Class B output stages is their significantly higher efficiency compared to Class A output stages, ideally reaching 78.6 percent at full output power.\n\nimage_name: Figure 5.10 Simple integrated-circuit Class B output stage\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vin, Nn: GND}\nname: Q1, type: NPN, ports: {C: VCC, B: Vin, E: Vout}\nname: Q2, type: PNP, ports: {C: -VCC, B: Vin, E: Vout}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo: The circuit is a Class B output stage utilizing a complementary pair of transistors (NPN and PNP). It functions in a push-pull arrangement to enhance efficiency, with the load resistor connected to the emitters of the transistors, effectively making them operate as emitter followers.\n\nFigure 5.10 illustrates a straightforward integrated-circuit Class B output stage.\n\nA conventional integrated-circuit implementation of the Class B output stage, depicted in Fig. 5.10, employs bipolar technology. This circuit incorporates both $p n p$ and $n p n$ devices, forming a complementary output stage. Typically, the pnp transistor is a substrate $p n p$. It is noteworthy that the load resistance $R_{L}$ is attached to the emitters of the active devices, thus causing them to function as emitter followers."
},
{
    "text": "The primary drawback of Class A output stages is the significant power dissipation that occurs even when there is no AC input. In numerous power amplifier applications, the circuit may remain in a standby state for extended periods without an input signal, or with sporadic inputs, such as in voice signal scenarios. The power consumed during these standby phases is squandered, which is crucial for two reasons. Firstly, in battery-powered devices, conserving supply power is essential to prolong battery life. Secondly, any wasted power within the circuit is dissipated by the active devices, leading to higher operating temperatures and an increased risk of failure. Additionally, the power dissipated in these devices influences the required physical size of the device, with larger devices being more costly in terms of silicon area.\n\nA Class B output stage mitigates this issue by exhibiting near-zero power dissipation when there is no input signal. Instead of using a single active device, two devices are employed to deliver power, with each device conducting during alternate half cycles. This operational pattern is the basis for the term \"push-pull.\" Another benefit of Class B output stages is their significantly higher efficiency compared to Class A stages, ideally reaching 78.6 percent at full output power.\n\n**Figure 5.10: Simple Integrated-Circuit Class B Output Stage**\n\n**Description:**\n- **Vi:** VoltageSource, value: Vi, ports: {Np: Vin, Nn: GND}\n- **Q1:** NPN transistor, ports: {C: VCC, B: Vin, E: Vout}\n- **Q2:** PNP transistor, ports: {C: -VCC, B: Vin, E: Vout}\n- **RL:** Resistor, value: RL, ports: {N1: Vout, N2: GND}\n\n**Extra Info:** The circuit is a Class B output stage utilizing a complementary pair of transistors (NPN and PNP). It functions in a push-pull configuration to enhance efficiency, with the load resistor connected to the emitters of the transistors, causing them to operate as emitter followers.\n\nFigure 5.10 illustrates a typical integrated-circuit implementation of the Class B output stage using bipolar technology. This configuration employs both pnp and npn devices, referred to as a complementary output stage. The pnp transistor is generally a substrate pnp. It is important to note that the load resistance \\( R_L \\) is connected to the emitters of the active devices, thereby enabling them to function as emitter followers."
},
{
    "text": "The primary drawback of Class A output stages is the significant power dissipation that occurs even without any AC input. In numerous power amplifier applications, the circuit may remain in a standby state for extended periods, either with no input signal or with intermittent inputs, such as in voice signal scenarios. The power consumed during these standby phases is wasted, which is critical for two main reasons. Firstly, in battery-powered devices, conserving supply power is essential to prolong battery life. Secondly, any wasted power within the circuit is dissipated by the active devices, leading to higher operating temperatures and an increased risk of failure. Additionally, the power dissipated in these devices influences the required physical size of the device, with larger devices being more costly in terms of silicon area.\n\nA Class B output stage mitigates this issue by achieving nearly zero power dissipation when there is no input signal. Instead of using a single active device, two devices are employed to deliver power, with each device conducting during alternate half cycles. This operation is the basis for the term \"push-pull.\" Another benefit of Class B output stages is their significantly higher efficiency compared to Class A stages, ideally reaching 78.6 percent at full output power.\n\nImage Description:\n- Name: Vi, Type: VoltageSource, Value: Vi, Ports: {Np: Vin, Nn: GND}\n- Name: Q1, Type: NPN, Ports: {C: VCC, B: Vin, E: Vout}\n- Name: Q2, Type: PNP, Ports: {C: -VCC, B: Vin, E: Vout}\n- Name: RL, Type: Resistor, Value: RL, Ports: {N1: Vout, N2: GND}\n\nAdditional Info: The circuit is a Class B output stage featuring a complementary pair of transistors (NPN and PNP). It functions in a push-pull arrangement to enhance efficiency, with the load resistor connected to the emitters of the transistors, causing them to act as emitter followers.\n\nFigure 5.10 illustrates a simple integrated-circuit Class B output stage in bipolar technology. This circuit incorporates both pnp and npn devices, forming a complementary output stage. The pnp transistor is typically a substrate pnp. It is noteworthy that the load resistance $R_{L}$ is connected to the emitters of the active devices, thereby enabling them to function as emitter followers."
},
{
    "text": "The primary drawback of Class A output stages is the significant power dissipation that occurs even without any AC input. In numerous power amplifier applications, the circuit may remain in a standby state for extended periods, either with no input signal or with intermittent inputs, such as in voice signal scenarios. The power wasted during these standby phases is problematic for two main reasons. Firstly, in battery-powered devices, conserving supply power is crucial to prolong battery life. Secondly, any wasted power is dissipated by the active devices, leading to increased operating temperatures and a higher risk of failure. Additionally, the power dissipated in these devices influences the required physical size of the device, with larger devices being more costly due to the increased silicon area needed.\n\nA Class B output stage mitigates this issue by virtually eliminating power dissipation when there is no input signal. Instead of using a single active device, two devices are employed to deliver power, with each conducting during alternate half cycles. This operational mode is the basis for the term \"push-pull.\" Another benefit of Class B output stages is their significantly higher efficiency compared to Class A stages, ideally reaching 78.6 percent at full output power.\n\n**Figure 5.10: Simple Integrated-Circuit Class B Output Stage**\n\nDescription:\n- **Vi**: VoltageSource, value: Vi, ports: {Np: Vin, Nn: GND}\n- **Q1**: NPN transistor, ports: {C: VCC, B: Vin, E: Vout}\n- **Q2**: PNP transistor, ports: {C: -VCC, B: Vin, E: Vout}\n- **RL**: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n\nAdditional Info: The circuit features a Class B output stage utilizing a complementary pair of transistors (NPN and PNP). It functions in a push-pull arrangement to enhance efficiency, with the load resistor connected to the emitters of the transistors, effectively making them operate as emitter followers.\n\nFigure 5.10 illustrates a typical integrated-circuit implementation of the Class B output stage using bipolar technology. This configuration incorporates both pnp and npn devices, forming what is known as a complementary output stage. The pnp transistor is often a substrate pnp type. It is noteworthy that the load resistance \\( R_L \\) is connected to the emitters of the active devices, thereby causing the devices to function as emitter followers."
},
{
    "text": "The primary drawback of Class A output stages is the substantial power dissipation that occurs even without any AC input. In numerous power amplifier applications, the circuit may remain in a standby state for extended periods with no input signal, or experience intermittent inputs, such as in voice signal scenarios. The power wasted during these standby phases is significant for two main reasons. Firstly, in battery-powered devices, conserving supply power is crucial for prolonging battery life. Secondly, any wasted power is dissipated within the active devices, raising their operating temperatures and thereby increasing the risk of failure. Additionally, the power dissipated in these devices influences the required physical size of the device, with larger devices being more costly in terms of silicon area.\n\nA Class B output stage mitigates this issue by achieving essentially zero power dissipation when there is no input signal. It employs two active devices to deliver power, each conducting for alternate half cycles, which is the basis for the term \"push-pull.\" Another benefit of Class B output stages is their significantly higher efficiency compared to Class A output stages, ideally reaching 78.6 percent at full output power.\n\nimage_name: Figure 5.10 Simple integrated-circuit Class B output stage\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vin, Nn: GND}\nname: Q1, type: NPN, ports: {C: VCC, B: Vin, E: Vout}\nname: Q2, type: PNP, ports: {C: -VCC, B: Vin, E: Vout}\nname: RL, type: Resistor, value: RL, ports: {N1: Vout, N2: GND}\n]\nextrainfo: The circuit represents a Class B output stage utilizing a complementary pair of transistors (NPN and PNP). It functions in a push-pull arrangement to enhance efficiency, with the load resistor connected to the emitters of the transistors, effectively making them operate as emitter followers.\n\nFigure 5.10 illustrates a simple integrated-circuit Class B output stage.\n\nA standard integrated-circuit implementation of the Class B output stage in bipolar technology is depicted in Fig. 5.10. This configuration incorporates both $p n p$ and $n p n$ devices, referred to as a complementary output stage. The pnp transistor is typically a substrate $p n p$. It is important to note that the load resistance $R_{L}$ is connected to the emitters of the active devices, causing them to function as emitter followers."
},
{
    "text": "The primary drawback of Class A output stages is the significant power dissipation that occurs even without an AC input. In numerous power amplifier applications, the circuit may remain in a standby state for extended periods, either with no input signal or with intermittent inputs, such as in voice signal scenarios. The power wasted during these standby periods is problematic for two main reasons. Firstly, in battery-powered devices, conserving supply power is crucial to prolong battery life. Secondly, any wasted power is dissipated by the active devices, raising their operating temperatures and thereby increasing the risk of failure. Additionally, the power dissipated in these devices influences the required physical size of the devices, with larger devices being more costly in terms of silicon area.\n\nA Class B output stage mitigates this issue by achieving near-zero power dissipation when there is no input signal. Instead of using a single active device, it employs two devices that deliver power, with each device conducting during alternate half cycles. This operation is the basis for the term \"push-pull.\" Another benefit of Class B output stages is their significantly higher efficiency compared to Class A stages, ideally reaching 78.6 percent at full output power.\n\n**Figure 5.10: Simple Integrated-Circuit Class B Output Stage**\n\nDescription:\n- **Vi**: Voltage Source, Value: Vi, Ports: {Np: Vin, Nn: GND}\n- **Q1**: NPN Transistor, Ports: {C: VCC, B: Vin, E: Vout}\n- **Q2**: PNP Transistor, Ports: {C: -VCC, B: Vin, E: Vout}\n- **RL**: Resistor, Value: RL, Ports: {N1: Vout, N2: GND}\n\nExtra Info: The circuit is a Class B output stage utilizing a complementary pair of transistors (NPN and PNP). It functions in a push-pull configuration to enhance efficiency, with the load resistor connected to the emitters of the transistors, causing them to act as emitter followers.\n\nFigure 5.10 illustrates a typical integrated-circuit implementation of the Class B output stage using bipolar technology. This circuit incorporates both pnp and npn devices and is referred to as a complementary output stage. The pnp transistor is typically a substrate pnp. Note that the load resistance \\( R_L \\) is connected to the emitters of the active devices, thereby functioning as emitter followers."
},
{
    "text": "The transfer characteristic depicted in Figure 5.11 corresponds to the circuit in Figure 5.10. When the input voltage, \\( V_i \\), is zero, the output voltage, \\( V_o \\), is also zero, and both devices are in an off state with a base-emitter voltage, \\( V_{be} \\), of zero. Upon increasing \\( V_i \\) to a positive value, the base-emitter voltage of transistor \\( Q_1 \\) rises until it reaches \\( V_{BE(\\text{on})} \\), at which point \\( Q_1 \\) begins to conduct significant current. At this stage, \\( V_o \\) remains nearly zero, but any further increase in \\( V_i \\) results in a proportional increase in \\( V_o \\), as \\( Q_1 \\) functions as an emitter follower. When \\( V_i \\) is positive, \\( Q_2 \\) is off, with a reverse bias of \\( V_{BE(\\text{on})} \\) across its base-emitter junction. As \\( V_i \\) continues to rise, \\( Q_1 \\) eventually saturates at \\( V_i = V_{CC} + V_{be1} - V_{CE1(\\text{sat})} \\), and the characteristic curve levels out, akin to the conventional emitter follower discussed earlier.\n\nWhen \\( V_i \\) is made negative from zero, the characteristic exhibits a similar trend, with \\( Q_2 \\) now acting as an emitter follower for \\( V_i \\) values more negative than \\(-V_{BE(\\text{on})} \\). In this region, \\( Q_1 \\) is maintained in the off state, with a reverse bias of \\( V_{BE(\\text{on})} \\) across its base-emitter junction.\n\nFigure 5.11 presents the transfer characteristic of a Class B output stage from Figure 5.10, depicted as a graph mapping the input voltage \\( V_i \\) to the output voltage \\( V_o \\). This characteristic curve highlights the linear relationship with a slope near 1 between two saturation points, centered around \\( V_i = 0 \\). The characteristic graph also displays a pronounced deadband or notch around \\( V_i = 0 \\), characteristic of Class B amplifiers, which stems from the need to surpass the base-emitter voltage \\( V_{BE} \\) of the transistors. The symmetry about the origin signifies similar behavior for both positive and negative inputs.\n\nKey features of the graph include two distinct saturation regions: for positive \\( V_i \\), \\( Q_1 \\) saturates, and \\( V_o \\) reaches a maximum of \\( V_{CC} - V_{CE1(\\text{sat})} \\); for negative \\( V_i \\), \\( Q_2 \\) saturates, and \\( V_o \\) reaches a minimum of \\(-V_{CC} + V_{BE2} - V_{CE2(\\text{sat})} \\). The linear region has two notable points: when \\( V_i = V_{BE(\\text{on})} \\), \\( Q_1 \\) turns on and \\( Q_2 \\) turns off; when \\( V_i = -V_{BE(\\text{on})} \\), \\( Q_1 \\) turns off and \\( Q_2 \\) turns on. The slopes in the linear regions are approximately 1, indicating unity gain.\n\nThe graph is annotated with specific conditions for \\( Q_1 \\) and \\( Q_2 \\) (on/off states) and saturation points, marking important voltage levels such as \\( V_{BE(\\text{on})} \\), \\( V_{CC} \\), \\( V_{CE1(\\text{sat})} \\), and \\( V_{CE2(\\text{sat})} \\). This graph is instrumental in analyzing the performance of the Class B amplifier, particularly in understanding the effects of crossover distortion and the linear response outside the deadband region.\n\nFigure 5.12 showcases output waveforms for various amplitude input signals applied to the Class B circuit of Figure 5.10. It is a time-domain waveform graph depicting how the output voltage \\( V_o \\) responds to different input voltages \\( V_i \\) over time. The graph exhibits three distinct waveforms representing different input signal amplitudes. Waveform ① shows a small input signal, resulting in minimal output response due to the deadband around zero input. Waveform ② displays a medium input signal, leading to some output distortion as it begins to enter the linear region beyond the deadband. Waveform ③ represents a large input signal, where the output reaches saturation levels at \\( V_{CC} - V_{CE(\\text{sat})} \\) and \\(-V_{CC} + V_{CE(\\text{sat})} \\).\n\nThe deadband region around zero input voltage is characterized by \\( 2V_{BE(\\text{on})} \\), causing crossover distortion, especially visible in waveforms ① and ②. As the input signal increases, the output waveform transitions from a distorted response to a more linear behavior, eventually reaching saturation at higher input levels. The saturation levels are marked at \\( V_{CC} - V_{CE(\\text{sat})} \\) for positive saturation and \\(-V_{CC} + V_{CE(\\text{sat})} \\) for negative saturation. The horizontal lines indicate important voltage levels such as \\( V_{CC} - V_{CE(\\text{sat})} \\) and \\(-V_{CC} + V_{CE(\\text{sat})} \\). The notch or deadband is clearly marked and is a significant feature of the Class B output stage, contributing to the crossover distortion observed in the waveforms.\n\nThis graph effectively demonstrates the behavior of a Class B amplifier, highlighting the transition from distortion within the deadband to saturation at higher input levels, providing insight into the typical performance characteristics of such circuits.\n\nThe characteristic of Figure 5.11 exhibits a notch (or deadband) of \\( 2V_{BE(\\text{on})} \\) in \\( V_i \\) centered around \\( V_i = 0 \\). This deadband is typical in Class B output stages and gives rise to crossover distortion, as illustrated in Figure 5.12, where output waveforms from the circuit are shown for various amplitude input sinusoidal signals. In this circuit, distortion is pronounced for small input signals with amplitudes somewhat larger than \\( V_{BE(\\text{on})} \\). The effect of this source of distortion diminishes as the input signal increases and the deadband represents a smaller fraction of the signal amplitude. Eventually, for very large signals, saturation of \\( Q_1 \\) and \\( Q_2 \\) occurs, and distortion rises sharply again due to clipping. This behavior is characteristic of Class B output stages and is why distortion figures are often quoted for both low and high output power operation.\n\nCrossover distortion can be mitigated by employing Class AB operation of the circuit. In this configuration, the active devices are biased to conduct a small quiescent current for \\( V_i = 0 \\). This biasing can be achieved as shown in Figure 5.13, where the current source \\( I_Q \\) forces bias current in diodes \\( Q_3 \\) and \\( Q_4 \\). Since the diodes are connected in parallel with the base-emitter junctions of \\( Q_1 \\) and \\( Q_2 \\), the output transistors are biased on with a current dependent on the area ratios of \\( Q_1 \\), \\( Q_2 \\), \\( Q_3 \\), and \\( Q_4 \\). A typical transfer characteristic for this circuit is shown in Figure 5.14, where the deadband has been effectively eliminated. The remaining nonlinearities due to crossover in conduction from \\( Q_1 \\) to \\( Q_2 \\) can be reduced by using negative feedback, as described in Chapter 8.\n\nThe operation of the circuit in Figure 5.13 resembles that of Figure 5.11. As \\( V_i \\) is taken negative from its quiescent value, emitter follower \\( Q_2 \\) forces \\( V_o \\) to follow. The load current flows through \\( Q_2 \\), whose base-emitter voltage will increase slightly. Since the diodes maintain a constant total bias voltage across the base-emitter junctions of \\( Q_1 \\) and \\( Q_2 \\), the base-emitter voltage of \\( Q_1 \\) will decrease by the same amount that \\( Q_2 \\) increased. Thus, during the negative output voltage excursion, \\( Q_1 \\) stays on but conducts little current and plays no part in delivering output power. For \\( V_i \\) taken positive, the opposite occurs, and \\( Q_1 \\) acts as the emitter follower delivering current to \\( R_L \\) with \\( Q_2 \\) conducting only a very small current. In this case, the current source \\( I_Q \\) supplies the base-current drive to \\( Q_1 \\).\n\nIn the derivation of the characteristics of Figures 5.11 and 5.14, it was assumed that the input voltage \\( V_i \\) was unlimited. However, in the characteristic of Figure 5.11, the magnitude of \\( V_i \\) required to cause saturation of \\( Q_1 \\) or \\( Q_2 \\) exceeds the supply voltage \\( V_{CC} \\). In practical driver stages, if connected to the same supply voltages as the output stage, they generally cannot produce \\( V_i \\) values exceeding \\( V_{CC} \\). For instance, the current source \\( I_Q \\) in Figure 5.13 is usually realized with a pnp transistor, and thus the voltage at the base of \\( Q_1 \\) cannot exceed \\( V_{CC} - V_{CE(\\text{sat})} \\), at which point saturation of the current-source transistor occurs. Consequently, the positive and negative limits of \\( V_o \\) where clipping occurs are generally somewhat less than shown in Figures 5.11 and 5.14, and the limitation usually arises in the driver stage. This point will be investigated further when practical output stages are considered in later sections."
},
{
    "text": "The transfer characteristic of the circuit depicted in Fig. 5.10 is represented in Fig. 5.11. When the input voltage, $V_{i}$, is at zero, the output voltage, $V_{o}$, is also at zero, with both devices in an off state, and the base-emitter voltage, $V_{b e}$, is zero. As $V_{i}$ becomes positive, the base-emitter voltage of $Q_{1}$ rises until it reaches the threshold, $V_{B E(\\mathrm{on})}$, at which point a significant current begins to flow through $Q_{1}$. At this stage, $V_{o}$ remains nearly zero; however, any further increase in $V_{i}$ results in a proportional increase in $V_{o}$, as $Q_{1}$ functions as an emitter follower. With $V_{i}>0$, $Q_{2}$ remains off, maintaining a reverse bias of $V_{B E(\\text { on })}$ across its base-emitter junction. As $V_{i}$ continues to increase positively, $Q_{1}$ eventually saturates, reaching the condition where $V_{i}=V_{C C}+V_{b e 1}-V_{C E 1(\\text { sat })}$. The characteristic curve flattens out, resembling the behavior of a conventional emitter follower.\n\nWhen $V_{i}$ is taken negative from zero, the characteristic is similar, with the distinction that $Q_{2}$ now acts as an emitter follower for values of $V_{i}$ more negative than $-V_{B E(\\mathrm{on})}$. In this region, $Q_{1}$ is kept off with a reverse bias of $V_{B E(\\text { on })}$ across its base-emitter junction.\n\nThe graph in Figure 5.11 presents a transfer characteristic plot for a Class B output stage. It is a voltage transfer curve that maps the input voltage ($V_i$) to the output voltage ($V_o$).\n\nAxes Labels and Units:\n- Horizontal axis: Input voltage ($V_i$), typically in volts.\n- Vertical axis: Output voltage ($V_o$), also in volts.\n\nOverall Behavior and Trends:\n- The graph displays a linear region with a slope of approximately 1 between two saturation points, centered around $V_i = 0$.\n- A deadband or notch is evident around $V_i = 0$, which is characteristic of Class B amplifiers due to the need to overcome the base-emitter voltage ($V_{BE}$) of the transistors.\n- The characteristic curve is symmetrical around the origin, indicating similar behavior for positive and negative inputs.\n\nKey Features and Technical Details:\n- Two distinct saturation regions are present:\n  - For positive $V_i$, $Q_1$ saturates, and the output voltage reaches a maximum of $V_{CC} - V_{CE1(sat)}$.\n  - For negative $V_i$, $Q_2$ saturates, and the output voltage reaches a minimum of $-V_{CC} + V_{BE2} - V_{CE2(sat)}$.\n- Two points of interest exist in the linear regions:\n  - At $V_i = V_{BE(on)}$, $Q_1$ turns on, and $Q_2$ turns off.\n  - At $V_i = -V_{BE(on)}$, $Q_1$ turns off, and $Q_2$ turns on.\n- The slopes in the linear regions are approximately 1, indicating unity gain.\n\nAnnotations and Specific Data Points:\n- The graph is annotated with specific conditions for $Q_1$ and $Q_2$ (on/off states) and saturation points.\n- Key voltage levels are marked, such as $V_{BE(on)}$, $V_{CC}$, $V_{CE1(sat)}$, and $V_{CE2(sat)}$.\n\nOverall, this graph illustrates the behavior of a Class B output stage, highlighting the deadband around zero input and the linear response outside this region, leading to saturation at extreme input values.\n\nThe characteristic of Fig. 5.11 shows a notch (or deadband) of $2 V_{B E(\\text { on })}$ in $V_{i}$ centered around $V_{i}=0$. This deadband is common in Class B output stages and gives rise to crossover distortion, which is illustrated in Fig. 5.12. In this circuit, the distortion is pronounced for small input signals with amplitudes somewhat larger than $V_{B E(\\text { on })}$. The effect of this distortion source diminishes as the input signal grows larger, and the deadband represents a smaller fraction of the signal amplitude. Eventually, for very large signals, saturation of $Q_{1}$ and $Q_{2}$ occurs, and distortion rises sharply again due to clipping. This behavior is characteristic of Class B output stages and is why distortion figures are often quoted for both low and high output power operation.\n\nThe crossover distortion described above can be mitigated by using Class $A B$ operation of the circuit. In this scheme, the active devices are biased so that each conducts a small quiescent current for $V_{i}=0$. Such biasing can be achieved as shown in Fig. 5.13, where the current source $I_{Q}$ forces bias current in diodes $Q_{3}$ and $Q_{4}$. Since the diodes are connected in parallel with the base-emitter junctions of $Q_{1}$ and $Q_{2}$, the output transistors are biased on with a current that depends on the area ratios of $Q_{1}$, $Q_{2}$, $Q_{3}$, and $Q_{4}$. A typical transfer characteristic for this circuit is shown in Fig. 5.14, and the deadband has been effectively eliminated. The remaining nonlinearities due to crossover in conduction from $Q_{1}$ to $Q_{2}$ can be reduced by using negative feedback, as described in Chapter 8.\n\nThe operation of the circuit in Fig. 5.13 is similar to that of Fig. 5.11. As $V_{i}$ is taken negative from its quiescent value, emitter follower $Q_{2}$ forces $V_{o}$ to follow. The load current flows through $Q_{2}$, whose base-emitter voltage will increase slightly. Since the diodes maintain a constant total bias voltage across the base-emitter junctions of $Q_{1}$ and $Q_{2}$, the base-emitter voltage of $Q_{1}$ will decrease by the same amount that $Q_{2}$ increased. Thus, during the negative output voltage excursion, $Q_{1}$ stays on but conducts little current and plays no part in delivering output power. For $V_{i}$ taken positive, the opposite occurs, and $Q_{1}$ acts as the emitter follower delivering current to $R_{L}$ with $Q_{2}$ conducting only a very small current. In this case, the current source $I_{Q}$ supplies the base-current drive to $Q_{1}$.\n\nIn deriving the characteristics of Figures 5.11 and 5.14, we assumed that the magnitude of the input voltage $V_{i}$ was unlimited. In the characteristic of Fig. 5.11, the magnitude of $V_{i}$ required to cause saturation of $Q_{1}$ or $Q_{2}$ exceeds the supply voltage $V_{C C}$. However, as in the case of the single emitter follower described earlier, practical driver stages generally cannot produce values of $V_{i}$ exceeding $V_{C C}$ if they are connected to the same supply voltages as the output stage. For example, the current source $I_{Q}$ in Fig. 5.13 is usually realized with a pnp transistor and thus the voltage at the base of $Q_{1}$ cannot exceed $\\left(V_{C C}-V_{C E(\\mathrm{sat})}\\right)$, at which point saturation of the current-source transistor occurs. Consequently, the positive and negative limits of $V_{o}$ where clipping occurs are generally somewhat less than shown in Fig. 5.11 and Fig. 5.14, and the limitation usually occurs in the driver stage. This point will be investigated further when practical output stages are considered in later sections."
},
{
    "text": "The transfer characteristic depicted in Fig. 5.11 corresponds to the circuit in Fig. 5.10. When the input voltage \\( V_i \\) is zero, the output voltage \\( V_o \\) is also zero, with both devices deactivated and the base-emitter voltage \\( V_{be} \\) at zero. As \\( V_i \\) becomes positive, the base-emitter voltage of transistor \\( Q_1 \\) rises until it hits \\( V_{BE(\\mathrm{on})} \\), at which point \\( Q_1 \\) starts conducting significantly. At this stage, \\( V_o \\) remains near zero, but as \\( V_i \\) continues to increase, \\( V_o \\) follows suit due to \\( Q_1 \\)'s behavior as an emitter follower. When \\( V_i \\) is positive, \\( Q_2 \\) is off with a reverse bias of \\( V_{BE(\\text {on})} \\) across its base-emitter junction. As \\( V_i \\) increases further, \\( Q_1 \\) eventually saturates at \\( V_i = V_{CC} + V_{be1} - V_{CE1(\\text {sat})} \\), and the characteristic curve levels out, similar to the typical emitter follower analyzed earlier.\n\nIf \\( V_i \\) becomes negative from zero, a comparable characteristic is observed, with \\( Q_2 \\) now acting as an emitter follower for \\( V_i \\) values more negative than \\( -V_{BE(\\mathrm{on})} \\). In this range, \\( Q_1 \\) is kept off by the reverse bias of \\( V_{BE(\\text {on})} \\) across its base-emitter junction.\n\nFigure 5.11 presents a transfer characteristic graph for a Class B output stage, mapping the input voltage \\( V_i \\) against the output voltage \\( V_o \\). The graph highlights a linear region centered around \\( V_i = 0 \\), with a slope close to 1, and saturation points where the output voltage reaches maximum and minimum levels. The deadband around \\( V_i = 0 \\) is a characteristic feature of Class B amplifiers, representing the voltage range where no output is produced.\n\nKey features include the saturation regions for positive and negative \\( V_i \\), the linear region's slope indicating unity gain, and annotations marking critical voltage levels and transistor states. The graph effectively illustrates the Class B amplifier's behavior, especially concerning crossover distortion and its linear response outside the deadband.\n\nFigure 5.12 depicts output waveforms for various amplitude input signals applied to a Class B amplifier circuit. The graph, a time-domain waveform, shows how \\( V_o \\) responds to \\( V_i \\) over time. It includes waveforms for small, medium, and large input signals, illustrating the amplifier's response from minimal output to saturation levels. The deadband around zero input voltage leads to crossover distortion, particularly noticeable in the small and medium input signal waveforms.\n\nAnnotations mark important voltage levels and the deadband, highlighting the crossover distortion and the amplifier's transition from distortion to linear behavior and finally to saturation at high input levels.\n\nClass B output stages exhibit crossover distortion, which can be mitigated by using a Class AB operation. This involves biasing the active devices so that each conducts a small current even at \\( V_i = 0 \\). Figure 5.13 demonstrates such a circuit, where a current source biases diodes \\( Q_3 \\) and \\( Q_4 \\), which in turn bias the output transistors \\( Q_1 \\) and \\( Q_2 \\). Figure 5.14 shows the transfer characteristic for this circuit, with the deadband effectively removed, indicating reduced crossover distortion.\n\nThe operation of the circuit in Fig. 5.13 is similar to that in Fig. 5.11, with \\( Q_1 \\) and \\( Q_2 \\) acting as emitter followers depending on the polarity of \\( V_i \\). The diodes ensure that the output transistors are biased on with a current dependent on their area ratios, thus minimizing distortion.\n\nThe transfer characteristic in Fig. 5.14 shows a linear relationship between \\( V_i \\) and \\( V_o \\) with a slope near 1, indicating linear amplification. The graph also shows the saturation limits and the transition point where conduction shifts between the transistors. The Class AB amplifier effectively reduces crossover distortion and ensures linear amplification across a wide range of input voltages.\n\nIn practical applications, the input voltage \\( V_i \\) that can be produced by driver stages is generally limited by the supply voltage \\( V_{CC} \\). Therefore, the positive and negative limits of \\( V_o \\) where clipping occurs are usually less than those shown in the idealized characteristics of Figs. 5.11 and 5.14. This limitation typically arises in the driver stage, which will be explored further in subsequent sections."
},
{
    "text": "The characteristic curve in Figure 5.11 depicts the transfer characteristics of the circuit shown in Figure 5.10. When the input voltage \\( V_{i} \\) is zero, the output voltage \\( V_{o} \\) is also zero, and both devices are turned off with \\( V_{b e}=0 \\). As \\( V_{i} \\) becomes positive, the base-emitter voltage of \\( Q_{1} \\) increases until it reaches \\( V_{B E(\\mathrm{on})} \\), at which point \\( Q_{1} \\) starts conducting appreciable current. At this stage, \\( V_{o} \\) remains nearly zero, but any further increase in \\( V_{i} \\) will lead to a proportional increase in \\( V_{o} \\), since \\( Q_{1} \\) functions as an emitter follower. When \\( V_{i}>0 \\), \\( Q_{2} \\) is turned off, and its base-emitter junction is reverse-biased with \\( V_{B E(\\text { on })} \\). If \\( V_{i} \\) continues to increase positively, \\( Q_{1} \\) will eventually saturate when \\( V_{i}=V_{C C}+V_{b e 1}-V_{C E 1(\\text { sat })} \\), causing the characteristic curve to flatten out, similar to the conventional emitter follower previously discussed.\n\nWhen \\( V_{i} \\) becomes negative from \\( V_{i}=0 \\), a comparable characteristic is observed, with the distinction that \\( Q_{2} \\) now behaves as an emitter follower for \\( V_{i} \\) more negative than \\( -V_{B E(\\mathrm{on})} \\). In this region, \\( Q_{1} \\) remains off, and its base-emitter junction is reverse-biased with \\( V_{B E(\\text { on })} \\). The graph in Figure 5.11 displays a transfer characteristic for a Class B output stage, illustrating the relationship between input voltage \\( V_i \\) and output voltage \\( V_o \\). This type of graph is essential for understanding the behavior of a Class B amplifier, particularly concerning crossover distortion."
},
{
    "text": "The transfer characteristic depicted in Fig. 5.11 corresponds to the circuit of Fig. 5.10. When the input voltage \\( V_i \\) is zero, the output voltage \\( V_o \\) is also zero, and both devices are non-conducting with a base-emitter voltage \\( V_{be} \\) of zero. As \\( V_i \\) becomes positive, the base-emitter voltage of transistor \\( Q_1 \\) rises until it reaches \\( V_{BE(\\text{on})} \\), at which point \\( Q_1 \\) begins to conduct significant current. Despite this, \\( V_o \\) remains near zero, but any further increase in \\( V_i \\) will lead to a proportional increase in \\( V_o \\) since \\( Q_1 \\) behaves as an emitter follower. When \\( V_i \\) is positive, \\( Q_2 \\) is off and has a reverse bias of \\( V_{BE(\\text{on})} \\) across its base-emitter junction. If \\( V_i \\) continues to increase, \\( Q_1 \\) will eventually saturate at \\( V_i = V_{CC} + V_{be1} - V_{CE1(\\text{sat})} \\), and the characteristic curve levels off, similar to a conventional emitter follower.\n\nAs \\( V_i \\) becomes negative from zero, a comparable characteristic is observed, except now \\( Q_2 \\) acts as an emitter follower for \\( V_i \\) values more negative than \\( -V_{BE(\\text{on})} \\). In this range, \\( Q_1 \\) remains off with a reverse bias of \\( V_{BE(\\text{on})} \\) across its base-emitter junction.\n\nThe graph in Fig. 5.11 shows the transfer characteristic of a Class B output stage, mapping input voltage \\( V_i \\) to output voltage \\( V_o \\). The horizontal axis represents \\( V_i \\), and the vertical axis represents \\( V_o \\), both typically in volts.\n\n1. **Axes Labels and Units:**\n   - The horizontal axis represents \\( V_i \\), usually in volts.\n   - The vertical axis represents \\( V_o \\), also in volts.\n\n2. **Overall Behavior and Trends:**\n   - The graph shows a linear region centered around \\( V_i = 0 \\) with a slope of approximately 1 between two saturation points.\n   - There is a distinct deadband or notch around \\( V_i = 0 \\), which is typical in Class B amplifiers due to the need to overcome the base-emitter voltage \\( V_{BE} \\).\n   - The characteristic is symmetrical around the origin, indicating similar behavior for positive and negative inputs.\n\n3. **Key Features and Technical Details:**\n   - The graph features two saturation regions:\n     - For positive \\( V_i \\), \\( Q_1 \\) saturates, and \\( V_o \\) reaches a maximum of \\( V_{CC} - V_{CE1(\\text{sat})} \\).\n     - For negative \\( V_i \\), \\( Q_2 \\) saturates, and \\( V_o \\) reaches a minimum of \\( -V_{CC} + V_{BE2} - V_{CE2(\\text{sat})} \\).\n   - The linear region has two notable points:\n     - When \\( V_i = V_{BE(\\text{on})} \\), \\( Q_1 \\) turns on, and \\( Q_2 \\) turns off.\n     - When \\( V_i = -V_{BE(\\text{on})} \\), \\( Q_1 \\) turns off, and \\( Q_2 \\) turns on.\n   - The slopes in the linear regions are approximately 1, indicating unity gain in these regions.\n\n4. **Annotations and Specific Data Points:**\n   - The graph is annotated with specific conditions for \\( Q_1 \\) and \\( Q_2 \\) (on/off states) and saturation points.\n   - Key voltage levels such as \\( V_{BE(\\text{on})} \\), \\( V_{CC} \\), \\( V_{CE1(\\text{sat})} \\), and \\( V_{CE2(\\text{sat})} \\) are marked.\n\nThe graph in Fig. 5.12 illustrates the output waveforms for different amplitude input signals applied to a Class B amplifier circuit. It is a time-domain waveform graph showing how \\( V_o \\) responds to various \\( V_i \\) over time.\n\nAxes Labels and Units:\n   - The bottom horizontal axis represents \\( V_i \\).\n   - The top horizontal axis represents time \\( t \\).\n   - The vertical axis represents \\( V_o \\), with voltage likely in volts and time in arbitrary units.\n\nOverall Behavior and Trends:\n   - The graph shows three waveforms labeled as ①, ②, and ③, representing different input signal amplitudes.\n   - Waveform ① shows a small input signal with minimal output response due to the deadband around zero input.\n   - Waveform ② displays a medium input signal with some output distortion as it enters the linear region beyond the deadband.\n   - Waveform ③ represents a large input signal where the output reaches saturation levels at \\( V_{CC} - V_{CE(\\text{sat})} \\) and \\( -V_{CC} + V_{CE(\\text{sat})} \\).\n\nKey Features and Technical Details:\n   - The deadband region around zero input voltage is characterized by \\( 2V_{BE(\\text{on})} \\), causing crossover distortion, particularly visible in waveforms ① and ②.\n   - As the input signal increases, the output waveform transitions from a distorted response to a more linear behavior, reaching saturation at higher input levels.\n   - The saturation levels are marked at \\( V_{CC} - V_{CE(\\text{sat})} \\) for positive saturation and \\( -V_{CC} + V_{CE(\\text{sat})} \\) for negative saturation.\n\nAnnotations and Specific Data Points:\n   - Horizontal lines indicate key voltage levels such as \\( V_{CC} - V_{CE(\\text{sat})} \\) and \\( -V_{CC} + V_{CE(\\text{sat})} \\).\n   - The deadband is clearly marked, highlighting a significant feature of the Class B output stage contributing to crossover distortion.\n\nThe characteristic of Fig. 5.11 exhibits a deadband of \\( 2V_{BE(\\text{on})} \\) around \\( V_i = 0 \\), a common feature in Class B output stages that leads to crossover distortion. This distortion is illustrated in Fig. 5.12, which shows output waveforms for various amplitude input signals applied to the circuit. The distortion is pronounced for small input signals slightly larger than \\( V_{BE(\\text{on})} \\). As the input signal amplitude increases, the impact of the deadband relative to the signal decreases, and the distortion lessens. However, for very large signals, \\( Q_1 \\) and \\( Q_2 \\) saturate, causing distortion to rise sharply due to clipping. This behavior is typical of Class B output stages, and distortion figures are often provided for both low and high output power operation.\n\nCrossover distortion can be mitigated by employing Class AB operation. In this mode, the active devices are biased to conduct a small quiescent current when \\( V_i = 0 \\). This biasing is achieved as shown in Fig. 5.13, where the current source \\( I_Q \\) forces bias current through diodes \\( Q_3 \\) and \\( Q_4 \\). Since these diodes are in parallel with the base-emitter junctions of \\( Q_1 \\) and \\( Q_2 \\), the output transistors are biased on with a current dependent on the area ratios of \\( Q_1 \\), \\( Q_2 \\), \\( Q_3 \\), and \\( Q_4 \\). A typical transfer characteristic for this circuit is shown in Fig. 5.14, where the deadband is effectively removed. The remaining nonlinearities due to crossover conduction between \\( Q_1 \\) and \\( Q_2 \\) can be reduced using negative feedback, as described in Chapter 8.\n\nThe operation of the circuit in Fig. 5.13 is similar to that of Fig. 5.11. As \\( V_i \\) becomes negative from its quiescent value, \\( Q_2 \\) forces \\( V_o \\) to follow. The load current flows through \\( Q_2 \\), causing its base-emitter voltage to increase slightly. Since the diodes maintain a constant total bias voltage across the base-emitter junctions of \\( Q_1 \\) and \\( Q_2 \\), the base-emitter voltage of \\( Q_1 \\) decreases by the same amount that \\( Q_2 \\)'s increases. Thus, during negative output voltage excursions, \\( Q_1 \\) stays on but conducts little current and does not contribute to delivering output power. For positive \\( V_i \\), the opposite occurs, and \\( Q_1 \\) acts as the emitter follower, delivering current to \\( R_L \\) with \\( Q_2 \\) conducting only a small current. In this case, the current source \\( I_Q \\) supplies the base current drive to \\( Q_1 \\).\n\nIn deriving the characteristics of Figures 5.11 and 5.14, it was assumed that the input voltage \\( V_i \\) could be any magnitude. In the characteristic of Fig. 5.11, the magnitude of \\( V_i \\) required to cause saturation of \\( Q_1 \\) or \\( Q_2 \\) exceeds the supply voltage \\( V_{CC} \\). However, as with a single emitter follower, practical driver stages typically cannot produce \\( V_i \\) values exceeding \\( V_{CC} \\) if they are connected to the same supply voltages as the output stage. For example, the current source \\( I_Q \\) in Fig. 5.13 is usually realized with a pnp transistor, and thus the voltage at the base of \\( Q_1 \\) cannot exceed \\( V_{CC} - V_{CE(\\text{sat})} \\), at which point saturation of the current-source transistor occurs. Consequently, the positive and negative limits of \\( V_o \\) where clipping occurs are generally slightly less than shown in Figures 5.11 and 5.14, and the limitation usually arises in the driver stage. This aspect will be explored further when practical output stages are considered in later sections."
},
{
    "text": "The transfer characteristic of the circuit depicted in Fig. 5.10 is depicted in Fig. 5.11. When the input voltage $V_{i}$ is zero, the output voltage $V_{o}$ is also zero, and both devices are turned off with a base-emitter voltage of $V_{b e}=0$. As $V_{i}$ becomes positive, the base-emitter voltage of $Q_{1}$ increases until it reaches the threshold $V_{B E(\\mathrm{on})}$, at which point $Q_{1}$ begins to conduct appreciable current. At this stage, $V_{o}$ remains approximately zero, but further increases in $V_{i}$ lead to corresponding increases in $V_{o}$, as $Q_{1}$ acts as an emitter follower. When $V_{i}>0$, $Q_{2}$ is off, with a reverse bias of $V_{B E(\\text { on })}$ across its base-emitter junction. As $V_{i}$ becomes more positive, $Q_{1}$ eventually saturates at $V_{i}=V_{C C}+V_{b e 1}-V_{C E 1(\\text { sat })}$, causing the characteristic to level off, similar to the conventional emitter follower discussed earlier.\n\nWhen $V_{i}$ is taken negative from $V_{i}=0$, a similar characteristic is observed, except that $Q_{2}$ now acts as an emitter follower for $V_{i}$ more negative than $-V_{B E(\\mathrm{on})}$. In this region, $Q_{1}$ remains off, with a reverse bias of $V_{B E(\\text { on })}$ across its base-emitter junction.\n\nThe graph in Fig. 5.11 is a transfer characteristic plot for a Class B output stage. It maps the input voltage ($V_i$) on the horizontal axis to the output voltage ($V_o$) on the vertical axis. The horizontal axis represents the input voltage ($V_i$), and the vertical axis represents the output voltage ($V_o$), both typically in volts.\n\nThe graph shows a linear region with a slope of approximately 1 between two saturation points, centered around $V_i = 0$. There is a noticeable deadband or notch around $V_i = 0$, common in Class B amplifiers due to the need to overcome the base-emitter voltage ($V_{BE}$) of the transistors. The characteristic is symmetrical about the origin, indicating similar behavior for positive and negative inputs.\n\nThe graph has two distinct saturation regions:\n- For positive $V_i$, $Q_1$ saturates, and the output voltage reaches a maximum of $V_{CC} - V_{CE1(sat)}$.\n- For negative $V_i$, $Q_2$ saturates, and the output voltage reaches a minimum of $-V_{CC} + V_{BE2} - V_{CE2(sat)}$.\nThe linear region has two points of interest:\n- When $V_i = V_{BE(on)}$, $Q_1$ turns on, and $Q_2$ turns off.\n- When $V_i = -V_{BE(on)}$, $Q_1$ turns off, and $Q_2$ turns on.\nThe slopes in the linear regions are approximately 1, indicating unity gain in these regions.\n\nThe graph is annotated with specific conditions for $Q_1$ and $Q_2$ (on/off states) and saturation points. Important voltage levels are marked, such as $V_{BE(on)}$, $V_{CC}$, $V_{CE1(sat)}$, and $V_{CE2(sat)}$.\n\nOverall, this graph illustrates the behavior of a Class B output stage, highlighting the deadband around zero input and the linear response outside this region, leading to saturation at extreme input values.\n\nThe characteristic of Fig. 5.11 shows a notch (or deadband) of $2 V_{B E(\\text { on })}$ in $V_{i}$ centered around $V_{i}=0$. This deadband is common in Class B output stages and gives rise to crossover distortion, which is illustrated in Fig. 5.12, where the output waveforms from the circuit are shown for various amplitude input sinusoidal signals. In this circuit, the distortion is high for small input signals with amplitudes somewhat larger than $V_{B E(\\text { on })}$. The effect of this source of distortion diminishes as the input signal becomes larger and the deadband represents a smaller fraction of the signal amplitude. Eventually, for very large signals, saturation of $Q_{1}$ and $Q_{2}$ occurs, and distortion rises sharply again due to clipping. This behavior is characteristic of Class B output stages and is why distortion figures are often quoted for both low and high output power operation.\n\nCrossover distortion can be reduced by using Class $A B$ operation of the circuit. In this scheme, the active devices are biased so that each conducts a small quiescent current for $V_{i}=0$. Such biasing can be achieved as shown in Fig. 5.13, where the current source $I_{Q}$ forces bias current in diodes $Q_{3}$ and $Q_{4}$. Since the diodes are connected in parallel with the base-emitter junctions of $Q_{1}$ and $Q_{2}$, the output transistors are biased on with a current that is dependent on the area ratios of $Q_{1}, Q_{2}, Q_{3}$, and $Q_{4}$. A typical transfer characteristic for this circuit is shown in Fig. 5.14, and the deadband has been effectively eliminated. The remaining nonlinearities due to crossover in conduction from $Q_{1}$ to $Q_{2}$ can be reduced by using negative feedback, as described in Chapter 8.\n\nThe operation of the circuit in Fig. 5.13 is quite similar to that of Fig. 5.11. As $V_{i}$ is taken negative from its quiescent value, emitter follower $Q_{2}$ forces $V_{o}$ to follow. The load current flows through $Q_{2}$, whose base-emitter voltage will increase slightly. Since the diodes maintain a constant total bias voltage across the base-emitter junctions of $Q_{1}$ and $Q_{2}$, the base-emitter voltage of $Q_{1}$ will decrease by the same amount that $Q_{2}$ increased. Thus during the negative output voltage excursion, $Q_{1}$ stays on but conducts little current and plays no part in delivering output power. For $V_{i}$ taken positive, the opposite occurs, and $Q_{1}$ acts as the emitter follower delivering current to $R_{L}$ with $Q_{2}$ conducting only a very small current. In this case, the current source $I_{Q}$ supplies the base-current drive to $Q_{1}$.\n\nIn the derivation of the characteristics of Figures 5.11 and 5.14, we assumed that the magnitude of the input voltage $V_{i}$ was unlimited. In the characteristic of Fig. 5.11, the magnitude of $V_{i}$ required to cause saturation of $Q_{1}$ or $Q_{2}$ exceeds the supply voltage $V_{C C}$. However, as in the case of the single emitter follower described earlier, practical driver stages generally cannot produce values of $V_{i}$ exceeding $V_{C C}$ if they are connected to the same supply voltages as the output stage. For example, the current source $I_{Q}$ in Fig. 5.13 is usually realized with a pnp transistor and thus the voltage at the base of $Q_{1}$ cannot exceed $\\left(V_{C C}-V_{C E(\\mathrm{sat})}\\right)$, at which point saturation of the current-source transistor occurs. Consequently, the positive and negative limits of $V_{o}$ where clipping occurs are generally somewhat less than shown in Fig. 5.11 and Fig. 5.14, and the limitation usually occurs in the driver stage. This point will be investigated further when practical output stages are considered in later sections."
},
{
    "text": "The characteristics of the circuit depicted in Fig. 5.10 are illustrated in Fig. 5.11. When the input voltage $V_{i}$ is zero, the output voltage $V_{o}$ is also zero, and both devices are inactive with a base-emitter voltage of $V_{b e}=0$. As $V_{i}$ becomes positive, the base-emitter voltage of transistor $Q_{1}$ increases until it reaches the threshold $V_{B E(\\mathrm{on})}$, at which point $Q_{1}$ begins to conduct significant current. At this stage, $V_{o}$ remains close to zero, but any further increase in $V_{i}$ will be mirrored by a similar rise in $V_{o}$, since $Q_{1}$ behaves like an emitter follower. When $V_{i}$ is positive, $Q_{2}$ is off, sustaining a reverse bias of $V_{B E(\\text { on })}$ across its base-emitter junction. As $V_{i}$ continues to increase, $Q_{1}$ eventually reaches saturation (at $V_{i}=V_{C C}+V_{b e 1}-V_{C E 1(\\text { sat })}$), and the characteristic flattens out, similar to the conventional emitter follower.\n\nWhen $V_{i}$ is negative, a comparable characteristic is observed, except that $Q_{2}$ now acts as an emitter follower for $V_{i}$ more negative than $-V_{B E(\\mathrm{on})}$. In this region, $Q_{1}$ is turned off with a reverse bias of $V_{B E(\\text { on })}$ across its base-emitter junction.\n\nThe graph in Figure 5.11 is a transfer characteristic plot for a Class B output stage, showing the relationship between the input voltage ($V_i$) and the output voltage ($V_o$).\n\n1. **Axes Labels and Units:**\n   - The horizontal axis represents the input voltage ($V_i$), typically in volts.\n   - The vertical axis represents the output voltage ($V_o$), also in volts.\n\n2. **Overall Behavior and Trends:**\n   - The graph exhibits a linear region with a slope of approximately 1 between two saturation points, centered around $V_i = 0$.\n   - A deadband or notch is noticeable around $V_i = 0$, a typical feature of Class B amplifiers due to the need to overcome the base-emitter voltage ($V_{BE}$) of the transistors.\n   - The characteristic is symmetrical about the origin, reflecting similar behavior for positive and negative inputs.\n\n3. **Key Features and Technical Details:**\n   - The graph features two distinct saturation regions:\n     - For positive $V_i$, $Q_1$ saturates, and the output voltage reaches a maximum of $V_{CC} - V_{CE1(sat)}$.\n     - For negative $V_i$, $Q_2$ saturates, and the output voltage reaches a minimum of $-V_{CC} + V_{BE2} - V_{CE2(sat)}$.\n   - The linear region has two points of interest:\n     - When $V_i = V_{BE(on)}$, $Q_1$ turns on, and $Q_2$ turns off.\n     - When $V_i = -V_{BE(on)}$, $Q_1$ turns off, and $Q_2$ turns on.\n   - The slopes in the linear regions are approximately 1, indicating unity gain in these regions.\n\n4. **Annotations and Specific Data Points:**\n   - The graph is annotated with specific conditions for $Q_1$ and $Q_2$ (on/off states) and saturation points.\n   - Important voltage levels are marked, such as $V_{BE(on)}$, $V_{CC}$, $V_{CE1(sat)}$, and $V_{CE2(sat)}$.\n\nThe transfer characteristic depicted in Figure 5.11 highlights the behavior of a Class B output stage, emphasizing the deadband around zero input and the linear response outside this region, culminating in saturation at extreme input values.\n\nFigure 5.11 Transfer characteristic of the Class B output stage of Fig. 5.10.\n\nThe characteristic shown in Figure 5.11 features a deadband of $2 V_{B E(\\text { on })}$ in $V_{i}$ centered around $V_{i}=0$. This deadband is typical in Class B output stages and is the source of crossover distortion, as depicted in Figure 5.12, which shows the output waveforms from the circuit for various amplitude input sinusoidal signals. In this circuit, distortion is pronounced for small input signals with amplitudes slightly larger than $V_{B E(\\text { on })}$. The impact of this distortion decreases as the input signal increases, and the deadband represents a smaller fraction of the signal amplitude. Eventually, for very large signals, $Q_{1}$ and $Q_{2}$ saturate, and distortion increases sharply again due to clipping. This behavior is characteristic of Class B output stages, explaining why distortion figures are often provided for both low and high output power operation.\n\nThe crossover distortion described can be mitigated by employing Class $A B$ operation of the circuit. In this configuration, the active devices are biased such that each conducts a small quiescent current for $V_{i}=0$. This biasing can be achieved as shown in Figure 5.13, where the current source $I_{Q}$ forces bias current through diodes $Q_{3}$ and $Q_{4}$. Since the diodes are connected in parallel with the base-emitter junctions of $Q_{1}$ and $Q_{2}$, the output transistors are biased on with a current that depends on the area ratios of $Q_{1}, Q_{2}, Q_{3}$, and $Q_{4}$. A typical transfer characteristic for this circuit is shown in Figure 5.14, where the deadband has been effectively eliminated. The remaining nonlinearities due to crossover in conduction from $Q_{1}$ to $Q_{2}$ can be reduced by using negative feedback, as discussed in Chapter 8.\n\nThe operation of the circuit in Figure 5.13 is similar to that of Figure 5.11. As $V_{i}$ becomes negative from its quiescent value, emitter follower $Q_{2}$ forces $V_{o}$ to follow. The load current flows through $Q_{2}$, causing its base-emitter voltage to increase slightly. Since the diodes maintain a constant total bias voltage across the base-emitter junctions of $Q_{1}$ and $Q_{2}$, the base-emitter voltage of $Q_{1}$ decreases by the same amount that $Q_{2}$ increased. Thus, during the negative output voltage swing, $Q_{1}$ stays on but conducts minimal current and plays no part in delivering output power. For $V_{i}$ positive, the opposite occurs, and $Q_{1}$ acts as the emitter follower, delivering current to $R_{L}$ with $Q_{2}$ conducting only a very small current. In this case, the current source $I_{Q}$ provides the base-current drive to $Q_{1}$.\n\nIn deriving the characteristics of Figures 5.11 and 5.14, we assumed that the input voltage $V_{i}$ was unlimited. In the characteristic of Fig. 5.11, the voltage required to saturate $Q_{1}$ or $Q_{2}$ exceeds the supply voltage $V_{C C}$. However, as in the case of the single emitter follower described earlier, practical driver stages generally cannot produce values of $V_{i}$ exceeding $V_{C C}$ if they are connected to the same supply voltages as the output stage. For instance, the current source $I_{Q}$ in Fig. 5.13 is usually realized with a pnp transistor, and thus the voltage at the base of $Q_{1}$ cannot exceed $\\left(V_{C C}-V_{C E(\\mathrm{sat})}\\right)$, at which point saturation of the current-source transistor occurs. Consequently, the positive and negative limits of $V_{o}$ where clipping occurs are generally somewhat less than shown in Figs. 5.11 and 5.14, and the limitation usually arises in the driver stage. This point will be investigated further when practical output stages are considered in later sections."
},
{
    "text": "The transfer characteristic depicted in Figure 5.11 corresponds to the circuit shown in Figure 5.10. When the input voltage $V_{i}$ is zero, the output voltage $V_{o}$ is also zero, and both devices are non-conducting with a base-emitter voltage of $V_{b e}=0$. As $V_{i}$ becomes positive, the base-emitter voltage of $Q_{1}$ increases until it reaches the threshold $V_{B E(\\mathrm{on})}$, at which point significant current begins to flow through $Q_{1}$. At this stage, $V_{o}$ remains close to zero; however, further increases in $V_{i}$ lead to proportional increases in $V_{o}$ due to $Q_{1}$ acting as an emitter follower. When $V_{i}>0$, $Q_{2}$ is non-conducting, with a reverse bias of $V_{B E(\\text { on })}$ across its base-emitter junction. As $V_{i}$ increases, $Q_{1}$ eventually reaches saturation (at $V_{i}=V_{C C}+V_{b e 1}-V_{C E 1(\\text { sat })}$), and the characteristic flattens out, resembling the conventional emitter follower discussed earlier.\n\nWhen $V_{i}$ becomes negative from $V_{i}=0$, a similar characteristic is observed, with the distinction that $Q_{2}$ now acts as an emitter follower for $V_{i}$ more negative than $-V_{B E(\\mathrm{on})}$. In this range, $Q_{1}$ remains non-conducting, with a reverse bias of $V_{B E(\\text { on })}$ across its base-emitter junction.\n\nFigure 5.11 presents the transfer characteristic of the Class B output stage from Figure 5.10. The graph plots the input voltage ($V_i$) against the output voltage ($V_o$), illustrating the amplifier's response to various input levels.\n\nKey features of the graph include:\n- A linear region with a slope of approximately 1 between saturation points, centered around $V_i = 0$.\n- A deadband or notch around $V_i = 0$, typical of Class B amplifiers due to the need to surpass the base-emitter voltage ($V_{BE}$) of the transistors.\n- Symmetry about the origin, indicating consistent behavior for both positive and negative inputs.\n\nThe graph highlights the saturation regions:\n- For positive $V_i$, $Q_1$ saturates, and the output voltage peaks at $V_{CC} - V_{CE1(sat)}$.\n- For negative $V_i$, $Q_2$ saturates, and the output voltage dips to $-V_{CC} + V_{BE2} - V_{CE2(sat)}$.\n\nThe linear region's points of interest:\n- At $V_i = V_{BE(on)}$, $Q_1$ activates, and $Q_2$ deactivates.\n- At $V_i = -V_{BE(on)}$, $Q_1$ deactivates, and $Q_2$ activates.\n\nThe graph is annotated with specific conditions for $Q_1$ and $Q_2$ (on/off states) and saturation points, with marked voltage levels such as $V_{BE(on)}$, $V_{CC}$, $V_{CE1(sat)}$, and $V_{CE2(sat)}$.\n\nThis transfer characteristic is vital for analyzing the Class B amplifier's performance, particularly in understanding crossover distortion and the linear response outside the deadband region.\n\nFigure 5.12 displays output waveforms for different amplitude input signals applied to the Class B circuit of Figure 5.10. The graph presents a time-domain waveform, illustrating how the output voltage $V_o$ responds to input voltages $V_i$ over time.\n\nKey features include:\n- Three waveforms labeled ①, ②, and ③, representing different input signal amplitudes.\n- Waveform ① shows a small input signal with minimal output response due to the deadband around zero input.\n- Waveform ② displays a medium input signal with some output distortion as it enters the linear region beyond the deadband.\n- Waveform ③ represents a large input signal, where the output reaches saturation levels at $V_{CC} - V_{CE(sat)}$ and $-V_{CC} + V_{CE(sat)}$.\n\nThe deadband region around zero input voltage, characterized by $2V_{BE(on)}$, causes crossover distortion, particularly noticeable in waveforms ① and ②. As the input signal increases, the output waveform transitions from distorted to more linear, reaching saturation at higher input levels. The saturation levels are marked at $V_{CC} - V_{CE(sat)}$ for positive saturation and $-V_{CC} + V_{CE(sat)}$ for negative saturation.\n\nThe graph effectively demonstrates the Class B amplifier's behavior, showcasing the transition from distortion within the deadband to saturation at higher input levels, providing insight into typical performance characteristics.\n\nFigure 5.13 shows a Class AB output stage designed to reduce crossover distortion using diodes. Q1 and Q2 form a complementary push-pull pair to drive the load RL, while the diodes Q3 and Q4 provide biasing to minimize distortion.\n\nFigure 5.14 presents the transfer characteristic graph of the Class AB output stage circuit depicted in Figure 5.13. It illustrates the relationship between the input voltage $V_i$ and the output voltage $V_o$, typically a piecewise linear plot showing the output voltage's response to the input.\n\nKey features include:\n- A linear region with a slope approximately equal to 1, indicating linear amplification over a certain range.\n- Two distinct regions where the circuit's behavior changes, corresponding to the conduction shift between transistors.\n\nThe graph has two horizontal asymptotes representing saturation limits of the output voltage:\n- The upper asymptote is labeled $V_{CC} - V_{CE1} (\\text{sat})$.\n- The lower asymptote is labeled $-V_{CC} + |V_{CE2} (\\text{sat})|$.\n\nThe linear region intersects the vertical axis at the origin, with a slope of approximately 1, indicating linear amplification. A marked point on the horizontal axis is labeled $-V_{BE2}$, indicating the transition point where the behavior shifts from one transistor conducting to the other.\n\nThis graph effectively illustrates how the Class AB amplifier minimizes crossover distortion by maintaining linear amplification across a wide range of input voltages, with specific regions dedicated to each transistor's conduction.\n\nIn the circuit operation of Figure 5.13, as $V_{i}$ becomes negative from its quiescent value, emitter follower $Q_{2}$ forces $V_{o}$ to follow. The load current flows through $Q_{2}$, causing its base-emitter voltage to increase slightly. Since the diodes maintain a constant total bias voltage across the base-emitter junctions of $Q_{1}$ and $Q_{2}$, the base-emitter voltage of $Q_{1}$ decreases by the same amount that $Q_{2}$ increases. Thus, during the negative output voltage swing, $Q_{1}$ stays on but conducts minimal current and plays no part in delivering output power. For $V_{i}$ taken positive, the opposite occurs, and $Q_{1}$ acts as the emitter follower, delivering current to $R_{L}$ with $Q_{2}$ conducting only a very small current. In this case, the current source $I_{Q}$ supplies the base-current drive to $Q_{1}$.\n\nIn deriving the characteristics of Figures 5.11 and 5.14, we assumed that the input voltage $V_{i}$ was unlimited. In the characteristic of Figure 5.11, the magnitude of $V_{i}$ required to cause saturation of $Q_{1}$ or $Q_{2}$ exceeds the supply voltage $V_{C C}$. However, as in the case of the single emitter follower described earlier, practical driver stages generally cannot produce values of $V_{i}$ exceeding $V_{C C}$ if they are connected to the same supply voltages as the output stage. For example, the current source $I_{Q}$ in Figure 5.13 is usually realized with a pnp transistor, and thus the voltage at the base of $Q_{1}$ cannot exceed $\\left(V_{C C}-V_{C E(\\mathrm{sat})}\\right)$, at which point saturation of the current-source transistor occurs. Consequently, the positive and negative limits of $V_{o}$ where clipping occurs are generally somewhat less than shown in Figures 5.11 and 5.14, and the limitation usually occurs in the driver stage. This point will be investigated further when practical output stages are considered in later sections."
},
{
    "text": "To gain a deeper understanding of a Class B amplifier stage's operation, it is instructive to analyze the collector current waveforms in the two transistors, as depicted in Fig. 5.15, disregarding any crossover distortion. Observations reveal that each transistor conducts current to \\( R_L \\) for only half of the signal cycle.\n\nThe graph labeled (a) presents a time-domain waveform of the input voltage \\( V_i \\) for a Class B output stage. This waveform is sinusoidal, plotted against time \\( t \\), and illustrates one complete cycle over the period \\( T \\). The vertical axis denotes the input voltage \\( V_i \\), while the horizontal axis represents time \\( t \\). The waveform exhibits a periodic sinusoidal shape with no specific units provided for the axes.\n\nThe graph labeled (b) displays the output voltage waveform \\( V_o \\) of a Class B output stage over time. It too is a time-domain waveform showing the sinusoidal behavior of the output voltage in response to the input signal. The horizontal axis marks time \\( t \\) with a period \\( T \\), and the vertical axis represents the output voltage \\( V_o \\), typically measured in volts. The waveform is sinusoidal, completing one full cycle over \\( T \\), exhibiting symmetry with the positive and negative halves being mirror images.\n\nThe graph labeled (c) shows the collector current waveform for transistor \\( Q_1 \\) in a Class B output stage. It is a time-domain waveform depicting the collector current \\( I_{c1} \\). The horizontal axis represents time \\( t \\) with a period \\( T \\) for one full cycle, and the vertical axis represents the collector current \\( I_{c1} \\). The waveform is half-sinusoidal, indicating that \\( Q_1 \\) conducts current for half of the cycle, starting at zero, peaking, and returning to zero.\n\nThe graph labeled (d) represents the collector current waveform for transistor \\( Q_2 \\) in a Class B output stage. It is a time-domain waveform illustrating the collector current \\( I_{c2} \\) over one complete cycle of the input signal. The horizontal axis marks time \\( t \\) with a period \\( T \\), and the vertical axis represents the collector current \\( I_{c2} \\). The waveform is half-sinusoidal, indicating that \\( I_{c2} \\) conducts for half of the input signal cycle, with the current being negative during its conducting period.\n\nThese waveforms are indicative of the typical operation of a Class B amplifier where each transistor conducts for half of the cycle, resulting in a full sinusoidal output when their contributions are combined. The collector current waveforms also represent the current drawn from the power supplies. Assuming half-sinusoidal waveforms, the average current drawn from the \\( +V_{CC} \\) supply can be calculated, and it is observed that the average power drawn from the supplies varies with the signal level for a Class B stage.\n\nThe efficiency of a Class B stage is independent of \\( R_L \\) but increases linearly with the output voltage amplitude \\( \\hat{V}_o \\). The maximum efficiency achievable, especially when \\( V_{CE(sat)} \\) is small compared to \\( V_{CC} \\), can be much higher than that of Class A circuits. The advantages of Class B and Class AB output stages, including high efficiency and low standby power dissipation, account for their widespread use.\n\nThe load line for one device in a Class B stage, as shown in Fig. 5.16, helps in understanding the power delivered to \\( R_L \\) and the power dissipated in the device. The load line has a slope of \\( -\\frac{1}{R_L} \\) and intersects the axes at \\( V_{CC} \\) and \\( \\frac{V_{CC}}{R_L} \\), respectively. The diagram indicates the region of operation for the device and provides insights into the efficiency and performance of the Class B amplifier stage.\n\nThe instantaneous power dissipated in one device is given by \\( P_c = V_{ce} I_c \\), and the load line analysis helps in visualizing the average power delivered to \\( R_L \\) as the area of the triangle between the \\( V_{ce} \\) axis and the portion of the load line traversed by the operating point.\n\nThe instantaneous device power dissipation as a function of time is shown in Fig. 5.17, where the collector current, collector-emitter voltage, and their product are displayed for one device in a Class B stage at maximum output. The power dissipation waveform reflects the behavior of a Class B amplifier, with power being dissipated only during the conduction phase, leading to a waveform with twice the frequency of the input signal.\n\nThis analysis provides a comprehensive understanding of the operation, efficiency, and power dissipation characteristics of a Class B amplifier stage."
},
{
    "text": "A more in-depth understanding of a Class B amplifier's operation can be achieved by examining the collector current waveforms of the two transistors, as illustrated in Fig. 5.15, where crossover distortion is not considered. It is observed that each transistor conducts current to \\( R_{L} \\) for only half of the cycle.\n\nThe graph labeled (a) presents a time-domain waveform depicting the input voltage \\( V_i \\) for a Class B output stage. This waveform is sinusoidal, plotted against time \\( t \\), showing one complete cycle over the period \\( T \\). The vertical axis represents the input voltage \\( V_i \\), while the horizontal axis represents time \\( t \\). The units for the axes are not specified, but the waveform is periodic with a regular sinusoidal shape.\n\nThe graph labeled (b) displays the output voltage waveform \\( V_o \\) of a Class B output stage over time. This time-domain waveform illustrates the output voltage's behavior in response to the input signal. The horizontal axis represents time \\( t \\), marked with a period \\( T \\) indicating the duration of one complete cycle. The vertical axis represents the output voltage \\( V_o \\), with units typically in volts.\n\nThe graph labeled (c) shows the collector current waveform for transistor \\( Q_{1} \\) in a Class B output stage. This time-domain waveform represents the collector current \\( I_{c1} \\) of transistor \\( Q_{1} \\). The horizontal axis represents time \\( t \\), marked with a period \\( T \\) indicating one full cycle. The vertical axis represents the collector current \\( I_{c1} \\).\n\nThe graph labeled (d) represents the collector current waveform for transistor \\( Q_2 \\) in a Class B output stage. This time-domain waveform depicts how the current \\( I_{c2} \\) varies over one complete cycle of the input signal. The horizontal axis represents time \\( t \\), with a period \\( T \\) indicated for one full cycle. The vertical axis represents the collector current \\( I_{c2} \\).\n\nThe collector current waveforms of Fig. 5.15 also represent the waveforms of the current drawn from the two supplies. Assuming the waveforms are half-sinusoids, the average current drawn from the \\( +V_{CC} \\) supply is given by the equation:\n\n\\[ I_{\\text {supply }}=\\frac{1}{T} \\int_{0}^{T} I_{c 1}(t) d t=\\frac{1}{T} \\int_{0}^{T / 2} \\frac{\\hat{V}_{o}}{R_{L}} \\sin \\left(\\frac{2 \\pi t}{T}\\right) d t=\\frac{1}{\\pi} \\frac{\\hat{V}_{o}}{R_{L}}=\\frac{1}{\\pi} \\hat{I}_{o} \\]\n\nwhere \\( T \\) is the period of the input signal, and \\( \\hat{V}_{o} \\) and \\( \\hat{I}_{o} \\) are the zero-to-peak amplitudes of the output sinusoidal voltage and current, respectively. Since each supply delivers the same current magnitude, the total average power drawn from the two supplies is:\n\n\\[ P_{\\text {supply }}=2 V_{CC} I_{\\text {supply }}=\\frac{2}{\\pi} \\frac{V_{CC}}{R_{L}} \\hat{V}_{o} \\]\n\nIn contrast to Class A amplifiers, the average power drawn from the supplies in a Class B stage varies with the signal level and is directly proportional to \\( \\hat{V}_{o} \\).\n\nThe average power delivered to \\( R_{L} \\) is given by:\n\n\\[ P_{L}=\\frac{1}{2} \\frac{\\hat{V}_{o}^{2}}{R_{L}} \\]\n\nFrom the definition of circuit efficiency in (5.13), the efficiency \\( \\eta_{C} \\) for a Class B stage is:\n\n\\[ \\eta_{C}=\\frac{P_{L}}{P_{\\text {supply }}}=\\frac{\\pi}{4} \\frac{\\hat{V}_{o}}{V_{CC}} \\]\n\nThis equation shows that the efficiency of a Class B stage is independent of \\( R_{L} \\) but increases linearly as the output voltage amplitude \\( \\hat{V}_{o} \\) increases.\n\nThe maximum value that \\( \\hat{V}_{o} \\) can attain before clipping occurs, as shown in Fig. 5.14, is \\( \\hat{V}_{o m}=\\left(V_{CC}-V_{CE(\\text { sat })}\\right) \\). Thus, the maximum average signal power that can be delivered to \\( R_{L} \\) for sinusoidal signals can be calculated as:\n\n\\[ \\left.P_{L}\\right|_{\\max }=\\frac{1}{2} \\frac{\\left[V_{CC}-V_{CE(\\mathrm{sat})}\\right]^{2}}{R_{L}} \\]\n\nFrom (5.69), the corresponding maximum efficiency is:\n\n\\[ \\eta_{\\max }=\\frac{\\pi}{4}\\left(\\frac{V_{CC}-V_{CE(\\mathrm{sat})}}{V_{CC}}\\right) \\]\n\nIf \\( V_{CE(\\text { sat })} \\) is small compared with \\( V_{CC} \\), the circuit has a maximum efficiency of 0.786 or 78.6 percent. This maximum efficiency is much higher than the 25 percent achieved in Class A circuits. Additionally, the standby power dissipation is essentially zero in the Class B circuit. These advantages explain the widespread use of Class B and Class AB output stages.\n\nThe load line for one device in a Class B stage is shown in Fig. 5.16. For values of \\( V_{ce} \\) less than the quiescent value (which is \\( V_{CC} \\)), the load line has a slope of \\( \\left(-1 / R_{L}\\right) \\). For values of \\( V_{ce} \\) greater than \\( V_{CC} \\), the load line lies along the \\( V_{ce} \\) axis because the device under consideration turns off and the other device conducts. As a result, the \\( V_{ce} \\) of the device under consideration increases while its collector current is zero. The maximum value of \\( V_{ce} \\) is \\( \\left(2 V_{CC}-V_{CE(\\mathrm{sat})}\\right) \\). As in the case of a Class A stage, a geometrical interpretation of the average power \\( P_{L} \\) delivered to \\( R_{L} \\) can be obtained by noting that \\( P_{L}=\\frac{1}{2} \\hat{I}_{o} \\hat{V}_{o} \\), where \\( \\hat{I}_{o} \\) and \\( \\hat{V}_{o} \\) are the peak sinusoidal current and voltage delivered to \\( R_{L} \\). Thus, \\( P_{L} \\) is the area of the triangle in Fig. 5.16 between the \\( V_{ce} \\) axis and the portion of the load line traversed by the operating point.\n\nThe graph in Figure 5.16 is a load line diagram for a device in a Class B amplifier stage. It is a plot on the Cartesian plane with the horizontal axis labeled as \\( V_{ce} \\) (collector-emitter voltage) and the vertical axis labeled as \\( I_c \\) (collector current). Both axes are assumed to be in linear scale, though specific units are not provided.\n\nThe load line intersects the \\( V_{ce} \\) axis at \\( V_{CC} \\) and the \\( I_c \\) axis at \\( \\frac{V_{CC}}{R_L} \\), indicating the maximum voltage and current conditions, respectively. The diagram indicates the region of operation for the device, bounded by the load line and the maximum power dissipation line.\n\nConsider the instantaneous power dissipated in one device:\n\n\\[ P_{c}=V_{ce} I_{c} \\]\n\nBut\n\n\\[ V_{ce}=V_{CC}-I_{c} R_{L} \\]\n\nSubstitution of (5.73) in (5.72) gives:\n\n\\[ P_{c}=I_{c}\\left(V_{CC}-I_{c} R_{L}\\right)=I_{c} V_{CC}-I_{c}^{2} R_{L} \\]\n\nDifferentiation of (5.74) shows that \\( P_{c} \\) reaches a peak for:\n\n\\[ I_{c}=\\frac{V_{CC}}{2 R_{L}} \\]\n\nThis peak lies on the load line midway between the \\( I_{c} \\) and \\( V_{ce} \\) axis intercepts and agrees with the result derived earlier for the Class A stage. As in that case, the load line in Fig. 5.16 is tangent to a power hyperbola at the point of peak dissipation. Thus, in a Class B stage, maximum instantaneous device dissipation occurs for an output voltage equal to about half the maximum swing. Since the quiescent device power dissipation is zero, the operating temperature of a Class B device always increases when a nonzero signal is applied.\n\nThe instantaneous device power dissipation as a function of time is shown in Fig. 5.17, where collector current, collector-emitter voltage, and their product are displayed for one device in a Class B stage at maximum output. (Crossover distortion is ignored, and \\( V_{CE(\\mathrm{sat})}=0 \\) is assumed.) When the device conducts, the power dissipation varies at twice the signal frequency. The device power dissipation is zero for the half cycle when the device is cut off. For an open-circuited load, the load line in Fig. 5.16 lies along the \\( V_{ce} \\) axis and the device has zero power dissipation. As in the case of a Class A stage, the load line in Fig. 5.16 becomes vertical through the quiescent point for a short-circuited load, and the instantaneous device power dissipation can then become excessive. Methods of protection against such a possibility are described in Section 5.4.6.\n\n#### EXAMPLE\n\nA Class B stage of the type shown in Fig. 5.10 drives a load \\( R_{L}=500 \\Omega \\). If the positive and negative supplies have magnitudes of 15 V, calculate the maximum average power that is delivered to \\( R_{L} \\) for \\( \\hat{V}_{o}=14.4 \\mathrm{~V} \\), the corresponding efficiency, and the maximum instantaneous device dissipation. Assume that \\( V_{o} \\) is sinusoidal.\n\nFrom (5.66), the average of supply current is:\n\n\\[ I_{\\text {supply }}=\\frac{1}{\\pi} \\frac{\\hat{V}_{o}}{R_{L}}=\\frac{1}{\\pi} \\frac{14.4}{500}=9.17 \\mathrm{~mA} \\]\n\nUse of (5.67) gives the average power drawn from the supplies as:\n\n\\[ P_{\\text {supply }}=I_{\\text {supply }} \\times 2 V_{CC}=9.17 \\times 30 \\mathrm{~mW}=275 \\mathrm{~mW} \\]\n\nFrom (5.68), the average power delivered to \\( R_{L} \\) is:\n\n\\[ P_{L}=\\frac{1}{2} \\frac{\\hat{V}_{o}^{2}}{R_{L}}=\\frac{1}{2} \\frac{14.4^{2}}{500}=207 \\mathrm{~mW} \\]\n\nFrom (5.13), the corresponding efficiency is:\n\n\\[ \\eta_{C}=\\frac{P_{L}}{P_{\\text {supply }}}=\\frac{207}{275}=75.3 \\text { percent } \\]\n\nThis result is close to the theoretical maximum of 78.6 percent. From (5.75), the maximum instantaneous device power dissipation occurs when:\n\n\\[ I_{c}=\\frac{V_{CC}}{2 R_{L}}=\\frac{15 \\mathrm{~V}}{1000 \\Omega}=15 \\mathrm{~mA} \\]\n\nThe corresponding value of \\( V_{ce} \\) is \\( V_{CC} / 2=7.5 \\mathrm{~V} \\) and thus the maximum instantaneous device dissipation is:\n\n\\[ P_{c}=I_{c} V_{ce}=15 \\times 7.5 \\mathrm{~mW}=112.5 \\mathrm{~mW} \\]\n\nBy conservation of power, the average power dissipated per device is:\n\n\\[ P_{\\mathrm{av}}=\\frac{1}{2}\\left(P_{\\text {supply }}-P_{L}\\right)=\\frac{1}{2}(275-207) \\mathrm{mW}=34 \\mathrm{~mW} \\]"
},
{
    "text": "The operational mechanism of a Class B amplifier stage can be better understood by examining the collector current waveforms of the two devices, as depicted in Fig. 5.15, with crossover distortion not taken into account. It is observed that each transistor conducts current to the load resistor \\( R_L \\) for only half of the cycle.\n\nThe graph labeled (a) in Fig. 5.15 shows the input voltage \\( V_i \\) waveform for a Class B output stage. This is a time-domain graph displaying a sinusoidal waveform plotted against time \\( t \\), with one complete cycle displayed over the period \\( T \\). The vertical axis represents the input voltage \\( V_i \\), while the horizontal axis represents time \\( t \\). Specific units for the axes are not provided, but the waveform is periodic with a regular sinusoidal shape.\n\nThe graph labeled (b) in Fig. 5.15 represents the output voltage \\( V_o \\) waveform of a Class B output stage over time. This is a time-domain waveform illustrating the behavior of the output voltage in response to an input signal.\n\nThe graph labeled (c) represents the collector current waveform for transistor \\( Q_1 \\) in a Class B output stage. This is a time-domain waveform showing how the current \\( I_{c1} \\) varies over one complete cycle of the input signal.\n\nThe graph labeled (d) in Fig. 5.15 represents the collector current waveform for transistor \\( Q_2 \\) in a Class B output stage. This is a time-domain waveform showing how the current \\( I_{c2} \\) varies over one complete cycle of the input signal.\n\nThese waveforms illustrate the typical behavior of a Class B amplifier where each transistor conducts for half of the cycle, with \\( Q_2 \\) conducting during the negative half-cycle of the input signal.\n\nThe collector current waveforms of Fig. 5.15 also represent the waveforms of the current drawn from the two supplies. If the waveforms are assumed to be half-sinusoids, then the average current drawn from the \\( +V_{CC} \\) supply is given by Equation (5.66).\n\nThe average power drawn from the supplies does vary with signal level for a Class B stage and is directly proportional to \\( \\hat{V}_o \\).\n\nThe average power delivered to \\( R_L \\) is given by Equation (5.68).\n\nThe efficiency \\( \\eta \\) for a Class B stage is independent of \\( R_L \\) but increases linearly as the output voltage amplitude \\( \\hat{V}_o \\) increases.\n\nThe maximum average signal power that can be delivered to \\( R_L \\) for sinusoidal signals can be calculated from Equation (5.70).\n\nThe corresponding maximum efficiency is given by Equation (5.71).\n\nIf \\( V_{CE(\\text {sat})} \\) is small compared with \\( V_{CC} \\), the circuit has a maximum efficiency of 0.786 or 78.6 percent. This maximum efficiency is much higher than the value of 25 percent achieved in Class A circuits. In addition, the standby power dissipation is essentially zero in the Class B circuit. These advantages explain the widespread use of Class B and Class AB output stages.\n\nThe load line for one device in a Class B stage is shown in Fig. 5.16. For values of \\( V_{ce} \\) less than the quiescent value (which is \\( V_{CC} \\)), the load line has a slope of \\(-\\frac{1}{R_L}\\). For values of \\( V_{ce} \\) greater than \\( V_{CC} \\), the load line lies along the \\( V_{ce} \\) axis because the device under consideration turns off and the other device conducts. As a result, the \\( V_{ce} \\) of the device under consideration increases while its collector current is zero. The maximum value of \\( V_{ce} \\) is \\( (2 V_{CC} - V_{CE(\\mathrm{sat})}) \\).\n\nAs in the case of a Class A stage, a geometrical interpretation of the average power \\( P_L \\) delivered to \\( R_L \\) can be obtained by noting that \\( P_L = \\frac{1}{2} \\hat{I}_o \\hat{V}_o \\), where \\( \\hat{I}_o \\) and \\( \\hat{V}_o \\) are the peak sinusoidal current and voltage delivered to \\( R_L \\). Thus \\( P_L \\) is the area of the triangle in Fig. 5.16 between the \\( V_{ce} \\) axis and the portion of the load line traversed by the operating point.\n\nThe graph in Figure 5.16 is a load line diagram for a device in a Class B amplifier stage. It is a plot on the Cartesian plane with the horizontal axis labeled as \\( V_{ce} \\) (collector-emitter voltage) and the vertical axis labeled as \\( I_c \\) (collector current). Both axes are assumed to be in linear scale, though specific units are not provided.\n\nThe load line intersects the \\( V_{ce} \\) axis at \\( V_{CC} \\) and the \\( I_c \\) axis at \\( \\frac{V_{CC}}{R_L} \\), indicating the maximum voltage and current conditions, respectively.\n\nThe load line analysis helps in understanding the power delivered to the load \\( R_L \\) and the power dissipated in the device, providing insights into the efficiency and performance of the Class B amplifier stage.\n\nThe instantaneous power dissipated in one device is given by Equation (5.72).\n\nSubstitution of Equation (5.73) in (5.72) gives Equation (5.74).\n\nDifferentiation of (5.74) shows that \\( P_c \\) reaches a peak for \\( I_c = \\frac{V_{CC}}{2 R_L} \\).\n\nThis peak lies on the load line midway between the \\( I_c \\) and \\( V_{ce} \\) axis intercepts and agrees with the result derived earlier for the Class A stage. As in that case, the load line in Fig. 5.16 is tangent to a power hyperbola at the point of peak dissipation. Thus, in a Class B stage, maximum instantaneous device dissipation occurs for an output voltage equal to about half the maximum swing. Since the quiescent device power dissipation is zero, the operating temperature of a Class B device always increases when a nonzero signal is applied.\n\nThe instantaneous device power dissipation as a function of time is shown in Fig. 5.17, where collector current, collector-emitter voltage, and their product are displayed for one device in a Class B stage at maximum output. (Crossover distortion is ignored, and \\( V_{CE(\\mathrm{sat})} = 0 \\) is assumed.) When the device conducts, the power dissipation varies at twice the signal frequency. The device power dissipation is zero for the half cycle when the device is cut off. For an open-circuited load, the load line in Fig. 5.16 lies along the \\( V_{ce} \\) axis and the device has zero dissipation. As in the case of Class A stage, the load line in Fig. 5.16 becomes vertical through the quiescent point for a short-circuited load, and the instantaneous device power dissipation can then become excessive. Methods of protection against such a possibility are described in Section 5.4.6."
},
{
    "text": "A deeper understanding of a Class B stage's functioning can be gained by examining the collector current waveforms in the devices, as depicted in Fig. 5.15, where crossover distortion is not considered. It's important to note that each transistor conducts current to \\( R_{L} \\) for only half of the cycle.\n\n**Figure 5.15 Analysis:**\n\n**Graph (a):** This graph shows the input voltage \\( V_i \\) waveform for a Class B output stage. It's a sinusoidal waveform plotted against time \\( t \\), displaying one full cycle over the period \\( T \\). The vertical axis represents \\( V_i \\), while the horizontal axis represents time \\( t \\). The waveform is periodic with a regular sinusoidal shape, indicating consistent amplitude and frequency. Key features include two peaks, one positive and one negative, symmetrically distributed around the zero voltage level, and the waveform crossing the zero line twice per cycle.\n\n**Graph (b):** This graph represents the output voltage \\( V_o \\) waveform of a Class B output stage over time. It's a time-domain waveform illustrating the output voltage's behavior in response to an input signal. The waveform is sinusoidal, indicating periodic behavior with a consistent amplitude and frequency. The graph shows one complete cycle, with a positive half-cycle followed by a negative half-cycle, displaying symmetry typical of sinusoidal signals. The peak value of the output voltage is denoted as \\( \\hat{V}_o \\), and the waveform crosses the time axis (zero voltage) twice within one period.\n\n**Graph (c):** This graph represents the collector current waveform for transistor \\( Q_{1} \\) in a Class B output stage. It's a time-domain waveform showing the collector current \\( I_{c1} \\) of transistor \\( Q_{1} \\). The waveform is a half-sinusoid, indicating that transistor \\( Q_{1} \\) conducts current for half of the cycle. The waveform starts at zero, rises to a peak, and returns to zero, completing its conduction over half the period \\( T \\). The peak of the waveform is annotated as \\( \\hat{I}_o = \\frac{\\hat{V}_o}{R_L} \\), representing the peak output current related to the peak output voltage \\( \\hat{V}_o \\) and load resistance \\( R_L \\).\n\n**Graph (d):** This graph represents the collector current waveform for transistor \\( Q_2 \\) in a Class B output stage. It's a time-domain waveform showing how the current \\( I_{c2} \\) varies over one complete cycle of the input signal. The waveform is a half-sinusoidal shape, indicating that \\( I_{c2} \\) conducts for half of the input signal cycle. The current is negative over its conducting period, reflecting the operation of the transistor \\( Q_2 \\) in the Class B stage. The waveform starts at zero, dips to a negative peak, and returns to zero, completing the half-cycle. The peak current value is denoted as \\( -\\hat{I}_o \\), which equals \\( -\\frac{\\hat{V}_o}{R_L} \\), where \\( \\hat{V}_o \\) is the peak output voltage and \\( R_L \\) is the load resistance.\n\n**Figure 5.16 Analysis:**\n\nThe graph in Figure 5.16 is a load line diagram for a device in a Class B amplifier stage. It's a plot on the Cartesian plane with the horizontal axis labeled as \\( V_{ce} \\) (collector-emitter voltage) and the vertical axis labeled as \\( I_c \\) (collector current). Both axes are assumed to be in linear scale, though specific units are not provided.\n\n**Axes and Units:**\n\n- **Horizontal Axis (\\( V_{ce} \\))**: Represents the collector-emitter voltage. Important points on this axis include \\( V_{CE(sat)} \\), \\( \\frac{V_{CC}}{2} \\), \\( V_{CC} \\), and \\( 2V_{CC} - V_{CE(sat)} \\).\n- **Vertical Axis (\\( I_c \\))**: Represents the collector current. A critical value noted on this axis is \\( \\frac{V_{CC}}{R_L} \\).\n\n**Key Features:**\n\n- **Load Line**: The load line is a straight line with a negative slope of \\(-\\frac{1}{R_L}\\), indicating the relationship between \\( V_{ce} \\) and \\( I_c \\) for the load resistance \\( R_L \\).\n- **Quiescent Point (Q)**: This point represents the operating point of the amplifier when no input signal is present. It is marked along the load line.\n- **Peak Device Dissipation**: The line \\( P = I_c V_{ce} = \\text{constant} \\) marks the maximum power dissipation in the device, shown as a horizontal line.\n\n**Behavior and Trends:**\n\n- The load line intersects the \\( V_{ce} \\) axis at \\( V_{CC} \\) and the \\( I_c \\) axis at \\( \\frac{V_{CC}}{R_L} \\), indicating the maximum voltage and current conditions, respectively.\n- The diagram indicates the region of operation for the device, bounded by the load line and the maximum power dissipation line.\n\n**Annotations:**\n\n- **\\( V_{CE(sat)} \\)**: The saturation voltage where the collector-emitter voltage is minimized.\n- **\\( 2V_{CC} - V_{CE(sat)} \\)**: A significant point indicating the maximum swing of \\( V_{ce} \\) in the positive direction.\n\nThis load line analysis helps in understanding the power delivered to the load \\( R_L \\) and the power dissipated in the device, providing insights into the efficiency and performance of the Class B amplifier stage.\n\n**Figure 5.17 Analysis:**\n\nThe instantaneous device power dissipation as a function of time is shown in Fig. 5.17, where collector current, collector-emitter voltage, and their product are displayed for one device in a Class B stage at maximum output. (Crossover distortion is ignored, and \\( V_{CE(sat)}=0 \\) is assumed.) When the device conducts, the power dissipation varies at twice the signal frequency. The device power dissipation is zero for the half cycle when the device is cut off. For an open-circuited load, the load line in Fig. 5.16 lies along the \\( V_{ce} \\) axis and the device has zero power dissipation. As in the case of a Class A stage, the load line in Fig. 5.16 becomes vertical through the quiescent point for a short-circuited load, and the instantaneous device power dissipation can then become excessive. Methods of protection against such a possibility are described in Section 5.4.6.\n\n**Graph (a):** This graph represents the collector current waveform for one device in a Class B amplifier stage at maximum output. It's a time-domain waveform, displaying how the collector current \\( I_{c1} \\) varies over time \\( t \\). The waveform is sinusoidal, indicating that the collector current varies periodically over time. The waveform has a peak value of \\( \\frac{V_{CC}}{R_L} \\), with the current reaching zero at the midpoints between peaks. The waveform is consistent with the operation of a Class B amplifier, where the device conducts for half of the input signal cycle and is cut off for the other half.\n\n**Graph (b):** This graph is a time-domain waveform illustrating the collector-emitter voltage (\\( V_{ce1} \\)) in a Class B amplifier stage. The horizontal axis represents time (\\( t \\)), while the vertical axis represents the collector-emitter voltage, labeled as \\( V_{ce1} \\). The voltage is measured in volts, and there are two significant voltage levels marked: \\( V_{CC} \\) and \\( 2V_{CC} \\). The waveform is sinusoidal and periodic, demonstrating a full cycle of oscillation. This represents the voltage variation across the collector-emitter junction during operation. The waveform oscillates between \\( V_{CC} \\) and \\( 2V_{CC} \\), indicating that the peak voltage reaches twice the supply voltage (\\( V_{CC} \\)). The waveform has a consistent amplitude and period, characteristic of sinusoidal signals in amplifier circuits.\n\n**Graph (c):** This graph represents the collector power dissipation waveform for one device in a Class B amplifier stage at maximum output. It's a time-domain waveform illustrating how the power dissipation varies over time. The waveform shows a periodic pattern, with power dissipation occurring in bursts. The power dissipation is zero during the half-cycle when the device is cut off, and it rises sharply during the conduction phase. The waveform has a frequency that is twice the signal frequency, indicating that power dissipation occurs at twice the rate of the input signal frequency. The peaks of the waveform reach a maximum power dissipation value of \\( \\frac{V_{CC}^2}{4R_L} \\), as indicated by the horizontal dashed line. The waveform consists of sharp, narrow peaks separated by intervals of zero power dissipation. The waveform reflects the behavior of a Class B amplifier, where power is dissipated only during the conduction phase."
},
{
    "text": "The functionality of a Class B amplifier stage can be better understood by examining the collector current waveforms of the two transistors, as depicted in Fig. 5.15, where crossover distortion is not considered. It's important to note that each transistor conducts current to \\( R_L \\) for only half of the signal cycle.\n\nIn Fig. 5.15(a), the graph labeled \"(a)\" illustrates the input voltage \\( V_i \\) waveform for a Class B output stage. This is a time-domain graph showing a sinusoidal waveform plotted against time \\( t \\), depicting one complete cycle over the period \\( T \\). The vertical axis represents the input voltage \\( V_i \\), and the horizontal axis represents time \\( t \\). Although no specific units are provided for the axes, the waveform is periodic with a regular sinusoidal shape.\n\nThe graph in Fig. 5.15(b) represents the output voltage waveform \\( V_o \\) of a Class B output stage over time. This is a time-domain waveform that illustrates the behavior of the output voltage in response to an input signal.\n\nIn Fig. 5.15(c), the graph labeled \"(c)\" represents the collector current waveform for transistor \\( Q_1 \\) in a Class B output stage. This is a time-domain waveform showing how the collector current \\( I_{c1} \\) varies over one complete cycle of the input signal.\n\nThe graph in Fig. 5.15(d) represents the collector current waveform for transistor \\( Q_2 \\) in a Class B output stage. This is a time-domain waveform showing how the current \\( I_{c2} \\) varies over one complete cycle of the input signal.\n\nThe collector current waveforms of Fig. 5.15 also represent the waveforms of the current drawn from the two supplies. If the waveforms are assumed to be half-sinusoids, then the average current drawn from the \\( +V_{CC} \\) supply is given by Equation (5.66).\n\nThe average power drawn from the supplies does vary with signal level for a Class B stage and is directly proportional to \\( \\hat{V}_o \\), as shown in Equation (5.67).\n\nThe average power delivered to \\( R_L \\) is given by Equation (5.68), and the efficiency of the Class B stage is given by Equation (5.69).\n\nThe maximum efficiency of a Class B stage is given by Equation (5.71), and the maximum average signal power that can be delivered to \\( R_L \\) for sinusoidal signals is given by Equation (5.70).\n\nThe load line for one device in a Class B stage is shown in Fig. 5.16. This load line analysis helps in understanding the power delivered to the load \\( R_L \\) and the power dissipated in the device, providing insights into the efficiency and performance of the Class B amplifier stage.\n\nThe instantaneous power dissipated in one device is given by Equation (5.72), and the maximum instantaneous device dissipation occurs when the collector current is given by Equation (5.75).\n\nThe instantaneous device power dissipation as a function of time is shown in Fig. 5.17, where collector current, collector-emitter voltage, and their product are displayed for one device in a Class B stage at maximum output.\n\nAn example is provided to calculate the maximum average power delivered to \\( R_L \\), the corresponding efficiency, and the maximum instantaneous device dissipation for a Class B stage with a load \\( R_L = 500 \\Omega \\) and supply magnitudes of 15 V."
},
{
    "text": "The operational characteristics of a Class B amplifier stage can be illuminated by examining the collector current waveforms in the respective devices, as depicted in Fig. 5.15, where crossover distortion is not considered. It is observed that each transistor conducts current to \\( R_L \\) for only half of the cycle.\n\nIn Fig. 5.15(a), the graph labeled \\((a)\\) illustrates the input voltage \\( V_i \\) for a Class B output stage. This is a time-domain waveform representing a sinusoidal input voltage plotted against time \\( t \\), depicting one complete cycle over the period \\( T \\). The vertical axis indicates the input voltage \\( V_i \\), and the horizontal axis represents time \\( t \\). The units for the axes are not specified, but the waveform exhibits a regular sinusoidal shape with a clear periodicity.\n\nThe graph in Fig. 5.15(b) labeled as \"(b)\" represents the output voltage waveform \\( V_o \\) of a Class B output stage over time. It is a time-domain waveform that shows how the output voltage responds to an input signal. The horizontal axis marks time \\( t \\) with a period \\( T \\), and the vertical axis represents the output voltage \\( V_o \\), typically in volts. The waveform is sinusoidal, completing one full cycle over the period \\( T \\), reflecting a positive half-cycle followed by a negative half-cycle.\n\nGraph (c) in Fig. 5.15 represents the collector current waveform for transistor \\( Q_1 \\) in a Class B output stage. This time-domain waveform shows the collector current \\( I_{c1} \\) over one complete cycle of the input signal. The horizontal axis marks time \\( t \\) with a period \\( T \\), and the vertical axis represents the collector current \\( I_{c1} \\). The waveform is a half-sinusoid, indicating that \\( Q_1 \\) conducts current for half of the cycle.\n\nGraph (d) in Fig. 5.15 illustrates the collector current waveform for transistor \\( Q_2 \\) in a Class B output stage. This time-domain waveform depicts the collector current \\( I_{c2} \\) as it varies over one complete cycle of the input signal. The horizontal axis represents time \\( t \\), with a period \\( T \\) indicated for one full cycle, and the vertical axis represents the collector current \\( I_{c2} \\). The waveform is a half-sinusoid, reflecting that \\( I_{c2} \\) conducts for half of the input signal cycle.\n\nThe collector current waveforms in Fig. 5.15 also signify the waveforms of the current drawn from the two supplies. Assuming the waveforms are half-sinusoids, the average current drawn from the \\( +V_{CC} \\) supply is calculated as \\( I_{\\text{supply}} = \\frac{1}{\\pi} \\frac{\\hat{V}_o}{R_L} \\), where \\( T \\) is the period of the input signal, and \\( \\hat{V}_o \\) and \\( \\hat{I}_o \\) are the zero-to-peak amplitudes of the output sinusoidal voltage and current.\n\nThe average power drawn from the supplies varies with signal level for a Class B stage and is directly proportional to \\( \\hat{V}_o \\). The average power delivered to \\( R_L \\) is given by \\( P_L = \\frac{1}{2} \\frac{\\hat{V}_o^2}{R_L} \\). The efficiency \\( \\eta_C \\) for a Class B stage is independent of \\( R_L \\) but increases linearly with the output voltage amplitude \\( \\hat{V}_o \\).\n\nThe maximum efficiency for a Class B stage is much higher than that of Class A circuits, and the standby power dissipation is essentially zero, explaining the widespread use of Class B and Class AB output stages.\n\nFigure 5.16 presents a load line diagram for a device in a Class B amplifier stage. The horizontal axis represents the collector-emitter voltage \\( V_{ce} \\), and the vertical axis represents the collector current \\( I_c \\). The load line has a negative slope of \\(-\\frac{1}{R_L}\\), and the quiescent point \\( Q \\) is marked along the load line. The peak device dissipation is indicated by the line \\( P = I_c V_{ce} = \\text{constant} \\).\n\nThe load line intersects the \\( V_{ce} \\) axis at \\( V_{CC} \\) and the \\( I_c \\) axis at \\( \\frac{V_{CC}}{R_L} \\), bounding the region of operation for the device. Annotations include \\( V_{CE(sat)} \\) and \\( 2V_{CC} - V_{CE(sat)} \\), which are significant points for understanding the operation of the Class B amplifier stage.\n\nFigure 5.17 displays waveforms at maximum output for one device in a Class B stage. Graph (a) represents the collector current waveform, (b) the collector voltage waveform, and (c) the collector power dissipation waveform. These waveforms illustrate the power dissipation characteristics in a Class B amplifier, with power being dissipated only during the conduction phase.\n\nThe maximum instantaneous device dissipation occurs for an output voltage equal to about half the maximum swing. Since the quiescent device power dissipation is zero, the operating temperature of a Class B device always increases when a nonzero signal is applied."
},
{
    "text": "Understanding the operation of a Class B amplifier stage is enhanced by examining the collector current waveforms of the two transistors, as depicted in Fig. 5.15,忽略交越失真.观察到每个晶体管在半个周期内对$R_{L}$导通电流。\n\n图像(a)描述：\n图像(a)显示了Class B输出级的输入电压$V_i$的时间域波形。该波形是一个随时间$t$变化的正弦波形，展示了一个完整周期$T$。纵轴表示输入电压$V_i$，横轴表示时间$t$。轴上没有提供具体单位，但波形是周期性的，具有规则的正弦形状。\n\n图像(b)描述：\n图像(b)展示了Class B输出级的输出电压$V_o$的时间域波形。这是一个时间域波形，说明了输出电压对输入信号的反应。\n\n1. 轴标签和单位：\n   - 横轴表示时间$t$，并用周期$T$标记，表示波形一个完整周期的时长。\n   - 纵轴表示输出电压$V_o$，单位未指定，但通常以伏特计。\n\n2. 总体行为和趋势：\n   - 波形是正弦的，表明输出电压随时间正弦变化。\n   - 波形在周期$T$内完成一个完整周期，显示一个正半周期后跟一个负半周期。\n   - 波形具有对称性，正负半周期是镜像的，这是正弦信号的典型特征。\n\n3. 关键特征和技术细节：\n   - 波形的峰值电压表示为$\\hat{V}_o$，这是波形达到的最大幅度。\n   - 波形在一个周期内两次穿过时间轴（零电压），表示在周期开始和中点处的零交叉点。\n\n图像(c)描述：\n图像(c)展示了Class B输出级中晶体管$Q_{1}$的集电极电流波形。这是一个时间域波形。\n\n1. 图表类型和功能：\n   - 该图表是一个时间域波形，显示了晶体管$Q_{1}$的集电极电流$I_{c1}$。\n\n2. 轴标签和单位：\n   - 横轴表示时间$t$，并用周期$T$标记，表示一个完整周期。\n   - 纵轴表示集电极电流$I_{c1}$。\n\n3. 总体行为和趋势：\n   - 波形是半正弦的，表明晶体管$Q_{1}$在半个周期内导通电流。\n   - 波形从零开始，上升到峰值，然后返回到零，完成其导通半个周期$T$。\n\n图像(d)描述：\n图像(d)展示了Class B输出级中晶体管$Q_2$的集电极电流波形。这是一个时间域波形，显示了电流$I_{c2}$随输入信号一个完整周期变化的情况。\n\n1. 图表类型和功能：\n   - 该图表是一个时间域波形，描绘了集电极电流$I_{c2}$。\n\n2. 轴标签和单位：\n   - 横轴表示时间$t$，用一个完整周期$T$标记。\n   - 纵轴表示集电极电流$I_{c2}$。\n   - 时间和电流的单位没有明确提供，但通常分别以秒和安培计。\n\n3. 总体行为和趋势：\n   - 波形是半正弦形状，表明$I_{c2}$在输入信号的一半周期内导通。\n   - 电流在其导通周期内为负，反映了晶体管$Q_2$在Class B级中的操作。\n   - 波形从零开始，下降到负峰值，然后返回到零，完成半个周期。\n\n图5.15展示了Class B输出级的电压和电流波形。 (a) 输入电压。 (b) 输出电压。 (c) $Q_{1}$集电极电流。 (d) $Q_{2}$集电极电流。\n\n图5.15中的集电极电流波形也代表了从两个电源吸取的电流波形。如果假设波形是半正弦的，则从$+V_{C C}$电源吸取的平均电流为\n\n$$\nI_{\\text {supply }}=\\frac{1}{T} \\int_{0}^{T} I_{c 1}(t) d t=\\frac{1}{T} \\int_{0}^{T / 2} \\frac{\\hat{V}_{o}}{R_{L}} \\sin \\left(\\frac{2 \\pi t}{T}\\right) d t=\\frac{1}{\\pi} \\frac{\\hat{V}_{o}}{R_{L}}=\\frac{1}{\\pi} \\hat{I}_{o} \\tag{5.66}\n$$\n\n其中$T$是输入信号的周期。同样，$\\hat{V}_{o}$和$\\hat{I}_{o}$分别是输出正弦电压和电流的零到峰值幅度。由于每个电源提供相同的电流大小，从两个电源吸取的总平均功率为\n\n$$\nP_{\\text {supply }}=2 V_{C C} I_{\\text {supply }}=\\frac{2}{\\pi} \\frac{V_{C C}}{R_{L}} \\hat{V}_{o} \\tag{5.67}\n$$\n\n其中(5.66)已被代入。与Class A情况不同，Class B级从电源吸取的平均功率会随信号电变化，并且与$\\hat{V}_{o}$成正比。\n\n提供给$R_{L}$的平均功率由下式给出\n\n$$\nP_{L}=\\frac{1}{2} \\frac{\\hat{V}_{o}^{2}}{R_{L}} \\tag{5.68}\n$$\n\n根据(5.13)中电路效率的定义，\n\n$$\n\\eta_{C}=\\frac{P_{L}}{P_{\\text {supply }}}=\\frac{\\pi}{4} \\frac{\\hat{V}_{o}}{V_{C C}} \\tag{5.69}\n$$\n\n其中(5.67)和(5.68)已被代入。方程5.69表明，Class B级的$\\eta$与$R_{L}$无关，但随输出电压幅度$\\hat{V}_{o}$的增加而线性增加。\n\n在图5.14的特征出现，$\\hat{V}_{o}$可以达到的最大值，在削波发生之前的，是$\\hat{V}_{o m}=\\left(V_{C C}-V_{C E(\\text { sat })}\\right)$，因此，对于正弦信号，可以计算出提供给$R_{L}$的最大平均信号功率为\n```"
},
{
    "text": "To understand the operational characteristics of a Class B amplifier stage, one can analyze the collector current waveforms in the involved devices, as depicted in Fig. 5.15, where crossover distortion is not considered. It is observed that each transistor conducts current to the load resistor \\( R_L \\) for only half of the signal cycle.\n\nThe graphical representation labeled as \"(a)\" displays the input voltage waveform \\( V_i \\) for a Class B output stage. This is a time-domain sinusoidal waveform plotted against time \\( t \\), showcasing one complete cycle over the period \\( T \\). The vertical axis denotes the input voltage \\( V_i \\), while the horizontal axis represents time \\( t \\). Although specific units are not provided, the waveform exhibits a periodic sinusoidal shape.\n\nThe graph labeled \"(b)\" presents the output voltage waveform \\( V_o \\) of a Class B output stage over time. This time-domain waveform illustrates the output voltage's behavior in response to the input signal. The horizontal axis represents time \\( t \\) with the period \\( T \\) indicated, while the vertical axis represents the output voltage \\( V_o \\), typically measured in volts. The waveform is sinusoidal, indicating a periodic variation with consistent amplitude and frequency. The waveform completes one full cycle over the period \\( T \\), showing a positive half-cycle followed by a negative half-cycle, and is symmetric about the zero voltage level.\n\nThe graph labeled \"(c)\" depicts the collector current waveform for transistor \\( Q_1 \\) in a Class B output stage. This time-domain waveform shows how the collector current \\( I_{c1} \\) varies over one complete cycle of the input signal. The horizontal axis represents time \\( t \\) with the period \\( T \\) indicated, and the vertical axis represents the collector current \\( I_{c1} \\). The waveform is a half-sinusoid, indicating that transistor \\( Q_1 \\) conducts current for half of the cycle. The waveform starts at zero, rises to a peak, and returns to zero, completing its conduction over half the period \\( T \\).\n\nThe graph labeled \"(d)\" represents the collector current waveform for transistor \\( Q_2 \\) in a Class B output stage. This time-domain waveform shows\nI apologize, but it seems there has been a misunderstanding. The task was to rephrase the provided text in the [Context Provided] section, not to repeat it. Please rephrase the text while maintaining the original meaning and length."
},
{
    "text": "The design principles of Class B output stages are elucidated through the examination of two practical examples. The first example is the output stage of the 709 operational amplifier, and its simplified schematic is depicted in Fig. 5.18. Here, transistor $Q_{3}$ functions as a common-emitter driver stage for the output devices, $Q_{1}$ and $Q_{2}$.\n\nTo determine the transfer characteristic of this stage, consider the quiescent condition where $V_{o}=0$ and $V_{1}=0$. Since $Q_{1}$ and $Q_{2}$ are off, there is no base current in these devices. For a supply voltage $V_{C C}=10 \\mathrm{~V}$, the bias current in $Q_{3}$ is\n\n$$\nI_{C 3}=\\frac{V_{C C}-V_{1}}{R_{1}}=\\frac{V_{C C}}{R_{1}}=\\frac{10 \\mathrm{~V}}{20 \\mathrm{k} \\Omega}=0.50 \\mathrm{~mA}\n$$\n\nThe textual description of the schematic in Fig. 5.18 provides details of the components: a resistor $R1$ with a value of $20k\\Omega$, a resistor $RL$, transistors $Q1$, $Q2$, and $Q3$ which are part of the output stage of the 709 op amp. The circuit operates with a bias current of $0.50 mA$ in $Q3$ when quiescent, and the limiting values of $V_{o}$ are determined by the driver stage.\n\nThe limiting values that $V_{o}$ can take are set by the driver stage. As $V_{i}$ becomes large and positive, $V_{1}$ decreases until $Q_{3}$ saturates, reaching the negative voltage limit $V_{o}^{-}$:\n\n$$\nV_{o}^{-}=-V_{C C}+V_{C E 3(\\mathrm{sat})}-V_{b e 2}\n$$\n\nFor values of $V_{1}$ between $\\left(-V_{C C}+V_{C E 3(\\mathrm{sat})}\\right)$ and $\\left(-V_{B E(\\mathrm{on})}\\right)$, both $Q_{3}$ and $Q_{2}$ are in the forward-active region, and $V_{o}$ tracks $V_{1}$ with $Q_{2}$ acting as an emitter follower.\n\nAs $V_{i}$ becomes negative, the current in $Q_{3}$ decreases and $V_{1}$ rises, turning $Q_{1}$ on. The positive voltage limit $V_{o}^{+}$ is reached when $Q_{3}$ cuts off and the base of $Q_{1}$ is fed from the positive supply via $R_{1}$. Then\n\n$$\nV_{C C}=I_{b 1} R_{1}+V_{b e 1}+V_{o}^{+}\n$$\n\nIf $\\beta_{F 1}$ is large, then\n\n$$\nV_{o}^{+}=I_{c 1} R_{L}=\\beta_{F 1} I_{b 1} R_{L}\n$$\n\nwhere $\\beta_{F 1}$ is the current gain of $Q_{1}$. Thus\n\n$$\nI_{b 1}=\\frac{V_{o}^{+}}{\\beta_{F 1} R_{L}}\n$$\n\nSubstituting this in the previous equation and rearranging gives\n\n$$\nV_{o}^{+}=\\frac{V_{C C}-V_{b e 1}}{1+\\frac{R_{1}}{\\beta_{F 1} R_{L}}}\n$$\n\nFor $R_{L}=10 \\mathrm{k} \\Omega$ and $\\beta_{F 1}=100$, this equation yields\n\n$$\nV_{o}^{+}=0.98\\left(V_{C C}-V_{b e 1}\\right)\n$$\n\nIn this scenario, the limit on $V_{o}$ is similar for positive and negative swings. However, if $R_{L}=1 \\mathrm{k} \\Omega$ and $\\beta_{F 1}=100$, the equation yields\n\n$$\nV_{o}^{+}=0.83\\left(V_{C C}-V_{b e 1}\\right)\n$$\n\nThe graphical representation in Fig. 5.19 is a transfer characteristic curve showing the relationship between the output voltage \\( V_o \\) and the input voltage \\( V_i \\) for the circuit. It includes two curves corresponding to different load resistances \\( R_L \\): one for \\( R_L = 1 \\text{k}\\Omega \\) and another for \\( R_L = 10 \\text{k}\\Omega \\).\n\nThe axes are labeled with the input voltage \\( V_i \\) ranging from 0.60 V to 0.66 V on the horizontal axis and the output voltage \\( V_o \\) ranging from -9 V to 6 V on the vertical axis. The curves demonstrate a non-linear relationship between \\( V_i \\) and \\( V_o \\), with the output voltage decreasing as the input voltage increases. The curve for \\( R_L = 10 \\text{k}\\Omega \\) is above the curve for \\( R_L = 1 \\text{k}\\Omega \\), indicating higher output voltage for the same input voltage with a higher load resistance.\n\nKey features include a steep decline in output voltage as \\( V_i \\) approaches 0.64 V, with the maximum output voltage around 6 V for \\( R_L = 10 \\text{k}\\Omega \\) and approximately 3 V for \\( R_L = 1 \\text{k}\\Omega \\). Clipping occurs at lower input voltages for \\( R_L = 1 \\text{k}\\Omega \\), showing reduced output voltage swing compared to \\( R_L = 10 \\text{k}\\Omega \\).\n\nThe annotations highlight the intersection of both curves near 0.63 V on the \\( V_i \\) axis and the effect of load resistance on output characteristics, showing how lower load resistance reduces the maximum achievable output voltage and leads to earlier clipping.\n\nThe transfer curve in Fig. 5.19, generated using SPICE for the circuit with $V_{C C}=10 \\mathrm{~V}$ and $R_{L}=1 \\mathrm{k} \\Omega$ and $10 \\mathrm{k} \\Omega$, assuming $\\beta_{F}=100$ for all devices, shows the reduced positive voltage capability for $R_{L}=1 \\mathrm{k} \\Omega$ and the deadband in the transfer characteristic. The curvature is due to the exponential non-linearity of the driver $Q_{3}$. In practice, the transfer characteristic may be more nonlinear due to the difference in $\\beta_{F}$ between the $n p n$ transistor $Q_{1}$ and the pnp transistor $Q_{2}$, causing significant differences in the positive and negative sections of the characteristic. This behavior can be observed by calculating the small-signal gain $\\Delta V_{o} / \\Delta V_{i}$ for positive and negative $V_{o}$. In the actual 709 integrated circuit, negative feedback is applied around this output stage to mitigate these nonlinearities in the transfer characteristic.\n\nThe second example of a practical Class B output stage is shown in Fig. 5.20, where SPICE-calculated bias currents are included. This circuit is a simplified schematic of the 741 op amp output circuitry. The output devices $Q_{14}$ and $Q_{20}$ are biased to a collector current of about 0.17 mA by the diodes $Q_{18}$ and $Q_{19}$. The bias current in $Q_{14}$ and $Q_{20}$ depends on the effective area ratio between the diodes $Q_{18}$ and $Q_{19}$ and the output devices. The output stage is driven by the lateral $p n p$ emitter-follower $Q_{23}$, which is driven by the common-emitter stage $Q_{17}$ biased to 0.68 mA by current source $Q_{13 \\mathrm{~B}}$.\n\nThe diodes in Fig. 5.20 effectively eliminate crossover distortion in the circuit, as seen in the SPICE-generated transfer characteristic of Fig. 5.21. The linearity of this stage is further improved by the fact that the output devices are driven from a low resistance provided by the emitter follower $Q_{23}$. Consequently, differences in $\\beta_{F}$ between $Q_{14}$ and $Q_{20}$ have little effect on the transfer characteristic because the small-signal gain $\\Delta V_{o} / \\Delta V_{1} \\simeq 1$ for any practical value of $\\beta_{F}$ with either $Q_{14}$ or $Q_{20}$ conducting.\n\nThe limits on the output voltage swing in Fig. 5.21 can be determined as follows. As $V_{i}$ becomes positive, the voltage $V_{1}$ at the base of $Q_{23}$ goes negative, and voltages $V_{2}$ and $V_{o}$ follow with $Q_{20}$ drawing current from $R_{L}$. When $Q_{17}$ saturates, the output voltage limit for negative excursions is reached at\n\n$$\nV_{o}^{-}=-V_{C C}+V_{C E 17(\\mathrm{sat})}-V_{b e 23}-V_{b e 20}\n$$\n\nThis limit is about 1.4 V more positive than the negative supply. Thus, $V_{o}^{-}$ is limited by saturation in $Q_{17}$, which is the stage preceding driver stage $Q_{23}$.\n\nAs $V_{i}$ becomes negative from its quiescent value (where $V_{o}=0$), voltage $V_{1}$ rises, and voltages $V_{2}$ and $V_{o}$ follow with $Q_{14}$ delivering current to the load. The positive output voltage limit $V_{o}^{+}$ is reached when current source $Q_{13 \\mathrm{~A}}$ saturates and\n\n$$\nV_{o}^{+}=V_{C C}+V_{C E 13 \\mathrm{~A}(\\mathrm{sat})}-V_{b e 14}\n$$\n\nThis limit is about 0.8 V below the positive supply because $V_{C E 13 \\mathrm{~A}(\\mathrm{sat})} \\simeq-0.1 \\mathrm{~V}$ for the $p n p$ device. Thus, $V_{o}^{+}$ is also limited by the driver stage.\n\nThe power requirements of the driver circuits in a configuration such as shown in Fig. 5.20 require consideration. The basic requirement of the driver is to supply sufficient drive to the output stage so that it can supply the desired power to $R_{L}$. As $V_{o}$ becomes negative, $Q_{23}$ draws current from the base of $Q_{20}$ with essentially no limit. In fact, the circuit must be protected in case of a short-circuited load. Otherwise, a large input signal could cause $Q_{23}$ and $Q_{20}$ to conduct such heavy currents that they burn out. As explained before, the negative voltage limit is reached when $Q_{17}$ saturates and can no longer drive the base of $Q_{23}$ negative.\n\nAs $V_{o}$ becomes positive (by $V_{i}$ going negative and $V_{1}$ going positive), $Q_{23}$ conducts less, and current source $Q_{13 \\mathrm{~A}}$ supplies base current to $Q_{14}$. The maximum output current is limited by the current of 0.22 mA available for driving $Q_{14}$. As $V_{1}, V_{2}$, and $V_{o}$ go positive, the current in $Q_{14}$ increases, and the current in $Q_{13 \\mathrm{~A}}$ is progressively diverted to the base of $Q_{14}$. The maximum possible output current delivered by $Q_{14}$ is thus\n\n$$\nI_{o}=\\beta_{F 14} \\times 0.22 \\mathrm{~mA}\n$$\n\nIf $\\beta_{F 14}=100$, the maximum output current is 22 mA. The driver stage may thus limit the maximum positive current available from the output stage. However, this output current level is only reached if $R_{L}$ is small enough so that $Q_{13 \\mathrm{~A}}$ does not saturate on the positive voltage excursion.\n\nThe stage preceding the driver in this circuit is $Q_{17}$. As mentioned above, the negative voltage limit of $V_{o}$ is reached when $Q_{17}$ saturates. The bias current of 0.68 mA in $Q_{17}$ is much greater than the base current of $Q_{23}$, and thus $Q_{23}$ produces very little loading on $Q_{17}$. Consequently, voltage $V_{1}$ at the base of $Q_{23}$ can be driven to within $V_{C E(\\text { sat })}$ of either supply voltage with only a very small fractional change in the collector current of $Q_{17}$.\n\nFinally, we examine the fabrication details of diodes $Q_{18}$ and $Q_{19}$ in the 741. The actual circuit is shown in Fig. $5.20 b$, with the output protection circuitry omitted. Diode $Q_{19}$ conducts only a current equal to the base current of $Q_{18}$ plus the bleed current in pinch resistor $R_{10}$. Transistor $Q_{18}$ thus conducts most of the bias current of current source $Q_{13 \\mathrm{~A}}$. This arrangement is used for two reasons. First, the basic aim of achieving a voltage drop equal to two base-emitter voltages is achieved. Since $Q_{18}$ and $Q_{19}$ have common collectors, they can be placed in the same isolation region, reducing die area. Second, since $Q_{19}$ conducts only a small current, the bias voltage produced by $Q_{18}$ and $Q_{19}$ across the bases of $Q_{14}$ and $Q_{20}$ is less than would result from a connection as shown in Fig. 5.20a. This observation is important because output transistors $Q_{14}$ and $Q_{20}$ generally have emitter areas larger than the standard device geometry (typically four times larger or more) so that they can maintain high $\\beta_{F}$ while conducting large output currents. Thus, in the circuit of Fig. 5.20a, the bias current in $Q_{14}$ and $Q_{20}$ would be about four times the current in $Q_{18}$ and $Q_{19}$, which would be excessive in a 741-type circuit. However, the circuit of Fig. 5.20b can be designed to bias $Q_{14}$ and $Q_{20}$ to a current comparable to the current in the diodes, even though the output devices have a large area. The basic reason for this result is that the small bias current in $Q_{19}$ in Fig. 5.20 b gives it a smaller base-emitter voltage than for the same device in Fig. 5.20a, reducing the total bias voltage between the bases of $Q_{14}$ and $Q_{20}$.\n\nThe results described above can be quantitatively illustrated by calculating the bias currents in $Q_{14}$ and $Q_{20}$ of Fig. 5.20b. From KVL,\n\n$$\nV_{B E 19}+V_{B E 18}=V_{B E 14}+\\left|V_{B E 20}\\right|\n$$\n\nand thus\n\n$$\n\\frac{I_{C 19} I_{C 18}}{I_{S 18} I_{S 19}}=\\frac{I_{C 14}^{2}}{I_{S 14} I_{S 20}}\n$$\n\nIf we assume that the circuit is biased for $V_{o}=0 \\mathrm{~V}$ and also that $\\beta_{F 14} \\gg 1$ and $\\beta_{F 20} \\gg 1$, then $\\left|I_{C 14}\\right|=\\left|I_{C 20}\\right|$ and the equation becomes\n\n$$\nI_{C 14}=-I_{C 20}=\\sqrt{I_{C 19} I_{C 18}} \\sqrt{\\frac{I_{S 14} I_{S 20}}{I_{S 18} I_{S 19}}}\n$$\n\nEquation 5.83 may be used to calculate the output bias current in circuits of the type shown in Fig. 5.20b. The output-stage bias current is proportional to $\\sqrt{I_{C 18}}$ and $\\sqrt{I_{C 19}}$. For this specific example, the collector current in $Q_{19}$ is approximately equal to the current in $R_{10}$ if $\\beta_{F}$ is large and thus\n\n$$\nI_{C 19} \\simeq \\frac{V_{B E 18}}{R_{10}} \\simeq \\frac{0.6}{40} \\mathrm{~mA}=15 \\mu \\mathrm{~A}\n$$\n\nIf the base currents of $Q_{14}$ and $Q_{20}$ are neglected, the collector current of $Q_{18}$ is\n\n$$\nI_{C 18} \\simeq\\left|I_{C 13 \\mathrm{~A}}\\right|-I_{C 19}=(220-15) \\mu \\mathrm{A}=205 \\mu \\mathrm{A}\n$$\n\nTo calculate the output-stage bias currents from (5.83), values for the various reverse saturation currents are required. These values depend on the particular IC process used, but typical values are $I_{S 18}=I_{S 19}=2 \\times 10^{-15} \\mathrm{~A}, I_{S 14}=4 I_{S 18}=8 \\times 10^{-15} \\mathrm{~A}$, and $I_{S 20}=4 \\times 10^{-15} \\mathrm{~A}$. Substitution of these data in (5.83) gives $I_{C 14}=-I_{C 20}=0.16 \\mathrm{~mA}$.\n\n#### EXAMPLE\n\nFor the output stage of Fig. 5.20a, calculate bias currents in all devices for $V_{o}=+10 \\mathrm{~V}$. Assume that $V_{C C}=15 \\mathrm{~V}, R_{L}=2 \\mathrm{k} \\Omega$, and $\\beta_{F}=100$. For simplicity, assume all devices have equal area and for each device\n\n$$\n\\left|I_{C}\\right|=10^{-14} \\"
},
{
    "text": "To demonstrate the practical considerations of Class B output-stage design, we will analyze two examples. The first is the output stage of the 709 operational amplifier, whose simplified schematic is depicted in Fig. 5.18. In this circuit, transistor $Q_{3}$ functions as a common-emitter driver for the output devices $Q_{1}$ and $Q_{2}$.\n\nThe transfer characteristic of this stage can be derived as follows. At rest, $V_{o}=0$ and $V_{1}=0$. Consequently, with $Q_{1}$ and $Q_{2}$ turned off, no base current flows through them. Thus, for $V_{C C}=10 \\mathrm{~V}$, the bias current in $Q_{3}$ is calculated as\n\n$$\nI_{C 3}=\\frac{V_{C C}-V_{1}}{R_{1}}=\\frac{V_{C C}}{R_{1}}=\\frac{10 \\mathrm{~V}}{20 \\mathrm{k} \\Omega}=0.50 \\mathrm{~mA}\n$$\n\nIn the circuit of Fig. 5.18, $Q_{3}$ acts as a common-emitter driver stage for output devices $Q_{1}$ and $Q_{2}$, which is part of the output stage of the 709 op amp. During quiescence, it operates with a bias current of 0.50 mA. The limiting\nThe practical considerations\nelements of Class B output-stage design are exemplified through the examination of two instances. The first is the output stage of the 709 operational amplifier, and its simplified schematic can be seen in Fig. 5.18. Here, transistor $Q_{3}$ serves as a common-emitter driver for the output devices $Q_{1}$ and $Q_{2}$.\n\nTo determine the transfer characteristic of this stage, consider the following. In the quiescent state, $V_{o}=0$ and $V_{1}=0$. Since $Q_{1}$ and $Q_{2}$ are off, there is no base current through them. Hence, for $V_{C C}=10 \\mathrm{~V}$, the bias current in $Q_{3}$ is computed as\n\n$$\nI_{C 3}=\\frac{V_{C C}-V_{1}}{R_{1}}=\\frac{V_{C C}}{R_{1}}=\\frac{10 \\mathrm{~V}}{20 \\mathrm{k} \\Omega}=0.50 \\mathrm{~mA}\n$$\n\nIn the circuit depicted in Fig. 5.18, $Q_{3}$ operates as a common-emitter driver stage for output devices $Q_{1}$ and $Q_{2}$, which is part of the output stage of the 709 op amp. It functions with a bias current of 0.50 mA in quiescent mode. The limiting values of $V_{o}$ are dictated by the driver stage."
},
{
    "text": "The practical considerations of designing a Class B output stage will be demonstrated through the examination of two examples. The first example is the output stage of the 709 operational amplifier, depicted in Fig. 5.18, which features a simplified schematic. In this configuration, transistor $Q_{3}$ functions as a common-emitter driver for the output devices $Q_{1}$ and $Q_{2}$.\n\nTo determine the transfer characteristic of this stage, calculations are performed under quiescent conditions where $V_{o}=0$ and $V_{1}=0$. With $Q_{1}$ and $Q_{2}$ non-conducting due to the lack of base current, the bias current in $Q_{3}$ is calculated as follows:\n\n$$\nI_{C 3}=\\frac{V_{C C}-V_{1}}{R_{1}}=\\frac{V_{C C}}{R_{1}}=\\frac{10 \\mathrm{~V}}{20 \\mathrm{k} \\Omega}=0.50 \\mathrm{~mA}\n$$\n\nThe limiting values of $V_{o}$ are governed by the driver stage. When a large positive $V_{i}$ is applied, $V_{1}$ decreases until $Q_{3}$ saturates, at which point the negative voltage limit $V_{o}^{-}$ is reached:\n\n$$\n\\begin{equation*}\nV_{o}^{-}=-V_{C C}+V_{C E 3(\\mathrm{sat})}-V_{b e 2} \\tag{5.76}\n\\end{equation*}\n$$\n\nFor $V_{1}$ values between $\\left(-V_{C C}+V_{C E 3(\\mathrm{sat})}\\right)$ and $\\left(-V_{B E(\\mathrm{on})}\\right)$, both $Q_{3}$ and $Q_{2}$ are in the forward-active region, and $V_{o}$ tracks $V_{1}$ with $Q_{2}$ acting as an emitter follower.\n\nAs $V_{i}$ becomes negative, the current in $Q_{3}$ diminishes, causing $V_{1}$ to rise and $Q_{1}$ to turn on. The positive voltage limit $V_{o}^{+}$ is reached when $Q_{3}$ cuts off and the base of $Q_{1}$ is fed from the positive supply via $R_{1}$. This leads to:\n\n$$\n\\begin{equation*}\nV_{C C}=I_{b 1} R_{1}+V_{b e 1}+V_{o}^{+} \\tag{5.77}\n\\end{equation*}\n$$\n\nIf $\\beta_{F 1}$ is large, then:\n\n$$\nV_{o}^{+}=I_{c 1} R_{L}=\\beta_{F 1} I_{b 1} R_{L}\n$$\n\nwhere $\\beta_{F 1}$ is the current gain of $Q_{1}$. Thus:\n\n$$\n\\begin{equation*}\nI_{b 1}=\\frac{V_{o}^{+}}{\\beta_{F 1} R_{L}} \\tag{5.78}\n\\end{equation*}\n$$\n\nSubstituting (5.78) into (5.77) and rearranging yields:\n\n$$\n\\begin{equation*}\nV_{o}^{+}=\\frac{V_{C C}-V_{b e 1}}{1+\\frac{R_{1}}{\\beta_{F 1} R_{L}}} \\tag{5.79}\n\\end{equation*}\n$$\n\nFor $R_{L}=10 \\mathrm{k} \\Omega$ and $\\beta_{F 1}=100$, (5.79) results in:\n\n$$\nV_{o}^{+}=0.98\\left(V_{C C}-V_{b e 1}\\right)\n$$\n\nIn this scenario, the limit on $V_{o}$ is comparable for both positive and negative swings. However, if $R_{L}=1 \\mathrm{k} \\Omega$ and $\\beta_{F 1}=100$, (5.79) gives:\n\n$$\nV_{o}^{+}=0.83\\left(V_{C C}-V_{b e 1}\\right)\n$$\n\nFigure 5.19 presents a SPICE-generated transfer characteristic curve for the circuit of Fig. 5.18 with $V_{C C}=10 \\mathrm{~V}$ and $R_{L}=1 \\mathrm{k} \\Omega$ and $10 \\mathrm{k} \\Omega$. The reduced positive voltage capability for $R_{L}=1 \\mathrm{k} \\Omega$ is evident, as is the deadband in the transfer characteristic. The curvature in the characteristic is due to the exponential nonlinearity of the driver $Q_{3}$. In practice, the transfer characteristic may exhibit even greater nonlinearity than shown in Fig. 5.19 because $\\beta_{F}$ for the $n p n$ transistor $Q_{1}$ is generally larger than $\\beta_{F}$ for the pnp transistor $Q_{2}$, causing the positive and negative sections of the characteristic to differ significantly. This behavior can be observed by calculating the small-signal gain $\\Delta V_{o} / \\Delta V_{i}$ for positive and negative $V_{o}$. In the actual 709 integrated circuit, negative feedback is applied around this output stage to mitigate these nonlinearities in the transfer characteristic.\n\nThe second example of a practical Class B output stage is presented in Fig. 5.20, where SPICE-calculated bias currents are included. This circuit is a simplified schematic of the 741 op amp output circuitry. The output devices $Q_{14}$ and $Q_{20}$ are biased to a collector current of about 0.17 mA by the diodes $Q_{18}$ and $Q_{19}$. The value of the bias current in $Q_{14}$ and $Q_{20}$ depends on the effective area ratio between diodes $Q_{18}$ and $Q_{19}$ and the output devices. ( $Q_{18}$ and $Q_{19}$ are implemented with transistors in practice.) The output stage is driven by lateral $p n p$ emitter-follower $Q_{23}$, which is driven by common-emitter stage $Q_{17}$ biased to 0.68 mA by current source $Q_{13 \\mathrm{~B}}$.\n\nThe diodes in Fig. 5.20 effectively eliminate crossover distortion in the circuit, which can be observed in the SPICE-generated transfer characteristic of Fig. 5.21. The linearity of this stage is further enhanced by the fact that the output devices are driven from a low resistance provided by the emitter follower $Q_{23}$. Consequently, differences in $\\beta_{F}$ between $Q_{14}$ and $Q_{20}$ have minimal effect on the transfer characteristic because small-signal gain $\\Delta V_{o} / \\Delta V_{1} \\simeq 1$ for any practical value of $\\beta_{F}$ with either $Q_{14}$ or $Q_{20}$ conducting.\n\nThe limits on the output voltage swing shown in Fig. 5.21 can be determined as follows. As $V_{i}$ becomes positive, the voltage $V_{1}$ at the base of $Q_{23}$ goes negative, and voltages $V_{2}$ and $V_{o}$ follow with $Q_{20}$ drawing current from $R_{L}$. When $Q_{17}$ saturates, the output voltage limit for negative excursions is reached at:\n\n$$\n\\begin{equation*}\nV_{o}^{-}=-V_{C C}+V_{C E 17(\\mathrm{sat})}-V_{b e 23}-V_{b e 20} \\tag{5.80}\n\\end{equation*}\n$$\n\nThis limit is about 1.4 V more positive than the negative supply. Thus, $V_{o}^{-}$ is limited by saturation in $Q_{17}$, which is the stage preceding driver stage $Q_{23}$.\n\nAs $V_{i}$ becomes negative from its quiescent value (where $V_{o}=0$), voltage $V_{1}$ rises, and voltages $V_{2}$ and $V_{o}$ follow with $Q_{14}$ delivering current to the load. The positive output voltage limit $V_{o}^{+}$ is reached when current source $Q_{13 \\mathrm{~A}}$ saturates, resulting in:\n\n$$\n\\begin{equation*}\nV_{o}^{+}=V_{C C}+V_{C E 13 \\mathrm{~A}(\\mathrm{sat})}-V_{b e 14} \\tag{5.81}\n\\end{equation*}\n$$\n\nThis limit is about 0.8 V below the positive supply because $V_{C E 13 \\mathrm{~A}(\\mathrm{sat})} \\simeq-0.1 \\mathrm{~V}$ for the $p n p$ device. Thus, $V_{o}^{+}$ is also limited by the driver stage.\n\nThe power requirements of the driver circuits in a configuration such as shown in Fig. 5.20 require careful consideration. The primary requirement of the driver is to supply sufficient drive to the output stage so that it can deliver the desired power to $R_{L}$. As $V_{o}$ becomes negative, $Q_{23}$ draws current from the base of $Q_{20}$ with essentially no limit. In fact, the circuit must be protected in case of a short-circuited load. Otherwise, a large input signal could cause $Q_{23}$ and $Q_{20}$ to conduct such heavy currents that they burn out. As explained earlier, the negative voltage limit is reached when $Q_{17}$ saturates and can no longer drive the base of $Q_{23}$ negative.\n\nAs $V_{o}$ becomes positive (by $V_{i}$ going negative and $V_{1}$ going positive), $Q_{23}$ conducts less, and current source $Q_{13 \\mathrm{~A}}$ supplies base current to $Q_{14}$. The maximum output current is limited by the current of 0.22 mA available for driving $Q_{14}$. As $V_{1}, V_{2}$, and $V_{o}$ go positive, the current in $Q_{14}$ increases, and the current in $Q_{13 \\mathrm{~A}}$ is progressively diverted to the base of $Q_{14}$. The maximum possible output current delivered by $Q_{14}$ is thus:\n\n$$\nI_{o}=\\beta_{F 14} \\times 0.22 \\mathrm{~mA}\n$$\n\nIf $\\beta_{F 14}=100$, the maximum output current is 22 mA. The driver stage may thus limit the maximum positive current available from the output stage. However, this output current level is only reached if $R_{L}$ is small enough so that $Q_{13 \\mathrm{~A}}$ does not saturate on the positive voltage excursion.\n\nThe stage preceding the driver in this circuit is $Q_{17}$. As mentioned above, the negative voltage limit of $V_{o}$ is reached when $Q_{17}$ saturates. The bias current of 0.68 mA in $Q_{17}$ is much greater than the base current of $Q_{23}$, and thus $Q_{23}$ produces very little loading on $Q_{17}$. Consequently, voltage $V_{1}$ at the base of $Q_{23}$ can be driven to within $V_{C E(\\text { sat })}$ of either supply voltage with only a very small fractional change in the collector current of $Q_{17}$.\n\nFinally, we will examine the fabrication details of diodes $Q_{18}$ and $Q_{19}$ in the 741. The actual circuit is shown in Fig. $5.20 b$ with the output protection circuitry omitted. Diode $Q_{19}$ conducts only a current equal to the base current of $Q_{18}$ plus the bleed current in pinch resistor $R_{10}$. Transistor $Q_{18}$ thus conducts most of the bias current of current source $Q_{13 \\mathrm{~A}}$. This arrangement is used for two reasons. First, the goal of achieving a voltage drop equal to two base-emitter voltages is achieved. Since $Q_{18}$ and $Q_{19}$ have common collectors, they can be placed in the same isolation region, reducing die area. Second, since $Q_{19}$ conducts only a small current, the bias voltage produced by $Q_{18}$ and $Q_{19}$ across the bases of $Q_{14}$ and $Q_{20}$ is less than would result from a connection as shown in Fig. 5.20a. This observation is important because output transistors $Q_{14}$ and $Q_{20}$ generally have emitter areas larger than the standard device geometry (typically four times larger or more) so that they can maintain high $\\beta_{F}$ while conducting large output currents. Thus, in the circuit of Fig. 5.20a, the bias current in $Q_{14}$ and $Q_{20}$ would be about four times the current in $Q_{18}$ and $Q_{19}$, which would be excessive in a 741-type circuit. However, the circuit of Fig. 5.20b can be designed to bias $Q_{14}$ and $Q_{20}$ to a current comparable to the current in the diodes, even though the output devices have a large area. The basic reason for this result is that the small bias current in $Q_{19}$ in Fig. 5.20 b gives it a smaller base-emitter voltage than for the same device in Fig. 5.20a, reducing the total bias voltage between the bases of $Q_{14}$ and $Q_{20}$.\n\nThe results described above can be illustrated quantitatively by calculating the bias currents in $Q_{14}$ and $Q_{20}$ of Fig. 5.20b. From KVL,\n\n$$\nV_{B E 19}+V_{B E 18}=V_{B E 14}+\\left|V_{B E 20}\\right|\n$$\n\nand thus:\n\n$$\n\\begin{equation*}\nV_{T} \\ln \\frac{I_{C 19}}{I_{S 19}}+V_{T} \\ln \\frac{I_{C 18}}{I_{S 18}}=V_{T} \\ln \\frac{I_{C 14}}{I_{S 14}}+V_{T} \\ln \\left|\\frac{I_{C 20}}{I_{S 20}}\\right| \\tag{5.82}\n\\end{equation*}\n$$\n\nIf we assume that the circuit is biased for $V_{o}=0 \\mathrm{~V}$ and also that $\\beta_{F 14} \\gg 1$ and $\\beta_{F 20} \\gg 1$, then $\\left|I_{C 14}\\right|=\\left|I_{C 20}\\right|$ and (5.82) becomes:\n\n$$\n\\frac{I_{C 19} I_{C 18}}{I_{S 18} I_{S 19}}=\\frac{I_{C 14}^{2}}{I_{S 14} I_{S 20}}\n$$\n\nfrom which:\n\n$$\n\\begin{equation*}\nI_{C 14}=-I_{C 20}=\\sqrt{I_{C 19} I_{C 18}} \\sqrt{\\frac{I_{S 14} I_{S 20}}{I_{S 18} I_{S 19}}} \\tag{5.83}\n\\end{equation*}\n$$\n\nEquation 5.83 can be used to calculate the output bias current in circuits of the type shown in Fig. 5.20b. The output-stage bias current from (5.83) is proportional to $\\sqrt{I_{C 18}}$ and $\\sqrt{I_{C 19}}$. For this specific example, the collector current in $Q_{19}$ is approximately equal to the current in $R_{10}$ if $\\beta_{F}$ is large, and thus:\n\n$$\nI_{C 19} \\simeq \\frac{V_{B E 18}}{R_{10}} \\simeq \\frac{0.6}{40} \\mathrm{~mA}=15 \\mu \\mathrm{~mA}\n$$\n\nIf the base currents of $Q_{14}$ and $Q_{20}$ are neglected, the collector current of $Q_{18}$ is:\n\n$$\nI_{C 18} \\simeq\\left|I_{C 13 \\mathrm{~A}}\\right|-I_{C 19}=(220-15) \\mu \\mathrm{A}=205 \\mu \\mathrm{A}\n$$\n\nTo calculate the output-stage bias currents from (5.83), values for the various reverse saturation currents are required. These values depend on the particular IC process used, but typical values are $I_{S 18}=I_{S 19}=2 \\times 10^{-15} \\mathrm{~A}, I_{S 14}=4 I_{S 18}=8 \\times 10^{-15} \\mathrm{~A}$, and $I_{S 20}=4 \\times 10^{-15} \\mathrm{~A}$. Substitution of these data in (5.83) gives $I_{C 14}=-I_{C 20}=0.16 \\mathrm{~mA}$.\n\n#### EXAMPLE\n\nFor the output stage of Fig. 5.20a, calculate bias currents in all devices for $V_{o}=+10 \\mathrm{~V}$. Assume that $V_{C C}=15 \\mathrm{~V}, R_{L}=2 \\mathrm{k} \\Omega$, and $\\beta_{F}=100$. For simplicity, assume all devices have equal area and for each device:\n\n$$\n\\begin{equation*}\n\\left|I_{C}\\right|=10^{-14} \\exp \\left|\\frac{V_{b e}}{V_{T}}\\right| \\tag{5.84}\n\\end{equation*}\n$$\n\nAssuming that $Q_{14}$ supplies the load current for positive output voltages, we have:\n\n$$\nI_{c 14}=\\frac{V_{o}}{R_{L}}=\\frac{10 \\mathrm{~V}}{2 \\mathrm{k} \\Omega}=5 \\mathrm{~mA}\n$$\n\nSubstitution in (5.84) and rearranging gives:\n\n$$\nV_{b e 14}=(26 \\mathrm{mV}) \\ln \\left(\\frac{5 \\times 10"
},
{
    "text": "To explore the design of Class B output stages, we'll delve into two practical examples. First, consider the straightforward design of the 709 operational amplifier's output stage, as depicted in Fig. 5.18. This schematic highlights transistor $Q_{3}$, which functions as a common-emitter driver for the output transistors, $Q_{1}$ and $Q_{2}$.\n\nIn a quiescent state, with $V_{o}=0$ and $V_{1}=0$, $Q_{1}$ and $Q_{2}$ are non-conducting, eliminating any base current. Consequently, for a supply voltage of $V_{C C}=10 \\mathrm{~V}$, the bias current in $Q_{3}$ is calculated as\n\n$$\nI_{C 3}=\\frac{V_{C C}}{R_{1}}=\\frac{10 \\mathrm{~V}}{20 \\mathrm{k} \\Omega}=0.50 \\mathrm{~mA}\n$$\n\nFigure 5.18 represents the simplified output stage schematic of the 709 op amp, detailing the connections of resistors and transistors within the circuit.\n\nThe output voltage limits, $V_{o}$, are dictated by the driver stage. When $V_{i}$ becomes significantly positive, $V_{1}$ diminishes until $Q_{3}$ saturates, marking the lower voltage limit, $V_{o}^{-}$:\n\n$$\nV_{o}^{-}=-V_{C C}+V_{C E 3(\\mathrm{sat})}-V_{b e 2}\n$$\n\nWithin the voltage range where $V_{1}$ falls between $\\left(-V_{C C}+V_{C E 3(\\mathrm{sat})}\\right)$ and $\\left(-V_{B E(\\mathrm{on})}\\right)$, both $Q_{3}$ and $Q_{2}$ operate in the forward-active region, and $V_{o}$ mirrors $V_{1}$ with $Q_{2}$ acting as an emitter follower.\n\nConversely, as $V_{i}$ turns negative, the current in $Q_{3}$ diminishes, causing $V_{1}$ to rise and activate $Q_{1}$. The upper voltage limit, $V_{o}^{+}$, is reached when $Q_{3}$ ceases conduction, and the base of $Q_{1}$ receives current directly from the positive supply through $R_{1}$. The relationship is given by\n\n$$\nV_{C C}=I_{b 1} R_{1}+V_{b e 1}+V_{o}^{+}\n$$\n\nIf $\\beta_{F 1}$ is substantial, then\n\n$$\nV_{o}^{+}=I_{c 1} R_{L}=\\beta_{F 1} I_{b 1} R_{L}\n$$\n\nwith $\\beta_{F 1}$ being the current gain of $Q_{1}$. Thus,\n\n$$\nI_{b 1}=\\frac{V_{o}^{+}}{\\beta_{F 1} R_{L}}\n$$\n\nSubstituting this into the previous equation and rearranging yields\n\n$$\nV_{o}^{+}=\\frac{V_{C C}-V_{b e 1}}{1+\\frac{R_{1}}{\\beta_{F 1} R_{L}}}\n$$\n\nFor $R_{L}=10 \\mathrm{k} \\Omega$ and $\\beta_{F 1}=100$, this equation results in\n\n$$\nV_{o}^{+}=0.98\\left(V_{C C}-V_{b e 1}\\right)\n$$\n\nIn this scenario, the limits of $V_{o}$ are nearly symmetrical for positive and negative swings. However, for $R_{L}=1 \\mathrm{k} \\Omega$ and $\\beta_{F 1}=100$, the equation gives\n\n$$\nV_{o}^{+}=0.83\\left(V_{C C}-V_{b e 1}\\right)\n$$\n\nFigure 5.19 presents a transfer characteristic curve illustrating the relationship between the output voltage \\( V_o \\) and the input voltage \\( V_i \\) under different load resistances \\( R_L \\). The graph highlights the impact of load resistance on the output voltage swing and the occurrence of clipping.\n\nIn the context of the 709 operational amplifier, negative feedback is applied around the output stage to mitigate the nonlinearities in the transfer characteristic.\n\nA second example of a Class B output stage is presented in Fig. 5.20, depicting the output circuitry of the 741 op amp. This circuit showcases the biasing and operation of the output devices, $Q_{14}$ and $Q_{20}$, and the role of diodes $Q_{18}$ and $Q_{19}$ in minimizing crossover distortion.\n\nThe SPICE-generated transfer characteristic in Fig. 5.21 illustrates the linear nature of this stage, improved by the low resistance driving provided by the emitter follower $Q_{23}$. The figure also highlights the output voltage swing limits and the influence of driver stage saturation on these limits.\n\nThe power requirements and protective measures in circuits like those in Fig. 5.20 are crucial considerations. The circuit design must ensure that the driver stage can supply adequate power to the load resistor \\( R_L \\) without causing damage to the output devices under large input signals or short-circuit conditions.\n\nFinally, the fabrication details of diodes $Q_{18}$ and $Q_{19}$ in the 741 op amp are discussed, explaining the biasing arrangement and the reasons behind the design choices that lead to efficient use of die area and appropriate bias current levels.\n\nQuantitative calculations are provided to determine the bias currents in $Q_{14}$ and $Q_{20}$ based on the circuit configuration and assumed values for parameters like \\( V_{C C} \\), \\( R_{L} \\), and \\( \\beta_{F} \\). The calculations demonstrate the intricate balance of currents and voltages necessary for the proper operation of the output stage in the 741 op amp."
},
{
    "text": "To elucidate the design principles of Class B output stages, we will explore two practical examples. The first example is the output stage of the 709 operational amplifier, and a simplified schematic is depicted in Fig. 5.18. In this configuration, transistor $Q_{3}$ functions as a common-emitter driver for the output devices $Q_{1}$ and $Q_{2}$.\n\nThe transfer characteristics of this stage can be derived as follows. At rest, $V_{o}=0$ and $V_{1}=0$. Consequently, with $Q_{1}$ and $Q_{2}$ being non-conducting, there is no base current in these transistors. Hence, for $V_{C C}=10 \\mathrm{~V}$, the bias current in $Q_{3}$ is given by:\n\n$$\nI_{C 3}=\\frac{V_{C C}-V_{1}}{R_{1}}=\\frac{V_{C C}}{R_{1}}=\\frac{10 \\mathrm{~V}}{20 \\mathrm{k} \\Omega}=0.50 \\mathrm{~mA}\n$$\n\nThe simplified schematic of the output stage of the 709 op amp is shown in Fig. 5.18.\n\nThe permissible range of $V_{o}$ values is set by the driver stage. When $V_{i}$ becomes significantly positive, $V_{1}$ decreases until $Q_{3}$ saturates, at which point the lower limit of $V_{o}$ is reached:\n\n$$\n\\begin{equation*}\nV_{o}^{-}=-V_{C C}+V_{C E 3(\\mathrm{sat})}-V_{b e 2} \\tag{5.76}\n\\end{equation*}\n$$\n\nFor $V_{1}$ values between $\\left(-V_{C C}+V_{C E 3(\\mathrm{sat})}\\right)$ and $\\left(-V_{B E(\\mathrm{on})}\\right)$, both $Q_{3}$ and $Q_{2}$ are in the forward-active region, and $V_{o}$ tracks $V_{1}$ with $Q_{2}$ acting as an emitter follower.\n\nAs $V_{i}$ becomes negative, the current in $Q_{3}$ diminishes, and $V_{1}$ increases, activating $Q_{1}$. The upper limit of $V_{o}$ is reached when $Q_{3}$ ceases conducting and the base of $Q_{1}$ is fed from the positive supply through $R_{1}$. This results in:\n\n$$\n\\begin{equation*}\nV_{C C}=I_{b 1} R_{1}+V_{b e 1}+V_{o}^{+} \\tag{5.77}\n\\end{equation*}\n$$\n\nIf $\\beta_{F 1}$ is substantial, then:\n\n$$\nV_{o}^{+}=I_{c 1} R_{L}=\\beta_{F 1} I_{b 1} R_{L}\n$$\n\nwhere $\\beta_{F 1}$ is the current gain of $Q_{1}$. Thus:\n\n$$\n\\begin{equation*}\nI_{b 1}=\\frac{V_{o}^{+}}{\\beta_{F 1} R_{L}} \\tag{5.78}\n\\end{equation*}\n$$\n\nSubstituting (5.78) into (5.77) and rearranging yields:\n\n$$\n\\begin{equation*}\nV_{o}^{+}=\\frac{V_{C C}-V_{b e 1}}{1+\\frac{R_{1}}{\\beta_{F 1} R_{L}}} \\tag{5.79}\n\\end{equation*}\n$$\n\nFor $R_{L}=10 \\mathrm{k} \\Omega$ and $\\beta_{F 1}=100$, (5.79) results in:\n\n$$\nV_{o}^{+}=0.98\\left(V_{C C}-V_{b e 1}\\right)\n$$\n\nIn this instance, the constraints on $V_{o}$ are similar for both positive and negative swings. However, if $R_{L}=1 \\mathrm{k} \\Omega$ and $\\beta_{F 1}=100$, (5.79) gives:\n\n$$\nV_{o}^{+}=0.83\\left(V_{C C}-V_{b e 1}\\right)\n$$\n\nThe graph in Figure 5.19 is a transfer characteristic curve illustrating the relationship between the output voltage \\( V_o \\) and the input voltage \\( V_i \\) for a specific circuit configuration. The graph encompasses two curves, each associated with a distinct load resistance \\( R_L \\): one for \\( R_L = 1 \\text{k}\\Omega \\) and another for \\( R_L = 10 \\text{k}\\Omega \\).\n\nThe horizontal axis represents the input voltage \\( V_i \\) in volts, ranging from 0.60 V to 0.66 V, while the vertical axis represents the output voltage \\( V_o \\) in volts, ranging from -9 V to 6 V.\n\nBoth curves depict a non-linear relationship between \\( V_i \\) and \\( V_o \\), with the output voltage decreasing as the input voltage increases. The curve for \\( R_L = 10 \\text{k}\\Omega \\) (dashed line) lies above the curve for \\( R_L = 1 \\text{k}\\Omega \\) (solid line), indicating a higher output voltage for the same input voltage when the load resistance is higher.\n\nThe curves exhibit a steep decline, especially noticeable as \\( V_i \\) approaches 0.64 V, indicating a rapid change in output voltage. The maximum output voltage for \\( R_L = 10 \\text{k}\\Omega \\) is around 6 V, while for \\( R_L = 1 \\text{k}\\Omega \\), it is approximately 3 V. Clipping occurs for \\( R_L = 1 \\text{k}\\Omega \\) at lower input voltages, demonstrating reduced output voltage swing compared to \\( R_L = 10 \\text{k}\\Omega \\).\n\nBoth curves intersect the \\( V_i \\) axis near 0.63 V, which appears to be a critical point for the circuit's operation. The graph visually portrays the impact of load resistance on the output characteristics, highlighting how a lower load resistance diminishes the maximum achievable output voltage and leads to earlier clipping.\n\nThe SPICE-generated transfer curve for the circuit in Fig. 5.18 with $V_{C C}=10 \\mathrm{~V}$ and $R_{L}=1 \\mathrm{k} \\Omega$ and $10 \\mathrm{k} \\Omega$ is shown in Fig. 5.19 (assuming $\\beta_{F}=100$ for all devices). The diminished positive voltage capability for $R_{L}=1 \\mathrm{k} \\Omega$ is evident, as is the deadband present in the transfer characteristic. The curvature in the characteristic stems from the exponential nonlinearity of the driver $Q_{3}$. In practice, the transfer characteristic may exhibit even greater non-linearity than shown in Fig. 5.19 due to $\\beta_{F}$ for the $n p n$ transistor $Q_{1}$ generally being larger than $\\beta_{F}$ for the pnp transistor $Q_{2}$, causing the positive and negative sections of the characteristic to differ substantially. This behavior can be observed by calculating the small-signal gain $\\Delta V_{o} / \\Delta V_{i}$ for positive and negative $V_{o}$. In the actual 709 integrated circuit, negative feedback is implemented around this output stage to mitigate these non-linearities in the transfer characteristic.\n\nA second example of a practical Class B output stage is presented in Fig. 5.20, where SPICE-calculated bias currents are incorporated. This circuit is a simplified schematic of the 741 op amp output circuitry. The output devices $Q_{14}$ and $Q_{20}$ are biased to a collector current of approximately 0.17 mA by the diodes $Q_{18}$ and $Q_{19}$. The bias current value in $Q_{14}$ and $Q_{20}$ depends on the effective area ratio between diodes $Q_{18}$ and $Q_{19}$ and the output devices. ( $Q_{18}$ and $Q_{19}$ are realized with transistors in practice.) The output stage is driven by the lateral $p n p$ emitter-follower $Q_{23}$, which is driven by the common-emitter stage $Q_{17}$ biased to 0.68 mA by current source $Q_{13 \\mathrm{~B}}$.\n\nThe diodes in Fig. 5.20 essentially eliminate crossover distortion in the circuit, which can be observed in the SPICE-generated transfer characteristic of Fig. 5.21. The linearity of this stage is further enhanced by the fact that the output devices are driven from a low resistance provided by the emitter follower $Q_{23}$. Consequently, variations in $\\beta_{F}$ between $Q_{14}$ and $Q_{20}$ have minimal impact on the transfer characteristic because small-signal gain $\\Delta V_{o} / \\Delta V_{1} \\simeq 1$ for any practical value of $\\beta_{F}$ with either $Q_{14}$ or $Q_{20}$ conducting.\n\nThe output voltage swing limits displayed in Fig. 5.21 can be determined as follows. As $V_{i}$ becomes positive, the voltage $V_{1}$ at the base of $Q_{23}$ goes negative, and voltages $V_{2}$ and $V_{o}$ follow with $Q_{20}$ sourcing current to $R_{L}$. When $Q_{17}$ saturates, the output voltage limit for negative excursions is reached at:\n\n$$\n\\begin{equation*}\nV_{o}^{-}=-V_{C C}+V_{C E 17(\\mathrm{sat})}-V_{b e 23}-V_{b e 20} \\tag{5.80}\n\\end{equation*}\n$$\n\nThis limit is approximately 1.4 V more positive than the negative supply. Thus $V_{o}^{-}$ is constrained by saturation in $Q_{17}$, which is the stage preceding driver stage $Q_{23}$.\n\nAs $V_{i}$ becomes negative from its quiescent value (where $V_{o}=0$), voltage $V_{1}$ rises, and voltages $V_{2}$ and $V_{o}$ follow with $Q_{14}$ delivering current to the load. The positive output voltage limit $V_{o}^{+}$ is reached when current source $Q_{13 \\mathrm{~A}}$ saturates, resulting in:\n\n$$\n\\begin{equation*}\nV_{o}^{+}=V_{C C}+V_{C E 13 \\mathrm{~A}(\\mathrm{sat})}-V_{b e 14} \\tag{5.81}\n\\end{equation*}\n$$\n\nThis limit is approximately 0.8 V below the positive supply because $V_{C E 13 \\mathrm{~A}(\\mathrm{sat})} \\simeq-0.1 \\mathrm{~V}$ for the $p n p$ device. Thus $V_{o}^{+}$ is also limited by the driver stage.\n\nThe power requirements of the driver circuits in a configuration such as shown in Fig. 5.20 necessitate careful consideration. The primary requirement of the driver is to supply adequate drive to the output stage so that it can deliver the desired power to $R_{L}$. As $V_{o}$ becomes negative, $Q_{23}$ draws current from the base of $Q_{20}$ with essentially no limit. In fact, the circuit must be safeguarded against a short-circuited load. Otherwise, a large input signal could cause $Q_{23}$ and $Q_{20}$ to conduct such heavy currents that they may be damaged. As explained earlier, the negative voltage limit is reached when $Q_{17}$ saturates and can no longer drive the base of $Q_{23}$ negative.\n\nAs $V_{o}$ becomes positive (by $V_{i}$ going negative and $V_{1}$ going positive), $Q_{23}$ conducts less, and current source $Q_{13 \\mathrm{~A}}$ supplies base current to $Q_{14}$. The maximum output current is limited by the current of 0.22 mA available for driving $Q_{14}$. As $V_{1}, V_{2}$, and $V_{o}$ go positive, the current in $Q_{14}$ increases, and the current in $Q_{13 \\mathrm{~A}}$ is progressively diverted to the base of $Q_{14}$. The maximum possible output current delivered by $Q_{14}$ is thus:\n\n$$\nI_{o}=\\beta_{F 14} \\times 0.22 \\mathrm{~mA}\n$$\n\nIf $\\beta_{F 14}=100$, the maximum output current is 22 mA. The driver stage may thus limit the maximum positive current available from the output stage. However, this output current level is only reached if $R_{L}$ is small enough so that $Q_{13 \\mathrm{~A}}$ does not saturate on the positive voltage excursion.\n\nThe stage preceding the driver in this circuit is $Q_{17}$. As mentioned earlier, the negative voltage limit of $V_{o}$ is reached when $Q_{17}$ saturates. The bias current of 0.68 mA in $Q_{17}$ is much greater than the base current of $Q_{23}$, and thus $Q_{23}$ produces very little loading on $Q_{17}$. Consequently, voltage $V_{1}$ at the base of $Q_{23}$ can be driven to within $V_{C E(\\text { sat })}$ of either supply voltage with only a very small fractional change in the collector current of $Q_{17}$.\n\nFinally, we will examine the fabrication details of diodes $Q_{18}$ and $Q_{19}$ in the 741. The actual circuit is shown in Fig. $5.20 b$ with the output protection circuitry omitted. Diode $Q_{19}$ conducts only a current equal to the base current of $Q_{18}$ plus the bleed current in pinch resistor $R_{10}$. Transistor $Q_{18}$ thus conducts most of the bias current of current source $Q_{13 \\mathrm{~A}}$. This arrangement is used for two reasons. First, the fundamental aim of achieving a voltage drop equal to two base-emitter voltages is achieved. Since $Q_{18}$ and $Q_{19}$ have common collectors, however, they can be placed in the same isolation region, reducing die area. Second, since $Q_{19}$ conducts only a small current, the bias voltage produced by $Q_{18}$ and $Q_{19}$ across the bases of $Q_{14}$ and $Q_{20}$ is less than would result from a connection as shown in Fig. 5.20a. This observation is important because output transistors $Q_{14}$ and $Q_{20}$ generally have emitter areas larger than the standard device geometry (typically four times larger or more) so that they can maintain high $\\beta_{F}$ while conducting large output currents. Thus in the circuit of Fig. 5.20a, the bias current in $Q_{14}$ and $Q_{20}$ would be about four times the current in $Q_{18}$ and $Q_{19}$, which would be excessive in a 741-type circuit. However, the circuit of Fig. 5.20b can be designed to bias $Q_{14}$ and $Q_{20}$ to a current comparable to the current in the diodes, even though the output devices have a large area. The basic reason for this result is that the small bias current in $Q_{19}$ in Fig. 5.20 b gives it a smaller base-emitter voltage than for the same device in Fig. 5.20a, reducing the total bias voltage between the bases of $Q_{14}$ and $Q_{20}$.\n\nThe results described above can be illustrated quantitatively by calculating the bias currents in $Q_{14}$ and $Q_{20}$ of Fig. 5.20b. From KVL,\n\n$$\nV_{B E 19}+V_{B E 18}=V_{B E 14}+\\left|V_{B E 20}\\right|\n$$\n\nand thus\n\n$$\n\\begin{equation*}\nV_{T} \\ln \\frac{I_{C 19}}{I_{S 19}}+V_{T} \\ln \\frac{I_{C 18}}{I_{S 18}}=V_{T} \\ln \\frac{I_{C 14}}{I_{S 14}}+V_{T} \\ln \\left|\\frac{I_{C 20}}{I_{S 20}}\\right| \\tag{5.82}\n\\end{equation*}\n$$\n\nIf we assume that the circuit is biased for $V_{o}=0 \\mathrm{~V}$ and also that $\\beta_{F 14} \\gg 1$ and $\\beta_{F 20} \\gg 1$, then $\\left|I_{C 14}\\right|=\\left|I_{C 20}\\right|$ and (5.82) becomes\n\n$$\n\\frac{I_{C 19} I_{C 18}}{I_{S 18} I_{S 19}}=\\frac{I_{C 14}^{2}}{I_{S 14} I_{S 20}}\n$$\n\nfrom which\n\n$$\n\\begin{equation*}\nI_{C 14}=-I_{C 20}=\\sqrt{I_{C 19} I_{C 18}} \\sqrt{\\frac{I_{S 14} I_{S 20}}{I_{S 18} I_{S 19}}} \\tag{5.83}\n\\end{equation*}\n$$\n\nEquation 5.83 can be used to calculate the output bias current in circuits of the type shown in Fig. 5.20b. The output-stage bias current from (5.83) is proportional to $\\sqrt{I_{C 18}}$ and $\\sqrt{I_{C 19}}$. For this specific example, the collector current in $Q_{19}$ is approximately equal to the current in $R_{10}$ if $\\beta_{F}$ is large and thus\n\n$$\nI_{C 19} \\simeq \\frac{V_{B E 18}}{R_{10}} \\simeq \\frac{0.6}{40} \\mathrm{~mA}=15 \\mu \\mathrm{~A}\n$$\n\nIf the base currents of $Q_{14}$ and $Q_{20}$ are neglected, the collector current of $Q_{18}$"
},
{
    "text": "The functional elements of Class B power amplifier design will be elucidated through a pair of exemplars. Among the most straightforward configurations is the output stage of the 709 operational amplifier, an abridged schematic of which is presented in Fig. 5.18. Here, transistor $Q_{3}$ serves as a common-emitter driver for the output transistors $Q_{1}$ and $Q_{2}$.\n\nThe transfer characteristics of this stage can be derived as follows. At rest, with $V_{o}=0$ and $V_{1}=0$, $Q_{1}$ and $Q_{2}$ are non-conducting, eliminating no base current flows through them. Consequently, for $V_{C C}=10 \\mathrm{~V}$, the bias current in $Q_{3}$ is\n\n$$\nI_{C 3}=\\frac{V_{C C}-V_{1}}{R_{1}}=\\frac{V_{C C}}{R_{1}}=\\frac{10 \\mathrm{~V}}{20 \\mathrm{k} \\Omega}=0.50 \\mathrm{~mA}\n$$\n\n[Fig 5.18 depicts\nThe functionality elements of Class B power amplifier design will be demonstratedated through two examples. Among the most straightforward configurations is the output stage of the 709 operational amplifier, an abridged schematic of which is presented in Fig. 5.18. Here, transistor $Q_{3}$ serves as a common-emitter driver for the output transistors $Q_{1}$ and $Q_{2}$.\n\nThe transfer characteristics of this stage can be derived as follows. At rest, with $V_{o}=0$ and $V_{1}=0$, $Q_{1}$ and $Q_{2}$ are non-conducting, hence no base current flows through them. Consequently, for $V_{C C}=10 \\mathrm{~V}$, the bias current in $Q_{3}$ is\n\n$$\nI_{C 3}=\\frac{V_{C C}-V_{1}}{R_{1}}=\\frac{V_{C C}}{R_{1}}=\\frac{10 \\mathrm{~V}}{20 \\mathrm{k} \\Omega}=0.50 \\mathrm{~mA}\n$$\n\n[Figure 5.18"
},
{
    "text": "The practical design considerations for a Class B output stage will be demonstrated through two examples. The first example is the output stage of the 709 operational amplifier, with a simplified schematic presented in Fig. 5.18. Here, transistor $Q_3$ functions as a common-emitter driver for the output devices, $Q_1$ and $Q_2$.\n\nTo determine the transfer characteristic of this stage, calculations are performed under quiescent conditions where $V_o=0$ and $V_1=0$. With $Q_1$ and $Q_2$ being off, there is no base current in these devices. Thus, for $V_{CC}=10 \\mathrm{~V}$, the bias current in $Q_3$ is calculated as:\n\n$$\nI_{C3}=\\frac{V_{CC}-V_{1}}{R_{1}}=\\frac{V_{CC}}{R_{1}}=\\frac{10 \\mathrm{~V}}{20 \\mathrm{k} \\Omega}=0.50 \\mathrm{~mA}\n$$\n\nIn Fig. 5.18, the simplified schematic of the 709 op amp's output stage is depicted. The limiting values of $V_o$ are governed by the driver stage. As $V_i$ becomes large and positive, $V_1$ decreases until $Q_3$ saturates, leading to the negative voltage limit $V_o^-$:\n\n$$\nV_o^-=-V_{CC}+V_{CE3(\\mathrm{sat})}-V_{be2}\n$$\n\nFor $V_1$ values between $(-V_{CC}+V_{CE3(\\mathrm{sat})})$ and $(-V_{BE(\\mathrm{on})})$, both $Q_3$ and $Q_2$ are in the forward-active region, with $V_o$ following $V_1$ and $Q_2$ acting as an emitter follower.\n\nAs $V_i$ becomes negative, the current in $Q_3$ decreases, causing $V_1$ to rise and $Q_1$ to turn on. The positive voltage limit $V_o^+$ is reached when $Q_3$ cuts off and the base of $Q_1$ is fed from the positive supply via $R_1$. This gives:\n\n$$\nV_{CC}=I_{b1} R_{1}+V_{be1}+V_o^+\n$$\n\nAssuming $\\beta_{F1}$ is large:\n\n$$\nV_o^+=I_{c1} R_L=\\beta_{F1} I_{b1} R_L\n$$\n\nWhere $\\beta_{F1}$ is the current gain of $Q_1$. This leads to:\n\n$$\nI_{b1}=\\frac{V_o^+}{\\beta_{F1} R_L}\n$$\n\nSubstituting the above into the previous equation and rearranging gives:\n\n$$\nV_o^+=\\frac{V_{CC}-V_{be1}}{1+\\frac{R_{1}}{\\beta_{F1} R_L}}\n$$\n\nFor $R_L=10 \\mathrm{k} \\Omega$ and $\\beta_{F1}=100$, the equation yields:\n\n$$\nV_o^+=0.98(V_{CC}-V_{be1})\n$$\n\nIn this scenario, the limit on $V_o$ is similar for both positive and negative swings. However, for $R_L=1 \\mathrm{k} \\Omega$ and $\\beta_{F1}=100$, the equation yields:\n\n$$\nV_o^+=0.83(V_{CC}-V_{be1})\n$$\n\nFig. 5.19 shows the SPICE-generated transfer characteristic for the circuit of Fig. 5.18 with $V_{CC}=10 \\mathrm{~V}$ and $R_L=1 \\mathrm{k} \\Omega$ and $10 \\mathrm{k} \\Omega$. The reduced positive voltage capability for $R_L=1 \\mathrm{k} \\Omega$ is evident, as is the deadband present in the transfer characteristic. The curvature in the characteristic is due to the exponential nonlinearity of the driver $Q_3$. In practice, the transfer characteristic may be even more nonlinear due to the difference in $\\beta_F$ between the npn transistor $Q_1$ and the pnp transistor $Q_2$, causing significant differences in the positive and negative sections of the characteristic. This behavior can be observed by calculating the small-signal gain $\\Delta V_o / \\Delta V_i$ for positive and negative $V_o$. In the actual 709 integrated circuit, negative feedback is applied around this output stage to mitigate these nonlinearities in the transfer characteristic.\n\nThe second example of a practical Class B output stage is shown in Fig. 5.20, where SPICE-calculated bias currents are included. This circuit is a simplified schematic of the 741 op amp output circuitry. The output devices $Q_{14}$ and $Q_{20}$ are biased to a collector current of about 0.17 mA by the diodes $Q_{18}$ and $Q_{19}$. The bias current value in $Q_{14}$ and $Q_{20}$ depends on the effective area ratio between the diodes and the output devices (implemented with transistors in practice). The output stage is driven by the lateral pnp emitter-follower $Q_{23}$, which is driven by the common-emitter stage $Q_{17}$ biased to 0.68 mA by current source $Q_{13B}$.\n\nThe diodes in Fig. 5.20 essentially eliminate crossover distortion in the circuit, which can be seen in the SPICE-generated transfer characteristic of Fig. 5.21. The linearity of this stage is further improved by the fact that the output devices are driven from a low resistance provided by the emitter follower $Q_{23}$. Consequently, differences in $\\beta_F$ between $Q_{14}$ and $Q_{20}$ have little effect on the transfer characteristic because the small-signal gain $\\Delta V_o / \\Delta V_1 \\simeq 1$ for any practical value of $\\beta_F$ with either $Q_{14}$ or $Q_{20}$ conducting.\n\nThe limits on the output voltage swing shown in Fig. 5.21 can be determined as follows. As $V_i$ becomes positive, the voltage $V_1$ at the base of $Q_{23}$ goes negative, and voltages $V_2$ and $V_o$ follow with $Q_{20}$ drawing current from $R_L$. When $Q_{17}$ saturates, the output voltage limit for negative excursions is reached at:\n\n$$\nV_o^-=-V_{CC}+V_{CE17(\\mathrm{sat})}-V_{be23}-V_{be20}\n$$\n\nThis limit is about 1.4 V more positive than the negative supply. Thus, $V_o^-$ is limited by saturation in $Q_{17}$, which is the stage preceding the driver stage $Q_{23}$.\n\nAs $V_i$ becomes negative from its quiescent value (where $V_o=0$), voltage $V_1$ rises, and voltages $V_2$ and $V_o$ follow with $Q_{14}$ delivering current to the load. The positive output voltage limit $V_o^+$ is reached when current source $Q_{13A}$ saturates, leading to:\n\n$$\nV_o^+=V_{CC}+V_{CE13A(\\mathrm{sat})}-V_{be14}\n$$\n\nThis limit is about 0.8 V below the positive supply because $V_{CE13A(\\mathrm{sat})} \\simeq -0.1 \\mathrm{~V}$ for the pnp device. Thus, $V_o^+$ is also limited by the driver stage.\n\nThe power requirements of the driver circuits in a configuration such as shown in Fig. 5.20 require some consideration. The driver's basic requirement is to supply sufficient drive to the output stage to deliver the desired power to $R_L$. As $V_o$ goes negative, $Q_{23}$ draws current from the base of $Q_{20}$ with essentially no limit. The circuit must be protected against a short-circuited load to prevent burnout due to heavy currents caused by a large input signal. As explained before, the negative voltage limit is reached when $Q_{17}$ saturates and can no longer drive the base of $Q_{23}$ negative.\n\nAs $V_o$ goes positive (by $V_i$ going negative and $V_1$ going positive), $Q_{23}$ conducts less, and current source $Q_{13A}$ supplies base current to $Q_{14}$. The maximum output current is limited by the current of 0.22 mA available for driving $Q_{14}$. As $V_1$, $V_2$, and $V_o$ go positive, the current in $Q_{14}$ increases, and the current in $Q_{13A}$ is progressively diverted to the base of $Q_{14}$. The maximum possible output current delivered by $Q_{14}$ is thus:\n\n$$\nI_o=\\beta_{F14} \\times 0.22 \\mathrm{~mA}\n$$\n\nIf $\\beta_{F14}=100$, the maximum output current is 22 mA. The driver stage may thus limit the maximum positive current available from the output stage. However, this output current level is only reached if $R_L$ is small enough so that $Q_{13A}$ does not saturate on the positive voltage excursion.\n\nThe stage preceding the driver in this circuit is $Q_{17}$. As mentioned above, the negative voltage limit of $V_o$ is reached when $Q_{17}$ saturates. The bias current of 0.68 mA in $Q_{17}$ is much greater than the base current of $Q_{23}$, and thus $Q_{23}$ produces very little loading on $Q_{17}$. Consequently, voltage $V_1$ at the base of $Q_{23}$ can be driven to within $V_{CE(\\text{sat})}$ of either supply voltage with only a very small fractional change in the collector current of $Q_{17}$.\n\nFinally, we examine the fabrication details of diodes $Q_{18}$ and $Q_{19}$ in the 741. The actual circuit is shown in Fig. 5.20b with the output protection circuitry omitted. Diode $Q_{19}$ conducts only a current equal to the base current of $Q_{18}$ plus the bleed current in pinch resistor $R_{10}$. Transistor $Q_{18}$ thus conducts most of the bias current of current source $Q_{13A}$. This arrangement is used for two reasons. First, it achieves the aim of creating a voltage drop equal to two base-emitter voltages. Since $Q_{18}$ and $Q_{19}$ have common collectors, they can be placed in the same isolation region, reducing die area. Second, since $Q_{19}$ conducts only a small current, the bias voltage produced by $Q_{18}$ and $Q_{19}$ across the bases of $Q_{14}$ and $Q_{20}$ is less than would result from a connection as shown in Fig. 5.20a. This observation is important because output transistors $Q_{14}$ and $Q_{20}$ generally have emitter areas larger than the standard device geometry (typically four times larger or more) so that they can maintain high $\\beta_F$ while conducting large output currents. Thus, in the circuit of Fig. 5.20a, the bias current in $Q_{14}$ and $Q_{20}$ would be about four times the current in $Q_{18}$ and $Q_{19}$, which would be excessive in a 741-type circuit. However, the circuit of Fig. 5.20b can be designed to bias $Q_{14}$ and $Q_{20}$ to a current comparable to the current in the diodes, even though the output devices have a large area. The basic reason for this result is that the small bias current in $Q_{19}$ in Fig. 5.20b gives it a smaller base-emitter voltage than for the same device in Fig. 5.20a, reducing the total bias voltage between the bases of $Q_{14}$ and $Q_{20}$.\n\nThe bias currents in $Q_{14}$ and $Q_{20}$ of Fig. 5.20b can be calculated quantitatively. From KVL:\n\n$$\nV_{BE19}+V_{BE18}=V_{BE14}+\\left|V_{BE20}\\right|\n$$\n\nAnd thus:\n\n$$\nV_T \\ln \\frac{I_{C19}}{I_{S19}}+V_T \\ln \\frac{I_{C18}}{I_{S18}}=V_T \\ln \\frac{I_{C14}}{I_{S14}}+V_T \\ln \\left|\\frac{I_{C20}}{I_{S20}}\\right|\n$$\n\nAssuming the circuit is biased for $V_o=0 \\mathrm{~V}$ and also that $\\beta_{F14} \\gg 1$ and $\\beta_{F20} \\gg 1$, then $\\left|I_{C14}\\right|=\\left|I_{C20}\\right|$ and the equation becomes:\n\n$$\n\\frac{I_{C19} I_{C18}}{I_{S18} I_{S19}}=\\frac{I_{C14}^{2}}{I_{S14} I_{S20}}\n$$\n\nFrom which:\n\n$$\nI_{C14}=-I_{C20}=\\sqrt{I_{C19} I_{C18}} \\sqrt{\\frac{I_{S14} I_{S20}}{I_{S18} I_{S19}}}\n$$\n\nEquation 5.83 may be used to calculate the output bias current in circuits of the type shown in Fig. 5.20b. The output-stage bias current is proportional to $\\sqrt{I_{C18}}$ and $\\sqrt{I_{C19}}$. For this specific example, the collector current in $Q_{19}$ is approximately equal to the current in $R_{10}$ if $\\beta_F$ is large, and thus:\n\n$$\nI_{C19} \\simeq \\frac{V_{BE18}}{R_{10}} \\simeq \\frac{0.6}{40} \\mathrm{~mA}=15 \\mu \\mathrm{~mA}\n$$\n\nIf the base currents of $Q_{14}$ and $Q_{20}$ are neglected, the collector current of $Q_{18}$ is:\n\n$$\nI_{C18} \\simeq \\left|I_{C13A}\\right|-I_{C19}=(220-15) \\mu \\mathrm{A}=205 \\mu \\mathrm{A}\n$$\n\nTo calculate the output-stage bias currents from (5.83), values for the various reverse saturation currents are required. These values depend on the particular IC process used, but typical values are $I_{S18}=I_{S19}=2 \\times 10^{-15} \\mathrm{~A}, I_{S14}=4 I_{S18}=8 \\times 10^{-15} \\mathrm{~A}$, and $I_{S20}=4 \\times 10^{-15} \\mathrm{~A}$. Substitution of these data in (5.83) gives $I_{C14}=-I_{C20}=0.16 \\mathrm{~mA}$.\n\nFor the output stage of Fig. 5.20a, the bias currents in all devices for $V_o=+10 \\mathrm{~V}$ are calculated. Assuming $V_{CC}=15 \\mathrm{~V}, R_L=2 \\mathrm{k} \\Omega$, and $\\beta_F=100$, and for simplicity, assuming all devices have equal area and for each device:\n\n$$\n\\left|I_C\\right|=10^{-14} \\exp \\left|\\frac{V_{be}}{V_T}\\right|\n$$\n\nAssuming $Q_{14}$ supplies the load current for positive output voltages, we have:\n\n$$\nI_{c14}=\\frac{V_o}{R_L}=\\frac{10 \\mathrm{~V}}{2 \\mathrm{k} \\Omega}=5 \\mathrm{~mA}\n$$\n\nSubstitution in (5.84) and rearranging gives:\n\n$$\nV_{be14}=(26 \\mathrm{mV}) \\ln \\left(\\frac{5 \\times 10^{-3}}{10^{-14}}\\right)=700 \\mathrm{mV}\n$$\n\nAlso:\n\n$$\nI_{b14}=\\frac{I_{c14}}{\\beta_{F14}}=\\frac{5 \\mathrm{~mA}}{100}=0.05 \\mathrm{~mA}\n$$\n\nThus:\n\n$$\nI_{c19} \\simeq I_{c18} \\simeq -I_{c23}=(0.22-0.05) \\mathrm{mA}=0.17 \\mathrm{~mA}\n$$\n\nSubstitution in (5.84) and rearranging gives:\n\n$$\nV_{be19}=V_{be18}=-V_{be23}=(26 \\mathrm{mV}) \\ln \\left(\\frac{0.17 \\times 10^{-3}}{10^{-14}}\\right)=613 \\mathrm{mV}\n$$\n\nThus:\n\n$$\nV_{be20}=-\\left(V_{be19}+V_{be18}-V_{be14}\\right)=-525 \\mathrm{mV}\n$$\n\nUse of (5.84) gives:\n\n$$\nI_{c20}=-5.9 \\mu \\mathrm{~A}\n$$\n\nAnd the collector current in $Q_{20}$ is quite small as predicted. Finally:\n\n$$\nI_{c17}=0.68 \\mathrm{~mA}-\\frac{I_{c23}}{\\beta_{F23}}=\\left(0.68-\\frac{0.17}{100}\\right) \\mathrm{mA}=0.68 \\mathrm{~mA}\n$$\n\nAnd also:\n\n$$\nV_2=V_o-\\left|V_{be20}\\right|=(10-0.525) \\mathrm{V}=9.475 \\mathrm{~V}\n$$\n\nAnd:\n\n$$\nV_1=V_2-\\left|V_{be23}\\right|=(9.475-0.613) \\mathrm{V}=8.862 \\mathrm{~V}\n$$"
}
]