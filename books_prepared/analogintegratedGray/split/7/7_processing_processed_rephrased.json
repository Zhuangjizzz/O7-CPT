[

{
    "text": "The fundamental topology of the small-signal equivalent circuits for both bipolar and MOS single-stage amplifiers is alike. Consequently, in the subsequent sections, the frequency-response analysis for each type of single-stage circuit is initially performed using a universal small-signal model applicable to both transistor types, with the general outcomes then adapted to each specific transistor type. The universal small-signal transistor model is depicted in Fig. 7.1. Table 7.1 enumerates the parameters of this small-signal model and the corresponding parameters that convert it into either a bipolar or MOS model. For instance, $C_{\\text{in}}$ in the general model corresponds to $C_{\\pi}$ in the bipolar model and $C_{g s}$ in the MOS model. Nevertheless, certain device-specific small-signal components are excluded from the general model. For example, the $g_{m b}$ generator and capacitors $C_{s b}$ and $C_{g b}$ in the MOS models are not included in the general model. The impact of these device-specific elements will be addressed separately in the sections dedicated to bipolar and MOS transistors.\n\nThe common-emitter and common-source stages are examined in the following sections on differential amplifiers."
},
{
    "text": "The fundamental layout of the small-signal equivalent circuits for bipolar and MOS single-stage amplifiers is comparable. Consequently, in the subsequent sections, the frequency-response analysis for each type of single-stage circuit is first performed using a universal small-signal model applicable to both transistor types, with the general outcomes then tailored to each specific transistor. Figure 7.1 illustrates the universal small-signal transistor model. Table 7.1 provides the parameters of this model and their equivalents in the bipolar and MOS versions. For instance, $C_{\\text{in}}$ in the general model corresponds to $C_{\\pi}$ in the bipolar model and $C_{g s}$ in the MOS model. Nonetheless, certain device-specific small-signal components are excluded from the general model. For example, the $g_{m b}$ generator and capacitors $C_{s b}$ and $C_{g b}$ in the MOS models are not included in the general framework. The impact of these device-specific elements will be addressed individually in the bipolar and MOS sections.\n\nThe common-emitter and common-source stages are examined in the following sections on differential amplifiers."
},
{
    "text": "The fundamental topology of the small-signal equivalent circuits for both bipolar and MOS single-stage amplifiers is alike. Consequently, in the ensuing sections, the frequency-response analysis for each type of single-stage circuit is first performed using a universal small-signal model applicable to both transistor types, after which the general outcomes are tailored to each specific transistor type. The universal small-signal transistor model is depicted in Fig. 7.1. Table 7.1 enumerates the parameters of this small-signal model and the corresponding parameters that adapt it to either a bipolar or MOS model. For instance, $C_{\\text{in}}$ in the general model corresponds to $C_{\\pi}$ in the bipolar model and $C_{g s}$ in the MOS model. Nonetheless, certain device-specific small-signal components are excluded from the general model. For example, the $g_{m b}$ generator and capacitors $C_{s b}$ and $C_{g b}$ found in MOS models are not included in the general model. The impact of these device-specific elements will be addressed individually in the respective bipolar and MOS sections.\n\nThe common-emitter and common-source stages are examined in the subsequent sections focusing on differential amplifiers."
},
{
    "text": "The fundamental structure of the small-signal equivalent circuits for bipolar and MOS single-stage amplifiers is alike. Consequently, in the subsequent sections, the frequency-response analysis for each type of single-stage circuit is initially performed using a universal small-signal model applicable to both transistor types, with the general findings then adapted to each specific transistor type. The universal small-signal transistor model is depicted in Fig. 7.1. Table 7.1 enumerates the parameters of this small-signal model and the corresponding parameters that convert it into either a bipolar or MOS model. For instance, $C_{\\text{in}}$ in the general model corresponds to $C_{\\pi}$ in the bipolar model and $C_{g s}$ in the MOS model. Nonetheless, certain device-specific small-signal components are excluded from the general model. For example, the $g_{m b}$ generator and capacitors $C_{s b}$ and $C_{g b}$ in the MOS models are not included in the general model. The impact of these device-specific elements will be addressed individually in the bipolar and MOS sections.\n\nThe common-emitter and common-source stages are examined in the following sections on differential amplifiers."
},
{
    "text": "The fundamental structure of the small-signal equivalent circuits for bipolar and MOS single-stage amplifiers is alike. Consequently, in the subsequent sections, the frequency-response analysis for each type of single-stage circuit is initially performed using a universal small-signal model applicable to both transistor types, with the general outcomes then tailored to each specific transistor. Figure 7.1 illustrates the universal small-signal transistor model. Table 7.1 provides the parameters of this model and the corresponding parameters that adapt it to either a bipolar or MOS model. For instance, $C_{\\text{in}}$ in the general model corresponds to $C_{\\pi}$ in the bipolar model and $C_{g s}$ in the MOS model. Nonetheless, certain device-specific small-signal components are excluded from the general model. For example, the $g_{m b}$ generator and capacitors $C_{s b}$ and $C_{g b}$ in MOS models are not included in the general framework. The impact of these device-specific elements will be addressed separately in the sections dedicated to bipolar and MOS transistors.\n\nThe analysis of common-emitter and common-source stages is presented in the following sections on differential amplifiers."
},
{
    "text": "The fundamental topology of the small-signal equivalent circuits for bipolar and MOS single-stage amplifiers is alike. Consequently, in the subsequent sections, the frequency-response analysis for each type of single-stage circuit is initially performed using a universal small-signal model applicable to both transistor types, with the general outcomes then tailored to each specific transistor type. Figure 7.1 illustrates the general small-signal transistor model. Table 7.1 provides the parameters of this model and the corresponding parameters that adapt it to either a bipolar or MOS model. For instance, $C_{\\text{in}}$ in the general model corresponds to $C_{\\pi}$ in the bipolar model and $C_{g s}$ in the MOS model. Nevertheless, certain device-specific small-signal components are excluded from the general model. For example, the $g_{m b}$ generator and capacitors $C_{s b}$ and $C_{g b}$ in the MOS models are not included in the general model. The impact of these device-specific elements will be addressed individually in the bipolar and MOS sections.\n\nThe common-emitter and common-source stages are examined in the following sections on differential amplifiers."
},
{
    "text": "The fundamental topology of the small-signal equivalent circuits for bipolar and MOS single-stage amplifiers is alike. Consequently, in the subsequent sections, the frequency-response analysis for each type of single-stage circuit is first performed using a universal small-signal model applicable to both transistor types, with the general outcomes then adapted to each specific transistor type. The universal small-signal transistor model is depicted in Fig. 7.1. Table 7.1 enumerates the parameters of this small-signal model and the corresponding parameters that convert it into either a bipolar or MOS model. For instance, $C_{\\text{in}}$ in the general model corresponds to $C_{\\pi}$ in the bipolar model and $C_{g s}$ in the MOS model. Nonetheless, certain device-specific small-signal components are excluded from the general model. For example, the $g_{m b}$ generator and capacitors $C_{s b}$ and $C_{g b}$ in the MOS models are not included in the general model. The impact of these device-specific elements will be addressed individually in the bipolar and MOS sections.\n\nThe common-emitter and common-source stages are examined in the following sections on differential amplifiers."
},
{
    "text": "The fundamental structure of the small-signal equivalent circuits for bipolar and MOS single-stage amplifiers is alike. Consequently, in the subsequent sections, the frequency-response analysis for each type of single-stage circuit is first performed using a universal small-signal model applicable to both transistor types, with the general outcomes then adapted to each specific transistor type. The universal small-signal transistor model is depicted in Fig. 7.1. Table 7.1 enumerates the parameters of this small-signal model and the corresponding parameters that convert it into either a bipolar or MOS model. For instance, $C_{\\text{in}}$ in the general model corresponds to $C_{\\pi}$ in the bipolar model and $C_{g s}$ in the MOS model. Nonetheless, certain device-specific small-signal components are excluded from the general model. For example, the $g_{m b}$ generator and capacitors $C_{s b}$ and $C_{g b}$ in the MOS models are not included in the general model. The impact of these device-specific elements will be addressed individually in the bipolar and MOS sections.\n\nThe common-emitter and common-source stages are examined in the following sections on differential amplifiers."
},
{
    "text": "Single-transistor voltage amplification stages are extensively employed within integrated circuits. In Figures $7.2(a)$ and $7.2(b)$, the AC circuit diagrams for standard common-emitter and common-source amplifiers, equipped with resistive loading, are presented. The resistance denoted as $R_S$ represents the source resistance, whereas $R_L$ signifies the load resistance. An elementary linear representation, applicable to both circuits, is depicted in Figure 7.2(c). The components enclosed by the dashed box within this figure correspond to the general small-signal transistor model from Figure 7.1, excluding the element $r_o$. It is posited that the output resistance of the transistor, $r_o$, is significantly greater than $R_L$. Given that these resistors are interconnected in parallel within the small-signal circuit, $r_o$ can be disregarded. An approximate analysis of the circuit may be conducted through the Miller-effect method.\n\nimage_name:Figure 7.1 A general small-signal transistor model\ndescription:\n[\nname: rx, type: Resistor, value: rx, ports: {N1: B or G, N2: rx rin}\nname: rin, type: Resistor, value: rin, ports: {N1: rx rin, N2: E or S}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: rx rin, Nn: E or S}\nname: Cf, type: Capacitor, value: Cf, ports: {Np: rx rin, Nn: C or D}\nname: 8mv1, type: CurrentSource, value: 8mv1, ports: {Np: C or D, Nn: E or S}\nname: ro, type: Resistor, value: ro, ports: {N1: C or D, N2: E or S}\n]\nextrainfo:This circuit is a generic small-signal transistor model incorporating resistors, capacitors, and a dependent current source. The output resistance 'ro' is omitted from the analysis due to its substantial value in comparison to 'RL'. The analysis employs the Miller-effect approximation.\n\nFigure 7.1 displays a general small-signal transistor model.\n\nThe analysis is performed by examining the input impedance as seen across the plane denoted as AA in Figure 7.2(c). To determine this impedance, the current $i_1$ induced by the voltage $v_1$ is calculated.\n\n$$\n\\begin{equation*}\ni_{1}=\\left(v_{1}-v_{o}\\right) s C_{f} \\tag{7.1}\n\\end{equation*}\n$$\n\nKirchhoff's Current Law (KCL) at the output node yields\n\n$$\n\\begin{equation*}\ng_{m} v_{1}+\\frac{v_{o}}{R_{L}}+\\left(v_{o}-v_{1}\\right) s C_{f}=0 \\tag{7.2}\n\\end{equation*}\n$$\n\nFrom equation (7.2), the voltage gain $A_{v}$ from $v_{1}$ to $v_{o}$ can be expressed as\n\n$$\n\\begin{equation*}\nA_{v}(s)=\\frac{v_{o}}{v_{1}}=-g_{m} R_{L}\\left(\\frac{1-s \\frac{C_{f}}{g_{m}}}{1+s R_{L} C_{f}}\\right) \\tag{7.3}\n\\end{equation*}\n$$\n\nSubstituting $v_{o}=A_{v}(s) v_{1}$ from equation (7.3) into equation (7.1) results in\n\n$$\n\\begin{equation*}\ni_{1}=\\left[1-A_{v}(s)\\right] s C_{f} v_{1} \\tag{7.4}\n\\end{equation*}\n$$\n\nEquation 7.4 indicates that the admittance observed across the plane AA is valued at $\\left[1-A_{v}(s)\\right] s C_{f}$. This adjustment to the admittance $s C_{f}$ originates from the voltage gain across $C_{f}$ and is termed the Miller effect. Regrettably, this admittance is intricate, as it is dependent on the frequency of $A_{v}(s)$. By replacing the voltage gain $A_{\\nu}(s)$ in equation (7.4) with its low-frequency equivalent $A_{\\nu 0}=A_{\\nu}(0)$, equation (7.4) implies that a capacitance of value\n\n$$\n\\begin{equation*}\nC_{M}=\\left(1-A_{\\nu 0}\\right) C_{f} \\tag{7.5}\n\\end{equation*}\n$$\n\nis observed across the plane AA. The utilization of the low-frequency voltage gain in this manner is known as the Miller approximation, and $C_{M}$ is referred to as the Miller capacitance. From equation (7.3), $A_{v 0}=A_{v}(0)=$ $-g_{m} R_{L}$; thus, equation (7.5) can be rewritten as\n\n$$\n\\begin{equation*}\nC_{M}=\\left(1+g_{m} R_{L}\\right) C_{f} \\tag{7.6}\n\\end{equation*}\n$$\n\nThe Miller capacitance is often substantially larger than $C_{f}$ since typically $g_{m} R_{L} \\gg 1$.\n\nTable 7.1 lists the Small-Signal Model Elements:\n\n| General Model | Bipolar Model | MOS Model |\n| :---: | :---: | :---: |\n| $r_{x}$ | $r_{b}$ | 0 |\n| $r_{\\text {in }}$ | $r_{\\pi}$ | $\\infty$ |\n| $C_{\\mathrm{in}}$ | $C_{\\pi}$ | $C_{g s}$ |\n| $C_{f}$ | $C_{\\mu}$ | $C_{g d}$ |\n| $r_{o}$ | $r_{o}$ | $r_{o}$ |\n\nimage_name:(a)\ndescription:\n[\nname: RS, type: Resistor, value: RS, ports: {N1: vi, N2: b0}\nname: RL, type: Resistor, value: RL, ports: {N1: vo, N2: GND}\nname: M0, type: NPN, ports: {e: GND, c: vo, b: V0}\n]\nextrainfo:This circuit represents a common-emitter amplifier utilizing an NMOS transistor M0. The input voltage source 'vi' is interconnected to the gate of M0 via the resistor RS. The output is extracted from the drain of M0, which is linked to RL.\n\nimage_name:(b)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: vi, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: vi, N2: g0}\nname: M0 (b), type: NMOS, ports: {S: GND, D: vo, G: g0}\nname: RL, type: Resistor, value: RL, ports: {N1: vo, N2: GND}\n]\nextrainfo:Figure (b) illustrates an AC circuit diagram of a common-source amplifier utilizing an NMOS transistor. The input voltage source 'vi' is connected to the gate of the NMOS transistor 'M0' through the resistor 'RS'. The drain of the NMOS is connected to the output node 'vo' and the load resistor 'RL'. The source is connected to ground.\n\nimage_name:(c)\ndescription:\n[\nname: vi, type: VoltageSource, ports: {Np: vi, Nn: GND}\nname: RS, type: Resistor, ports: {N1: vi, N2: X1}\nname: rx, type: Resistor, ports: {N1: X1, N2: X2}\nname: rin, type: Resistor, ports: {N1: X2, N2: GND}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: X2, Nn: GND}\nname: Cf, type: Capacitor, value: Cf, ports: {Np: X2, Nn: vo}\nname: gmv1, type: VoltageControlledCurrentSource, ports: {Np: vo, Nn: GND}\nname: RL, type: Resistor, ports: {N1: vo, N2: GND}\n]\nextrainfo:This circuit serves as a small-signal model for a common-source amplifier employing the Miller-effect approximation. It encompasses a voltage source, resistors, capacitors, and a voltage-controlled current source. The input is situated at node 'vi', and the output is at node 'vo'.\n\nFigure 7.2 (a) shows the AC circuit diagram of a common-emitter amplifier. (b) depicts the AC circuit diagram of a common-source amplifier. (c) presents a general model for both amplifiers.\n\nA novel equivalent circuit, advantageous for calculating the forward transmission and input impedance of the circuit, can now be constructed. This equivalent circuit is depicted in Figure 7.3, utilizing the Miller-effect approximation. Observe that this equivalent circuit is not suitable for calculating high-frequency reverse transmission or output impedance. From this circuit, it is evident that at high frequencies, the input impedance will eventually tend towards $r_{x}$.\n\nThe physical origin of the Miller capacitance is attributed to the voltage gain of the circuit. At low frequencies, a modest input voltage $v_{1}$ generates a considerable output voltage $v_{o}=A_{v 0} v_{1}=$ $-g_{m} R_{L} v_{1}$ with an opposite polarity. Consequently, the voltage across $C_{f}$ in Figure $7.2(c)$ is $\\left(1+g_{m} R_{L}\\right) v_{1}$, and a correspondingly substantial current $i_{1}$ flows through this capacitor. The voltage across $C_{M}$ in Figure 7.3 is merely $v_{1}$, yet $C_{M}$ is larger than $C_{f}$ by the factor $\\left(1+g_{m} R_{L}\\right)$; thus, $C_{M}$ conducts the same current as $C_{f}$.\nimage_name:Figure 7.3\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vi, N2: RSx}\nname: rx, type: Resistor, value: rx, ports: {N1: RSx, N2: rXrin}\nname: rin, type: Resistor, value: rin, ports: {N1: rXrin, N2: GND}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: Xrin, Nn: GND}\nname: CM, type: Capacitor, value: CM, ports: {Np: rXrin, Nn: GND}\nname: gmv1, type: VoltageControlledCurrentSource, value: gmv1, ports: {Np: GND, Nn: Vo}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\n]\nextrainfo:This circuit represents an equivalent model utilizing the Miller approximation. It includes a voltage source, resistors, capacitors, a voltage-controlled current source, and a load resistor. The Miller capacitance CM influences the bandwidth of the amplifier.\n\nFigure 7.3 presents the equivalent circuit for Figure 7.2(c) using the Miller approximation.\n\nIn Figure 7.3, the Miller capacitance is added directly to $C_{\\text {in }}$, thereby reducing the bandwidth of the amplifier. This effect can be discerned by calculating the gain of the amplifier as follows:\n\n$$\n\\begin{gather*}\nv_{1}=\\frac{\\frac{r_{\\text {in }}}{1+s r_{\\text {in }} C_{t}}}{\\frac{r_{\\text {in }}}{1+s r_{\\text {in }} C_{t}}+R_{S}+r_{x}} v_{i}  \\tag{7.7}\\\\\nv_{o}=-g_{m} R_{L} v_{1} \\tag{7.8}\n\\end{gather*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nC_{t}=C_{M}+C_{\\mathrm{in}} \\tag{7.9}\n\\end{equation*}\n$$\n\nSubstituting equation (7.7) into equation (7.8) yields the gain\n\n$$\n\\begin{gather*}\nA(s)=\\frac{v_{o}}{v_{i}}=-g_{m} R_{L} \\frac{r_{\\text {in }}}{R_{S}+r_{x}+r_{\\text {in }}} \\frac{1}{1+s C_{t} \\frac{\\left(R_{S}+r_{x}\\right) r_{\\mathrm{in}}}{R_{S}+r_{x}+r_{\\text {in }}}}  \\tag{7.10a}\\\\\n=K \\frac{1}{1-\\frac{s}{p_{1}}} \\tag{7.10b}\n\\end{gather*}\n$$\n\nwhere $K$ denotes the low-frequency voltage gain and $p_{1}$ represents the pole of the circuit. By comparing equations (7.10a) and (7.10b), it becomes evident that\n\n$$\n\\begin{gather*}\nK=-g_{m} R_{L} \\frac{r_{\\text {in }}}{R_{S}+r_{x}+r_{\\text {in }}}  \\tag{7.11a}\\\\\np_{1}=-\\frac{R_{S}+r_{x}+r_{\\text {in }}}{\\left(R_{S}+r_{x}\\right) r_{\\text {in }}} \\cdot \\frac{1}{C_{t}}=-\\frac{1}{\\left[\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}\\right] C_{t}} \\\\\n=-\\frac{1}{\\left[\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}\\right] \\cdot\\left[C_{\\text {in }}+C_{f}\\left(1+g_{m} R_{L}\\right)\\right]} \\tag{7.11b}\n\\end{gather*}\n$$\n\nThis analysis suggests that the circuit possesses a solitary pole. By setting $s=j \\omega$ in equation (7.10b), it is apparent that the voltage gain is 3 dB lower than its low-frequency value at a frequency\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}}=\\left|p_{1}\\right|=\\frac{R_{S}+r_{x}+r_{\\mathrm{in}}}{\\left(R_{S}+r_{x}\\right) r_{\\mathrm{in}}} \\cdot \\frac{1}{C_{t}}=\\frac{1}{\\left[\\left(R_{S}+r_{x}\\right) \\| r_{\\mathrm{in}}\\right] \\cdot\\left[C_{\\mathrm{in}}+C_{f}\\left(1+g_{m} R_{L}\\right)\\right]} \\tag{7.12}\n\\end{equation*}\n$$\n\nAs $C_{t}, R_{L}$, or $R_{S}$ augment, the $-3-\\mathrm{dB}$ frequency of the amplifier diminishes.\n\nThe precise gain expression for this circuit can be derived by examining the equivalent circuit shown in Figure 7.4. The poles obtained from an exact analysis can be contrasted with those discovered using the Miller effect. In Figure 7.4, a Norton equivalent is utilized at the input where\n\n$$\n\\begin{gather*}\nR=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}  \\tag{7.13}\\\\\ni_{i}=\\frac{v_{i}}{R_{S}+r_{x}} \\tag{7.14}\n\\end{gather*}\n```\n"
},
{
    "text": "Voltage amplifier stages utilizing a single transistor are commonly employed within integrated circuits. Figures $7.2 a$ and $7.2 b$ display the alternating current (ac) circuit diagrams for common-emitter and common-source amplifiers with resistive loads. Here, $R_{S}$ denotes the source resistance, while $R_{L}$ represents the load resistance. A straightforward linear model applicable to both circuits is presented in Fig. 7.2c, where the components within the dashed box correspond to the general small-signal transistor model depicted in Fig. 7.1, excluding $r_{o}$. We will consider that the transistor's output resistance, $r_{o}$, significantly exceeds $R_{L}$. Given that these resistors are in parallel within the small-signal circuit, $r_{o}$ can be disregarded. An approximate analysis of this circuit can be conducted using the Miller-effect approximation.\n\nFig. 7.1 illustrates a general small-signal transistor model, incorporating resistors, capacitors, and a dependent current source. The output resistance $r_{o}$ is not considered in the analysis due to its size relative to $R_{L}$. The analysis employs the Miller-effect approximation to examine the circuit.\n\nThe analysis is performed by examining the input impedance as viewed across plane AA in Fig. 7.2c. To determine this impedance, we calculate the current $i_{1}$ generated by the voltage $v_{1}$.\n\n$$\n\\begin{equation*}\ni_{1}=\\left(v_{1}-v_{o}\\right) s C_{f} \\tag{7.1}\n\\end{equation*}\n$$\n\nApplying Kirchhoff's Current Law (KCL) at the output node yields\n\n$$\n\\begin{equation*}\ng_{m} v_{1}+\\frac{v_{o}}{R_{L}}+\\left(v_{o}-v_{1}\\right) s C_{f}=0 \\tag{7.2}\n\\end{equation*}\n$$\n\nFrom equation (7.2), the voltage gain $A_{v}$ from $v_{1}$ to $v_{o}$ can be expressed as\n\n$$\n\\begin{equation*}\nA_{v}(s)=\\frac{v_{o}}{v_{1}}=-g_{m} R_{L}\\left(\\frac{1-s \\frac{C_{f}}{g_{m}}}{1+s R_{L} C_{f}}\\right) \\tag{7.3}\n\\end{equation*}\n$$\n\nSubstituting $v_{o}=A_{v}(s) v_{1}$ from equation (7.3) into equation (7.1) results in\n\n$$\n\\begin{equation*}\ni_{1}=\\left[1-A_{v}(s)\\right] s C_{f} v_{1} \\tag{7.4}\n\\end{equation*}\n$$\n\nEquation 7.4 indicates that the admittance observed across plane AA is $\\left[1-A_{v}(s)\\right] s C_{f}$. This adjustment to the admittance $s C_{f}$ is attributed to the voltage gain across $C_{f}$ and is known as the Miller effect. Regrettably, this admittance is complex due to the frequency dependence of $A_{v}(s)$. Replacing the voltage gain $A_{\\nu}(s)$ in equation (7.4) with its low-frequency value $A_{\\nu 0}=A_{\\nu}(0)$, equation (7.4) suggests that a capacitance of\n\n$$\n\\begin{equation*}\nC_{M}=\\left(1-A_{\\nu 0}\\right) C_{f} \\tag{7.5}\n\\end{equation*}\n$$\n\nis observed across plane AA. The use of the low-frequency voltage gain in this context is referred to as the Miller approximation, and $C_{M}$ is designated as the Miller capacitance. From equation (7.3), $A_{v 0}=A_{v}(0)=-g_{m} R_{L}$; hence, equation (7.5) can be rewritten as\n\n$$\n\\begin{equation*}\nC_{M}=\\left(1+g_{m} R_{L}\\right) C_{f} \\tag{7.6}\n\\end{equation*}\n$$\n\nThe Miller capacitance is typically much greater than $C_{f}$ since $g_{m} R_{L}$ is usually much larger than 1.\n\nTable 7.1 outlines the elements of the small-signal model.\n\n| General Model | Bipolar Model | MOS Model |\n| :---: | :---: | :---: |\n| $r_{x}$ | $r_{b}$ | 0 |\n| $r_{\\text {in }}$ | $r_{\\pi}$ | $\\infty$ |\n| $C_{\\mathrm{in}}$ | $C_{\\pi}$ | $C_{g s}$ |\n| $C_{f}$ | $C_{\\mu}$ | $C_{g d}$ |\n| $r_{o}$ | $r_{o}$ | $r_{o}$ |\n\nFigures 7.2 (a) and (b) present ac schematics of common-emitter and common-source amplifiers, respectively, while figure 7.2 (c) depicts a general model applicable to both amplifier types.\n\nWe can now construct a new equivalent circuit that is beneficial for computing the forward transmission and input impedance of the circuit, as shown in Fig. 7.3, utilizing the Miller-effect approximation. It is important to note that this equivalent circuit is not suitable for calculating high-frequency reverse transmission or output impedance. This circuit reveals that at high frequencies, the input impedance will ultimately converge to $r_{x}$.\n\nThe physical basis of the Miller capacitance lies in the voltage gain of the circuit. At low frequencies, a small input voltage $v_{1}$ generates a large output voltage $v_{o}=A_{v 0} v_{1}=-g_{m} R_{L} v_{1}$ with an opposing polarity. Consequently, the voltage across $C_{f}$ in Fig. $7.2 c$ is $\\left(1+g_{m} R_{L}\\right) v_{1}$, leading to a substantial current $i_{1}$ flowing through this capacitor. The voltage across $C_{M}$ in Fig. 7.3 is only $v_{1}$, but $C_{M}$ is larger than $C_{f}$ by a factor of $\\left(1+g_{m} R_{L}\\right)$; hence, $C_{M}$ conducts the same current as $C_{f}$.\n\nFigure Fig. 7.3, the Miller capacitance is directly added to $C_{\\text {in }}$, thereby diminishing the bandwidth of the amplifier. This reduction in bandwidth can be discern by calculating the amplifier's gain as follows:\n\n$$\n\\begin{gather*}\nv_{1}=\\frac{\\frac{r_{\\text {in }}}{1+s r_{\\text {in }} C_{t}}}{\\frac{r_{\\text {in }}}{1+s r_{\\text {in }} C_{t}}+R_{S}+r_{x}} v_{i}  \\tag{7.7}\\\\\nv_{o}=-g_{m} R_{L} v_{1} \\tag{7.8}\n\\end{gather*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nC_{t}=C_{M}+C_{\\mathrm{in}} \\tag{7.9}\n\\end{equation*}\n$$\n\nSubstituting equation (7.7) into equation (7.8) yields the gain\n\n$$\n\\begin{gather*}\nA(s)=\\frac{v_{o}}{v_{i}}=-g_{m} R_{L} \\frac{r_{\\text {in }}}{R_{S}+r_{x}+r_{\\text {in }}} \\frac{1}{1+s C_{t} \\frac{\\left(R_{S}+r_{x}\\right) r_{\\mathrm{in}}}{R_{S}+r_{x}+r_{\\text {in }}}}  \\tag{7.10a}\\\\\n=K \\frac{1}{1-\\frac{s}{p_{1}}} \\tag{7.10b}\n\\end{gather*}\n$$\n\nwhere $K$ represents the low-frequency voltage gain and $p_{1}$ denotes the circuit's pole. Comparing equations (7.10a) and (7.10b) reveals that\n\n$$\n\\begin{gather*}\nK=-g_{m} R_{L} \\frac{r_{\\text {in }}}{R_{S}+r_{x}+r_{\\text {in }}}  \\tag{7.11a}\\\\\np_{1}=-\\frac{R_{S}+r_{x}+r_{\\mathrm{in}}}{\\left(R_{S}+r_{x}\\right) r_{\\mathrm{in}}} \\cdot \\frac{1}{C_{t}}=-\\frac{1}{\\left[\\left(R_{S}+r_{x}\\right) \\| r_{\\mathrm{in }}\\right] C_{t}} \\\\\n=-\\frac{1}{\\left[\\left(R_{S}+r_{x}\\right) \\| r_{\\mathrm{in }}\\right] \\cdot\\left[C_{\\text {in }}+C_{f}\\left(1+g_{m} R_{L}\\right)\\right]} \\tag{7.11b}\n\\end{gather*}\n$$\n\nThis analysis indicates that the circuit possesses a single pole, and substituting $s=j \\omega$ into equation (7.10b) demonstrates that the voltage gain is 3 dB below its low-frequency value at a frequency\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}}=\\left|p_{1}\\right|=\\frac{R_{S}+r_{x}+r_{\\mathrm{in}}}{\\left(R_{S}+r_{x}\\right) r_{\\mathrm{in}}} \\cdot \\frac{1}{C_{t}}=\\frac{1}{\\left[\\left(R_{S}+r_{x}\\right) \\| r_{\\mathrm{in}}\\right] \\cdot\\left[C_{\\mathrm{in}}+C_{f}\\left(1+g_{m} R_{L}\\right)\\right]} \\tag{7.12}\n\\end{equation*}\n$$\n\nAs $C_{t}$, $R_{L}$, or $R_{S}$ increase, the $-3-\\mathrm{dB}$ frequency of the amplifier decreases.\n\nThe precise gain expression for this circuit can be derived by examining the equivalent circuit depicted in Fig. 7.4. The poles derived from an exact analysis can be compared to the pole identified using the Miller effect. In Fig. 7.4, a Norton equivalent circuit is employed at the input, where\n\n$$\n\\begin{gather*}\nR=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}  \\tag{7.13}\\\\\ni_{i}=\\frac{v_{i}}{R_{S}+r_{x}} \\tag{7.14}\n\\end{gather*}\n$$\n\nApplying KCL at node $X$ results in\n\n$$\n\\begin{equation*}\ni_{i}=\\frac{v_{1}}{R}+v_{1} s C_{\\mathrm{in}}+\\left(v_{1}-v_{o}\\right) s C_{f} \\tag{7.15}\n\\end{equation*}\n$$\n\nAnd KCL at node $Y$ gives\n\n$$\n\\begin{equation*}\ng_{m} v_{1}+\\frac{v_{o}}{R_{L}}+\\left(v_{o}-v_{1}\\right) s C_{f}=0 \\tag{7.16a}\n\\end{equation*}\n$$\n\nEquation 7.16 a can be rewritten as\n\n$$\n\\begin{equation*}\nv_{1}\\left(g_{m}-s C_{f}\\right)=-v_{o}\\left(\\frac{1}{R_{L}}+s C_{f}\\right) \\tag{7.16b}\n\\end{equation*}\n$$\n\nand thus\n\n$$\n\\begin{equation*}\nv_{1}=-v_{o} \\frac{\\frac{1}{R_{L}}+s C_{f}}{g_{m}-s C_{f}} \\tag{7.17}\n\\end{equation*}\n$$\n\nSubstituting equation (7.17) into equation (7.15) yields\n\n$$\ni_{i}=-\\left(\\frac{1}{R}+s C_{\\mathrm{in}}+s C_{f}\\right) \\frac{\\frac{1}{R_{L}}+s C_{f}}{g_{m}-s C_{f}} v_{o}-s C_{f} v_{o}\n$$\n\nand the transfer function can be computed as\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{i_{i}}=-\\frac{R R_{L}\\left(g_{m}-s C_{f}\\right)}{1+s\\left(C_{f} R_{L}+C_{f} R+C_{\\mathrm{in}} R+g_{m} R_{L} R C_{f}\\right)+s^{2} R_{L} R C_{f} C_{\\mathrm{in}}} \\tag{7.18}\n\\end{equation*}\n$$\n\nSubstituting $i_{i}$ from equation (7.14) into equation (7.18) results in\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=-\\frac{g_{m} R_{L} R}{R_{S}+r_{x}} \\frac{1-s \\frac{C_{f}}{g_{m}}}{1+s\\left(C_{f} R_{L}+C_{f} R+C_{\\mathrm{in}} R+g_{m} R_{L} R C_{f}\\right)+s^{2} R_{L} R C_{f} C_{\\mathrm{in}}} \\tag{7.19}\n\\end{equation*}\n$$\n\nSubstituting $R$ from equation (7.13) into equation (7.19) provides the low-frequency gain as\n\n$$\n\\begin{equation*}\n\\left.\\frac{v_{o}}{v_{i}}\\right|_{\\omega=0}=-g_{m} R_{L} \\frac{r_{\\text {in }}}{R_{S}+r_{x}+r_{\\mathrm{in}}} \\tag{7.20}\n\\end{equation*}\n$$\n\nwhich is consistent with the result obtained in equation (7.10).\n\nEquation 7.19 shows that the transfer function $v_{o} / v_{i}$ features a positive real zero with a magnitude of $g_{m} / C_{f}$. This zero originates from the direct transmission of the signal through $C_{f}$ to the output. The impact of this zero is negligible except at very high frequencies and will be disregarded here. However, this positive real zero can be significant in the stability analysis of certain operational amplifiers and will be discussed in detail in Chapter 9. The denominator of equation (7.19) indicates that the transfer function possesses two poles, which are generally real and widely spaced in practice. If the poles are located at $p_{1}$ and $p_{2}$, the denominator of equation (7.19) can be expressed as\n\n$$\n\\begin{equation*}\nD(s)=\\left(1-\\frac{s}{p_{1}}\\right)\\left(1-\\frac{s}{p_{2}}\\right) \\tag{7.21}\n\\end{equation*}\n$$\n\nand thus\n\n$$\n\\begin{equation*}\nD(s)=1-s\\left(\\frac{1}{p_{1}}+\\frac{1}{p_{2}}\\right)+\\frac{s^{2}}{p_{1} p_{2}} \\tag{7.22}\n\\end{equation*}\n$$\n\nAssuming that the poles are real and widely separated, with the lower frequency pole designated as $p_{1}$ (the dominant pole) and the higher frequency pole as $p_{2}$ (the nondominant pole), then $\\left|p_{2}\\right| \\gg\\left|p_{1}\\right|$ and equation (7.22) simplifies to\n\n$$\n\\begin{equation*}\nD(s) \\approx 1-\\frac{s}{p_{1}}+\\frac{s^{2}}{p_{1} p_{2}} \\tag{7.23}\n\\end{equation*}\n$$\n\nComparing the coefficient of $s$ in equation (7.23) with that in equation (7.19) allows us to identify\n\n$$\n\\begin{align*}\np_{1} & =-\\frac{1}{C_{\\text {in }} R+C_{f}\\left(R+g_{m} R_{L} R+R_{L}\\right)} \\\\\n& =-\\frac{1}{R\\left[C_{\\mathrm{in}}+C_{f}\\left(1+g_{m} R_{L}+\\frac{R_{L}}{R}\\right)\\right]} \\tag{7.24}\n\\end{align*}\n$$\n\nSubstituting the value of $R$ from equation (7.13) into equation (7.24) yields the dominant pole as\n\n$$\n\\begin{align*}\np_{1} & =-\\frac{R_{S}+r_{x}+r_{\\mathrm{in}}}{\\left(R_{S}+r_{x}\\right) r_{\\mathrm{in}}} \\frac{1}{\\left[C_{\\mathrm{in}}+C_{f}\\left(1+g_{m} R_{L}+\\frac{R_{L}}{R}\\right)\\right]} \\\\\n& =-\\frac{1}{\\left[\\left(R_{S}+r_{x}\\right) \\| r_{\\mathrm{in}}\\right] \\cdot\\left[C_{\\mathrm{in}}+C_{f}\\left(1+g_{m} R_{L}+\\frac{R_{L}}{R}\\right)\\right]} \\tag{7.25}\n\\end{align*}\n$$\n\nThis value of $"
},
{
    "text": "Voltage-amplifier stages using a single transistor are commonly utilized in integrated circuits. The AC schematics for common-emitter and common-source amplifiers with resistive loads are illustrated in Figures 7.2a and 7.2b, respectively. Here, \\( R_S \\) represents the source resistance, while \\( R_L \\) is the load resistance. A simplified linear model applicable to both circuits is depicted in Figure 7.2c. The components within the dashed box correspond to the general small-signal transistor model from Figure 7.1, excluding \\( r_o \\). We consider the output resistance of the transistor, \\( r_o \\), to be significantly higher than \\( R_L \\). As these resistors are in parallel within the small-signal circuit, \\( r_o \\) can be disregarded. An approximate analysis of this circuit can be conducted using the Miller-effect approximation.\n\nThe analysis involves examining the input impedance observed across plane AA in Figure 7.2c. To determine this impedance, we calculate the current \\( i_1 \\) generated by the voltage \\( v_1 \\).\n\n\\[ i_1 = (v_1 - v_o) s C_f \\]\n\nApplying Kirchhoff's Current Law (KCL) at the output node yields\n\n\\[ g_m v_1 + \\frac{v_o}{R_L} + (v_o - v_1) s C_f = 0 \\]\n\nFrom this equation, the voltage gain \\( A_v \\) from \\( v_1 \\) to \\( v_o \\) can be expressed as\n\n\\[ A_v(s) = \\frac{v_o}{v_1} = -g_m R_L \\left( \\frac{1 - s \\frac{C_f}{g_m}}{1 + s R_L C_f} \\right) \\]\n\nSubstituting \\( v_o = A_v(s) v_1 \\) into the equation for \\( i_1 \\) gives\n\n\\[ i_1 = [1 - A_v(s)] s C_f v_1 \\]\n\nEquation 7.4 suggests that the admittance observed across plane AA is \\( [1 - A_v(s)] s C_f \\). This adjustment to the admittance \\( s C_f \\) is due to the voltage gain across \\( C_f \\) and is known as the Miller effect. Unfortunately, this admittance is complex due to the frequency dependence of \\( A_v(s) \\). Replacing the voltage gain \\( A_v(s) \\) in Equation 7.4 with its low-frequency value \\( A_{v0} = A_v(0) \\) indicates that a capacitance of value\n\n\\[ C_M = (1 - A_{v0}) C_f \\]\n\nis observed across plane AA. This use of the low-frequency voltage gain is referred to as the Miller approximation, and \\( C_M \\) is called the Miller capacitance. From Equation 7.3, \\( A_{v0} = A_v(0) = -g_m R_L \\); therefore, Equation 7.5 can be rewritten as\n\n\\[ C_M = (1 + g_m R_L) C_f \\]\n\nThe Miller capacitance is often much larger than \\( C_f \\) since \\( g_m R_L \\) is typically much greater than 1.\n\nThe analysis provided here is based on a general small-signal model. The parameters of this general model and their equivalents for bipolar and MOS transistors are listed in Table 7.1. By substituting these values, the general results of this section can be applied to bipolar common-emitter and MOS common-source amplifiers, which are crucial components in differential amplifiers discussed in subsequent sections."
},
{
    "text": "Voltage-amplifier stages utilizing a single transistor are commonly employed in integrated circuits. Figures 7.2a and 7.2b display the AC schematics for common-emitter and common-source amplifiers with resistive loads, respectively. Here, \\( R_S \\) denotes the source resistance, and \\( R_L \\) represents the load resistance. A straightforward linear model applicable to both circuits is depicted in Fig. 7.2c. The elements enclosed in the dashed box constitute the general small-signal transistor model from Fig. 7.1, excluding \\( r_o \\). We will consider that the transistor's output resistance \\( r_o \\) significantly exceeds \\( R_L \\). As these resistors are connected in parallel within the small-signal circuit, \\( r_o \\) can be disregarded. An approximate analysis of this circuit can be conducted using the Miller-effect approximation.\n\nFig. 7.1 presents a general small-signal transistor model featuring resistors, capacitors, and a dependent current source. The output resistance \\( r_o \\) is neglected in the analysis due to its substantial value relative to \\( R_L \\). The circuit employs the Miller-effect approximation for analysis.\n\nThis analysis involves considering the input impedance observed across plane AA in Fig. 7.2c. To determine this impedance, we calculate the current \\( i_1 \\) generated by the voltage \\( v_1 \\).\n\n$$\ni_1 = (v_1 - v_o) s C_f \\tag{7.1}\n$$\n\nKCL at the output node yields\n\n$$\ng_m v_1 + \\frac{v_o}{R_L} + (v_o - v_1) s C_f = 0 \\tag{7.2}\n$$\n\nFrom equation (7.2), the voltage gain \\( A_v \\) from \\( v_1 \\) to \\( v_o \\) can be expressed as\n\n$$\nA_v(s) = \\frac{v_o}{v_1} = -g_m R_L \\left( \\frac{1 - s \\frac{C_f}{g_m}}{1 + s R_L C_f} \\right) \\tag{7.3}\n$$\n\nSubstituting \\( v_o = A_v(s) v_1 \\) from equation (7.3) into (7.1) results in\n\n$$\ni_1 = [1 - A_v(s)] s C_f v_1 \\tag{7.4}\n$$\n\nEquation 7.4 suggests that the admittance observed across plane AA is \\( [1 - A_v(s)] s C_f \\). This adjustment to the admittance \\( s C_f \\) arises from the voltage gain across \\( C_f \\) and is referred to as the Miller effect. Regrettably, this admittance is complex due to the frequency dependence of \\( A_v(s) \\). Replacing the voltage gain \\( A_v(s) \\) in (7.4) with its low-frequency value \\( A_{v0} = A_v(0) \\), equation (7.4) indicates that a capacitance of value\n\n$$\nC_M = (1 - A_{v0}) C_f \\tag{7.5}\n$$\n\nis observed across plane AA. The utilization of the low-frequency voltage gain in this context is known as the Miller approximation, and \\( C_M \\) is referred to as the Miller capacitance. From equation (7.3), \\( A_{v0} = A_v(0) = -g_m R_L \\); hence, equation (7.5) can be rewritten as\n\n$$\nC_M = (1 + g_m R_L) C_f \\tag{7.6}\n$$\n\nThe Miller capacitance is typically much greater than \\( C_f \\) because \\( g_m R_L \\gg 1 \\) is often the case.\n\nTable 7.1 lists the small-signal model elements for the general model, bipolar model, and MOS model.\n\nFigures 7.2a, 7.2b, and 7.2c illustrate AC schematics of a common-emitter amplifier, a common-source amplifier, and a general model for both amplifiers, respectively.\n\nWe can now construct a new equivalent circuit that is beneficial for calculating the forward transmission and input impedance of the circuit, as shown in Fig. 7.3 using the Miller-effect approximation. Note that this equivalent circuit is not suitable for calculating high-frequency reverse transmission or output impedance. From this circuit, we can observe that at high frequencies, the input impedance will eventually converge to \\( r_x \\).\n\nThe physical origin of the Miller capacitance lies in the voltage gain of the circuit. At low frequencies, a minor input voltage \\( v_1 \\) generates a substantial output voltage \\( v_o = A_{v0} v_1 = -g_m R_L v_1 \\) of opposite polarity. Consequently, the voltage across \\( C_f \\) in Fig. 7.2c is \\( (1 + g_m R_L) v_1 \\), leading to a correspondingly large current \\( i_1 \\) flowing through this capacitor. The voltage across \\( C_M \\) in Fig. 7.3 is only \\( v_1 \\), but \\( C_M \\) is larger than \\( C_f \\) by a factor of \\( (1 + g_m R_L) \\); hence, \\( C_M \\) conducts the same current as \\( C_f \\).\n\nIn Fig. 7.3, the Miller capacitance is directly added to \\( C_{in} \\), thereby diminishing the bandwidth of the amplifier. This reduction can be observed by calculating the gain of the amplifier as follows:\n\n$$\nv_1 = \\frac{\\frac{r_{in}}{1 + s r_{in} C_t}}{\\frac{r_{in}}{1 + s r_{in} C_t} + R_S + r_x} v_i \\tag{7.7}\n$$\n\n$$\nv_o = -g_m R_L v_1 \\tag{7.8}\n$$\n\nwhere\n\n$$\nC_t = C_M + C_{in} \\tag{7.9}\n$$\n\nSubstituting equation (7.7) into (7.8) yields the gain\n\n$$\nA(s) = \\frac{v_o}{v_i} = -g_m R_L \\frac{r_{in}}{R_S + r_x + r_{in}} \\frac{1}{1 + s C_t \\frac{(R_S + r_x) r_{in}}{R_S + r_x + r_{in}}} \\tag{7.10a}\n$$\n\n$$\n= K \\frac{1}{1 - \\frac{s}{p_1}} \\tag{7.10b}\n$$\n\nHere, \\( K \\) represents the low-frequency voltage gain, and \\( p_1 \\) denotes the circuit's pole. Comparing equations (7.10a) and (7.10b) reveals that\n\n$$\nK = -g_m R_L \\frac{r_{in}}{R_S + r_x + r_{in}} \\tag{7.11a}\n$$\n\n$$\np_1 = -\\frac{R_S + r_x + r_{in}}{(R_S + r_x) r_{in}} \\cdot \\frac{1}{C_t} = -\\frac{1}{[(R_S + r_x) || r_{in}] C_t} \\tag{7.11b}\n$$\n\nThis analysis indicates that the circuit possesses a single pole, and substituting \\( s = j \\omega \\) into (7.10b) demonstrates that the voltage gain drops 3 dB below its low-frequency value at a frequency\n\n$$\n\\omega_{-3dB} = |p_1| = \\frac{R_S + r_x + r_{in}}{(R_S + r_x) r_{in}} \\cdot \\frac{1}{C_t} = \\frac{1}{[(R_S + r_x) || r_{in}] \\cdot (C_{in} + C_f (1 + g_m R_L))} \\tag{7.12}\n$$\n\nAs \\( C_t \\), \\( R_L \\), or \\( R_S \\) increase, the \\( -3dB \\) frequency of the amplifier decreases.\n\nThe precise gain expression for this circuit can be obtained by examining the equivalent circuit depicted in Fig. 7.4. The poles derived from an exact analysis can be compared to the pole identified using the Miller effect. In Fig. 7.4, a Norton equivalent is employed at the input, where\n\n$$\nR = (R_S + r_x) || r_{in} \\tag{7.13}\n$$\n\n$$\ni_i = \\frac{v_i}{R_S + r_x} \\tag{7.14}\n$$\n\nFig. 7.4 represents Fig. 7.2c redrawn using a Norton equivalent circuit at the input.\n\nKCL at node X yields\n\n$$\ni_i = \\frac{v_1}{R} + v_1 s C_{in} + (v_1 - v_o) s C_f \\tag{7.15}\n$$\n\nKCL at node Y gives\n\n$$\ng_m v_1 + \\frac{v_o}{R_L} + (v_o - v_1) s C_f = 0 \\tag{7.16a}\n$$\n\nEquation 7.16a can be rewritten as\n\n$$\nv_1 (g_m - s C_f) = -v_o \\left( \\frac{1}{R_L} + s C_f \\right) \\tag{7.16b}\n$$\n\nand thus\n\n$$\nv_1 = -v_o \\frac{\\frac{1}{R_L} + s C_f}{g_m - s C_f} \\tag{7.17}\n$$\n\nSubstituting equation (7.17) into (7.15) results in\n\n$$\ni_i = -\\left( \\frac{1}{R} + s C_{in} + s C_f \\right) \\frac{\\frac{1}{R_L} + s C_f}{g_m - s C_f} v_o - s C_f v_o\n$$\n\nThe transfer function can be determined as\n\n$$\n\\frac{v_o}{i_i} = -\\frac{R R_L (g_m - s C_f)}{1 + s (C_f R_L + C_f R + C_{in} R + g_m R_L R C_f) + s^2 R_L R C_f C_{in}} \\tag{7.18}\n$$\n\nSubstituting \\( i_i \\) from equation (7.14) into (7.18) yields\n\n$$\n\\frac{v_o}{v_i} = -\\frac{g_m R_L R}{R_S + r_x} \\frac{1 - s \\frac{C_f}{g_m}}{1 + s (C_f R_L + C_f R + C_{in} R + g_m R_L R C_f) + s^2 R_L R C_f C_{in}} \\tag{7.19}\n$$\n\nSubstituting \\( R \\) from equation (7.13) into (7.19) gives the low-frequency gain as\n\n$$\n\\left. \\frac{v_o}{v_i} \\right|_{\\omega = 0} = -g_m R_L \\frac{r_{in}}{R_S + r_x + r_{in}} \\tag{7.20}\n$$\n\nwhich matches the result in equation (7.10). Equation 7.19 indicates that the transfer function \\( v_o / v_i \\) possesses a positive real zero with magnitude \\( g_m / C_f \\). This zero originates from the direct transmission of the signal through \\( C_f \\) to the output. The impact of this zero is negligible except at very high frequencies and will be disregarded here. However, this positive real zero can be crucial in the stability analysis of certain operational amplifiers and will be explored in detail in Chapter 9. The denominator of equation (7.19) reveals that the transfer function has two poles, which are typically real and widely spaced in practice. If the poles are located at \\( p_1 \\) and \\( p_2 \\), the denominator of equation (7.19) can be expressed as\n\n$$\nD(s) = (1 - \\frac{s}{p_1})(1 - \\frac{s}{p_2}) \\tag{7.21}\n$$\n\nand thus\n\n$$\nD(s) = 1 - s (\\frac{1}{p_1} + \\frac{1}{p_2}) + \\frac{s^2}{p_1 p_2} \\tag{7.22}\n$$\n\nAssuming that the poles are real and widely separated, with the lower frequency pole being \\( p_1 \\) (the dominant pole) and the higher frequency pole being \\( p_2 \\) (the nondominant pole), then \\( |p_2| \\gg |p_1| \\) and equation (7.22) simplifies to\n\n$$\nD(s) \\approx 1 - \\frac{s}{p_1} + \\frac{s^2}{p_1 p_2} \\tag{7.23}\n$$\n\nComparing the coefficient of \\( s \\) in equation (7.23) with that in (7.19) allows us to identify\n\n$$\np_1 = -\\frac{1}{C_{in} R + C_f (R + g_m R_L R + R_L)} \\tag{7.24}\n$$\n\n$$\n= -\\frac{1}{R (C_{in} + C_f (1 + g_m R_L + \\frac{R_L}{R}))} \\tag{7.25}\n$$\n\nThis value of \\( p_1 \\) is almost identical to that provided in equation (7.11b) by the Miller approximation. The sole discrepancy between these equations is in the last term of the denominator in equation (7.25), \\( R_L / R \\), which is usually minor compared to the \\( (1 + g_m R_L) \\) term. This outcome demonstrates that the Miller-effect calculation is nearly equivalent to determining the dominant pole of the amplifier while disregarding higher frequency poles. The Miller approximation provides a reliable estimate of \\( \\omega_{-3dB} \\) in numerous circuits.\n\nTo calculate the nondominant pole, we equate the coefficient of \\( s^2 \\) in equation (7.23) with that in (7.19), yielding\n\n$$\np_2 = \\frac{1}{p_1} \\frac{1}{R_L R C_f C_{in}} \\tag{7.26}\n$$\n\nSubstituting \\( p_1 \\) from equation (7.24) into (7.26) results in\n\n$$\np_2 = -\\left( \\frac{1}{R_L C_f} + \\frac{1}{R C_{in}} + \\frac{1}{R_L C_{in}} + \\frac{g_m}{C_{in}} \\right) \\tag{7.27}\n$$\n\nThe results in this section are derived using a general small-signal model. The general model parameters and their corresponding values for a bipolar and MOS transistor are listed in Table 7.1. By substituting these values, the general results presented in this section can be applied to bipolar common-emitter and MOS common-source amplifiers, which are discussed in the subsequent sections regarding half-circuits for differential amplifiers.\n\n#### 7.2.1.1 The Bipolar Differential Amplifier: Differential-Mode Gain\n\nA fundamental building block of analog bipolar integrated circuits is the differential stage depicted in Fig. 7.5. For small-signal differential inputs at \\( v_i \\), node \\( E \\) behaves as a virtual ground, allowing us to form the differential-mode (DM) AC half-circuit shown in Fig. 7.6a. The gain of this common-emitter circuit equals the DM gain of the complete circuit. The circuit analysis that follows is applicable to this DM half-circuit as well as any single-stage common-emitter amplifier of the form displayed in Fig. 7.6a. The small-signal equivalent circuit of Fig. 7.6a is presented in Fig. 7.6b, and for brevity, the factor of \\( 1/2 \\) has been omitted from the input and output voltages. This modification does not affect the analysis. Additionally, for simplicity, the collector-substrate capacitance of the transistor has been omitted. Since this capacitance would be connected in parallel with \\( R_L \\), its impact could be incorporated into the subsequent analysis by replacing \\( R_L \\) with \\( Z_L \\), where \\( Z_L \\) equals \\( R_L \\) in parallel with \\( C_{cs} \\).\n\nFigures 7.6a and 7.6b depict the differential-mode AC half-circuit and the small-signal equivalent circuit for Fig. 7.5, respectively.\n\nThe small-signal circuit in Fig. 7.2c transforms into the circuit in Fig. 7.6b when the bipolar model parameters listed in the second column of Table 7.1 are substituted for the general model parameters in Fig. 7.2c. Consequently, the analysis results from the previous section are applicable here. By substituting the values from the second column of Table 7.1 into equation (7.19), the voltage gain is expressed as\n\n$$\n\\frac{v_o}{v_i} = -\\frac{\\frac{g_m R_L R}{R_S + r_b} (1 - s \\frac{C_{\\mu}}{g_m})}{1 + s (C_{\\mu} R_L + C_{\\mu} R + C_{\\pi} R + g_m R_L R C_{\\mu}) + s^2 R_L R C_{\\mu} C_{\\pi}} \\tag{7.28}\n$$\n\nwhere \\( R = (R_S + r_b) || r_{\\pi} \\). Using equation (7.25), the dominant pole is given by\n\n$$\np_1 = -\\frac{1}{[(R_S + r_b) || r_{\\pi}] [C_{\\pi} + C_{\\mu} (1 + g_m R_L + \\frac{R_L}{R})]} \\tag{7.29}\n$$\n\nCalculating \\( p_1 \\) using equation (7.11b), which is based on the Miller-effect approximation, yields\n\n$$\np_1 = -\\frac{1}{[(R_S + r_b) || r_{\\pi}] [C_{\\pi} + C_{\\mu} (1 + g_m R_L)]} = -\\frac{1}{[(R_S + r_b) || r_{\\pi}] (C_{\\pi} + C_M)} \\tag{7.30}\n$$\n\nwhere\n\n$$\nC_M = C_{\\mu} (1 + g_m R_L) \\tag{7.31}\n$$\n\nis the Miller capacit"
},
{
    "text": "Voltage amplifier stages using a single transistor are frequently employed in integrated circuits. Figures 7.2a and 7.2b depict the AC schematics for common-emitter and common-source amplifiers with resistive loads, respectively. Here, \\( R_S \\) represents the source resistance, while \\( R_L \\) is the load resistance. A simplified linear model applicable to both circuits is presented in Fig. 7.2c. The components within the dashed box constitute the general small-signal transistor model from Fig. 7.1, excluding \\( r_o \\). We will consider that the output resistance of the transistor, \\( r_o \\), significantly exceeds \\( R_L \\). Given that these resistors are connected in parallel within the small-signal circuit, \\( r_o \\) can be disregarded. An approximate analysis of this circuit can be conducted using the Miller-effect approximation.\n\nThe analysis is conducted by examining the input impedance observed across plane AA in Fig. 7.2c. To determine this impedance, we calculate the current \\( i_1 \\) generated by the voltage \\( v_1 \\).\n\n$$\ni_1 = (v_1 - v_o) s C_f \\tag{7.1}\n$$\n\nKCL at the output node yields\n\n$$\ng_m v_1 + \\frac{v_o}{R_L} + (v_o - v_1) s C_f = 0 \\tag{7.2}\n$$\n\nFrom equation (7.2), the voltage gain \\( A_v \\) from \\( v_1 \\) to \\( v_o \\) can be expressed as\n\n$$\nA_v(s) = \\frac{v_o}{v_1} = -g_m R_L \\left(\\frac{1 - s \\frac{C_f}{g_m}}{1 + s R_L C_f}\\right) \\tag{7.3}\n$$\n\nSubstituting \\( v_o = A_v(s) v_1 \\) from equation (7.3) into equation (7.1) gives\n\n$$\ni_1 = [1 - A_v(s)] s C_f v_1 \\tag{7.4}\n$$\n\nEquation 7.4 indicates that the admittance observed across plane AA has a value of \\( [1 - A_v(s)] s C_f \\). This modification to the admittance \\( s C_f \\) arises from the voltage gain across \\( C_f \\) and is referred to as the Miller effect. Regrettably, this admittance is complex due to the frequency dependence of \\( A_v(s) \\). Replacing the voltage gain \\( A_v(s) \\) in equation (7.4) with its low-frequency value \\( A_{v0} = A_v(0) \\), equation (7.4) indicates that a capacitance of value\n\n$$\nC_M = (1 - A_{v0}) C_f \\tag{7.5}\n$$\n\nis observed across plane AA. The use of the low-frequency voltage gain here is known as the Miller approximation, and \\( C_M \\) is termed the Miller capacitance. From equation (7.3), \\( A_{v0} = A_v(0) = -g_m R_L \\); hence, equation (7.5) can be rewritten as\n\n$$\nC_M = (1 + g_m R_L) C_f \\tag{7.6}\n$$\n\nThe Miller capacitance is often substantially greater than \\( C_f \\) because typically \\( g_m R_L \\gg 1 \\).\n\nTable 7.1 lists the small-signal model elements for the general model, bipolar model, and MOS model.\n\nFigure 7.1 displays a general small-signal transistor model, which includes resistors, capacitors, and a dependent current source. The output resistance \\( r_o \\) is omitted in the analysis due to its substantial value relative to \\( R_L \\). The circuit employs the Miller-effect approximation for analysis.\n\nWe can now construct a new equivalent circuit that is beneficial for calculating the forward transmission and input impedance of the circuit, as shown in Fig. 7.3 using the Miller-effect approximation. Note that this equivalent circuit is not suitable for calculating high-frequency reverse transmission or output impedance. From this circuit, it is evident that at high frequencies, the input impedance will ultimately approach \\( r_x \\).\n\nThe physical origin of the Miller capacitance lies in the voltage gain of the circuit. At low frequencies, a small input voltage \\( v_1 \\) generates a large output voltage \\( v_o = A_{v0} v_1 = -g_m R_L v_1 \\) of opposite polarity. Consequently, the voltage across \\( C_f \\) in Fig. 7.2c is \\( (1 + g_m R_L) v_1 \\) and a correspondingly large current \\( i_1 \\) flows through this capacitor. The voltage across \\( C_M \\) in Fig. 7.3 is only \\( v_1 \\), but \\( C_M \\) is larger than \\( C_f \\) by the factor \\( (1 + g_m R_L) \\); hence, \\( C_M \\) conducts the same current as \\( C_f \\).\n\nFigure 7.3 presents an equivalent circuit for Fig. 7.2c using the Miller approximation.\n\nIn Fig. 7.3, the Miller capacitance is directly added to \\( C_{in} \\), thereby reducing the bandwidth of the amplifier. This can be observed by calculating the gain of the amplifier as follows:\n\n$$\nv_1 = \\frac{\\frac{r_{in}}{1 + s r_{in} C_t}}{\\frac{r_{in}}{1 + s r_{in} C_t} + R_S + r_x} v_i \\tag{7.7}\n$$\n\n$$\nv_o = -g_m R_L v_1 \\tag{7.8}\n$$\n\nwhere\n\n$$\nC_t = C_M + C_{in} \\tag{7.9}\n$$\n\nSubstituting equation (7.7) into equation (7.8) yields the gain\n\n$$\nA(s) = \\frac{v_o}{v_i} = -g_m R_L \\frac{r_{in}}{R_S + r_x + r_{in}} \\frac{1}{1 + s C_t \\frac{(R_S + r_x) r_{in}}{R_S + r_x + r_{in}}} \\tag{7.10a}\n$$\n\n$$\n= K \\frac{1}{1 - \\frac{s}{p_1}} \\tag{7.10b}\n$$\n\nwhere \\( K \\) is the low-frequency voltage gain and \\( p_1 \\) is the pole of the circuit. Comparing equations (7.10a) and (7.10b) reveals that\n\n$$\nK = -g_m R_L \\frac{r_{in}}{R_S + r_x + r_{in}} \\tag{7.11a}\n$$\n\n$$\np_1 = -\\frac{R_S + r_x + r_{in}}{(R_S + r_x) r_{in}} \\cdot \\frac{1}{C_t} = -\\frac{1}{[(R_S + r_x) || r_{in}] C_t} \\tag{7.11b}\n$$\n\nThis analysis indicates that the circuit possesses a single pole, and substituting \\( s = j \\omega \\) in equation (7.10b) demonstrates that the voltage gain is 3 dB below its low-frequency value at a frequency\n\n$$\n\\omega_{-3dB} = |p_1| = \\frac{R_S + r_x + r_{in}}{(R_S + r_x) r_{in}} \\cdot \\frac{1}{C_t} = \\frac{1}{[(R_S + r_x) || r_{in}] \\cdot (C_{in} + C_f(1 + g_m R_L))} \\tag{7.12}\n$$\n\nAs \\( C_t \\), \\( R_L \\), or \\( R_S \\) increase, the \\( -3dB \\) frequency of the amplifier decreases.\n\nThe precise gain expression for this circuit can be obtained by analyzing the equivalent circuit depicted in Fig. 7.4. The poles derived from an exact analysis can be compared to the pole identified using the Miller effect. In Fig. 7.4, a Norton equivalent is employed at the input where\n\n$$\nR = (R_S + r_x) || r_{in} \\tag{7.13}\n$$\n\n$$\ni_i = \\frac{v_i}{R_S + r_x} \\tag{7.14}\n$$\n\nFigure 7.4 illustrates Fig. 7.2c redrawn using a Norton equivalent circuit at the input.\n\nKCL at node \\( X \\) gives\n\n$$\ni_i = \\frac{v_1}{R} + v_1 s C_{in} + (v_1 - v_o) s C_f \\tag{7.15}\n$$\n\nKCL at node \\( Y \\) gives\n\n$$\ng_m v_1 + \\frac{v_o}{R_L} + (v_o - v_1) s C_f = 0 \\tag{7.16a}\n$$\n\nEquation 7.16a can be rewritten as\n\n$$\nv_1(g_m - s C_f) = -v_o\\left(\\frac{1}{R_L} + s C_f\\right) \\tag{7.16b}\n$$\n\nand thus\n\n$$\nv_1 = -v_o \\frac{\\frac{1}{R_L} + s C_f}{g_m - s C_f} \\tag{7.17}\n$$\n\nSubstituting equation (7.17) into equation (7.15) yields\n\n$$\ni_i = -\\left(\\frac{1}{R} + s C_{in} + s C_f\\right) \\frac{\\frac{1}{R_L} + s C_f}{g_m - s C_f} v_o - s C_f v_o\n$$\n\nand the transfer function can be calculated as\n\n$$\n\\frac{v_o}{i_i} = -\\frac{R R_L (g_m - s C_f)}{1 + s(C_f R_L + C_f R + C_{in} R + g_m R_L R C_f) + s^2 R_L R C_f C_{in}} \\tag{7.18}\n$$\n\nSubstituting \\( i_i \\) from equation (7.14) into equation (7.18) gives\n\n$$\n\\frac{v_o}{v_i} = -\\frac{g_m R_L R}{R_S + r_x} \\frac{1 - s \\frac{C_f}{g_m}}{1 + s(C_f R_L + C_f R + C_{in} R + g_m R_L R C_f) + s^2 R_L R C_f C_{in}} \\tag{7.19}\n$$\n\nSubstituting \\( R \\) from equation (7.13) into equation (7.19) yields, for the low-frequency gain,\n\n$$\n\\left.\\frac{v_o}{v_i}\\right|_{\\omega = 0} = -g_m R_L \\frac{r_{in}}{R_S + r_x + r_{in}} \\tag{7.20}\n$$\n\nas obtained in equation (7.10).\n\nEquation 7.19 shows that the transfer function \\( \\frac{v_o}{v_i} \\) possesses a positive real zero with magnitude \\( \\frac{g_m}{C_f} \\). This zero stems from the direct transmission of the signal through \\( C_f \\) to the output. The effect of this zero is negligible except at very high frequencies and will be disregarded here. However, this positive real zero can be significant in the stability analysis of certain operational amplifiers and will be examined in detail in Chapter 9. The denominator of equation (7.19) reveals that the transfer function has two poles, which are usually real and widely spaced in practice. If the poles are at \\( p_1 \\) and \\( p_2 \\), the denominator of equation (7.19) can be expressed as\n\n$$\nD(s) = (1 - \\frac{s}{p_1})(1 - \\frac{s}{p_2}) \\tag{7.21}\n$$\n\nand thus\n\n$$\nD(s) = 1 - s(\\frac{1}{p_1} + \\frac{1}{p_2}) + \\frac{s^2}{p_1 p_2} \\tag{7.22}\n$$\n\nWe now assume that the poles are real and widely separated, and we let the lower frequency pole be \\( p_1 \\) (the dominant pole) and the higher frequency pole be \\( p_2 \\) (the nondominant pole). Then \\( |p_2| \\gg |p_1| \\) and equation (7.22) becomes\n\n$$\nD(s) \\approx 1 - \\frac{s}{p_1} + \\frac{s^2}{p_1 p_2} \\tag{7.23}\n$$\n\nComparing the coefficient of \\( s \\) in equation (7.23) with that in equation (7.19) allows us to identify\n\n$$\np_1 = -\\frac{1}{C_{in} R + C_f(R + g_m R_L R + R_L)} \\tag{7.24}\n$$\n\n$$\n= -\\frac{1}{R(C_{in} + C_f(1 + g_m R_L + \\frac{R_L}{R}))} \\tag{7.25}\n$$\n\nThis value of \\( p_1 \\) is almost identical to that provided in equation (7.11b) by the Miller approximation. The sole discrepancy between these equations is in the last term in the denominator of equation (7.25), \\( \\frac{R_L}{R} \\), and this term is usually minor compared to the \\( (1 + g_m R_L) \\) term. This result demonstrates that the Miller-effect calculation is nearly equivalent to calculating the dominant pole of the amplifier and neglecting higher frequency poles. The Miller approximation provides a good estimate of \\( \\omega_{-3dB} \\) in numerous circuits.\n\nLet us now calculate the nondominant pole by equating the coefficient of \\( s^2 \\) in equation (7.23) with that in equation (7.19), yielding\n\n$$\np_2 = \\frac{1}{p_1} \\frac{1}{R_L R C_f C_{in}} \\tag{7.26}\n$$\n\nSubstituting \\( p_1 \\) from equation (7.24) into equation (7.26) gives\n\n$$\np_2 = -\\left(\\frac{1}{R_L C_f} + \\frac{1}{R C_{in}} + \\frac{1}{R_L C_{in}} + \\frac{g_m}{C_{in}}\\right) \\tag{7.27}\n$$\n\nThe results in this section were derived using a general small-signal model. The general model parameters and the corresponding parameters for a bipolar and MOS transistor are listed in Table 7.1. By substituting values from Table 7.1, the general results of this section will be extended to the bipolar common-emitter and MOS common-source amplifiers, which are presented in the subsequent sections.\n\n#### 7.2.1.1 The Bipolar Differential Amplifier: Differential-Mode Gain\n\nA fundamental building block of analog bipolar integrated circuits is the differential stage depicted in Fig. 7.5. For small-signal differential inputs at \\( v_i \\), node \\( E \\) acts as a virtual ground, and we can construct the differential-mode (DM) AC half-circuit shown in Fig. 7.6a. The gain of this common-emitter circuit equals the DM gain of the full circuit. The circuit analysis that follows applies to this DM half-circuit as well as any single-stage common-emitter amplifier of the form shown in Fig. 7.6a. The small-signal equivalent circuit of Fig. 7.6a is presented in Fig. 7.6b, and for compactness, the factor of \\( \\frac{1}{2} \\) has been omitted from the input and output voltages. This alteration does not affect the analysis in any manner. Additionally, for simplicity, the collector-substrate capacitance of the transistor has been omitted. Since this capacitance would be connected in parallel with \\( R_L \\), its effect could be incorporated into the subsequent analysis by replacing \\( R_L \\) with \\( Z_L \\), where \\( Z_L \\) equals \\( R_L \\) in parallel with \\( C_{cs} \\).\n\nFigure 7.5 displays a bipolar differential amplifier circuit.\n\nFigure 7.6a and 7.6b depict the differential-mode AC half-circuit and the corresponding small-signal circuit, respectively. For brevity, the factor of \\( \\frac{1}{2} \\) has been omitted from the input and output voltages in Fig. 7.6b, but this change does not impact the analysis. This circuit represents a common-emitter amplifier. The \\( g_{mb} \\) generator and source-body capacitor \\( C_{sb} \\) are not shown since \\( v_{bs} = 0 \\) in this context. For simplicity, the drain-body capacitor \\( C_{db} \\) of the transistor has been omitted. Given that this capacitor would be connected in parallel with \\( R_L \\), its effect could be managed in the following analysis by replacing \\( R_L \\) with \\( Z_L \\), where \\( Z_L \\) equals \\( R_L \\) in parallel with \\( C_{db} \\). For simplicity, the gate-body capacitor \\( C_{gb} \\) is disregarded. It could be included by simply adding it to \\( C_{gs} \\) since \\( C_{gb} \\) appears in parallel with \\( C_{gs} \\) in the common-emitter amplifier. However, typically \\( C_{gs} \\gg C_{gb} \\), so \\( C_{gs} + C_{gb} \\approx C_{gs} \\). The analysis of this AC circuit applies to this DM half-circuit as well as any single-stage common-emitter amplifier of the form shown in Fig. 7.6a. The small-signal circuit in Fig. 7.6b corresponds to the circuit in Fig. 7.2c if we rename the model parameters as listed in Table 7.1. Therefore, we can employ the results of the analysis of Fig. 7.2c. Substituting the values from the second column in Table 7.1 into equation (7.19), the exact transfer function is expressed as\n\n$$\n\\frac{v_o}{v_i} = -\\frac{\\frac{g_m R_L R}{R_S + r_b}(1 - s \\frac{C_{\\mu}}{g_m})}{1 + s(C_{\\mu} R_L + C_{\\mu} R + C_{\\pi}"
},
{
    "text": "Voltage amplifier stages based on a single transistor are frequently utilized in integrated circuits. The AC schematics for common-emitter and common-source amplifiers with resistive loads are depicted in Figures 7.2a and 7.2b, respectively. Here, $R_S$ represents the source resistance, while $R_L$ denotes the load resistance. A simplified linear model applicable to both circuits is presented in Figure 7.2c, where the components within the dashed box correspond to the general small-signal transistor model from Figure 7.1, excluding $r_o$. We assume that the output resistance of the transistor, $r_o$, significantly exceeds $R_L$. Given that these resistors are in parallel within the small-signal circuit, $r_o$ can be disregarded. An approximate analysis of this circuit can be conducted using the Miller-effect approximation. \n\nThe analysis is performed by examining the input impedance as seen from across plane AA in Figure 7.2c. To determine this impedance, we calculate the current $i_1$ generated by the voltage $v_1$. KCL at the output node yields the voltage gain $A_v$ from $v_1$ to $v_o$. Using the Miller-effect approximation, we derive a new equivalent circuit suitable for calculating the forward transmission and input impedance of the circuit, as shown in Figure 7.3. Note that this equivalent circuit is not applicable for calculating high-frequency reverse transmission or output impedance. From this circuit, it is evident that at high frequencies, the input impedance approaches $r_x$. \n\nThe physical origin of the Miller capacitance lies in the voltage gain of the circuit. At low frequencies, a small input voltage $v_1$ generates a large output voltage $v_o = A_{v0} v_1 = -g_m R_L v_1$ of opposite polarity. Consequently, the voltage across $C_f$ in Figure 7.2c is $(1 + g_m R_L) v_1$, resulting in a substantial current $i_1$ flowing through this capacitor. The voltage across $C_M$ in Figure 7.3 is only $v_1$, but $C_M$ is larger than $C_f$ by a factor of $(1 + g_m R_L)$; hence, $C_M$ conducts the same current as $C_f$."
},
{
    "text": "Voltage amplifier stages utilizing a single transistor are commonly integrated into circuits. The schematics depicted in Figures 7.2a and 7.2b represent the AC configurations for common-emitter and common-source amplifiers with resistive loads. Here, \\( R_S \\) denotes the source resistance, while \\( R_L \\) is the load resistance. A simplified linear model applicable to both circuits is presented in Figure 7.2c. The components enclosed in the dashed box correspond to the general small-signal transistor model from Figure 7.1, excluding \\( r_o \\). We consider the transistor's output resistance \\( r_o \\) to be significantly greater than \\( R_L \\). Given that these resistors are in parallel within the small-signal circuit, \\( r_o \\) can be disregarded. An approximate analysis of this circuit can be conducted using the Miller-effect approximation.\n\nThe analysis involves examining the input impedance as seen from across plane AA in Figure 7.2c. To determine this impedance, we compute the current \\( i_1 \\) generated by the voltage \\( v_1 \\).\n\nThe voltage gain \\( A_v \\) from \\( v_1 \\) to \\( v_o \\) can be derived from the expressions provided.\n\nUtilizing the Miller-effect approximation, we can develop a new equivalent circuit suitable for calculating the forward transmission and input impedance, as depicted in Figure 7.3. It should be noted that this equivalent circuit is not effective for calculating high-frequency reverse transmission or output impedance. From this circuit, it is evident that at high frequencies, the input impedance will asymptotically approach \\( r_x \\).\n\nThe Miller capacitance's physical origin lies in the circuit's voltage gain. At low frequencies, a small input voltage \\( v_1 \\) generates a large output voltage \\( v_o = A_{v0} v_1 = -g_m R_L v_1 \\) of opposite polarity. Consequently, the voltage across \\( C_f \\) in Figure 7.2c is \\( (1+g_m R_L) v_1 \\), resulting to a substantial current \\( i_1 \\) flowing through this capacitor. The voltage across \\( C_M \\) in Figure 7.3 is only \\( v_1 \\), but \\( C_M \\) is larger than \\( C_f \\) by a factor of \\( (1+g_m R_L) \\); hence, \\( C_M \\) conducts the same current as \\( C_f \\).\n\nIn Figure 7.3, the Miller capacitance directly contributes to \\( C_{\\text{in}} \\), thereby diminishing the bandwidth of the amplifier. This reduction can be observed by calculating the amplifier's gain as indicated by the equations provided.\n\nThe analysis presented in this section is based on a general small-signal model. The parameters of this general model and their counterparts for bipolar and MOS transistors are summarized in Table 7.1. By substituting the values from this table, the general findings of this section can be extended to bipolar common-emitter and MOS common-source amplifiers, which are integral components of differential amplifiers discussed in subsequent sections.\n\n#### 7.2.1.1 The Bipolar Differential Amplifier: Differential-Mode Gain\n\nA fundamental building block in analog bipolar integrated circuits is the differential stage, as shown in Figure 7.5. For small-signal differential inputs at \\( v_i \\), node \\( E \\) acts as a virtual ground, enabling the formation of the differential-mode (DM) AC half-circuit in Figure 7.6a. The gain of this common-emitter circuit corresponds to the DM gain of the complete circuit. The subsequent circuit analysis is applicable to this DM half-circuit as well as any single-stage common-emitter amplifier of the type depicted in Figure 7.6a. The small-signal equivalent circuit for Figure 7.6a is shown in Figure 7.6b.\n\n#### 7.2.1.2 The MOS Differential Amplifier: Differential-Mode Gain\n\nA MOS differential amplifier with resistive loads is presented in Figure 7.9. The differential-mode (DM) AC half-circuit and its corresponding small-signal circuit are illustrated in Figures 7.10a and 7.10b, respectively. For brevity, the factor of \\( 1/2 \\) has been omitted from the input and output voltages in Figure 7.10b, but this modification does not affect the analysis. This circuit functions as a common-source amplifier. The \\( g_{mb} \\) generator and source-body capacitor \\( C_{sb} \\) are not depicted since \\( v_{bs} = 0 \\) in this context. For simplicity, the drain-body capacitor \\( C_{db} \\) of the transistor is not included. Since this capacitor would be in parallel with \\( R_L \\), its impact can be incorporated into the analysis by substituting \\( R_L \\) with \\( Z_L \\), where \\( Z_L \\) represents \\( R_L \\) in parallel with \\( C_{db} \\). The gate-body capacitor \\( C_{gb} \\) is disregarded. It could be included by simply adding it to \\( C_{gs} \\) since \\( C_{gb} \\) appears in parallel with \\( C_{gs} \\) in the common-source amplifier. However, typically \\( C_{gs} \\gg C_{gb} \\), so \\( C_{gs} + C_{gb} \\approx C_{gs} \\). The analysis of this AC circuit applies to this DM half-circuit as well as any single-stage common-source amplifier of the type shown in Figure 7.10a. The small-signal circuit in Figure 7.10b is identical to the circuit in Figure 7.2c if we rename the model parameters as listed in Table 7.1. Consequently, we can apply the results of the analysis of Figure 7.2c. By substituting the values from the third column of Table 7.1 into the equation provided, the exact transfer function is obtained.\n\nThe dominant pole and nondominant pole calculations follow the same process as in the bipolar differential amplifier, using the Miller-effect approximation to find the dominant pole and deriving the nondominant pole from the provided equations.\n\n#### EXAMPLE\n\nUsing the Miller approximation, the \\( -3 \\text{dB} \\) frequency of a common-source transistor stage is calculated with the given parameters. The small-signal transconductance and the Miller capacitance are determined using the provided equations. The calculated \\( -3 \\text{dB} \\) frequency is compared with the result obtained using the exact analysis, showing close agreement. The low-frequency gain is also calculated from the provided equation."
},
{
    "text": "Voltage amplification stages, often incorporating a single transistor, are extensively employed within integrated circuits. Illustrations 7.2a and 7.2b display alternating current schematics of common-emitter and common-source amplifiers equipped with resistive loads. Here, \\( R_S \\) denotes the source resistance, while \\( R_L \\) represents the load resistance. A simplified linear model applicable to both circuits is presented in Figure 7.2c. Elements enclosed in the dashed box correspond to the general small-signal transistor model depicted in Figure 7.1, minus the \\( r_o \\). We will consider the output resistance of the transistor \\( r_o \\) to be substantially greater than \\( R_L \\). Given that these resistors are in parallel within the small-signal circuit, \\( r_o \\) can be disregarded. An approximate analysis of this circuit can be achieved through the Miller-effect approximation.\n\nThe depicted circuit, Figure 7.1, illustrates a general small-signal transistor model that incorporates resistors, capacitors, and a dependent current source. In the analysis, the output resistance \\( r_o \\) is neglected due to its significantly larger value compared to \\( R_L \\). The circuit's analysis employs the Miller-effect approximation.\n\nThis analysis is conducted by examining the input impedance observed across plane AA in Figure 7.2c. To determine this impedance, the current \\( i_1 \\) generated by the voltage \\( v_1 \\) is calculated.\n\nThe provided equations (7.1) through (7.6) describe the relationships and calculations involved in determining the voltage gain and the Miller capacitance. These equations take into account the admittance, voltage gain, and the effect of the Miller capacitance on the overall circuit performance.\n\nAdditionally, Table 7.1 outlines the small-signal model elements for general, bipolar, and MOS models, providing a comparison of their respective parameters.\n\nFigures 7.2a, 7.2b, and 7.2c depict AC schematics of a common-emitter amplifier, a common-source amplifier, and a general model for both amplifiers, respectively. The small-signal model for a common-source amplifier, utilizing the Miller-effect approximation, includes a voltage source, resistors, capacitors, and a voltage-controlled current source.\n\nFigure 7.3 presents an equivalent circuit for Figure 7.2c, employing the Miller approximation. This circuit is particularly useful for calculating the forward transmission and input impedance of the circuit but is not applicable for determining high-frequency reverse transmission or output impedance.\n\nThe Miller capacitance, originating from the voltage gain of the circuit, affects the bandwidth of the amplifier. As demonstrated in the equations and figures, the Miller capacitance adds to \\( C_{\\text{in}} \\), thereby reducing the bandwidth.\n\nFigures 7.4 and 7.5 illustrate the Norton equivalent circuit at the input and the bipolar differential amplifier circuit, respectively. The analysis of these circuits further elaborates on the gain, poles, and frequency response of the amplifier.\n\nFigures 7.6a and 7.6b represent the differential-mode AC half-circuit and the small-signal equivalent circuit for the bipolar differential amplifier. The analysis of these circuits is applicable to both the differential-mode gain and single-stage common-emitter amplifiers.\n\nFigure 7.7 displays a pole-zero plot in the complex s-plane, indicating the positions of poles and providing insight into the system's stability and frequency response.\n\nFigure 7.8 presents a Bode plot depicting the gain magnitude versus frequency for a circuit, highlighting the low-pass filter response with a flat passband and gradual attenuation of gain at higher frequencies.\n\nFigure 7.9 showcases a MOS differential amplifier circuit, and Figures 7.10a and 7.10b depict the differential-mode AC half-circuit and the small-signal equivalent circuit for the MOS differential amplifier. The analysis of these circuits is applicable to both the differential-mode gain and single-stage common-source amplifiers.\n\nThe subsequent examples and calculations demonstrate the application of the Miller approximation to determine the -3 dB frequency and low-frequency gain for both bipolar and MOS transistor stages, further validating the effectiveness of the Miller approximation in circuit analysis."
},
{
    "text": "In Chapter 3, the significance of the common-mode (CM) gain in a differential amplifier was discussed. It was demonstrated that low CM gain values are preferable to enable the circuit to reject unwanted signals that are equally applied to both inputs. Given that unwanted CM signals may contain high-frequency components, the frequency response of the CM gain is crucial. The CM frequency response for the differential circuits depicted in Figures 7.5 and 7.9 can be determined using the CM half-circuits illustrated in Figs. 7.11a and 7.11b. In Fig. 7.11, $R_{T}$ and $C_{T}$ represent the equivalent output resistance and capacitance of the tail current source. Since impedances common to both devices are doubled in the CM half-circuit, $R_{T}$ and $C_{T}$ transform to $2 R_{T}$ and $C_{T} / 2$, respectively. A general small-signal equivalent circuit for Figs. 7.11a-b is presented in Fig. 7.11c, where the parallel combination of $2 R_{T}$ and $C_{T} / 2$ is denoted as $Z_{T}$.\n\nAnalyzing Fig. 7.11c in detail is quite intricate. However, key aspects of the frequency response can be approximated through certain simplifications. Consider the time constant $R_{T} C_{T}$. The resistance $R_{T}$, which is the output resistance of the current source, typically exceeds or equals the $r_{o}$ of a transistor. Assuming this resistance is around $1 \\mathrm{M} \\Omega$, the capacitor $C_{T}$ includes $C_{c s}$ of the bipolar current-source transistor or $C_{d b}$ of the current-source transistor plus $C_{s b}$ of the input transistors in the MOS circuit. Usually, $C_{T}$ is 1 pF or less. With $R_{T}=1 \\mathrm{M} \\Omega$ and $C_{T}=1 \\mathrm{pF}$, the time constant $R_{T} C_{T}$ is $1 \\mu \\mathrm{~s}$, and the corresponding break frequency is $1 /\\left(2 \\pi R_{T} C_{T}\\right)=166 \\mathrm{kHz}$. Below this frequency, $Z_{T}$ is dominated by $R_{T}$, whereas above it, $C_{T}$ dominates. Thus, as the operating frequency increases, $Z_{T}$ exhibits frequency variation before the rest of the circuit. We now calculate the frequency response assuming\nimage_name:(a)\ndescription:\n[\nname: RS, type: Resistor, value: RS, ports: {N1: vic, N2: bo}\nname: RL, type: Resistor, value: RL, ports: {N1: voc, N2: GND}\nname: RT, type: Resistor, value: 2RT, ports: {N1: eo, N2: GND}\nname: CT, type: Capacitor, value: CT/2, ports: {Np: eo, Nn: GND}\nname: M0, type: NMOS, ports: {S: eo, D: voc, G: bo}\nname: vic, type: VoltageSource, value: vic, ports: {Np: vic, Nn: GND}\n]\nextrainfo:The circuit diagram (a) illustrates a common-mode AC half-circuit. It comprises a voltage source vic, resistors RS, RL, and 2RT, a capacitor CT/2, and an NMOS transistor M0. The circuit is grounded at several points, and the output voltage voc is measured across RL.\nimage_name:(b)\ndescription:\n[\nname: M0, type: NMOS, ports: {S: s0, D: voc, G: g0}\nname: RS, type: Resistor, value: RS, ports: {N1: vic, N2: g0}\nname: RL, type: Resistor, value: RL, ports: {N1: voc, N2: GND}\nname: RT, type: Resistor, value: 2RT, ports: {N1: s0, N2: GND}\nname: CT, type: Capacitor, value: CT/2, ports: {Np: s0, Nn: GND}\nname: vic, type: VoltageSource, value: vic, ports: {Np: vic, Nn: GND}\n]\nextrainfo:This circuit is a common-mode AC half-circuit utilizing an NMOS transistor for frequency response analysis. The impedance Z_T is influenced by the resistor R_T and capacitor C_T, affecting the common-mode gain. Key nodes include the input vic, the gate of the NMOS g0, the drain voc, and the source connected to ground.\nimage_name:(c)\ndescription:\n[\nname: vic, type: VoltageSource, ports: {Np: vic, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: vic, N2: RSrx}\nname: rx, type: Resistor, value: rx, ports: {N1: RSrx, N2: x2}\nname: rin(v1), type: Resistor, value: rin, ports: {N1: x2, N2: X1}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: x2, Nn: X1}\nname: Cf, type: Capacitor, value: Cf, ports: {Np: X2, Nn: voc}\nname: RL, type: Resistor, value: RL, ports: {N1: voc, N2: GND}\nname: g_m*v1, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: voc}\nname: RT, type: Resistor, value: 2RT, ports: {N1: X1, N2: GND}\nname: CT, type: Capacitor, value: CT/2, ports: {Np: X1, Nn: GND}\n]\nextrainfo:The circuit diagram (c) represents a common-mode AC half-circuit driven by a voltage source vic. It includes resistors RS, rx, rin, and RL, capacitors Cin, Cf, and CT, and a voltage-controlled current source g_m*v1. The circuit is grounded at multiple points and features nodes X1 and X2 for interconnections. The resistor RT and capacitor CT form a parallel RC network connected to ground.\n\nFigure 7.11 (a) Common-mode AC half-circuit for Fig. 7.5. (b) Common-mode AC half-circuit for Fig. 7.9. (c) General model for both half-circuits.\nthat $C_{T}$ is the predominant capacitance. Due to the high impedance of $Z_{T}$, nearly all of $v_{i c}$ appears across $Z_{T}$ if $R_{S}$ is small. Consequently, the CM gain can be approximated as\n\n$$\n\\begin{equation*}\nA_{c m}=\\frac{v_{o c}}{v_{i c}} \\approx-\\frac{R_{L}}{Z_{T}} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nZ_{T}=\\frac{2 R_{T}}{1+s C_{T} R_{T}} \\tag{7.39}\n\\end{equation*}\n$$\n\nSubstituting (7.39) into (7.38) yields\n\n$$\n\\begin{equation*}\nA_{c m}(s)=\\frac{v_{o c}}{v_{i c}}(s) \\approx-\\frac{R_{L}}{2 R_{T}}\\left(1+s C_{T} R_{T}\\right) \\tag{7.40}\n\\end{equation*}\n$$\n\nEquation 7.40 indicates that the CM gain expression includes a zero, causing the CM gain to rise at $6 \\mathrm{~dB} /$ octave above a frequency $\\omega=1 / R_{T} C_{T}$. This behavior is undesirable as the CM gain should ideally remain minimal. However, the increase in CM gain cannot persist indefinitely because other capacitors in the circuit of Fig. 7.11c eventually become significant. These additional capacitors cause the CM gain to decrease at very high frequencies, as depicted in the plot of CM gain versus frequency in Fig. 7.12a.\nimage_name:(a)\ndescription:The graph labeled \"(a)\" is a Bode plot showing the common-mode (CM) gain \\( |A_{cm}| \\) in decibels (dB) against frequency \\( f \\) on a logarithmic scale. The vertical axis represents the gain in dB, while the horizontal axis represents frequency in a logarithmic scale.\n\nOverall Behavior and Trends:\n- **Low Frequencies:** At low frequencies, the CM gain starts at a relatively low value and remains flat, indicating a constant gain.\n- **Mid Frequencies:** The gain begins to rise at a rate of +6 dB/octave starting from \\( \\omega = \\frac{1}{R_T C_T} \\), showing a logarithmic increase with frequency.\n- **High Frequencies:** At very high frequencies, the gain peaks and then decreases, indicating the influence of other capacitive effects in the circuit.\n\nKey Features and Technical Details:\n- A critical frequency at \\( \\omega = \\frac{1}{R_T C_T} \\) is marked by a vertical dashed line, where the gain starts to rise.\n- The slope of +6 dB/octave is clearly indicated, showing the rate of increase in the mid-frequency range.\n- At very high frequencies, the gain decreases, though specific slopes or rates are not annotated.\n\nAnnotations and Specific Data Points:\n- A specific point on the frequency axis is labeled \\( \\frac{1}{2\\pi R_T C_T} \\), marking the frequency where the gain begins to rise.\n\nThis graph illustrates the undesirable rise in CM gain with frequency and highlights the frequency-dependent behavior of the differential amplifier's common-mode gain.\nimage_name:(b)\ndescription:The graph labeled (b) is a Bode plot of the differential-mode gain (|A_dm|) in decibels (dB) versus frequency (f) on a logarithmic scale. The y-axis represents the differential-mode gain in dB, and the x-axis represents frequency in a log scale.\n\nOverall Behavior and Trends:\n- The plot starts with a flat response, indicating a constant differential-mode gain over a range of frequencies.\n- At a specific frequency, denoted as \\( \\frac{1}{2\\pi RC_t} \\), the gain begins to decrease.\n- The slope of the decrease is -6 dB/octave, indicating a linear decline on the logarithmic scale.\n\nKey Features and Technical Details:\n- The critical frequency \\( \\frac{1}{2\\pi RC_t} \\) marks the point where the gain starts to fall off, a significant transition point.\n- The initial flat section represents the bandwidth over which the differential-mode gain is constant before the roll-off.\n\nAnnotations and Specific Data Points:\n- The graph is annotated with a dashed line showing the -6 dB/octave slope, providing a visual guide to the rate of decrease in gain.\n- A marker at the frequency \\( \\frac{1}{2\\pi RC_t} \\) highlights the onset of the gain reduction.\n\nThis graph is crucial for understanding how the differential-mode gain of the circuit behaves across different frequencies, particularly how it maintains a constant gain up to a certain point before decreasing at higher frequencies.\nimage_name:(c)\ndescription:The graph labeled (c) is a Bode plot depicting the variation of the Common-Mode Rejection Ratio (CMRR) in decibels (dB) with respect to frequency on a logarithmic scale.\n\nAxes Labels and Units:\n- **Y-axis (Vertical):** CMRR in dB\n- **X-axis (Horizontal):** Frequency (f) in hertz, presented on a logarithmic scale\n\nOverall Behavior and Trends:\nThe CMRR starts at a certain level and decreases as frequency increases. Initially, the CMRR decreases at a rate of \\(-6 \\text{ dB/octave}\\). As the frequency continues to rise, the slope of the curve becomes steeper, decreasing at \\(-12 \\text{ dB/octave}\\).\n\nKey Features and Technical Details:\n- **Initial Slope:** The CMRR decreases at \\(-6 \\text{ dB/octave}\\) until reaching a critical frequency.\n- **Transition Point:** At the frequency \\(\\frac{1}{2\\pi RC_t}\\), the slope changes, and the CMRR begins to decrease more steeply at \\(-12 \\text{ dB/octave}\\).\n\nAnnotations and Specific Data Points:\n- The critical frequency \\(\\frac{1}{2\\pi RC_t}\\) is marked on the graph, indicating the point where the slope changes.\n- The graph clearly shows the transition between the two regions of different slopes, providing insight into the behavior of the differential amplifier's CMRR over a range of frequencies.\n\nFigure 7.12 Variation with frequency of the gain parameters for the differential amplifier in Fig. 7.5 or Fig. 7.9.\n(a) Common-mode gain. (b) Differential-mode gain. (c) Common-mode rejection ratio.\n\nThe differential-mode (DM) gain $A_{d m}$ of the circuits in Fig. 7.5 or Fig. 7.9 is plotted against frequency in Fig. $7.12 b$ using (7.10). As previously described, $\\left|A_{d m}\\right|$ starts to decline at a frequency given by $f=1 / 2 \\pi R C_{t}$, where $R=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}$ and $C_{t}=C_{\\text {in }}+C_{M}$. As highlighted in Chapter 3, a crucial parameter for differential amplifiers is the common-mode rejection ratio (CMRR), defined as\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\frac{\\left|A_{d m}\\right|}{\\left|A_{c m}\\right|} \\tag{7.41}\n\\end{equation*}\n$$\n\nThe CMRR is plotted as a function of frequency in Fig. $7.12 c$ by taking the magnitude of the ratio of the DM and CM gains. This ratio begins to decrease at the frequency $f=1 / 2 \\pi R_{T} C_{T}$ when $\\left|A_{c m}\\right|$ starts to increase. The rate of decrease in CMRR accelerates when $\\left|A_{d m}\\right|$ begins to fall with increasing frequency. Consequently, differential amplifiers become less effective at rejecting CM signals as the frequency of these signals rises."
},
{
    "text": "In Chapter 3, the significance of the common-mode (CM) gain in a differential amplifier was discussed. It was demonstrated that lower values of CM gain are preferable to enable the circuit to reject unwanted signals that are equally applied to both inputs. Given that undesired CM signals may contain high-frequency components, the frequency response of the CM gain is crucial. The CM frequency response for the differential circuits depicted in Figures 7.5 and 7.9 can be derived from the CM half-circuits illustrated in Figs. 7.11a and 7.11b. In Fig. 7.11, $R_{T}$ and $C_{T}$ represent the equivalent output resistance and capacitance of the tail current source. Since impedances common to both devices are doubled in the CM half-circuit, $R_{T}$ and $C_{T}$ transform to $2 R_{T}$ and $C_{T} / 2$, respectively. A generalized small-signal equivalent circuit for Figs. 7.11a-b is presented in Fig. 7.11c, where the parallel combination of $2 R_{T}$ and $C_{T} / 2$ is designated as $Z_{T}$.\n\nAnalyzing Fig. 7.11c in its entirety is quite intricate. However, key aspects of the frequency response can be determined by making certain approximations. Consider the time constant $R_{T} C_{T}$. The resistance $R_{T}$, which is the output resistance of the current source, typically exceeds or equals the $r_{o}$ of a transistor. Assuming this resistance is approximately $1 \\mathrm{M} \\Omega$, the capacitor $C_{T}$ comprises $C_{c s}$ of the bipolar current-source transistor or $C_{d b}$ of the current-source transistor plus $C_{s b}$ of the input transistors in the MOS circuit. Generally, $C_{T}$ is 1 pF or less. Using $R_{T}=1 \\mathrm{M} \\Omega$ and $C_{T}=1 \\mathrm{pF}$, the time constant $R_{T} C_{T}$ is $1 \\mu \\mathrm{~s}$, and the corresponding break frequency is $1 /\\left(2 \\pi R_{T} C_{T}\\right)=166 \\mathrm{kHz}$. Below this frequency, $Z_{T}$ is dominated by $R_{T}$, whereas above it, $C_{T}$ becomes dominant. Thus, as the operating frequency rises, $Z_{T}$ exhibits frequency variation ahead of the rest of the circuit. We now proceed to calculate the frequency response under the assumption\nimage_name:(a)\ndescription:\n[\nname: RS, type: Resistor, value: RS, ports: {N1: vic, N2: bo}\nname: RL, type: Resistor, value: RL, ports: {N1: voc, N2: GND}\nname: RT, type: Resistor, value: 2RT, ports: {N1: eo, N2: GND}\nname: CT, type: Capacitor, value: CT/2, ports: {Np: eo, Nn: GND}\nname: M0, type: NMOS, ports: {S: eo, D: voc, G: bo}\nname: vic, type: VoltageSource, value: vic, ports: {Np: vic, Nn: GND}\n]\nextrainfo:The circuit diagram (a) illustrates a common-mode AC half-circuit. It includes a voltage source vic, resistors RS, RL, and 2RT, a capacitor CT/2, and an NMOS transistor M0. The circuit is grounded at multiple points, and the output voltage voc is measured across RL.\nimage_name:(b)\ndescription:\n[\nname: M0, type: NMOS, ports: {S: s0, D: voc, G: g0}\nname: RS, type: Resistor, value: RS, ports: {N1: vic, N2: g0}\nname: RL, type: Resistor, value: RL, ports: {N1: voc, N2: GND}\nname: RT, type: Resistor, value: 2RT, ports: {N1: s0, N2: GND}\nname: CT, type: Capacitor, value: CT/2, ports: {Np: s0, Nn: GND}\nname: vic, type: VoltageSource, value: vic, ports: {Np: vic, Nn: GND}\n]\nextrainfo:This circuit is a common-mode AC half-circuit utilizing an NMOS transistor to analyze frequency response. The impedance $Z_{T}$ is influenced by the resistor $R_{T}$ and capacitor $C_{T}$, affecting the common-mode gain. Key nodes include the input vic, the gate of the NMOS g0, the drain voc, and the source connected to ground.\nimage_name:(c)\ndescription:\n[\nname: vic, type: VoltageSource, ports: {Np: vic, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: vic, N2: RSrx}\nname: rx, type: Resistor, value: rx, ports: {N1: RSrx, N2: x2}\nname: rin(v1), type: Resistor, value: rin, ports: {N1: x2, N2: X1}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: x2, Nn: X1}\nname: Cf, type: Capacitor, value: Cf, ports: {Np: X2, Nn: voc}\nname: RL, type: Resistor, value: RL, ports: {N1: voc, N2: GND}\nname: g_m*v1, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: voc}\nname: RT, type: Resistor, value: 2RT, ports: {N1: X1, N2: GND}\nname: CT, type: Capacitor, value: CT/2, ports: {Np: X1, Nn: GND}\n]\nextrainfo:The circuit diagram (c) represents a common-mode AC half-circuit driven by a voltage source vic. It includes resistors RS, rx, rin, and RL, capacitors Cin, Cf, and CT, and a voltage-controlled current source g_m*v1. The circuit is grounded at multiple points and features nodes X1 and X2 for interconnections. The resistor RT and capacitor CT form a parallel RC network connected to ground.\n\nFigure 7.11 (a) Common-mode AC half-circuit for Fig. 7.5. (b) Common-mode AC half-circuit for Fig. 7.9. (c) General model for both half-circuits.\nthat $C_{T}$ is the predominant capacitance. Given that $Z_{T}$ is high, nearly all of $v_{i c}$ appears across $Z_{T}$ if $R_{S}$ is small. Therefore, we can approximate the CM gain as\n\n$$\n\\begin{equation*}\nA_{c m}=\\frac{v_{o c}}{v_{i c}} \\approx-\\frac{R_{L}}{Z_{T}} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nZ_{T}=\\frac{2 R_{T}}{1+s C_{T} R_{T}} \\tag{7.39}\n\\end{equation*}\n$$\n\nSubstituting (7.39) into (7.38) yields\n\n$$\n\\begin{equation*}\nA_{c m}(s)=\\frac{v_{o c}}{v_{i c}}(s) \\approx-\\frac{R_{L}}{2 R_{T}}\\left(1+s C_{T} R_{T}\\right) \\tag{7.40}\n\\end{equation*}\n$$\n\nEquation 7.40 reveals that the CM gain expression includes a zero, causing the CM gain to increase at $6 \\mathrm{~dB} /$ octave above a frequency $\\omega=1 / R_{T} C_{T}$. This behavior is undesirable as the CM gain should ideally remain minimal. However, the increase in CM gain cannot persist indefinitely because other capacitors in the circuit of Fig. 7.11c eventually become significant. These additional capacitors cause the CM gain to decline at very high frequencies, as depicted in the plot of CM gain versus frequency in Fig. 7.12a.\nimage_name:(a)\ndescription:The graph labeled \"(a)\" is a Bode plot displaying the common-mode (CM) gain \\( |A_{cm}| \\) in decibels (dB) against frequency \\( f \\) on a logarithmic scale. The vertical axis shows the gain in dB, while the horizontal axis represents frequency in a logarithmic scale.\n\nOverall Behavior and Trends:\n- **Low Frequencies:** At low frequencies, the CM gain starts at a relatively low value and remains flat, indicating a constant gain.\n- **Mid Frequencies:** As the frequency increases, starting from \\( \\omega = \\frac{1}{R_T C_T} \\), the CM gain begins to rise at a rate of +6 dB/octave, indicating a logarithmic increase with frequency.\n- **High Frequencies:** At very high frequencies, the gain does not continue to rise indefinitely. The graph shows a peak followed by a downward trend, suggesting that other capacitive effects in the circuit cause the gain to eventually decrease.\n\nKey Features and Technical Details:\n- The critical frequency at \\( \\omega = \\frac{1}{R_T C_T} \\) is marked by a vertical dashed line, where the gain starts to rise.\n- The slope of +6 dB/octave in the mid-frequency range is clearly indicated.\n- At very high frequencies, the gain starts to fall, indicating the influence of other capacitors, though specific slopes or rates of decrease are not annotated.\n\nAnnotations and Specific Data Points:\n- A specific point on the frequency axis is labeled \\( \\frac{1}{2\\pi R_T C_T} \\), marking the frequency where the gain begins to rise.\n\nThis graph illustrates the undesirable rise in CM gain with frequency and highlights the frequency-dependent nature of the differential amplifier's common-mode gain.\nimage_name:(b)\ndescription:The graph labeled (b) is a Bode plot of the differential-mode gain (|A_dm|) in decibels (dB) versus frequency (f) on a logarithmic scale. The y-axis represents the differential-mode gain in dB, and the x-axis represents frequency in a log scale.\n\nOverall Behavior and Trends:\n- The plot starts with a flat response, indicating a constant differential-mode gain over a range of frequencies.\n- At a specific frequency, denoted as \\( \\frac{1}{2\\pi RC_t} \\), the gain begins to decrease.\n- The slope of the decrease is -6 dB/octave, indicating a linear decline on the logarithmic scale.\n\nKey Features and Technical Details:\n- The critical frequency \\( \\frac{1}{2\\pi RC_t} \\) marks the point where the gain starts to fall off, a significant transition point.\n- The initial flat section represents the bandwidth over which the differential-mode gain remains constant before the roll-off.\n\nAnnotations and Specific Data Points:\n- The graph is annotated with a dashed line showing the -6 dB/octave slope, providing a visual guide to the rate of decrease in gain.\n- A marker at the frequency \\( \\frac{1}{2\\pi RC_t} \\) highlights the onset of the gain reduction.\n\nThis graph is essential for understanding how the differential-mode gain of the circuit behaves across different frequencies, particularly how it maintains a constant gain up to a certain point before decreasing at higher frequencies.\nimage_name:(c)\ndescription:The graph labeled (c) is a Bode plot depicting the variation of the Common-Mode Rejection Ratio (CMRR) in decibels (dB) with respect to frequency on a logarithmic scale.\n\nAxes Labels and Units:\n- **Y-axis (Vertical):** CMRR in dB\n- **X-axis (Horizontal):** Frequency (f) in hertz, presented on a logarithmic scale\n\nOverall Behavior and Trends:\nThe CMRR starts at a certain level and decreases as frequency increases. Initially, the CMRR decreases at a rate of \\(-6 \\text{ dB/octave}\\). As the frequency continues to rise, the slope of the curve becomes steeper, decreasing at \\(-12 \\text{ dB/octave}\\).\n\nKey Features and Technical Details:\n- **Initial Slope:** The CMRR decreases at \\(-6 \\text{ dB/octave}\\) until reaching a critical frequency.\n- **Transition Point:** At the frequency \\(\\frac{1}{2\\pi RC_t}\\), the slope changes, and the CMRR begins to decrease more steeply at \\(-12 \\text{ dB/octave}\\).\n\nAnnotations and Specific Data Points:\n- The critical frequency \\(\\frac{1}{2\\pi RC_t}\\) is marked on the graph, indicating the point where the slope changes.\n- The graph clearly shows the transition between the two regions of different slopes, providing insight into the behavior of the differential amplifier's CMRR over a range of frequencies.\n\nFigure 7.12 Variation with frequency of the gain parameters for the differential amplifier in Fig. 7.5 or Fig. 7.9.\n(a) Common-mode gain. (b) Differential-mode gain. (c) Common-mode rejection ratio.\n\nThe differential-mode (DM) gain $A_{d m}$ of the circuit in Fig. 7.5 or Fig. 7.9 is plotted against frequency in Fig. $7.12 b$ using (7.10). As previously described, $\\left|A_{d m}\\right|$ begins to decrease at a frequency given by $f=1 / 2 \\pi R C_{t}$, where $R=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}$ and $C_{t}=C_{\\text {in }}+C_{M}$. As highlighted in Chapter 3, a crucial parameter for differential amplifiers is the common-mode rejection ratio (CMRR), defined as\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\frac{\\left|A_{d m}\\right|}{\\left|A_{c m}\\right|} \\tag{7.41}\n\\end{equation*}\n$$\n\nThe CMRR is plotted as a function of frequency in Fig. $7.12 c$ by taking the magnitude of the ratio of the DM and CM gains. This quantity starts to decrease at the frequency $f=1 / 2 \\pi R_{T} C_{T}$ when $\\left|A_{c m}\\right|$ begins to increase. The rate of decrease of CMRR accelerates when $\\left|A_{d m}\\right|$ starts to fall with increasing frequency. Consequently, differential amplifiers become less effective at rejecting CM signals as the frequency of those signals rises."
},
{
    "text": "In Chapter 3, the significance of the common-mode (CM) gain for a differential amplifier was detailed. It was illustrated that low CM gain values are preferable to enable the circuit to reject unwanted signals that are equally applied to both inputs. Given that unwanted CM signals may contain high-frequency components, the frequency response of the CM gain is crucial. The CM frequency response for the differential circuits depicted in Figures 7.5 and 7.9 can be derived from the CM half-circuits shown in Figs. 7.11a and 7.11b. In Fig. 7.11, $R_{T}$ and $C_{T}$ represent the equivalent output resistance and capacitance of the tail current source. Since common impedances in the two devices are doubled in the CM half-circuit, $R_{T}$ and $C_{T}$ transform to $2 R_{T}$ and $C_{T} / 2$, respectively. A generalized small-signal equivalent circuit for Figs. 7.11a-b is presented in Fig. 7.11c. The parallel combination of $2 R_{T}$ and $C_{T} / 2$ is denoted as $Z_{T}$.\n\nAnalyzing Fig. 7.11c comprehensively is quite intricate. However, key aspects of the frequency response can be determined through certain approximations. Consider the time constant $R_{T} C_{T}$. The resistance $R_{T}$, which is the output resistance of the current source, typically exceeds or equals the $r_{o}$ of a transistor. Assuming this resistance is around $1 \\mathrm{M} \\Omega$, the capacitor $C_{T}$ encompasses $C_{c s}$ of the bipolar current-source transistor or $C_{d b}$ of the current-source transistor plus $C_{s b}$ of the input transistors in the MOS circuit. Generally, $C_{T}$ is 1 pF or less. Using $R_{T}=1 \\mathrm{M} \\Omega$ and $C_{T}=1 \\mathrm{pF}$, the time constant $R_{T} C_{T}$ is $1 \\mu \\mathrm{~s}$, and the corresponding break frequency is $1 /\\left(2 \\pi R_{T} C_{T}\\right)=166 \\mathrm{kHz}$. Below this frequency, $Z_{T}$ is dominated by $R_{T}$, whereas above it, $C_{T}$ dominates. Thus, as the operating frequency increases, $Z_{T}$ exhibits frequency variation before the rest of the circuit. We now calculate the frequency response under the assumption\nimage_name:(a)\ndescription:\n[\nname: RS, type: Resistor, value: RS, ports: {N1: vic, N2: bo}\nname: RL, type: Resistor, value: RL, ports: {N1: voc, N2: GND}\nname: RT, type: Resistor, value: 2RT, ports: {N1: eo, N2: GND}\nname: CT, type: Capacitor, value: CT/2, ports: {Np: eo, Nn: GND}\nname: M0, type: NMOS, ports: {S: eo, D: voc, G: bo}\nname: vic, type: VoltageSource, value: vic, ports: {Np: vic, Nn: GND}\n]\nextrainfo:The circuit diagram (a) represents a common-mode ac half-circuit. It includes a voltage source vic, resistors RS, RL, and 2RT, a capacitor CT/2, and an NMOS transistor M0. The circuit is grounded at multiple points, and the output voltage voc is across RL.\nimage_name:(b)\ndescription:\n[\nname: M0, type: NMOS, ports: {S: s0, D: voc, G: g0}\nname: RS, type: Resistor, value: RS, ports: {N1: vic, N2: g0}\nname: RL, type: Resistor, value: RL, ports: {N1: voc, N2: GND}\nname: RT, type: Resistor, value: 2RT, ports: {N1: s0, N2: GND}\nname: CT, type: Capacitor, value: CT/2, ports: {Np: s0, Nn: GND}\nname: vic, type: VoltageSource, value: vic, ports: {Np: vic, Nn: GND}\n]\nextrainfo:The circuit is a common-mode AC half-circuit with an NMOS transistor used to analyze frequency response. The impedance Z_T is affected by the resistor R_T and capacitor C_T, influencing the common-mode gain. The key nodes include the input vic, the gate of the NMOS g0, the drain voc, and the source connected to ground.\nimage_name:(c)\ndescription:\n[\nname: vic, type: VoltageSource, ports: {Np: vic, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: vic, N2: RSrx}\nname: rx, type: Resistor, value: rx, ports: {N1: RSrx, N2: x2}\nname: rin(v1), type: Resistor, value: rin, ports: {N1: x2, N2: X1}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: x2, Nn: X1}\nname: Cf, type: Capacitor, value: Cf, ports: {Np: X2, Nn: voc}\nname: RL, type: Resistor, value: RL, ports: {N1: voc, N2: GND}\nname: g_m*v1, type: VoltageControlledCurrentSource, ports: {Np: X1, Nn: voc}\nname: RT, type: Resistor, value: 2RT, ports: {N1: X1, N2: GND}\nname: CT, type: Capacitor, value: CT/2, ports: {Np: X1, Nn: GND}\n]\nextrainfo:The circuit diagram (c) represents a common-mode ac half-circuit with a voltage source vic driving the circuit. The circuit includes resistors RS, rx, rin, and RL, capacitors Cin, Cf, and CT, and a voltage-controlled current source g_m*v1. The circuit is grounded at multiple points and includes nodes X1 and X2 for interconnections. The resistor RT and capacitor CT form a parallel RC network connected to ground.\n\nFigure 7.11 (a) Common-mode ac half-circuit for Fig. 7.5. (b) Common-mode ac half-circuit for Fig. 7.9. (c) A general model for both half-circuits.\nthat $C_{T}$ is the predominant capacitance. Due to the high impedance of $Z_{T}$, nearly all of $v_{i c}$ appears across $Z_{T}$ if $R_{S}$ is small. Therefore, we can approximate the CM gain as\n\n$$\n\\begin{equation*}\nA_{c m}=\\frac{v_{o c}}{v_{i c}} \\approx-\\frac{R_{L}}{Z_{T}} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nZ_{T}=\\frac{2 R_{T}}{1+s C_{T} R_{T}} \\tag{7.39}\n\\end{equation*}\n$$\n\nSubstituting (7.39) into (7.38) yields\n\n$$\n\\begin{equation*}\nA_{c m}(s)=\\frac{v_{o c}}{v_{i c}}(s) \\approx-\\frac{R_{L}}{2 R_{T}}\\left(1+s C_{T} R_{T}\\right) \\tag{7.40}\n\\end{equation*}\n$$\n\nEquation 7.40 indicates that the CM gain expression includes a zero, causing the CM gain to rise at $6 \\mathrm{~dB} /$ octave above a frequency $\\omega=1 / R_{T} C_{T}$. This behavior is undesirable as the CM gain should ideally remain minimal. However, the increase in CM gain cannot persist indefinitely because other capacitors in the circuit of Fig. 7.11c eventually become significant. These additional capacitors cause the CM gain to decrease at very high frequencies, as depicted in the CM gain versus frequency plot in Fig. 7.12a.\nimage_name:(a)\ndescription:The graph labeled \"(a)\" is a Bode plot showing the common-mode (CM) gain \\( |A_{cm}| \\) in decibels (dB) plotted against frequency \\( f \\) on a logarithmic scale. The vertical axis represents the gain in dB, and the horizontal axis represents frequency in a logarithmic scale.\n\nOverall Behavior and Trends:\n- **Low Frequencies:** At low frequencies, the CM gain starts at a relatively low value and remains flat, indicating a constant gain.\n- **Mid Frequencies:** As the frequency increases, starting from \\( \\omega = \\frac{1}{R_T C_T} \\), the CM gain begins to rise at a rate of +6 dB/octave. This indicates that the gain is increasing logarithmically with frequency.\n- **High Frequencies:** At very high frequencies, the rise in gain does not continue indefinitely. The graph shows a peak followed by a downward trend, suggesting that other capacitive effects in the circuit cause the gain to eventually decrease.\n\nKey Features and Technical Details:\n- The plot indicates a critical frequency at \\( \\omega = \\frac{1}{R_T C_T} \\), marked by a vertical dashed line. This is where the gain begins to rise.\n- The slope of +6 dB/octave is clearly marked on the graph, showing the rate of increase in the mid-frequency range.\n- At very high frequencies, the gain starts to fall, indicating the influence of other capacitors in the circuit, though specific slopes or rates of decrease are not annotated.\n\nAnnotations and Specific Data Points:\n- A specific point on the frequency axis is labeled \\( \\frac{1}{2\\pi R_T C_T} \\), marking the frequency where the gain begins to rise.\n\nThis graph provides insight into the undesirable rise in CM gain with frequency and highlights the frequency-dependent behavior of the differential amplifier's common-mode gain.\nimage_name:(b)\ndescription:The graph labeled (b) is a Bode plot of the differential-mode gain (|A_dm|) in decibels (dB) versus frequency (f) on a logarithmic scale. The y-axis represents the differential-mode gain in dB, while the x-axis represents frequency in a log scale.\n\nOverall Behavior and Trends:\n- The plot starts with a flat response, indicating a constant differential-mode gain over a range of frequencies.\n- At a specific frequency, denoted as \\( \\frac{1}{2\\pi RC_t} \\), the gain begins to decrease.\n- The slope of the decrease is -6 dB/octave, indicating a linear decline on the logarithmic scale.\n\nKey Features and Technical Details:\n- The critical frequency \\( \\frac{1}{2\\pi RC_t} \\) marks the point where the gain starts to fall off. This is a significant transition point in the graph.\n- The initial flat section represents the bandwidth over which the differential-mode gain is constant before the roll-off.\n\nAnnotations and Specific Data Points:\n- The graph is annotated with a dashed line showing the -6 dB/octave slope, providing a visual guide to the rate of decrease in gain.\n- A marker at the frequency \\( \\frac{1}{2\\pi RC_t} \\) highlights the onset of the gain reduction.\n\nThis graph is important for understanding how the differential-mode gain of the circuit behaves across different frequencies, particularly how it maintains a constant gain up to a certain point before decreasing at higher frequencies.\nimage_name:(c)\ndescription:The graph labeled (c) is a Bode plot depicting the variation of the Common-Mode Rejection Ratio (CMRR) in decibels (dB) with respect to frequency on a logarithmic scale.\n\nAxes Labels and Units:\n- **Y-axis (Vertical):** CMRR in dB\n- **X-axis (Horizontal):** Frequency (f) in hertz, presented on a logarithmic scale\n\nOverall Behavior and Trends:\nThe CMRR starts at a certain level and decreases as frequency increases. Initially, the CMRR decreases at a rate of \\(-6 \\text{ dB/octave}\\). As the frequency continues to rise, the slope of the curve becomes steeper, decreasing at \\(-12 \\text{ dB/octave}\\).\n\nKey Features and Technical Details:\n- **Initial Slope:** The CMRR decreases at \\(-6 \\text{ dB/octave}\\) until reaching a critical frequency.\n- **Transition Point:** At the frequency \\(\\frac{1}{2\\pi RC_t}\\), the slope changes, and the CMRR begins to decrease more steeply at \\(-12 \\text{ dB/octave}\\).\n\nAnnotations and Specific Data Points:\n- The critical frequency \\(\\frac{1}{2\\pi RC_t}\\) is marked on the graph, indicating the point where the slope changes.\n- The graph clearly shows the transition between the two regions of different slopes, providing insight into the behavior of the differential amplifier's CMRR over a range of frequencies.\n\nFigure 7.12 Variation with frequency of the gain parameters for the differential amplifier in Fig. 7.5 or Fig. 7.9.\n(a) Common-mode gain. (b) Differential-mode gain. (c) Common-mode rejection ratio.\n\nThe differential-mode (DM) gain $A_{d m}$ of the circuits in Fig. 7.5 or Fig. 7.9 is plotted against frequency in Fig. $7.12 b$ using (7.10). As previously described, $\\left|A_{d m}\\right|$ starts to decrease at a frequency given by $f=1 / 2 \\pi R C_{t}$, where $R=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}$ and $C_{t}=C_{\\text {in }}+C_{M}$. As highlighted in Chapter 3, a crucial parameter for differential amplifiers is the common-mode rejection ratio (CMRR), defined as\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\frac{\\left|A_{d m}\\right|}{\\left|A_{c m}\\right|} \\tag{7.41}\n\\end{equation*}\n$$\n\nThe CMRR is plotted as a function of frequency in Fig. $7.12 c$ by taking the magnitude of the ratio of the DM and CM gains. This metric starts to decline at the frequency $f=1 / 2 \\pi R_{T} C_{T}$ when $\\left|A_{c m}\\right|$ begins to rise. The rate of CMRR decrease accelerates when $\\left|A_{d m}\\right|$ starts to fall with increasing frequency. Thus, differential amplifiers become less effective at rejecting CM signals as the frequency of those signals rises."
},
{
    "text": "In Chapter 3, the significance of the common-mode (CM) gain for a differential amplifier was highlighted. It was demonstrated that lower CM gain values are preferable to enable the circuit to reject unwanted signals that are equally applied to both inputs. Given that unwanted CM signals may contain high-frequency components, the frequency response of the CM gain is crucial. The CM frequency response of the differential circuits depicted in Figures 7.5 and 7.9 can be determined using the CM half-circuits shown in Figs. 7.11a and 7.11b. In Fig. 7.11, $R_{T}$ and $C_{T}$ represent the equivalent output resistance and capacitance of the tail current source. Since impedances common to both devices are doubled in the CM half-circuit, $R_{T}$ and $C_{T}$ transform to $2 R_{T}$ and $C_{T} / 2$, respectively. A general small-signal equivalent circuit for Figs. 7.11a-b is illustrated in Fig. 7.11c, where the parallel combination of $2 R_{T}$ and $C_{T} / 2$ is denoted as $Z_{T}$.\n\nAnalyzing Fig. 7.11c in its entirety is quite intricate. However, key aspects of the frequency response can be approximated through simplifications. Consider the time constant $R_{T} C_{T}$. The resistance $R_{T}$, which is the output resistance of the current source, typically exceeds or equals the transistor's $r_{o}$. Assuming this resistance is around $1 \\mathrm{M} \\Omega$, the capacitor $C_{T}$ includes $C_{c s}$ of the bipolar current-source transistor or $C_{d b}$ of the current-source transistor plus $C_{s b}$ of the input transistors in the MOS circuit. Usually, $C_{T}$ is 1 pF or less. With $R_{T}=1 \\mathrm{M} \\Omega$ and $C_{T}=1 \\mathrm{pF}$, the time constant $R_{T} C_{T}$ is $1 \\mu \\mathrm{~s}$, and the corresponding break frequency is $1 /\\left(2 \\pi R_{T} C_{T}\\right)=166 \\mathrm{kHz}$. Below this frequency, $Z_{T}$ is dominated by $R_{T}$, while above it, $C_{T}$ dominates. Thus, as the operating frequency increases, $Z_{T}$ exhibits frequency variation before other circuit components. We now calculate the frequency response under the assumption that $C_{T}$ is the predominant capacitance. Given that $Z_{T}$ is high, nearly all of $v_{i c}$ appears across $Z_{T}$ if $R_{S}$ is small. Therefore, the CM gain can be approximated as\n\n$$\n\\begin{equation*}\nA_{c m}=\\frac{v_{o c}}{v_{i c}} \\approx-\\frac{R_{L}}{Z_{T}} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nZ_{T}=\\frac{2 R_{T}}{1+s C_{T} R_{T}} \\tag{7.39}\n\\end{equation*}\n$$\n\nSubstituting (7.39) into (7.38) yields\n\n$$\n\\begin{equation*}\nA_{c m}(s)=\\frac{v_{o c}}{v_{i c}}(s) \\approx-\\frac{R_{L}}{2 R_{T}}\\left(1+s C_{T} R_{T}\\right) \\tag{7.40}\n\\end{equation*}\n$$\n\nEquation 7.40 indicates that the CM gain expression includes a zero, causing the CM gain to rise at $6 \\mathrm{~dB} /$ octave above the frequency $\\omega=1 / R_{T} C_{T}$. This behavior is undesirable since the CM gain should ideally remain minimal. However, the increase in CM gain cannot persist indefinitely, as other capacitors in the Fig. 7.11c circuit eventually become significant. These additional capacitors cause the CM gain to decline at very high frequencies, a trend depicted in the CM gain versus frequency plot in Fig. 7.12a.\n\n**Figure Descriptions:**\n- **(a)**: A Bode plot showing the common-mode (CM) gain \\( |A_{cm}| \\) in dB against frequency \\( f \\) on a logarithmic scale. The plot starts flat at low frequencies, rises at +6 dB/octave from \\( \\omega = \\frac{1}{R_T C_T} \\), and then falls at high frequencies due to other capacitive effects.\n- **(b)**: A Bode plot of the differential-mode gain (|A_dm|) in dB versus frequency \\( f \\) on a logarithmic scale. The gain is constant at low frequencies and decreases at -6 dB/octave from \\( \\frac{1}{2\\pi RC_t} \\).\n- **(c)**: A Bode plot of the Common-Mode Rejection Ratio (CMRR) in dB versus frequency \\( f \\) on a logarithmic scale. The CMRR decreases at -6 dB/octave initially and then at -12 dB/octave from \\( \\frac{1}{2\\pi RC_t} \\).\n\n**Figure 7.12**: Frequency variation of gain parameters for the differential amplifier in Fig. 7.5 or Fig. 7.9.\n- **(a)** Common-mode gain.\n- **(b)** Differential-mode gain.\n- **(c)** Common-mode rejection ratio.\n\nThe differential-mode (DM) gain $A_{d m}$ of the circuits in Fig. 7.5 or Fig. 7.9 is plotted against frequency in Fig. $7.12 b$ using (7.10). As previously described, $\\left|A_{d m}\\right|$ begins to decline at a frequency given by $f=1 / 2 \\pi R C_{t}$, where $R=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}$ and $C_{t}=C_{\\text {in }}+C_{M}$. As mentioned in Chapter 3, a critical parameter for differential amplifiers is the common-mode rejection ratio (CMRR), defined as\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\frac{\\left|A_{d m}\\right|}{\\left|A_{c m}\\right|} \\tag{7.41}\n\\end{equation*}\n$$\n\nThe CMRR is plotted against frequency in Fig. $7.12 c$ by taking the magnitude ratio of the DM and CM gains. This ratio starts decreasing at $f=1 / 2 \\pi R_{T} C_{T}$ when $\\left|A_{c m}\\right|$ begins to rise. The rate of CMRR decrease accelerates as $\\left|A_{d m}\\right|$ starts to fall with increasing frequency. Consequently, differential amplifiers become less effective at rejecting CM signals at higher frequencies."
},
{
    "text": "In Chapter 3, the significance of the common-mode (CM) gain in a differential amplifier was discussed. It was demonstrated that lower CM gain values are preferable to enable the circuit to reject unwanted signals that are equally applied to both inputs. Given that undesirable CM signals may contain high-frequency components, the frequency response of the CM gain is crucial. The CM frequency response for the differential circuits depicted in Figures 7.5 and 7.9 can be derived from the CM half-circuits illustrated in Figs. 7.11a and 7.11b. In Fig. 7.11, $R_{T}$ and $C_{T}$ represent the equivalent output resistance and capacitance of the tail current source. Since impedances common to both devices are doubled in the CM half-circuit, $R_{T}$ and $C_{T}$ transform to $2 R_{T}$ and $C_{T} / 2$, respectively. A general small-signal equivalent circuit for Figs. 7.11a-b is presented in Fig. 7.11c, where the parallel combination of $2 R_{T}$ and $C_{T} / 2$ is denoted as $Z_{T}$.\n\nAnalyzing Fig. 7.11c in its entirety is quite intricate. Nonetheless, the key aspects of the frequency response can be determined by making certain approximations. Consider the time constant $R_{T} C_{T}$. Here, $R_{T}$ is the output resistance of the current source and typically equals or exceeds the $r_{o}$ of a transistor. Assuming this resistance is approximately $1 \\mathrm{M} \\Omega$, the capacitor $C_{T}$ encompasses $C_{c s}$ of the bipolar current-source transistor or $C_{d b}$ of the current-source transistor plus $C_{s b}$ of the input transistors in the MOS circuit. Usually, $C_{T}$ is 1 pF or less. With $R_{T}=1 \\mathrm{M} \\Omega$ and $C_{T}=1 \\mathrm{pF}$, the time constant $R_{T} C_{T}$ is $1 \\mu \\mathrm{~s}$, and the corresponding break frequency is $1 /\\left(2 \\pi R_{T} C_{T}\\right)=166 \\mathrm{kHz}$. Below this frequency, $Z_{T}$ is predominantly influenced by $R_{T}$, whereas above this frequency, $C_{T}$ takes precedence. Thus, as the operating frequency rises, $Z_{T}$ exhibits frequency-dependent behavior before the rest of the circuit. We now proceed to calculate the frequency response under the assumption that $C_{T}$ is the predominant capacitance. Given that $Z_{T}$ is high, nearly all of $v_{i c}$ appears across $Z_{T}$ if $R_{S}$ is low. Therefore, the CM gain can be approximated as\n\n$$\n\\begin{equation*}\nA_{c m}=\\frac{v_{o c}}{v_{i c}} \\approx-\\frac{R_{L}}{Z_{T}} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nZ_{T}=\\frac{2 R_{T}}{1+s C_{T} R_{T}} \\tag{7.39}\n\\end{equation*}\n$$\n\nSubstituting (7.39) into (7.38) yields\n\n$$\n\\begin{equation*}\nA_{c m}(s)=\\frac{v_{o c}}{v_{i c}}(s) \\approx-\\frac{R_{L}}{2 R_{T}}\\left(1+s C_{T} R_{T}\\right) \\tag{7.40}\n\\end{equation*}\n$$\n\nEquation 7.40 reveals that the CM gain expression includes a zero, causing the CM gain to increase at $6 \\mathrm{~dB} /$ octave above the frequency $\\omega=1 / R_{T} C_{T}$. This behavior is undesirable since the CM gain should ideally remain minimal. However, the increase in CM gain cannot persist indefinitely because other capacitors in the circuit of Fig. 7.11c eventually become significant. These additional capacitors cause the CM gain to decline at very high frequencies, as depicted in the CM gain versus frequency plot in Fig. 7.12a.\n\nFigure 7.11 (a) Common-mode ac half-circuit for Fig. 7.5. (b) Common-mode ac half-circuit for Fig. 7.9. (c) A general model for both half-circuits.\n\nThe differential-mode (DM) gain $A_{d m}$ of the circuits in Figs. 7.5 and 7.9 is plotted against frequency in Fig. 7.12b using (7.10). As previously described, $\\left|A_{d m}\\right|$ begins to decline at a frequency of $f=1 / 2 \\pi R C_{t}$, where $R=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}$ and $C_{t}=C_{\\text {in }}+C_{M}$. As highlighted in Chapter 3, a critical parameter for differential amplifiers is the common-mode rejection ratio (CMRR), defined as\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\frac{\\left|A_{d m}\\right|}{\\left|A_{c m}\\right|} \\tag{7.41}\n\\end{equation*}\n$$\n\nThe CMRR is plotted as a function of frequency in Fig. 7.12c by taking the magnitude of the ratio of the DM and CM gains. This metric starts to decrease at the frequency $f=1 / 2 \\pi R_{T} C_{T}$ when $\\left|A_{c m}\\right|$ begins to rise. The rate of CMRR decrease accelerates when $\\left|A_{d m}\\right|$ starts to fall with increasing frequency. Consequently, differential amplifiers become less effective at rejecting CM signals as the frequency of these signals rises."
},
{
    "text": "In Chapter 3, the significance of the common-mode (CM) gain in a differential amplifier was discussed. It was demonstrated that low CM gain values are preferable to enable the circuit to reject unwanted signals that are equally applied to both inputs. Given that undesired CM signals may contain high-frequency components, the frequency response of the CM gain is crucial. The CM frequency response for the differential circuits depicted in Figures 7.5 and 7.9 can be determined using the CM half-circuits shown in Figs. 7.11a and 7.11b. In Fig. 7.11, $R_{T}$ and $C_{T}$ represent the equivalent output resistance and capacitance of the tail current source. Since impedances common to both devices are doubled in the CM half-circuit, $R_{T}$ and $C_{T}$ transform to $2 R_{T}$ and $C_{T} / 2$, respectively. A general small-signal equivalent circuit for Figs. 7.11a-b is illustrated in Fig. 7.11c, where the parallel combination of $2 R_{T}$ and $C_{T} / 2$ is denoted as $Z_{T}$.\n\nAnalyzing Fig. 7.11c in its entirety is quite intricate. However, key aspects of the frequency response can be computed by making certain approximations. Consider the time constant $R_{T} C_{T}$. The resistance $R_{T}$, which is the output resistance of the current source, typically exceeds or equals the $r_{o}$ of a transistor. Assuming this resistance is approximately $1 \\mathrm{M} \\Omega$, the capacitor $C_{T}$ encompasses $C_{c s}$ of the bipolar current-source transistor or $C_{d b}$ of the current-source transistor plus $C_{s b}$ of the input transistors in the MOS circuit. Usually, $C_{T}$ is 1 pF or less. With $R_{T}=1 \\mathrm{M} \\Omega$ and $C_{T}=1 \\mathrm{pF}$, the time constant $R_{T} C_{T}$ is $1 \\mu \\mathrm{~s}$, and the corresponding break frequency is $1 /\\left(2 \\pi R_{T} C_{T}\\right)=166 \\mathrm{kHz}$. Below this frequency, $Z_{T}$ is dominated by $R_{T}$, whereas above it, $C_{T}$ takes over. Thus, as the operating frequency increases, $Z_{T}$ exhibits frequency-dependent behavior before the rest of the circuit. We now calculate the frequency response under the assumption that $C_{T}$ is the predominant capacitance. Since $Z_{T}$ is high, nearly all of $v_{i c}$ appears across $Z_{T}$ if $R_{S}$ is small. Therefore, the CM gain can be approximated as\n\n$$\n\\begin{equation*}\nA_{c m}=\\frac{v_{o c}}{v_{i c}} \\approx-\\frac{R_{L}}{Z_{T}} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nZ_{T}=\\frac{2 R_{T}}{1+s C_{T} R_{T}} \\tag{7.39}\n\\end{equation*}\n$$\n\nSubstituting (7.39) into (7.38) yields\n\n$$\n\\begin{equation*}\nA_{c m}(s)=\\frac{v_{o c}}{v_{i c}}(s) \\approx-\\frac{R_{L}}{2 R_{T}}\\left(1+s C_{T} R_{T}\\right) \\tag{7.40}\n\\end{equation*}\n$$\n\nEquation 7.40 indicates that the CM gain expression includes a zero, causing the CM gain to rise at $6 \\mathrm{~dB} /$ octave above the frequency $\\omega=1 / R_{T} C_{T}$. This behavior is undesirable since the CM gain should ideally be minimized. However, the increase in CM gain cannot persist indefinitely, as other capacitors in the circuit of Fig. 7.11c eventually become significant. These additional capacitors cause the CM gain to decline at very high frequencies, a trend depicted in the plot of CM gain versus frequency in Fig. 7.12a.\n\n**Image Descriptions:**\n\n- **(a)** The circuit diagram (a) represents a common-mode AC half-circuit for Fig. 7.5. It includes a voltage source vic, resistors RS, RL, and 2RT, a capacitor CT/2, and an NMOS transistor M0. The circuit is grounded at multiple points, and the output voltage voc is measured across RL.\n\n- **(b)** This circuit is a common-mode AC half-circuit for Fig. 7.9, featuring an NMOS transistor for analyzing frequency response. The impedance $Z_{T}$ is influenced by the resistor $R_{T}$ and capacitor $C_{T}$, affecting the common-mode gain. Key nodes include the input vic, the gate of the NMOS g0, the drain voc, and the source connected to ground.\n\n- **(c)** The general model for both half-circuits is shown in this diagram. It includes a voltage source vic, resistors RS, rx, rin, and RL, capacitors Cin, Cf, and CT, and a voltage-controlled current source g_m*v1. The circuit is grounded at multiple points, with nodes X1 and X2 for interconnections. The resistor RT and capacitor CT form a parallel RC network connected to ground.\n\n**Figure 7.12:**\n- **(a)** This Bode plot shows the common-mode (CM) gain $|A_{cm}|$ in dB versus frequency $f$ on a logarithmic scale. At low frequencies, the CM gain is low and flat. From $\\omega = \\frac{1}{R_T C_T}$, it rises at +6 dB/octave. At very high frequencies, the gain peaks and then decreases due to other capacitive effects.\n\n- **(b)** This Bode plot depicts the differential-mode gain (|A_dm|) in dB versus frequency (f) on a log scale. The gain starts flat, decreases at $f = \\frac{1}{2\\pi RC_t}$, with a slope of -6 dB/octave.\n\n- **(c)** This Bode plot shows the Common-Mode Rejection Ratio (CMRR) in dB versus frequency on a log scale. The CMRR decreases initially at -6 dB/octave, then steepens to -12 dB/octave at $\\frac{1}{2\\pi RC_t}$.\n\n**Differential-Mode Gain Analysis:**\nThe differential-mode (DM) gain $A_{d m}$ for the circuits in Figs. 7.5 and 7.9 is plotted against frequency in Fig. 7.12b using (7.10). As previously described, $\\left|A_{d m}\\right|$ begins to decline at $f=1 / 2 \\pi R C_{t}$, where $R=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}$ and $C_{t}=C_{\\text {in }}+C_{M}$. As noted in Chapter 3, a critical parameter for differential amplifiers is the common-mode rejection ratio (CMRR), defined as\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\frac{\\left|A_{d m}\\right|}{\\left|A_{c m}\\right|} \\tag{7.41}\n\\end{equation*}\n$$\n\nThe CMRR, plotted against frequency in Fig. 7.12c, decreases at $f=1 / 2 \\pi R_{T} C_{T}$ when $\\left|A_{c m}\\right|$ starts to rise. The rate of CMRR decrease accelerates as $\\left|A_{d m}\\right|$ falls with increasing frequency, indicating reduced CM signal rejection at higher frequencies."
},
{
    "text": "In Chapter 3, the significance of the common-mode (CM) gain in a differential amplifier was highlighted. It was demonstrated that low CM gain values are preferable to enable the circuit to reject unwanted signals that are equally applied to both inputs. Given that unwanted CM signals may contain high-frequency components, the frequency response of the CM gain is crucial. The CM frequency response for the differential circuits depicted in Figures 7.5 and 7.9 can be derived from the CM half-circuits illustrated in Figs. 7.11a and 7.11b. In Fig. 7.11, $R_{T}$ and $C_{T}$ represent the equivalent output resistance and capacitance of the tail current source. Since common impedances in the two devices are doubled in the CM half-circuit, $R_{T}$ and $C_{T}$ transform to $2 R_{T}$ and $C_{T} / 2$, respectively. A general small-signal equivalent circuit for Figs. 7.11a-b is presented in Fig. 7.11c, where the parallel combination of $2 R_{T}$ and $C_{T} / 2$ is denoted as $Z_{T}$.\n\nAnalyzing Fig. 7.11c in its entirety is quite intricate. However, key aspects of the frequency response can be determined by making certain approximations. Consider the time constant $R_{T} C_{T}$. The resistance $R_{T}$, which is the output resistance of the current source, typically exceeds or equals the $r_{o}$ of a transistor. Assuming this resistance is around $1 \\mathrm{M} \\Omega$, the capacitor $C_{T}$ encompasses $C_{c s}$ of the bipolar current-source transistor or $C_{d b}$ of the current-source transistor plus $C_{s b}$ of the input transistors in the MOS circuit. Usually, $C_{T}$ is 1 pF or less. With $R_{T}=1 \\mathrm{M} \\Omega$ and $C_{T}=1 \\mathrm{pF}$, the time constant $R_{T} C_{T}$ equals $1 \\mu \\mathrm{~s}$, and the corresponding break frequency is $1 /\\left(2 \\pi R_{T} C_{T}\\right)=166 \\mathrm{kHz}$. Below this frequency, $Z_{T}$ is predominantly influenced by $R_{T}$, whereas above this frequency, $C_{T}$ takes precedence. Thus, as the operating frequency rises, $Z_{T}$ exhibits frequency-dependent behavior before the rest of the circuit. We now proceed to calculate the frequency response under the assumption that $C_{T}$ is the predominant capacitance. Given that $Z_{T}$ is high, nearly all of $v_{i c}$ appears across $Z_{T}$ if $R_{S}$ is small. Therefore, the CM gain can be approximated as\n\n$$\n\\begin{equation*}\nA_{c m}=\\frac{v_{o c}}{v_{i c}} \\approx-\\frac{R_{L}}{Z_{T}} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nZ_{T}=\\frac{2 R_{T}}{1+s C_{T} R_{T}} \\tag{7.39}\n\\end{equation*}\n$$\n\nSubstituting (7.39) into (7.38) yields\n\n$$\n\\begin{equation*}\nA_{c m}(s)=\\frac{v_{o c}}{v_{i c}}(s) \\approx-\\frac{R_{L}}{2 R_{T}}\\left(1+s C_{T} R_{T}\\right) \\tag{7.40}\n\\end{equation*}\n$$\n\nEquation 7.40 indicates that the CM gain expression includes a zero, causing the CM gain to increase at $6 \\mathrm{~dB} /$ octave above the frequency $\\omega=1 / R_{T} C_{T}$. This behavior is undesirable since the CM gain should ideally remain minimal. However, the increase in CM gain cannot persist indefinitely, as other capacitors in the circuit of Fig. 7.11c eventually become significant. These additional capacitors cause the CM gain to decline at very high frequencies, a trend depicted in the plot of CM gain versus frequency in Fig. 7.12a.\n\nFigure 7.11 (a) Common-mode ac half-circuit for Fig. 7.5. (b) Common-mode ac half-circuit for Fig. 7.9. (c) A general model for both half-circuits.\n\nThe differential-mode (DM) gain $A_{d m}$ of the circuits in Fig. 7.5 or Fig. 7.9 is plotted against frequency in Fig. $7.12 b$ using (7.10). As previously described, $\\left|A_{d m}\\right|$ starts to decline at a frequency of $f=1 / 2 \\pi R C_{t}$, where $R=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}$ and $C_{t}=C_{\\text {in }}+C_{M}$. As emphasized in Chapter 3, a critical parameter for differential amplifiers is the common-mode rejection ratio (CMRR), defined as\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\frac{\\left|A_{d m}\\right|}{\\left|A_{c m}\\right|} \\tag{7.41}\n\\end{equation*}\n$$\n\nThe CMRR is plotted as a function of frequency in Fig. $7.12 c$ by taking the magnitude of the ratio of the DM and CM gains. This parameter begins to decrease at the frequency $f=1 / 2 \\pi R_{T} C_{T}$ when $\\left|A_{c m}\\right|$ starts to rise. The rate of CMRR decrease accelerates when $\\left|A_{d m}\\right|$ begins to fall with increasing frequency. Consequently, differential amplifiers become less effective at rejecting CM signals as the frequency of these signals rises."
},
{
    "text": "In Chapter 3, the significance of the common-mode (CM) gain in a differential amplifier was discussed. It was demonstrated that low CM gain values are preferable to enable the circuit to reject unwanted signals that are equally applied to both inputs. Given that unwanted CM signals may contain high-frequency components, the frequency response of the CM gain is crucial. The CM frequency response for the differential circuits depicted in Figures 7.5 and 7.9 can be derived from the CM half-circuits illustrated in Figs. 7.11a and 7.11b. In Fig. 7.11, $R_{T}$ and $C_{T}$ represent the equivalent output resistance and capacitance of the tail current source. Since impedances common to both devices are doubled in the CM half-circuit, $R_{T}$ and $C_{T}$ transform to $2 R_{T}$ and $C_{T} / 2$, respectively. A general small-signal equivalent circuit for Figs. 7.11a-b is presented in Fig. 7.11c, where the parallel combination of $2 R_{T}$ and $C_{T} / 2$ is denoted as $Z_{T}$.\n\nAnalyzing Fig. 7.11c in its entirety is quite intricate. However, the critical aspects of the frequency response can be determined through certain approximations. Consider the time constant $R_{T} C_{T}$. Here, $R_{T}$ is the output resistance of the current source and typically exceeds or equals the $r_{o}$ of a transistor. Assuming this resistance is around $1 \\mathrm{M} \\Omega$, the capacitor $C_{T}$ comprises $C_{c s}$ of the bipolar current-source transistor or $C_{d b}$ of the current-source transistor plus $C_{s b}$ of the input transistors in the MOS circuit. Usually, $C_{T}$ is 1 pF or less. With $R_{T}=1 \\mathrm{M} \\Omega$ and $C_{T}=1 \\mathrm{pF}$, the time constant $R_{T} C_{T}$ equals $1 \\mu \\mathrm{~s}$, and the corresponding break frequency is $1 /\\left(2 \\pi R_{T} C_{T}\\right)=166 \\mathrm{kHz}$. Below this frequency, $Z_{T}$ is dominated by $R_{T}$, whereas above it, $C_{T}$ takes over. Thus, as the operating frequency rises, $Z_{T}$ exhibits frequency variation before the rest of the circuit. We now calculate the frequency response under the assumption that $C_{T}$ is the predominant capacitance. Given that $Z_{T}$ is high, nearly all of $v_{i c}$ appears across $Z_{T}$ if $R_{S}$ is small. Consequently, the CM gain can be approximated as\n\n$$\n\\begin{equation*}\nA_{c m}=\\frac{v_{o c}}{v_{i c}} \\approx-\\frac{R_{L}}{Z_{T}} \\tag{7.38}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nZ_{T}=\\frac{2 R_{T}}{1+s C_{T} R_{T}} \\tag{7.39}\n\\end{equation*}\n$$\n\nSubstituting (7.39) into (7.38) yields\n\n$$\n\\begin{equation*}\nA_{c m}(s)=\\frac{v_{o c}}{v_{i c}}(s) \\approx-\\frac{R_{L}}{2 R_{T}}\\left(1+s C_{T} R_{T}\\right) \\tag{7.40}\n\\end{equation*}\n$$\n\nEquation 7.40 indicates that the CM gain expression includes a zero, causing the CM gain to increase at $6 \\mathrm{~dB} /$ octave above a frequency $\\omega=1 / R_{T} C_{T}$. This behavior is undesirable since the CM gain should ideally remain minimal. However, the CM gain's increase cannot persist indefinitely because other capacitors in the Fig. 7.11c circuit eventually become significant. These additional capacitors cause the CM gain to decline at very high frequencies, as depicted in the CM gain versus frequency plot in Fig. 7.12a.\n\n**Image Descriptions:**\n\n- **(a)** This Bode plot shows the common-mode (CM) gain \\( |A_{cm}| \\) in dB against frequency \\( f \\) on a logarithmic scale. At low frequencies, the CM gain is low and stable. From \\( \\omega = \\frac{1}{R_T C_T} \\), it rises at +6 dB/octave. At very high frequencies, the gain peaks and then decreases due to other capacitive effects.\n\n- **(b)** This Bode plot depicts the differential-mode gain (|A_dm|) in dB versus frequency \\( f \\) on a log scale. The gain is constant at lower frequencies but starts decreasing at \\( \\frac{1}{2\\pi RC_t} \\) at a rate of -6 dB/octave.\n\n- **(c)** This Bode plot illustrates the Common-Mode Rejection Ratio (CMRR) in dB versus frequency on a logarithmic scale. The CMRR decreases initially at -6 dB/octave and then more steeply at -12 dB/octave from \\( \\frac{1}{2\\pi RC_t} \\).\n\n**Figure 7.12** Variations in gain parameters for the differential amplifier in Fig. 7.5 or Fig. 7.9: (a) Common-mode gain, (b) Differential-mode gain, (c) Common-mode rejection ratio.\n\nThe differential-mode (DM) gain $A_{d m}$ of the circuits in Fig. 7.5 or Fig. 7.9 is plotted against frequency in Fig. $7.12 b$ using (7.10). As previously described, $\\left|A_{d m}\\right|$ begins to decline at a frequency $f=1 / 2 \\pi R C_{t}$, where $R=\\left(R_{S}+r_{x}\\right) \\| r_{\\text {in }}$ and $C_{t}=C_{\\text {in }}+C_{M}$. As highlighted in Chapter 3, a key parameter for differential amplifiers is the common-mode rejection ratio (CMRR), defined as\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\frac{\\left|A_{d m}\\right|}{\\left|A_{c m}\\right|} \\tag{7.41}\n\\end{equation*}\n$$\n\nThe CMRR is plotted against frequency in Fig. $7.12 c$, derived from the ratio of the DM and CM gains. This metric starts decreasing at $f=1 / 2 \\pi R_{T} C_{T}$ when $\\left|A_{c m}\\right|$ begins to rise. The decline rate of CMRR accelerates as $\\left|A_{d m}\\right|$ falls with increasing frequency. Hence, differential amplifiers become less effective at rejecting CM signals at higher frequencies."
},
{
    "text": "Single-stage voltage buffers are commonly utilized in integrated circuits. Figures 7.13a and 7.13b depict the AC circuits for bipolar and MOS voltage buffers, respectively. A small-signal model for an emitter-follower amplifier with a voltage source vi, a resistor RS connected to the gate of NMOS M0, and a load resistor RL at the output Vo is presented. Additionally, an NMOS source-follower amplifier with input voltage Vi, source resistor RS, load resistor RL, and output voltage Vo is shown, utilizing NMOS transistor M0 to buffer the input signal. Figure 7.13c presents a general model for both amplifiers, which can be applied to model these circuits. Resistance RS represents the source resistance, while RL denotes the load resistance. It is assumed that the output resistance of the transistor ro is significantly higher than RL. Given that these resistors are in parallel in the small-signal circuit, ro can be disregarded. The series input resistance in the transistor model and the source resistance are in series and can be combined as RS' = RS + rx. For simplicity, the impact of capacitor Cf in Figure 7.1 is initially neglected, which is a reasonable approximation if RS' is small. The effect of Cf is to create a low-pass circuit with RS' and cause the gain to diminish at very high frequencies. From Figure 7.13c, the equations for the circuit are derived. Using these equations, the transfer function for the emitter follower can be determined. If gmRL >> 1 and gmRL >> (RS' + RL) / rπ, where RS' = RS + rb, the low-frequency gain is approximately unity. The zero and pole are defined by the equations. Typically, the zero has a slightly larger magnitude than the pole. If gmRL >> 1 and RS' << RL in the equation for R1, then R1 ≈ 1 / gm, and the equation for p1 yields p1 ≈ -gm / Cπ ≈ -ωT. However, if RS in the equation for R1 is large compared to RL or if gmRL' is not much larger than one, the pole magnitude will be significantly less than ωT. The preceding analysis demonstrates that large bandwidths are achievable with the emitter-follower circuit. One of the primary applications of an emitter follower is as a voltage buffer circuit due to its high input impedance and low output impedance. The frequency dependence of these terminal impedances is significant, particularly when driving large loads, and will now be examined. In Chapter 3, the terminal impedances of the emitter follower were calculated using a circuit similar to Figure 7.14, except that Cπ was not included. The results obtained there can be applied here if rπ is replaced by zπ, which is a parallel combination of rπ and Cπ. In the low-frequency calculation, β0 was used as a symbol for gm rπ, and thus is now replaced by gm zπ. Using these substitutions in the equations, including rb and letting ro → ∞, we obtain the equations for the emitter follower. Considering the input impedance first, substituting the equation for zπ in the equation for zi gives the equation for zi. Thus, zi can be represented as a parallel R-C circuit in series with rb and RL, as shown in Figure 7.16. The effective input capacitance is Cπ / (1 + gmRL) and is much smaller than Cπ for typical values of gmRL. The collector-base capacitance Cμ may dominate the input capacitance and can be added to this circuit from B' to ground. Consequently, at high frequencies, the input impedance of the emitter follower becomes capacitive, and its magnitude decreases. The emitter-follower high-frequency output impedance can be calculated by substituting the equation for zπ in the equation for zo. Before proceeding, we will examine the equation for zπ to determine the high and low frequency limits on |zo|. At low frequencies, zπ = rπ, and the equation for |zo| at ω = 0 is obtained. At high frequencies, zπ → 0 because Cπ becomes a short circuit, and thus the equation for |zo| at ω = ∞ is derived. Hence, zo is resistive at very low and very high frequencies, and its behavior in between depends on parameter values. At very low collector currents, 1 / gm is large. If 1 / gm > (RS + rb), a comparison of the equations for |zo| at ω = 0 and ω = ∞ shows that |zo| decreases as frequency increases, and the output impedance appears capacitive. However, at collector currents of more than several hundred microamperes, we usually find that 1 / gm < (RS + rb). Then |zo| increases with frequency, representing inductive behavior that can significantly influence circuit behavior, particularly when driving capacitive loads. If 1 / gm = (RS + rb), then the output impedance is resistive and independent of frequency over a wide bandwidth. To maintain this condition over variations in process, supply, and temperature, practical design goals are RS ≈ 1 / gm and rb << RS. Assuming that the collector bias current is such that zo is inductive, we can postulate an equivalent circuit for zo as shown in Figure 7.17. At low frequencies, the inductor is a short circuit, and the equation for |zo| at ω = 0 is obtained. At high frequencies, the inductor is an open circuit, and the equation for |zo| at ω = ∞ is derived. If we assume that |zo| at ω = 0 << |zo| at ω = ∞, then R1 << R2, and we can simplify the equation for |zo| at ω = 0 to the equation. The impedance of the circuit of Figure 7.17 can be expressed as the equation, assuming that R1 << R2. The complete emitter-follower output impedance can be calculated by substituting the equation for zπ in the equation for zo with RS' = rb + RS, which gives the equation for zo. Comparing the equation for zo with the equation for the impedance of the circuit of Figure 7.17 shows that, under the assumptions made in this analysis, the emitter-follower output impedance can be represented by the circuit of Figure 7.17 with the equations for R1, R2, and L. The effect of Cμ was neglected in this calculation, which is a reasonable approximation for low to moderate values of RS'. The preceding calculations have demonstrated that the input and output impedances of the emitter follower are frequency-dependent. One consequence of this dependence is that the variation of the terminal impedances with frequency may limit the useful bandwidth of the circuit."
},
{
    "text": "Voltage buffers are commonly utilized in integrated circuits, with the AC circuits for bipolar and MOS voltage buffers depicted in Figures 7.13a and 7.13b respectively. Figure 7.13a illustrates a small-signal model of an emitter-follower amplifier featuring a voltage source vi, resistor RS connected to the gate of NMOS M0, and load resistor RL at the output Vo. Figure 7.13b depicts an NMOS source-follower amplifier with input voltage Vi, source resistor RS, load resistor RL, and output voltage Vo, utilizing NMOS transistor M0 to buffer the input signal.\n\nFigure 7.13c presents a general model applicable to both circuits, incorporating resistances RS and RL as the source and load resistances respectively. The analysis assumes the output resistance of the transistor ro to be significantly higher than RL, allowing ro to be neglected in the small-signal circuit. The series input resistance in the transistor model and the source resistance are combined as RS'=RS+rx. Initially, the impact of capacitor Cf is disregarded, a reasonable approximation when RS' is small. However, Cf contributes to a low-pass circuit with RS' and leads to a decline in gain at very high frequencies.\n\nThe provided equations (7.42) to (7.50) describe the relationships between various circuit parameters, such as input voltage vi, output voltage vo, and transistor parameters gm and rx. These equations are used to derive the voltage gain expression in equation (7.47), demonstrating that the low-frequency voltage gain is approximately unity under specific conditions involving gm, RL, RS', and rx.\n\nMoving on to the frequency response of the emitter follower, Figure 7.14 displays the small-signal circuit, which is analyzed by substituting appropriate values into the derived equations. The analysis reveals that the low-frequency gain is about unity, and the zero and pole are determined by equations (7.51) and (7.52) respectively. The zero and pole locations in the s-plane are depicted in Figure 7.15a, indicating a stable system with closely spaced zero and pole.\n\nFigure 7.15b presents the voltage gain versus frequency for the voltage buffer, demonstrating a flat gain response until near the transition frequency fT, where a slight decrease occurs. The analysis predicts that the gain remains flat at higher frequencies.\n\nFurther examination of Figure 7.14 reveals that the high-frequency gain is asymptotic to RL/(RL+RS'), as Cf becomes a short circuit. This results in v1=0 and consequently, the controlled current gmν1 becomes zero. Incorporating a parasitic capacitance Cμ leads to a more realistic frequency response, as shown in Figure 7.15b. The presence of Cμ, grounded at the collector, introduces high-frequency signal attenuation through voltage division between RS' and Cμ. This results in a -3dB frequency of 725 MHz due to the low-pass action of RS' and Cμ. Nevertheless this, the emitter of the emitter follower remains substantial, with bandwidths approaching the device's fT achievable in practice.\n\nThe emitter\nThe emitter-follower circuit is renowned for its high input impedance and low output impedance, making it an ideal voltage buffer. The frequency dependence of these terminal impedances is crucial, particularly when driving heavy loads, and is examined in detail. In previous chapters, the terminal impedances of the emitter follower were determined using a circuit akin to Figure 7.14, excluding Cπ. The findings are applicable here with the substitution of rz for rπ, representing the parallel combination of rπ and Cπ. Additionally, β0 is replaced by gmzπ, reflecting the updated small-signal model. Incorporating these modifications into the relevant equations from previous chapters and considering rb and an infinite ro, the input and output impedances for the emitter follower are derived.\n\nThe input impedance expression, equation (7.55), is simplified to equation (7.59) by substituting equation (7.57). This reveals that the input impedance can be represented as a parallel RC circuit in series with rb and RL, as depicted in Figure 7.16. The effective input capacitance is significantly reduced compared to Cπ for typical values of gmRL. The collector-base capacitance Cμ may dominate the input capacitance and can be added to this circuit from B' to ground. Consequently, at high frequencies, the input impedance becomes capacitive, and its magnitude decreases.\n\nThe high-frequency output impedance is calculated by substituting equation (7.57) into equation (7.56). The behavior of |zo| at low and high frequencies is analyzed, revealing that zo is resistive at very low and very high frequencies, with its intermediate behavior dependent on parameter values. At low collector currents, 1/gm is large, and if 1/gm > (RS + rb), |zo| decreases with increasing frequency, exhibiting capacitive behavior. However, at higher collector currents, |zo| increases with frequency, displaying inductive behavior that can significantly impact circuit performance, especially when driving capacitive loads. If 1/gm = (RS + rb), the output impedance remains resistive and independent of frequency across a broad bandwidth. To maintain this condition despite variations in process, supply, and temperature, practical design aims for RS ≈ 1/gm and rb ≪ RS.\n\nAssuming the collector bias current results in an inductive zo, an equivalent circuit is proposed in Figure 7.17. At low frequencies, the inductor acts as a short circuit, and at high frequencies, it behaves as an open circuit. The impedance expression is simplified under the assumption that |zo|ω=0 ≪ |zo|ω=∞, leading to R1 ≪ R2. The complete emitter-follower output impedance is calculated by substituting equation (7.57) into equation (7.56) with RS'=rb+RS, resulting in equation (7.66). Comparison with equation (7.65) confirms that the emitter-follower output impedance can be represented by the circuit in Figure 7.17, with R1, R2, and L defined in equations (7.67) to (7.69). The effect of Cμ is neglected in this calculation, a reasonable approximation for low to moderate values of RS'.\n\nThe analysis highlights the frequency dependence of the input and output impedances of the emitter follower. This dependence may constrain the useful bandwidth of the circuit. An example calculation demonstrates the determination of the elements in the equivalent circuits for input and output impedance, using the parameters from the previous example. The calculations show that the assumption R1 ≪ R2 holds true in this case.\n\nThe small-signal circuit for the source follower, as shown in Figure 7.18, initially ignores Cgd, Cgb, and Csb. A key difference from the previous models is the gmb generator, which can be replaced with a resistor from vo to ground, parallel to RL. The transfer function for the source follower is derived by substituting the appropriate values into the equations. The low-frequency gain is approximately unity, and the zero and pole are determined by equations (7.70) and (7.71) respectively. The zero and pole locations are similar to those in the emitter follower, indicating a stable system with closely spaced zero and pole.\n\nAn example calculation for a source follower with specified parameters, including non-zero Cgd, Cgb, and Csb, demonstrates the determination of the transfer function. The analysis reveals a zero at -gm/Cgs and two poles, which are complex in this case. The gain magnitude and phase are plotted in Figures 7.19b and 7.19c, respectively, showing a bandwidth of 1.6 GHz. The proximity of the poles and zero results in a gain versus frequency curve that approximates a single-pole roll-off.\n\nHigh-frequency input signals are attenuated by Cgd and Cgb, causing the gain to roll off and approach zero as ω → ∞. However, the bandwidth of the source follower remains substantial, with bandwidths approaching the device's fT achievable in practice. If the source follower drives a load capacitance in parallel with the load resistance, this value can be added to Csb in the analysis. Such a load capacitance is present when the source-follower transistor is fabricated in a well, and its source is connected to its well to avoid body effect. The well-body capacitance can be significant and may substantially affect the 3-dB bandwidth of the circuit.\n\nThe analysis of the input and output impedances for the emitter follower is applicable to the MOSFET, considering the similarities in their equivalent circuits. A major difference is that the MOSFET typically has a lower gm compared to the bipolar transistor at the same bias current. Therefore, the condition leading to an inductive output impedance (1/gm < RS) occurs less frequently with source followers than with emitter followers."
},
{
    "text": "---[Attention]---\nIncorporating Image Descriptions: Textual descriptions have been generated for images referenced within the [Specified Context]. These descriptions preserve the original meaning while maintaining their length.\n---[Task]---\nRephrase the text provided in the [Specified Context] Section while upholding the intended message and the passage's length.\n---[Context Provided]---\nThe original text:\n\nThe provided text:\n```\nSingle-stage voltage buffers are frequently employed within integrated circuits. The alternating current (ac) configurations of bipolar and MOS voltage buffers are depicted in Figs. 7.13a and 7.13b, respectively. A small-signal model\nimage_name:(a)\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vi, N2: b0}\nname: M0, type: NMOS, ports: {S: V0, D: GND, G: b0}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\n]\nextrainfo:The circuit functions as an emitter-follower amplifier featuring a voltage source vi, a resistor RS connected at the gate of NMOS M0, and a load resistor RL at the output Vo.\nimage_name:(b)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vi, N2: g0}\nname: M0, type: NMOS, ports: {S: GND, D: Vo, G: g0}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND}\n]\nextrainfo:The circuit constitutes an NMOS source-follower amplifier with an input voltage Vi, source resistor RS, load resistor RL, and output voltage Vo. The NMOS transistor M0 serves as an input signal buffer.\nimage_name:(c)\ndescription:\n[\nname: Vi, type: VoltageSource, value: Vi, ports: {Np: Vi, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vi, N2: X1}\nname: rx, type: Resistor, value: rx, ports: {N1: X1, N2: X2}\nname: rin, type: Resistor, value: rin, ports: {N1: X1, N2: X2}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: X2, Nn: X1}\nname: gmv1, type: VoltageControlledCurrentSource, ports: {Np: GND, Nn: X1}\n]\nextrainfo:The circuit represents a small-signal model of a voltage buffer with input voltage Vi and output at node X1. The voltage-controlled current source gmv1 depends on the voltage across Cin.\n\nFigure 7.13 (a) An ac schematic of an emitter-follower amplifier. (b) An ac schematic of a source-follower amplifier. (c) A general model for both amplifiers.\nthat can be utilized to model these two circuits is illustrated in Fig. 7.13c. The resistance $R_{S}$ denotes the source resistance, and $R_{L}$ signifies the load resistance. It is assumed that the transistor's output resistance $r_{o}$ is significantly greater than $R_{L}$. Consequently, the resistors, being in parallel within the small-signal circuit, $r_{o}$ can be disregarded. The series input resistance within the transistor model and the source resistance combine to form $R_{S}^{\\prime}=R_{S}+r_{x}$. For ease of analysis, the influence of capacitor $C_{f}$ depicted in Fig. 7.1 is initially omitted, a plausible assumption when $R_{S}^{\\prime}$ is minor. The role of $C_{f}$ is to establish a low-pass filter with $R_{S}^{\\prime}$ and to diminish the gain at extremely high frequencies. Referencing Fig. 7.13c,\n\n$$\n\\begin{gather*}\nv_{i}=i_{i} R_{S}^{\\prime}+v_{1}+v_{o}  \\tag{7.42}\\\\\ni_{i}=\\frac{v_{1}}{z_{\\text {in }}}  \\tag{7.43}\\\\\nz_{\\text {in }}=\\frac{r_{\\text {in }}}{1+s C_{\\text {in }} r_{\\text {in }}}  \\tag{7.44}\\\\\ni_{i}+g_{m} v_{1}=\\frac{v_{o}}{R_{L}} \\tag{7.45}\n\\end{gather*}\n$$\n\nSubstituting (7.43) and (7.44) into (7.45) yields\n\n$$\n\\frac{v_{1}}{r_{\\mathrm{in}}}\\left(1+s C_{\\mathrm{in}} r_{\\text{in}}\\right)+g_{m} v_{1}=\\frac{v_{o}}{R_{L}}\n$$\n\nConsequently,\n\n$$\n\\begin{equation*}\nv_{1}=\\frac{v_{o}}{R_{L}} \\frac{1}{g_{m}+\\frac{1}{r_{\\text {in }}}\\left(1+s C_{\\text {in }} r_{\\text {in }}\\right)} \\tag{7.46}\n\\end{equation*}\n$$\n\nUsing (7.46) and (7.43) in (7.42) results in\n\n$$\nv_{i}=\\left(\\frac{R_{S}^{\\prime}}{z_{\\text {in }}}+1\\right) \\frac{v_{o}}{R_{L}} \\frac{1}{g_{m}+\\frac{1}{r_{\\text {in }}}\\left(1+s C_{\\text {in }} r_{\\text {in }}\\right)}+v_{o}\n$$\n\nCombining terms in this equation reveals\n\n$$\n\\begin{equation*}\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}+\\frac{R_{L}}{r_{\\text {in }}}}{1+g_{m} R_{L}+\\frac{R_{S}^{\\prime}+R_{L}}{r_{\\text {in }}}}\\left[\\frac{1-\\frac{s}{z_{1}}}{1-\\frac{s}{p_{1}}}\\right] \\tag{7.47}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{gather*}\nz_{1}=-\\frac{g_{m}+\\frac{1}{r_{\\mathrm{in}}}}{C_{\\mathrm{in}}}  \\tag{7.48}\\\\\np_{1}=-\\frac{1}{R_{1} C_{\\mathrm{in}}} \\tag{7.49}\n\\end{gather*}\n$$\n\nwith\n\n$$\n\\begin{equation*}\nR_{1}=r_{\\text {in }} \\| \\frac{R_{S}^{\\prime}+R_{L}}{1+g_{m} R_{L}} \\tag{7.50}\n\\end{equation*}\n$$\n\nEquation 7.47 demonstrates that, as anticipated, the low-frequency voltage gain is nearly equal to one when $g_{m} R_{L} \\gg 1$ and $g_{m} R_{L} \\gg\\left(R_{S}^{\\prime}+R_{L}\\right) / r_{\\text {in }}$. The high-frequency gain is governed by the existence of a pole at $p_{1}$ and a zero at $z_{1}$.\n\n#### 7.2.3.1 Frequency Response of the Emitter Follower\nThe small-signal circuit for the emitter follower shown in Fig. 7.13a is presented in Fig. 7.14. Initially, $C_{\\mu}$ is neglected, as done in the general analysis of Section 7.2.3. The transfer function for the emitter follower can be determined by plugging the relevant values from Table 7.1 into (7.47) through\nimage_name:Figure 7.14\ndescription:\n[\nname: vi, type: VoltageSource, value: vi, ports: {Np: Vi, Nn: GND}\nname: \"RS\", type: Resistor, value: \"RS\", ports: {N1: Vi, N2: \"B\"}\nname: rπ, type: Resistor, value: rπ, ports: {N1: \"B\", N2: Vo}\nname: Cπ, type: Capacitor, value: Cπ, ports: {Np: \"B\", Nn: Vo}\nname: gmv1, type: CurrentSource, value: gmv1, ports: {Np: C, Nn: Vo}\nname: RL, type: Resistor, value: RL, ports: {N1: Vo, N2: GND'}\n]\nextrainfo:The circuit is a small-signal model of an emitter follower, encompassing a voltage source, resistors, a capacitor, and a current source. The input is at node Vi, and the output is taken across RL at node Vo. The current source gmv1 models the transconductance of the transistor, and the capacitor Cπ represents the parasitic capacitance.\n\nFigure 7.14 Small-signal model for the emitter follower in Fig. 7.13a.\n(7.50). If $g_{m} R_{L} \\gg 1$ and $g_{m} R_{L} \\gg\\left(R_{S}^{\\prime}+R_{L}\\right) / r_{\\pi}$, where $R_{S}^{\\prime}=R_{S}+r_{b}$, the low-frequency gain is approximately one. The zero and pole are given by\n\n$$\n\\begin{gather*}\nz_{1}=-\\frac{g_{m}+\\frac{1}{r_{\\pi}}}{C_{\\pi}} \\approx-\\frac{g_{m}}{C_{\\pi}} \\approx-\\omega_{T}  \\tag{7.51}\\\\\np_{1}=-\\frac{1}{C_{\\pi} R_{1}} \\tag{7.52}\n\\end{gather*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nR_{1}=r_{\\pi} \\| \\frac{R_{S}^{\\prime}+R_{L}}{1+g_{m} R_{L}} \\tag{7.53}\n\\end{equation*}\n$$\n\nGenerally, the zero has a magnitude slightly greater than the pole, and both are nearly equal to $\\omega_{T}$ of the device. In particular, if $g_{m} R_{L} \\gg 1$ and $R_{S}$ is much smaller than $R_{L}$ in (7.53), then $R_{1} \\approx 1 / g_{m}$ and (7.52) yields $p_{1} \\approx-g_{m} / C_{\\pi} \\approx-\\omega_{T}$. However, if $R_{S}$ is substantial, then $R_{S}^{\\prime}$ in (7.53) becomes significant compared to $R_{L}$, and the pole magnitude will be notably less than $\\omega_{T}$.\n\n#### EXAMPLE\nTo determine the transfer function for an emitter follower with $C_{\\pi}=10 \\mathrm{pF}, C_{\\mu}=0, R_{L}=2 \\mathrm{k} \\Omega$, $R_{S}=50 \\Omega$, $r_{b}=150 \\Omega$, $\\beta=100$, and $I_{C}=1 \\mathrm{~mA}$, utilize the following steps.\n\nFrom the provided data, $g_{m}=38 \\mathrm{~mA} / \\mathrm{V}, r_{\\pi}=2.6 \\mathrm{k} \\Omega$, and $R_{S}^{\\prime}=R_{S}+r_{b}=200 \\Omega$. With $C_{\\mu}=0$, the transit frequency $\\omega_{T}$ of the device is\n\n$$\n\\begin{equation*}\n\\omega_{T}=\\frac{g_{m}}{C_{\\pi}}=\\frac{1 \\mathrm{~mA}}{26 \\mathrm{mV}} \\frac{1}{10 \\mathrm{pF}}=3.85 \\times 10^{9} \\mathrm{rad} / \\mathrm{s} \\tag{7.54}\n\\end{equation*}\n$$\nand hence $f_{T}=612 \\mathrm{MHz}$. From (7.51) and (7.54), the zero of the transfer function is\n\n$$\nz_{1} \\approx-\\omega_{T}=-3.85 \\times 10^{9} \\mathrm{rad} / \\mathrm{s}\n$$\n\nFrom (7.53)\n\n$$\nR_{1}=2.6 \\mathrm{k} \\Omega \\|\\left(\\frac{200+2000}{1+\\frac{2000}{26}} \\Omega\\right) \\approx 28 \\Omega\n$$\n\nUsing (7.52), the pole is\n\n$$\np_{1}=-\\frac{10^{12}}{10} \\frac{1}{28} \\mathrm{rad} / \\mathrm{s}=-3.57 \\times 10^{9} \\mathrm{rad} / \\mathrm{s}\n$$\n\nThus, the pole and zero are quite closely situated, as depicted in the $s$-plane plot of Fig. 7.15a.\nThe low-frequency gain of the circuit from (7.47) is\n\n$$\n\\frac{v_{o}}{v_{i}}=\\frac{g_{m} R_{L}+\\frac{R_{L}}{r_{\\pi}}}{1+g_{m} R_{L}+\\frac{R_{S}^{\\prime}+R_{L}}{r_{\\pi}}}=\\frac{\\frac{2000}{26}+\\frac{2000}{2600}}{1+\\frac{2000}{26}+\\frac{2200}{2600}}=0.986\n$$\n\nThe parameters derived above are employed in (7.47) to plot the circuit gain versus frequency in Fig. 7.15b. The gain is constant with frequency until nearing $f_{T}=612 \\mathrm{MHz}$ where a reduction of 0.4 dB takes place. The analysis predicts that the gain will remain constant as the frequency is further increased.\nimage_name:Figure 7.15 (a)\ndescription:\nThe graph in Figure 7.15 (a) is a pole-zero plot on the complex plane, a common representation used in control systems and signal processing to illustrate the poles and zeros of a system's transfer function.\n\n**Type of Graph:** Pole-zero plot.\n\n**Axes Labels and Units:**\n- The horizontal axis, labeled as \\( \\sigma \\), indicates the real part of the complex frequency, measured in units of \\( \\times 10^9 \\) rad/s.\n- The vertical axis, labeled as \\( j\\omega \\), indicates the imaginary part of the complex frequency.\n\n**Overall Behavior and Trends:**\n- The plot illustrates the positions of poles and zeros in the complex plane.\n- There is one zero situated on the real axis at approximately -2 (\\( \\times 10^9 \\) rad/s).\n- There is one pole located further left on the real axis at approximately -4 (\\( \\times 10^9 \\) rad/s).\n\n**Key Features and Technical Details:**\n- The presence of a pole on the left half of the complex plane indicates a stable system.\n- The zero is closer to the imaginary axis than the pole, which can influence the frequency response of the system.\n\n**Annotations and Specific Data Points:**\n- The zero is marked with an 'o', and the pole is marked with an 'x'.\n- The plot does not include annotations for gain or phase margins, focusing on the pole-zero configuration.\nimage_name:Figure 7.15 (b)\ndescription:Figure 7.15 (b) is a Bode plot depicting the voltage gain \\( \\frac{v_o}{v_i} \\) in decibels (dB) against frequency in Hertz (Hz) for a voltage buffer.\n\n1. **Type of Graph and Function:**\n- The graph is a Bode plot, focused on the gain response of a voltage buffer circuit.\n\n2. **Axes Labels and Units:**\n- The x-axis represents frequency \\( f \\) in Hertz (Hz), plotted on a logarithmic scale, ranging from 1 MHz to 1 GHz.\n- The y-axis represents the voltage gain \\( \\frac{v_o}{v_i} \\) in decibels (dB), with values ranging from 0 dB to -8 dB.\n\n3. **Overall Behavior and Trends:**\n- The gain is flat at 0 dB across the frequency range until approximately 612 MHz.\n- Beyond this frequency, the gain begins to decrease slightly, demonstrating a 0.4 dB drop.\n- The gain remains flat once again at higher frequencies following this initial drop.\n\n4. **Key Features and Technical Details:**\n- The cutoff frequency \\( f_{-3dB} \\) is marked at 725 MHz, where the gain drops to -3 dB.\n- The solid line represents the gain with no parasitic capacitance \\( C_{\\mu} = 0 \\) or \\( C_{gd} = 0 \\).\n- The dashed line represents the gain with a parasitic capacitance \\( C_{\\mu} = 1 \\) pF, reflecting a more realistic frequency response.\n\n5. **Annotations and Specific Data Points:**\n- The transition frequency \\( f_T \\) is noted at 612 MHz, indicating where the gain starts to decrease.\n- The graph includes a horizontal dashed line at -3 dB to highlight the cutoff frequency.\n- Annotations specify the conditions for both the solid and dashed lines, providing context for the changes in gain.\n\nFigure 7.15 (a) Pole-zero plot for a voltage buffer. (b) Voltage gain versus frequency for the voltage buffer.\n```\n\nRephrased text:\n\nEmbodying Image Descriptions: Descriptions have been created for images referenced in the [Designated Context]. These descriptions preserve the essence while retaining their length.\n---[Revision]---\nPlease revise the text as provided in the [Designated Context] Section, ensuring that the revised version conveys the same message and retains the passage"
},
{
    "text": "Single-stage voltage buffers are commonly utilized within integrated circuits. The AC circuit diagrams for bipolar and MOS voltage buffers are depicted in Figures 7.13a and 7.13b, respectively. A small-signal model for the circuit is provided. Additional information regarding the circuit configuration, including the components and their functions, is also given.\n\nFigure 7.13 (a) Illustrates an AC circuit diagram of an emitter-follower amplifier. (b) Displays an AC circuit diagram of a source-follower amplifier. (c) Presents a general model applicable to both amplifier types. The resistance $R_{S}$ denotes the source resistance, while $R_{L}$ refers to the load resistance. It is assumed that the output resistance of the transistor $r_{o}$ is significantly greater than $R_{L}$. Therefore, $r_{o}$ can be considered negligible in the small-signal circuit. The input resistance, which is a series combination of the transistor model's input resistance and the source resistance, can be combined as $R_{S}^{\\prime}=R_{S}+r_{x}$. For simplicity, the capacitor $C_{f}$ is initially ignored, as it is a reasonable approximation if $R_{S}^{\\prime}$ is small. The capacitor $C_{f}$ contributes to forming a low-pass circuit with $R_{S}^{\\prime}$ and causes the gain to decrease at very high frequencies.\n\nThe equations provided in the text are derived based on the given small-signal model and the relationships between the circuit components. The derivation of the transfer function and the subsequent analysis of the circuit's frequency response are presented. This includes the calculation of the low-frequency gain, the location of the pole and zero of the transfer function, and the behavior of the circuit at high frequencies.\n\nAn example is given to demonstrate the calculation of the transfer function for an emitter follower with specified component values. The calculations are based on the small-signal model and the provided equations.\n\nThe text also includes descriptions and interpretations of figures, such as the pole-zero plot and the Bode plot, which are used to analyze the frequency response of the circuits. The discussion covers the significance of these plots and their implications for the circuit's behavior at different frequencies.\n\nIn summary, the provided text offers a comprehensive analysis of the frequency response of emitter and source follower amplifiers, including the derivation of the transfer function, the calculation of circuit parameters, and the interpretation of graphical representations."
},
{
    "text": "Single-stage voltage buffers are commonly employed in integrated circuits. The AC circuits for bipolar and MOS voltage buffers are illustrated in Figures 7.13a and 7.13b, respectively. A small-signal model for these circuits is depicted in Figure 7.13c.\n\nFigure 7.13a presents an AC schematic of an emitter-follower amplifier, while Figure 7.13b depicts an AC schematic of a source-follower amplifier. Figure 7.13c provides a general model that can be applied to both types of amplifiers. In this model, $R_S$ represents the source resistance, and $R_L$ denotes the load resistance. We assume that the output resistance of the transistor, $r_o$, is significantly greater than $R_L$. Since these resistors are in parallel within the small-signal circuit, $r_o$ can be disregarded. The series input resistance in the transistor model and the source resistance can be combined as $R_S' = R_S + r_x$. For simplicity, the impact of capacitor $C_f$ in Figure 7.1 is initially neglected, which is a reasonable approximation if $R_S'$ is small. The effect of $C_f$ is to create a low-pass circuit with $R_S'$ and cause the gain to decrease at very high frequencies.\n\nFrom Figure 7.13c, the following equations can be derived:\n\n$$\n\\begin{gather*}\nv_i = i_i R_S' + v_1 + v_o \\tag{7.42}\\\\\ni_i = \\frac{v_1}{z_{\\text{in}}} \\tag{7.43}\\\\\nz_{\\text{in}} = \\frac{r_{\\text{in}}}{1 + s C_{\\text{in}} r_{\\text{in}}} \\tag{7.44}\\\\\ni_i + g_m v_1 = \\frac{v_o}{R_L} \\tag{7.45}\n\\end{gather*}\n$$\n\nUsing Equations (7.43) and (7.44) in (7.45) yields:\n\n$$\n\\frac{v_1}{r_{\\mathrm{in}}\n}} providedphrased text is asVoltage\nSingle-stage voltage buffers are frequently\nSingle-stage voltage buffers are commonly employed within integrated circuits. The AC circuits\nSingle AC circuits for bipolar and MOS voltage buffers are depicted in Figures 7.13a and 7.13b, respectively. A small model that can be applied to both types of amplifiers is depicted in Figure 7.13c,In Figure model, $R_S$ represents the source resistance, and $R_L$ denotes the load resistance. We assume that the output resistance of the transistor, $r_o$, is significantly greater than $R_L$. Since these resistors are in parallel within the small-signal circuit, $r_o$ can be disregarded. The series input resistance in the transistor model and the source resistance can be combined as $R_S' = R_S + r_x$. For simplicity, the impact of capacitor $C_f$ in Figure 7.1 is initially neglected, which is a reasonable approximation if $R_S'$ is small. The effect of $C_f$ is to create a low-pass circuit with $R_S'$ and cause the gain to decrease at very high frequencies.\n\nFrom Figure 7.13c, the following equations can be derived:\n\n$$\n\\begin{gather*}\nv_i = i_i R_S' + v_1 + v_o \\tag{7.42}\\\\\ni_i = \\frac{v_1}{z_{\\text{in}}} \\tag{7.43}\\\\\nz_{\\text{in}} = \\frac{r_{\\text{in}}}{1 + s C_{\\text{in}} r_{\\text{in}}} \\tag{7.44}\\\\\ni_i + g_m v_1 = \\frac{v_o}{R_L} \\tag{7.45}\n\\end{gather*}\n$$\n\nUsing Equations (7.43) and (7.44) in (7.45) yields:\n\n$$\n\\frac{v_1}{r_{\\mathrm{in}}}\\left(1 + s C_{\\mathrm{in}} r_{\\mathrm{in}}\\right) + g_m v_1 = \\frac{v_o}{R_L}\n$$\n\nand thus:\n\n$$\nv_1 = \\frac{v_o}{R_L} \\frac{1}{g_m + \\frac{1}{r_{\\text{in}}}\\left(1 + s C_{\\text{in}} r_{\\text{in}}\\right)} \\tag{7.46}\n$$\n\nUsing (7.46) and (7.43) in (7.42) gives:\n\n$$\nv_i = \\left(\\frac{R_S'}{z_{\\text{in}}} + 1\\right) \\frac{v_o}{R_L} \\frac{1}{g_m + \\frac{1}{r_{\\text{in}}}\\left(1 + s C_{\\text{in}} r_{\\text{in}}\\right)} + v_o\n$$\n\nSimplifying this equation, we find:\n\n$$\n\\frac{v_o}{v_i} = \\frac{g_m R_L + \\frac{R_L}{r_{\\text{in}}}}{1 + g_m R_L + \\frac{R_S' + R_L}{r_{\\text{in}}}}\\left[\\frac{1 - \\frac{s}{z_1}}{1 - \\frac{s}{p_1}}\\right] \\tag{7.47}\n$$\n\nwhere:\n\n$$\n\\begin{gather*}\nz_1 = -\\frac{g_m + \\frac{1}{r_{\\mathrm{in}}}}{C_{\\mathrm{in}}} \\tag{7.48}\\\\\np_1 = -\\frac{1}{R_1 C_{\\mathrm{in}}} \\tag{7.49}\n\\end{gather*}\n$$\n\nwith:\n\n$$\nR_1 = r_{\\text{in}} \\| \\frac{R_S' + R_L}{1 + g_m R_L} \\tag{7.50}\n$$\n\nEquation 7.47 shows that, as expected, the low-frequency voltage gain is approximately unity if $g_m R_L \\gg 1$ and $g_m R_L \\gg \\left(R_S' + R_L\\right) / r_{\\text{in}}$. The high-frequency gain is influenced by the presence of a pole at $p_1$ and a zero at $z_1$."
},
{
    "text": "Voltage buffers are commonly implemented in integrated circuits using single-stage configurations. Figs. 7.13a and 7.13b illustrate the AC circuits for bipolar and MOS voltage buffers, respectively. The small-signal model images provided describe the circuits in detail, with each component and its connections listed.\n\nIn Fig. 7.13a, we have an emitter-follower amplifier circuit. It includes a voltage source vi, a resistor RS connected to the gate of NMOS M0, and a load resistor RL at the output Vo. The circuit in Fig. 7.13b is an NMOS source-follower amplifier, featuring input voltage Vi, source resistor RS, load resistor RL, and output voltage Vo. The NMOS transistor M0 is used to buffer the input signal.\n\nA general model for both amplifiers is shown in Fig. 7.13c. This model includes resistance RS as the source resistance and RL as the load resistance. It is assumed that the output resistance of the transistor ro is much larger than RL. Since these resistors are in parallel in the small-signal circuit, ro can be neglected. The series input resistance in the transistor model and the source resistance are in series and can be lumped together as RS' = RS + rx. For simplicity, the effect of capacitor Cf in Fig. 7.1 is initially neglected, a reasonable approximation if RS' is small. The effect of Cf is to form a low-pass circuit with RS' and to cause the gain to decrease at very high frequencies.\n\nThe equations provided describe the relationships between the voltages and currents in the circuit, and how they affect the gain and frequency response. The low-frequency voltage gain is approximately unity if gm RL >> 1 and gm RL >> (RS' + RL) / rin. The high-frequency gain is influenced by the presence of a pole at p1 and a zero at z1.\n\nThe small-signal circuit for the emitter follower in Fig. 7.13a is shown in Fig. 7.14. The transfer function for the emitter follower can be found by substituting the appropriate values into the equations provided. If gm RL >> 1 and gm RL >> (RS' + RL) / rπ, where RS' = RS + rb, the low-frequency gain is about unity. The zero and pole are given by z1 ≈ -ωT and p1 = -1 / (Cπ R1), respectively.\n\nThe small-signal circuit for the source follower in Fig. 7.13b is shown in Fig. 7.18. The transfer function for the source follower can be found by substituting the appropriate values into the equations provided. If gm RL' >> 1, the low-frequency gain is about unity. The zero and pole are given by z1 ≈ -ωT and p1 = -1 / (Cgs R1), respectively.\n\nThe input and output impedances of the emitter follower and source follower are frequency-dependent, which can limit the useful bandwidth of the circuits. The calculations and examples provided demonstrate how to analyze and design these circuits for optimal performance."
},
{
    "text": "Voltage buffers, often utilized within integrated circuits, are typically single-stage in nature. Bipolar and MOS voltage buffer circuits are depicted in Figures 7.13a and 7.13b, respectively. A small-signal model representation of these circuits is provided in Figure 7.13c.\n\nFigures 7.13a and 7.13b illustrate the AC circuits for bipolar and MOS voltage buffers, respectively. The small-signal model of a voltage buffer, depicted in Figure 7.13c, incorporates resistance \\( R_S \\) as the source resistance and \\( R_L \\) as the load resistance. In this model, the output resistance of the transistor \\( r_o \\) is assumed to be significantly greater than \\( R_L \\), and due to the parallel arrangement of these resistors in the small-signal circuit, \\( r_o \\) can be disregarded.\n\nIn the transistor model, the series input resistance is combined with the source resistance, resulting in \\( R_S' = R_S + r_x \\). Initially, the impact of capacitor \\( C_f \\) in Figure 7.1 is overlooked, which is a reasonable approximation when \\( R_S' \\) is small. The role of \\( C_f \\) is to establish a low-pass filter in conjunction with \\( R_S' \\), leading to a decrease in gain at very high frequencies. Using the equations provided, the relationships between the voltages and currents in the circuit are established.\n\nThe frequency response of the emitter follower, as shown in Figure 7.14, is analyzed by substituting the relevant values from Table 7.1 into the equations. The low-frequency gain is approximately unity under certain conditions, and the presence of a zero and a pole determines the high-frequency gain characteristics.\n\nAn example calculation of the transfer function for an emitter follower is provided, considering parameters such as \\( C_{\\pi} \\), \\( R_L \\), \\( R_S \\), \\( r_b \\), \\( \\beta \\), and \\( I_C \\). The resulting pole-zero plot in Figure 7.15a and the voltage gain versus frequency plot in Figure 7.15b demonstrate the behavior of the circuit across different frequencies.\n\nThe analysis further examines the frequency response of the source follower, as depicted in Figure 7.18, and provides an example calculation for the transfer function. The effects of capacitors \\( C_{g d} \\), \\( C_{g b} \\), and \\( C_{s b} \\) on the frequency response are discussed, and the resulting pole-zero plot in Figure 7.19a and the magnitude and phase of the gain versus frequency plots in Figures 7.19b and 7.19c illustrate the circuit's behavior.\n\nFinally, the input and output impedances of the emitter follower are calculated, considering the frequency dependence of these parameters. An example calculation is provided to determine the elements in the equivalent circuits for input and output impedance, and the implications of these calculations on the circuit's bandwidth are discussed."
},
{
    "text": "Single-stage voltage buffers are commonly employed in integrated circuits. The AC circuit schematics for bipolar and MOS voltage buffers are depicted in Figures 7.13a and 7.13b, respectively. A small-signal model for these circuits is illustrated in Figure 7.13c. In this model, \\( R_S \\) represents the source resistance, and \\( R_L \\) denotes the load resistance. It is assumed that the output resistance of the transistor, \\( r_o \\), is significantly greater than \\( R_L \\). Due to these resistors being in parallel within the small-signal circuit, \\( r_o \\) can be disregarded. The series input resistance in the transistor model and the source resistance are in series and can be combined as \\( R_S' = R_S + r_x \\). For simplicity, the impact of capacitor \\( C_f \\) in Figure 7.1 is initially ignored, which is a reasonable approximation if \\( R_S' \\) is small. The effect of \\( C_f \\) is to create a low-pass circuit with \\( R_S' \\) and to cause the gain to decrease at very high frequencies. Using the equations provided, the voltage gain and frequency response of the circuits can be analyzed. The emitter-follower and source-follower circuits exhibit frequency-dependent input and output impedances, which can limit their useful bandwidth. However, these circuits still offer large bandwidths and are often used as voltage buffers due to their high input impedance and low output impedance."
},
{
    "text": "Voltage buffers, particularly single-stage types, are commonly employed in integrated circuits. Figures 7.13a and 7.13b depict the AC circuits for bipolar and MOS voltage buffers, respectively. A small-signal model for these circuits is provided in Fig. 7.13c. \n\nIn Fig. 7.13a, the circuit represents an emitter-follower amplifier with a voltage source vi, resistor RS connected to the gate of NMOS M0, and load resistor RL at the output Vo. \n\nFig. 7.13b illustrates an NMOS source-follower amplifier, featuring input voltage Vi, source resistor RS, load resistor RL, and output voltage Vo. The NMOS transistor M0 is employed to buffer the input signal.\n\nFig. 7.13c presents a general model for both amplifiers, which includes input voltage Vi, resistor RS, resistors rx and rin, capacitor Cin, and voltage-controlled current source gmv1. The output is at node X1, and the voltage-controlled current source depends on the voltage across Cin.\n\nResistance RS represents the source resistance, while RL denotes the load resistance. It is assumed that the transistor's output resistance, ro, significantly exceeds RL. As these resistors are in parallel within the small-signal circuit, ro can be disregarded. The series input resistance in the transistor model and the source resistance can be combined as RS'=RS+rx. For simplicity, the influence of capacitor Cf in Fig. 7.1 is initially ignored, a reasonable approximation if RS' is small. The effect of Cf is to create a low-pass circuit with RS' and cause the gain to diminish at very high frequencies.\n\nThe equations provided describe the relationship between input voltage vi, output voltage vo, and the circuit components. These equations allow for the calculation of the voltage gain as a function of frequency.\n\nIn Section 7.2.3.1, the frequency response of the emitter follower is discussed, using the small-signal circuit in Fig. 7.14. Initially, Cμ is ignored, as in the general analysis in Section 7.2.3. The transfer function for the emitter follower is determined by substituting the appropriate values from Table 7.1 into the equations provided.\n\nFig. 7.14 depicts the small-signal model of an emitter follower, including a voltage source, resistors, a capacitor, and a current source. The input is at node Vi, and the output is taken across RL at node Vo. The current source gmv1 models the transconductance of the transistor, and the capacitor Cπ represents the parasitic capacitance.\n\nFigures 7.15a and 7.15b display the pole-zero plot and voltage gain versus frequency for the voltage buffer, respectively. The pole-zero plot is a graphical representation of the poles and zeros of the system's transfer function in the complex plane. The Bode plot illustrates the voltage gain in decibels versus frequency.\n\nThe analysis demonstrates that the low-frequency voltage gain is approximately unity under certain conditions, while the high-frequency gain is influenced by the presence of a pole and a zero. The zero and pole are determined by the values of gm, RL, RS', and Cπ.\n\nSection 7.2.3.2 focuses on the frequency response of the source follower, using the small-signal circuit in Fig. 7.18. Initially, capacitors Cgd, Cgb, and Csb are ignored. The transfer function for the source follower is found by substituting the appropriate values from Table 7.1 into the equations provided.\n\nFig. 7.18 shows the small-signal model for a source follower, incorporating a voltage source, resistors, capacitors, and voltage-controlled current sources. The model represents the frequency response of the source follower with components such as Cgs, Cgd, Cgb, and Csb, which represent parasitic capacitances. The resistors and current sources model the transconductance and body effect.\n\nFigures 7.19a, 7.19b, and 7.19c present the pole-zero plot, magnitude of the gain versus frequency, and phase of the gain versus frequency for the source follower, respectively. The pole-zero plot and Bode plots provide insights into the frequency response and stability of the circuit.\n\nThe analysis reveals that the low-frequency gain of the source follower is approximately unity under certain conditions, while the high-frequency gain is affected by the presence of poles and zeros. The poles and zeros are determined by the values of gm, RL', RS, and Cgs.\n\nOverall, the analysis of the frequency response of the emitter follower and source follower provides a comprehensive understanding of their behavior at different frequencies. This information is crucial for designing and implementing these circuits in various applications."
},
{
    "text": "Voltage buffers in integrated circuits are commonly implemented as single-stage configurations. Figures 7.13a and 7.13b illustrate the AC circuits for bipolar and MOS voltage buffers, respectively. Figure 7.13c presents a generalized model that can represent both circuit types. The model includes a voltage source vi, resistors RS and RL, and a transistor M0. In the bipolar circuit, the transistor acts as an emitter-follower amplifier, while in the MOS circuit, it operates as a source-follower amplifier.\n\nThe small-signal model in Figure 7.13c includes a voltage-controlled current source gmv1, which depends on the voltage across capacitor Cin. The resistors RS and RL represent the source and load resistances, respectively. The transistor's output resistance, ro, is assumed to be much larger than RL, allowing ro to be neglected in the small-signal analysis. The series combination of the transistor's input resistance and the source resistance is represented as RS'.\n\nThe effect of capacitor Cf is initially ignored for simplicity, but it forms a low-pass circuit with RS' and causes a decrease in gain at very high frequencies. The provided equations describe the relationships between the input voltage vi, output voltage vo, and the circuit components.\n\nFor the emitter-follower circuit, the small-signal model is shown in Figure 7.14. The transfer function for this circuit is derived using the equations and the values from Table 7.1. The low-frequency gain is approximately unity under certain conditions, and the high-frequency gain is influenced by the zero at z1 and the pole at p1. The zero and pole are determined by the transconductance gm, the input resistance rπ, and the parasitic capacitance Cπ.\n\nAn example is provided to calculate the transfer function for an emitter follower with specific component values. The analysis shows that the pole and zero are closely spaced, resulting in a gain that decreases slightly at high frequencies.\n\nFigure 7.15a presents a pole-zero plot for the voltage buffer, and Figure 7.15b shows the voltage gain versus frequency. The gain remains flat until the transition frequency fT, where it starts to decrease. The analysis predicts that the gain will remain flat at higher frequencies.\n\nThe high-frequency gain of the emitter follower is asymptotic to RL / (RL + RS'), as Cπ becomes a short circuit. If a parasitic capacitance Cμ is included, the frequency response becomes more realistic, as shown in Figure 7.15b. The bandwidth of the emitter follower is still quite large, and bandwidths of the order of fT can be achieved in practice.\n\nThe terminal impedances of the emitter follower are frequency-dependent, which can limit the useful bandwidth of the circuit. The input impedance is represented as a parallel RC circuit in series with rb and RL, as shown in Figure 7.16. The effective input capacitance is much less than Cπ for typical values of gm RL. At high frequencies, the input impedance becomes capacitive, and its magnitude decreases.\n\nThe output impedance of the emitter follower is analyzed using the small-signal model and equations. The output impedance is resistive at very low and very high frequencies, and its behavior in between depends on the parameter values. An equivalent circuit is presented in Figure 7.17 to represent the output impedance at moderate current levels.\n\nAn example is provided to calculate the elements in the equivalent circuits for the input and output impedance of the emitter follower. The calculated values are used to analyze the frequency response of the circuit.\n\nThe small-signal circuit for the source follower is shown in Figure 7.18. The transfer function for the source follower is derived using the equations and the values from Table 7.1. The low-frequency gain is approximately unity under certain conditions, and the high-frequency gain is influenced by the zero at z1 and the pole at p1. The zero and pole are determined by the transconductance gm, the input resistance rπ, and the parasitic capacitance Cgs.\n\nAn example is provided to calculate the transfer function for a source follower with specific component values. The analysis shows that the pole and zero are closely spaced, resulting in a gain that decreases slightly at high frequencies.\n\nWhen capacitors Cgd, Cgb, and Csb are included in the analysis, the voltage-gain expression becomes more complicated. The exact transfer function has a zero at -gm / Cgs and two poles. The analysis shows that the poles can be complex, and the gain versus frequency approximates a one-pole roll-off.\n\nAn example is provided to calculate the transfer function for a source follower with non-zero Cgd, Cgb, and Csb. The analysis shows that the poles and zero are fairly close together, and the gain versus frequency approximates a one-pole roll-off. The -3dB bandwidth is determined, and the effect of the load capacitance is discussed.\n\nThe input and output impedances of the source follower are analyzed using the small-signal model and equations. The analysis shows that the terminal impedances are frequency-dependent, which can limit the useful bandwidth of the circuit. The input impedance is represented as a parallel RC circuit in series with rb and RL, as shown in Figure 7.16. The effective input capacitance is much less than Cπ for typical values of gm RL. At high frequencies, the input impedance becomes capacitive, and its magnitude decreases.\n\nThe output impedance of the source follower is analyzed using the small-signal model and equations. The output impedance is resistive at very low and very high frequencies, and its behavior in between depends on the parameter values. An equivalent circuit is presented in Figure 7.17 to represent the output impedance at moderate current levels.\n\nAn example is provided to calculate the elements in the equivalent circuits for the input and output impedance of the source follower. The calculated values are used to analyze the frequency response of the circuit."
},
{
    "text": "The common-base (CB) and common-gate (CG) amplifier configurations are depicted in AC schematic form in Fig. 7.20. These stages exhibit low input impedance, high output impedance, roughly unity current gain, and extensive bandwidth. They are utilized in wideband applications and scenarios necessitating low input impedance. As outlined in Chapter 1, the bipolar transistor's breakdown voltage is highest in this setup. The amalgamation of these properties and the wideband trait renders CB stages valuable in high-voltage wideband output stages driving oscilloscope deflection plates.\n\nImage Description (a):\n- **Components:**\n  - **Voltage Source (Vi):** Labeled \\( v_i \\), providing the initial signal.\n  - **Resistor (RS):** Labeled \\( R_S \\), connected to the input source, limiting current and setting input impedance.\n  - **NPN Transistor (Q0):** Labeled \\( Q_0 \\), serving as the amplification device, grounded at the base.\n  - **Resistor (RL):** Labeled \\( R_L \\), connected to the output node, defining output impedance.\n\n- **Extra Info:** This common-base amplifier configuration uses an NPN transistor with the input applied to the emitter and the output taken from the collector, designed for low input and high output impedance.\n\nImage Description (b):\n- **Components:**\n  - **Voltage Source (Vi):** Labeled \\( v_i \\), providing the initial signal.\n  - **Resistor (RS):** Labeled \\( R_S \\), connected to the input source.\n  - **NMOS Transistor (M0):** Labeled \\( M_0 \\), with the source connected to \\( s_0 \\), drain to \\( V_o \\), and gate to ground.\n  - **Resistor (RL):** Labeled \\( R_L \\), connected to the output node.\n\n- **Extra Info:** This common-gate amplifier configuration uses an NMOS transistor, featuring low input impedance and high output impedance, suitable for wideband applications.\n\nImage Description (c):\n- **General Model Components:**\n  1. **Input Source (Vi):** Labeled \\( v_i \\), supplying the initial signal.\n  2. **Source Resistor (Rs):** Labeled \\( R_S \\), connected to the input source, limiting current and setting input impedance.\n  3. **Transistor (Qo):** Labeled \\( Q_0 \\), acting as the amplification device, grounded at the base (or gate for FETs).\n  4. **Output Node (Vo):** Labeled \\( v_o \\), where the amplified output is taken.\n  5. **Load Resistor (RL):** Labeled \\( R_L \\), connected to the output node, defining output impedance.\n\n- **Flow of Information:**\n  - The input signal \\( v_i \\) is applied across \\( R_S \\) and enters the transistor \\( Q_0 \\).\n  - The transistor amplifies the current, maintaining near-unity current gain, delivering the amplified signal to the output node \\( v_o \\).\n  - The output signal \\( v_o \\) is then taken across the load resistor \\( R_L \\).\n\n- **Overall System Function:** This model acts as a current buffer with low input impedance, high output impedance, and wide bandwidth, ideal for wideband amplifiers and driving low impedance loads.\n\nFigures:\n- **Fig. 7.20 (a):** AC schematic of a common-base amplifier.\n- **Fig. 7.20 (b):** AC schematic of a common-gate amplifier.\n- **Fig. 7.20 (c):** General model for both amplifiers.\n\nA small-signal equivalent circuit, applicable to both CB and CG stages, is shown in Fig. 7.20c. The input voltage source and source resistance are represented by a Norton equivalent. Resistance \\( R_S \\) is disregarded in the analysis due to the amplifier's low input impedance. If \\( r_x \\) is small, \\( C_f \\) shunts \\( R_L \\), as depicted in Fig. 7.20c. In this analysis, \\( r_o \\) is neglected, and the output signal \\( i_o \\) is taken as the output of the \\( g_m \\) controlled source. The approximate output voltage \\( v_o \\) is derived by assuming \\( i_o \\) flows in the parallel combination of \\( R_L \\) and \\( C_f \\).\n\nThe circuit analysis in Fig. 7.20c involves applying KCL at node \\( W \\), neglecting \\( R_S \\):\n\n\\[ i_i + \\frac{v_1}{z_{\\text{in}}} + g_m v_1 = 0 \\tag{7.75} \\]\n\nwhere\n\n\\[ z_{\\text{in}} = \\frac{r_{\\mathrm{in}}}{1 + s C_{\\mathrm{in}} r_{\\text{in}}} \\tag{7.76} \\]\n\nFrom (7.75) and (7.76):\n\n\\[ i_i = -v_1 \\left(g_m + \\frac{1}{r_{\\mathrm{in}}} + s C_{\\mathrm{in}}\\right) \\tag{7.77} \\]\n\nNow,\n\n\\[ i_o = -g_m v_1 \\tag{7.78} \\]\n\nSubstituting (7.77) into (7.78) yields:\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} \\frac{1}{1 + s \\frac{r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} C_{\\mathrm{in}}} \\tag{7.79} \\]\n\n#### 7.2.4.1 Common-Base Amplifier Frequency Response\n\nThe small-signal circuit for the common-base amplifier in Fig. 7.20a is shown in Fig. 7.21. Substituting values from Table 7.1 into (7.79) gives the current gain:\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m r_{\\pi}}{g_m r_{\\pi} + 1} \\frac{1}{1 + s \\frac{r_{\\pi}}{g_m r_{\\pi} + 1} C_{\\pi}} \\tag{7.80} \\]\n\nUsing \\( \\beta_0 = g_m r_{\\pi} \\) and assuming \\( \\beta_0 \\gg 1 \\), (7.80) simplifies to:\n\n\\[ \\frac{i_o}{i_i} \\approx \\frac{\\beta_0}{\\beta_0 + 1} \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} = \\alpha_0 \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} \\tag{7.81} \\]\n\nwhere \\( \\alpha_0 = \\beta_0 / (\\beta_0 + 1) \\). This analysis indicates that the CB stage's current gain has a low-frequency value of \\( \\alpha_0 \\approx 1 \\) and a pole at \\( p_1 = -g_m / C_{\\pi} \\approx -\\omega_T \\). The CB stage is thus a wideband unity-current gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) in the CB stage is zero at low frequencies, contrasting the common-emitter stage's \\( 180^\\circ \\) phase shift.\n\nIf the desired output is the current through \\( R_L \\), \\( C_{\\mu} \\) and \\( R_L \\) form a current divider from \\( i_o \\) to this current, introducing an additional pole \\( p_2 = -1 / R_L C_{\\mu} \\) in the transfer function.\n\nComparing Fig. 7.20a with Fig. 7.13a shows that the common-base stage's input impedance matches the emitter follower's output impedance with \\( R_S = 0 \\). Thus, the common-base stage's input impedance is low at low frequencies and becomes inductive at high frequencies for collector bias currents exceeding several hundred microamperes. As shown in Chapter 3, the output resistance at low frequencies with large \\( R_S \\) is approximately \\( \\beta_0 r_o \\), which is extremely large. At high frequencies, the output impedance is capacitive, dominated by \\( C_{\\mu} \\) (and \\( C_{cs} \\) for npn transistors).\n\nUnlike the common-emitter stage, where \\( C_{\\mu} \\) is Miller multiplied, the common-base stage lacks feedback capacitance from collector to emitter, minimizing the Miller effect. Consequently, the impact of large \\( R_L \\) values on the frequency response is significantly less in the common-base stage.\n\n#### 7.2.4.2 Common-Gate Amplifier Frequency Response\n\nThe small-signal circuit for the common-gate amplifier in Fig. 7.20b is shown in Fig. 7.22. This circuit includes a \\( g_{mb} \\) generator not present in the general model. Since \\( v_{bs} = v_{gs} \\) and the \\( g_m \\) and \\( g_{mb} \\) generators are in parallel, they can be combined. Capacitors \\( C_{gb}, C_{db} \\), and \\( C_{sb} \\) are excluded from the general model. Here, \\( C_{gb} \\) is shorted and ignored, \\( C_{db} \\) parallels \\( R_L \\) and can be ignored if the output variable is \\( i_o \\), and \\( C_{sb} \\) parallels \\( C_{gs} \\) in the small-signal circuit. Using combined transconductance and input capacitance values from Table 7.1 in (7.79) gives:\n\n\\[ \\frac{i_o}{i_i} = \\frac{1}{1 + s \\frac{C_{gs} + C_{sb}}{g_m + g_{mb}}} \\tag{7.82} \\]\n\nThis equation shows the common-gate stage's current gain has a low-frequency value of unity and a pole at \\( p_1 = -\\left(g_m + g_{mb}\\right) / \\left(C_{gs} + C_{sb}\\right) \\). If \\( C_{gs} \\gg C_{sb} \\), then \\( \\left|p_1\\right| \\approx \\left(g_m + g_{mb}\\right) / C_{gs} > g_m / C_{gs} \\approx \\omega_T \\). The CG stage is thus a wideband unity-current-gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) is zero at low frequencies, contrasting the common-source stage's \\( 180^\\circ \\) phase shift.\n\nIf the desired output is the current through \\( R_L \\), \\( C_{db}, C_{gd} \\), and \\( R_L \\) form a current divider from \\( i_o \\) to this current, introducing an additional pole \\( p_2 = -1 / R_L \\left(C_{db} + C_{gd}\\right) \\) in the transfer function.\n\nImage Description (Figure 7.21):\n- **Components:**\n  - **Current Source (i_i):** Flows from node E to ground.\n  - **Resistor (R_S):** Connected at node E.\n  - **Resistor (r_π):** Connected between nodes E and B.\n  - **Capacitor (C_π):** Parallel to \\( r_π \\).\n  - **Capacitor (C_μ):** Connected between Vo and B.\n  - **Resistor (r_b):** Connects nodes B and B'.\n  - **Resistor (R_L):** Connected to Vo.\n\n- **Extra Info:** This small-signal model for a common-base amplifier includes resistors, capacitors, and a current source, with the input current flowing from node E to ground.\n\nImage Description (Figure 7.22):\n- **Components:**\n  - **Current Source (I1):** Labeled \\( I1 \\), connected to S and ground.\n  - **Resistor (RS):** Labeled \\( R_S \\), connected to S.\n  - **Capacitor (Cgs+Cs):** Labeled \\( C_{gs} + C_{s} \\), connected between G (ground) and S.\n  - **Voltage-Controlled Current Sources (gmv1, gmbv1):** Connected to S and Vo.\n  - **Capacitor (Cgd):** Labeled \\( C_{gd} \\), connected between Vo and G.\n  - **Resistor (RL):** Labeled \\( R_L \\), connected to Vo.\n\n- **Extra Info:** This small-signal model for a common-gate amplifier includes a current source, resistors, capacitors, and voltage-controlled current sources, with the input current divided among components, introducing an additional pole in the transfer function due to the current divider formed by \\( C_{gd} \\) and \\( R_L \\).\n\nUnlike the common-source stage, where \\( C_{gd} \\) is Miller multiplied, the common-gate stage lacks feedback capacitance from drain to source, minimizing the Miller effect. Consequently, the impact of large \\( R_L \\) values on the frequency response is significantly less in the common-gate stage."
},
{
    "text": "The common-base (CB) and common-gate (CG) amplifier configurations are depicted in AC schematic form in Fig. 7.20. These stages exhibit low input impedance, high output impedance, roughly unity current gain, and extensive bandwidth. They are utilized in wideband applications and scenarios necessitating low input impedance. As outlined in Chapter 1, the bipolar transistor's breakdown voltage is maximized in this setup. The amalgamation of these properties and the wideband trait renders CB stages beneficial in high-voltage wideband output stages driving oscilloscope deflection plates.\n\n**Image Descriptions:**\n\n- **(a)** This image illustrates a common-base amplifier configuration employing an NPN transistor. The input is applied to the emitter, and the output is derived from the collector. The circuit is designed to offer low input impedance and high output impedance.\n\n- **(b)** This circuit represents a common-gate amplifier configuration using an NMOS transistor. It features low input impedance and high output impedance, making it suitable for wideband applications.\n\n- **(c)** The diagram labeled (c) serves as a general model for both common-base (CB) and common-gate (CG) amplifiers. Its primary components include:\n  1. **Input Source (Vi):** A voltage source, denoted as \\( v_i \\), supplying the initial signal.\n  2. **Source Resistor (Rs):** Connected to the input source, this resistor, \\( R_S \\), restricts current entering the transistor and aids in setting the amplifier's input impedance.\n  3. **Transistor (Qo):** The central amplification device, \\( Q_0 \\), which is a BJT in CB configuration and a FET in CG configuration, grounded at the base (or gate for FET).\n  4. **Output Node (Vo):** The node, \\( v_o \\), where the amplified output is obtained, connected to the load resistor.\n  5. **Load Resistor (RL):** This resistor, \\( R_L \\), linked to the output node, defines the output impedance and influences the voltage gain.\n\n**Flow of Information:**\n- The input signal \\( v_i \\) is applied across \\( R_S \\) and enters the transistor \\( Q_0 \\).\n- The transistor amplifies the current, maintaining near-unity current gain, and delivers the amplified signal to the output node \\( v_o \\).\n- The output signal \\( v_o \\) is then taken across the load resistor \\( R_L \\).\n\n**Overall System Function:**\nThis model acts as a current buffer, characterized by low input impedance, high output impedance, and wide bandwidth, ideal for applications requiring these traits, such as wideband amplifiers. The component arrangement ensures efficient current transfer from input to output with minimal voltage gain but high current gain, suitable for driving low impedance loads.\n\n**Figure 7.20:**\n- (a) An AC schematic of a common-base amplifier.\n- (b) An AC schematic of a common-gate amplifier.\n- (c) A general model for both amplifiers.\n\nA small-signal equivalent circuit capable of modeling both CB and CG stages using a general small-signal model is shown in Fig. 7.20c. The input voltage source and source resistance are represented by a Norton equivalent. Resistance \\( R_S \\) is disregarded in the subsequent analysis due to the amplifier's low input impedance. Another approximation, if \\( r_x \\) is small, is that \\( C_f \\) simply shunts \\( R_L \\), as depicted in Fig. 7.20c. In this analysis, \\( r_o \\) is neglected, and the output signal \\( i_o \\) is taken as the output of the \\( g_m \\) controlled source. The approximate output voltage \\( v_o \\) is derived by assuming \\( i_o \\) flows in the parallel combination of \\( R_L \\) and \\( C_f \\).\n\nThe circuit analysis in Fig. 7.20c proceeds by applying KCL at node \\( W \\), neglecting \\( R_S \\):\n\n$$\n\\begin{equation*}\ni_i + \\frac{v_1}{z_{\\text{in}}} + g_m v_1 = 0 \\tag{7.75}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nz_{\\text{in}} = \\frac{r_{\\mathrm{in}}}{1 + s C_{\\mathrm{in}} r_{\\text{in}}} \\tag{7.76}\n\\end{equation*}\n$$\n\nFrom (7.75) and (7.76):\n\n$$\n\\begin{equation*}\ni_i = -v_1 \\left(g_m + \\frac{1}{r_{\\mathrm{in}}} + s C_{\\mathrm{in}}\\right) \\tag{7.77}\n\\end{equation*}\n$$\n\nNow,\n\n$$\n\\begin{equation*}\ni_o = -g_m v_1 \\tag{7.78}\n\\end{equation*}\n$$\n\nSubstituting (7.77) into (7.78) yields:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{g_m r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} \\frac{1}{1 + s \\frac{r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} C_{\\mathrm{in}}} \\tag{7.79}\n\\end{equation*}\n$$\n\n#### 7.2.4.1 Common-Base Amplifier Frequency Response\n\nThe small-signal circuit for the common-base (CB) amplifier in Fig. 7.20a is shown in Fig. 7.21. Substituting values from Table 7.1 into (7.79) provides the current gain:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{g_m r_{\\pi}}{g_m r_{\\pi} + 1} \\frac{1}{1 + s \\frac{r_{\\pi}}{g_m r_{\\pi} + 1} C_{\\pi}} \\tag{7.80}\n\\end{equation*}\n$$\n\nUsing \\( \\beta_0 = g_m r_{\\pi} \\) and assuming \\( \\beta_0 \\gg 1 \\), (7.80) simplifies to:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} \\approx \\frac{\\beta_0}{\\beta_0 + 1} \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} = \\alpha_0 \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} \\tag{7.81}\n\\end{equation*}\n$$\n\nwhere \\( \\alpha_0 = \\beta_0 / (\\beta_0 + 1) \\). This analysis indicates that the CB stage's current gain has a low-frequency value of \\( \\alpha_0 \\approx 1 \\) and a pole at \\( p_1 = -g_m / C_{\\pi} \\approx -\\omega_T \\). The CB stage is thus a wideband unity-current gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) in the CB stage is zero at low frequencies, as seen from the polarities in Fig. 7.20a. This contrasts with the common-emitter stage of Fig. 7.2a, which exhibits a \\( 180^\\circ \\) phase shift at low frequencies.\n\nIf the desired output is the current through \\( R_L \\), then \\( C_{\\mu} \\) and \\( R_L \\) form a current divider from \\( i_o \\) to this current (assuming \\( C_{\\mu} \\) is in parallel with \\( R_L \\) due to the small \\( r_b \\)). Including this current divider introduces an additional pole \\( p_2 = -1 / R_L C_{\\mu} \\) in the transfer function.\n\nComparing Fig. 7.20a with Fig. 7.13a reveals that the common-base stage's input impedance matches the output impedance of the emitter follower with \\( R_S = 0 \\). Thus, the common-base stage's input impedance is low at low frequencies and becomes inductive at high frequencies for collector bias currents exceeding several hundred microamperes. As detailed in Chapter 3, the output resistance of the common-base stage at low frequencies with large \\( R_S \\) is approximately \\( \\beta_0 r_o \\), which is extremely high. At high frequencies, the output impedance is capacitive and dominated by \\( C_{\\mu} \\) (and \\( C_{cs} \\) for npn transistors).\n\nUnlike the common-emitter stage, where \\( C_{\\mu} \\) undergoes Miller multiplication, the common-base stage lacks feedback capacitance from collector to emitter, thus avoiding the Miller effect. Consequently, the impact of large \\( R_L \\) values on the common-base stage's frequency response is significantly less than in the common-emitter stage.\n\n#### 7.2.4.2 Common-Gate Amplifier Frequency Response\n\nThe small-signal circuit for the common-gate (CG) amplifier in Fig. 7.20b is shown in Fig. 7.22. An element unique to this circuit and absent in the general model of Fig. 7.20c is the \\( g_{mb} \\) generator. Since \\( v_{bs} = v_{gs} \\) and the \\( g_m \\) and \\( g_{mb} \\) generators are in parallel, these controlled sources can be combined. Additionally, capacitors \\( C_{gb}, C_{db} \\), and \\( C_{sb} \\) are not included in the general model. Here, \\( C_{gb} \\) is shorted and can be disregarded. Capacitance \\( C_{db} \\) is in parallel with \\( R_L \\) and can be ignored if the output variable of interest is the current \\( i_o \\). Capacitance \\( C_{sb} \\) appears in parallel with \\( C_{gs} \\) in the small-signal circuit since both the body and gate connect to small-signal ground. Using the combined transconductance and input capacitance values from Table 7.1 in (7.79) yields:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{1}{1 + s \\frac{C_{gs} + C_{sb}}{g_m + g_{mb}}} \\tag{7.82}\n\\end{equation*}\n$$\n\nFrom this equation, the common-gate stage's current gain has a low-frequency value of unity and a pole at \\( p_1 = -\\left(g_m + g_{mb}\\right) / \\left(C_{gs} + C_{sb}\\right) \\). If \\( C_{gs} \\gg C_{sb} \\), then \\( \\left|p_1\\right| \\approx \\left(g_m + g_{mb}\\right) / C_{gs} > g_m / C_{gs} \\approx \\omega_T \\). The CG stage is thus a wideband unity-current-gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) in the CG stage is zero at low frequencies, as observed from the polarities in Fig. 7.20b. This phase shift contrasts with the common-source stage of Fig. 7.2b, which exhibits a \\( 180^\\circ \\) phase shift at low frequencies.\n\nIf the desired output is the current through \\( R_L \\), then \\( C_{db}, C_{gd} \\), and \\( R_L \\) form a current divider from \\( i_o \\) to this current. Including this current divider introduces an additional pole \\( p_2 = -1 / R_L \\left(C_{db} + C_{gd}\\right) \\) in the transfer function.\n\n**Figure 7.21:**\n- Small-signal model for the common-base circuit in Fig. 7.20a.\n\n**Figure 7.22:**\n- Small-signal model for the common-gate circuit in Fig. 7.20b.\n\n Unlike the common-source stage, where \\( C_{gd} \\) undergoes Miller multiplication, the common-gate stage lacks feedback capacitance from drain to source, thus avoiding the Miller effect. Consequently, the impact of large \\( R_L \\) values on the common-gate stage's frequency response is significantly less than in the common-source stage."
},
{
    "text": "The common-base (CB) and common-gate (CG) amplifier configurations are depicted in AC schematic form in Fig. 7.20. These stages exhibit low input impedance, high output impedance, roughly unity current gain, and extensive bandwidth. They are utilized in wideband applications and scenarios necessitating low input impedance. As outlined in Chapter 1, the bipolar transistor's breakdown voltage is highest in this configuration. The amalgamation of these properties and the wideband trait renders CB stages valuable in high-voltage wideband output stages driving oscilloscope deflection plates.\n\nA textual description of the images is provided:\n- **Image (a):** This illustrates a common-base amplifier configuration using an NPN transistor. The input is applied to the emitter, and the output is derived from the collector. The circuit is designed to offer low input impedance and high output impedance.\n- **Image (b):** This depicts a common-gate amplifier configuration employing an NMOS transistor. It features low input impedance and high output impedance, making it suitable for wideband applications.\n- **Image (c):** This diagram represents a generalized model for both common-base (CB) and common-gate (CG) amplifiers. The primary components include:\n  1. **Input Source (Vi):** A voltage source labeled \\( v_i \\) providing the initial signal.\n  2. **Source Resistor (Rs):** Connected to the input source, this resistor, labeled \\( R_S \\), restricts current entering the transistor and aids in setting the amplifier's input impedance.\n  3. **Transistor (Qo):** The central amplification device, labeled \\( Q_0 \\), which is a BJT in the common-base configuration and a FET in the common-gate configuration. The transistor is grounded at the base (or gate for FET), a hallmark of these configurations.\n  4. **Output Node (Vo):** The amplified output is taken across this node, labeled \\( v_o \\), connected to the load resistor.\n  5. **Load Resistor (RL):** This resistor, labeled \\( R_L \\), is connected to the output node, defining the output impedance and influencing the voltage gain.\n\n**Flow of Information:**\n- The input signal \\( v_i \\) is applied across \\( R_S \\) and enters the transistor \\( Q_0 \\).\n- The transistor amplifies the current, maintaining near-unity current gain, and the amplified signal is delivered to the output node \\( v_o \\).\n- The output signal \\( v_o \\) is then taken across the load resistor \\( R_L \\).\n\n**Overall System Function:**\nThis model functions as a current buffer, characterized by low input impedance, high output impedance, and wide bandwidth. It is ideal for applications requiring these traits, such as wideband amplifiers. The component arrangement ensures efficient current transfer from input to output with minimal voltage gain but high current gain, making it perfect for driving low impedance loads.\n\n**Figure 7.20:**\n- (a) An AC schematic of a common-base amplifier.\n- (b) An AC schematic of a common-gate amplifier.\n- (c) A generalized model for both amplifiers.\n\nA small-signal equivalent circuit that models both the CB and CG stages using a general small-signal model is shown in Fig. 7.20c. The input voltage source and source resistance are represented by a Norton equivalent. Resistance \\( R_S \\) is disregarded in the following analysis due to the amplifier's low input impedance. A reasonable approximation, if \\( r_x \\) is small, is that \\( C_f \\) simply shunts \\( R_L \\), as depicted in Fig. 7.20c. In this analysis, \\( r_o \\) will be neglected, and the output signal \\( i_o \\) will be taken as the output of the \\( g_m \\) controlled source. The approximate output voltage \\( v_o \\) is derived by assuming \\( i_o \\) flows in the parallel combination of \\( R_L \\) and \\( C_f \\).\n\nThe circuit analysis in Fig. 7.20c proceeds by applying KCL at node \\( W \\), neglecting \\( R_S \\):\n\n$$\n\\begin{equation*}\ni_i + \\frac{v_1}{z_{\\text{in}}} + g_m v_1 = 0 \\tag{7.75}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nz_{\\text{in}} = \\frac{r_{\\mathrm{in}}}{1 + s C_{\\mathrm{in}} r_{\\text{in}}} \\tag{7.76}\n\\end{equation*}\n$$\n\nFrom (7.75) and (7.76):\n\n$$\n\\begin{equation*}\ni_i = -v_1 \\left(g_m + \\frac{1}{r_{\\mathrm{in}}} + s C_{\\mathrm{in}}\\right) \\tag{7.77}\n\\end{equation*}\n$$\n\nNow,\n\n$$\n\\begin{equation*}\ni_o = -g_m v_1 \\tag{7.78}\n\\end{equation*}\n$$\n\nSubstituting (7.77) into (7.78) yields:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{g_m r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} \\frac{1}{1 + s \\frac{r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} C_{\\mathrm{in}}} \\tag{7.79}\n\\end{equation*}\n$$\n\n#### 7.2.4.1 Common-Base Amplifier Frequency Response\n\nThe small-signal circuit for the common-base (CB) amplifier in Fig. 7.20a is shown in Fig. 7.21. Substituting the values from Table 7.1 into (7.79) gives the current gain:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{g_m r_{\\pi}}{g_m r_{\\pi} + 1} \\frac{1}{1 + s \\frac{r_{\\pi}}{g_m r_{\\pi} + 1} C_{\\pi}} \\tag{7.80}\n\\end{equation*}\n$$\n\nUsing \\( \\beta_0 = g_m r_{\\pi} \\) and assuming \\( \\beta_0 \\gg 1 \\), (7.80) simplifies to:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} \\approx \\frac{\\beta_0}{\\beta_0 + 1} \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} = \\alpha_0 \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} \\tag{7.81}\n\\end{equation*}\n$$\n\nwhere \\( \\alpha_0 = \\beta_0 / (\\beta_0 + 1) \\). This analysis indicates that the CB stage current gain has a low-frequency value of \\( \\alpha_0 \\approx 1 \\) and a pole at \\( p_1 = -g_m / C_{\\pi} \\approx -\\omega_T \\). The CB stage is thus a wideband unity-current gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) in the CB stage is zero at low frequencies, as seen from the polarities in Fig. 7.20a. This contrasts with the common-emitter stage in Fig. 7.2a, which exhibits a \\( 180^\\circ \\) phase shift between \\( v_i \\) and \\( v_o \\) at low frequencies.\n\nIf the desired output is the current through \\( R_L \\), then \\( C_{\\mu} \\) and \\( R_L \\) form a current divider from \\( i_o \\) to this desired current (assuming \\( C_{\\mu} \\) is in parallel with \\( R_L \\) due to the small \\( r_b \\)). Including this current divider introduces an additional pole \\( p_2 = -1 / R_L C_{\\mu} \\) in the transfer function.\n\nComparing Fig. 7.20a with Fig. 7.13a shows that the input impedance of the common-base stage is the same as the output impedance of the emitter follower with \\( R_S = 0 \\). Thus, the common-base stage input impedance is low at low frequencies and becomes inductive at high frequencies for collector bias currents exceeding several hundred microamperes. As detailed in Chapter 3, the output resistance of the common-base stage at low frequencies with large \\( R_S \\) is approximately \\( \\beta_0 r_o \\), which is extremely high. At high frequencies, the output impedance is capacitive and dominated by \\( C_{\\mu} \\) (and \\( C_{cs} \\) for npn transistors).\n\nUnlike the common-emitter stage, where \\( C_{\\mu} \\) is Miller multiplied, the common-base stage lacks feedback capacitance from collector to emitter, thus avoiding the Miller effect. Consequently, the impact of large \\( R_L \\) values on the frequency response of the common-base stage is significantly less than in the common-emitter stage.\n\n#### 7.2.4.2 Common-Gate Amplifier Frequency Response\n\nThe small-signal circuit for the common-gate (CG) amplifier in Fig. 7.20b is shown in Fig. 7.22. One element not present in the general model in Fig. 7.20c is the \\( g_{mb} \\) generator. Since \\( v_{bs} = v_{gs} \\) and the \\( g_m \\) and \\( g_{mb} \\) generators are in parallel, these controlled sources can be combined. Additionally, capacitors \\( C_{gb}, C_{db}, \\) and \\( C_{sb} \\) are excluded from the general model. Here, \\( C_{gb} \\) is shorted and can be ignored. Capacitance \\( C_{db} \\) is in parallel with \\( R_L \\) and can be disregarded if the output variable of interest is the current \\( i_o \\). Capacitance \\( C_{sb} \\) appears in parallel with \\( C_{gs} \\) in the small-signal circuit since both the body and gate connect to small-signal ground. Using the combined transconductance and input capacitance values from Table 7.1 in (7.79) gives:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{1}{1 + s \\frac{C_{gs} + C_{sb}}{g_m + g_{mb}}} \\tag{7.82}\n\\end{equation*}\n$$\n\nFrom this equation, the current gain of the common-gate stage has a low-frequency value of unity and a pole at \\( p_1 = -\\left(g_m + g_{mb}\\right) / \\left(C_{gs} + C_{sb}\\right) \\). If \\( C_{gs} \\gg C_{sb} \\), then \\( \\left|p_1\\right| \\approx \\left(g_m + g_{mb}\\right) / C_{gs} > g_m / C_{gs} \\approx \\omega_T \\). The CG stage is thus a wideband unity-current-gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) in the CG stage is zero at low frequencies, as observed in Fig. 7.20b. This contrasts with the common-source stage in Fig. 7.2b, which exhibits a \\( 180^\\circ \\) phase shift between \\( v_i \\) and \\( v_o \\) at low frequencies.\n\nIf the desired output is the current through \\( R_L \\), then \\( C_{db}, C_{gd}, \\) and \\( R_L \\) form a current divider from \\( i_o \\) to this desired current. Including this current divider introduces an additional pole \\( p_2 = -1 / R_L \\left(C_{db} + C_{gd}\\right) \\) in the transfer function.\n\n**Figure 7.22:** Small-signal model for the common-gate circuit in Fig. 7.20b.\n\nUnlike the common-source stage, where \\( C_{gd} \\) is Miller multiplied, the common-gate stage lacks feedback capacitance from drain to source, thus avoiding the Miller effect. Consequently, the impact of large \\( R_L \\) values on the frequency response of the common-gate stage is significantly less than in the common-source stage."
},
{
    "text": "The common-base (CB) and common-gate (CG) amplifier configurations are depicted in AC schematic form in Fig. 7.20. These stages exhibit low input impedance, high output impedance, roughly unity current gain, and extensive bandwidth. They are utilized in wideband applications and scenarios requiring low input impedance. As outlined in Chapter 1, the bipolar transistor's breakdown voltage is highest in this configuration. The amalgamation of these properties and the wideband characteristic renders CB stages beneficial in high-voltage wideband output stages driving oscilloscope deflection plates.\n\n### Image Descriptions and Extrainfo\n\n**Image (a):**\n- **Description:** \n  - **Voltage Source (Vi):** Type: VoltageSource, Value: vi, Ports: {Np: Vi, Nn: GND}\n  - **Resistor (RS):** Type: Resistor, Value: RS, Ports: {N1: Vi, N2: eo}\n  - **Transistor (Q0):** Type: NPN, Ports: {C: Vo, B: GND, E: e0}\n  - **Resistor (RL):** Type: Resistor, Value: RL, Ports: {N1: Vo, N2: GND}\n- **Extrainfo:** This configuration is a common-base amplifier using an NPN transistor. The input is applied to the emitter, and the output is derived from the collector. The design ensures low input impedance and high output impedance.\n\n**Image (b):**\n- **Description:** \n  - **Voltage Source (Vi):** Type: VoltageSource, Value: vi, Ports: {Np: Vi, Nn: GND}\n  - **Resistor (RS):** Type: Resistor, Value: RS, Ports: {N1: Vi, N2: eo}\n  - **Transistor (M0):** Type: NMOS, Ports: {S: s0, D: Vo, G: GND}\n  - **Resistor (RL):** Type: Resistor, Value: RL, Ports: {N1: Vo, N2: GND}\n- **Extrainfo:** This circuit represents a common-gate amplifier using an NMOS transistor. It features low input impedance and high output impedance, making it suitable for wideband applications.\n\n**Image (c):**\n- **Description:** The diagram labeled (c) illustrates a general model for both common-base (CB) and common-gate (CG) amplifiers. The primary components include:\n  1. **Input Source (Vi):** This voltage source, labeled \\( v_i \\), supplies the initial signal.\n  2. **Source Resistor (Rs):** Connected to the input source, this resistor, labeled \\( R_S \\), restricts the current entering the transistor and helps establish the input impedance.\n  3. **Transistor (Qo):** The central amplifying device, labeled \\( Q_0 \\), is a transistor. In CB configuration, it's a BJT, and in CG configuration, it's a FET. The transistor is grounded at the base (or gate for FET), a hallmark of these configurations.\n  4. **Output Node (Vo):** The amplified output is taken across this node, labeled \\( v_o \\), connected to the load resistor.\n  5. **Load Resistor (RL):** This resistor, labeled \\( R_L \\), is linked to the output node, defining the output impedance and influencing the voltage gain.\n\n**Flow of Information:**\n- The input signal \\( v_i \\) is applied across \\( R_S \\) and enters the transistor \\( Q_0 \\).\n- The transistor amplifies the current, maintaining near-unity current gain, and the amplified signal is delivered to the output node \\( v_o \\).\n- The output signal \\( v_o \\) is then taken across the load resistor \\( R_L \\).\n\n**Overall System Function:**\nThis model acts as a current buffer, characterized by low input impedance, high output impedance, and wide bandwidth. It is ideal for applications necessitating these traits, such as wideband amplifiers. The component arrangement ensures efficient current transfer from input to output with minimal voltage gain but high current gain, making it excellent for driving low impedance loads.\n\n### Figures and Analysis\n\n**Figure 7.20:**\n- (a) An AC schematic of a common-base amplifier.\n- (b) An AC schematic of a common-gate amplifier.\n- (c) A general model for both amplifiers.\n\nA small-signal equivalent circuit that models both CB and CG stages using a general small-signal model is shown in Fig. 7.20c. The input voltage source and source resistance are represented by a Norton equivalent. Resistance \\( R_{S} \\) is disregarded in the subsequent analysis due to the amplifier's low input impedance. A reasonable approximation, if \\( r_{x} \\) is small, is that \\( C_{f} \\) simply shunts \\( R_{L} \\), as depicted in Fig. 7.20c. In this analysis, \\( r_{o} \\) is neglected, and the output signal \\( i_{o} \\) is taken as the output of the \\( g_{m} \\) controlled source. The approximate output voltage \\( v_{o} \\) is derived by assuming \\( i_{o} \\) flows in the parallel combination of \\( R_{L} \\) and \\( C_{f} \\).\n\nThe circuit analysis in Fig. 7.20c proceeds by applying KCL at node \\( W \\), ignoring \\( R_{S} \\):\n\n\\[\n\\begin{equation*}\ni_{i}+\\frac{v_{1}}{z_{\\text {in }}}+g_{m} v_{1}=0 \\tag{7.75}\n\\end{equation*}\n\\]\n\nwhere\n\n\\[\n\\begin{equation*}\nz_{\\text {in }}=\\frac{r_{\\mathrm{in}}}{1+s C_{\\mathrm{in}} r_{\\text {in }}} \\tag{7.76}\n\\end{equation*}\n\\]\n\nFrom (7.75) and (7.76):\n\n\\[\n\\begin{equation*}\ni_{i}=-v_{1}\\left(g_{m}+\\frac{1}{r_{\\mathrm{in}}}+s C_{\\mathrm{in}}\\right) \\tag{7.77}\n\\end{equation*}\n\\]\n\nNow,\n\n\\[\n\\begin{equation*}\ni_{o}=-g_{m} v_{1} \\tag{7.78}\n\\end{equation*}\n\\]\n\nSubstituting (7.77) into (7.78) yields:\n\n\\[\n\\begin{equation*}\n\\frac{i_{o}}{i_{i}}=\\frac{g_{m} r_{\\mathrm{in}}}{g_{m} r_{\\mathrm{in}}+1} \\frac{1}{1+s \\frac{r_{\\mathrm{in}}}{g_{m} r_{\\mathrm{in}}+1} C_{\\mathrm{in}}} \\tag{7.79}\n\\end{equation*}\n\\]\n\n### 7.2.4.1 Common-Base Amplifier Frequency Response\n\nThe small-signal circuit for the common-base (CB) amplifier in Fig. 7.20a is shown in Fig. 7.21. Substituting the values from Table 7.1 into (7.79) gives the current gain:\n\n\\[\n\\begin{equation*}\n\\frac{i_{o}}{i_{i}}=\\frac{g_{m} r_{\\pi}}{g_{m} r_{\\pi}+1} \\frac{1}{1+s \\frac{r_{\\pi}}{g_{m} r_{\\pi}+1} C_{\\pi}} \\tag{7.80}\n\\end{equation*}\n\\]\n\nUsing \\( \\beta_{0}=g_{m} r_{\\pi} \\) and assuming \\( \\beta_{0} \\gg 1 \\), (7.80) simplifies to:\n\n\\[\n\\begin{equation*}\n\\frac{i_{o}}{i_{i}} \\approx \\frac{\\beta_{0}}{\\beta_{0}+1} \\frac{1}{1+s \\frac{C_{\\pi}}{g_{m}}}=\\alpha_{0} \\frac{1}{1+s \\frac{C_{\\pi}}{g_{m}}} \\tag{7.81}\n\\end{equation*}\n\\]\n\nwhere \\( \\alpha_{0}=\\beta_{0} /\\left(\\beta_{0}+1\\right) \\). This analysis indicates that the CB stage current gain has a low-frequency value of \\( \\alpha_{0} \\approx 1 \\) and a pole at \\( p_{1}=-g_{m} / C_{\\pi} \\approx-\\omega_{T} \\). The CB stage is thus a wideband unity-current gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_{i} \\) and \\( v_{o} \\) in the CB stage is zero at low frequencies, as seen from the polarities in Fig. 7.20a. This contrasts with the common-emitter stage of Fig. 7.2a, which exhibits a \\( 180^{\\circ} \\) phase shift at low frequencies.\n\nIf the desired output is the current through \\( R_{L} \\), then \\( C_{\\mu} \\) and \\( R_{L} \\) form a current divider from \\( i_{o} \\) to this desired current (assuming \\( C_{\\mu} \\) is in parallel with \\( R_{L} \\) due to the small \\( r_{b} \\)). Including this current divider introduces an additional pole \\( p_{2}=-1 / R_{L} C_{\\mu} \\) in the transfer function.\n\nComparing Fig. 7.20a with Fig. 7.13a shows that the input impedance of the common-base stage matches the output impedance of the emitter follower with \\( R_{S}=0 \\). Thus, the common-base stage input impedance is low at low frequencies and becomes inductive at high frequencies for collector bias currents exceeding several hundred microamperes. As detailed in Chapter 3, the output resistance of the common-base stage at low frequencies with large \\( R_{S} \\) is approximately \\( \\beta_{0} r_{o} \\), which is extremely large. At high frequencies, the output impedance is capacitive and dominated by \\( C_{\\mu} \\) (and \\( C_{c s} \\) for npn transistors).\n\nUnlike the common-emitter stage, where \\( C_{\\mu} \\) undergoes Miller multiplication, the common-base stage lacks a feedback capacitance from collector to emitter, mitigating the Miller effect. Consequently, the impact of large \\( R_{L} \\) values on the frequency response of the common-base stage is significantly less than in the common-emitter stage.\n\n### 7.2.4.2 Common-Gate Amplifier Frequency Response\n\nThe small-signal circuit for the common-gate (CG) amplifier in Fig. 7.20b is shown in Fig. 7.22. One element not present in the general model in Fig. 7.20c is the \\( g_{m b} \\) generator. Since \\( v_{b s}=v_{g s} \\) and the \\( g_{m} \\) and \\( g_{m b} \\) generators are in parallel, these controlled sources can be combined. Additionally, capacitors \\( C_{g b}, C_{d b} \\), and \\( C_{s b} \\) are excluded from the general model. Here, \\( C_{g b} \\) is shorted and can be disregarded. Capacitance \\( C_{d b} \\) parallels \\( R_{L} \\) and can be ignored if the output variable of interest is the current \\( i_{o} \\). Capacitance \\( C_{s b} \\) appears in parallel with \\( C_{g s} \\) in the small-signal circuit since both the body and gate connect to small-signal ground. Using the combined transconductance and input capacitance values from Table 7.1 in (7.79) yields:\n\n\\[\n\\begin{equation*}\n\\frac{i_{o}}{i_{i}}=\\frac{1}{1+s \\frac{C_{g s}+C_{s b}}{g_{m}+g_{m b}}} \\tag{7.82}\n\\end{equation*}\n\\]\n\nFrom this equation, the current gain of the common-gate stage has a low-frequency value of unity and a pole at \\( p_{1}=-\\left(g_{m}+g_{m b}\\right) /\\left(C_{g s}+C_{s b}\\right) \\). If \\( C_{g s} \\gg C_{s b} \\), then \\( \\left|p_{1}\\right| \\approx\\left(g_{m}+\\right.\\left.g_{m b}\\right) / C_{g s}>g_{m} / C_{g s} \\approx \\omega_{T} \\). The CG stage is thus a wideband unity-current-gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_{i} \\) and \\( v_{o} \\) in the CG stage is zero at low frequencies, as observed in Fig. 7.20b. This contrasts with the common-source stage of Fig. 7.2b, which exhibits a \\( 180^{\\circ} \\) phase shift at low frequencies.\n\nIf the desired output is the current through \\( R_{L} \\), then \\( C_{d b}, C_{g d} \\), and \\( R_{L} \\) form a current divider from \\( i_{o} \\) to this desired current. Including this current divider introduces an additional pole \\( p_{2}=-1 / R_{L}\\left(C_{d b}+C_{g d}\\right) \\) in the transfer function.\n\n**Figure 7.21:**\n- **Description:** \n  - **Current Source (i_i):** Type: CurrentSource, Ports: {Np: E, Nn: GND}\n  - **Resistor (R_S):** Type: Resistor, Value: R_S, Ports: {N1: E, N2: GND}\n  - **Resistor (r_π):** Type: Resistor, Value: r_π, Ports: {N1: E, N2: B}\n  - **Capacitor (C_π):** Type: Capacitor, Value: C_π, Ports: {Np: E, Nn: B}\n  - **Capacitor (C_μ):** Type: Capacitor, Value: C_μ, Ports: {Np: Vo, Nn: \"B\"}\n  - **Resistor (r_b):** Type: Resistor, Value: r_b, Ports: {N1: \"B\", N2: B}\n  - **Resistor (R_L):** Type: Resistor, Value: R_L, Ports: {N1: Vo, N2: GND}\n- **Extrainfo:** This circuit is a small-signal model for a common-base amplifier. The input current source \\( i_i \\) flows from node E to ground. Resistors \\( R_S \\) and \\( r_π \\) are connected at node E, with \\( r_π \\) also connecting to node B. Capacitor \\( C_π \\) is parallel to \\( r_π \\). The output current source \\( i_o \\) is connected to node Vo. Capacitor \\( C_μ \\) and resistor \\( R_L \\) form a current divider at node Vo. Resistor \\( r_b \\) connects nodes B and B'.\n\n**Figure 7.22:**\n- **Description:** \n  - **Current Source (I1):** Type: CurrentSource, Value: I1, Ports: {Np: S, Nn: GND}\n  - **Resistor (RS):** Type: Resistor, Value: RS, Ports: {N1: S, N2: GND}\n  - **Capacitor (Cgs+Cs):** Type: Capacitor, Value: Cgs+Cs, Ports: {Np: G(GND), Nn: S}\n  - **Voltage-Controlled Current Source (gmv1):** Type: VoltageControlledCurrentSource, Value: gmv1, Ports: {Np: S, Nn: Vo}\n  - **Voltage-Controlled Current Source (gmbv1):** Type: VoltageControlledCurrentSource, Value: gmbv1, Ports: {Np: S, Nn: Vo}\n  - **Capacitor (Cgd):** Type: Capacitor, Value: Cgd, Ports: {Np: Vo, Nn: G}\n  - **Resistor (RL):** Type: Resistor, Value: RL, Ports: {N1: Vo, N2: GND}\n- **Extrainfo:** This circuit is a small-signal model for a common-gate amplifier. It includes a current source, resistors, capacitors, and voltage-controlled current sources. The input current is divided among components, and the circuit introduces an additional pole in the transfer function due to the current divider formed by \\( Cgd \\) and \\( RL \\).\n\n**Figure 7.22:**\n- Small-signal model for the common-gate circuit in Fig. 7.20b.\n\nUnlike the common-source stage, where \\( C_{g d} \\) is Miller multiplied, the common-gate stage lacks a feedback capacitance from drain to source, thus avoiding the Miller effect. Consequently, the influence of large \\( R_{L} \\) values on the frequency response of the common-gate stage is significantly less than in the common-source stage."
},
{
    "text": "The common-base (CB) and common-gate (CG) amplifier configurations are depicted in AC schematic form in Fig. 7.20. These stages exhibit low input impedance, high output impedance, roughly unity current gain, and extensive bandwidth. They are utilized in wideband applications and scenarios necessitating low input impedance. As outlined in Chapter 1, the bipolar transistor's breakdown voltage is maximized in this setup. The amalgamation of these traits and the wideband characteristic renders CB stages advantageous in high-voltage wideband output stages driving oscilloscope deflection plates.\n\nImage Description (a):\n- **Components:**\n  - **Voltage Source (Vi):** Identified as \\( v_i \\), providing the initial signal.\n  - **Resistor (RS):** Connected to the input, limiting current and setting input impedance.\n  - **NPN Transistor (Q0):** Acts as the amplification device, grounded at the base.\n  - **Resistor (RL):** Connected to the output node, defining output impedance.\n- **Extra Info:** This is a common-base amplifier configuration using an NPN transistor, with input applied to the emitter and output taken from the collector, designed for low input and high output impedance.\n\nImage Description (b):\n- **Components:**\n  - **Voltage Source (Vi):** Labeled \\( v_i \\), supplying the initial signal.\n  - **Resistor (RS):** Linked to the input, controlling current and input impedance.\n  - **NMOS Transistor (M0):** Functions as the amplification device, grounded at the gate.\n  - **Resistor (RL):** Attached to the output node, influencing output impedance.\n- **Extra Info:** This circuit is a common-gate amplifier configuration using an NMOS transistor, characterized by low input and high output impedance, suitable for wideband applications.\n\nImage Description (c):\n- **General Model for CB and CG Amplifiers:**\n  - **Input Source (Vi):** The voltage source \\( v_i \\) providing the initial signal.\n  - **Source Resistor (Rs):** Connected to the input, limiting current and setting input impedance.\n  - **Transistor (Qo):** The central amplification device, either a BJT or FET, grounded at the base or gate.\n  - **Output Node (Vo):** Where the amplified output is taken.\n  - **Load Resistor (RL):** Connected to the output node, defining output impedance.\n- **Flow of Information:**\n  - The input signal \\( v_i \\) is applied across \\( R_S \\) and enters the transistor \\( Q_0 \\).\n  - The transistor amplifies the current, maintaining near-unity current gain, delivering the signal to the output node \\( v_o \\).\n  - The output signal \\( v_o \\) is then taken across the load resistor \\( R_L \\).\n- **Overall System Function:** Acts as a current buffer with low input impedance, high output impedance, and wide bandwidth, ideal for driving low impedance loads.\n\nFigure 7.20:\n- (a) AC schematic of a common-base amplifier.\n- (b) AC schematic of a common-gate amplifier.\n- (c) General model for both amplifiers.\n\nA small-signal equivalent circuit, shown in Fig. 7.20c, models both CB and CG stages using a general small-signal model. The input voltage source and source resistance are represented by a Norton equivalent. Resistance \\( R_S \\) is neglected due to the amplifier's low input impedance. If \\( r_x \\) is small, \\( C_f \\) shunts \\( R_L \\), as depicted in Fig. 7.20c. In this analysis, \\( r_o \\) is disregarded, and the output signal \\( i_o \\) is taken as the output of the \\( g_m \\) controlled source. The approximate output voltage \\( v_o \\) is derived by assuming \\( i_o \\) flows in the parallel combination of \\( R_L \\) and \\( C_f \\).\n\nAnalyzing the circuit in Fig. 7.20c involves applying KCL at node \\( W \\), neglecting \\( R_S \\):\n\n\\[\n\\begin{equation*}\ni_i + \\frac{v_1}{z_{\\text{in}}} + g_m v_1 = 0 \\tag{7.75}\n\\end{equation*}\n\\]\n\nwhere\n\n\\[\n\\begin{equation*}\nz_{\\text{in}} = \\frac{r_{\\mathrm{in}}}{1 + s C_{\\mathrm{in}} r_{\\text{in}}} \\tag{7.76}\n\\end{equation*}\n\\]\n\nFrom (7.75) and (7.76):\n\n\\[\n\\begin{equation*}\ni_i = -v_1 \\left(g_m + \\frac{1}{r_{\\mathrm{in}}} + s C_{\\mathrm{in}}\\right) \\tag{7.77}\n\\end{equation*}\n\\]\n\nNow,\n\n\\[\n\\begin{equation*}\ni_o = -g_m v_1 \\tag{7.78}\n\\end{equation*}\n\\]\n\nSubstituting (7.77) into (7.78) yields:\n\n\\[\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{g_m r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} \\frac{1}{1 + s \\frac{r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} C_{\\mathrm{in}}} \\tag{7.79}\n\\end{equation*}\n\\]\n\n#### 7.2.4.1 Common-Base Amplifier Frequency Response\n\nThe small-signal circuit for the common-base amplifier in Fig. 7.20a is shown in Fig. 7.21. Substituting values from Table 7.1 into (7.79) gives the current gain:\n\n\\[\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{g_m r_{\\pi}}{g_m r_{\\pi} + 1} \\frac{1}{1 + s \\frac{r_{\\pi}}{g_m r_{\\pi} + 1} C_{\\pi}} \\tag{7.80}\n\\end{equation*}\n\\]\n\nUsing \\( \\beta_0 = g_m r_{\\pi} \\) and assuming \\( \\beta_0 \\gg 1 \\), (7.80) simplifies to:\n\n\\[\n\\begin{equation*}\n\\frac{i_o}{i_i} \\approx \\frac{\\beta_0}{\\beta_0 + 1} \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} = \\alpha_0 \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} \\tag{7.81}\n\\end{equation*}\n\\]\n\nwhere \\( \\alpha_0 = \\beta_0 / (\\beta_0 + 1) \\). This analysis indicates that the CB stage has a low-frequency current gain of \\( \\alpha_0 \\approx 1 \\) and a pole at \\( p_1 = -g_m / C_{\\pi} \\approx -\\omega_T \\). The CB stage is thus a wideband unity-current gain amplifier with low input and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) in the CB stage is zero at low frequencies, contrasting the common-emitter stage, which has a \\( 180^\\circ \\) phase shift.\n\nIf the desired output is the current through \\( R_L \\), \\( C_{\\mu} \\) and \\( R_L \\) form a current divider from \\( i_o \\) to this current. This introduces an additional pole \\( p_2 = -1 / R_L C_{\\mu} \\) in the transfer function.\n\nComparing Fig. 7.20a with Fig. 7.13a shows that the common-base stage's input impedance is the same as the emitter follower's output impedance with \\( R_S = 0 \\). Thus, the common-base stage's input impedance is low at low frequencies and becomes inductive at high frequencies for collector bias currents over several hundred microamperes. As shown in Chapter 3, the output resistance at low frequencies with large \\( R_S \\) is approximately \\( \\beta_0 r_o \\), which is very large. At high frequencies, the output impedance is capacitive, dominated by \\( C_{\\mu} \\) (and \\( C_{cs} \\) for NPN transistors).\n\nUnlike the common-emitter stage, where \\( C_{\\mu} \\) is Miller multiplied, the common-base stage lacks feedback capacitance from collector to emitter, minimizing the Miller effect. Consequently, the impact of large \\( R_L \\) values on the frequency response is significantly less in the common-base stage.\n\n#### 7.2.4.2 Common-Gate Amplifier Frequency Response\n\nThe small-signal circuit for the common-gate amplifier in Fig. 7.20b is shown in Fig. 7.22. This circuit includes a \\( g_{mb} \\) generator not present in the general model. Since \\( v_{bs} = v_{gs} \\) and the \\( g_m \\) and \\( g_{mb} \\) generators are in parallel, they can be combined. Capacitors \\( C_{gb}, C_{db}, \\) and \\( C_{sb} \\) are not in the general model. Here, \\( C_{gb} \\) is shorted and ignored, \\( C_{db} \\) parallels \\( R_L \\) and can be ignored if the output variable is \\( i_o \\), and \\( C_{sb} \\) parallels \\( C_{gs} \\) in the small-signal circuit. Using the combined transconductance and input capacitance values from Table 7.1 in (7.79) gives:\n\n\\[\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{1}{1 + s \\frac{C_{gs} + C_{sb}}{g_m + g_{mb}}} \\tag{7.82}\n\\end{equation*}\n\\]\n\nThis equation shows the common-gate stage has a low-frequency current gain of unity and a pole at \\( p_1 = -\\left(g_m + g_{mb}\\right) / \\left(C_{gs} + C_{sb}\\right) \\). If \\( C_{gs} \\gg C_{sb} \\), then \\( \\left|p_1\\right| \\approx \\left(g_m + g_{mb}\\right) / C_{gs} > g_m / C_{gs} \\approx \\omega_T \\). The CG stage is thus a wideband unity-current-gain amplifier with low input and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) is zero at low frequencies, unlike the common-source stage, which has a \\( 180^\\circ \\) phase shift.\n\nIf the desired output is the current through \\( R_L \\), \\( C_{db}, C_{gd}, \\) and \\( R_L \\) form a current divider from \\( i_o \\). This introduces an additional pole \\( p_2 = -1 / R_L \\left(C_{db} + C_{gd}\\right) \\) in the transfer function.\n\nFigure 7.22:\n- **Components:**\n  - **Current Source (I1):** Identified as \\( I1 \\), flowing from node S to ground.\n  - **Resistor (RS):** Connected to node S, controlling current and input impedance.\n  - **Capacitor (Cgs+Cs):** Combined capacitance, connected between ground and node S.\n  - **Voltage-Controlled Current Sources (gmv1, gmbv1):** In parallel, sourcing current from node S to Vo.\n  - **Capacitor (Cgd):** Connected between Vo and ground.\n  - **Resistor (RL):** Attached to Vo, influencing output impedance.\n- **Extra Info:** This is a small-signal model for a common-gate amplifier, including components that introduce an additional pole in the transfer function due to the current divider formed by Cgd and RL.\n\nUnlike the common-source stage, where \\( C_{gd} \\) is Miller multiplied, the common-gate stage lacks feedback capacitance from drain to source, reducing the Miller effect. Thus, the impact of large \\( R_L \\) values on the frequency response is much less in the common-gate stage."
},
{
    "text": "The common-base (CB) and common-gate (CG) amplifier configurations are depicted in AC schematic form in Fig. 7.20. These stages exhibit low input impedance, high output impedance, roughly unity current gain, and extensive bandwidth. They are utilized in wideband applications and scenarios necessitating low input impedance. As outlined in Chapter 1, the bipolar transistor's breakdown voltage is maximized in this setup. The amalgamation of these traits and the wideband capability renders CB stages valuable in high-voltage wideband output stages driving oscilloscope deflection plates.\n\n### Image Descriptions:\n#### (a)\n**Description:**\n- **Voltage Source (Vi):** Denoted as \\( v_i \\), providing the initial signal.\n- **Resistor (RS):** Connected to the input, limiting current and setting input impedance.\n- **NPN Transistor (Q0):** Acts as the amplification device, grounded at the base.\n- **Resistor (RL):** Connected to the output node, defining output impedance.\n\n**Extra Info:** This is a common-base amplifier using an NPN transistor, with input at the emitter and output at the collector, designed for low input and high output impedance.\n\n#### (b)\n**Description:**\n- **Voltage Source (Vi):** Labeled \\( v_i \\), supplying the initial signal.\n- **Resistor (RS):** Connected to the input, controlling current and input impedance.\n- **NMOS Transistor (M0):** Functions as the amplification device, grounded at the gate.\n- **Resistor (RL):** Linked to the output node, influencing output impedance.\n\n**Extra Info:** This circuit is a common-gate amplifier using an NMOS transistor, characterized by low input and high output impedance, suitable for wideband applications.\n\n#### (c)\n**Description:** The diagram labeled (c) illustrates a general model for both CB and CG amplifiers, comprising:\n1. **Input Source (Vi):** The initial signal source, \\( v_i \\).\n2. **Source Resistor (Rs):** Connected to the input, limiting current and influencing input impedance.\n3. **Transistor (Qo):** The central amplification device, either a BJT or FET, grounded at the base or gate.\n4. **Output Node (Vo):** Where the amplified signal is obtained.\n5. **Load Resistor (RL):** Connected to the output, affecting output impedance and voltage gain.\n\n**Flow of Information:**\n- The input signal \\( v_i \\) is applied across \\( R_S \\) and enters the transistor \\( Q_0 \\).\n- The transistor amplifies the current, maintaining near-unity current gain, delivering the signal to \\( v_o \\).\n- The output signal \\( v_o \\) is taken across \\( R_L \\).\n\n**Overall System Function:** This model acts as a current buffer with low input impedance, high output impedance, and wide bandwidth, ideal for driving low impedance loads efficiently.\n\n### Figure Descriptions:\n- **Fig. 7.20 (a):** AC schematic of a common-base amplifier.\n- **Fig. 7.20 (b):** AC schematic of a common-gate amplifier.\n- **Fig. 7.20 (c):** General model for both amplifiers.\n\nA small-signal equivalent circuit, applicable to both CB and CG stages, is shown in Fig. 7.20c. The input voltage source and source resistance are represented by a Norton equivalent. Resistance \\( R_S \\) is disregarded in the analysis due to the amplifier's low input impedance. If \\( r_x \\) is small, \\( C_f \\) shunts \\( R_L \\), as depicted in Fig. 7.20c. In this analysis, \\( r_o \\) is neglected, and \\( i_o \\) is considered the output of the \\( g_m \\) controlled source. The approximate output voltage \\( v_o \\) is derived by assuming \\( i_o \\) flows in the parallel combination of \\( R_L \\) and \\( C_f \\).\n\n### Circuit Analysis:\nApplying KCL at node \\( W \\) and neglecting \\( R_S \\):\n\n\\[ i_i + \\frac{v_1}{z_{\\text{in}}} + g_m v_1 = 0 \\tag{7.75} \\]\n\nwhere\n\n\\[ z_{\\text{in}} = \\frac{r_{\\mathrm{in}}}{1 + s C_{\\mathrm{in}} r_{\\text{in}}} \\tag{7.76} \\]\n\nFrom (7.75) and (7.76):\n\n\\[ i_i = -v_1 \\left(g_m + \\frac{1}{r_{\\mathrm{in}}} + s C_{\\mathrm{in}}\\right) \\tag{7.77} \\]\n\nNow,\n\n\\[ i_o = -g_m v_1 \\tag{7.78} \\]\n\nSubstituting (7.77) into (7.78) yields:\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} \\frac{1}{1 + s \\frac{r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} C_{\\mathrm{in}}} \\tag{7.79} \\]\n\n### 7.2.4.1 Common-Base Amplifier Frequency Response:\nThe small-signal circuit for the CB amplifier in Fig. 7.20a is shown in Fig. 7.21. Using values from Table 7.1 in (7.79), the current gain is:\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m r_{\\pi}}{g_m r_{\\pi} + 1} \\frac{1}{1 + s \\frac{r_{\\pi}}{g_m r_{\\pi} + 1} C_{\\pi}} \\tag{7.80} \\]\n\nWith \\( \\beta_0 = g_m r_{\\pi} \\) and assuming \\( \\beta_0 \\gg 1 \\), (7.80) simplifies to:\n\n\\[ \\frac{i_o}{i_i} \\approx \\frac{\\beta_0}{\\beta_0 + 1} \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} = \\alpha_0 \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} \\tag{7.81} \\]\n\nwhere \\( \\alpha_0 = \\beta_0 / (\\beta_0 + 1) \\). This indicates the CB stage has a low-frequency current gain of \\( \\alpha_0 \\approx 1 \\) and a pole at \\( p_1 = -g_m / C_{\\pi} \\approx -\\omega_T \\). The CB stage is thus a wideband unity-current gain amplifier with low input and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) is zero at low frequencies, unlike the common-emitter stage, which has a \\( 180^\\circ \\) phase shift.\n\nIf the desired output is the current through \\( R_L \\), \\( C_{\\mu} \\) and \\( R_L \\) form a current divider, introducing an additional pole \\( p_2 = -1 / R_L C_{\\mu} \\).\n\nThe common-base stage's input impedance is low at low frequencies and inductive at high frequencies for collector bias currents over several hundred microamperes. The output resistance at low frequencies with large \\( R_S \\) is approximately \\( \\beta_0 r_o \\), extremely high. At high frequencies, the output impedance is capacitive, dominated by \\( C_{\\mu} \\) (and \\( C_{cs} \\) for npn transistors).\n\nUnlike the common-emitter stage, the CB stage lacks a feedback capacitance from collector to emitter, minimizing the Miller effect. Thus, the impact of large \\( R_L \\) on the frequency response is less significant in the CB stage.\n\n### 7.2.4.2 Common-Gate Amplifier Frequency Response:\nThe small-signal circuit for the CG amplifier in Fig. 7.20b is shown in Fig. 7.22. The \\( g_{mb} \\) generator is unique to this circuit. Since \\( v_{bs} = v_{gs} \\), the \\( g_m \\) and \\( g_{mb} \\) generators can be combined. Capacitors \\( C_{gb}, C_{db}, \\) and \\( C_{sb} \\) are not in the general model. Here, \\( C_{gb} \\) is shorted, and \\( C_{db} \\) parallels \\( R_L \\), negligible if the output is \\( i_o \\). \\( C_{sb} \\) parallels \\( C_{gs} \\) in the small-signal circuit. Using combined transconductance and input capacitance values in (7.79):\n\n\\[ \\frac{i_o}{i_i} = \\frac{1}{1 + s \\frac{C_{gs} + C_{sb}}{g_m + g_{mb}}} \\tag{7.82} \\]\n\nThis equation shows the CG stage has a low-frequency current gain of unity and a pole at \\( p_1 = -\\left(g_m + g_{mb}\\right) / \\left(C_{gs} + C_{sb}\\right) \\). If \\( C_{gs} \\gg C_{sb} \\), \\( \\left|p_1\\right| \\approx \\left(g_m + g_{mb}\\right) / C_{gs} > g_m / C_{gs} \\approx \\omega_T \\). The CG stage is a wideband unity-current-gain amplifier with low input and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) is zero at low frequencies, unlike the common-source stage, which has a \\( 180^\\circ \\) phase shift.\n\nIf the desired output is the current through \\( R_L \\), \\( C_{db}, C_{gd}, \\) and \\( R_L \\) form a current divider, introducing an additional pole \\( p_2 = -1 / R_L \\left(C_{db} + C_{gd}\\right) \\).\n\nUnlike the common-source stage, the CG stage lacks a feedback capacitance from drain to source, minimizing the Miller effect. Thus, the impact of large \\( R_L \\) on the frequency response is less significant in the CG stage."
},
{
    "text": "The common-base (CB) and common-gate (CG) amplifier configurations are depicted in AC schematic form in Fig. 7.20. These stages exhibit low input impedance, high output impedance, roughly unity current gain, and extensive bandwidth. They are utilized in wideband applications and scenarios necessitating low input impedance. As detailed in Chapter 1, the bipolar transistor breakdown voltage is maximized in this configuration. The amalgamation of these properties and the wideband trait renders CB stages advantageous in high-voltage wideband output stages driving oscilloscope deflection plates.\n\nAn image description for (a):\n- **Components:**\n  - **Voltage Source (Vi):** Labeled \\( v_i \\), providing the initial signal.\n  - **Resistor (RS):** Labeled \\( R_S \\), connected to the input source, limiting current and setting input impedance.\n  - **NPN Transistor (Q0):** Labeled \\( Q_0 \\), serving as the amplification device, grounded at the base.\n  - **Resistor (RL):** Labeled \\( R_L \\), connected to the output node, defining output impedance.\n- **Extra Info:** This is a common-base amplifier using an NPN transistor, with input at the emitter and output at the collector, designed for low input and high output impedance.\n\nAn image description for (b):\n- **Components:**\n  - **Voltage Source (Vi):** Labeled \\( v_i \\), providing the initial signal.\n  - **Resistor (RS):** Labeled \\( R_S \\), connected to the input source.\n  - **NMOS Transistor (M0):** Labeled \\( M_0 \\), with source connected to \\( s_0 \\), drain to \\( V_o \\), and gate grounded.\n  - **Resistor (RL):** Labeled \\( R_L \\), connected to the output node.\n- **Extra Info:** This is a common-gate amplifier using an NMOS transistor, featuring low input and high output impedance, suitable for wideband applications.\n\nAn image description for (c):\n- **General Model Components:**\n  1. **Input Source (Vi):** Labeled \\( v_i \\), supplying the initial signal.\n  2. **Source Resistor (Rs):** Labeled \\( R_S \\), connected to the input source, limiting current and influencing input impedance.\n  3. **Transistor (Qo):** Labeled \\( Q_0 \\), acting as the amplification device, grounded at the base (or gate for FETs).\n  4. **Output Node (Vo):** Labeled \\( v_o \\), where the amplified output is taken.\n  5. **Load Resistor (RL):** Labeled \\( R_L \\), connected to the output node, affecting voltage gain and output impedance.\n- **Flow of Information:**\n  - The input signal \\( v_i \\) is applied across \\( R_S \\) and enters the transistor \\( Q_0 \\).\n  - The transistor amplifies the current, maintaining near-unity current gain, delivering the amplified signal to \\( v_o \\).\n  - The output signal \\( v_o \\) is taken across \\( R_L \\).\n- **Overall System Function:** This model acts as a current buffer with low input impedance, high output impedance, and wide bandwidth, ideal for applications requiring these traits. It ensures efficient current transfer with minimal voltage gain but high current gain, suitable for driving low impedance loads.\n\nFigure 7.20:\n- (a) AC schematic of a common-base amplifier.\n- (b) AC schematic of a common-gate amplifier.\n- (c) General model for both amplifiers.\n\nA small-signal equivalent circuit, applicable to both CB and CG stages, is shown in Fig. 7.20c. The input voltage source and source resistance are represented by a Norton equivalent. Resistance \\( R_S \\) is disregarded in the analysis due to the amplifier's low input impedance. If \\( r_x \\) is small, \\( C_f \\) simply shunts \\( R_L \\), as depicted in Fig. 7.20c. In this analysis, \\( r_o \\) is neglected, and the output signal \\( i_o \\) is taken as the output of the \\( g_m \\) controlled source. The approximate output voltage \\( v_o \\) is derived by assuming \\( i_o \\) flows in the parallel combination of \\( R_L \\) and \\( C_f \\).\n\nThe circuit analysis in Fig. 7.20c proceeds by applying KCL at node \\( W \\), neglecting \\( R_S \\):\n\n$$\n\\begin{equation*}\ni_i + \\frac{v_1}{z_{\\text{in}}} + g_m v_1 = 0 \\tag{7.75}\n\\end{equation*}\n$$\n\nwhere\n\n$$\n\\begin{equation*}\nz_{\\text{in}} = \\frac{r_{\\mathrm{in}}}{1 + s C_{\\mathrm{in}} r_{\\text{in}}} \\tag{7.76}\n\\end{equation*}\n$$\n\nFrom (7.75) and (7.76):\n\n$$\n\\begin{equation*}\ni_i = -v_1 \\left(g_m + \\frac{1}{r_{\\mathrm{in}}} + s C_{\\mathrm{in}}\\right) \\tag{7.77}\n\\end{equation*}\n$$\n\nNow,\n\n$$\n\\begin{equation*}\ni_o = -g_m v_1 \\tag{7.78}\n\\end{equation*}\n$$\n\nSubstituting (7.77) into (7.78) yields:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{g_m r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} \\frac{1}{1 + s \\frac{r_{\\mathrm{in}}}{g_m r_{\\mathrm{in}} + 1} C_{\\mathrm{in}}} \\tag{7.79}\n\\end{equation*}\n$$\n\n#### 7.2.4.1 Common-Base Amplifier Frequency Response\n\nThe small-signal circuit for the common-base (CB) amplifier in Fig. 7.20a is shown in Fig. 7.21. Substituting values from Table 7.1 into (7.79) gives the current gain:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{g_m r_{\\pi}}{g_m r_{\\pi} + 1} \\frac{1}{1 + s \\frac{r_{\\pi}}{g_m r_{\\pi} + 1} C_{\\pi}} \\tag{7.80}\n\\end{equation*}\n$$\n\nUsing \\( \\beta_0 = g_m r_{\\pi} \\) and assuming \\( \\beta_0 \\gg 1 \\), (7.80) simplifies to:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} \\approx \\frac{\\beta_0}{\\beta_0 + 1} \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} = \\alpha_0 \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} \\tag{7.81}\n\\end{equation*}\n$$\n\nwhere \\( \\alpha_0 = \\beta_0 / (\\beta_0 + 1) \\). This analysis indicates that the CB stage current gain has a low-frequency value of \\( \\alpha_0 \\approx 1 \\) and a pole at \\( p_1 = -g_m / C_{\\pi} \\approx -\\omega_T \\). The CB stage is thus a wideband unity-current gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) in the CB stage is zero at low frequencies, as seen from the polarities in Fig. 7.20a. This contrasts with the common-emitter stage in Fig. 7.2a, which exhibits a \\( 180^\\circ \\) phase shift at low frequencies.\n\nIf the desired output is the current through \\( R_L \\), then \\( C_{\\mu} \\) and \\( R_L \\) form a current divider from \\( i_o \\) to this desired current (assuming \\( C_{\\mu} \\) is in parallel with \\( R_L \\) due to the small \\( r_b \\)). Including this current divider introduces an additional pole \\( p_2 = -1 / R_L C_{\\mu} \\) in the transfer function.\n\nComparing Fig. 7.20a with Fig. 7.13a reveals that the input impedance of the common-base stage matches the output impedance of the emitter follower with \\( R_S = 0 \\). Thus, the common-base stage input impedance is low at low frequencies and becomes inductive at high frequencies for collector bias currents exceeding several hundred microamperes. As shown in Chapter 3, the output resistance of the common-base stage at low frequencies with large \\( R_S \\) is approximately \\( \\beta_0 r_o \\), which is extremely large. At high frequencies, the output impedance is capacitive and dominated by \\( C_{\\mu} \\) (and \\( C_{cs} \\) for NPN transistors).\n\nUnlike the common-emitter stage, where \\( C_{\\mu} \\) is Miller multiplied, the common-base stage lacks feedback capacitance from collector to emitter, mitigating the Miller effect. Consequently, the impact of large \\( R_L \\) values on the frequency response of the common-base stage is significantly less than in the common-emitter stage.\n\n#### 7.2.4.2 Common-Gate Amplifier Frequency Response\n\nThe small-signal circuit for the common-gate (CG) amplifier in Fig. 7.20b is shown in Fig. 7.22. One element not present in the general model in Fig. 7.20c is the \\( g_{mb} \\) generator. Since \\( v_{bs} = v_{gs} \\) and the \\( g_m \\) and \\( g_{mb} \\) generators are in parallel, these controlled sources can be combined. Capacitors \\( C_{gb}, C_{db}, \\) and \\( C_{sb} \\) are excluded from the general model. Here, \\( C_{gb} \\) is shorted and ignored, \\( C_{db} \\) is in parallel with \\( R_L \\) and thus ignored if the output variable is \\( i_o \\), and \\( C_{sb} \\) appears in parallel with \\( C_{gs} \\) in the small-signal circuit since both connect to small-signal ground. Using the combined transconductance and input capacitance values from Table 7.1 in (7.79) yields:\n\n$$\n\\begin{equation*}\n\\frac{i_o}{i_i} = \\frac{1}{1 + s \\frac{C_{gs} + C_{sb}}{g_m + g_{mb}}} \\tag{7.82}\n\\end{equation*}\n$$\n\nFrom this equation, the current gain of the common-gate stage has a low-frequency value of unity and a pole at \\( p_1 = -\\left(g_m + g_{mb}\\right) / \\left(C_{gs} + C_{sb}\\right) \\). If \\( C_{gs} \\gg C_{sb} \\), then \\( \\left|p_1\\right| \\approx \\left(g_m + g_{mb}\\right) / C_{gs} > g_m / C_{gs} \\approx \\omega_T \\). The CG stage is thus a wideband unity-current-gain amplifier with low input impedance and high output impedance. The phase shift between \\( v_i \\) and \\( v_o \\) in the CG stage is zero at low frequencies, as seen from the polarities in Fig. 7.20b. This contrasts with the common-source stage in Fig. 7.2b, which exhibits a \\( 180^\\circ \\) phase shift at low frequencies.\n\nIf the desired output is the current through \\( R_L \\), then \\( C_{db}, C_{gd}, \\) and \\( R_L \\) form a current divider from \\( i_o \\) to this desired current. Including this current divider introduces an additional pole \\( p_2 = -1 / R_L \\left(C_{db} + C_{gd}\\right) \\) in the transfer function.\n\nAn image description for Figure 7.21:\n- **Components:**\n  - **Current Source (i_i):** Flows from node E to ground.\n  - **Resistors (R_S, r_π):** Connected at node E, with \\( r_π \\) also connecting to node B.\n  - **Capacitor (C_π):** Parallel to \\( r_π \\).\n  - **Capacitors (C_μ, C_π):** Connected to node Vo.\n  - **Resistor (r_b):** Connects nodes B and B'.\n  - **Resistor (R_L):** Connected to node Vo and ground.\n- **Extra Info:** This is a small-signal model for a common-base amplifier. The input current source flows from node E to ground. Resistors and capacitors are arranged to model the amplifier's behavior, introducing poles in the transfer function.\n\nAn image description for Figure 7.22:\n- **Components:**\n  - **Current Source (I1):** Labeled \\( I_1 \\), connected to node S and ground.\n  - **Resistor (RS):** Labeled \\( R_S \\), connected to node S and ground.\n  - **Capacitor (Cgs+Cs):** Labeled \\( C_{gs} + C_{s} \\), connected between ground and node S.\n  - **Voltage-Controlled Current Sources (gmv1, gmbv1):** Connected to node S and Vo.\n  - **Capacitor (Cgd):** Labeled \\( C_{gd} \\), connected between Vo and ground.\n  - **Resistor (RL):** Labeled \\( R_L \\), connected to Vo and ground.\n- **Extra Info:** This is a small-signal model for a common-gate amplifier. Components include a current source, resistors, capacitors, and voltage-controlled current sources. The input current is divided among components, and the circuit introduces an additional pole in the transfer function due to the current divider formed by \\( C_{gd} \\) and \\( R_L \\).\n\nFigure 7.22 Small-signal model for the common-gate circuit in Fig. 7.20b.\n\nUnlike the common-source stage, where \\( C_{gd} \\) is Miller multiplied, the common-gate stage lacks feedback capacitance from drain to source, mitigating the Miller effect. Consequently, the impact of large \\( R_L \\) values on the frequency response of the common-gate stage is significantly less than in the common-source stage."
},
{
    "text": "The common-base (CB) and common-gate (CG) amplifier configurations are illustrated in AC schematic form in Fig. 7.20. These stages exhibit low input impedance, high output impedance, roughly unity current gain, and extensive bandwidth. They are utilized in wideband applications and scenarios necessitating low input impedance. As outlined in Chapter 1, the bipolar transistor's breakdown voltage is maximized in this configuration. The amalgamation of these properties and the wideband trait renders CB stages beneficial in high-voltage wideband output stages driving oscilloscope deflection plates.\n\nImage Description (a):\n- **Components:**\n  - **Voltage Source (Vi):** Denoted as \\( v_i \\), providing the initial signal.\n  - **Resistor (RS):** Connected to the input, limiting current and setting input impedance.\n  - **NPN Transistor (Q0):** Acts as the amplification device, grounded at the base.\n  - **Resistor (RL):** Connected to the output, defining output impedance.\n- **Extra Info:** This common-base amplifier configuration using an NPN transistor has the input applied to the emitter and the output taken from the collector, designed for low input and high output impedance.\n\nImage Description (b):\n- **Components:**\n  - **Voltage Source (Vi):** Labeled \\( v_i \\), supplying the initial signal.\n  - **Resistor (RS):** Connected to the input, controlling current and input impedance.\n  - **NMOS Transistor (M0):** Functions as the amplification device, grounded at the gate.\n  - **Resistor (RL):** Linked to the output, determining output impedance.\n- **Extra Info:** This common-gate amplifier configuration with an NMOS transistor offers low input and high output impedance, suitable for wideband applications.\n\nImage Description (c):\n- **General Model for CB and CG Amplifiers:**\n  - **Input Source (Vi):** Provides the initial signal, labeled \\( v_i \\).\n  - **Source Resistor (Rs):** Limits current and sets input impedance.\n  - **Transistor (Qo):** Central amplification device, either BJT or FET, grounded at base or gate.\n  - **Output Node (Vo):** Where the amplified output is taken.\n  - **Load Resistor (RL):** Defines output impedance and affects voltage gain.\n- **Flow of Information:**\n  - Input signal \\( v_i \\) applied across \\( R_S \\) enters the transistor \\( Q_0 \\).\n  - Transistor amplifies current with unity gain, delivering the signal to \\( v_o \\).\n  - Output signal \\( v_o \\) is taken across \\( R_L \\).\n- **Overall Function:** Acts as a current buffer with low input impedance, high output impedance, and wide bandwidth, ideal for driving low impedance loads.\n\nFigure 7.20:\n- (a) AC schematic of a common-base amplifier.\n- (b) AC schematic of a common-gate amplifier.\n- (c) General model for both amplifiers.\n\nA small-signal equivalent circuit, depicted in Fig. 7.20c, models both CB and CG stages using a general small-signal model. The input voltage source and source resistance are represented by a Norton equivalent. Resistance \\( R_S \\) is neglected due to the low input impedance. If \\( r_x \\) is small, \\( C_f \\) shunts \\( R_L \\). In this analysis, \\( r_o \\) is neglected, and \\( i_o \\) is the output of the \\( g_m \\) controlled source. The approximate output voltage \\( v_o \\) assumes \\( i_o \\) flows in the parallel combination of \\( R_L \\) and \\( C_f \\).\n\nAnalyzing the circuit in Fig. 7.20c involves applying KCL at node \\( W \\), neglecting \\( R_S \\):\n\n\\[ i_i + \\frac{v_1}{z_{\\text{in}}} + g_m v_1 = 0 \\tag{7.75} \\]\n\nwhere\n\n\\[ z_{\\text{in}} = \\frac{r_{\\text{in}}}{1 + s C_{\\text{in}} r_{\\text{in}}} \\tag{7.76} \\]\n\nFrom (7.75) and (7.76):\n\n\\[ i_i = -v_1 \\left(g_m + \\frac{1}{r_{\\text{in}}} + s C_{\\text{in}}\\right) \\tag{7.77} \\]\n\nNow,\n\n\\[ i_o = -g_m v_1 \\tag{7.78} \\]\n\nSubstituting (7.77) into (7.78) yields:\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m r_{\\text{in}}}{g_m r_{\\text{in}} + 1} \\frac{1}{1 + s \\frac{r_{\\text{in}}}{g_m r_{\\text{in}} + 1} C_{\\text{in}}} \\tag{7.79} \\]\n\n#### 7.2.4.1 Common-Base Amplifier Frequency Response\n\nThe small-signal circuit for the common-base amplifier in Fig. 7.20a is shown in Fig. 7.21. Using values from Table 7.1 in (7.79) gives the current gain:\n\n\\[ \\frac{i_o}{i_i} = \\frac{g_m r_{\\pi}}{g_m r_{\\pi} + 1} \\frac{1}{1 + s \\frac{r_{\\pi}}{g_m r_{\\pi} + 1} C_{\\pi}} \\tag{7.80} \\]\n\nWith \\( \\beta_0 = g_m r_{\\pi} \\) and assuming \\( \\beta_0 \\gg 1 \\), (7.80) simplifies to:\n\n\\[ \\frac{i_o}{i_i} \\approx \\frac{\\beta_0}{\\beta_0 + 1} \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} = \\alpha_0 \\frac{1}{1 + s \\frac{C_{\\pi}}{g_m}} \\tag{7.81} \\]\n\nwhere \\( \\alpha_0 = \\beta_0 / (\\beta_0 + 1) \\). This analysis indicates the CB stage has a low-frequency current gain of \\( \\alpha_0 \\approx 1 \\) and a pole at \\( p_1 = -g_m / C_{\\pi} \\approx -\\omega_T \\). The CB stage is thus a wideband unity-current gain amplifier with low input and high output impedance. At low frequencies, the phase shift between \\( v_i \\) and \\( v_o \\) is zero, unlike the common-emitter stage which has a \\( 180^\\circ \\) phase shift.\n\nIf the desired output is the current through \\( R_L \\), \\( C_{\\mu} \\) and \\( R_L \\) form a current divider, introducing an additional pole \\( p_2 = -1 / R_L C_{\\mu} \\).\n\nThe common-base stage's input impedance is low at low frequencies and inductive at high frequencies for collector bias currents over several hundred microamperes. The output resistance at low frequencies with large \\( R_S \\) is approximately \\( \\beta_0 r_o \\), extremely large. At high frequencies, the output impedance is capacitive, dominated by \\( C_{\\mu} \\) (and \\( C_{cs} \\) for npn transistors).\n\nUnlike the common-emitter stage, the CB stage lacks a feedback capacitance from collector to emitter, minimizing the Miller effect. Thus, the impact of large \\( R_L \\) on the frequency response is less significant in the CB stage.\n\n#### 7.2.4.2 Common-Gate Amplifier Frequency Response\n\nThe small-signal circuit for the common-gate amplifier in Fig. 7.20b is shown in Fig. 7.22. The \\( g_{mb} \\) generator, not present in the general model, combines with the \\( g_m \\) generator since \\( v_{bs} = v_{gs} \\). Capacitors \\( C_{gb}, C_{db}, \\) and \\( C_{sb} \\) are excluded in the general model. Here, \\( C_{gb} \\) is shorted, and \\( C_{db} \\) parallels \\( R_L \\), ignored if the output is \\( i_o \\). \\( C_{sb} \\) parallels \\( C_{gs} \\) since both connect to small-signal ground. Using combined transconductance and input capacitance values in (7.79) results in:\n\n\\[ \\frac{i_o}{i_i} = \\frac{1}{1 + s \\frac{C_{gs} + C_{sb}}{g_m + g_{mb}}} \\tag{7.82} \\]\n\nThe current gain has a low-frequency value of unity and a pole at \\( p_1 = -\\left(g_m + g_{mb}\\right) / \\left(C_{gs} + C_{sb}\\right) \\). If \\( C_{gs} \\gg C_{sb} \\), \\( \\left|p_1\\right| \\approx \\left(g_m + g_{mb}\\right) / C_{gs} > g_m / C_{gs} \\approx \\omega_T \\). The CG stage is a wideband unity-current-gain amplifier with low input and high output impedance. At low frequencies, the phase shift between \\( v_i \\) and \\( v_o \\) is zero, unlike the common-source stage which has a \\( 180^\\circ \\) phase shift.\n\nIf the desired output is the current through \\( R_L \\), \\( C_{db}, C_{gd}, \\) and \\( R_L \\) form a current divider, introducing an additional pole \\( p_2 = -1 / R_L \\left(C_{db} + C_{gd}\\right) \\).\n\nImage Description for Figure 7.21:\n- **Components:**\n  - **Current Source (i_i):** Flows from node E to ground.\n  - **Resistors (R_S, r_π):** Connected at node E, with r_π also to node B.\n  - **Capacitor (C_π):** Parallel to r_π.\n  - **Capacitors (C_μ, C_π):** Connected to node Vo.\n  - **Resistor (r_b):** Connects nodes B and B'.\n  - **Resistor (R_L):** Connected to node Vo.\n- **Extra Info:** This small-signal model for a common-base amplifier includes current sources, resistors, and capacitors, with the input current flowing through various components and introducing additional poles in the transfer function.\n\nImage Description for Figure 7.22:\n- **Components:**\n  - **Current Source (I1):** Value I1, ports Np: S, Nn: GND.\n  - **Resistor (RS):** Value RS, ports N1: S, N2: GND.\n  - **Capacitor (Cgs+Cs):** Value Cgs+Cs, ports Np: G(GND), Nn: S.\n  - **Voltage-Controlled Current Sources (gmv1, gmbv1):** Values gmv1, gmbv1, ports Np: S, Nn: Vo.\n  - **Capacitor (Cgd):** Value Cgd, ports Np: Vo, Nn: G.\n  - **Resistor (RL):** Value RL, ports N1: Vo, N2: GND.\n- **Extra Info:** This small-signal model for a common-gate amplifier includes a current source, resistors, capacitors, and voltage-controlled current sources, with the input current divided among components and an additional pole introduced by the current divider formed by Cgd and RL.\n\nUnlike the common-source stage, the common-gate stage lacks a feedback capacitance from drain to source, minimizing the Miller effect. Consequently, the impact of large \\( R_L \\) on the frequency response is less pronounced in the CG stage."
},
{
    "text": "For any electronic circuit, a transfer function \\( A(s) \\) can be derived through small-signal analysis, resulting in\n\n$$\n\\begin{equation*}\nA(s)=\\frac{N(s)}{D(s)}=\\frac{a_{0}+a_{1} s+a_{2} s^{2}+\\cdots+a_{m} s^{m}}{1+b_{1} s+b_{2} s^{2}+\\cdots+b_{n} s^{n}} \\tag{7.83}\n\\end{equation*}\n$$\n\nwhere \\( a_{0}, a_{1}, \\ldots, a_{m} \\), and \\( b_{1}, b_{2}, \\ldots, b_{n} \\) are constants. Frequently, the transfer function includes only poles (or the zeros are insignificant). In such cases, the denominator of (7.83) can be factored to yield\n\n$$\n\\begin{equation*}\nA(s)=\\frac{K}{\\left(1-\\frac{s}{p_{1}}\\right)\\left(1-\\frac{s}{p_{2}}\\right) \\cdots\\left(1-\\frac{s}{p_{n}}\\right)} \\tag{7.84}\n\\end{equation*}\n$$\n\nwhere \\( K \\) is a constant and \\( p_{1}, p_{2}, \\ldots, p_{n} \\) are the poles of the transfer function. From (7.84), it is evident that\n\n$$\n\\begin{equation*}\nb_{1}=\\sum_{i=1}^{n}\\left(-\\frac{1}{p_{i}}\\right) \\tag{7.85}\n\\end{equation*}\n$$\n\nA significant practical scenario arises when one pole is dominant, meaning\n\n$$\n\\left|p_{1}\\right| \\ll\\left|p_{2}\\right|,\\left|p_{3}\\right|, \\ldots \\quad \\text { so that } \\quad\\left|\\frac{1}{p_{1}}\\right| \\gg\\left|\\sum_{i=2}^{n}\\left(-\\frac{1}{p_{i}}\\right)\\right|\n$$\n\nThis condition is illustrated in the \\( s \\)-plane in Fig. 7.23, leading to the conclusion from (7.85) that\n\n$$\n\\begin{equation*}\nb_{1} \\simeq\\left|\\frac{1}{p_{1}}\\right| \\tag{7.86}\n\\end{equation*}\n$$\n\nReturning to (7.84) and calculating the gain magnitude in the frequency domain, we get\n\n$$\n\\begin{equation*}\n|A(j \\omega)|=\\frac{K}{\\sqrt{\\left[1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}\\right]\\left[1+\\left(\\frac{\\omega}{p_{2}}\\right)^{2}\\right] \\cdots\\left[1+\\left(\\frac{\\omega}{p_{n}}\\right)^{2}\\right]}} \\tag{7.87}\n\\end{equation*}\n$$\n\nimage_name:Figure 7.23\ndescription:Figure 7.23 depicts a pole diagram on the complex \\( s \\)-plane, commonly utilized in control systems and signal processing to represent a system's poles.\n\n1. **Graph Type and Function:**\n- The graph is a pole-zero plot on the complex \\( s \\)-plane.\n- It visualizes the system's poles, crucial for assessing stability and frequency response.\n\n2. **Axes Labels and Units:**\n- The horizontal axis, labeled \\( \\sigma \\), represents the real part of the complex frequency.\n- The vertical axis, labeled \\( j\\omega \\), represents the imaginary part.\n- No specific units are marked, as they denote complex frequency components.\n\n3. **Behavior and Trends:**\n- Poles are plotted along the real axis, indicating they are purely real and negative.\n- This suggests a stable system, with all poles in the left half of the \\( s \\)-plane.\n\n4. **Key Features and Technical Details:**\n- Three poles, \\( p_1, p_2, \\) and \\( p_3 \\), are marked along the real axis.\n- \\( p_1 \\) is identified as the dominant pole due to its closeness to the imaginary axis relative to others.\n- The dominant pole \\( p_1 \\) significantly influences the system's low-frequency behavior and bandwidth.\n\n5. **Annotations and Data Points:**\n- The diagram annotates the pole locations \\( p_1, p_2, \\) and \\( p_3 \\) with crosses.\n- Specific pole values are not provided, but their relative positions indicate their dynamic impact.\n\nFigure 7.23 Pole diagram for a circuit with a dominant pole.\n\nIf a dominant pole exists, (7.87) can be approximated by\n\n$$\n\\begin{equation*}\n|A(j \\omega)| \\simeq \\frac{K}{\\sqrt{1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}}} \\tag{7.88}\n\\end{equation*}\n$$\n\nThis approximation remains accurate at least until \\( \\omega \\simeq\\left|p_{1}\\right| \\), allowing (7.88) to predict the \\( -3-\\mathrm{dB} \\) frequency accurately. Thus, we can write\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq\\left|p_{1}\\right| \\tag{7.89}\n\\end{equation*}\n$$\n\nApplying (7.86) in (7.89) results in\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq \\frac{1}{b_{1}} \\tag{7.90}\n\\end{equation*}\n$$\n\nfor a dominant-pole scenario."
},
{
    "text": "For any electronic circuit, we can determine the transfer function $A(s)$ through small-signal analysis, expressed as\n\n$$\n\\begin{equation*}\nA(s)=\\frac{N(s)}{D(s)}=\\frac{a_{0}+a_{1} s+a_{2} s^{2}+\\cdots+a_{m} s^{m}}{1+b_{1} s+b_{2} s^{2}+\\cdots+b_{n} s^{n}} \\tag{7.83}\n\\end{equation*}\n$$\n\nwhere $a_{0}, a_{1}, \\ldots, a_{m}$, and $b_{1}, b_{2}, \\ldots, b_{n}$ are constants. Frequently, the transfer function includes only poles (or the zeros are negligible). In such instances, the denominator of (7.83) can be factored to yield\n\n$$\n\\begin{equation*}\nA(s)=\\frac{K}{\\left(1-\\frac{s}{p_{1}}\\right)\\left(1-\\frac{s}{p_{2}}\\right) \\cdots\\left(1-\\frac{s}{p_{n}}\\right)} \\tag{7.84}\n\\end{equation*}\n$$\n\nwhere $K$ is a constant and $p_{1}, p_{2}, \\ldots, p_{n}$ are the poles of the transfer function. From (7.84), it is evident that\n\n$$\n\\begin{equation*}\nb_{1}=\\sum_{i=1}^{n}\\left(-\\frac{1}{p_{i}}\\right) \\tag{7.85}\n\\end{equation*}\n$$\n\nA significant practical scenario arises when one pole is dominant, meaning\n\n$$\n\\left|p_{1}\\right| \\ll\\left|p_{2}\\right|,\\left|p_{3}\\right|, \\ldots \\quad \\text { thus } \\quad\\left|\\frac{1}{p_{1}}\\right| \\gg\\left|\\sum_{i=2}^{n}\\left(-\\frac{1}{p_{i}}\\right)\\right|\n$$\n\nThis condition is depicted in the $s$ plane in Fig. 7.23, leading to the conclusion from (7.85) that\n\n$$\n\\begin{equation*}\nb_{1} \\simeq\\left|\\frac{1}{p_{1}}\\right| \\tag{7.86}\n\\end{equation*}\n$$\n\nReturning to (7.84) and calculating the gain magnitude in the frequency domain, we derive\n\n$$\n\\begin{equation*}\n|A(j \\omega)|=\\frac{K}{\\sqrt{\\left[1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}\\right]\\left[1+\\left(\\frac{\\omega}{p_{2}}\\right)^{2}\\right] \\cdots\\left[1+\\left(\\frac{\\omega}{p_{n}}\\right)^{2}\\right]}} \\tag{7.87}\n\\end{equation*}\n$$\n\nimage_name:Figure 7.23\ndescription:Figure 7.23 illustrates a pole diagram on the complex \\( s \\)-plane, commonly used in control systems and signal processing to depict the poles of a transfer function.\n\n1. **Graph Type and Function:**\n- The graph is a pole-zero plot on the complex \\( s \\)-plane.\n- It visualizes the poles of a system, crucial for assessing stability and frequency response.\n\n2. **Axes Labels and Units:**\n- The horizontal axis, labeled \\( \\sigma \\), represents the real part of the complex frequency.\n- The vertical axis, labeled \\( j\\omega \\), represents the imaginary part of the complex frequency.\n- The axes lack specific units, as they denote complex frequency components.\n\n3. **General Behavior and Trends:**\n- Poles are plotted along the real axis, indicating they are purely real and negative.\n- This suggests a stable system, with all poles in the left half of the \\( s \\)-plane.\n\n4. **Key Features and Technical Aspects:**\n- Three poles, \\( p_1, p_2, \\) and \\( p_3 \\), are marked along the real axis.\n- \\( p_1 \\) is identified as a dominant pole due to its closeness to the imaginary axis compared to others.\n- The dominant pole \\( p_1 \\) significantly influences the system's low-frequency behavior and bandwidth.\n\n5. **Annotations and Specific Data Points:**\n- The diagram annotates the pole locations \\( p_1, p_2, \\) and \\( p_3 \\) with crosses.\n- Specific pole values are not provided, but their relative positions indicate their impact on system dynamics.\n\nFigure 7.23 Pole diagram for a circuit with a dominant pole.\n\nIf a dominant pole exists, (7.87) can be approximated by\n\n$$\n\\begin{equation*}\n|A(j \\omega)| \\simeq \\frac{K}{\\sqrt{1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}}} \\tag{7.88}\n\\end{equation*}\n$$\n\nThis approximation remains accurate at least until $\\omega \\simeq\\left|p_{1}\\right|$, allowing (7.88) to reliably predict the $-3-\\mathrm{dB}$ frequency, thus\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq\\left|p_{1}\\right| \\tag{7.89}\n\\end{equation*}\n$$\n\nApplying (7.86) in (7.89) results in\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq \\frac{1}{b_{1}} \\tag{7.90}\n\\end{equation*}\n$$\n\nfor a dominant-pole scenario."
},
{
    "text": "For any electronic circuit, a transfer function $A(s)$ can be derived through small-signal analysis, expressed as\n\n$$\n\\begin{equation*}\nA(s)=\\frac{N(s)}{D(s)}=\\frac{a_{0}+a_{1} s+a_{2} s^{2}+\\cdots+a_{m} s^{m}}{1+b_{1} s+b_{2} s^{2}+\\cdots+b_{n} s^{n}} \\tag{7.83}\n\\end{equation*}\n$$\n\nwhere $a_{0}, a_{1}, \\ldots, a_{m}$, and $b_{1}, b_{2}, \\ldots, b_{n}$ are constants. Frequently, the transfer function includes only poles (or the zeros are insignificant). In such cases, the denominator of (7.83) can be factored to yield\n\n$$\n\\begin{equation*}\nA(s)=\\frac{K}{\\left(1-\\frac{s}{p_{1}}\\right)\\left(1-\\frac{s}{p_{2}}\\right) \\cdots\\left(1-\\frac{s}{p_{n}}\\right)} \\tag{7.84}\n\\end{equation*}\n$$\n\nwhere $K$ is a constant and $p_{1}, p_{2}, \\ldots, p_{n}$ are the poles of the transfer function. From (7.84), it is evident that\n\n$$\n\\begin{equation*}\nb_{1}=\\sum_{i=1}^{n}\\left(-\\frac{1}{p_{i}}\\right) \\tag{7.85}\n\\end{equation*}\n$$\n\nA significant practical scenario arises when one pole is dominant, meaning\n\n$$\n\\left|p_{1}\\right| \\ll\\left|p_{2}\\right|,\\left|p_{3}\\right|, \\ldots \\quad \\text { so that } \\quad\\left|\\frac{1}{p_{1}}\\right| \\gg\\left|\\sum_{i=2}^{n}\\left(-\\frac{1}{p_{i}}\\right)\\right|\n$$\n\nThis scenario is depicted in the $s$ plane in Fig. 7.23, leading to the conclusion from (7.85) that\n\n$$\n\\begin{equation*}\nb_{1} \\simeq\\left|\\frac{1}{p_{1}}\\right| \\tag{7.86}\n\\end{equation*}\n$$\n\nReturning to (7.84) and calculating the gain magnitude in the frequency domain, we get\n\n$$\n\\begin{equation*}\n|A(j \\omega)|=\\frac{K}{\\sqrt{\\left[1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}\\right]\\left[1+\\left(\\frac{\\omega}{p_{2}}\\right)^{2}\\right] \\cdots\\left[1+\\left(\\frac{\\omega}{p_{n}}\\right)^{2}\\right]}} \\tag{7.87}\n\\end{equation*}\n$$\n\nimage_name:Figure 7.23\ndescription:Figure 7.23 illustrates a pole diagram on the complex \\( s \\)-plane, commonly used in control systems and signal processing to depict the poles of a transfer function.\n\n1. **Graph Type and Function:**\n- The graph is a pole-zero plot on the complex \\( s \\)-plane.\n- It visualizes the poles of a system, crucial for assessing stability and frequency response.\n\n2. **Axes Labels and Units:**\n- The horizontal axis, labeled \\( \\sigma \\), represents the real part of the complex frequency.\n- The vertical axis, labeled \\( j\\omega \\), represents the imaginary part of the complex frequency.\n- No specific units are marked, as they denote complex frequency components.\n\n3. **Behavior and Trends:**\n- Poles are plotted along the real axis, indicating they are purely real and negative.\n- This suggests a stable system, with all poles in the left half of the \\( s \\)-plane.\n\n4. **Key Features and Technical Details:**\n- Three poles, \\( p_1, p_2, \\) and \\( p_3 \\), are marked along the real axis.\n- \\( p_1 \\) is identified as a dominant pole due to its closer proximity to the imaginary axis compared to others.\n- The dominant pole \\( p_1 \\) significantly influences the system's low-frequency behavior and bandwidth.\n\n5. **Annotations and Data Points:**\n- The diagram annotates the pole locations \\( p_1, p_2, \\) and \\( p_3 \\) with crosses.\n- Specific pole values are not provided, but their relative positions indicate their impact on system dynamics.\n\nFigure 7.23 Pole diagram for a circuit with a dominant pole.\n\nIf a dominant pole exists, (7.87) can be approximated by\n\n$$\n\\begin{equation*}\n|A(j \\omega)| \\simeq \\frac{K}{\\sqrt{1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}}} \\tag{7.88}\n\\end{equation*}\n$$\n\nThis approximation remains accurate at least until $\\omega \\simeq\\left|p_{1}\\right|$, allowing (7.88) to accurately predict the $-3-\\mathrm{dB}$ frequency, expressed as\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq\\left|p_{1}\\right| \\tag{7.89}\n\\end{equation*}\n$$\n\nApplying (7.86) in (7.89) results in\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq \\frac{1}{b_{1}} \\tag{7.90}\n\\end{equation*}\n$$\n\nfor a dominant-pole scenario."
},
{
    "text": "For any electronic circuit, a transfer function $A(s)$ can be derived through small-signal analysis, resulting in\n\n$$\n\\begin{equation*}\nA(s)=\\frac{N(s)}{D(s)}=\\frac{a_{0}+a_{1} s+a_{2} s^{2}+\\cdots+a_{m} s^{m}}{1+b_{1} s+b_{2} s^{2}+\\cdots+b_{n} s^{n}} \\tag{7.83}\n\\end{equation*}\n$$\n\nwhere $a_{0}, a_{1}, \\ldots, a_{m}$, and $b_{1}, b_{2}, \\ldots, b_{n}$ are constants. Frequently, the transfer function includes only poles (or the zeros are insignificant). In such instances, the denominator of (7.83) can be factored to yield\n\n$$\n\\begin{equation*}\nA(s)=\\frac{K}{\\left(1-\\frac{s}{p_{1}}\\right)\\left(1-\\frac{s}{p_{2}}\\right) \\cdots\\left(1-\\frac{s}{p_{n}}\\right)} \\tag{7.84}\n\\end{equation*}\n$$\n\nwhere $K$ is a constant and $p_{1}, p_{2}, \\ldots, p_{n}$ are the poles of the transfer function. From (7.84), it is evident that\n\n$$\n\\begin{equation*}\nb_{1}=\\sum_{i=1}^{n}\\left(-\\frac{1}{p_{i}}\\right) \\tag{7.85}\n\\end{equation*}\n$$\n\nA significant practical scenario arises when one pole is dominant, meaning\n\n$$\n\\left|p_{1}\\right| \\ll\\left|p_{2}\\right|,\\left|p_{3}\\right|, \\ldots \\quad \\text { thus } \\quad\\left|\\frac{1}{p_{1}}\\right| \\gg\\left|\\sum_{i=2}^{n}\\left(-\\frac{1}{p_{i}}\\right)\\right|\n$$\n\nThis scenario is depicted in the $s$ plane in Fig. 7.23, and under these conditions, (7.85) implies\n\n$$\n\\begin{equation*}\nb_{1} \\simeq\\left|\\frac{1}{p_{1}}\\right| \\tag{7.86}\n\\end{equation*}\n$$\n\nRevisiting (7.84) and calculating the gain magnitude in the frequency domain, we get\n\n$$\n\\begin{equation*}\n|A(j \\omega)|=\\frac{K}{\\sqrt{\\left[1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}\\right]\\left[1+\\left(\\frac{\\omega}{p_{2}}\\right)^{2}\\right] \\cdots\\left[1+\\left(\\frac{\\omega}{p_{n}}\\right)^{2}\\right]}} \\tag{7.87}\n\\end{equation*}\n$$\n\nimage_name:Figure 7.23\ndescription:Figure 7.23 illustrates a pole diagram on the complex \\( s \\)-plane, commonly used in control systems and signal processing to depict the poles of a transfer function.\n\n1. **Graph Type and Function:**\n- The graph is a pole-zero plot on the complex \\( s \\)-plane.\n- It visualizes the poles of a system, crucial for assessing stability and frequency response.\n\n2. **Axes Labels and Units:**\n- The horizontal axis, labeled \\( \\sigma \\), represents the real part of the complex frequency.\n- The vertical axis, labeled \\( j\\omega \\), represents the imaginary part of the complex frequency.\n- No specific units are marked, as they denote complex frequency components.\n\n3. **General Behavior and Trends:**\n- Poles are plotted along the real axis, indicating they are purely real and negative.\n- This suggests a stable system, with all poles in the left half of the \\( s \\)-plane.\n\n4. **Key Features and Technical Details:**\n- Three poles, \\( p_1, p_2, \\) and \\( p_3 \\), are marked along the real axis.\n- \\( p_1 \\) is identified as a dominant pole due to its closeness to the imaginary axis compared to others.\n- The dominant pole \\( p_1 \\) significantly influences the system's low-frequency behavior and bandwidth.\n\n5. **Annotations and Specific Data Points:**\n- The diagram is annotated with crosses marking the pole locations \\( p_1, p_2, \\) and \\( p_3 \\).\n- Specific pole values are not provided, but their relative positions indicate their impact on system dynamics.\n\nFigure 7.23 Pole diagram for a circuit with a dominant pole.\n\nIf a dominant pole is present, (7.87) can be approximated by\n\n$$\n\\begin{equation*}\n|A(j \\omega)| \\simeq \\frac{K}{\\sqrt{1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}}} \\tag{7.88}\n\\end{equation*}\n$$\n\nThis approximation remains accurate at least until $\\omega \\simeq\\left|p_{1}\\right|$, allowing (7.88) to predict the $-3-\\mathrm{dB}$ frequency accurately, hence\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq\\left|p_{1}\\right| \\tag{7.89}\n\\end{equation*}\n$$\n\nApplying (7.86) in (7.89) results in\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq \\frac{1}{b_{1}} \\tag{7.90}\n\\end{equation*}\n$$\n\nfor a dominant-pole scenario."
},
{
    "text": "For any electronic circuit, we can determine the transfer function $A(s)$ through small-signal analysis, resulting in\n\n$$\n\\begin{equation*}\nA(s)=\\frac{N(s)}{D(s)}=\\frac{a_{0}+a_{1} s+a_{2} s^{2}+\\cdots+a_{m} s^{m}}{1+b_{1} s+b_{2} s^{2}+\\cdots+b_{n} s^{n}} \\tag{7.83}\n\\end{equation*}\n$$\n\nwhere $a_{0}, a_{1}, \\ldots, a_{m}$, and $b_{1}, b_{2}, \\ldots, b_{n}$ are constants. Frequently, the transfer function includes only poles (or the zeros are insignificant). In such instances, the denominator of (7.83) can be factored to yield\n\n$$\n\\begin{equation*}\nA(s)=\\frac{K}{\\left(1-\\frac{s}{p_{1}}\\right)\\left(1-\\frac{s}{p_{2}}\\right) \\cdots\\left(1-\\frac{s}{p_{n}}\\right)} \\tag{7.84}\n\\end{equation*}\n$$\n\nwhere $K$ is a constant and $p_{1}, p_{2}, \\ldots, p_{n}$ represent the poles of the transfer function. From (7.84), it becomes evident that\n\n$$\n\\begin{equation*}\nb_{1}=\\sum_{i=1}^{n}\\left(-\\frac{1}{p_{i}}\\right) \\tag{7.85}\n\\end{equation*}\n$$\n\nA significant practical scenario arises when one pole is dominant. This occurs when\n\n$$\n\\left|p_{1}\\right| \\ll\\left|p_{2}\\right|,\\left|p_{3}\\right|, \\ldots \\quad \\text { such that } \\quad\\left|\\frac{1}{p_{1}}\\right| \\gg\\left|\\sum_{i=2}^{n}\\left(-\\frac{1}{p_{i}}\\right)\\right|\n$$\n\nThis condition is depicted in the $s$ plane in Fig. 7.23. Under this scenario, it follows from (7.85) that\n\n$$\n\\begin{equation*}\nb_{1} \\simeq\\left|\\frac{1}{p_{1}}\\right| \\tag{7.86}\n\\end{equation*}\n$$\n\nReturning to (7.84) and calculating the gain magnitude in the frequency domain, we derive\n\n$$\n\\begin{equation*}\n|A(j \\omega)|=\\frac{K}{\\sqrt{\\left[1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}\\right]\\left[1+\\left(\\frac{\\omega}{p_{2}}\\right)^{2}\\right] \\cdots\\left[1+\\left(\\frac{\\omega}{p_{n}}\\right)^{2}\\right]}} \\tag{7.87}\n\\end{equation*}\n$$\n\nimage_name:Figure 7.23\ndescription:Figure 7.23 illustrates a pole diagram on the complex \\( s \\)-plane, commonly used in control systems and signal processing to depict the poles of a transfer function.\n\n1. **Graph Type and Function:**\n- The graph is a pole-zero plot on the complex \\( s \\)-plane.\n- It visualizes the poles of a system, crucial for assessing stability and frequency response.\n\n2. **Axes Labels and Units:**\n- The horizontal axis, labeled \\( \\sigma \\), represents the real part of the complex frequency.\n- The vertical axis, labeled \\( j\\omega \\), represents the imaginary part of the complex frequency.\n- The axes lack specific units, as they denote complex frequency components.\n\n3. **General Behavior and Trends:**\n- Poles are plotted along the real axis, indicating they are purely real and negative.\n- This suggests a stable system, with all poles in the left half of the \\( s \\)-plane.\n\n4. **Key Features and Technical Details:**\n- Three poles, \\( p_1, p_2, \\) and \\( p_3 \\), are marked along the real axis.\n- \\( p_1 \\) is identified as the dominant pole due to its closeness to the imaginary axis relative to the others.\n- The dominant pole \\( p_1 \\) significantly influences the system's low-frequency behavior and bandwidth.\n\n5. **Annotations and Specific Data Points:**\n- The diagram annotates the pole locations \\( p_1, p_2, \\) and \\( p_3 \\) with crosses.\n- Specific pole values are not provided, but their relative positions indicate their impact on system dynamics.\n\nFigure 7.23 Pole diagram for a circuit with a dominant pole.\n\nIf a dominant pole is present, (7.87) can be approximated by\n\n$$\n\\begin{equation*}\n|A(j \\omega)| \\simeq \\frac{K}{\\sqrt{1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}}} \\tag{7.88}\n\\end{equation*}\n$$\n\nThis approximation remains accurate at least until $\\omega \\simeq\\left|p_{1}\\right|$, allowing (7.88) to predict the $-3-\\mathrm{dB}$ frequency accurately. Thus, we can express\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq\\left|p_{1}\\right| \\tag{7.89}\n\\end{equation*}\n$$\n\nApplying (7.86) in (7.89) results in\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq \\frac{1}{b_{1}} \\tag{7.90}\n\\end{equation*}\n$$\n\nfor a situation with a dominant pole."
},
{
    "text": "For any electronic circuit, we can determine the transfer function $A(s)$ through small-signal analysis, expressed as\n\n$$\n\\begin{equation*}\nA(s)=\\frac{N(s)}{D(s)}=\\frac{a_{0}+a_{1} s+a_{2} s^{2}+\\cdots+a_{m} s^{m}}{1+b_{1} s+b_{2} s^{2}+\\cdots+b_{n} s^{n}} \\tag{7.83}\n\\end{equation*}\n$$\n\nwhere $a_{0}, a_{1}, \\ldots, a_{m}$, and $b_{1}, b_{2}, \\ldots, b_{n}$ are constants. Frequently, the transfer function includes only poles (or the zeros are insignificant). In such instances, the denominator of (7.83) can be factored to yield\n\n$$\n\\begin{equation*}\nA(s)=\\frac{K}{\\left(1-\\frac{s}{p_{1}}\\right)\\left(1-\\frac{s}{p_{2}}\\right) \\cdots\\left(1-\\frac{s}{p_{n}}\\right)} \\tag{7.84}\n\\end{equation*}\n$$\n\nwhere $K$ is a constant and $p_{1}, p_{2}, \\ldots, p_{n}$ represent the poles of the transfer function. From (7.84), it is evident that\n\n$$\n\\begin{equation*}\nb_{1}=\\sum_{i=1}^{n}\\left(-\\frac{1}{p_{i}}\\right) \\tag{7.85}\n\\end{equation*}\n$$\n\nA significant practical scenario arises when one pole is dominant, meaning\n\n$$\n\\left|p_{1}\\right| \\ll\\left|p_{2}\\right|,\\left|p_{3}\\right|, \\ldots \\quad \\text { thus } \\quad\\left|\\frac{1}{p_{1}}\\right| \\gg\\left|\\sum_{i=2}^{n}\\left(-\\frac{1}{p_{i}}\\right)\\right|\n$$\n\nThis condition is depicted in the $s$ plane in Fig. 7.23, leading to the conclusion from (7.85) that\n\n$$\n\\begin{equation*}\nb_{1} \\simeq\\left|\\frac{1}{p_{1}}\\right| \\tag{7.86}\n\\end{equation*}\n$$\n\nReturning to (7.84) and calculating the gain magnitude in the frequency domain, we get\n\n$$\n\\begin{equation*}\n|A(j \\omega)|=\\frac{K}{\\sqrt{\\left[1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}\\right]\\left[1+\\left(\\frac{\\omega}{p_{2}}\\right)^{2}\\right] \\cdots\\left[1+\\left(\\frac{\\omega}{p_{n}}\\right)^{2}\\right]}} \\tag{7.87}\n\\end{equation*}\n$$\n\nimage_name:Figure 7.23\ndescription:Figure 7.23 illustrates a pole diagram on the complex \\( s \\)-plane, commonly used in control systems and signal processing to depict the poles of a transfer function.\n\n1. **Graph Type and Function:**\n- The graph is a pole-zero plot on the complex \\( s \\)-plane.\n- It visualizes the poles of a system, crucial for assessing stability and frequency response.\n\n2. **Axes Labels and Units:**\n- The horizontal axis, labeled \\( \\sigma \\), represents the real part of the complex frequency.\n- The vertical axis, labeled \\( j\\omega \\), represents the imaginary part of the complex frequency.\n- No specific units are marked, as they denote complex frequency components.\n\n3. **General Behavior and Trends:**\n- Poles are plotted along the real axis, indicating they are purely real and negative.\n- This suggests a stable system, with all poles in the left half of the \\( s \\)-plane.\n\n4. **Key Features and Technical Aspects:**\n- Three poles, \\( p_1, p_2, \\) and \\( p_3 \\), are marked along the real axis.\n- \\( p_1 \\) is identified as the dominant pole due to its closeness to the imaginary axis compared to others.\n- The dominant pole \\( p_1 \\) significantly influences the system's low-frequency behavior and bandwidth.\n\n5. **Annotations and Specific Data Points:**\n- The diagram annotates pole locations \\( p_1, p_2, \\) and \\( p_3 \\) with crosses.\n- Specific pole values are not provided, but their relative positions indicate their impact on system dynamics.\n\nFigure 7.23 Pole diagram for a circuit with a dominant pole.\n\nIf a dominant pole is present, (7.87) can be approximated by\n\n$$\n\\begin{equation*}\n|A(j \\omega)| \\simeq \\frac{K}{\\sqrt{1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}}} \\tag{7.88}\n\\end{equation*}\n$$\n\nThis approximation remains accurate at least until $\\omega \\simeq\\left|p_{1}\\right|$, allowing (7.88) to predict the $-3-\\mathrm{dB}$ frequency accurately, thus\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq\\left|p_{1}\\right| \\tag{7.89}\n\\end{equation*}\n$$\n\nApplying (7.86) in (7.89) results in\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq \\frac{1}{b_{1}} \\tag{7.90}\n\\end{equation*}\n$$\n\nfor a scenario with a dominant pole."
},
{
    "text": "For any electronic circuit, a transfer function \\( A(s) \\) can be derived through small-signal analysis, resulting in\n\n$$\n\\begin{equation*}\nA(s)=\\frac{N(s)}{D(s)}=\\frac{a_{0}+a_{1} s+a_{2} s^{2}+\\cdots+a_{m} s^{m}}{1+b_{1} s+b_{2} s^{2}+\\cdots+b_{n} s^{n}} \\tag{7.83}\n\\end{equation*}\n$$\n\nwhere \\( a_{0}, a_{1}, \\ldots, a_{m} \\), and \\( b_{1}, b_{2}, \\ldots, b_{n} \\) are constants. Frequently, the transfer function includes only poles (or the zeros are insignificant). In such cases, the denominator of (7.83) can be factored to yield\n\n$$\n\\begin{equation*}\nA(s)=\\frac{K}{\\left(1-\\frac{s}{p_{1}}\\right)\\left(1-\\frac{s}{p_{2}}\\right) \\cdots\\left(1-\\frac{s}{p_{n}}\\right)} \\tag{7.84}\n\\end{equation*}\n$$\n\nwhere \\( K \\) is a constant and \\( p_{1}, p_{2}, \\ldots, p_{n} \\) are the poles of the transfer function. From (7.84), it is evident that\n\n$$\n\\begin{equation*}\nb_{1}=\\sum_{i=1}^{n}\\left(-\\frac{1}{p_{i}}\\right) \\tag{7.85}\n\\end{equation*}\n$$\n\nA significant practical scenario arises when one pole is dominant, i.e.,\n\n$$\n\\left|p_{1}\\right| \\ll\\left|p_{2}\\right|,\\left|p_{3}\\right|, \\ldots \\quad \\text { so that } \\quad\\left|\\frac{1}{p_{1}}\\right| \\gg\\left|\\sum_{i=2}^{n}\\left(-\\frac{1}{p_{i}}\\right)\\right|\n$$\n\nThis condition is illustrated in the \\( s \\)-plane in Fig. 7.23, leading to the approximation from (7.85) that\n\n$$\n\\begin{equation*}\nb_{1} \\simeq\\left|\\frac{1}{p_{1}}\\right| \\tag{7.86}\n\\end{equation*}\n$$\n\nReturning to (7.84) and calculating the gain magnitude in the frequency domain, we get\n\n$$\n\\begin{equation*}\n|A(j \\omega)|=\\frac{K}{\\sqrt{\\left[1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}\\right]\\left[1+\\left(\\frac{\\omega}{p_{2}}\\right)^{2}\\right] \\cdots\\left[1+\\left(\\frac{\\omega}{p_{n}}\\right)^{2}\\right]}} \\tag{7.87}\n\\end{equation*}\n$$\n\nimage_name:Figure 7.23\ndescription:Figure 7.23 displays a pole diagram on the complex \\( s \\)-plane, commonly used in control systems and signal processing to depict the poles of a transfer function.\n\n1. **Graph Type and Function:**\n- The graph is a pole-zero plot on the complex \\( s \\)-plane.\n- It visualizes the poles of a system, crucial for assessing stability and frequency response.\n\n2. **Axes Labels and Units:**\n- The horizontal axis, labeled \\( \\sigma \\), represents the real part of the complex frequency.\n- The vertical axis, labeled \\( j\\omega \\), represents the imaginary part of the complex frequency.\n- No specific units are marked, as they pertain to complex frequency components.\n\n3. **Behavior and Trends:**\n- Poles are plotted along the real axis, indicating they are purely real and negative.\n- This suggests a stable system, with all poles in the left half of the \\( s \\)-plane.\n\n4. **Key Features and Technical Details:**\n- Three poles, \\( p_1, p_2, \\) and \\( p_3 \\), are marked along the real axis.\n- \\( p_1 \\) is identified as a dominant pole due to its closeness to the imaginary axis relative to others.\n- The dominant pole \\( p_1 \\) significantly influences the system's low-frequency behavior and bandwidth.\n\n5. **Annotations and Data Points:**\n- The diagram annotates pole locations \\( p_1, p_2, \\) and \\( p_3 \\) with crosses.\n- Specific pole values are not provided, but their relative positions indicate their impact on system dynamics.\n\nFigure 7.23 Pole diagram for a circuit with a dominant pole.\n\nIf a dominant pole exists, (7.87) can be approximated by\n\n$$\n\\begin{equation*}\n|A(j \\omega)| \\simeq \\frac{K}{\\sqrt{1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}}} \\tag{7.88}\n\\end{equation*}\n$$\n\nThis approximation remains accurate at least until \\( \\omega \\simeq\\left|p_{1}\\right| \\), allowing (7.88) to accurately predict the \\( -3-\\mathrm{dB} \\) frequency, expressed as\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq\\left|p_{1}\\right| \\tag{7.89}\n\\end{equation*}\n$$\n\nApplying (7.86) in (7.89) results in\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq \\frac{1}{b_{1}} \\tag{7.90}\n\\end{equation*}\n$$\n\nfor a dominant-pole scenario."
},
{
    "text": "For any electronic circuit, we can determine the transfer function $A(s)$ through small-signal analysis, which yields\n\n$$\n\\begin{equation*}\nA(s)=\\frac{N(s)}{D(s)}=\\frac{a_{0}+a_{1} s+a_{2} s^{2}+\\cdots+a_{m} s^{m}}{1+b_{1} s+b_{2} s^{2}+\\cdots+b_{n} s^{n}} \\tag{7.83}\n\\end{equation*}\n$$\n\nHere, $a_{0}, a_{1}, \\ldots, a_{m}$, and $b_{1}, b_{2}, \\ldots, b_{n}$ are constants. Frequently, the transfer function includes only poles (or the zeros are negligible). In such cases, the denominator of (7.83) can be factored to produce\n\n$$\n\\begin{equation*}\nA(s)=\\frac{K}{\\left(1-\\frac{s}{p_{1}}\\right)\\left(1-\\frac{s}{p_{2}}\\right) \\cdots\\left(1-\\frac{s}{p_{n}}\\right)} \\tag{7.84}\n\\end{equation*}\n$$\n\nwhere $K$ is a constant and $p_{1}, p_{2}, \\ldots, p_{n}$ are the poles of the transfer function. From (7.84), it is evident that\n\n$$\n\\begin{equation*}\nb_{1}=\\sum_{i=1}^{n}\\left(-\\frac{1}{p_{i}}\\right) \\tag{7.85}\n\\end{equation*}\n$$\n\nA significant practical scenario arises when one pole is dominant, meaning\n\n$$\n\\left|p_{1}\\right| \\ll\\left|p_{2}\\right|,\\left|p_{3}\\right|, \\ldots \\quad \\text { so that } \\quad\\left|\\frac{1}{p_{1}}\\right| \\gg\\left|\\sum_{i=2}^{n}\\left(-\\frac{1}{p_{i}}\\right)\\right|\n$$\n\nThis condition is depicted in the $s$ plane in Fig. 7.23, and under this scenario, (7.85) implies that\n\n$$\n\\begin{equation*}\nb_{1} \\simeq\\left|\\frac{1}{p_{1}}\\right| \\tag{7.86}\n\\end{equation*}\n$$\n\nReturning to (7.84) and calculating the gain magnitude in the frequency domain, we find\n\n$$\n\\begin{equation*}\n|A(j \\omega)|=\\frac{K}{\\sqrt{\\left[1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}\\right]\\left[1+\\left(\\frac{\\omega}{p_{2}}\\right)^{2}\\right] \\cdots\\left[1+\\left(\\frac{\\omega}{p_{n}}\\right)^{2}\\right]}} \\tag{7.87}\n\\end{equation*}\n$$\n\nimage_name:Figure 7.23\ndescription:Figure 7.23 illustrates a pole diagram on the complex \\( s \\)-plane, commonly utilized in control systems and signal processing to depict the poles of a transfer function.\n\n1. **Graph Type and Function:**\n- The graph is a pole-zero plot on the complex \\( s \\)-plane.\n- It serves to visualize the system's poles, crucial for assessing stability and frequency response.\n\n2. **Axes Labels and Units:**\n- The horizontal axis, labeled \\( \\sigma \\), represents the real part of the complex frequency.\n- The vertical axis, labeled \\( j\\omega \\), represents the imaginary part of the complex frequency.\n- No specific units are marked, as these axes denote complex frequency components.\n\n3. **Overall Behavior and Trends:**\n- Poles are positioned along the real axis, indicating they are purely real and negative.\n- This arrangement suggests a stable system, with all poles located in the left half of the \\( s \\)-plane.\n\n4. **Key Features and Technical Details:**\n- Three poles, labeled \\( p_1, p_2, \\) and \\( p_3 \\), are situated along the real axis.\n- The pole \\( p_1 \\) is deemed dominant due to its closer proximity to the imaginary axis compared to the others.\n- The dominant pole \\( p_1 \\) significantly influences the system's low-frequency characteristics and bandwidth.\n\n5. **Annotations and Specific Data Points:**\n- The diagram is marked with crosses indicating the pole positions \\( p_1, p_2, \\) and \\( p_3 \\).\n- While specific pole values are not provided, their relative placements highlight their impact on system dynamics.\n\nFigure 7.23 Pole diagram for a circuit with a dominant pole.\n\nWhen a dominant pole is present, (7.87) can be approximated by\n\n$$\n\\begin{equation*}\n|A(j \\omega)| \\simeq \\frac{K}{\\sqrt{1+\\left(\\frac{\\omega}{p_{1}}\\right)^{2}}} \\tag{7.88}\n\\end{equation*}\n$$\n\nThis approximation remains accurate at least until $\\omega \\simeq\\left|p_{1}\\right|$, allowing (7.88) to precisely predict the $-3-\\mathrm{dB}$ frequency, which can be expressed as\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq\\left|p_{1}\\right| \\tag{7.89}\n\\end{equation*}\n$$\n\nApplying (7.86) in (7.89) results in\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\simeq \\frac{1}{b_{1}} \\tag{7.90}\n\\end{equation*}\n$$\n\nfor scenarios with a dominant pole."
},
{
    "text": "This is an analytical method that provides an approximate estimation of the dominant pole (and hence the $-3-\\mathrm{dB}$ frequency) in complex circuits. It offers significant computational savings as it doesn't necessitate a comprehensive analysis of the entire circuit. We will illustrate this method using a practical example.\n\nRefer to the equivalent circuit depicted in Fig. 7.24. It's a single-stage bipolar transistor amplifier featuring resistive source and load impedances. The feedback capacitance is divided into two parts, $C_{x}$ and $C_{\\mu}$, as indicated. This division offers a more accurate approximation of the actual situation compared to the single collector-base capacitor we've previously used, albeit it's seldom employed in manual calculations due to its analytical complexity. In the context of this analysis, the capacitor voltages $v_{1}$, $v_{2}$, and $v_{3}$ are selected as variables. The external input $v_{i}$ is omitted, and the circuit is stimulated with three independent current sources $i_{1}$, $i_{2}$, and $i_{3}$ across the capacitors, as depicted in Fig. 7.24. It can be demonstrated that this selection of variables results in circuit equations of the following form:\n\n$$\n\\begin{align*}\n& i_{1}=\\left(g_{11}+s C_{\\pi}\\right) v_{1}+g_{12} v_{2}+g_{13} v_{3}  \\tag{7.91}\\\\\n& i_{2}=g_{21} v_{1}+\\left(g_{22}+s C_{\\mu}\\right) v_{2}+g_{23} v_{3}  \\tag{7.92}\\\\\n& i_{3}=g_{31} v_{1}+g_{32} v_{2}+\\left(g_{33}+s C_{x}\\right) v_{3} \\tag{7.93}\n\\end{align*}\n$$\n\nHere, the $g$ terms represent conductances. It's worth noting that the terms involving $s$, which are a result of the capacitors, are exclusively related to their respective capacitor voltage variables and only appear on the diagonal of the system determinant.\n\nThe poles of the circuit's transfer function are the zeros of the determinant $\\Delta$ of the circuit equations, which can be expressed as:\n\n$$\n\\begin{equation*}\n\\Delta(s)=K_{3} s^{3}+K_{2} s^{2}+K_{1} s+K_{0} \\tag{7.94}\n\\end{equation*}\n$$\n\nThe coefficients $K$ are derived from the aforementioned equations. For instance, $K_{3}$ is the sum of the coefficients of all terms involving $s^{3}$ in the determinant's expansion. Equation 7.94 can be rewritten as:\n\n$$\n\\begin{equation*}\n\\Delta(s)=K_{0}\\left(1+b_{1} s+b_{2} s^{2}+b_{3} s^{3}\\right) \\tag{7.95}\n\\end{equation*}\n$$\n\nThis form corresponds to (7.83). The determinant is third-order due to the presence of three capacitors in the circuit. The term $K_{0}$ in (7.94) represents the value of $\\Delta(s)$ when all capacitors are zero ($C_{x}=C_{\\mu}=C_{\\pi}=0$). This can be inferred from (7.91), (7.92), and (7.93). Therefore, we define:\n\n$$\n\\begin{equation*}\nK_{0} \\triangleq \\Delta_{0} \\tag{7.96}\n\\end{equation*}\n$$\n\nNow, let's examine the term $K_{1} s$ in (7.94). This term is the sum of all the terms involving $s$ obtained when evaluating the system determinant. However, from (7.91) to (7.93), it's clear that $s$ only appears in association with a capacitance. Thus, the term $K_{1} s$ can be expressed as:\n\n$$\n\\begin{equation*}\nK_{1} s=h_{1} s C_{\\pi}+h_{2} s C_{\\mu}+h_{3} s C_{x} \\tag{7.97}\n\\end{equation*}\n$$\n\nHere, the $h$ terms are constants. The term $h_{1}$ can be determined by expanding the determinant of (7.91) to (7.93) around the first row:\n\n$$\n\\begin{equation*}\n\\Delta(s)=\\left(g_{11}+s C_{\\pi}\\right) \\Delta_{11}+g_{12} \\Delta_{12}+g_{13} \\Delta_{13} \\tag{7.98}\n\\end{equation*}\n$$\n\nHere, $\\Delta_{11}$, $\\Delta_{12}$, and $\\Delta_{13}$ are the cofactors of the determinant. By examining (7.91), (7.92), and (7.93), it becomes evident that $C_{\\pi}$ only appears in the first term of (7.98). Hence, the coefficient of $C_{\\pi} s$ in (7.98) is found by evaluating $\\Delta_{11}$ with $C_{\\mu}=C_{x}=0$, which eliminates the other capacitive terms in $\\Delta_{11}$. This coefficient of $C_{\\pi} s$ is precisely $h_{1}$ in (7.97), leading to:\n\n$$\n\\begin{equation*}\nh_{1}=\\left.\\Delta_{11}\\right|_{C_{\\mu}=C_{x}=0} \\tag{7.99}\n\\end{equation*}\n$$\n\nExpanding the determinant around the second row yields the same value for the determinant, resulting in:\n\n$$\n\\begin{equation*}\n\\Delta(s)=g_{21} \\Delta_{21}+\\left(g_{22}+s C_{\\mu}\\right) \\Delta_{22}+g_{23} \\Delta_{23} \\tag{7.100}\n\\end{equation*}\n$$\n\nIn this case, $C_{\\mu}$ only appears in the second term of (7.100). Therefore, the coefficient of $C_{\\mu} s$ in this equation is found by evaluating $\\Delta_{22}$ with $C_{\\pi}=C_{x}=0$, which eliminates the other capacitive terms. This coefficient of $C_{\\mu} s$ is exactly $h_{2}$ in (7.97), leading to:\n\n$$\n\\begin{equation*}\nh_{2}=\\left.\\Delta_{22}\\right|_{C_{\\pi}=C_{x}=0} \\tag{7.101}\n\\end{equation*}\n$$\n\nBy expanding around the third row, we obtain:\n\n$$\n\\begin{equation*}\nh_{3}=\\left.\\Delta_{33}\\right|_{C_{\\pi}=C_{\\mu}=0} \\tag{7.102}\n\\end{equation*}\n$$\n\nCombining (7.97) with (7.99), (7.101), and (7.102) gives:\n\n$$\n\\begin{equation*}\nK_{1}=\\left(\\left.\\Delta_{11}\\right|_{C_{\\mu}=C_{x}=0} \\times C_{\\pi}\\right)+\\left(\\left.\\Delta_{22}\\right|_{C_{\\pi}=C_{x}=0} \\times C_{\\mu}\\right)+\\left(\\left.\\Delta_{33}\\right|_{C_{\\mu}=C_{\\pi}=0} \\times C_{x}\\right) \\tag{7.103}\n\\end{equation*}\n$$\n\nand\n\n$$\n\\begin{gather*}\nb_{1}=\\frac{K_{1}}{K_{0}}=\\frac{\\left.\\Delta_{11}\\right|_{C_{\\mu}=C_{x}=0}}{\\Delta_{0}} \\times C_{\\pi}+\\frac{\\left.\\Delta_{22}\\right|_{C_{\\pi}=C_{x}=0}}{\\Delta_{0}} \\times C_{\\mu}  \\tag{7.104}\\\\\n+\\frac{\\left.\\Delta_{33}\\right|_{C_{\\mu}=C_{\\pi}=0}}{\\Delta_{0}} \\times C_{x}\n\\end{gather*}\n$$\n\nThe boundary conditions on the determinants are the same as in (7.103). By setting $i_{2}=i_{3}=0$ in Fig. 7.24 and solving (7.91) to (7.93) for $v_{1}$, we get:\n\n$$\nv_{1}=\\frac{\\Delta_{11} i_{1}}{\\Delta(s)}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\n\\frac{v_{1}}{i_{1}}=\\frac{\\Delta_{11}}{\\Delta(s)} \\tag{7.105}\n\\end{equation*}\n$$\n\nEquation 7.105 represents the driving-point impedance at the $C_{\\pi}$ node pair. Therefore,\n\n$$\n\\frac{\\left.\\Delta_{11}\\right|_{C_{\\mu}=C_{x}=0}}{\\Delta_{0}}\n$$\n\nis the driving-point resistance at the $C_{\\pi}$ node pair with all capacitors set to zero, as evident from:\n\n$$\n\\begin{equation*}\n\\frac{\\Delta_{11} \\mid C_{\\mu}=C_{x}=C_{\\pi}=0}{\\Delta_{0}}=\\left.\\frac{\\Delta_{11}}{\\Delta}\\right|_{C_{\\mu}=C_{x}=C_{\\pi}=0} \\tag{7.106}\n\\end{equation*}\n$$\n\nWe define:\n\n$$\n\\begin{equation*}\nR_{\\pi 0}=\\left.\\frac{\\Delta_{11}}{\\Delta_{0}}\\right|_{C_{\\mu}=C_{x}=0} \\tag{7.107}\n\\end{equation*}\n$$\n\nSimilarly,\n\n$$\n\\frac{\\Delta_{22} \\mid C_{\\pi}=C_{xmu}=C_{\\pi}=0}{\\Delta_{0}}\n$$\n\nis the driving-point resistance at the $C_{\\mu}$ node pair with all capacitors set to zero, represented by $R_{\\mu 0}$. Hence, from (7.104):\n\n$$\n\\begin{equation*}\nb_{1}=R_{\\pi 0} C_{\\pi}+R_{\\mu 0} C_{\\mu}+R_{x 0} C_{x} \\tag{7.108}\n\\end{equation*}\n$$\n\nThe time constants in (7.108) are referred to as zero-value time constants, as they are calculated with all capacitors set to zero. Although derived from a specific example, this result holds true for any circuit that adheres to the assumptions made in this analysis. In its general form, (7.108) becomes:\n\n$$\n\\begin{equation*}\nb_{1}=\\Sigma T_{0} \\tag{7.109}\n\\end{equation*}\n$$\n\nHere, $\\Sigma T_{0}$ represents the sum of the zero-value time constants. We previously demonstrated that if there are no dominant zeros in the circuit transfer function and there is a dominant pole $p_{1}$, then:\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\approx\\left|p_{1}\\right| \\tag{7.110}\n\\end{equation*}\n$$\n\nUtilizing (7.90), (7.109), and (7.110), we can write:\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}} \\approx\\left|p_{1}\\right| \\approx \\frac{1}{b_{1}}=\\frac{1}{\\Sigma T_{0}} \\tag{7.111}\n\\end{equation*}\n$$\n\nFor instance, referring to the circuit in Fig. 7.24, we can deduce:\n\n$$\n\\begin{equation*}\nR_{\\pi 0}=r_{\\pi} \\|\\left(R_{S}+r_{b}\\right) \\tag{7.112}\n\\end{equation*}\n$$\n\nTo calculate $R_{\\mu 0}$, it's necessary to derive some simple circuit equations. We apply a test current $i$ at the $C_{\\mu}$ terminals, as shown in Fig. 7.25, and determine the resulting voltage $v$.\n\n$$\n\\begin{align*}\n& v_{1}=R_{\\pi 0} i  \\tag{7.113}\\\\\n& v_{o}=-\\left(i+g_{m} v_{1}\\right) R_{L} \\tag{7.114}\n\\end{align*}\n$$\n\nSubstituting (7.113) into (7.114) yields:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(i+g_{m} R_{\\pi 0} i\\right) R_{L} \\tag{7.115}\n\\end{equation*}\n$$\n\nNow,\n\n$$\nR_{\\mu 0}=\\frac{v}{i}\n$$\n\nand\n\n$$\n\\begin{equation*}\nR_{\\mu 0}=\\frac{v_{1}-v_{o}}{i} \\tag{7.116}\n\\end{equation*}\n$$\n\nSubstituting (7.113) and (7.115) in (7.116) gives:\n\n$$\n\\begin{equation*}\nR_{\\mu 0}=R_{\\pi 0}+R_{L}+g_{m} R_{L} R_{\\pi 0} \\tag{7.117}\n\\end{equation*}\n$$\n\n$R_{x 0}$ can be calculated using a similar approach, and it's evident that $R_{x 0} \\simeq R_{\\mu 0}$ if $r_{b} \\ll r_{\\pi}$. This justifies the common practice of lumping $C_{x}$ in with $C_{\\mu}$ when $r_{b}$ is small. Assuming this is done, (7.111) yields, for the $-3-\\mathrm{dB}$ frequency:\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}}=\\frac{1}{R_{\\pi 0} C_{\\pi}+R_{\\mu}{ }^{0} C_{\\mu}} \\tag{7.118}\n\\end{equation*}\n$$\n\nUsing (7.117) in (7.118) results in:\n\n$$\n\\begin{equation*}\n\\omega_{-3 \\mathrm{~dB}}=\\frac{1}{R_{\\pi 0}\\left\\{C_{\\pi}+C_{\\mu}\\left[\\left(1+g_{m} R_{L}\\right)+\\frac{R_{L}}{R_{\\pi 0}}\\right]\\right\\}} \\tag{7.119}\n\\end{equation*}\n$$\n\nEquation 7.119 is consistent with the result obtained in (7.29) through exact analysis. However, the zero-value time-constant analysis provides the result with significantly less effort. It doesn't provide any information about the nondominant pole.\n\nAs an additional illustration of the applications and limitations of the zero-value time-constant approach, consider the emitter-follower circuit in Fig. 7.13a, where only the capacitance $C_{\\pi}$ is included. The value of $R_{\\pi 0}$ can be calculated by inserting a current source $i$ as shown in Fig. 7.26 and determining the resulting voltage $v_{1}$:\n\n$$\n\\begin{gather*}\ni=\\frac{v_{1}}{r_{\\pi}}+\\frac{v_{1}+v_{o}}{R_{S}+r_{b}}  \\tag{7.120}\\\\\n\\frac{v_{1}}{r_{\\pi}}-i+g_{m} v_{1}=\\frac{v_{o}}{R_{L}} \\tag{7.121}\n\\end{gather*}\n$$\n\nSubstituting (7.121) into (7.120) gives:\n\n$$\ni=\\frac{v_{1}}{r_{\\pi}}+\\frac{v_{1}}{R_{S}+r_{b}}+\\frac{R_{L}}{R_{S}+r_{b}}\\left(\\frac{v_{1}}{r_{\\pi}}+g_{m} v_{1}-i\\right)\n$$\n\nThis equation can be expressed as:\n\n$$\ni=\\frac{v_{1}}{r_{\\pi}}+v_{1} \\frac{1+g_{m} R_{L}}{R_{S}+r_{b}+R_{L}}\n$$\n\nFinally, $R_{\\pi 0}$ can be calculated as:\n\n$$\n\\begin{equation*}\nR_{\\pi 0}=\\frac{v_{1}}{i}=r_{\\pi} \\| \\frac{R_{S}+r_{b}+R_{L}}{1+g_{m} R_{L}} \\tag{7.122}\n\\end{equation*}\n$$\n\nTherefore, the dominant pole of the emitter follower is at:\n\n$$\n\\begin{equation*}\n|p|=\\frac{1}{R_{\\pi 0} C_{\\pi}} \\tag{7.123}\n\\end{equation*}\n$$\n\nThis is consistent with the result obtained in (7.52) through exact analysis and requires less effort. However, the zero-value time-constant approach doesn't provide any information about the zero revealed by the exact analysis. Due to the dominant zero, the magnitude of the dominant pole is not the $-3-\\mathrm{dB}$ frequency in this case. This highlights the need for caution when interpreting the results of zero-value time-constant analysis. Nonetheless, it remains a valuable technique, and with experience, designers can identify circuits that are likely to contain dominant zeros. Such circuits usually exhibit a direct capacitive coupling between input and output, as seen with $C_{\\pi}$ in the emitter follower."
},
{
    "text": "This analytical approach offers an estimation technique for determining the principal pole (and consequently the $-3-\\mathrm{dB}$ frequency) in intricate circuits, achieving significant computational efficiency due to the elimination of a comprehensive circuit analysis. The methodology is elucidated through a practical illustration.\n\nExamine the depicted equivalent circuit in Fig. 7.24, which portrays a single-stage bipolar transistor amplifier equipped with resistive source and load impedances. The feedback capacitance is divided into two components, $C_x$ and $C_\\mu$, as illustrated. Although this division offers a more accurate approximation of the real scenario than employing a solitary collector-base capacitor, it is seldom utilized in manual calculations due to the complexity of the analysis. For analytical purposes, the capacitor voltages $v_1$, $v_2$, and $v_3$ are selected as variables. The external input $v_i$ is removed, and the circuit is stimulated with three independent current sources $i_1$, $i_2$, and $i_3$ across the capacitors, as depicted in Fig. 7.24. It can be demonstrated that with this selection of variables, the circuit equations adopt the following form:\n\n$$\n\\begin{align*}\n& i_1 = (g_{11} + s C_\\pi) v_1 + g_{12} v_2 + g_{13} v_3 \\tag{7.91}\\\\\n& i_2 = g_{21} v_1 + (g_{22} + s C_\\mu) v_2 + g_{23} v_3 \\tag{7.92}\\\\\n& i_3 = g_{31} v_1 + g_{32} v_2 + (g_{33} + s C_x) v_3 \\tag{7.93}\n\\end{align*}\n$$\n\nHere, the $g$ terms represent conductances. It is noteworthy that the terms involving $s$, contributed by the capacitors, are exclusively associated with their respective capacitor voltage variables and only appear on the diagonal of the system determinant.\n\nThe poles of the circuit transfer function correspond to the zeros of the determinant $\\Delta$ of the circuit equations, which can be expressed as:\n\n$$\n\\Delta(s) = K_3 s^3 + K_2 s^2 + K_1 s + K_0 \\tag{7.94}\n$$\n\nThe coefficients $K$ are derived from the aforementioned equations. For instance, $K_3$ is the sum of the coefficients of all terms involving $s^3$ in the determinant's expansion. Equation 7.94 can be rewritten as:\n\n$$\n\\Delta(s) = K_0 (1 + b_1 s + b_2 s^2 + b_3 s^3) \\tag{7.95}\n$$\n\nThis form corresponds to (7.83). The determinant is third-order due to the presence of three capacitors in the circuit. The term $K_0$ in (7.94) represents the value of $\\Delta(s)$ when all capacitors are zero ($C_x = C_\\mu = C_\\pi = 0$). This can be deduced from (7.91), (7.92), and (7.93). Hence:\n\n$$\nK_0 = \\left.\\Delta\\right|_{C_\\pi=C_\\mu=C_x=0}\n$$\n\nIt is beneficial to define:\n\n$$\nK_0 \\triangleq \\Delta_0 \\tag{7.96}\n$$\n\nNow, consider the term $K_1 s$ in (7.94). This term encompasses all $s$-related terms obtained when evaluating the system determinant. However, from (7.91) to (7.93), it is evident that $s$ is only present in association with a capacitance. Thus, the term $K_1 s$ can be expressed as:\n\n$$\nK_1 s = h_1 s C_\\pi + h_2 s C_\\mu + h_3 s C_x \\tag{7.97}\n$$\n\nHere, the $h$ terms are constants. The term $h_1$ can be determined by expanding the determinant of (7.91) to (7.93) around the first row:\n\n$$\n\\Delta(s) = (g_{11} + s C_\\pi) \\Delta_{11} + g_{12} \\Delta_{12} + g_{13} \\Delta_{13} \\tag{7.98}\n$$\n\nwhere $\\Delta_{11}$, $\\Delta_{12}$, and $\\Delta_{13}$ are the cofactors of the determinant. By examining (7.91), (7.92), and (7.93), it is observed that $C_\\pi$ only appears in the first term of (7.98). Consequently, the coefficient of $C_\\pi s$ in (7.98) is found by evaluating $\\Delta_{11}$ with $C_\\mu = C_x = 0$, which eliminates the other capacitive terms in $\\Delta_{11}$. This coefficient of $C_\\pi s$ is precisely $h_1$ in (7.97), and thus:\n\n$$\nh_1 = \\left.\\Delta_{11}\\right|_{C_\\mu=C_x=0} \\tag{7.99}\n$$\n\nBy expanding the determinant around the second row, the same determinant value must be obtained, leading to:\n\n$$\n\\Delta(s) = g_{21} \\Delta_{21} + (g_{22} + s C_\\mu) \\Delta_{22} + g_{23} \\Delta_{23} \\tag{7.100}\n$$\n\nIn this case, $C_\\mu$ only appears in the second term of (7.100). Hence, the coefficient of $C_\\mu s$ in this equation is determined by evaluating $\\Delta_{22}$ with $C_\\pi = C_x = 0$, which removes the other capacitive terms. This coefficient of $C_\\mu s$ is $h_2$ in (7.97), and thus:\n\n$$\nh_2 = \\left.\\Delta_{22}\\right|_{C_\\pi=C_x=0} \\tag{7.101}\n$$\n\nSimilarly, expanding around the third row yields:\n\n$$\nh_3 = \\left.\\Delta_{33}\\right|_{C_\\pi=C_\\mu=0} \\tag{7.102}\n$$\n\nCombining (7.97) with (7.99), (7.101), and (7.102) results in:\n\n$$\nK_1 = \\left(\\left.\\Delta_{11}\\right|_{C_\\mu=C_x=0} \\times C_\\pi\\right) + \\left(\\left.\\Delta_{22}\\right|_{C_\\pi=C_x=0} \\times C_\\mu\\right) + \\left(\\left.\\Delta_{33}\\right|_{C_\\mu=C_\\pi=0} \\times C_x\\right) \\tag{7.103}\n$$\n\nand\n\n$$\nb_1 = \\frac{K_1}{K_0} = \\frac{\\left.\\Delta_{11}\\right|_{C_\\mu=C_x=0}}{\\Delta_0} \\times C_\\pi + \\frac{\\left.\\Delta_{22}\\right|_{C_\\pi=C_x=0}}{\\Delta_0} \\times C_\\mu + \\frac{\\left.\\Delta_{33}\\right|_{C_\\mu=C_\\pi=0}}{\\Delta_0} \\times C_x \\tag{7.104}\n$$\n\nThe time constants in (7.104) are referred to as zero-value time constants, as they are calculated with all capacitors set to zero. Despite being derived from a specific example, this result holds true for any circuit adhering to the assumptions made in this analysis. In its most general form, (7.104) becomes:\n\n$$\nb_1 = \\Sigma T_0 \\tag{7.109}\n$$\n\nwhere $\\Sigma T_0$ denotes the sum of the zero-value time constants. It has been previously established that if the circuit transfer function lacks dominant zeros and possesses a dominant pole $p_1$, then:\n\n$$\n\\omega_{-3 \\mathrm{~dB}} \\approx |p_1| \\tag{7.110}\n$$\n\nUsing (7.90), (7.109), and (7.110), we can write:\n\n$$\n\\omega_{-3 \\mathrm{~dB}} \\approx |p_1| \\approx \\frac{1}{b_1} = \\frac{1}{\\Sigma T_0} \\tag{7.111}\n$$\n\nFor instance, consider the circuit in Fig. 7.24. By inspection:\n\n$$\nR_{\\pi 0} = r_\\pi \\| (R_S + r_b) \\tag{7.112}\n$$\n\nTo calculate $R_{\\mu 0}$, it is necessary to derive some straightforward circuit equations. A test current $i$ is applied at the $C_\\mu$ terminals, as depicted in Fig. 7.25, to determine the resulting voltage $v$.\n\n$$\n\\begin{align*}\nv_1 = R_{\\pi 0} i \\tag{7.113}\\\\\nv_o = -(i + g_m v_1) R_L \\tag{7.114}\n\\end{align*}\n$$\n\nSubstituting (7.113) into (7.114) yields:\n\n$$\nv_o = -(i + g_m R_{\\pi 0} i) R_L \\tag{7.115}\n$$\n\nNow,\n\n$$\nR_{\\mu 0} = \\frac{v}{i}\n$$\n\nand\n\n$$\nR_{\\mu 0} = \\frac{v_1 - v_o}{i} \\tag{7.116}\n$$\n\nSubstituting (7.113) and (7.115) into (7.116) gives:\n\n$$\nR_{\\mu 0} = R_{\\pi 0} + R_L + g_m R_L R_{\\pi 0} \\tag{7.117}\n$$\n\n$R_{x 0}$ can be computed similarly, and it is evident that $R_{x 0} \\simeq R_{\\mu 0}$ if $r_b \\ll r_\\pi$. This validates the common practice of combining $C_x$ with $C_\\mu$ when $r_b$ is small. Assuming this is done, (7.111) yields, for the $-3-\\mathrm{dB}$ frequency:\n\n$$\n\\omega_{-3 \\mathrm{~dB}} = \\frac{1}{R_{\\pi 0} C_\\pi + R_{\\mu 0} C_\\mu} \\tag{7.118}\n$$\n\nUsing (7.117) in (7.118) results in:\n\n$$\n\\omega_{-3 \\mathrm{~dB}} = \\frac{1}{R_{\\pi 0} \\left\\{C_\\pi + C_\\mu \\left[\\left(1 + g_m R_L\\right) + \\frac{R_L}{R_{\\pi 0}}\\right]\\right\\}} \\tag{7.119}\n$$\n\nEquation 7.119 is consistent with the result obtained in (7.29) through exact analysis. However, the zero-value time-constant analysis yields the outcome with significantly reduced effort. It does not provide any insights into the nondominant pole.\n\nAs an additional example demonstrating the utility and limitations of the zero-value time-constant approach, consider the emitter-follower circuit in Fig. 7.13a, where only the capacitance $C_\\pi$ is included. The value of $R_{\\pi 0}$ can be determined by inserting a current source $i$ as shown in Fig. 7.26 and calculating the resulting voltage $v_1$:\n\n$$\n\\begin{gather*}\ni = \\frac{v_1}{r_\\pi} + \\frac{v_1 + v_o}{R_S + r_b} \\tag{7.120}\\\\\n\\frac{v_1}{r_\\pi} - i + g_m v_1 = \\frac{v_o}{R_L} \\tag{7.121}\n\\end{gather*}\n$$\n\nSubstituting (7.121) into (7.120) yields:\n\n$$\ni = \\frac{v_1}{r_\\pi} + \\frac{v_1}{R_S + r_b} + \\frac{R_L}{R_S + r_b} \\left(\\frac{v_1}{r_\\pi} + g_m v_1 - i\\right)\n$$\n\nwhich can be expressed as:\n\n$$\ni = \\frac{v_1}{r_\\pi} + v_1 \\frac{1 + g_m R_L}{R_S + r_b + R_L}\n$$\n\nFinally, $R_{\\pi 0}$ can be calculated as:\n\n$$\nR_{\\pi 0} = \\frac{v_1}{i} = r_\\pi \\| \\frac{R_S + r_b + R_L}{1 + g_m R_L} \\tag{7.122}\n$$\n\nConsequently, the dominant pole of the emitter follower is located at:\n\n$$\n|p| = \\frac{1}{R_{\\pi 0} C_\\pi} \\tag{7.123}\n$$\n\nThis aligns with the result obtained in (7.52) through exact analysis and requires less effort. However, the zero-value time-constant approach does not reveal the zero identified by the exact analysis. Due to the dominant zero, the magnitude of the dominant pole does not correspond to the $-3-\\mathrm{dB}$ frequency in this scenario. This underscores the necessity for careful interpretation of the results from zero-value time-constant analysis. Nevertheless, it remains a valuable technique, and with experience, designers can identify circuits likely to contain dominant zeros. Such circuits typically feature a capacitive path directly connecting input and output, as $C_\\pi$ does in the emitter follower."
}
]