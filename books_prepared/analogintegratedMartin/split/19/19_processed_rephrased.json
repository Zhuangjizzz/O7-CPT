[

{
    "text": "Virtually all digital and radio frequency circuits, as well as the majority of analog circuits, necessitate a precision oscillator. However, integrated circuit oscillators are inherently unsuitable for serving as frequency or time references in high-performance circuits. A significant issue is the imprecision of their oscillation frequency. Additionally, the jitter in these oscillators—essentially random frequency fluctuations—is excessively high for numerous applications. Consequently, integrated circuit oscillators are typically incorporated into a phase-locked loop, where their operating frequency and phase are continuously monitored against a precise external time reference and automatically adjusted to sustain a consistent frequency and phase. This process parallels the generation of an accurate on-chip voltage or current based on an external reference. In essence, a phase-locked loop is a circuit that employs an external timing reference to precisely measure and generate on-chip frequencies and times.\n\nIt's reasonable to question why a phase-locked loop is necessary if a precise time reference is already available. Why not use the time reference, often a clock, directly? One explanation is that the desired frequency may differ from that of the reference. This discrepancy is common because timing references are usually derived from precision resonators set to a fixed frequency, often within the range of 1-200 MHz for cost-effectiveness. The creation of a different or variable-frequency precision clock from a fixed-frequency reference is known as clock synthesis or frequency synthesis, a primary application of phase-locked loops.\n\nIn certain scenarios, the timing reference is provided by another integrated circuit that must communicate with the circuit being designed. Frequency variations can arise from changes in temperature, supply voltage, component aging, or intentional adjustments to minimize radiated emissions. Phase-locked loops are essential to ensure that the two circuits maintain precise synchronization in both frequency and phase, enabling reliable communication. Moreover, phase-locked loops are sometimes utilized to frequency-tune circuits like filters."
},
{
    "text": "Virtually all digital and radio frequency circuits, as well as the majority of analog circuits, necessitate a precision oscillator. However, standalone integrated circuit oscillators are inadequate for serving as frequency or time references in high-performance applications. A significant issue is their imprecisely known oscillation frequency. Additionally, the jitter of these oscillators—manifesting as random frequency fluctuations—is excessively high for many uses. Consequently, these oscillators are typically incorporated into a phase-locked loop, where their frequency and phase are continuously matched against a precise external time reference and automatically adjusted to maintain consistency. This method parallels the generation of a precise on-chip voltage or current using an external reference. In essence, a phase-locked loop is a circuit that employs an external timing reference to accurately measure and produce on-chip frequencies and times.\n\nIt is reasonable to question why a phase-locked loop is necessary if a precise time reference is already available. Why not use the time reference, often a clock, directly? One explanation is that the needed frequency might differ from that of the reference. This discrepancy is common since timing references are usually derived from precision resonators set to a fixed frequency, typically in the $1-200$ MHz range for cost-effectiveness. The creation of a different or variable-frequency precision clock from a fixed-frequency reference is known as clock synthesis or frequency synthesis, a primary application of phase-locked loops.\n\nIn certain scenarios, the timing reference is provided by another integrated circuit with which the design must interface. Frequency variations can arise from changes in temperature, supply voltage, component aging, or intentional adjustments to minimize emissions. Phase-locked loops are essential to ensure the two circuits maintain precise frequency and phase alignment, enabling reliable communication. Furthermore, phase-locked loops are sometimes employed to fine-tune the frequencies of circuits like filters."
},
{
    "text": "Virtually all digital and radio frequency circuits, along with the majority of analog circuits, necessitate a precision oscillator. However, integrated circuit oscillators are inherently unsuitable for serving as frequency or time references in high-performance circuits. A significant issue is the imprecision of their oscillation frequency. Additionally, the jitter of these oscillators—essentially random frequency fluctuations—is excessively high for numerous applications. Consequently, integrated circuit oscillators are typically incorporated into a phase-locked loop, where their operating frequency and phase are continually compared to a precise external time reference and automatically adjusted to maintain consistency. This process parallels the generation of an accurate on-chip voltage or current based on an external reference. In essence, a phase-locked loop is a circuit that employs an external timing reference to accurately measure and produce on-chip frequencies and times.\n\nIt is reasonable to question why a phase-locked loop is necessary if a precise time reference is already available. Why not use the time reference, often a clock, directly? One key reason is that the required frequency may differ from that of the reference. This discrepancy is common because timing references are usually derived from precision resonators set to a fixed frequency, typically ranging from $1-200$ MHz for cost-effectiveness. The creation of a different or variable-frequency precision clock from a fixed-frequency reference is known as clock synthesis or frequency synthesis, representing a primary application of phase-locked loops.\n\nIn certain scenarios, the timing reference is provided by another integrated circuit with which the circuit being designed must communicate. Frequency variations can arise from changes in temperature, supply voltage, component aging, or may be intentionally introduced to minimize radiated emissions. Phase-locked loops are essential to ensure that the two circuits maintain precise alignment in both frequency and phase, enabling reliable communication. Furthermore, phase-locked loops are sometimes employed to frequency-tune circuits such as filters."
},
{
    "text": "Nearly all digital and radio frequency circuits, as well as the majority of analog circuits, necessitate a precision oscillator. However, integrated circuit oscillators are inherently unsuitable for serving as frequency or time references in high-performance applications. A significant issue is the imprecision of their oscillation frequency. Additionally, the jitter in these oscillators—essentially random frequency fluctuations—is excessively high for many uses. Consequently, these oscillators are typically incorporated into a phase-locked loop, where their frequency and phase are continually matched against a precise external time reference and automatically adjusted to maintain consistency. This process parallels the generation of an accurate on-chip voltage or current based on an external reference. In essence, a phase-locked loop is a circuit that employs an external timing reference to accurately measure and produce on-chip frequencies and time intervals.\n\nIt is reasonable to question why a phase-locked loop is necessary if a precise time reference is already available. Why not use the time reference, often a clock, directly? One key reason is that the desired frequency might differ from that of the reference. This discrepancy is common because timing references are usually derived from precision resonators set to a fixed frequency, typically in the range of $1-200$ MHz for cost-effectiveness. The creation of a different or variable-frequency precision clock from a fixed-frequency reference is known as clock synthesis or frequency synthesis, a primary function of phase-locked loops.\n\nIn certain scenarios, the timing reference is provided by another integrated circuit that must communicate with the circuit being designed. Frequency variations can arise from changes in temperature, supply voltage, component aging, or may be intentionally introduced to minimize radiated emissions. Phase-locked loops are essential to ensure the two circuits maintain precise frequency and phase alignment, enabling reliable communication. Moreover, phase-locked loops are occasionally employed to frequency-tune circuits like filters."
},
{
    "text": "Nearly all digital and radio frequency circuits, as well as the majority of analog circuits, necessitate a precision oscillator. However, integrated circuit oscillators alone are inadequate for serving as frequency or time references in high-performance circuits. A significant issue is the imprecise nature of their oscillation frequency. Additionally, the jitter of these oscillators—essentially random frequency fluctuations—is excessively high for numerous applications. Consequently, integrated circuit oscillators are typically incorporated into a phase-locked loop, where their operating frequency and phase are continually compared to a precise external time reference and automatically adjusted to maintain consistency. This process is comparable to generating a precise on-chip voltage or current based on an external reference. In essence, a phase-locked loop is a circuit that employs an external timing reference to accurately measure and produce on-chip frequencies and times.\n\nIt is reasonable to question why a phase-locked loop is necessary if a precise time reference is already available. Why not use the time reference, often a clock, directly? One reason is that the required frequency might differ from that of the reference. This is a common scenario since timing references are typically derived from precision resonators set to a fixed frequency, often within the range of 1-200 MHz for cost-effectiveness. The creation of a different and/or variable-frequency precision clock from a fixed-frequency reference is known as clock synthesis or frequency synthesis, a primary application of phase-locked loops.\n\nIn certain instances, the timing reference is provided by another integrated circuit that must communicate with the circuit being designed. Frequency variations can arise from changes in temperature, supply voltage, component aging, or may be intentionally introduced to minimize radiated emissions. Phase-locked loops are essential to ensure the two circuits maintain precise frequency and phase alignment, enabling reliable communication. Moreover, phase-locked loops are sometimes employed to frequency-tune circuits like filters."
},
{
    "text": "Nearly all digital and radio frequency circuits, as well as the majority of analog circuits, necessitate a precision oscillator. However, integrated circuit oscillators are not inherently suitable for serving as frequency or time references in high-performance circuits. A significant issue is the imprecision of their oscillation frequency. Additionally, the jitter of these oscillators, which manifests as random frequency fluctuations, is excessively high for numerous applications. Consequently, integrated circuit oscillators are typically incorporated into a phase locked loop, where their operating frequency and phase are continuously compared to a precise external time reference and automatically adjusted to maintain consistency. This process is akin to generating a precise on-chip voltage or current based on an external reference. In essence, a phase-locked loop is a circuit that employs an external timing reference to accurately measure and produce on-chip frequencies and times.\n\nIt is reasonable to question why a phase locked loop is necessary if a precise time reference is already available. Why not use the time reference, often a clock, directly? One primary reason is that the required frequency might differ from that of the reference. This discrepancy is common since timing references are usually derived from precision resonators set to a fixed frequency, typically in the range of $1-200$ MHz for cost-effectiveness. The creation of a different and/or variable-frequency precision clock from a fixed-frequency reference is known as clock synthesis or frequency synthesis, representing a key application of phase-locked loops.\n\nIn certain scenarios, the timing reference is provided by another integrated circuit with which the circuit being designed must interact. Frequency variations can arise due to changes in temperature, supply voltage, component aging, or may be deliberately introduced to minimize radiated emissions. Phase-locked loops are essential to ensure the two circuits synchronize precisely in both frequency and phase, enabling reliable communication. Lastly, phase-locked loops are sometimes utilized to frequency-tune circuits such as filters."
},
{
    "text": "Virtually all digital, radio frequency, and the majority of analog circuits necessitate a precision oscillator. However, integrated circuit oscillators alone are inadequate for serving as frequency or time references in high-performance circuits. A significant issue is the imprecise nature of their oscillation frequency. Additionally, the jitter in integrated circuit oscillators—essentially random frequency fluctuations—is excessively high for numerous applications. Consequently, these oscillators are typically incorporated into a phase-locked loop, where their operating frequency and phase are continually compared to a precise external time reference and automatically adjusted to sustain a consistent frequency and phase. This process resembles the generation of an accurate on-chip voltage or current based on an external reference. In essence, a phase-locked loop is a circuit that employs an external timing reference to accurately measure and produce on-chip frequencies and times.\n\nIt is reasonable to question why a phase-locked loop is necessary if a precise time reference is already available. Why not use the time reference, often a clock, directly? One reason is that the needed frequency might differ from that of the reference. This scenario is common since timing references are typically derived from precision resonators set to a fixed frequency, usually in the range of 1-200 MHz for cost-effectiveness. Generating a different and/or variable-frequency precision clock from a fixed-frequency reference is known as clock synthesis or frequency synthesis, a primary application of phase-locked loops.\n\nIn certain instances, the timing reference is provided by another integrated circuit with which the circuit being designed must communicate. Frequency variations can arise from changes in temperature, supply voltage, component aging, or be intentionally introduced to minimize radiated emissions. Phase-locked loops are essential to ensure the two circuits synchronize accurately in both frequency and phase, enabling reliable communication. Moreover, phase-locked loops are sometimes employed to frequency-tune circuits like filters."
},
{
    "text": "Virtually all digital and radio frequency circuits, as well as the majority of analog circuits, necessitate a precision oscillator. However, integrated circuit oscillators are inherently unsuitable for serving as frequency or time references in high-performance circuits. A significant issue is the imprecision of their oscillation frequency. Additionally, the jitter of these oscillators, akin to random frequency fluctuations, is excessively high for numerous applications. Consequently, integrated circuit oscillators are typically incorporated into a phase-locked loop, where their operating frequency and phase are continually compared to a precise external time reference and automatically adjusted to maintain consistency. This process is comparable to creating an accurate on-chip voltage or current based on an external reference. In essence, a phase-locked loop is a circuit that employs an external timing reference to accurately measure and generate on-chip frequencies and times.\n\nIt is reasonable to question why a phase-locked loop is necessary if a precise time reference is already available. Why not directly use the time reference, often a clock, instead? One primary reason is that the required frequency may differ from that of the reference. This discrepancy is common since timing references are usually derived from precision resonators set to a fixed frequency, typically within the range of 1-200 MHz for cost-effectiveness. Generating a different and/or variable-frequency precision clock from a fixed-frequency reference is known as clock synthesis or frequency synthesis, which is a key application of phase-locked loops.\n\nIn certain scenarios, the timing reference is provided by another integrated circuit with which the circuit being designed must interact. Frequency variations can arise from changes in temperature, supply voltage, component aging, or can be deliberately introduced to minimize radiated emissions. Phase-locked loops are essential to ensure that the two circuits synchronize very precisely in both frequency and phase, enabling reliable communication. Moreover, phase-locked loops are sometimes employed to frequency-tune circuits such as filters."
},
{
    "text": "The fundamental structure of a phase-locked loop (PLL) is depicted in Fig. 19.1. Typically, it comprises a phase detector, a low-pass filter known as the loop filter, a voltage-controlled oscillator (VCO), and a clock divider circuit arranged in a loop. The phase detector is a circuit that generally produces an output voltage or current with an average value proportional to the phase discrepancy between the input (reference) signal and the VCO output. The loop filter is employed to derive the average value from the phase detector's output. This average value subsequently drives the VCO, whose output frequency varies in response to changes in $\\mathrm{V}_{\\text{cntl}}$. Given that the reference input usually operates at a lower frequency than the VCO output clock, a clock divider circuit is utilized to decrease the output clock frequency before it is compared by the phase detector. The negative feedback within the loop leads to the synchronization of the input signal with the divider's output. This fundamental structure is termed an integer-N PLL because, in a stable steady state, the divider output and the input reference will exhibit the same frequency, indicating that the VCO output frequency must be precisely an integer multiple N of the input frequency.\n\n**Block Diagram Description: The Basic Architecture of a Phase-Locked Loop (PLL)**\nThe block diagram illustrates the core structure of a phase-locked loop (PLL), a control system that generates an output signal whose phase is related to the phase of an input signal. The primary components and their roles are as follows:\n\n1. **Phase Detector**: This element accepts two input signals: the reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) from the divider. It compares the phases of these signals and generates an output proportional to their phase difference, either as a current \\( I_{pd} \\) or a voltage \\( V_{pd} \\).\n\n2. **Loop Filter**: The phase detector's output is directed to the loop filter. This filter processes the phase difference signal to eliminate high-frequency noise and produces a control voltage \\( V_{cntl} \\) used to adjust the VCO.\n\n3. **Voltage-Controlled Oscillator (VCO)**: The VCO receives the control voltage \\( V_{cntl} \\) from the loop filter and generates an oscillating output signal \\( V_{osc} \\). The frequency of this output signal is regulated by the input voltage \\( V_{cntl} \\), enabling the system to lock the output frequency to the input frequency.\n\n4. **Divider (\\( \\div N \\))**: The VCO output \\( V_{osc} \\) is input to a frequency divider, which reduces the frequency by a factor of \\( N \\). The divided signal \\( V_{div} \\) is then fed back into the phase detector for comparison with the reference input.\n\n**Information Flow**:\n- The reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) are compared in the phase detector.\n- The phase detector generates an output signal proportional to the phase difference, which is then filtered by the loop filter.\n- The loop filter's output \\( V_{cntl} \\) regulates the VCO, adjusting its output frequency.\n- The VCO output \\( V_{osc} \\) is divided by the divider and fed back to the phase detector, completing the feedback loop.\n\n**System Function Overview**:\nThe PLL aligns the output frequency of the VCO with the input reference signal's frequency. The negative feedback loop ensures that the phase difference between the input and the divided VCO output is minimized, locking the frequencies together. This configuration is known as an integer-N PLL because the VCO output frequency is an integer multiple \\( N \\) of the input frequency, facilitating precise frequency synthesis and stabilization.\n\nFig. 19.1 The basic architecture of a phase-locked loop.\n\nA PLL is a negative feedback system, akin to a negative feedback amplifier. In a negative feedback amplifier, two voltages or currents are subtracted, and the loop's substantial gain ensures that their difference is minimized. In a phase-locked loop, the goal is to minimize the phase difference between the VCO output and the reference input clock. Thus, at the PLL input, these two quantities are subtracted by the phase detector, and the result is amplified through the loop filter and VCO to ensure that, in a stable steady state, the difference remains small."
},
{
    "text": "The fundamental structure of a phase-locked loop (PLL) is depicted in Fig. 19.1. It typically comprises a phase detector, a low-pass filter known as the loop filter, a voltage-controlled oscillator (VCO), and a clock divider circuit arranged in a loop configuration. The phase detector is a circuit that generally produces an output voltage or current, whose average value is proportional to the phase discrepancy between the input (reference) signal and the VCO output. The loop filter's role is to derive the average value from the phase detector's output. This average value then drives the VCO, whose output frequency adjusts in response to variations in $\\mathrm{V}_{\\text {cntl }}$. Given that the reference input usually operates at a lower frequency than the VCO output clock, a clock divider circuit is employed to decrease the output clock frequency before it is compared by the phase detector. The loop's negative feedback ensures that the input signal becomes synchronized with the divider's output. This architecture is termed an integer-N PLL because, in a stable steady state, the divider's output and the input reference will have identical frequencies, indicating that the VCO output frequency must be exactly an integer multiple N of the input frequency.\n\nimage_name: Fig. 19.1 The basic architecture of a phase-locked loop.\ndescription: The block diagram illustrates the fundamental structure of a phase-locked loop (PLL), a control system that generates an output signal whose phase is related to the phase of an input signal. The key components and their functions are as follows:\n\n1. **Phase Detector**: This element receives two input signals: the reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) from the divider. It compares the phases of these signals and generates an output proportional to their phase difference, either as a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n\n2. **Loop Filter**: The phase detector's output is directed to the loop filter. This filter processes the phase difference signal to eliminate high-frequency noise and produces a control voltage \\( V_{cntl} \\) used to adjust the VCO.\n\n3. **Voltage-Controlled Oscillator (VCO)**: The VCO accepts the control voltage \\( V_{cntl} \\) from the loop filter and generates an oscillating output signal \\( V_{osc} \\). The frequency of this output signal is regulated by the input voltage \\( V_{cntl} \\), enabling the system to lock the output frequency to the input frequency.\n\n4. **Divider (\\( \\div N \\))**: The VCO output \\( V_{osc} \\) is fed into a frequency divider, which lowers the frequency by a factor of \\( N \\). The divided signal \\( V_{div} \\) is then returned to the phase detector for comparison with the reference input.\n\n**Flow of Information**:\n- The reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) are compared in the phase detector.\n- The phase detector generates an output signal proportional to the phase difference, which is then filtered by the loop filter.\n- The loop filter's output \\( V_{cntl} \\) regulates the VCO, adjusting its output frequency.\n- The VCO output \\( V_{osc} \\) is divided by the divider and fed back to the phase detector, completing the feedback loop.\n\n**Overall System Function**:\nThe PLL aligns the output frequency of the VCO with the frequency of the input reference signal. The negative feedback loop ensures that the phase difference between the input and the divided VCO output is minimized, locking the frequencies together. This design is known as an integer-N PLL because the VCO output frequency is an integer multiple \\( N \\) of the input frequency, facilitating precise frequency synthesis and stabilization.\n\nFig. 19.1 The basic architecture of a phase-locked loop.\n\nA PLL is a negative feedback system, akin to a negative feedback amplifier. In a negative feedback amplifier, two voltages or currents are subtracted, and the loop's substantial gain ensures that their difference is minimized. In a phase-locked loop, the goal is to minimize the phase difference between the VCO output and a reference input clock. Thus, at the PLL input, these two quantities are subtracted by the phase detector, and the result is amplified through the loop filter and VCO to ensure that in a stable steady state, the difference remains small."
},
{
    "text": "The fundamental structure of a phase-locked loop (PLL) is depicted in Fig. 19.1. Typically, it comprises a phase detector, a low-pass filter known as the loop filter, a voltage-controlled oscillator (VCO), and a clock divider circuit arranged in a loop configuration. The phase detector is a circuit that generally produces an output voltage or current with an average value directly proportional to the phase discrepancy between the input (reference) signal and the VCO output. The loop filter's role is to derive the average value from the phase detector's output. This average value subsequently drives the VCO, whose output frequency varies in response to changes in $\\mathrm{V}_{\\text {cntt }}$. Given that the reference input usually operates at a lower frequency than the VCO output clock, a clock divider circuit is employed to decrease the output clock frequency before it is compared by the phase detector. The loop's negative feedback mechanism ensures that the input signal is synchronized with the output of the divider. This fundamental architecture is termed an integer-N PLL because, in a stable steady state, the divider output and the input reference will exhibit the same frequency, indicating that the VCO output frequency must be precisely an integer multiple N of the input frequency.\n\nimage_name:Fig. 19.1 The basic architecture of a phase-locked loop.\ndescription:The block diagram illustrates the fundamental structure of a phase-locked loop (PLL), a control system that generates an output signal whose phase is linked to the phase of an input signal. The primary components and their functions are as follows:\n\n1. **Phase Detector**: This element accepts two input signals: the reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) from the divider. It compares the phases of these signals and generates an output proportional to their phase difference, either as a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n\n2. **Loop Filter**: The phase detector's output is directed to the loop filter. This filter processes the phase difference signal to eliminate high-frequency noise and produces a control voltage \\( V_{cntl} \\) used to adjust the VCO.\n\n3. **Voltage-Controlled Oscillator (VCO)**: The VCO receives the control voltage \\( V_{cntl} \\) from the loop filter and generates an oscillating output signal \\( V_{osc} \\). The frequency of this output signal is regulated by the input voltage \\( V_{cntl} \\), enabling the system to lock the output frequency to the input frequency.\n\n4. **Divider (\\( \\div N \\))**: The VCO output \\( V_{osc} \\) is input into a frequency divider, which reduces the frequency by a factor of \\( N \\). The divided signal \\( V_{div} \\) is then fed back into the phase detector for comparison with the reference input.\n\n**Flow of Information**:\n- The reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) are compared in the phase detector.\n- The phase detector produces an output signal proportional to the phase difference, which is then filtered by the loop filter.\n- The loop filter's output \\( V_{cntl} \\) controls the VCO, adjusting its output frequency.\n- The VCO output \\( V_{osc} \\) is divided by the divider and fed back to the phase detector, completing the feedback loop.\n\n**Overall System Function**:\nThe PLL aligns the output frequency of the VCO with the frequency of the input reference signal. The negative feedback loop minimizes the phase difference between the input and the divided VCO output, locking the frequencies together. This architecture is referred to as an integer-N PLL because the VCO output frequency is an integer multiple \\( N \\) of the input frequency, facilitating precise frequency synthesis and stabilization.\n\nFig. 19.1 The basic architecture of a phase-locked loop.\n\nA PLL functions as a negative feedback system, akin to a negative feedback amplifier. In a negative feedback amplifier, two voltages or currents are subtracted, and the loop's substantial gain ensures that their difference is minimized. In a phase-locked loop, the goal is to minimize the phase difference between the VCO output and the reference input clock. Therefore, at the PLL input, these two quantities are subtracted by the phase detector, and the result is amplified through the loop filter and VCO to ensure that in a stable steady state, the difference remains small."
},
{
    "text": "The fundamental structure of a phase-locked loop (PLL) is depicted in Fig. 19.1. It typically comprises a phase detector, a low-pass filter known as the loop filter, a voltage-controlled oscillator (VCO), and a clock divider circuit arranged in a loop. The phase detector is a circuit that generally produces an output voltage or current with an average value corresponding to the phase difference between the input (reference) signal and the VCO output. The loop filter is employed to derive the average value from the phase detector's output. This average value then drives the VCO, whose output frequency varies in response to changes in $\\mathrm{V}_{\\text {cntl }}$. Given that the reference input is usually at a lower frequency than the VCO output clock, a clock divider circuit is utilized to decrease the output clock frequency before it is compared by the phase detector. The loop's negative feedback leads to the synchronization of the input signal with the divider's output. This fundamental structure is termed an integer-N PLL because, in a stable steady-state, the divider output and the input reference will have identical frequencies, indicating that the VCO output frequency must be exactly an integer multiple N of the input frequency.\n\n**Image Description:**\nThe block diagram illustrates the basic architecture of a phase-locked loop (PLL), a control system generating an output signal whose phase is related to the phase of an input signal. The key components and their roles are as follows:\n\n1. **Phase Detector**: This component accepts two input signals: the reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) from the divider. It compares their phases and generates an output proportional to their phase difference, either as a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n\n2. **Loop Filter**: The phase detector's output is directed to the loop filter, which processes the phase difference signal to eliminate high-frequency noise and produces a control voltage \\( V_{cntl} \\) for adjusting the VCO.\n\n3. **Voltage-Controlled Oscillator (VCO)**: The VCO receives the control voltage \\( V_{cntl} \\) from the loop filter and generates an oscillating output signal \\( V_{osc} \\). The frequency of this output is regulated by the input voltage \\( V_{cntl} \\), enabling the system to lock the output frequency to the input frequency.\n\n4. **Divider (\\( \\div N \\))**: The VCO output \\( V_{osc} \\) is fed into a frequency divider, which lowers the frequency by a factor of \\( N \\). The divided signal \\( V_{div} \\) is then returned to the phase detector for comparison with the reference input.\n\n**Information Flow**:\n- The reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) are compared in the phase detector.\n- The phase detector produces an output proportional to the phase difference, which is then filtered by the loop filter.\n- The loop filter's output \\( V_{cntl} \\) regulates the VCO, adjusting its output frequency.\n- The VCO output \\( V_{osc} \\) is divided by the divider and fed back to the phase detector, completing the feedback loop.\n\n**System Function**:\nThe PLL aligns the VCO's output frequency with the input reference signal's frequency. The negative feedback loop minimizes the phase difference between the input and the divided VCO output, locking the frequencies together. This design is known as an integer-N PLL because the VCO output frequency is an integer multiple \\( N \\) of the input frequency, facilitating precise frequency synthesis and stabilization.\n\nFig. 19.1 The basic architecture of a phase-locked loop.\n\nA PLL is a negative feedback system, akin to a negative feedback amplifier. In a negative feedback amplifier, two voltages or currents are subtracted, and the loop's substantial gain ensures their difference is minimized. In a phase-locked loop, the goal is to minimize the phase difference between the VCO output and the reference input clock. Thus, at the PLL input, these two quantities are subtracted by the phase detector, and the result is amplified through the loop filter and VCO to ensure a small difference in a stable steady-state."
},
{
    "text": "The fundamental structure of a phase-locked loop (PLL) is depicted in Fig. 19.1. Typically, it comprises a phase detector, a low-pass filter known as the loop filter, a voltage-controlled oscillator (VCO), and a clock divider circuit arranged in a loop. The phase detector is a circuit that generally produces an output voltage or current with an average value proportional to the phase discrepancy between the input (reference) signal and the VCO output. The loop filter is employed to derive the average value from the phase detector's output. This average value then drives the VCO, whose output frequency varies in response to changes in $\\mathrm{V}_{\\text {cntt }}$. Since the reference input is usually at a lower frequency than the VCO output clock, a clock divider circuit is utilized to decrease the output clock frequency before it is compared by the phase detector. The negative feedback within the loop leads to the synchronization of the input signal with the output of the divider. This fundamental structure is termed an integer-N PLL because, in a stable steady state, the divider output and input reference will have identical frequencies, indicating that the VCO output frequency must be precisely an integer multiple N of the input frequency.\n\nimage_name: Fig. 19.1 The basic architecture of a phase-locked loop.\ndescription: The block diagram illustrates the basic architecture of a phase-locked loop (PLL), a control system that generates an output signal whose phase is related to the phase of an input signal. The primary components and their functions are as follows:\n\n1. **Phase Detector**: This component receives two input signals: the reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) from the divider. It compares the phase of these signals and generates an output proportional to their phase difference, either as a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n\n2. **Loop Filter**: The output from the phase detector is directed to the loop filter. This filter processes the phase difference signal to eliminate high-frequency noise and produces a control voltage \\( V_{cntl} \\) used to adjust the VCO.\n\n3. **Voltage-Controlled Oscillator (VCO)**: The VCO accepts the control voltage \\( V_{cntl} \\) from the loop filter and generates an oscillating output signal \\( V_{osc} \\). The frequency of this output signal is regulated by the input voltage \\( V_{cntl} \\), enabling the system to lock the output frequency to the input frequency.\n\n4. **Divider (\\( \\div N \\))**: The VCO output \\( V_{osc} \\) is fed into a frequency divider, which reduces the frequency by a factor of \\( N \\). The divided signal \\( V_{div} \\) is then returned to the phase detector for comparison with the reference input.\n\n**Flow of Information**:\n- The reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) are compared in the phase detector.\n- The phase detector produces an output signal proportional to the phase difference, which is then filtered by the loop filter.\n- The loop filter's output \\( V_{cntl} \\) controls the VCO, adjusting its output frequency.\n- The VCO output \\( V_{osc} \\) is divided by the divider and fed back to the phase detector, completing the feedback loop.\n\n**Overall System Function**:\nThe PLL synchronizes the VCO's output frequency with the input reference signal's frequency. The negative feedback loop ensures that the phase difference between the input and the divided VCO output is minimized, locking the frequencies together. This architecture is referred to as an integer-N PLL because the VCO output frequency is an integer multiple \\( N \\) of the input frequency, facilitating precise frequency synthesis and stabilization.\n\nFig. 19.1 The basic architecture of a phase-locked loop.\n\nA PLL is a negative feedback system, akin to a negative feedback amplifier. In a negative feedback amplifier, two voltages or currents are subtracted, and the loop's high gain ensures that their difference is minimized. In a phase-locked loop, the goal is to minimize the phase difference between the VCO output and the reference input clock. Therefore, at the PLL input, these two quantities are subtracted by the phase detector, and the result is amplified through the loop filter and VCO to ensure that in a stable steady state, the difference remains small."
},
{
    "text": "The fundamental structure of a phase-locked loop (PLL) is illustrated in Fig. 19.1. Typically, it comprises a phase detector, a low-pass filter known as the loop filter, a voltage-controlled oscillator (VCO), and a clock divider circuit arranged in a loop configuration. The phase detector is a circuit that generally produces an output voltage or current, whose average value is proportional to the phase difference between the input (reference) signal and the VCO output. The loop filter is employed to derive the average value from the phase detector's output. This average value then drives the VCO, causing its output frequency to vary in response to changes in $\\mathrm{V}_{\\text {cntt }}$. Given that the reference input usually operates at a lower frequency than the VCO output clock, a clock divider circuit is utilized to decrease the output clock frequency before it is compared by the phase detector. The negative feedback within the loop ensures that the input signal becomes synchronized with the output of the divider. This fundamental structure is termed an integer-N PLL because, in a stable steady state, the frequencies of the divider output and the input reference match, indicating that the VCO output frequency must be precisely an integer multiple N of the input frequency.\n\nimage_name:Fig. 19.1 The basic architecture of a phase-locked loop.\ndescription:The block diagram depicts the fundamental structure of a phase-locked loop (PLL), a control system that generates an output signal whose phase is related to the phase of an input signal. The key components and their roles are as follows:\n\n1. **Phase Detector**: This element receives two input signals: the reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) from the divider. It compares the phases of these signals and generates an output proportional to their phase difference, either as a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n\n2. **Loop Filter**: The output from the phase detector is directed to the loop filter. This filter processes the phase difference signal to eliminate high-frequency noise and produces a control voltage \\( V_{cntl} \\) used to adjust the VCO.\n\n3. **Voltage-Controlled Oscillator (VCO)**: The VCO accepts the control voltage \\( V_{cntl} \\) from the loop filter and generates an oscillating output signal \\( V_{osc} \\). The frequency of this output signal is regulated by the input voltage \\( V_{cntl} \\), enabling the system to lock the output frequency to the input frequency.\n\n4. **Divider (\\( \\div N \\))**: The VCO output \\( V_{osc} \\) is input into a frequency divider, which reduces the frequency by a factor of \\( N \\). The divided signal \\( V_{div} \\) is then fed back into the phase detector for comparison with the reference input.\n\n**Flow of Information**:\n- The reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) are compared in the phase detector.\n- The phase detector generates an output signal proportional to the phase difference, which is then filtered by the loop filter.\n- The loop filter's output \\( V_{cntl} \\) regulates the VCO, adjusting its output frequency.\n- The VCO output \\( V_{osc} \\) is divided by the divider and returned to the phase detector, completing the feedback loop.\n\n**Overall System Function**:\nThe PLL aligns the output frequency of the VCO with the frequency of the input reference signal. The negative feedback loop minimizes the phase difference between the input and the divided VCO output, locking the frequencies together. This configuration is known as an integer-N PLL because the VCO output frequency is an integer multiple \\( N \\) of the input frequency, facilitating precise frequency synthesis and stabilization.\n\nFig. 19.1 The basic architecture of a phase-locked loop.\n\nA PLL is a negative feedback system, akin to a negative feedback amplifier. In a negative feedback amplifier, two voltages or currents are subtracted, and the loop's high gain ensures that their difference is minimized. In a phase-locked loop, the goal is to minimize the phase difference between the VCO output and the reference input clock. Thus, at the PLL input, these two quantities are subtracted by the phase detector, and the result is amplified through the loop filter and VCO to ensure that in a stable steady state, the difference remains small."
},
{
    "text": "The fundamental structure of a phase-locked loop (PLL) is depicted in Fig. 19.1. Typically, it comprises a phase detector, a low-pass filter known as the loop filter, a voltage-controlled oscillator (VCO), and a clock divider circuit arranged in a loop. The phase detector is a circuit that generally produces an output voltage or current with an average value proportional to the phase discrepancy between the input (reference) signal and the VCO output. The loop filter is employed to derive the average value from the phase detector's output. This average value subsequently drives the VCO, whose output frequency varies in response to changes in $\\mathrm{V}_{\\text{cntl}}$. Given that the reference input usually operates at a lower frequency than the VCO output clock, a clock divider circuit is utilized to decrease the output clock frequency before it is compared by the phase detector. The negative feedback within the loop ensures that the input signal is synchronized with the output of the divider. This fundamental architecture is termed an integer-N PLL because, in a stable steady state, the divider output and the input reference will have identical frequencies, indicating that the VCO output frequency must be precisely an integer multiple N of the input frequency.\n\n**Block Diagram Description:**\nThe block diagram illustrates the basic architecture of a phase-locked loop (PLL), a control system that generates an output signal whose phase is related to the phase of an input signal. The primary components and their roles are as follows:\n\n1. **Phase Detector**: This element receives two input signals: the reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) from the divider. It compares the phases of these signals and generates an output proportional to their phase difference, either as a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n\n2. **Loop Filter**: The phase detector's output is directed to the loop filter. This filter processes the phase difference signal to eliminate high-frequency noise and produces a control voltage \\( V_{cntl} \\) used to adjust the VCO.\n\n3. **Voltage-Controlled Oscillator (VCO)**: The VCO accepts the control voltage \\( V_{cntl} \\) from the loop filter and generates an oscillating output signal \\( V_{osc} \\). The frequency of this output signal is regulated by the input voltage \\( V_{cntl} \\), enabling the system to lock the output frequency to the input frequency.\n\n4. **Divider (\\( \\div N \\))**: The VCO output \\( V_{osc} \\) is input into a frequency divider, which lowers the frequency by a factor of \\( N \\). The divided signal \\( V_{div} \\) is then fed back into the phase detector for comparison with the reference input.\n\n**Information Flow**:\n- The reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) are compared in the phase detector.\n- The phase detector produces an output signal proportional to the phase difference, which is then filtered by the loop filter.\n- The loop filter's output \\( V_{cntl} \\) regulates the VCO, adjusting its output frequency.\n- The VCO output \\( V_{osc} \\) is divided by the divider and returned to the phase detector, completing the feedback loop.\n\n**System Function Overview**:\nThe PLL aligns the output frequency of the VCO with the frequency of the input reference signal. The negative feedback loop minimizes the phase difference between the input and the divided VCO output, locking the frequencies together. This architecture is referred to as an integer-N PLL because the VCO output frequency is an integer multiple \\( N \\) of the input frequency, facilitating precise frequency synthesis and stabilization.\n\nFig. 19.1 The basic architecture of a phase-locked loop.\n\nA PLL functions as a negative feedback system, akin to a negative feedback amplifier. In a negative feedback amplifier, two voltages or currents are subtracted, and the loop's high gain ensures that their difference is minimized. In a phase-locked loop, the goal is to minimize the phase difference between the VCO output and the reference input clock. Therefore, at the PLL input, these two quantities are subtracted by the phase detector, and the result is amplified through the loop filter and VCO to ensure that, in a stable steady state, the difference remains small."
},
{
    "text": "The fundamental structure of a phase-locked loop (PLL) is depicted in Fig. 19.1. Typically, it comprises a phase detector, a low-pass filter known as the loop filter, a voltage-controlled oscillator (VCO), and a clock divider circuit arranged in a loop configuration. The phase detector is a circuit that generally produces an output voltage or current with an average value directly proportional to the phase discrepancy between the input (reference) signal and the VCO output. The loop filter is employed to derive the average value from the phase detector's output. This average value subsequently drives the VCO, whose output frequency varies in response to changes in $\\mathrm{V}_{\\text {cntt }}$. Given that the reference input usually operates at a lower frequency than the VCO output clock, a clock divider circuit is utilized to decrease the output clock frequency before it is compared by the phase detector. The negative feedback within the loop ensures that the input signal is synchronized with the output of the divider. This fundamental structure is termed an integer-N PLL, as in a stable steady-state, the divider output and input reference will exhibit the same frequency, indicating that the VCO output frequency must be precisely an integer multiple N of the input frequency.\n\nimage_name: Fig. 19.1 The basic architecture of a phase-locked loop.\ndescription: The block diagram illustrates the fundamental structure of a phase-locked loop (PLL), a control system that generates an output signal whose phase is correlated with the phase of an input signal. The primary components and their roles are as follows:\n\n1. **Phase Detector**: This element receives two input signals: the reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) from the divider. It compares the phases of these signals and generates an output proportional to their phase difference, either as a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n\n2. **Loop Filter**: The output from the phase detector is directed to the loop filter. This filter processes the phase difference signal to eliminate high-frequency noise and produces a control voltage \\( V_{cntl} \\) used to adjust the VCO.\n\n3. **Voltage-Controlled Oscillator (VCO)**: The VCO accepts the control voltage \\( V_{cntl} \\) from the loop filter and generates an oscillating output signal \\( V_{osc} \\). The frequency of this output signal is regulated by the input voltage \\( V_{cntl} \\), enabling the system to lock the output frequency to the input frequency.\n\n4. **Divider (\\( \\div N \\))**: The VCO output \\( V_{osc} \\) is fed into a frequency divider, which lowers the frequency by a factor of \\( N \\). The divided signal \\( V_{div} \\) is then returned to the phase detector for comparison with the reference input.\n\n**Flow of Information**:\n- The reference input signal \\( V_{in} \\) and the feedback signal \\( V_{div} \\) are compared in the phase detector.\n- The phase detector generates an output signal proportional to the phase difference, which is then filtered by the loop filter.\n- The loop filter's output \\( V_{cntl} \\) regulates the VCO, adjusting its output frequency.\n- The VCO output \\( V_{osc} \\) is divided by the divider and fed back to the phase detector, completing the feedback loop.\n\n**Overall System Function**:\nThe PLL aligns the output frequency of the VCO with the frequency of the input reference signal. The negative feedback loop ensures that the phase difference between the input and the divided VCO output is minimized, locking the frequencies together. This architecture is referred to as an integer-N PLL because the VCO output frequency is an integer multiple \\( N \\) of the input frequency, facilitating precise frequency synthesis and stabilization.\n\nFig. 19.1 The basic architecture of a phase-locked loop.\n\nA PLL is a negative feedback system, akin to a negative feedback amplifier. In a negative feedback amplifier, two voltages or currents are subtracted, and the loop's substantial gain ensures that their difference is minimized. In a phase-locked loop, the goal is to minimize the phase difference between the VCO output and the reference input clock. Therefore, at the PLL input, these two quantities are subtracted by the phase detector, and the result is amplified through the loop filter and VCO to ensure that in a stable steady-state, the difference remains small."
},
{
    "text": "A crucial element of PLLs is the VCO, a circuit that generates an oscillatory output (such as a sinusoid or other clock signal) whose frequency is governed by an input control voltage, $\\mathrm{V}_{\\text{cntt}}$. Therefore, if the VCO output is a sinusoidal voltage that varies slowly over time, it can be expressed by the equation\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text{osc}}(\\mathrm{t}) = \\mathrm{E} \\sin \\left[\\omega_0 \\mathrm{t} + \\phi(\\mathrm{t})\\right] \\tag{19.1}\n\\end{equation*}\n$$\n\nwhere $\\omega_0$ represents the oscillator's nominal or free-running frequency, and $\\phi(\\mathrm{t})$ is the oscillator's instantaneous phase. The instantaneous frequency of the oscillator is the rate of change of $\\left[\\omega_0 \\mathrm{t} + \\phi(\\mathrm{t})\\right]$, measured in rad/$\\mathrm{sec}$.\n\n$$\n\\begin{equation*}\n\\omega_{\\text{inst}}(\\mathrm{t}) = \\frac{\\mathrm{d}\\left[\\omega_0 \\mathrm{t} + \\phi(\\mathrm{t})\\right]}{\\mathrm{dt}} = \\omega_0 + \\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.2}\n\\end{equation*}\n$$\n\nThus, if the oscillator phase $\\phi(\\mathrm{t})$ remains constant, the instantaneous frequency equals the free-running frequency, $\\omega_{\\text{inst}}(\\mathrm{t}) = \\omega_0$.\n\nNext, define the deviation of the VCO's instantaneous frequency from its free-running frequency as\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t}) = \\omega_{\\text{inst}}(\\mathrm{t}) - \\omega_0 \\tag{19.3}\n\\end{equation*}\n$$\n\nObviously, $\\omega(\\mathrm{t})$ depends on the VCO control voltage $\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{t})$. From equation (19.2), it is clear that $\\omega(\\mathrm{t})$ is linearly related to the phase.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t}) = \\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.4}\n\\end{equation*}\n$$\n\nBy integrating both sides of (19.4), we obtain\n\n$$\n\\begin{equation*}\n\\phi(\\mathrm{t}) = \\phi(0) + \\int_0^{\\mathrm{t}} \\omega(\\tau) \\mathrm{d} \\tau \\tag{19.5}\n\\end{equation*}\n$$\n\nimage_name: Fig. 19.2\ndescription: The block diagram in Fig. 19.2 depicts the functioning of a clock divider with a division ratio of N=4.\n\n1. **Main Components:**\n- **Divider Block:** The central element is a block labeled \"÷ 4 Divider,\" which divides the input signal's frequency by four.\n- **Input Voltage (V_osc):** This is the signal entering the divider, shown as a waveform labeled V_osc.\n- **Output Voltage (V_div):** This is the signal exiting the divider, represented by a waveform labeled V_div.\n\n2. **Flow of Information or Control:**\n- The input signal V_osc, with a period of T_0, enters the divider block.\n- The divider processes this signal and produces V_div, which has a period of 4T_0, indicating a frequency reduction to one-fourth of the input frequency.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The period of the input signal V_osc is marked as T_0, with the interval between two rising edges shown as Δt.\n- The output waveform V_div is displayed with a period of 4T_0, illustrating the division effect.\n- The time axis starts at t = 0.\n\n4. **Overall System Function:**\n- The system's main function is to take an oscillating input signal (V_osc) and decrease its frequency by a factor of four, resulting in an output signal (V_div) with a longer period. This is accomplished by the divider block, which counts input cycles and outputs a lower frequency signal. Such systems are commonly used in digital circuits requiring lower frequency clock signals.\n\nimage_name:\ndescription: The graph shows the operation of a clock divider with a division ratio of N=4. It is a time-domain waveform displaying two signals: the input voltage to the divider, \\( V_{osc} \\), and the divided output voltage, \\( V_{div} \\).\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform graph illustrating the behavior of a clock signal through a divider.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time \\( t \\), starting from \\( t = 0 \\).\n- The vertical axis indicates voltage levels for both \\( V_{osc} \\) and \\( V_{div} \\).\n\n3. **Overall Behavior and Trends:**\n- The \\( V_{osc} \\) signal is a periodic waveform with a period \\( T_0 \\), showing a square wave pattern with equal high and low states.\n- The \\( V_{div} \\) signal is also a square wave but with a period of \\( 4T_0 \\), indicating it is four times the period of \\( V_{osc} \\).\n- Starting at \\( t = 0 \\), the output \\( V_{div} \\) changes state after every four cycles of the input \\( V_{osc} \\).\n\n4. **Key Features and Technical Details:**\n- The input \\( V_{osc} \\) signal completes four cycles within \\( 4T_0 \\).\n- The output \\( V_{div} \\) signal completes one cycle in the same \\( 4T_0 \\) duration.\n- The initial time delay \\( \\Delta t \\) is noted, showing the phase difference between \\( V_{osc} \\) and \\( V_{div} \\).\n\n5. **Annotations and Specific Data Points:**\n- The diagram includes a block labeled \"/4 Divider\" indicating the division operation.\n- Labels such as \\( T_0 \\) and \\( 4T_0 \\) denote the periods of the signals.\n- The graph clearly illustrates how the clock divider reduces the frequency by a factor of four, as evidenced by the longer period of \\( V_{div} \\) compared to \\( V_{osc} \\).\n\nFig. 19.2 The operation of a clock divider with a division ratio of $\\mathrm{N}=4$.\n\nKey Point: The instantaneous frequency deviation of a VCO from its free-running frequency is the derivative of its instantaneous phase. Consequently, the instantaneous phase is the integral of the instantaneous frequency deviation. By taking the Laplace transform of both sides of (19.4), we get\n\n$$\n\\begin{equation*}\n\\phi(s) = \\frac{\\omega(s)}{s} \\tag{19.6}\n\\end{equation*}\n$$\n\nwhere $\\phi(\\mathrm{s})$ and $\\omega(\\mathrm{s})$ are the Laplace transforms of $\\phi(\\mathrm{t})$ and $\\omega(\\mathrm{t})$, respectively. Equation (19.6) will be used to model the relationship between the VCO's input control voltage and the phase of its output signal. To develop a linear model, assume that $\\omega(\\mathrm{t})$ is proportional to the control voltage with a proportionality constant $\\mathrm{K}_{\\mathrm{osc}}$, having units of $\\mathrm{rad}/(\\mathrm{sec} \\cdot \\mathrm{V})$.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t}) = \\mathrm{K}_{\\mathrm{osc}} \\mathrm{~V}_{\\mathrm{cnt1}}(\\mathrm{t}) \\tag{19.7}\n\\end{equation*}\n$$\n\nEven in nonlinear scenarios, (19.7) can serve as a small-signal model where $\\mathrm{K}_{\\text{osc}}$ relates small variations in $\\mathrm{V}_{\\mathrm{cnt}}(\\mathrm{t})$ to the corresponding changes in $\\omega(\\mathrm{t})$."
},
{
    "text": "A crucial element of PLLs is the VCO, a circuit generating an oscillatory output (such as a sinusoid or other clock signal) whose frequency is influenced by an input control voltage, $\\mathrm{V}_{\\text {cntt }}$. Thus, if the VCO output is a sinusoidal voltage that varies slowly over time, it can be expressed by the equation\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {osc }}(\\mathrm{t})=\\mathrm{E} \\sin \\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right] \\tag{19.1}\n\\end{equation*}\n$$\n\nwhere $\\omega_{0}$ represents the oscillator's nominal or free-running frequency, and $\\phi(\\mathrm{t})$ is the oscillator's instantaneous phase. The instantaneous frequency of the oscillator is the rate of change of $\\left[\\omega_{0} t+\\phi(t)\\right]$, measured in rad $/ \\mathrm{sec}$.\n\n$$\n\\begin{equation*}\n\\omega_{\\text {inst }}(\\mathrm{t})=\\frac{\\mathrm{d}\\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right]}{\\mathrm{dt}}=\\omega_{0}+\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.2}\n\\end{equation*}\n$$\n\nTherefore, if the oscillator phase $\\phi(\\mathrm{t})$ remains constant, the instantaneous frequency equals the free-running frequency, $\\omega_{\\text {inst }}(\\mathrm{t})=\\omega_{0}$.\n\nNext, define the deviation of the VCO's instantaneous frequency from its free-running frequency as\n\n$$\n\\begin{equation*}\n\\omega(t)=\\omega_{\\text {inst }}(t)-\\omega_{0} \\tag{19.3}\n\\end{equation*}\n$$\n\nObviously, $\\omega(\\mathrm{t})$ depends on the VCO control voltage $\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{t})$. From (19.2), it is clear that $\\omega(\\mathrm{t})$ is linearly related to the phase.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.4}\n\\end{equation*}\n$$\n\nIntegrating both sides of (19.4) yields\n\n$$\n\\begin{equation*}\n\\phi(\\mathrm{t})=\\phi(0)+\\int_{0}^{\\mathrm{t}} \\omega(\\tau) \\mathrm{d} \\tau \\tag{19.5}\n\\end{equation*}\n$$\n\nimage_name:Fig. 19.2\ndescription:Fig. 19.2 presents a block diagram depicting the operation of a clock divider with a division ratio of N=4.\n\n1. **Primary Components:**\n- **Divider Block:** The core element is a block marked \"÷ 4 Divider,\" tasked with reducing the frequency of the input signal by a factor of four.\n- **Input Voltage (V_osc):** This is the incoming signal to the divider, shown as a waveform labeled V_osc.\n- **Output Voltage (V_div):** This is the outgoing signal from the divider, represented by a waveform labeled V_div.\n\n2. **Information Flow:**\n- The input signal V_osc, with a period of T_0, enters the divider block.\n- The divider processes this signal and produces V_div, which has a period of 4T_0, indicating a frequency reduction to one-fourth of the input frequency.\n\n3. **Labels and Annotations:**\n- The period of the input signal V_osc is marked as T_0, and the interval between two rising edges is shown as Δt.\n- The output waveform V_div exhibits a period of 4T_0, highlighting the division effect.\n- The time axis starts at t = 0.\n\n4. **System Function:**\n- The main function of this system is to decrease the frequency of an oscillating input signal (V_osc) by a factor of four, resulting in an output signal (V_div) with an extended period. This is accomplished by the divider block, which counts input cycles and outputs a lower frequency signal. Such systems are commonly used in digital circuits requiring lower frequency clock signals.\n\nimage_name:\ndescription:This graph illustrates the function of a clock divider with a division ratio of N=4. It is a time-domain waveform showing two signals: the input voltage to the divider, \\( V_{osc} \\), and the divided output voltage, \\( V_{div} \\).\n\n1. **Graph Type and Function:**\n- This is a time-domain waveform graph showing the behavior of a clock signal through a divider.\n\n2. **Axes and Units:**\n- The horizontal axis represents time \\( t \\), starting from \\( t = 0 \\).\n- The vertical axis displays voltage levels for both \\( V_{osc} \\) and \\( V_{div} \\).\n\n3. **Behavior and Trends:**\n- The \\( V_{osc} \\) signal is a periodic waveform with a period \\( T_0 \\), showing a square wave pattern.\n- The \\( V_{div} \\) signal is also a square wave but with a period of \\( 4T_0 \\), indicating it is four times longer than \\( V_{osc} \\).\n- Starting at \\( t=0 \\), the output \\( V_{div} \\) changes state after every four cycles of \\( V_{osc} \\).\n\n4. **Key Features:**\n- The input \\( V_{osc} \\) completes four cycles within \\( 4T_0 \\).\n- The output \\( V_{div} \\) completes one cycle in \\( 4T_0 \\).\n- The initial phase difference between \\( V_{osc} \\) and \\( V_{div} \\) is noted as \\( \\Delta t \\).\n\n5. **Annotations:**\n- The diagram includes a block labeled \"/4 Divider\" indicating the division process.\n- Labels such as \\( T_0 \\) and \\( 4T_0 \\) denote the periods of the signals.\n- The graph clearly demonstrates the frequency reduction by a factor of four, as evidenced by the longer period of \\( V_{div} \\) compared to \\( V_{osc} \\).\n\nFig. 19.2 The operation of a clock divider with a division ratio of $\\mathrm{N}=4$.\n\nKey Point: The instantaneous frequency deviation of a VCO from its free-running frequency is the derivative of its instantaneous phase. Consequently, its instantaneous phase is the integral of the instantaneous frequency deviation. By taking the Laplace transform of both sides of (19.4), we obtain\n\n$$\n\\begin{equation*}\n\\phi(s)=\\frac{\\omega(s)}{s} \\tag{19.6}\n\\end{equation*}\n$$\n\nwhere $\\phi(\\mathrm{s})$ and $\\omega(\\mathrm{s})$ are the Laplace transforms of $\\phi(\\mathrm{t})$ and $\\omega(\\mathrm{t})$, respectively. Equation (19.6) will be used to model the relationship between the VCO's input control voltage and the phase of its output signal. To develop a linear model, assume that $\\omega(\\mathrm{t})$ is proportional to the control voltage with a proportionality constant $\\mathrm{K}_{\\mathrm{osc}}$, having units $\\mathrm{rad} /(\\mathrm{sec} \\cdot \\mathrm{V})$.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\mathrm{K}_{\\mathrm{osc}} \\mathrm{~V}_{\\mathrm{cnt1}}(\\mathrm{t}) \\tag{19.7}\n\\end{equation*}\n$$\n\nEven in nonlinear scenarios, (19.7) can serve as a small-signal model where $\\mathrm{K}_{\\text {osc }}$ relates minor variations in $\\mathrm{V}_{\\mathrm{cnt}}(\\mathrm{t})$ to corresponding changes in $\\omega(\\mathrm{t})$."
},
{
    "text": "A crucial element of Phase-Locked Loops (PLLs) is the Voltage-Controlled Oscillator (VCO), a circuit that generates an oscillatory output—such as a sinusoidal or other clock signal—whose frequency is governed by an input control voltage, $\\mathrm{V}_{\\text {cntt }}$. Assuming the VCO's output is a sinusoidal voltage that varies slowly over time, it can be expressed by the equation\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {osc }}(\\mathrm{t})=\\mathrm{E} \\sin \\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right] \\tag{19.1}\n\\end{equation*}\n$$\n\nHere, $\\omega_{0}$ represents the oscillator's nominal or free-running frequency, while $\\phi(\\mathrm{t})$ is the oscillator's instantaneous phase. The instantaneous frequency of the oscillator is the rate of change of $\\left[\\omega_{0} t+\\phi(t)\\right]$, measured in radians per second.\n\n$$\n\\begin{equation*}\n\\omega_{\\text {inst }}(\\mathrm{t})=\\frac{\\mathrm{d}\\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right]}{\\mathrm{dt}}=\\omega_{0}+\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.2}\n\\end{equation*}\n$$\n\nThus, if the oscillator's phase $\\phi(\\mathrm{t})$ remains constant, the instantaneous frequency equals the free-running frequency, $\\omega_{\\text {inst }}(\\mathrm{t})=\\omega_{0}$.\n\nNext, we define the deviation of the VCO's instantaneous frequency from its free-running frequency as\n\n$$\n\\begin{equation*}\n\\omega(t)=\\omega_{\\text {inst }}(t)-\\omega_{0} \\tag{19.3}\n\\end{equation*}\n$$\n\nClearly, $\\omega(\\mathrm{t})$ depends on the VCO's control voltage $\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{t})$. From equation (19.2), it is evident that $\\omega(\\mathrm{t})$ is linearly related to the phase.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.4}\n\\end{equation*}\n$$\n\nIntegrating both sides of equation (19.4) yields\n\n$$\n\\begin{equation*}\n\\phi(\\mathrm{t})=\\phi(0)+\\int_{0}^{\\mathrm{t}} \\omega(\\tau) \\mathrm{d} \\tau \\tag{19.5}\n\\end{equation*}\n$$\n\nimage_name:Fig. 19.2\ndescription:Fig. 19.2 presents a block diagram depicting the operation of a clock divider with a division ratio of N=4.\n\n1. **Primary Components:**\n- **Divider Block:** The core element is a block marked \"÷ 4 Divider,\" which divides the input signal's frequency by four.\n- **Input Voltage (V_osc):** This is the incoming signal to the divider, shown as a waveform labeled V_osc.\n- **Output Voltage (V_div):** This is the outgoing signal from the divider, represented by a waveform labeled V_div.\n\n2. **Information and Control Flow:**\n- The input signal V_osc, with a period of T_0, enters the divider block.\n- The divider processes this signal, producing V_div, which has a period of 4T_0, indicating a frequency reduction to one-fourth of the input frequency.\n\n3. **Labels and Annotations:**\n- The period of the input signal V_osc is marked as T_0, with the interval between two rising edges shown as Δt.\n- The output waveform V_div exhibits a period of 4T_0, illustrating the division effect.\n- The time axis starts at t = 0.\n\n4. **System Function:**\n- The main function of this system is to lower the frequency of an oscillating input signal (V_osc) by a factor of four, resulting in an output signal (V_div) with a longer period. This is accomplished via the divider block, which counts input cycles and outputs a signal at a reduced frequency, commonly used in digital circuits requiring lower frequency clock signals.\n\nimage_name:\ndescription:This graph shows the operation of a clock divider with a division ratio of N=4, presenting time-domain waveforms of the input voltage to the divider, \\( V_{osc} \\), and the divided output voltage, \\( V_{div} \\).\n\n1. **Graph Type and Function:**\n- It is a time-domain waveform graph illustrating the behavior of a clock signal through a divider.\n\n2. **Axes and Units:**\n- The horizontal axis represents time \\( t \\), starting from \\( t = 0 \\).\n- The vertical axis displays voltage levels for both \\( V_{osc} \\) and \\( V_{div} \\).\n\n3. **Behavior and Trends:**\n- The \\( V_{osc} \\) signal is a periodic square wave with a period \\( T_0 \\).\n- The \\( V_{div} \\) signal is also a square wave but with a period of \\( 4T_0 \\), indicating it is four times longer than \\( V_{osc} \\).\n- Starting at \\( t=0 \\), the output \\( V_{div} \\) changes state after every four cycles of the input \\( V_{osc} \\).\n\n4. **Key Features:**\n- The input \\( V_{osc} \\) completes four cycles within \\( 4T_0 \\).\n- The output \\( V_{div} \\) completes one cycle in the same \\( 4T_0 \\) duration.\n- The initial phase difference between \\( V_{osc} \\) and \\( V_{div} \\) is noted as \\( \\Delta t \\).\n\n5. **Annotations:**\n- The diagram includes a \"/4 Divider\" label indicating the division process.\n- Labels like \\( T_0 \\) and \\( 4T_0 \\) denote the periods of the signals.\n- The graph clearly demonstrates the frequency reduction by a factor of four, as evidenced by the longer period of \\( V_{div} \\) compared to \\( V_{osc} \\).\n\nFig. 19.2 The operation of a clock divider with a division ratio of $\\mathrm{N}=4$.\n\nKey Point: The instantaneous frequency deviation of a VCO from its free-running frequency is the derivative of its instantaneous phase, and conversely, its instantaneous phase is the integral of the instantaneous frequency deviation. By taking the Laplace transform of both sides of equation (19.4), we obtain\n\n$$\n\\begin{equation*}\n\\phi(s)=\\frac{\\omega(s)}{s} \\tag{19.6}\n\\end{equation*}\n$$\n\nHere, $\\phi(\\mathrm{s})$ and $\\omega(\\mathrm{s})$ are the Laplace transforms of $\\phi(\\mathrm{t})$ and $\\omega(\\mathrm{t})$, respectively. Equation (19.6) will be used to model the relationship between the VCO's input control voltage and the phase of its output signal. To develop a linear model, assume that $\\omega(\\mathrm{t})$ is proportional to the control voltage with a proportionality constant $\\mathrm{K}_{\\mathrm{osc}}$, having units of $\\mathrm{rad} /(\\mathrm{sec} \\cdot \\mathrm{V})$.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\mathrm{K}_{\\mathrm{osc}} \\mathrm{~V}_{\\mathrm{cnt1}}(\\mathrm{t}) \\tag{19.7}\n\\end{equation*}\n$$\n\nEven in nonlinear scenarios, equation (19.7) can serve as a small-signal model, where $\\mathrm{K}_{\\text {osc }}$ relates small variations in $\\mathrm{V}_{\\mathrm{cnt}}(\\mathrm{t})$ to corresponding changes in $\\omega(\\mathrm{t})$."
},
{
    "text": "A crucial element of PLLs is the VCO, a circuit that produces an oscillatory output (such as a sinusoid or other clock signal) whose frequency is governed by an input control voltage, $\\mathrm{V}_{\\text {cntt }}$. Thus, if the VCO output is a sinusoidal voltage that changes slowly over time, it can be expressed by the equation\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {osc }}(\\mathrm{t})=\\mathrm{E} \\sin \\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right] \\tag{19.1}\n\\end{equation*}\n$$\n\nwhere $\\omega_{0}$ represents the oscillator's nominal or free-running frequency, and $\\phi(\\mathrm{t})$ is the oscillator's instantaneous phase. The instantaneous frequency of the oscillator is the rate of change of $\\left[\\omega_{0} t+\\phi(t)\\right]$, measured in rad $/ \\mathrm{sec}$.\n\n$$\n\\begin{equation*}\n\\omega_{\\text {inst }}(\\mathrm{t})=\\frac{\\mathrm{d}\\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right]}{\\mathrm{dt}}=\\omega_{0}+\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.2}\n\\end{equation*}\n$$\n\nTherefore, if the oscillator phase $\\phi(\\mathrm{t})$ remains constant, the instantaneous frequency equals the free-running frequency, $\\omega_{\\text {inst }}(\\mathrm{t})=\\omega_{0}$.\n\nNext, define the deviation of the VCO's instantaneous frequency from its free-running frequency as\n\n$$\n\\begin{equation*}\n\\omega(t)=\\omega_{\\text {inst }}(t)-\\omega_{0} \\tag{19.3}\n\\end{equation*}\n$$\n\nObviously, $\\omega(\\mathrm{t})$ depends on the VCO control voltage $\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{t})$. From equation (19.2), it is clear that $\\omega(\\mathrm{t})$ is linearly related to the phase.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.4}\n\\end{equation*}\n$$\n\nIntegrating both sides of (19.4) yields\n\n$$\n\\begin{equation*}\n\\phi(\\mathrm{t})=\\phi(0)+\\int_{0}^{\\mathrm{t}} \\omega(\\tau) \\mathrm{d} \\tau \\tag{19.5}\n\\end{equation*}\n$$\n\nimage_name:Fig. 19.2\ndescription:Fig. 19.2 presents a block diagram showing the operation of a clock divider with a division ratio of N=4.\n\n1. **Core Components:**\n- **Divider Block:** The central element is a block marked \"÷ 4 Divider,\" tasked with reducing the input signal's frequency by a factor of four.\n- **Input Voltage (V_osc):** This is the incoming signal to the divider, depicted as a waveform labeled V_osc.\n- **Output Voltage (V_div):** This is the outgoing signal from the divider, illustrated as a waveform labeled V_div.\n\n2. **Information Flow:**\n- The input signal V_osc, with a period of T_0, enters the divider block.\n- The divider processes this signal and outputs V_div, which has a period of 4T_0, signifying a frequency reduction to one-fourth of the input frequency.\n\n3. **Labels and Annotations:**\n- The period of the input signal V_osc is marked as T_0, with the interval between two rising edges shown as Δt.\n- The output waveform V_div is depicted with a period of 4T_0, highlighting the division effect.\n- The time axis starts at t = 0.\n\n4. **System Function:**\n- The main function of this system is to take an oscillating input signal (V_osc) and decrease its frequency by a factor of four, resulting in an output signal (V_div) with a longer period. This is accomplished by the divider block, which counts input cycles and outputs a lower frequency signal. Such systems are commonly used in digital circuits requiring lower frequency clock signals.\nimage_name:\ndescription:The graph depicts the operation of a clock divider with a division ratio of N=4. It shows a time-domain waveform of two signals: the input voltage to the divider, \\( V_{osc} \\), and the divided output voltage, \\( V_{div} \\).\n\n1. **Graph Type and Function:**\n- This is a time-domain waveform graph illustrating the behavior of a clock signal through a divider.\n\n2. **Axes and Units:**\n- The horizontal axis represents time \\( t \\), starting from \\( t = 0 \\).\n- The vertical axis displays voltage levels for both \\( V_{osc} \\) and \\( V_{div} \\).\n\n3. **Behavior and Trends:**\n- The \\( V_{osc} \\) signal is a periodic waveform with a period \\( T_0 \\), showing a square wave pattern.\n- The \\( V_{div} \\) signal is also a square wave but with a period of \\( 4T_0 \\), indicating it is four times longer than \\( V_{osc} \\).\n- Starting at \\( t=0 \\), the output \\( V_{div} \\) changes state after every four cycles of the input \\( V_{osc} \\).\n\n4. **Key Features:**\n- The input \\( V_{osc} \\) completes four cycles within \\( 4T_0 \\).\n- The output \\( V_{div} \\) completes one cycle in the same \\( 4T_0 \\) duration.\n- The initial phase difference between \\( V_{osc} \\) and \\( V_{div} \\) is noted as \\( \\Delta t \\).\n\n5. **Annotations:**\n- The diagram includes a block labeled \"/4 Divider\" indicating the division operation.\n- Labels like \\( T_0 \\) and \\( 4T_0 \\) denote the periods of the signals.\n- The graph clearly illustrates the frequency reduction by a factor of four, as shown by the longer period of \\( V_{div} \\) compared to \\( V_{osc} \\).\n\nFig. 19.2 The operation of a clock divider with a division ratio of $\\mathrm{N}=4$.\n\nKey Point: The instantaneous frequency deviation of a VCO from its free-running frequency is the derivative of its instantaneous phase. Consequently, its instantaneous phase is the integral of the instantaneous frequency deviation. By taking the Laplace transform of both sides of (19.4), we obtain\n\n$$\n\\begin{equation*}\n\\phi(s)=\\frac{\\omega(s)}{s} \\tag{19.6}\n\\end{equation*}\n$$\n\nwhere $\\phi(\\mathrm{s})$ and $\\omega(\\mathrm{s})$ are the Laplace transforms of $\\phi(\\mathrm{t})$ and $\\omega(\\mathrm{t})$, respectively. Equation (19.6) will be utilized to model the relationship between the VCO's input control voltage and the phase of its output signal. To develop a linear model, assume that $\\omega(\\mathrm{t})$ is proportional to the control voltage with a proportionality constant $\\mathrm{K}_{\\mathrm{osc}}$, having units $\\mathrm{rad} /(\\mathrm{sec} \\cdot \\mathrm{V})$.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\mathrm{K}_{\\mathrm{osc}} \\mathrm{~V}_{\\mathrm{cnt1}}(\\mathrm{t}) \\tag{19.7}\n\\end{equation*}\n$$\n\nEven in nonlinear relationships, (19.7) can serve as a small-signal model where $\\mathrm{K}_{\\text {osc }}$ relates minor variations in $\\mathrm{V}_{\\mathrm{cnt}}(\\mathrm{t})$ to corresponding changes in $\\omega(\\mathrm{t})$."
},
{
    "text": "A crucial element of PLLs is the VCO, a circuit that produces an oscillatory output (such as a sinusoid or other clock signal) whose frequency is governed by an input control voltage, $\\mathrm{V}_{\\text {cntt }}$. Therefore, if the VCO output is a sinusoidal voltage that varies slowly over time, it can be expressed by the equation\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {osc }}(\\mathrm{t})=\\mathrm{E} \\sin \\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right] \\tag{19.1}\n\\end{equation*}\n$$\n\nwhere $\\omega_{0}$ represents the oscillator's nominal or free-running frequency, and $\\phi(\\mathrm{t})$ is the oscillator's instantaneous phase. The instantaneous frequency of the oscillator is the rate of change of $\\left[\\omega_{0} t+\\phi(t)\\right]$, measured in rad $/ \\mathrm{sec}$.\n\n$$\n\\begin{equation*}\n\\omega_{\\text {inst }}(\\mathrm{t})=\\frac{\\mathrm{d}\\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right]}{\\mathrm{dt}}=\\omega_{0}+\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.2}\n\\end{equation*}\n$$\n\nThus, if the oscillator phase $\\phi(\\mathrm{t})$ remains constant, the instantaneous frequency equals the free-running frequency, $\\omega_{\\text {inst }}(\\mathrm{t})=\\omega_{0}$.\n\nNext, define the deviation of the VCO's instantaneous frequency from its free-running frequency as\n\n$$\n\\begin{equation*}\n\\omega(t)=\\omega_{\\text {inst }}(t)-\\omega_{0} \\tag{19.3}\n\\end{equation*}\n$$\n\nClearly, $\\omega(\\mathrm{t})$ depends on the VCO control voltage $\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{t})$. From equation (19.2), it is evident that $\\omega(\\mathrm{t})$ is linearly related to the phase.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.4}\n\\end{equation*}\n$$\n\nIntegrating both sides of (19.4) yields\n\n$$\n\\begin{equation*}\n\\phi(\\mathrm{t})=\\phi(0)+\\int_{0}^{\\mathrm{t}} \\omega(\\tau) \\mathrm{d} \\tau \\tag{19.5}\n\\end{equation*}\n$$\n\nimage_name:Fig. 19.2\ndescription:Fig. 19.2 depicts a block diagram showing the operation of a clock divider with a division ratio of N=4.\n\n1. **Primary Components:**\n- **Divider Block:** The central element is a block labeled \"÷ 4 Divider,\" tasked with reducing the frequency of the input signal by a factor of four.\n- **Input Voltage (V_osc):** This is the signal fed into the divider, depicted as a waveform labeled V_osc.\n- **Output Voltage (V_div):** This is the signal output from the divider, illustrated as a waveform labeled V_div.\n\n2. **Information and Control Flow:**\n- The input signal V_osc, with a period of T_0, enters the divider block.\n- The divider processes this signal and outputs V_div, which has a period of 4T_0, indicating a frequency reduction to one-fourth of the input frequency.\n\n3. **Labels and Annotations:**\n- The period of the input signal V_osc is marked as T_0, with the interval between two rising edges shown as Δt.\n- The output waveform V_div is shown with a period of 4T_0, highlighting the division effect.\n- The time axis starts at t = 0.\n\n4. **System Function:**\n- The main function of this system is to take an oscillating input signal (V_osc) and decrease its frequency by a factor of four, resulting in an output signal (V_div) with a longer period. This is accomplished by the divider block, which counts input cycles and outputs a lower frequency signal. Such systems are commonly used in digital circuits requiring lower frequency clock signals.\nimage_name:\ndescription:This graph shows the operation of a clock divider with a division ratio of N=4. It is a time-domain waveform displaying two signals: the input voltage to the divider, \\( V_{osc} \\), and the divided output voltage, \\( V_{div} \\).\n\n1. **Graph Type and Function:**\n- This is a time-domain waveform graph illustrating the behavior of a clock signal through a divider.\n\n2. **Axes and Units:**\n- The horizontal axis represents time \\( t \\), starting from \\( t = 0 \\).\n- The vertical axis indicates voltage levels for both \\( V_{osc} \\) and \\( V_{div} \\).\n\n3. **Behavior and Trends:**\n- The \\( V_{osc} \\) signal is a periodic waveform with a period \\( T_0 \\), showing a square wave pattern.\n- The \\( V_{div} \\) signal is also a square wave but with a period of \\( 4T_0 \\), indicating it is four times the period of \\( V_{osc} \\).\n- Starting at \\( t=0 \\), the output \\( V_{div} \\) changes state after every four cycles of the input \\( V_{osc} \\).\n\n4. **Key Features and Details:**\n- The input \\( V_{osc} \\) completes four cycles within \\( 4T_0 \\).\n- The output \\( V_{div} \\) completes one cycle in the same \\( 4T_0 \\) duration.\n- The initial phase difference between \\( V_{osc} \\) and \\( V_{div} \\) is noted as \\( \\Delta t \\).\n\n5. **Annotations and Data Points:**\n- The diagram includes a block labeled \"/4 Divider\" indicating the division process.\n- Labels such as \\( T_0 \\) and \\( 4T_0 \\) denote the periods of the signals.\n- The graph clearly illustrates the frequency reduction by a factor of four, as evidenced by the longer period of \\( V_{div} \\) compared to \\( V_{osc} \\).\n\nFig. 19.2 The operation of a clock divider with a division ratio of $\\mathrm{N}=4$.\n\nKey Point: The instantaneous frequency deviation of a VCO from its free-running frequency is the derivative of its instantaneous phase. Consequently, its instantaneous phase is the integral of the instantaneous frequency deviation. By taking the Laplace transform of both sides of (19.4), we obtain\n\n$$\n\\begin{equation*}\n\\phi(s)=\\frac{\\omega(s)}{s} \\tag{19.6}\n\\end{equation*}\n$$\n\nwhere $\\phi(\\mathrm{s})$ and $\\omega(\\mathrm{s})$ are the Laplace transforms of $\\phi(\\mathrm{t})$ and $\\omega(\\mathrm{t})$, respectively. Equation (19.6) will be utilized to model the relationship between the VCO's input control voltage and the phase of its output signal. To develop a linear model, assume that $\\omega(\\mathrm{t})$ is proportional to the control voltage with a proportionality constant $\\mathrm{K}_{\\mathrm{osc}}$, having units $\\mathrm{rad} /(\\mathrm{sec} \\cdot \\mathrm{V})$.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\mathrm{K}_{\\mathrm{osc}} \\mathrm{~V}_{\\mathrm{cnt1}}(\\mathrm{t}) \\tag{19.7}\n\\end{equation*}\n$$\n\nEven in nonlinear relationships, (19.7) can serve as a small-signal model where $\\mathrm{K}_{\\text {osc }}$ relates minor variations in $\\mathrm{V}_{\\mathrm{cnt}}(\\mathrm{t})$ to the corresponding changes in $\\omega(\\mathrm{t})$."
},
{
    "text": "A critical element of PLLs is the VCO, a circuit that generates an oscillatory output (such as a sinusoid or other clock signal) whose frequency is controlled by an input voltage, $\\mathrm{V}_{\\text {cntt }}$. Thus, if the VCO output is a sinusoidal voltage that varies slowly over time, it can be expressed by the equation\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {osc }}(\\mathrm{t})=\\mathrm{E} \\sin \\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right] \\tag{19.1}\n\\end{equation*}\n$$\n\nwhere $\\omega_{0}$ represents the oscillator's inherent or free-running frequency, and $\\phi(\\mathrm{t})$ is the oscillator's instantaneous phase. The instantaneous frequency of the oscillator is the rate of change of $\\left[\\omega_{0} t+\\phi(t)\\right]$, measured in rad $/ \\mathrm{sec}$.\n\n$$\n\\begin{equation*}\n\\omega_{\\text {inst }}(\\mathrm{t})=\\frac{\\mathrm{d}\\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right]}{\\mathrm{dt}}=\\omega_{0}+\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.2}\n\\end{equation*}\n$$\n\nTherefore, if the oscillator phase $\\phi(\\mathrm{t})$ remains constant, the instantaneous frequency equals the free-running frequency, $\\omega_{\\text {inst }}(\\mathrm{t})=\\omega_{0}$.\n\nNext, define the deviation of the VCO's instantaneous frequency from its free-running frequency as\n\n$$\n\\begin{equation*}\n\\omega(t)=\\omega_{\\text {inst }}(t)-\\omega_{0} \\tag{19.3}\n\\end{equation*}\n$$\n\nObviously, $\\omega(\\mathrm{t})$ depends on the VCO control voltage $\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{t})$. From (19.2), it is clear that $\\omega(\\mathrm{t})$ is linearly related to the phase.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.4}\n\\end{equation*}\n$$\n\nBy integrating both sides of (19.4), we obtain\n\n$$\n\\begin{equation*}\n\\phi(\\mathrm{t})=\\phi(0)+\\int_{0}^{\\mathrm{t}} \\omega(\\tau) \\mathrm{d} \\tau \\tag{19.5}\n\\end{equation*}\n$$\n\nimage_name:Fig. 19.2\ndescription:The block diagram in Fig. 19.2 depicts the operation of a clock divider with a division ratio of N=4.\n\n1. **Primary Components:**\n- **Divider Block:** The core element is a block labeled \"÷ 4 Divider,\" tasked with reducing the frequency of the input signal by a factor of four.\n- **Input Voltage (V_osc):** This is the incoming signal to the divider, shown as a waveform labeled V_osc.\n- **Output Voltage (V_div):** This is the outgoing signal from the divider, represented by a waveform labeled V_div.\n\n2. **Information Flow:**\n- The input signal V_osc, with a period of T_0, enters the divider block.\n- The divider processes this signal and produces V_div, which has a period of 4T_0, indicating a frequency reduction to one-fourth of the input frequency.\n\n3. **Labels and Annotations:**\n- The period of the input signal V_osc is marked as T_0, with the interval between two rising edges shown as Δt.\n- The output waveform V_div displays a period of 4T_0, illustrating the division effect.\n- The time axis starts at t = 0 for both waveforms.\n\n4. **System Function:**\n- The main function of this system is to decrease the frequency of an oscillating input signal (V_osc) by a factor of four, resulting in an output signal (V_div) with a longer period. This is accomplished via the divider block, which counts input cycles and outputs a lower frequency signal. Such systems are commonly used in digital circuits requiring lower frequency clock signals.\n\nimage_name:\ndescription:The graph shows the operation of a clock divider with a division ratio of N=4. It is a time-domain waveform displaying two signals: the input voltage to the divider, \\( V_{osc} \\), and the divided output voltage, \\( V_{div} \\).\n\n1. **Graph Type and Function:**\n- This is a time-domain waveform graph illustrating the behavior of a clock signal through a divider.\n\n2. **Axes and Units:**\n- The horizontal axis represents time \\( t \\), starting from \\( t = 0 \\).\n- The vertical axis indicates voltage levels for both \\( V_{osc} \\) and \\( V_{div} \\).\n\n3. **Behavior and Trends:**\n- The \\( V_{osc} \\) signal is a periodic waveform with a period \\( T_0 \\), showing a square wave pattern with equal high and low states.\n- The \\( V_{div} \\) signal is also a square wave but with a period of \\( 4T_0 \\), indicating it is four times longer than \\( V_{osc} \\).\n- Starting at \\( t=0 \\), the output \\( V_{div} \\) changes state only after every four cycles of the input \\( V_{osc} \\).\n\n4. **Key Features:**\n- The input \\( V_{osc} \\) completes four cycles within \\( 4T_0 \\).\n- The output \\( V_{div} \\) completes one cycle in the same \\( 4T_0 \\) duration.\n- The initial phase difference between \\( V_{osc} \\) and \\( V_{div} \\) is noted as \\( \\Delta t \\).\n\n5. **Annotations:**\n- The diagram includes a block labeled \"/4 Divider\" to indicate the division operation.\n- Labels such as \\( T_0 \\) and \\( 4T_0 \\) denote the periods of the signals.\n- The graph clearly illustrates the frequency reduction by a factor of four, as evidenced by the longer period of \\( V_{div} \\) compared to \\( V_{osc} \\).\n\nFig. 19.2 The operation of a clock divider with a division ratio of $\\mathrm{N}=4$.\n\nKey Point: The deviation of a VCO's instantaneous frequency from its free-running frequency is the derivative of its instantaneous phase. Consequently, the instantaneous phase is the integral of the instantaneous frequency deviation. By taking the Laplace transform of both sides of (19.4), we get\n\n$$\n\\begin{equation*}\n\\phi(s)=\\frac{\\omega(s)}{s} \\tag{19.6}\n\\end{equation*}\n$$\n\nwhere $\\phi(\\mathrm{s})$ and $\\omega(\\mathrm{s})$ are the Laplace transforms of $\\phi(\\mathrm{t})$ and $\\omega(\\mathrm{t})$, respectively. Equation (19.6) will be used to model the relationship between the VCO's input control voltage and the phase of its output signal. To develop a linear model, assume that $\\omega(\\mathrm{t})$ is proportional to the control voltage with a proportionality constant $\\mathrm{K}_{\\mathrm{osc}}$ having units $\\mathrm{rad} /(\\mathrm{sec} \\cdot \\mathrm{V})$.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\mathrm{K}_{\\mathrm{osc}} \\mathrm{~V}_{\\mathrm{cnt1}}(\\mathrm{t}) \\tag{19.7}\n\\end{equation*}\n$$\n\nEven in nonlinear scenarios, (19.7) can serve as a small-signal model where $\\mathrm{K}_{\\text {osc }}$ relates small variations in $\\mathrm{V}_{\\mathrm{cnt}}(\\mathrm{t})$ to the corresponding changes in $\\omega(\\mathrm{t})$."
},
{
    "text": "A crucial element of PLLs is the VCO, a circuit that generates an oscillatory output (such as a sinusoid or other clock signal) whose frequency is governed by an input control voltage, $\\mathrm{V}_{\\text {cntt }}$. Thus, if the VCO output is a sinusoidal voltage that varies slowly over time, it can be expressed by the equation\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {osc }}(\\mathrm{t})=\\mathrm{E} \\sin \\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right] \\tag{19.1}\n\\end{equation*}\n$$\n\nwhere $\\omega_{0}$ represents the oscillator's nominal or free-running frequency, and $\\phi(\\mathrm{t})$ is the oscillator's instantaneous phase. The instantaneous frequency of the oscillator is the rate of change of $\\left[\\omega_{0} t+\\phi(t)\\right]$, measured in rad $/ \\mathrm{sec}$.\n\n$$\n\\begin{equation*}\n\\omega_{\\text {inst }}(\\mathrm{t})=\\frac{\\mathrm{d}\\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right]}{\\mathrm{dt}}=\\omega_{0}+\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.2}\n\\end{equation*}\n$$\n\nTherefore, if the oscillator phase $\\phi(\\mathrm{t})$ remains constant, the instantaneous frequency equals the free-running frequency, $\\omega_{\\text {inst }}(\\mathrm{t})=\\omega_{0}$.\n\nNext, we define the deviation of the VCO's instantaneous frequency from its free-running frequency as\n\n$$\n\\begin{equation*}\n\\omega(t)=\\omega_{\\text {inst }}(t)-\\omega_{0} \\tag{19.3}\n\\end{equation*}\n$$\n\nClearly, $\\omega(\\mathrm{t})$ depends on the VCO control voltage $\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{t})$. From equation (19.2), it is evident that $\\omega(\\mathrm{t})$ is linearly related to the phase.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.4}\n\\end{equation*}\n$$\n\nIntegrating both sides of (19.4) yields\n\n$$\n\\begin{equation*}\n\\phi(\\mathrm{t})=\\phi(0)+\\int_{0}^{\\mathrm{t}} \\omega(\\tau) \\mathrm{d} \\tau \\tag{19.5}\n\\end{equation*}\n$$\n\nimage_name:Fig. 19.2\ndescription:Fig. 19.2 depicts the operation of a clock divider with a division ratio of N=4.\n\n1. **Primary Components:**\n- **Divider Block:** The central element is a block labeled \"÷ 4 Divider,\" which divides the input signal's frequency by four.\n- **Input Voltage (V_osc):** This is the incoming signal to the divider, shown as a waveform labeled V_osc.\n- **Output Voltage (V_div):** This is the outgoing signal from the divider, represented by a waveform labeled V_div.\n\n2. **Information Flow:**\n- The input signal V_osc, with a period of T_0, enters the divider block.\n- The divider processes this signal and outputs V_div, which has a period of 4T_0, indicating a frequency reduction to one-fourth of the input frequency.\n\n3. **Labels and Annotations:**\n- The period of the input signal V_osc is marked as T_0, with the interval between two rising edges shown as Δt.\n- The output waveform V_div has a period of 4T_0, illustrating the division effect.\n- The time axis starts at t = 0.\n\n4. **System Function:**\n- The main function of this system is to reduce the frequency of an oscillating input signal (V_osc) by a factor of four, producing an output signal (V_div) with a longer period. This is achieved by the divider block, which counts input cycles and outputs a lower frequency signal. Such systems are commonly used in digital circuits requiring lower frequency clock signals.\n\nimage_name:\ndescription:This graph shows the operation of a clock divider with a division ratio of N=4, depicting two signals in the time domain: the input voltage to the divider, \\( V_{osc} \\), and the divided output voltage, \\( V_{div} \\).\n\n1. **Graph Type and Function:**\n- It is a time-domain waveform graph illustrating the behavior of a clock signal through a divider.\n\n2. **Axes and Units:**\n- The horizontal axis represents time \\( t \\), starting from \\( t = 0 \\).\n- The vertical axis displays voltage levels for both \\( V_{osc} \\) and \\( V_{div} \\).\n\n3. **Behavior and Trends:**\n- The \\( V_{osc} \\) signal is a periodic waveform with a period \\( T_0 \\), showing a square wave pattern.\n- The \\( V_{div} \\) signal is also a square wave but with a period of \\( 4T_0 \\), indicating it is four times longer than \\( V_{osc} \\).\n- Starting at \\( t=0 \\), the output \\( V_{div} \\) changes state after every four cycles of the input \\( V_{osc} \\).\n\n4. **Key Features and Details:**\n- The input \\( V_{osc} \\) completes four cycles within \\( 4T_0 \\).\n- The output \\( V_{div} \\) completes one cycle in the same \\( 4T_0 \\) duration.\n- The initial phase difference between \\( V_{osc} \\) and \\( V_{div} \\) is noted as \\( \\Delta t \\).\n\n5. **Annotations:**\n- The diagram includes a \"/4 Divider\" block indicating the division operation.\n- Labels like \\( T_0 \\) and \\( 4T_0 \\) denote the periods of the signals.\n- The graph clearly demonstrates the frequency reduction by a factor of four, as seen in the longer period of \\( V_{div} \\) compared to \\( V_{osc} \\).\n\nFig. 19.2 The operation of a clock divider with a division ratio of $\\mathrm{N}=4$.\n\nKey Point: The instantaneous frequency deviation of a VCO from its free-running frequency is the derivative of its instantaneous phase. Consequently, its instantaneous phase is the integral of the instantaneous frequency deviation. Taking the Laplace transform of both sides of (19.4), we obtain\n\n$$\n\\begin{equation*}\n\\phi(s)=\\frac{\\omega(s)}{s} \\tag{19.6}\n\\end{equation*}\n$$\n\nwhere $\\phi(\\mathrm{s})$ and $\\omega(\\mathrm{s})$ are the Laplace transforms of $\\phi(\\mathrm{t})$ and $\\omega(\\mathrm{t})$, respectively. Equation (19.6) will be used to model the relationship between the VCO's input control voltage and the phase of its output signal. To develop a linear model, assume that $\\omega(\\mathrm{t})$ is proportional to the control voltage with a proportionality constant $\\mathrm{K}_{\\mathrm{osc}}$, having units of $\\mathrm{rad} /(\\mathrm{sec} \\cdot \\mathrm{V})$.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\mathrm{K}_{\\mathrm{osc}} \\mathrm{~V}_{\\mathrm{cnt1}}(\\mathrm{t}) \\tag{19.7}\n\\end{equation*}\n$$\n\nEven in nonlinear scenarios, (19.7) can serve as a small-signal model, where $\\mathrm{K}_{\\text {osc }}$ relates small variations in $\\mathrm{V}_{\\mathrm{cnt}}(\\mathrm{t})$ to the resulting changes in $\\omega(\\mathrm{t})$."
},
{
    "text": "A critical element of Phase-Locked Loops (PLLs) is the Voltage-Controlled Oscillator (VCO), a circuit that generates an oscillatory output, such as a sinusoid or other clock signal, with a frequency that is governed by an input control voltage, $\\mathrm{V}_{\\text {cntt }}$. Thus, if the VCO's output is a sinusoidal voltage that varies slowly over time, it can be expressed by the equation\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {osc }}(\\mathrm{t})=\\mathrm{E} \\sin \\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right] \\tag{19.1}\n\\end{equation*}\n$$\n\nwhere $\\omega_{0}$ represents the oscillator's nominal or free-running frequency, and $\\phi(\\mathrm{t})$ is the oscillator's instantaneous phase. The instantaneous frequency of the oscillator is the rate of change of $\\left[\\omega_{0} t+\\phi(t)\\right]$, measured in rad $/ \\mathrm{sec}$.\n\n$$\n\\begin{equation*}\n\\omega_{\\text {inst }}(\\mathrm{t})=\\frac{\\mathrm{d}\\left[\\omega_{0} \\mathrm{t}+\\phi(\\mathrm{t})\\right]}{\\mathrm{dt}}=\\omega_{0}+\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.2}\n\\end{equation*}\n$$\n\nTherefore, if the oscillator's phase $\\phi(\\mathrm{t})$ remains constant, the instantaneous frequency equals the free-running frequency, $\\omega_{\\text {inst }}(\\mathrm{t})=\\omega_{0}$.\n\nNext, we define the deviation of the VCO's instantaneous frequency from its free-running frequency as\n\n$$\n\\begin{equation*}\n\\omega(t)=\\omega_{\\text {inst }}(t)-\\omega_{0} \\tag{19.3}\n\\end{equation*}\n$$\n\nClearly, $\\omega(\\mathrm{t})$ depends on the VCO's control voltage $\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{t})$. From equation (19.2), it is evident that $\\omega(\\mathrm{t})$ is linearly related to the phase.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\frac{\\mathrm{d} \\phi(\\mathrm{t})}{\\mathrm{dt}} \\tag{19.4}\n\\end{equation*}\n$$\n\nBy integrating both sides of equation (19.4), we obtain\n\n$$\n\\begin{equation*}\n\\phi(\\mathrm{t})=\\phi(0)+\\int_{0}^{\\mathrm{t}} \\omega(\\tau) \\mathrm{d} \\tau \\tag{19.5}\n\\end{equation*}\n$$\n\nimage_name:Fig. 19.2\ndescription:The block diagram in Fig. 19.2 depicts the functioning of a clock divider with a division ratio of N=4.\n\n1. **Main Components:**\n- **Divider Block:** The central element is a block labeled \"÷ 4 Divider,\" which divides the input signal's frequency by four.\n- **Input Voltage (V_osc):** This is the input to the divider, shown as a waveform labeled V_osc.\n- **Output Voltage (V_div):** This is the output from the divider, represented by a waveform labeled V_div.\n\n2. **Flow of Information or Control:**\n- The input signal V_osc, with a period of T_0, enters the divider block.\n- The divider processes this signal and outputs V_div, which has a period of 4T_0, indicating a frequency reduction by a factor of four.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The period of the input signal V_osc is labeled T_0, with the time interval between two rising edges shown as Δt.\n- The output waveform V_div has a period of 4T_0, illustrating the division effect.\n- The time axis starts at t = 0.\n\n4. **Overall System Function:**\n- The system's main function is to take an oscillating input signal (V_osc) and reduce its frequency by a factor of four, producing an output signal (V_div) with a longer period. This is achieved by the divider block, which counts input cycles and outputs a lower frequency signal. Such systems are commonly used in digital circuits requiring lower frequency clock signals.\nimage_name:\ndescription:The graph shows the operation of a clock divider with a division ratio of N=4. It is a time-domain waveform displaying two signals: the input voltage to the divider, \\( V_{osc} \\), and the divided output voltage, \\( V_{div} \\).\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform graph illustrating the behavior of a clock signal through a divider.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time \\( t \\), starting from \\( t = 0 \\).\n- The vertical axis shows voltage levels for \\( V_{osc} \\) and \\( V_{div} \\).\n\n3. **Overall Behavior and Trends:**\n- The \\( V_{osc} \\) signal is a periodic waveform with a period \\( T_0 \\), displaying a square wave pattern.\n- The \\( V_{div} \\) signal is also a square wave but with a period of \\( 4T_0 \\), indicating it is four times the period of \\( V_{osc} \\).\n- Starting at \\( t=0 \\), the output \\( V_{div} \\) changes state after every four cycles of the input \\( V_{osc} \\).\n\n4. **Key Features and Technical Details:**\n- The input \\( V_{osc} \\) signal completes four cycles within \\( 4T_0 \\).\n- The output \\( V_{div} \\) signal completes one cycle in the same duration \\( 4T_0 \\).\n- The time delay \\( \\Delta t \\) is noted at the beginning, showing the initial phase difference between \\( V_{osc} \\) and \\( V_{div} \\).\n\n5. **Annotations and Specific Data Points:**\n- The diagram includes a block labeled \"/4 Divider\" indicating the division operation.\n- Labels such as \\( T_0 \\) and \\( 4T_0 \\) denote the periods of the signals.\n- The graph clearly demonstrates the clock divider's function of reducing the frequency by a factor of four, as shown by the longer period of \\( V_{div} \\) compared to \\( V_{osc} \\).\n\nFig. 19.2 The operation of a clock divider with a division ratio of $\\mathrm{N}=4$.\n\nKey Point: The instantaneous frequency deviation of a VCO from its free-running frequency is the derivative of its instantaneous phase. Consequently, the instantaneous phase is the integral of the instantaneous frequency deviation. By taking the Laplace transform of both sides of equation (19.4), we get\n\n$$\n\\begin{equation*}\n\\phi(s)=\\frac{\\omega(s)}{s} \\tag{19.6}\n\\end{equation*}\n$$\n\nwhere $\\phi(\\mathrm{s})$ and $\\omega(\\mathrm{s})$ are the Laplace transforms of $\\phi(\\mathrm{t})$ and $\\omega(\\mathrm{t})$, respectively. Equation (19.6) will be used to model the relationship between the VCO's input control voltage and the phase of its output signal. To develop a linear model, assume that $\\omega(\\mathrm{t})$ is proportional to the control voltage with a proportionality constant $\\mathrm{K}_{\\mathrm{osc}}$, having units of $\\mathrm{rad} /(\\mathrm{sec} \\cdot \\mathrm{V})$.\n\n$$\n\\begin{equation*}\n\\omega(\\mathrm{t})=\\mathrm{K}_{\\mathrm{osc}} \\mathrm{~V}_{\\mathrm{cnt1}}(\\mathrm{t}) \\tag{19.7}\n\\end{equation*}\n$$\n\nEven if the relationship is nonlinear, equation (19.7) can still serve as a small-signal model, where $\\mathrm{K}_{\\text {osc }}$ relates small variations in $\\mathrm{V}_{\\mathrm{cnt}}(\\mathrm{t})$ to the corresponding changes in $\\omega(\\mathrm{t})$."
},
{
    "text": "An optimal clock divider with a division ratio N generates a cyclic output where each cycle matches precisely N cycles of the input. This is depicted in Fig. 19.2 for $\\mathrm{N}=4$. Consequently, the divider's instantaneous output frequency is precisely $(1 / \\mathrm{N})$ of its input frequency, which in PLLs corresponds to the VCO output. Additionally, the divider's output phase, $\\phi_{\\text {div }}(\\mathrm{t})$, is exactly $(1 / \\mathrm{N})$ of the input phase, $\\phi(\\mathrm{t})$. To understand this, consider that the phase of the VCO output $\\mathrm{V}_{\\text {osc }}$ is the time delay $\\Delta \\mathrm{t}$ between the clock's rising edge and a reference time, $t=0$, normalized to a period, $T_{0}$.\n\n$$\n\\begin{equation*}\n\\phi=2 \\pi \\frac{\\Delta t}{\\mathrm{~T}_{0}} \\tag{19.8}\n\\end{equation*}\n$$\n\nIf the divider output is synchronized with the VCO output, its phase is dictated by the same time delay, $\\Delta \\mathrm{t}$, but normalized to the extended period, $\\mathrm{NT}_{0}$.\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}=2 \\pi \\frac{\\Delta \\mathrm{t}}{\\mathrm{NT}_{0}}=\\frac{\\phi}{\\mathrm{N}} \\tag{19.9}\n\\end{equation*}\n$$\n\nEquation (19.9) offers a linear model for the divider, which, in the context of Laplace transforms, is simply expressed as\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}(\\mathrm{s})=\\frac{\\phi(\\mathrm{s})}{\\mathrm{N}} \\tag{19.10}\n\\end{equation*}\n$$"
},
{
    "text": "An optimal clock divider with a division ratio N generates a cyclic output where each cycle matches precisely N cycles of the input. This is depicted in Fig. 19.2 for $\\mathrm{N}=4$. Consequently, the divider's momentary output frequency is precisely $(1 / \\mathrm{N})$ of its input frequency, which in PLLs corresponds to the VCO output. Additionally, the divider's output phase, $\\phi_{\\text {div }}(\\mathrm{t})$, is also exactly $(1 / \\mathrm{N})$ of the input phase, $\\phi(\\mathrm{t})$. To understand this, consider that the phase of the VCO output $\\mathrm{V}_{\\text {osc }}$ is the time delay $\\Delta \\mathrm{t}$ between the clock's rising edge and a reference time, $t=0$, normalized to a period, $T_{0}$.\n\n$$\n\\begin{equation*}\n\\phi=2 \\pi \\frac{\\Delta t}{\\mathrm{~T}_{0}} \\tag{19.8}\n\\end{equation*}\n$$\n\nIf the divider output is in sync with the VCO output, its phase is dictated by the same time delay, $\\Delta \\mathrm{t}$, but normalized to the extended period, $\\mathrm{NT}_{0}$.\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}=2 \\pi \\frac{\\Delta \\mathrm{t}}{\\mathrm{NT}_{0}}=\\frac{\\phi}{\\mathrm{N}} \\tag{19.9}\n\\end{equation*}\n$$\n\nEquation (19.9) offers a linear model for the divider, which, in the context of Laplace transforms, simplifies to\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}(\\mathrm{s})=\\frac{\\phi(\\mathrm{s})}{\\mathrm{N}} \\tag{19.10}\n\\end{equation*}\n$$"
},
{
    "text": "An optimal clock divider with a division factor N generates a periodic output where each cycle matches precisely N cycles of the input. This is depicted in Fig. 19.2 for $\\mathrm{N}=4$. Consequently, the divider's momentary output frequency is precisely $(1 / \\mathrm{N})$ of its input frequency, which in PLLs corresponds to the VCO output. Additionally, the divider's output phase, $\\phi_{\\text {div }}(\\mathrm{t})$, is also exactly $(1 / \\mathrm{N})$ of the input phase, $\\phi(\\mathrm{t})$. To understand this, consider that the phase of the VCO output $\\mathrm{V}_{\\text {osc }}$ is the time delay $\\Delta \\mathrm{t}$ from the clock's rising edge to a reference time, $t=0$, normalized by a period, $T_{0}$.\n\n$$\n\\begin{equation*}\n\\phi=2 \\pi \\frac{\\Delta t}{\\mathrm{~T}_{0}} \\tag{19.8}\n\\end{equation*}\n$$\n\nIf the divider output is in sync with the VCO output, its phase is dictated by the same time delay, $\\Delta \\mathrm{t}$, but normalized against the extended period, $\\mathrm{NT}_{0}$.\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}=2 \\pi \\frac{\\Delta \\mathrm{t}}{\\mathrm{NT}_{0}}=\\frac{\\phi}{\\mathrm{N}} \\tag{19.9}\n\\end{equation*}\n$$\n\nEquation (19.9) offers a linear representation of the divider, which, in the context of Laplace transforms, simplifies to\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}(\\mathrm{s})=\\frac{\\phi(\\mathrm{s})}{\\mathrm{N}} \\tag{19.10}\n\\end{equation*}\n$$"
},
{
    "text": "An optimal clock divider with a division ratio N generates a cyclic output where each cycle corresponds precisely to N cycles of the input. This is depicted in Fig. 19.2 for $\\mathrm{N}=4$. Consequently, the divider's instantaneous output frequency is exactly $(1 / \\mathrm{N})$ times the input frequency, which in PLLs corresponds to the VCO output. Additionally, the divider's output phase, $\\phi_{\\text {div }}(\\mathrm{t})$, is also precisely $(1 / \\mathrm{N})$ times the input phase, $\\phi(\\mathrm{t})$. To understand this, consider that the phase of the VCO output $\\mathrm{V}_{\\text {osc }}$ is the time delay $\\Delta \\mathrm{t}$ between the clock's rising edge and a reference time, $t=0$, normalized to a period, $T_{0}$.\n\n$$\n\\begin{equation*}\n\\phi=2 \\pi \\frac{\\Delta t}{\\mathrm{~T}_{0}} \\tag{19.8}\n\\end{equation*}\n$$\n\nIf the divider output is synchronized with the VCO output, its phase is determined by the same time delay, $\\Delta \\mathrm{t}$, but normalized to the extended period, $\\mathrm{NT}_{0}$.\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}=2 \\pi \\frac{\\Delta \\mathrm{t}}{\\mathrm{NT}_{0}}=\\frac{\\phi}{\\mathrm{N}} \\tag{19.9}\n\\end{equation*}\n$$\n\nEquation (19.9) offers a linear model for the divider, which in the context of Laplace transforms is simply expressed as\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}(\\mathrm{s})=\\frac{\\phi(\\mathrm{s})}{\\mathrm{N}} \\tag{19.10}\n\\end{equation*}\n$$"
},
{
    "text": "An optimal clock divider with a division ratio of N generates a cyclic output where each cycle matches precisely N cycles of the input. This is depicted in Fig. 19.2 for $\\mathrm{N}=4$. Consequently, the instantaneous output frequency of the divider is exactly $(1 / \\mathrm{N})$ of its input frequency, which in PLLs corresponds to the VCO output. Additionally, the divider's output phase, $\\phi_{\\text {div }}(\\mathrm{t})$, is also precisely $(1 / \\mathrm{N})$ of the input phase, $\\phi(\\mathrm{t})$. To understand this, consider that the phase of the VCO output $\\mathrm{V}_{\\text {osc }}$ is the time delay $\\Delta \\mathrm{t}$ from the clock's rising edge to a reference time, $t=0$, normalized by the period, $T_{0}$.\n\n$$\n\\begin{equation*}\n\\phi=2 \\pi \\frac{\\Delta t}{\\mathrm{~T}_{0}} \\tag{19.8}\n\\end{equation*}\n$$\n\nIf the divider output is in sync with the VCO output, its phase is governed by the same time delay, $\\Delta \\mathrm{t}$, but normalized to the extended period, $\\mathrm{NT}_{0}$.\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}=2 \\pi \\frac{\\Delta \\mathrm{t}}{\\mathrm{NT}_{0}}=\\frac{\\phi}{\\mathrm{N}} \\tag{19.9}\n\\end{equation*}\n$$\n\nEquation (19.9) offers a linear representation of the divider, which in the context of Laplace transforms is simply expressed as\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}(\\mathrm{s})=\\frac{\\phi(\\mathrm{s})}{\\mathrm{N}} \\tag{19.10}\n\\end{equation*}\n$$"
},
{
    "text": "An optimal clock divider with a division factor N generates a periodic output where each cycle aligns precisely with N cycles of the input. This concept is depicted in Fig. 19.2 for $\\mathrm{N}=4$. Consequently, the divider's momentary output frequency is precisely $(1 / \\mathrm{N})$ of its input frequency, which in the context of PLLs corresponds to the VCO output. Additionally, the divider's output phase, $\\phi_{\\text {div }}(\\mathrm{t})$, is exactly $(1 / \\mathrm{N})$ of the input phase, $\\phi(\\mathrm{t})$. To understand this, consider that the phase of the VCO output $\\mathrm{V}_{\\text {osc }}$ represents the time delay $\\Delta \\mathrm{t}$ from the clock's rising edge to a reference time, $t=0$, normalized by a period, $T_{0}$.\n\n$$\n\\begin{equation*}\n\\phi=2 \\pi \\frac{\\Delta t}{\\mathrm{~T}_{0}} \\tag{19.8}\n\\end{equation*}\n$$\n\nIf the divider output is in sync with the VCO output, its phase is dictated by the identical time delay, $\\Delta \\mathrm{t}$, but normalized against the extended period, $\\mathrm{NT}_{0}$.\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}=2 \\pi \\frac{\\Delta \\mathrm{t}}{\\mathrm{NT}_{0}}=\\frac{\\phi}{\\mathrm{N}} \\tag{19.9}\n\\end{equation*}\n$$\n\nEquation (19.9) offers a linear representation of the divider, which, when expressed in Laplace transforms, simplifies to\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}(\\mathrm{s})=\\frac{\\phi(\\mathrm{s})}{\\mathrm{N}} \\tag{19.10}\n\\end{equation*}\n$$"
},
{
    "text": "An optimal clock divider with a division ratio N generates a cyclic output where each cycle matches precisely N cycles of the input. This is depicted in Fig. 19.2 for $\\mathrm{N}=4$. Consequently, the divider's momentary output frequency is precisely $(1 / \\mathrm{N})$ of its input frequency, which in PLLs corresponds to the VCO output. Additionally, the divider's output phase, $\\phi_{\\text {div }}(\\mathrm{t})$, is also exactly $(1 / \\mathrm{N})$ of the input phase, $\\phi(\\mathrm{t})$. To understand this, consider that the phase of the VCO output $\\mathrm{V}_{\\text {osc }}$ is the time delay $\\Delta \\mathrm{t}$ from the clock's rising edge to a reference time, $t=0$, normalized by a period, $T_{0}$.\n\n$$\n\\begin{equation*}\n\\phi=2 \\pi \\frac{\\Delta t}{\\mathrm{~T}_{0}} \\tag{19.8}\n\\end{equation*}\n$$\n\nIf the divider output is in sync with the VCO output, its phase is dictated by the same time delay, $\\Delta \\mathrm{t}$, but normalized against the extended period, $\\mathrm{NT}_{0}$.\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}=2 \\pi \\frac{\\Delta \\mathrm{t}}{\\mathrm{NT}_{0}}=\\frac{\\phi}{\\mathrm{N}} \\tag{19.9}\n\\end{equation*}\n$$\n\nEquation (19.9) offers a linear representation of the divider, which, in the context of Laplace transforms, simplifies to\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}(\\mathrm{s})=\\frac{\\phi(\\mathrm{s})}{\\mathrm{N}} \\tag{19.10}\n\\end{equation*}\n$$"
},
{
    "text": "An optimal clock divider with a division ratio of N generates a cyclic output where each cycle matches precisely N cycles of the input. This concept is depicted in Fig. 19.2 for $\\mathrm{N}=4$. Consequently, the instantaneous output frequency of the divider is exactly $(1 / \\mathrm{N})$ times the input frequency, which in the context of PLLs corresponds to the VCO output. Additionally, the output phase of the divider, $\\phi_{\\text {div }}(\\mathrm{t})$, is precisely $(1 / \\mathrm{N})$ times the input phase, $\\phi(\\mathrm{t})$. To understand this, consider that the phase of the VCO output, $\\mathrm{V}_{\\text {osc }}$, is the time delay $\\Delta \\mathrm{t}$ from the clock's rising edge to a reference time, $t=0$, normalized by the period, $T_{0}$.\n\n$$\n\\begin{equation*}\n\\phi=2 \\pi \\frac{\\Delta t}{\\mathrm{~T}_{0}} \\tag{19.8}\n\\end{equation*}\n$$\n\nIf the divider output is in sync with the VCO output, its phase is dictated by the same time delay, $\\Delta \\mathrm{t}$, but normalized against the extended period, $\\mathrm{NT}_{0}$.\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}=2 \\pi \\frac{\\Delta \\mathrm{t}}{\\mathrm{NT}_{0}}=\\frac{\\phi}{\\mathrm{N}} \\tag{19.9}\n\\end{equation*}\n$$\n\nEquation (19.9) offers a linear representation of the divider, which, in the domain of Laplace transforms, simplifies to\n\n$$\n\\begin{equation*}\n\\phi_{\\text {div }}(\\mathrm{s})=\\frac{\\phi(\\mathrm{s})}{\\mathrm{N}} \\tag{19.10}\n\\end{equation*}\n$$"
},
{
    "text": "The primary function of the phase detector is to generate a signal whose mean value is directly proportional to the discrepancy between the phase of the reference input, denoted as $\\theta_{\\text {in }}$, and the feedback clock signal, denoted as $\\theta_{\\text {div }}$. This function mirrors the subtraction operation performed at the input of a feedback amplifier. There exist numerous options for the design of the phase detector, including a basic exclusive-OR gate, a sample and hold circuit, an analog multiplier, or a combination of digital circuits such as D flip-flops. Each of these designs takes two clock signals as inputs and produces an output whose average value conveys the necessary phase information.\n\n#### EXAMPLE 19.1\n\nWhat is the gain of an analog multiplier phase detector?\n\n#### Solution\n\nIn this example, the input signal, $\\mathrm{V}_{\\mathrm{in}}$, is considered to be a sinusoid with a known amplitude. The phase detector is implemented as an analog multiplier with a relationship defined by\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{i n} V_{\\text {div }} \\tag{19.11}\n\\end{equation*}\n$$\n\nwhere $\\mathrm{V}_{\\text {div }}$ represents the divider output, $\\mathrm{V}_{\\text{pd}}$ is the phase-detector output, and $\\mathrm{K}_{\\mathrm{M}}$ is a constant of multiplication. Let the input signal be modeled by a sinusoid characterized by\n\n$$\n\\begin{equation*}\nV_{\\text {in }}=E_{\\text {in }} \\sin (\\omega t) \\tag{19.12}\n\\end{equation*}\n$$\n\nand the output of the divider is expressed as a sinusoid with\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {div }}=\\mathrm{E}_{\\text {div }} \\sin \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}+90^{\\circ}\\right)=\\mathrm{E}_{\\text {div }} \\cos \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right) \\tag{19.13}\n\\end{equation*}\n$$\n\nThe variable $\\phi_{\\mathrm{d}}$ signifies the phase difference between the input signal and the output of the oscillator. The rationale behind the $90^{\\circ}$ offset is to ensure that when $\\phi_{\\mathrm{d}}=0$, the average output of the phase detector (an analog multiplier in this case) is zero. The arrangement of an analog multiplier followed by a low-pass filter executes the correlation function on analog signals. When the input signal and the VCO output exhibit a $90^{\\circ}$ phase difference (i.e., $\\phi_{d}=0$), they are decorrelated, resulting in the output of the low-pass filter being zero. If the phase difference alters such that the two waveforms are more in phase (i.e., $\\phi_{d}>0$), then the correlation and consequently the output of the low-pass filter will be positive. For instance, from (19.13), if $\\phi_{d}=90^{\\circ}$, then the output of the oscillator and the input signal would be precisely in phase, and the average output of the phase detector is determined to be the product of the amplitudes of the two sinusoids divided by two, yielding\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div }}}{2} \\tag{19.14}\n\\end{equation*}\n$$\n\nThis scenario is illustrated in Fig. 19.3 where $\\phi_{d}$ is slightly less than $90^{\\circ}$ to differentiate the two waveforms. Also depicted is the output of the multiplier, $\\mathrm{V}_{\\mathrm{pd}}$, for the case where $\\mathrm{E}_{\\mathrm{in}}=\\mathrm{E}_{\\mathrm{div}}=1 \\mathrm{~V}$, and $\\mathrm{K}_{\\mathrm{M}}=1 \\mathrm{~V}^{-1}$. Here, it is observed that the output is at twice the frequency of the input signal and possesses an offset voltage of approximately $1 / 2 \\mathrm{~V}$. This aligns closely with the maximum achievable output of the low-pass filter. Conversely, if the phase alters to cause the two waveforms to be more out of phase, then the correlation between them and the output of the low-pass filter will be negative. Examples of various waveforms are presented in Fig. 19.4, where it is evident that $\\phi_{d}>0$ corresponds to the waveforms that are more in phase.\n\nThese observations can be quantitatively expressed. The output of the phase detector is given by\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{\\text {in }} V_{\\text {div }}=K_{M} E_{\\text {in }} E_{\\text {div }} \\sin (\\omega t) \\cos \\left(\\omega t-\\phi_{d}\\right) \\tag{19.15}\n\\end{equation*}\n$$\n\nApplying the trigonometric identity\n\n$$\n\\begin{equation*}\n\\sin (A) \\cos (B)=\\frac{1}{2}[\\sin (A+B)+\\sin (A-B)] \\tag{19.16}\n\\end{equation*}\n$$\n\nwe obtain\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2}\\left[\\sin \\left(\\phi_{\\mathrm{d}}\\right)+\\sin \\left(2 \\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right)\\right] \\tag{19.17}\n\\end{equation*}\n$$\n\nThe low-pass filter eliminates the second term at twice the frequency of the input signal. ${ }^{1}$ Consequently, the signal $\\mathrm{V}_{\\text {ontt }}$ is expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\sin \\left(\\phi_{\\mathrm{d}}\\right) \\tag{19.18}\n\\end{equation*}\n$$\n\nIt should be noted that $\\mathrm{V}_{\\mathrm{cnt1}}$ is either a direct current (dc) value or a slowly-varying signal, assuming that the frequency of the input signal is constant or changes gradually. For small $\\phi_{\\mathrm{d}}$, we can approximate (19.18) as\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cnt}} \\cong \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\phi_{\\mathrm{d}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}} \\tag{19.19}\n\\end{equation*}\n$$\n\nThus, the output of the low-pass filter is approximately proportional to the phase difference between the output of the oscillator and the input signal, disregarding the $90^{\\circ}$ offset bias. This approximation is utilized in the analysis of the PLL to derive a linear model. The constant of proportionality is referred to as $\\mathrm{K}_{\\mathrm{pd}}$ and is defined by\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\tag{19.20}\n\\end{equation*}\n$$\n\nIt is important to note that with this analog-multiplier phase detector, $\\mathrm{K}_{\\mathrm{pd}}$ is dependent on the input amplitude and the divider output amplitude. As will be discussed shortly, $\\mathrm{K}_{\\mathrm{pd}}$ influences loop dynamics, highlighting the necessity for precise values of $\\mathrm{E}_{\\text {in }}$ and $\\mathrm{E}_{\\text {div }}$.\n\nThe output of the phase detector may manifest as a voltage, as exemplified in Example 19.1, but in CMOS circuits, it is frequently a current, which can be single-ended or differential. When the output is a current with an average value ${ }^{2}$ denoted as $I_{p d}$, the gain of the phase detector is a constant $\\mathrm{K}_{\\mathrm{pd}}$ with units $\\mathrm{A} / \\mathrm{rad}$.\n\n$$\n\\begin{equation*}\n\\mathrm{I}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}}=\\mathrm{K}_{\\mathrm{pd}}\\left(\\phi_{\\mathrm{in}}-\\phi_{\\mathrm{div}}\\right) \\tag{19.21}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.2\n\nA charge-pump phase detector is depicted in general form in Fig. 19.5. The phase detector logic is configured such that logic-high pulses are produced on $P_{u}$ when the reference clock precedes the feedback clock, $\\phi_{\\mathrm{d}}>0$, and pulses are generated on $P_{d}$ when the reference clock trails, $\\phi_{d}<0$. A typical configuration of logic is presented in Fig. 19.6. Determine the gain of such a phase detector $K_{p d}$ in units $A / r a d$.\n\nimage_name:Fig. 19.5 General charge-pump phase detector\ndescription:This diagram illustrates the logic of a charge-pump phase detector. The detector generates two outputs, Pu and Pd, based on the inputs Vin and Vdiv. The switches S1 and S2 regulate the current Ich according to the phase difference. The current Ipd flows through the loop filter based on the states of S1 and S2.\n\nCharge-pump phase detector\nFig. 19.5 General charge-pump phase detector.\n\n#### Solution\n\nThis phase comparator either supplies or drains current in the low-pass loop filter, contingent on the output of the sequential phase-detector logic. When $S_{1}$ is activated, $I_{c h}$ flows into the low-pass filter; when $S_{2}$ is activated, $I_{c h}$ flows out of the low-pass filter. The sequential phase-detector logic produces two outputs, $P_{u}$ and $P_{d}$, contingent on its inputs, $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {div }}$. These are typically digital signals originating from the PLL input and the VCO, respectively. ${ }^{3}$ Although there are multiple configurations for the sequential phase detector, the one under consideration is governed by the leading edges of $V_{\\text {in }}$ and $V_{\\text {osc }}$. If $V_{\\text {in }}$ transitions to high before $V_{\\text {osc }}$, then $P_{u}$ will be high during the interval when the signals differ. This will inject charge into the loop filter to accelerate the VCO. Similarly, if $\\mathrm{V}_{\\text {osc }}$ transitions to low before $V_{\\text {in}}$, then $P_{d}$ will be high during the period when the inputs differ, $S_{2}$ will be activated, and charge will be extracted from the loop filter, reducing the VCO frequency. When the leading edges coincide, the two inputs are phase-aligned. Ideally, in this scenario, both $P_{u}$ and $P_{d}$ remain low, with both $S_{1}$ and $S_{2}$ remaining open, thereby preventing any charge injection or removal from the loop filter, indicating that the loop has reached a steady state. In practical sequential phase detectors, both $P_{u}$ and $P_{d}$ may transiently go high for a few gate delays when the input waveforms align, but this duration is usually brief enough to have a negligible impact on the dc output of the loop filter, and its effect is largely mitigated by capacitors within the loop filter. The falling edges of both $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {osc }}$ have no impact on $P_{\\mathrm{u}}$ and $P_{\\mathrm{d}}$, which are both inactive at this time. This renders the PLL insensitive to the duty cycles of the waveform. Representative waveforms are displayed in Fig. 19.6.\n\nTo calculate the phase detector gain, observe that the output current $I_{p d}$, averaged over any single period of the reference clock $V_{i n}$, is given by the charge pump current $I_{c h}$ scaled by the fraction of a period during which the phase detector outputs $P_{u}$ and $P_{d}$ are active.\n\n$$\n\\begin{equation*}\n\\overline{\\mathrm{I}_{\\mathrm{pd}}}=\\mathrm{I}_{\\mathrm{ch}} \\frac{\\phi_{\\mathrm{d}}}{2 \\pi} \\tag{19.22}\n\\end{equation*}\n$$\n\nCombining (19.21) and (19.22) yields the phase detector gain,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{pd}}=\\frac{\\mathrm{I}_{\\mathrm{ch}}}{2 \\pi} \\tag{19.23}\n\\end{equation*}\n$$"
},
{
    "text": "The function of the phase detector is to generate an output signal whose mean value corresponds to the discrepancy between the phase of the reference input, $\\theta_{\\text {in }}$, and the feedback clock signal, $\\theta_{\\text {div }}$. This operation is similar to the subtraction occurring at the input of a feedback amplifier. There are various designs for the phase detector, including a basic exclusive-OR gate, a sample and hold circuit, an analog multiplier, or a combination of digital circuits like D flip-flops. All these designs take two clock signals as inputs and produce an output whose mean value indicates the necessary phase information.\n\n#### EXAMPLE 19.1\n\nWhat is the gain of an analog multiplier phase detector?\n\n#### Solution\n\nIn this example, the input signal, $\\mathrm{V}_{\\mathrm{in}}$, is considered to be a sinusoid with a known amplitude. The phase detector is implemented as an analog multiplier with a relationship defined by\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{i n} V_{\\text {div }} \\tag{19.11}\n\\end{equation*}\n$$\n\nwhere $\\mathrm{V}_{\\text {div }}$ is the divider output, $\\mathrm{V}_{\\mathrm{pd}}$ is the phase-detector output, and $\\mathrm{K}_{\\mathrm{M}}$ is a multiplication constant. Let the input signal be represented by a sinusoid with\n\n$$\n\\begin{equation*}\nV_{\\text {in }}=E_{\\text {in }} \\sin (\\omega t) \\tag{19.12}\n\\end{equation*}\n$$\n\nand the output of the divider is a sinusoid described by\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {div }}=\\mathrm{E}_{\\text {div }} \\sin \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}+90^{\\circ}\\right)=\\mathrm{E}_{\\text {div }} \\cos \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right) \\tag{19.13}\n\\end{equation*}\n$$\n\nThe argument $\\phi_{\\mathrm{d}}$ signifies the phase difference between the input signal and the output of the oscillator. The $90^{\\circ}$ offset is introduced so that when $\\phi_{\\mathrm{d}}=0$ the average output of the phase detector (an analog multiplier in this case) is zero. The combination of an analog multiplier followed by a low-pass filter performs what is commonly known as the correlation function on analog signals. When the input signal and the VCO output have a $90^{\\circ}$ phase difference (i.e., $\\phi_{d}=0$ ), they are uncorrelated and the output of the low-pass filter will be zero. From this $90^{\\circ}$ phase offset, if the phase difference changes so that the two waveforms are more in phase (i.e., $\\phi_{d}>0$ ), then the correlation and, therefore, the output of the low-pass filter will be positive. For example, from (19.13), if $\\phi_{d}=90^{\\circ}$, then the output of the oscillator and the input signal would be exactly in phase, and the average output of the phase detector is found to be the amplitudes of the two sinusoids multiplied together and divided by two, resulting in\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div }}}{2} \\tag{19.14}\n\\end{equation*}\n$$\n\nThis situation is approximately shown in Fig. 19.3 where $\\phi_{d}$ is taken slightly smaller than $90^{\\circ}$ to distinguish the two waveforms. Also shown is the output of the multiplier, $\\mathrm{V}_{\\mathrm{pd}}$, for the case of $\\mathrm{E}_{\\mathrm{in}}=\\mathrm{E}_{\\mathrm{div}}=1 \\mathrm{~V}$, and\nimage_name:Fig. 19.3\ndescription:The graph in Fig. 19.3 is a time-domain waveform plot depicting the behavior of three signals: the input signal (V_in), the oscillator output (V_osc), and the phase detector output (V_pd).\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform plot showing sinusoidal waveforms.\n\n2. **Axes Labels and Units:**\n- The x-axis represents time, presumably in arbitrary units, as no specific unit is indicated.\n- The y-axis represents voltage in volts, ranging from -1 to 1.\n\n3. **Overall Behavior and Trends:**\n- The graph shows two sinusoidal waveforms (V_in and V_osc) that are slightly out of phase, with V_in leading V_osc.\n- The third waveform, V_pd, has a frequency double that of V_in and V_osc, indicating that it is the result of a multiplication process, typical in phase detectors.\n- The amplitudes of V_in and V_osc are similar, while V_pd has a smaller amplitude.\n\n4. **Key Features and Technical Details:**\n- V_in and V_osc are nearly in phase, but a small phase difference is present, as indicated in the context.\n- V_pd, being the output of the phase detector, reflects the phase difference and is at twice the frequency of the input signals.\n- The peaks and troughs of V_pd occur at the zero crossings of V_in and V_osc.\n\n5. **Annotations and Specific Data Points:**\n- The plot includes annotations for each waveform, indicating their respective labels: V_in, V_osc, and V_pd.\n- No specific numerical values are provided for other key data points, but the graph visually conveys the phase relationship and frequency characteristics effectively.\n\nFig. 19.3 The output of the phase detector in Example 19.1 when the input signal and the oscillator are nearly in phase.\nimage_name:Fig. 19.3\ndescription:The graph depicted in Fig. 19.3 is a time-domain waveform plot illustrating the phase relationship between an input signal \\( V_{in} \\) and an oscillator output \\( V_{osc} \\). The x-axis represents time, while the y-axis represents voltage. The graph shows three sinusoidal waveforms:\n\n1. **\\( V_{in} = \\sin(\\omega t) \\):** This waveform is a reference sinusoidal input signal with a phase angle of zero degrees.\n\n2. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ) \\):** This waveform represents the oscillator output, which is phase-shifted by 90 degrees relative to \\( V_{in} \\).\n\n3. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ \\pm \\frac{\\pi}{8}) \\):** These waveforms show slight phase shifts from the 90-degree phase-shifted oscillator output, indicating additional phase adjustments by \\( \\pm \\frac{\\pi}{8} \\).\n\nThe graph effectively illustrates the phase relationships and shifts between these waveforms. The sinusoidal waves are periodic and maintain a consistent frequency across the time axis. The waveforms are annotated with their respective equations, clarifying the phase differences. The visual representation highlights the phase alignment and potential interference or correlation between the input and oscillator signals.\n\nFig. 19.4 The relative phase angles of the input signal and the output of the oscillator.\n$\\mathrm{K}_{\\mathrm{M}}=1 \\mathrm{~V}^{-1}$. Here, it is seen that the output is at twice the frequency of the input signal and that it has an offset voltage of approximately $1 / 2 \\mathrm{~V}$. This corresponds closely to the maximum possible output of the low-pass filter. On the other hand, if the phase changes so as to make the two waveforms more out of phase, then the correlation between them and the output of the low-pass filter will be negative. Shown in Fig. 19.4 are some examples of the different waveforms. It is readily seen that $\\phi_{d}>0$ corresponds to the waveforms that are more in phase.\n\nThese statements can be quantified analytically. The output of the phase detector is given by\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{\\text {in }} V_{\\text {div }}=K_{M} E_{\\text {in }} E_{\\text {div }} \\sin (\\omega t) \\cos \\left(\\omega t-\\phi_{d}\\right) \\tag{19.15}\n\\end{equation*}\n$$\n\nUsing the trigonometric identity\n\n$$\n\\begin{equation*}\n\\sin (A) \\cos (B)=\\frac{1}{2}[\\sin (A+B)+\\sin (A-B)] \\tag{19.16}\n\\end{equation*}\n$$\n\nwe have\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2}\\left[\\sin \\left(\\phi_{\\mathrm{d}}\\right)+\\sin \\left(2 \\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right)\\right] \\tag{19.17}\n\\end{equation*}\n$$\n\nThe low-pass filter removes the second term at twice the frequency of the input signal. ${ }^{1}$ The signal $\\mathrm{V}_{\\text {ontt }}$ is therefore given by\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\sin \\left(\\phi_{\\mathrm{d}}\\right) \\tag{19.18}\n\\end{equation*}\n$$\n\nNote that $\\mathrm{V}_{\\mathrm{cnt1}}$ is either a dc value or a slowly varying signal, assuming that the frequency of the input signal is constant or slowly varying. For small $\\phi_{\\mathrm{d}}$, we can approximate (19.18) as\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cnt}} \\cong \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\phi_{\\mathrm{d}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}} \\tag{19.19}\n\\end{equation*}\n$$\n\nThus, the output of the low-pass filter is approximately proportional to the phase difference between the output of the oscillator and the input signal, assuming the $90^{\\circ}$ offset bias is ignored. This approximation is used in analyzing the PLL to obtain a linear model. The constant of proportionality is called $\\mathrm{K}_{\\mathrm{pd}}$ and is given by\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\tag{19.20}\n\\end{equation*}\n$$\n\nNote that with this analog-multiplier phase detector, $\\mathrm{K}_{\\mathrm{pd}}$ is a function of the input amplitude and divider output amplitude. As we shall soon see, $\\mathrm{K}_{\\mathrm{pd}}$ affects loop dynamics, and thus we see the need for having known values for $\\mathrm{E}_{\\text {in }}$ and $\\mathrm{E}_{\\text {div }}$.\n\nThe output of the phase detector may be a voltage as in Example 19.1, but in CMOS circuits is commonly a current, either single-ended or differential. When the output is a current whose average value ${ }^{2}$ is $I_{p d}$, the gain of the phase detector is a constant $\\mathrm{K}_{\\mathrm{pd}}$ with units $\\mathrm{A} / \\mathrm{rad}$.\n\n$$\n\\begin{equation*}\n\\mathrm{I}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}}=\\mathrm{K}_{\\mathrm{pd}}\\left(\\phi_{\\mathrm{in}}-\\phi_{\\mathrm{div}}\\right) \\tag{19.21}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.2\n\nA charge-pump phase detector is shown in general form in Fig. 19.5. The phase detector logic is designed so that logic-high pulses are generated on $P_{u}$ when the reference clock leads the feedback clock, $\\phi_{\\mathrm{d}}>0$, and pulses are generated on $P_{d}$ when the reference clock is lagging, $\\phi_{d}<0$. A typical arrangement of logic is shown in Fig. 19.6. Find the gain of such a phase detector $K_{p d}$ in units $A / r a d$.\nimage_name:Fig. 19.5 General charge-pump phase detector\ndescription:The phase detector logic generates two outputs, Pu and Pd, based on the inputs Vin and Vdiv. The switches S1 and S2 control the flow of the current Ich depending on the phase difference. The current Ipd flows through the loop filter based on the states of S1 and S2.\n\nCharge-pump phase detector\nFig. 19.5 General charge-pump phase detector.\n\n#### Solution\n\nThis phase comparator either sources or sinks current in the low-pass loop filter, depending on the output of the sequential phase-detector logic. When $S_{1}$ is closed, $I_{c h}$ flows into the low-pass filter; when $S_{2}$ is closed, $I_{c h}$ flows out of the low-pass filter. The sequential phase-detector logic generates two outputs, $P_{u}$ and $P_{d}$, depending on its inputs, $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {div }}$. These are normally digital signals from the PLL input and the VCO, respectively. ${ }^{3}$ Although there are many possibilities for the sequential phase detector, the one we will consider is controlled by the leading edges of $V_{\\text {in }}$ and $V_{\\text {osc }}$. If $V_{\\text {in }}$ goes high before $V_{o s c}$, then $P_{u}$ will be high during the time that the signals are different. This will inject some charge into the loop filter to speed up the VCO. Similarly, if $\\mathrm{V}_{\\text {osc }}$ goes low before $V_{i n}$, then $P_{d}$ will be high during the time the inputs are different, $S_{2}$ will be closed, and charge will be subtracted from the loop filter, which decreases the VCO frequency. When the leading edges are coincident, the two inputs are phase aligned. In this case, ideally both $P_{u}$ and $P_{d}$ are always low, both $S_{1}$ and $S_{2}$ are always open so no charge is injected to or removed from the loop filter, and the loop has reached steady-state. In practical sequential phase detectors, both $P_{u}$ and $P_{d}$ may go high for a few gate delays when the input waveforms are coincident, but this time is usually short enough that it has very little effect on the dc output of the loop filter, and its effect is largely eliminated by capacitors in the loop filter. The falling edges of both $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {osc }}$ have no effect on $P_{\\mathrm{u}}$ and $P_{\\mathrm{d}}$, which are both zero at this time. This makes the PLL insensitive to the duty cycles of the waveform. Typical waveforms are shown in Fig. 19.6.\n\nTo solve for the phase detector gain, note that the output current $I_{p d}$ averaged over any single period of the reference clock $V_{i n}$ is given by the charge pump current $I_{c h}$ scaled by the fraction of a period over which the phase detector outputs $P_{u}$ and $P_{d}$ are active.\n\n$$\n\\begin{equation*}\n\\overline{\\mathrm{I}_{\\mathrm{pd}}}=\\mathrm{I}_{\\mathrm{ch}} \\frac{\\phi_{\\mathrm{d}}}{2 \\pi} \\tag{19.22}\n\\end{equation*}\n$$\n\n[^1]image_name:Fig. 19.6 Phase-detector logic and corresponding waveforms\ndescription:The graph in Fig. 19.6 illustrates the phase-detector logic and corresponding waveforms for a phase-locked loop (PLL) system. It combines both a schematic diagram of the logic circuit and the resulting waveforms over time.\n\nType of Graph and Function:\n- **Type:** Schematic and time-domain waveform.\n- **Function:** Shows the operation of a phase detector within a PLL, including logic gate interactions and resulting signal behavior.\n\nAxes Labels and Units:\n- **Horizontal Axis:** Represents time (no specific units provided, but typically in seconds or milliseconds for such diagrams).\n- **Vertical Axes:** Different signals are represented:\n- **V_in:** Input reference clock signal.\n- **V_div:** Divided clock signal.\n- **P_u:** Phase detector output for the up signal.\n- **P_d:** Phase detector output for the down signal.\n- **I_pd:** Output current from the phase detector.\n\nOverall Behavior and Trends:\n- **V_in and V_div:** Both signals are square waves. V_in is the reference clock, while V_div is the feedback from the PLL, typically at the same frequency but with a possible phase difference.\n- **P_u and P_d:** These are pulse signals. P_u is active (high) when V_in leads V_div, and P_d is active when V_div leads V_in.\n- **I_pd:** The output current waveform follows the activation of P_u and P_d, with positive pulses corresponding to P_u and negative pulses to P_d.\n\nKey Features and Technical Details:\n- **Phase Difference (φ_d):** The diagram shows the phase difference between V_in and V_div, indicated by the width of the P_u pulse.\n- **Current Pulse Width (I_ch):** The current pulse width is equal to the active duration of P_u or P_d, scaled by the charge pump current I_ch.\n- **Reset Logic:** The"
},
{
    "text": "The phase detector generates a signal whose mean value corresponds to the discrepancy between the reference input phase, $\\theta_{\\text {in }}$, and the feedback clock signal, $\\theta_{\\text {div }}$. This mirrors the subtraction at the input of a feedback amplifier. Numerous types of phase detectors exist, such as a simple exclusive-OR gate, a sample and hold circuit, an analog multiplier, or a blend of digital circuits like D flip-flops. They all take two clock signals as inputs and yield an output whose mean value indicates the necessary phase information.\n\n#### EXAMPLE 19.1\n\nWhat is the gain of an analog multiplier phase detector?\n\n#### Solution\n\nIn this example, the input signal, $\\mathrm{V}_{\\mathrm{in}}$, is considered to be a sinusoid with a known amplitude. The phase detector is implemented as an analog multiplier with a relationship defined by\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{i n} V_{\\text {div }} \\tag{19.11}\n\\end{equation*}\n$$\n\nwhere $\\mathrm{V}_{\\text {div }}$ is the divider output, $\\mathrm{V}_{\\mathrm{pd}}$ is the phase-detector output, and $\\mathrm{K}_{\\mathrm{M}}$ is a multiplication constant. Let the input signal be described by a sinusoid having\n\n$$\n\\begin{equation*}\nV_{\\text {in }}=E_{\\text {in }} \\sin (\\omega t) \\tag{19.12}\n\\end{equation*}\n$$\n\nand the output of the divider is given by a sinusoid where\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {div }}=\\mathrm{E}_{\\text {div }} \\sin \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}+90^{\\circ}\\right)=\\mathrm{E}_{\\text {div }} \\cos \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right) \\tag{19.13}\n\\end{equation*}\n$$\n\nThe argument $\\phi_{\\mathrm{d}}$ represents the phase difference between the input signal and the output of the oscillator. The $90^{\\circ}$ offset is so that when $\\phi_{\\mathrm{d}}=0$ the average output of the phase detector (an analog multiplier in this example) is zero. The combination of an analog multiplier followed by a low-pass filter performs what is commonly known as the correlation function on analog signals. When the input signal and the VCO output have a $90^{\\circ}$ phase difference (i.e., $\\phi_{d}=0$ ), they are uncorrelated and the output of the low-pass filter will be zero. From this $90^{\\circ}$ phase offset, if the phase difference changes so that the two waveforms are more in phase (i.e., $\\phi_{d}>0$ ), then the correlation and, therefore, the output of the low-pass filter will be positive. For example, from (19.13), if $\\phi_{d}=90^{\\circ}$, then the output of the oscillator and the input signal would be exactly in phase, and the average output of the phase detector is found to be the amplitudes of the two sinusoids multiplied together and divided by two, resulting in\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div }}}{2} \\tag{19.14}\n\\end{equation*}\n$$\n\nThis situation is approximately shown in Fig. 19.3 where $\\phi_{d}$ is taken slightly smaller than $90^{\\circ}$ to distinguish the two waveforms. Also shown is the output of the multiplier, $\\mathrm{V}_{\\mathrm{pd}}$, for the case of $\\mathrm{E}_{\\mathrm{in}}=\\mathrm{E}_{\\mathrm{div}}=1 \\mathrm{~V}$.\n\nFig. 19.3 illustrates the output of the phase detector in Example 19.1 when the input signal and the oscillator are nearly in phase. The graph shows three sinusoidal waveforms: the input signal (V_in), the oscillator output (V_osc), and the phase detector output (V_pd). The x-axis represents time, while the y-axis represents voltage. The graph effectively illustrates the phase relationships and shifts between these waveforms. The sinusoidal waves are periodic and maintain a consistent frequency across the time axis. The waveforms are annotated with their respective labels: V_in, V_osc, and V_pd. The visual representation highlights the phase alignment and potential interference or correlation between the input and oscillator signals.\n\nFig. 19.4 shows the relative phase angles of the input signal and the output of the oscillator. Here, it is seen that the output is at twice the frequency of the input signal and that it has an offset voltage of approximately $1 / 2 \\mathrm{~V}$. This corresponds closely to the maximum possible output of the low-pass filter. On the other hand, if the phase changes so as to make the two waveforms more out of phase, then the correlation between them and the output of the low-pass filter will be negative. Shown in Fig. 19.4 are some examples of the different waveforms. It is readily seen that $\\phi_{d}>0$ corresponds to the waveforms that are more in phase.\n\nThese statements can be quantified analytically. The output of the phase detector is given by\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{\\text {in }} V_{\\text {div }}=K_{M} E_{\\text {in }} E_{\\text {div }} \\sin (\\omega t) \\cos \\left(\\omega t-\\phi_{d}\\right) \\tag{19.15}\n\\end{equation*}\n$$\n\nUsing the trigonometric identity\n\n$$\n\\begin{equation*}\n\\sin (A) \\cos (B)=\\frac{1}{2}[\\sin (A+B)+\\sin (A-B)] \\tag{19.16}\n\\end{equation*}\n$$\n\nwe have\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2}\\left[\\sin \\left(\\phi_{\\mathrm{d}}\\right)+\\sin \\left(2 \\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right)\\right] \\tag{19.17}\n\\end{equation*}\n$$\n\nThe low-pass filter removes the second term at twice the frequency of the input signal. The signal $\\mathrm{V}_{\\text {ontt }}$ is therefore given by\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div}}}{2} \\sin \\left(\\phi_{\\mathrm{d}}\\right) \\tag{19.18}\n\\end{equation*}\n$$\n\nNote that $\\mathrm{V}_{\\mathrm{cnt1}}$ is either a dc value or a slowly varying signal, assuming that the frequency of the input signal is constant or slowly varying. For small $\\phi_{\\mathrm{d}}$, we can approximate (19.18) as\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cnt}} \\cong \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\phi_{\\mathrm{d}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}} \\tag{19.19}\n\\end{equation*}\n$$\n\nThus, the output of the low-pass filter is approximately proportional to the phase difference between the output of the oscillator and the input signal, assuming the $90^{\\circ}$ offset bias is ignored. This approximation is used in analyzing the PLL to obtain a linear model. The constant of proportionality is called $\\mathrm{K}_{\\mathrm{pd}}$ and is given by\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div}}}{2} \\tag{19.20}\n\\end{equation*}\n$$\n\nNote that with this analog-multiplier phase detector, $\\mathrm{K}_{\\mathrm{pd}}$ is a function of the input amplitude and divider output amplitude. As we shall soon see, $\\mathrm{K}_{\\mathrm{pd}}$ affects loop dynamics, and thus we see the need for having known values for $\\mathrm{E}_{\\text {in }}$ and $\\mathrm{E}_{\\text {div }}$.\n\nThe output of the phase detector may be a voltage as in Example 19.1, but in CMOS circuits is commonly a current, either single-ended or differential. When the output is a current whose average value is $I_{p d}$, the gain of the phase detector is a constant $\\mathrm{K}_{\\mathrm{pd}}$ with units $\\mathrm{A} / \\mathrm{rad}$.\n\n$$\n\\begin{equation*}\n\\mathrm{I}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}}=\\mathrm{K}_{\\mathrm{pd}}\\left(\\phi_{\\mathrm{in}}-\\phi_{\\mathrm{div}}\\right) \\tag{19.21}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.2\n\nA charge-pump phase detector is shown in general form in Fig. 19.5. The phase detector logic is designed so that logic-high pulses are generated on $P_{u}$ when the reference clock leads the feedback clock, $\\phi_{\\mathrm{d}}>0$, and pulses are generated on $P_{d}$ when the reference clock is lagging, $\\phi_{d}<0$. A typical arrangement of logic is shown in Fig. 19.6. Find the gain of such a phase detector $K_{p d}$ in units $A / r a d$.\n\nFig. 19.5 depicts a general charge-pump phase detector. The phase detector logic generates two outputs, Pu and Pd, based on the inputs Vin and Vdiv. The switches S1 and S2 control the flow of the current Ich depending on the phase difference. The current Ipd flows through the loop filter based on the states of S1 and S2.\n\n#### Solution\n\nThis phase comparator either sources or sinks current in the low-pass loop filter, depending on the output of the sequential phase-detector logic. When $S_{1}$ is closed, $I_{c h}$ flows into the low-pass filter; when $S_{2}$ is closed, $I_{c h}$ flows out of the low-pass filter. The sequential phase-detector logic generates two outputs, $P_{u}$ and $P_{d}$, depending on its inputs, $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {div }}$. These are normally digital signals from the PLL input and the VCO, respectively. Although there are many possibilities for the sequential phase detector, the one we will consider is controlled by the leading edges of $V_{\\text {in }}$ and $V_{\\text {osc }}$. If $V_{\\text {in }}$ goes high before $V_{o s c}$, then $P_{u}$ will be high during the time that the signals are different. This will inject some charge into the loop filter to speed up the VCO. Similarly, if $\\mathrm{V}_{\\text {osc }}$ goes low before $V_{i n}$, then $P_{d}$ will be high during the time the inputs are different, $S_{2}$ will be closed, and charge will be subtracted from the loop filter, which decreases the VCO frequency. When the leading edges are coincident, the two inputs are phase aligned. In this case, ideally both $P_{u}$ and $P_{d}$ are always low, both $S_{1}$ and $S_{2}$ are always open so no charge is injected to or removed from the loop filter, and the loop has reached steady-state. In practical sequential phase detectors, both $P_{u}$ and $P_{d}$ may go high for a few gate delays when the input waveforms are coincident, but this time is usually short enough that it has very little effect on the dc output of the loop filter, and its effect is largely eliminated by capacitors in the loop filter. The falling edges of both $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {osc }}$ have no effect on $P_{\\mathrm{u}}$ and $P_{\\mathrm{d}}$, which are both zero at this time. This makes the PLL insensitive to the duty cycles of the waveform. Typical waveforms are shown in Fig. 19.6.\n\nTo solve for the phase detector gain, note that the output current $I_{p d}$ averaged over any single period of the reference clock $V_{i n}$ is given by the charge pump current $I_{c h}$ scaled by the fraction of a period over which the phase detector outputs $P_{u}$ and $P_{d}$ are active.\n\n$$\n\\begin{equation*}\n\\overline{\\mathrm{I}_{\\mathrm{pd}}}=\\mathrm{I}_{\\mathrm{ch}} \\frac{\\phi_{\\mathrm{d}}}{2 \\pi} \\tag{19.22}\n\\end{equation*}\n$$\n\nFig. 19.6 shows the phase-detector logic and corresponding waveforms. The graph illustrates the phase-detector logic and corresponding waveforms for a phase-locked loop (PLL) system. It combines both a schematic diagram of the logic circuit and the resulting waveforms over time. The x-axis represents time, while the y-axis represents voltage. The graph shows both the logic gate interactions and the resulting signal behavior. The diagram effectively demonstrates the logic and timing interactions within a PLL phase detector, highlighting how phase differences translate into control signals for the loop.\n\nFig. 19.7 shows a loop filter for charge-pump phase detectors. This circuit is a loop filter for a charge-pump phase detector in a PLL. It consists of a current source I_pd, a resistor R, and two capacitors C1 and C2. The filter averages the phase detector output and influences the dynamics of the loop by controlling the VCO control signal V_cntl.\n\nCombining (19.21) and (19.22) yields the phase detector gain,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{pd}}=\\frac{\\mathrm{I}_{\\mathrm{ch}}}{2 \\pi} \\tag{19.23}\n\\end{equation*}\n$$"
},
{
    "text": "A phase detector generates a signal whose mean is directly proportional to the disparity between the reference input phase, $\\theta_{\\text {in }}$, and the feedback clock signal, $\\theta_{\\text {div }}$. This operation mirrors the subtraction taking place at the input of a feedback amplifier. A variety of phase detector designs exist, including simple XOR gates, sample and hold circuits, analog multipliers, or a mix of digital circuits like D flip-flops. All these designs accept two clock signals as inputs and produce an output whose average value conveys the necessary phase data.\n\n#### EXAMPLE 19.1\n\nInquire about the gain of an analog multiplier phase detector.\n\n#### Solution\n\nConsider a scenario where the input signal, $\\mathrm{V}_{\\mathrm{in}}$, is a sinusoid with a known amplitude. The phase detector is constructed as an analog multiplier, characterized by the relationship\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{i n} V_{\\text {div }} \\tag{19.11}\n\\end{equation*}\n$$\n\nHere, $\\mathrm{V}_{\\text {div }}$ denotes the divider output, $\\mathrm{V}_{\\mathrm{pd}}$ is the phase-detector output, and $\\mathrm{K}_{\\mathrm{M}}$ is a constant of multiplication. Suppose the input signal is represented by a sinusoid as follows:\n\n$$\n\\begin{equation*}\nV_{\\text {in }}=E_{\\text {in }} \\sin (\\omega t) \\tag{19.12}\n\\end{equation*}\n$$\n\nAnd the divider's output is a sinusoid given by:\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {div }}=\\mathrm{E}_{\\text {div }} \\sin \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}+90^{\\circ}\\right)=\\mathrm{E}_{\\text {div }} \\cos \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right) \\tag{19.13}\n\\end{equation*}\n$$\n\nThe term $\\phi_{\\mathrm{d}}$ denotes the phase difference between the input signal and the oscillator's output. The $90^{\\circ}$ offset is introduced so that when $\\phi_{\\mathrm{d}}=0$, the mean output of the phase detector (an analog multiplier in this instance) is zero. The pairing of an analog multiplier with a low-pass filter executes the correlation function on analog signals. When the input signal and the VCO output exhibit a $90^{\\circ}$ phase difference (i.e., $\\phi_{d}=0$), they are decorrelated, leading to a zero output from the low-pass filter. Departing from this $90^{\\circ}$ phase offset, any change in phase difference causing the waveforms to align more (i.e., $\\phi_{d}>0$) will result in a positive correlation and, consequently, a positive output from the low-pass filter. For instance, if $\\phi_{d}=90^{\\circ}$, the oscillator's output and the input signal would be perfectly in phase, making the average output of the phase detector equal to the product of the two sinusoids' amplitudes divided by two, expressed as:\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div }}}{2} \\tag{19.14}\n\\end{equation*}\n$$\n\nThis scenario is illustrated in Fig. 19.3, where $\\phi_{d}$ is slightly less than $90^{\\circ}$ to differentiate the two waveforms. Additionally, the figure displays the output of the multiplier, $\\mathrm{V}_{\\mathrm{pd}}$, for the case where $\\mathrm{E}_{\\mathrm{in}}=\\mathrm{E}_{\\mathrm{div}}=1 \\mathrm{~V}$.\n\nThe provided text continues with additional examples and explanations regarding phase detectors, including charge-pump phase detectors and their respective gains and functionalities within a phase-locked loop (PLL) system."
},
{
    "text": "The purpose of a phase detector is to generate an output signal whose mean value corresponds to the discrepancy between the phase of the reference input, θ_in, and the feedback clock signal, θ_div. This is comparable to the subtraction operation at the input of a feedback amplifier. Various types of phase detectors exist, including a simple exclusive-OR gate, a sample and hold circuit, an analog multiplier, or a combination of digital circuits such as D flip-flops. Each of these accepts two clock signals as inputs and produces an output whose average value conveys the necessary phase information.\n\n#### EXAMPLE 19.1\n\nWhat is the gain of an analog multiplier phase detector?\n\n#### Solution\n\nIn this example, the input signal, V_in, is considered to be a sinusoid with a known amplitude. The phase detector is implemented as an analog multiplier with a relationship defined by\n\n$$\nV_{pd}=K_{M} V_{in} V_{div} \\tag{19.11}\n$$\n\nwhere V_div is the divider output, V_pd is the phase-detector output, and K_M is a multiplication constant. Let the input signal be represented by a sinusoid described by\n\n$$\nV_{in}=E_{in} \\sin (\\omega t) \\tag{19.12}\n$$\n\nand the output of the divider is given by a sinusoid where\n\n$$\nV_{div}=E_{div} \\sin (\\omega t-\\phi_d+90^\\circ)=E_{div} \\cos (\\omega t-\\phi_d) \\tag{19.13}\n$$\n\nThe argument φ_d denotes the phase difference between the input signal and the output of the oscillator. The reason for the 90° offset is to ensure that when φ_d=0, the average output of the phase detector (an analog multiplier in this case) is zero. The combination of an analog multiplier followed by a low-pass filter performs what is commonly known as the correlation function on analog signals. When the input signal and the VCO output have a 90° phase difference (i.e., φ_d=0), they are uncorrelated, and the output of the low-pass filter will be zero. From this 90° phase offset, if the phase difference changes such that the two waveforms are more in phase (i.e., φ_d>0), then the correlation and, consequently, the output of the low-pass filter will be positive. For instance, from (19.13), if φ_d=90°, then the output of the oscillator and the input signal would be exactly in phase, and the average output of the phase detector is found to be the amplitudes of the two sinusoids multiplied together and divided by two, resulting in\n\n$$\nV_{cntl}=K_{lp} K_{M} \\frac{E_{in} E_{div}}{2} \\tag{19.14}\n$$\n\nThis situation is approximately illustrated in Fig. 19.3, where φ_d is taken slightly less than 90° to distinguish the two waveforms. Also shown is the output of the multiplier, V_pd, for the case of E_in=E_div=1 V. The graph in Fig. 19.3 is a time-domain waveform plot illustrating the behavior of three signals: the input signal (V_in), the oscillator output (V_osc), and the phase detector output (V_pd).\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform plot showing sinusoidal waveforms.\n\n2. **Axes Labels and Units:**\n- The x-axis represents time, presumably in arbitrary units, as no specific unit is indicated.\n- The y-axis represents voltage in volts, ranging from -1 to 1.\n\n3. **Overall Behavior and Trends:**\n- The graph shows two sinusoidal waveforms (V_in and V_osc) that are slightly out of phase, with V_in leading V_osc.\n- The third waveform, V_pd, has a frequency double that of V_in and V_osc, indicating that it is the result of a multiplication process, typical in phase detectors.\n- The amplitudes of V_in and V_osc are similar, while V_pd has a smaller amplitude.\n\n4. **Key Features and Technical Details:**\n- V_in and V_osc are nearly in phase, but a small phase difference is present, as indicated in the context.\n- V_pd, being the output of the phase detector, reflects the phase difference and is at twice the frequency of the input signals.\n- The peaks and troughs of V_pd occur at the zero crossings of V_in and V_osc.\n\n5. **Annotations and Specific Data Points:**\n- The plot includes annotations for each waveform, indicating their respective labels: V_in, V_osc, and V_pd.\n- No specific numerical values are provided for other key data points, but the graph visually conveys the phase relationship and frequency characteristics effectively.\n\nFig. 19.3 The output of the phase detector in Example 19.1 when the input signal and the oscillator are nearly in phase.\n\nFig. 19.3 The graph depicted in Fig. 19.3 is a time-domain waveform plot illustrating the phase relationship between an input signal \\( V_{in} \\) and an oscillator output \\( V_{osc} \\). The x-axis represents time, while the y-axis represents voltage. The graph shows three sinusoidal waveforms:\n\n1. **\\( V_{in} = \\sin(\\omega t) \\):** This waveform is a reference sinusoidal input signal with a phase angle of zero degrees.\n\n2. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ) \\):** This waveform represents the oscillator output, which is phase-shifted by 90 degrees relative to \\( V_{in} \\).\n\n3. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ \\pm \\frac{\\pi}{8}) \\):** These waveforms show slight phase shifts from the 90-degree phase-shifted oscillator output, indicating additional phase adjustments by \\( \\pm \\frac{\\pi}{8} \\).\n\nThe graph effectively illustrates the phase relationships and shifts between these waveforms. The sinusoidal waves are periodic and maintain a consistent frequency across the time axis. The waveforms are annotated with their respective equations, clarifying the phase differences. The visual representation highlights the phase alignment and potential interference or correlation between the input and oscillator signals.\n\nFig. 19.4 The relative phase angles of the input signal and the output of the oscillator.\n$K_{M}=1 V^{-1}$. Here, it is observed that the output is at twice the frequency of the input signal and that it has an offset voltage of approximately 1/2 V. This corresponds closely to the maximum possible output of the low-pass filter. Conversely, if the phase changes such that the two waveforms become more out of phase, then the correlation between them and the output of the low-pass filter will be negative. Shown in Fig. 19.4 are some examples of the different waveforms. It is readily observed that φ_d>0 corresponds to the waveforms that are more in phase.\n\nThese statements can be quantified analytically. The output of the phase detector is given by\n\n$$\nV_{pd}=K_{M} V_{in} V_{div}=K_{M} E_{in} E_{div} \\sin (\\omega t) \\cos (\\omega t-\\phi_d) \\tag{19.15}\n$$\n\nUsing the trigonometric identity\n\n$$\n\\sin (A) \\cos (B)=\\frac{1}{2}[\\sin (A+B)+\\sin (A-B)] \\tag{19.16}\n$$\n\nwe have\n\n$$\nV_{pd}=K_{M} \\frac{E_{in} E_{div}}{2}[\\sin (\\phi_d)+\\sin (2 \\omega t-\\phi_d)] \\tag{19.17}\n$$\n\nThe low-pass filter removes the second term at twice the frequency of the input signal. The signal V_CNTL is therefore given by\n\n$$\nV_{cntl}=K_{lp} K_{M} \\frac{E_{in} E_{div}}{2} \\sin (\\phi_d) \\tag{19.18}\n$$\n\nNote that V_CNTL is either a dc value or a slowly varying signal, assuming that the frequency of the input signal is constant or slowly varying. For small φ_d, we can approximate (19.18) as\n\n$$\nV_{cntl} \\cong K_{lp} K_{M} \\frac{E_{in} E_{div}}{2} \\phi_d=K_{lp} K_{pd} \\phi_d \\tag{19.19}\n$$\n\nThus, the output of the low-pass filter is approximately proportional to the phase difference between the output of the oscillator and the input signal, assuming the 90° offset bias is ignored. This approximation is used in analyzing the PLL to obtain a linear model. The constant of proportionality is called K_pd and is given by\n\n$$\nK_{pd}=K_{M} \\frac{E_{in} E_{div}}{2} \\tag{19.20}\n$$\n\nNote that with this analog-multiplier phase detector, K_pd is a function of the input amplitude and divider output amplitude. As we shall soon see, K_pd affects loop dynamics, and thus we see the need for having known values for E_in and E_div.\n\nThe output of the phase detector may be a voltage as in Example 19.1, but in CMOS circuits is commonly a current, either single-ended or differential. When the output is a current whose average value is I_pd, the gain of the phase detector is a constant K_pd with units A/rad.\n\n$$\nI_{pd}=K_{pd} \\phi_d=K_{pd}(\\phi_{in}-\\phi_{div}) \\tag{19.21}\n$$\n\n#### EXAMPLE 19.2\n\nA charge-pump phase detector is shown in general form in Fig. 19.5. The phase detector logic is designed so that logic-high pulses are generated on Pu when the reference clock leads the feedback clock, φ_d>0, and pulses are generated on Pd when the reference clock is lagging, φ_d<0. A typical arrangement of logic is shown in Fig. 19.6. Find the gain of such a phase detector K_pd in units A/rad.\nimage_name:Fig. 19.5 General charge-pump phase detector\ndescription:The phase detector logic generates two outputs, Pu and Pd, based on the inputs Vin and Vdiv. The switches S1 and S2 control the flow of the current Ich depending on the phase difference. The current Ipd flows through the loop filter based on the states of S1 and S2.\n\nCharge-pump phase detector\nFig. 19.5 General charge-pump phase detector.\n\n#### Solution\n\nThis phase comparator either sources or sinks current in the low-pass loop filter, depending on the output of the sequential phase-detector logic. When S1 is closed, Ich flows into the low-pass filter; when S2 is closed, Ich flows out of the low-pass filter. The sequential phase-detector logic generates two outputs, Pu and Pd, depending on its inputs, V_in and V_div. These are normally digital signals from the PLL input and the VCO, respectively. Although there are many possibilities for the sequential phase detector, the one we will consider is controlled by the leading edges of V_in and V_osc. If V_in goes high before V_osc, then Pu will be high during the time that the signals are different. This will inject some charge into the loop filter to speed up the VCO. Similarly, if V_osc goes low before V_in, then Pd will be high during the time the inputs are different, S2 will be closed, and charge will be subtracted from the loop filter, which decreases the VCO frequency. When the leading edges are coincident, the two inputs are phase aligned. In this case, ideally both Pu and Pd are always low, both S1 and S2 are always open so no charge is injected to or removed from the loop filter, and the loop has reached steady-state. In practical sequential phase detectors, both Pu and Pd may go high for a few gate delays when the input waveforms are coincident, but this time is usually short enough that it has very little effect on the dc output of the loop filter, and its effect is largely eliminated by capacitors in the loop filter. The falling edges of both V_in and V_osc have no effect on Pu and Pd, which are both zero at this time. This makes the PLL insensitive to the duty cycles of the waveform. Typical waveforms are shown in Fig. 19.6.\n\nTo solve for the phase detector gain, note that the output current I_pd averaged over any single period of the reference clock V_in is given by the charge pump current Ich scaled by the fraction of a period over which the phase detector outputs Pu and Pd are active.\n\n$$\n\\overline{I_{pd}}=Ich \\frac{\\phi_d}{2 \\pi} \\tag{19.22}\n$$\n\nFig. 19.6 Phase-detector logic and corresponding waveforms.\n\nFig. 19.7 Loop filter for charge-pump phase detectors.\n\nCombining (19.21) and (19.22) yields the phase detector gain,\n\n$$\nK_{pd}=\\frac{Ich}{2 \\pi} \\tag{19.23}\n$$"
},
{
    "text": "The phase detector generates a signal whose mean value is directly proportional to the discrepancy between the reference input's phase, $\\theta_{\\text {in }}$, and the feedback clock signal, $\\theta_{\\text {div }}$. This function is comparable to the subtraction taking place at the input of a feedback amplifier. Several designs exist for the phase detector, such as a straightforward exclusive-OR gate, a sample and hold circuit, an analog multiplier, or a mixture of digital circuits incorporating D flip-flops. All these designs accept two clock signals as inputs and generate an output whose mean value conveys the necessary phase information.\n\n#### EXAMPLE 19.1\n\nWhat is the gain of an analog multiplier phase detector?\n\n#### Solution\n\nIn this instance, the input signal, $\\mathrm{V}_{\\mathrm{in}}$, is assumed to be a sinusoidal wave with a known amplitude. The phase detector is implemented as an analog multiplier with a relationship defined by\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{i n} V_{\\text {div }} \\tag{19.11}\n\\end{equation*}\n$$\n\nwhere $\\mathrm{V}_{\\text {div }}$ is the output of the divider, $\\mathrm{V}_{\\mathrm{pd}}$ is the output of the phase detector, and $\\mathrm{K}_{\\mathrm{M}}$ is a constant of multiplication. Let the input signal be represented by a sinusoid described by\n\n$$\n\\begin{equation*}\nV_{\\text {in }}=E_{\\text {in }} \\sin (\\omega t) \\tag{19.12}\n\\end{equation*}\n$$\n\nand the output of the divider is a sinusoid given by\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {div }}=\\mathrm{E}_{\\text {div }} \\sin \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}+90^{\\circ}\\right)=\\mathrm{E}_{\\text {div }} \\cos \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right) \\tag{19.13}\n\\end{equation*}\n$$\n\nThe argument $\\phi_{\\mathrm{d}}$ denotes the phase difference between the input signal and the output of the oscillator. The $90^{\\circ}$ offset is intentional so that when $\\phi_{\\mathrm{d}}=0$, the average output of the phase detector (an analog multiplier in this instance) is zero. An analog multiplier followed by a low-pass filter performs a correlation function on analog signals. When the input signal and the VCO output have a $90^{\\circ}$ phase difference (i.e., $\\phi_{d}=0$), they are uncorrelated, and the low-pass filter's output will be zero. If the phase difference shifts, causing the waveforms to become more in phase (i.e., $\\phi_{d}>0$), then the correlation and, consequently, the low-pass filter's output will be positive. For instance, if $\\phi_{d}=90^{\\circ}$, the oscillator's output and the input signal would be exactly in phase, and the average output of the phase detector is found to be the product of the two sinusoids' amplitudes divided by two, resulting in\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div }}}{2} \\tag{19.14}\n\\end{equation*}\n$$\n\nThis scenario is depicted in Fig. 19.3, where $\\phi_{d}$ is slightly less than $90^{\\circ}$ to differentiate the two waveforms. Also shown is the output of the multiplier, $\\mathrm{V}_{\\mathrm{pd}}$, for the case where $\\mathrm{E}_{\\mathrm{in}}=\\mathrm{E}_{\\mathrm{div}}=1 \\mathrm{~V}$, and\nimage_name:Fig. 19.3\ndescription:The graph in Fig. 19.3 is a time-domain waveform plot illustrating the behavior of three signals: the input signal (V_in), the oscillator output (V_osc), and the phase detector output (V_pd).\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform plot showing sinusoidal waveforms.\n\n2. **Axes Labels and Units:**\n- The x-axis represents time, presumably in arbitrary units, as no specific unit is indicated.\n- The y-axis represents voltage in volts, ranging from -1 to 1.\n\n3. **Overall Behavior and Trends:**\n- The graph shows two sinusoidal waveforms (V_in and V_osc) that are slightly out of phase, with V_in leading V_osc.\n- The third waveform, V_pd, has a frequency double that of V_in and V_osc, indicating that it is the result of a multiplication process, typical in phase detectors.\n- The amplitudes of V_in and V_osc are similar, while V_pd has a smaller amplitude.\n\n4. **Key Features and Technical Details:**\n- V_in and V_osc are nearly in phase, but a small phase difference is present, as indicated in the context.\n- V_pd, being the output of the phase detector, reflects the phase difference and is at twice the frequency of the input signals.\n- The peaks and troughs of V_pd occur at the zero crossings of V_in and V_osc.\n\n5. **Annotations and Specific Data Points:**\n- The plot includes annotations for each waveform, indicating their respective labels: V_in, V_osc, and V_pd.\n- No specific numerical values are provided for other key data points, but the graph visually conveys the phase relationship and frequency characteristics effectively.\n\nFig. 19.3 The output of the phase detector in Example 19.1 when the input signal and the oscillator are nearly in phase.\nimage_name:Fig. 19.3\ndescription:The graph depicted in Fig. 19.3 is a time-domain waveform plot illustrating the phase relationship between an input signal \\( V_{in} \\) and an oscillator output \\( V_{osc} \\). The x-axis represents time, while the y-axis represents voltage. The graph shows three sinusoidal waveforms:\n\n1. **\\( V_{in} = \\sin(\\omega t) \\):** This waveform is a reference sinusoidal input signal with a phase angle of zero degrees.\n\n2. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ) \\):** This waveform represents the oscillator output, which is phase-shifted by 90 degrees relative to \\( V_{in} \\).\n\n3. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ \\pm \\frac{\\pi}{8}) \\):** These waveforms show slight phase shifts from the 90-degree phase-shifted oscillator output, indicating additional phase adjustments by \\( \\pm \\frac{\\pi}{8} \\).\n\nThe graph effectively illustrates the phase relationships and shifts between these waveforms. The sinusoidal waves are periodic and maintain a consistent frequency across the time axis. The waveforms are annotated with their respective equations, clarifying the phase differences. The visual representation highlights the phase alignment and potential interference or correlation between the input and oscillator signals.\n\nFig. 19.4 The relative phase angles of the input signal and the output of the oscillator.\n$\\mathrm{K}_{\\mathrm{M}}=1 \\mathrm{~V}^{-1}$. Here, it is seen that the output is at twice the frequency of the input signal and that it has an offset voltage of approximately $1 / 2 \\mathrm{~V}$. This corresponds closely to the maximum possible output of the low-pass filter. On the other hand, if the phase changes so as to make the two waveforms more out of phase, then the correlation between them and the output of the low-pass filter will be negative. Shown in Fig. 19.4 are some examples of the different waveforms. It is readily seen that $\\phi_{d}>0$ corresponds to the waveforms that are more in phase.\n\nThese statements can be quantified analytically. The output of the phase detector is given by\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{\\text {in }} V_{\\text {div }}=K_{M} E_{\\text {in }} E_{\\text {div }} \\sin (\\omega t) \\cos \\left(\\omega t-\\phi_{d}\\right) \\tag{19.15}\n\\end{equation*}\n$$\n\nUsing the trigonometric identity\n\n$$\n\\begin{equation*}\n\\sin (A) \\cos (B)=\\frac{1}{2}[\\sin (A+B)+\\sin (A-B)] \\tag{19.16}\n\\end{equation*}\n$$\n\nwe have\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2}\\left[\\sin \\left(\\phi_{\\mathrm{d}}\\right)+\\sin \\left(2 \\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right)\\right] \\tag{19.17}\n\\end{equation*}\n$$\n\nThe low-pass filter removes the second term at twice the frequency of the input signal. ${ }^{1}$ The signal $\\mathrm{V}_{\\text {ontt }}$ is therefore given by\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\sin \\left(\\phi_{\\mathrm{d}}\\right) \\tag{19.18}\n\\end{equation*}\n$$\n\nNote that $\\mathrm{V}_{\\mathrm{cnt1}}$ is either a dc value or a slowly varying signal, assuming that the frequency of the input signal is constant or slowly varying. For small $\\phi_{\\mathrm{d}}$, we can approximate (19.18) as\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cnt}} \\cong \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\phi_{\\mathrm{d}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}} \\tag{19.19}\n\\end{equation*}\n$$\n\nThus, the output of the low-pass filter is approximately proportional to the phase difference between the output of the oscillator and the input signal, assuming the $90^{\\circ}$ offset bias is ignored. This approximation is used in analyzing the PLL to obtain a linear model. The constant of proportionality is called $\\mathrm{K}_{\\mathrm{pd}}$ and is given by\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2} \\tag{19.20}\n\\end{equation*}\n$$\n\nNote that with this analog-multiplier phase detector, $\\mathrm{K}_{\\mathrm{pd}}$ is a function of the input amplitude and divider output amplitude. As we shall soon see, $\\mathrm{K}_{\\mathrm{pd}}$ affects loop dynamics, and thus we see the need for having known values for $\\mathrm{E}_{\\text {in }}$ and $\\mathrm{E}_{\\text {div }}$.\n\nThe output of the phase detector may be a voltage as in Example 19.1, but in CMOS circuits is commonly a current, either single-ended or differential. When the output is a current whose average value ${ }^{2}$ is $I_{p d}$, the gain of the phase detector is a constant $\\mathrm{K}_{\\mathrm{pd}}$ with units $\\mathrm{A} / \\mathrm{rad}$.\n\n$$\n\\begin{equation*}\n\\mathrm{I}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}}=\\mathrm{K}_{\\mathrm{pd}}\\left(\\phi_{\\mathrm{in}}-\\phi_{\\mathrm{div}}\\right) \\tag{19.21}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.2\n\nA charge-pump phase detector is shown in general form in Fig. 19.5. The phase detector logic is designed so that logic-high pulses are generated on $P_{u}$ when the reference clock leads the feedback clock, $\\phi_{\\mathrm{d}}>0$, and pulses are generated on $P_{d}$ when the reference clock is lagging, $\\phi_{d}<0$. A typical arrangement of logic is shown in Fig. 19.6. Find the gain of such a phase detector $K_{p d}$ in units $A / r a d$.\nimage_name:Fig. 19.5 General charge-pump phase detector\ndescription:The phase detector logic generates two outputs, Pu and Pd, based on the inputs Vin and Vdiv. The switches S1 and S2 control the flow of the current Ich depending on the phase difference. The current Ipd flows through the loop filter based on the states of S1 and S2.\n\nCharge-pump phase detector\nFig. 19.5 General charge-pump phase detector.\n\n#### Solution\n\nThis phase comparator either sources or sinks current in the low-pass loop filter, depending on the output of the sequential phase-detector logic. When $S_{1}$ is closed, $I_{c h}$ flows into the low-pass filter; when $S_{2}$ is closed, $I_{c h}$ flows out of the low-pass filter. The sequential phase-detector logic generates two outputs, $P_{u}$ and $P_{d}$, depending on its inputs, $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {div }}$. These are normally digital signals from the PLL input and the VCO, respectively. ${ }^{3}$ Although there are many possibilities for the sequential phase detector, the one we will consider is controlled by the leading edges of $V_{\\text {in }}$ and $V_{\\text {osc }}$. If $V_{\\text {in }}$ goes high before $V_{o s c}$, then $P_{u}$ will be high during the time that the signals are different. This will inject some charge into the loop filter to speed up the VCO. Similarly, if $\\mathrm{V}_{\\text {osc }}$ goes low before $V_{i n}$, then $P_{d}$ will be high during the time the inputs are different, $S_{2}$ will be closed, and charge will be subtracted from the loop filter, which decreases the VCO frequency. When the leading edges are coincident, the two inputs are phase aligned. In this case, ideally both $P_{u}$ and $P_{d}$ are always low, both $S_{1}$ and $S_{2}$ are always open so no charge is injected to or removed from the loop filter, and the loop has reached steady-state. In practical sequential phase detectors, both $P_{u}$ and $P_{d}$ may go high for a few gate delays when the input waveforms are coincident, but this time is usually short enough that it has very little effect on the dc output of the loop filter, and its effect is largely eliminated by capacitors in the loop filter. The falling edges of both $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {osc }}$ have no effect on $P_{\\mathrm{u}}$ and $P_{\\mathrm{d}}$, which are both zero at this time. This makes the PLL insensitive to the duty cycles of the waveform. Typical waveforms are shown in Fig. 19.6.\n\nTo solve for the phase detector gain, note that the output current $I_{p d}$ averaged over any single period of the reference clock $V_{i n}$ is given by the charge pump current $I_{c h}$ scaled by the fraction of a period over which the phase detector outputs $P_{u}$ and $P_{d}$ are active.\n\n$$\n\\begin{equation*}\n\\overline{\\mathrm{I}_{\\mathrm{pd}}}=\\mathrm{I}_{\\mathrm{ch}} \\frac{\\phi_{\\mathrm{d}}}{2 \\pi} \\tag{19.22}\n\\end{equation*}\n$$\n\n[^1]image_name:Fig. 19.6 Phase-detector logic and corresponding waveforms\ndescription:The graph in Fig. 19.6 illustrates the phase-detector logic and corresponding waveforms for a phase-locked loop (PLL) system. It combines both a schematic diagram of the logic circuit and the resulting waveforms over time.\n\nType of Graph and Function:\n- **Type:** Schematic and time-domain waveform.\n- **Function:** Shows the operation of a phase detector within a PLL, including logic gate interactions and resulting signal behavior.\n\nAxes Labels and Units:\n- **Horizontal Axis:** Represents time (no specific units provided, but typically in seconds or milliseconds for such diagrams).\n- **Vertical Axes:** Different signals are represented:\n- **V_in:** Input reference clock signal.\n- **V_div:** Divided clock signal.\n- **P_u:** Phase detector output for the up signal.\n- **P_d:** Phase detector output for the down signal.\n- **I_pd:** Output current from the phase detector.\n\nOverall Behavior and Trends:\n- **V_in and V_div:** Both signals are square waves. V_in is the reference clock, while V_div is the feedback from the PLL, typically at the same frequency but with a possible phase difference.\n- **P_u and P_d:** These are pulse signals. P_u is active (high) when V_in leads V_div, and P_d is active when V_div leads V_in.\n- **I_pd:** The output current waveform follows the activation of P_u and P_d, with positive pulses corresponding to P_u and negative pulses to P_d.\n\nKey Features and Technical Details:\n- **Phase Difference (φ_d):** The diagram shows the phase difference between V_in and V_div, indicated by the width of the P_u pulse.\n- **Current Pulse Width (I_ch):** The current pulse width is equal to the active duration of P_u or P_d, scaled by the charge pump current I_ch.\n- **Reset Logic:** The schematic includes flip-flops (FF1 to FF4) and logic gates that determine the reset conditions and pulse generation for P_u and"
},
{
    "text": "The phase detector's primary function is to generate a signal whose average value directly relates to the discrepancy between the phase of the reference input, represented as $\\theta_{\\text {in }}$, and the phase of the feedback clock signal, $\\theta_{\\text {div }}$. This operation mirrors the subtraction process at the input stage of a feedback amplifier. Various configurations can serve as a phase detector, including an elementary exclusive-OR gate, a sample and hold circuit, an analog multiplier, or a composite of digital circuits such as D flip-flops. Each of these setups takes two clock signals as inputs and produces an output with an average value that conveys essential phase-related data.\n\n### Example 19.1\n\nWhat is the gain of an analog multiplier phase detector?\n\n### Solution\n\nIn this instance, the input signal, $\\mathrm{V}_{\\mathrm{in}}$, is postulated to be a sine wave with a known intensity. The phase detector is implemented as an analog multiplier with a relationship expressed as\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{i n} V_{\\text {div }} \\tag{19.11}\n\\end{equation*}\n$$\n\nwhere $\\mathrm{V}_{\\text {div }}$ denotes the output of the divider, $\\mathrm{V}_{\\mathrm{pd}}$ is the output of the phase detector, and $\\mathrm{K}_{\\mathrm{M}}$ is a multiplication factor. The input signal is described by a sine wave given by\n\n$$\n\\begin{equation*}\nV_{\\text {in }}=E_{\\text {in }} \\sin (\\omega t) \\tag{19.12}\n\\end{equation*}\n$$\n\nand the output of the divider is also a sine wave, described by\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\text {div }}=\\mathrm{E}_{\\text {div }} \\sin \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}+90^{\\circ}\\right)=\\mathrm{E}_{\\text {div }} \\cos \\left(\\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right) \\tag{19.13}\n\\end{equation*}\n$$\n\nThe term $\\phi_{\\mathrm{d}}$ signifies the phase disparity between the input signal and the oscillator's output. The inclusion of the $90^{\\circ}$ shift is to ensure that when $\\phi_{\\mathrm{d}}=0$, the average output of the phase detector, which is an analog multiplier in this instance, equals zero. The integration of an analog multiplier followed by a low-pass filter is essentially the correlation function applied to analog signals. If the input signal and the voltage controlled oscillator (VCO) output are $90^{\\circ}$ out of phase (i.e., $\\phi_{d}=0$), they are considered uncorrelated, and the low-pass filter's output will be zero. When the phase difference changes to bring the two waveforms closer in phase (i.e., $\\phi_{d}>0$), the correlation increases, and thus, the output of the low-pass filter becomes positive. For instance, if $\\phi_{d}=90^{\\circ}$, the VCO output and the input signal will be perfectly in phase, and the average output of the phase detector is calculated as the product of the amplitudes of the two sine waves, divided by two, resulting in\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div }}}{2} \\tag{19.14}\n\\end{equation*}\n$$\n\nThis situation is depicted in Fig. 19.3, where $\\phi_{d}$ is slightly less than $90^{\\circ}$ to differentiate the waveforms. Additionally, the output of the multiplier, $\\mathrm{V}_{\\mathrm{pd}}$, for the case where $\\mathrm{E}_{\\mathrm{in}}=\\mathrm{E}_{\\mathrm{div}}=1 \\mathrm{~V}$, is presented. The figure is provided for visualization purposes.\n\nimage_name:Fig. 19.3\ndescription:The waveform plot in Fig. 19.3 is a representation of three signals: the input signal (V_in), the oscillator output (V_osc), and the phase detector output (V_pd) within the time domain. The plot displays:\n\n1. **Graph Type and Function:** This is a time-domain plot depicting sinusoidal waveforms.\n\n2. **Axes Labels and Units:** The x-axis measures time, with units not specified. The y-axis measures voltage in volts, ranging from -1 to 1.\n\n3. **Overall Behavior and Trends:** The plot illustrates two sinusoidal waveforms (V_in and V_osc) that are slightly out of phase, with V_in preceding V_osc. The third waveform, V_pd, exhibits a frequency double that of V_in and V_osc, suggesting it is a result of multiplication, characteristic of phase detectors. The amplitudes of V_in and V_osc are comparable, whereas V_pd has a lower amplitude.\n\n4. **Key Features and Technical Details:** V_in and V_osc are nearly in phase, but there is a small phase difference as indicated. V_pd, being the output of the phase detector, reflects this phase difference and operates at twice the frequency of the input signals. The peaks and troughs of V_pd correspond to the zero crossings of V_in and V_osc.\n\n5. **Annotations and Specific Data Points:** The graph includes annotations for each waveform, specifying their labels: V_in, V_osc, and V_pd. No numerical values are provided for other key data points, but the graph visually conveys the phase relationship and frequency characteristics effectively.\n\nFig. 19.3 The output of the phase detector in Example 19.1 when the input signal and the oscillator are nearly in phase.\n\nimage_name:Fig. 19.3\ndescription:The time-domain waveform plot shown in Fig. 19.3 displays the phase relationship between an input signal \\( V_{in} \\) and an oscillator output \\( V_{osc} \\). The x-axis represents time, and the y-axis represents voltage. The graph includes three sinusoidal waveforms:\n\n1. **\\( V_{in} = \\sin(\\omega t) \\):** This is the reference sinusoidal input signal with a phase angle of zero degrees.\n\n2. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ) \\):** This waveform is the oscillator output, phase-shifted by 90 degrees relative to \\( V_{in} \\).\n\n3. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ \\pm \\frac{\\pi}{8}) \\):** These waveforms represent slight phase shifts from the 90-degree phase-shifted oscillator output, showing additional phase adjustments of \\( \\pm \\frac{\\pi}{8} \\).\n\nThe graph effectively illustrates the phase relationships and shifts between these waveforms. The sinusoidal waves are periodic, maintaining a consistent frequency along the time axis. The waveforms are annotated with their respective equations, explaining the phase differences. The visual representation accentuates the phase alignment and potential interference or correlation between the input and oscillator signals.\n\nFig. 19.4 The relative phase angles of the input signal and the output of the oscillator.\n$\\mathrm{K}_{\\mathrm{M}}=1 \\mathrm{~V}^{-1}$. It is evident that the output frequency is twice that of the input signal and it has an offset voltage of approximately $1 / 2 \\mathrm{~V}$. This is roughly equivalent to the maximum output of the low-pass filter. Conversely, if the phase changes to bring the two waveforms further out of phase, the correlation between them and the output of the low-pass filter will become negative. Examples of the various waveforms are presented in Fig. 19.4. It is apparent that $\\phi_{d}>0$ corresponds to waveforms that are more in phase.\n\nThese observations can be quantified mathematically. The output of the phase detector is represented by\n\n$$\n\\begin{equation*}\nV_{p d}=K_{M} V_{\\text {in }} V_{\\text {div }}=K_{M} E_{\\text {in }} E_{\\text {div }} \\sin (\\omega t) \\cos \\left(\\omega t-\\phi_{d}\\right) \\tag{19.15}\n\\end{equation*}\n$$\n\nBy applying the trigonometric identity\n\n$$\n\\begin{equation*}\n\\sin (A) \\cos (B)=\\frac{1}{2}[\\sin (A+B)+\\sin (A-B)] \\tag{19.16}\n\\end{equation*}\n$$\n\nwe get\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\mathrm{div}}}{2}\\left[\\sin \\left(\\phi_{\\mathrm{d}}\\right)+\\sin \\left(2 \\omega \\mathrm{t}-\\phi_{\\mathrm{d}}\\right)\\right] \\tag{19.17}\n\\end{equation*}\n$$\n\nThe low-pass filter eliminates the second term at twice the frequency of the input signal. Therefore, the signal $\\mathrm{V}_{\\text {ontt }}$ is given by\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cntl}}=\\mathrm{K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div }}}{2} \\sin \\left(\\phi_{\\mathrm{d}}\\right) \\tag{19.18}\n\\end{equation*}\n$$\n\nNote that $\\mathrm{V}_{\\mathrm{cnt1}}$ is either a direct current (dc) value or a slowly varying signal, assuming that the frequency of the input signal is constant or varies slowly. For small $\\phi_{\\mathrm{d}}$, we can approximate (19.18) as\n\n$$\n\\begin{equation*}\n\\mathrm{V}_{\\mathrm{cnt}} \\cong \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}} \\tag{19.19}\n\\end{equation*}\n$$\n\nConsequently, the output of the low-pass filter is approximately proportional to the phase difference between the oscillator's output and the input signal, assuming the $90^{\\circ}$ offset bias is disregarded. This approximation is employed in analyzing the phase-locked loop (PLL) to derive a linear model. The constant of proportionality is known as $\\mathrm{K}_{\\mathrm{pd}}$ and is expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{M}} \\frac{\\mathrm{E}_{\\mathrm{in}} \\mathrm{E}_{\\text {div }}}{2} \\tag{19.20}\n\\end{equation*}\n$$\n\nNote that in this analog-multiplier phase detector, $\\mathrm{K}_{\\mathrm{pd}}$ depends on the amplitude of the input signal and the amplitude of the divider output. As will be observed shortly, $\\mathrm{K}_{\\mathrm{pd}}$ influences loop dynamics, and thus, there is a requirement for known values for $\\mathrm{E}_{\\text {in }}$ and $\\mathrm{E}_{\\text {div }}$.\n\nThe output of the phase detector can be a voltage, as demonstrated in Example 19.1, but in CMOS circuits, it is typically a current, either single-ended or differential. When the output is a current whose average value ${ }^{2}$ is $I_{p d}$, the gain of the phase detector is a constant $\\mathrm{K}_{\\mathrm{pd}}$ with units $\\mathrm{A} / \\mathrm{rad}$.\n\n$$\n\\begin{equation*}\n\\mathrm{I}_{\\mathrm{pd}}=\\mathrm{K}_{\\mathrm{pd}} \\phi_{\\mathrm{d}}=\\mathrm{K}_{\\mathrm{pd}}\\left(\\phi_{\\mathrm{in}}-\\phi_{\\mathrm{div}}\\right) \\tag{19.21}\n\\end{equation*}\n$$\n\n#### Example 19.2\n\nA charge-pump phase detector is presented in its general form in Fig. 19.5. The phase detector logic is designed such that logic-high pulses are emitted on $P_{u}$ when the reference clock is ahead of the feedback clock, $\\phi_{\\mathrm{d}}>0$, and pulses are generated on $P_{d}$ when the reference clock is behind, $\\phi_{d}<0$. A typical configuration of logic is depicted in Fig. 19.6. Determine the gain of this type of phase detector $K_{p d}$ in units $A / r a d$.\n\nimage_name:Fig. 19.5 General charge-pump phase detector\ndescription:The phase detector logic produces two outputs, Pu and Pd, based on the inputs Vin and Vdiv. The switches S1 and S2 control the flow of the current Ich depending on the phase difference. The current Ipd flows through the loop filter based on the states of S1 and S2.\n\nCharge-pump phase detector\nFig. 19.5 General charge-pump phase detector.\n\n#### Solution\n\nThe phase comparator either supplies or extracts current from the low-pass loop filter based on the output of the sequential phase-detector logic. When $S_{1}$ is closed, $I_{c h}$ enters the low-pass filter; when $S_{2}$ is closed, $I_{c h}$ exits the low-pass filter. The sequential phase-detector logic generates two outputs, $P_{u}$ and $P_{d}$, contingent upon its inputs, $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {div }}$. These signals are usually digital and come from the PLL input and the VCO, respectively. ${ }^{3}$ Although numerous configurations are possible for the sequential phase detector, the one considered here is governed by the leading edges of $V_{\\text {in }}$ and $V_{\\text {osc }}$. If $V_{\\text {in }}$ transitions high before $V_{o s c}$, then $P_{u}$ will be high during the interval when the signals differ. This will inject some charge into the loop filter, thereby accelerating the VCO. Similarly, if $\\mathrm{V}_{\\text {osc }}$ transitions low before $V_{i n}$, then $P_{d}$ will be high when the inputs differ, $S_{2}$ will be closed, and charge will be extracted from the loop filter, reducing the VCO frequency. When the leading edges align, the inputs are phase-matched. In an ideal scenario, both $P_{u}$ and $P_{d}$ remain low, with both $S_{1}$ and $S_{2}$ open, so no charge is injected to or removed from the loop filter, and the loop reaches a steady state. However, in practical sequential phase detectors, both $P_{u}$ and $P_{d}$ may be high for a few gate delays when the input waveforms align, but this period is usually short enough to have minimal impact on the dc output of the loop filter, which is largely mitigated by capacitors in the loop filter. The trailing edges of both $\\mathrm{V}_{\\text {in }}$ and $\\mathrm{V}_{\\text {osc }}$ have no effect on $P_{\\mathrm{u}}$ and $P_{\\mathrm{d}}$, which are both zero during this time. This renders the PLL insensitive to the pulse widths of the waveforms. Typical waveforms are shown in Fig. 19.6.\n\nTo calculate the phase detector gain, note that the output current $I_{p d}$ averaged over any single period of the reference clock $V_{i n}$ is given by the charge pump current $I_{c h}$ multiplied by the fraction of the period during which the phase detector outputs $P_{u}$ and $P_{d}$ are active.\n\n$$\n\\begin{equation*}\n\\overline{\\mathrm{I}_{\\mathrm{pd}}}=\\mathrm{I}_{\\mathrm{ch}} \\frac{\\phi_{\\mathrm{d}}}{2 \\pi} \\tag{19.22}\n\\end{equation*}\n$$\n\n[^1]image_name:Fig. 19.6 Phase-detector logic and corresponding waveforms\ndescription:The time-domain waveform plot in Fig. 19.6 illustrates the phase-detector logic and associated waveforms within a phase-locked loop (PLL) system. It combines a schematic diagram of the logic circuit with the resulting waveforms over time.\n\nType of Graph and Function:\n- **Type:** Schematic and time-domain waveform.\n- **Function:** Represents the functioning of a phase detector within a PLL, including the interaction of logic gates and resultant signal behavior.\n\nAxes Labels and Units:\n- **Horizontal Axis:** Time (units not specified, typically in seconds or milliseconds for these diagrams).\n- **Vertical Axes:** Various signals are represented:\n- **V_in:** Input reference clock signal.\n- **V_div:** Divided clock signal.\n- **P_u:** Phase detector output for the up signal.\n- **P_d:** Phase detector output for the down signal.\n- **I_pd:** Output current from the phase detector.\n\nOverall Behavior and Trends:\n- **V_in and V_div:** Both signals are square waves. V_in is the reference clock, while V_div is the feedback from the PLL, typically at the same frequency but possibly with a phase difference.\n- **P_u and P_d:** These are pulse signals. P_u is active (high) when V_in is ahead of V_div, and P_d is active when V_div is ahead of V_in.\n- **I_pd:** The output current waveform follows the activation of P_u and P_d, with positive pulses corresponding to P_u and negative pulses to P_d.\n\nKey Features and Technical Details:\n- **Phase Difference (φ_d):** The diagram shows the phase difference between V_in and V_div, denoted by the width of the P_u pulse.\n- **Current Pulse Width (I_ch):** The current pulse width is proportional to the active duration of P_u or P_d, scaled by the charge pump current I_ch.\n- **Reset Logic:** The schematic includes flip-flops (FF1 to FF4) and logic gates that establish the reset conditions and pulse generation for P_u and P_d.\n\nAnnotations and Specific Data Points:\n- **Annotations:** The diagram annotates the phase difference (φ_d) and the corresponding period (2π) for the signals.\n- **Pulse Widths:** The width of the P_u and P_d pulses is crucial in determining the average"
},
{
    "text": "The phase detector's function is to generate a signal whose mean value corresponds to the discrepancy between the reference input's phase, θ_in, and the feedback clock signal, θ_div. This is akin to the operation of a feedback amplifier, which subtracts signals at its input. There are various implementations of phase detectors, such as a simple XOR gate, a sample-and-hold circuit, an analog multiplier, or a combination of digital circuits like D flip-flops. All these designs take two clock signals as inputs and produce an output whose mean value conveys the necessary phase information.\n\n#### EXAMPLE 19.1\n\nWhat is the gain of an analog multiplier phase detector?\n\n#### Solution\n\nConsider an input signal, V_in, which is a sinusoid with a known amplitude. The phase detector in this instance is an analog multiplier with a relationship defined by:\n\n$$\nV_{pd}=K_{M} V_{in} V_{div} \\tag{19.11}\n$$\n\nHere, V_div is the divider output, V_pd is the phase-detector output, and K_M is a multiplication constant. Let the input signal be modeled by a sinusoid as follows:\n\n$$\nV_{in}=E_{in} \\sin (\\omega t) \\tag{19.12}\n$$\n\nThe divider's output is a sinusoid described by:\n\n$$\nV_{div}=E_{div} \\sin (\\omega t - \\phi_{d} + 90^{\\circ})=E_{div} \\cos (\\omega t - \\phi_{d}) \\tag{19.13}\n$$\n\nThe term φ_d denotes the phase difference between the input signal and the oscillator's output. The 90^{\\circ} offset is introduced so that when φ_d equals 0, the average output of the phase detector (an analog multiplier in this case) is zero. The analog multiplier followed by a low-pass filter performs a correlation function on analog signals. When the input signal and the VCO output have a 90^{\\circ} phase difference (i.e., φ_d = 0), they are uncorrelated, and the low-pass filter's output will be zero. If the phase difference changes, causing the waveforms to be more in phase (i.e., φ_d > 0), the correlation and, consequently, the low-pass filter's output will be positive. For instance, if φ_d equals 90^{\\circ}, the oscillator's output and the input signal would be exactly in phase, and the average output of the phase detector is the product of the two sinusoids' amplitudes divided by two, resulting in:\n\n$$\nV_{cntl}=K_{lp} K_{M} \\frac{E_{in} E_{div}}{2} \\tag{19.14}\n$$\n\nThis scenario is illustrated in Fig. 19.3, where φ_d is slightly less than 90^{\\circ} to differentiate the two waveforms. The output of the multiplier, V_pd, is also shown for the case where E_in = E_div = 1 V.\n\nimage_name:Fig. 19.3\ndescription:Fig. 19.3 presents a time-domain waveform plot showing the behavior of three signals: the input signal (V_in), the oscillator output (V_osc), and the phase detector output (V_pd).\n\n1. **Type of Graph and Function:**\n- The graph displays sinusoidal waveforms in the time domain.\n\n2. **Axes Labels and Units:**\n- The x-axis indicates time, presumably in arbitrary units as no specific unit is provided.\n- The y-axis shows voltage in volts, ranging from -1 to 1.\n\n3. **Overall Behavior and Trends:**\n- Two sinusoidal waveforms (V_in and V_osc) are slightly out of phase, with V_in leading V_osc.\n- The third waveform, V_pd, has a frequency double that of V_in and V_osc, indicating a multiplication process typical in phase detectors.\n- V_in and V_osc have similar amplitudes, while V_pd has a smaller amplitude.\n\n4. **Key Features and Technical Details:**\n- V_in and V_osc are nearly in phase, with a small phase difference as indicated in the context.\n- V_pd, being the phase detector's output, reflects the phase difference and operates at twice the frequency of the input signals.\n- The peaks and troughs of V_pd occur at the zero crossings of V_in and V_osc.\n\n5. **Annotations and Specific Data Points:**\n- The plot includes annotations for each waveform, labeling them as V_in, V_osc, and V_pd.\n- No specific numerical values are provided for other key data points, but the graph visually conveys the phase relationship and frequency characteristics effectively.\n\nFig. 19.3 depicts the phase detector's output in Example 19.1 when the input signal and the oscillator are nearly in phase.\n\nimage_name:Fig. 19.3\ndescription:Fig. 19.3 is a time-domain waveform plot that illustrates the phase relationship between an input signal \\( V_{in} \\) and an oscillator output \\( V_{osc} \\). The x-axis represents time, and the y-axis represents voltage. The graph displays three sinusoidal waveforms:\n\n1. **\\( V_{in} = \\sin(\\omega t) \\):** This waveform is a reference sinusoidal input signal with a phase angle of zero degrees.\n\n2. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ) \\):** This waveform represents the oscillator output, which is phase-shifted by 90 degrees relative to \\( V_{in} \\).\n\n3. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ \\pm \\frac{\\pi}{8}) \\):** These waveforms depict slight phase shifts from the 90-degree phase-shifted oscillator output, indicating additional phase adjustments by \\( \\pm \\frac{\\pi}{8} \\).\n\nThe graph effectively illustrates the phase relationships and shifts between these waveforms. The sinusoidal waves are periodic and maintain a consistent frequency across the time axis. The waveforms are annotated with their respective equations, clarifying the phase differences. The visual representation highlights the phase alignment and potential interference or correlation between the input and oscillator signals.\n\nFig. 19.4 illustrates the relative phase angles of the input signal and the output of the oscillator.\n\nWhen \\( K_{M} = 1 \\mathrm{~V}^{-1} \\), the output is observed to be at twice the frequency of the input signal and to have an offset voltage of approximately \\( \\frac{1}{2} \\mathrm{~V} \\). This corresponds closely to the maximum possible output of the low-pass filter. Conversely, if the phase changes to make the waveforms more out of phase, the correlation between them and the low-pass filter's output will be negative. Some examples of different waveforms are shown in Fig. 19.4, where it is clear that φ_d > 0 corresponds to waveforms that are more in phase.\n\nThese observations can be analyzed quantitatively. The phase detector's output is given by:\n\n$$\nV_{pd}=K_{M} V_{in} V_{div}=K_{M} E_{in} E_{div} \\sin (\\omega t) \\cos (\\omega t - \\phi_{d}) \\tag{19.15}\n$$\n\nUsing the trigonometric identity:\n\n$$\n\\sin (A) \\cos (B)=\\frac{1}{2}[\\sin (A+B)+\\sin (A-B)] \\tag{19.16}\n$$\n\nwe get:\n\n$$\nV_{pd}=K_{M} \\frac{E_{in} E_{div}}{2}[\\sin (\\phi_{d})+\\sin (2 \\omega t - \\phi_{d})] \\tag{19.17}\n$$\n\nThe low-pass filter removes the second term at twice the input signal's frequency. Thus, the control signal \\( V_{cntl} \\) is:\n\n$$\nV_{cntl}=K_{lp} K_{M} \\frac{E_{in} E_{div}}{2} \\sin (\\phi_{d}) \\tag{19.18}\n$$\n\nAssuming that the input signal's frequency is constant or slowly varying, \\( V_{cntl} \\) is either a DC value or a slowly-varying signal. For small \\( \\phi_{d} \\), we can approximate (19.18) as:\n\n$$\nV_{cntl} \\cong K_{lp} K_{pd} \\phi_{d} \\tag{19.19}\n$$\n\nTherefore\nThe phase detector's function is to generate a signal whose mean value corresponds to the discrepancy between the reference input's phase, θ_in, and the feedback clock signal, θ_div. This is akin to the operation of a feedback amplifier, which subtracts signals at its input. There are various implementations of phase detectors, such as a simple XOR gate, a sample-and-hold circuit, an analog multiplier, or a combination of digital circuits like D flip-flops. All these designs take two clock signals as inputs and produce an output whose mean value conveys the necessary phase information.\n\n#### EXAMPLE 19.1\n\nWhat is the gain of an analog multiplier phase detector?\n\n#### Solution\n\nConsider an input signal, V_in, which is a sinusoid with a known amplitude. The phase detector in this instance is an analog multiplier with a relationship defined by:\n\n$$\nV_{pd}=K_{M} V_{in} V_{div} \\tag{19.11}\n$$\n\nHere, V_div is the divider output, V_pd is the phase-detector output, and K_M is a multiplication constant. Let the input signal be modeled by a sinusoid as follows:\n\n$$\nV_{in}=E_{in} \\sin (\\omega t) \\tag{19.12}\n$$\n\nThe divider's output is a sinusoid described by:\n\n$$\nV_{div}=E_{div} \\sin (\\omega t - \\phi_{d} + 90^{\\circ})=E_{div} \\cos (\\omega t - \\phi_{d}) \\tag{19.13}\n$$\n\nThe term φ_d denotes the phase difference between the input signal and the oscillator's output. The 90^{\\circ} offset is introduced so that when φ_d equals 0, the average output of the phase detector (an analog multiplier in this case) is zero. The analog multiplier followed by a low-pass filter performs a correlation function on analog signals. When the input signal and the VCO output have a 90^{\\circ} phase difference (i.e., φ_d = 0), they are uncorrelated, and the low-pass filter's output will be zero. If the phase difference changes, causing the waveforms to be more in phase (i.e., φ_d > 0), the correlation and, consequently, the low-pass filter's output will be positive. For instance, if φ_d equals 90^{\\circ}, the oscillator's output and the input signal would be exactly in phase, and the average output of the phase detector is the product of the two sinusoids' amplitudes divided by two, resulting in:\n\n$$\nV_{cntl}=K_{lp} K_{M} \\frac{E_{in} E_{div}}{2} \\tag{19.14}\n$$\n\nThis scenario is illustrated in Fig. 19.3, where φ_d is slightly less than 90^{\\circ} to differentiate the two waveforms. The output of the multiplier, V_pd, is also shown for the case where E_in = E_div = 1 V.\n\nimage_name:Fig. 19.3\ndescription:Fig. 19.3 presents a time-domain waveform plot showing the behavior of three signals: the input signal (V_in), the oscillator output (V_osc), and the phase detector output (V_pd).\n\n1. **Type of Graph and Function:**\n- The graph displays sinusoidal waveforms in the time domain.\n\n2. **Axes Labels and Units:**\n- The x-axis indicates time, presumably in arbitrary units as no specific unit is provided.\n- The y-axis shows voltage in volts, ranging from -1 to 1.\n\n3. **Overall Behavior and Trends:**\n- Two sinusoidal waveforms (V_in and V_osc) are slightly out of phase, with V_in leading V_osc.\n- The third waveform, V_pd, has a frequency double that of V_in and V_osc, indicating a multiplication process typical in phase detectors.\n- V_in and V_osc have similar amplitudes, while V_pd has a smaller amplitude.\n\n4. **Key Features and Technical Details:**\n- V_in and V_osc are nearly in phase, with a small phase difference as indicated in the context.\n- V_pd, being the phase detector's output, reflects the phase difference and operates at twice the frequency of the input signals.\n- The peaks and troughs of V_pd occur at the zero crossings of V_in and V_osc.\n\n5. **Annotations and Specific Data Points:**\n- The plot includes annotations for each waveform, labeling them as V_in, V_osc, and V_pd.\n- No specific numerical values are provided for other key data points, but the graph visually conveys the phase relationship and frequency characteristics effectively.\n\nFig. 19.3 depicts the phase detector's output in Example 19.1 when the input signal and the oscillator are nearly in phase.\n\nimage_name:Fig. 19.3\ndescription:Fig. 19.3 is a time-domain waveform plot that illustrates the phase relationship between an input signal \\( V_{in} \\) and an oscillator output \\( V_{osc} \\). The x-axis represents time, and the y-axis represents voltage. The graph displays three sinusoidal waveforms:\n\n1. **\\( V_{in} = \\sin(\\omega t) \\):** This waveform is a reference sinusoidal input signal with a phase angle of zero degrees.\n\n2. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ) \\):** This waveform represents the oscillator output, which is phase-shifted by 90 degrees relative to \\( V_{in} \\).\n\n3. **\\( V_{osc} = \\sin(\\omega t + 90^\\circ \\pm \\frac{\\pi}{8}) \\):** These waveforms depict slight phase shifts from the 90-degree phase-shifted oscillator output, indicating additional phase adjustments by \\( \\pm \\frac{\\pi}{8} \\).\n\nThe graph effectively illustrates the phase relationships and shifts between these waveforms. The sinusoidal waves are periodic and maintain a consistent frequency across the time axis. The waveforms are annotated with their respective equations, clarifying the phase differences. The visual representation highlights the phase alignment and potential interference or correlation between the input and oscillator signals.\n\nFig. 19.4 illustrates the relative phase angles of the input signal and the output of the oscillator.\n\nWhen \\( K_{M} = 1 \\mathrm{~V}^{-1} \\), the output is observed to be at twice the frequency of the input signal and to have an offset voltage of approximately \\( \\frac{1}{2} \\mathrm{~V} \\). This corresponds closely to the maximum possible output of the low-pass filter. Conversely, if the phase changes to make the waveforms more out of phase, the correlation between them and the low-pass filter's output will be negative. Some examples of different waveforms are shown in Fig. 19.4, where it is clear that φ_d > 0 corresponds to waveforms that are more in phase.\n\nThese observations can be analyzed quantitatively. The phase detector's output is given by:\n\n$$\nV_{pd}=K_{M} V_{in} V_{div}=K_{M} E_{in} E_{div} \\sin (\\omega t) \\cos (\\omega t - \\phi_{d}) \\tag{19.15}\n$$\n\nUsing the trigonometric identity:\n\n$$\n\\sin (A) \\cos (B)=\\frac{1}{2}[\\sin (A+B)+\\sin (A-B)] \\tag{19.16}\n$$\n\nwe get:\n\n$$\nV_{pd}=K_{M} \\frac{E_{in} E_{div}}{2}[\\sin (\\phi_{d})+\\sin (2 \\omega t - \\phi_{d})] \\tag{19.17}\n$$\n\nThe low-pass filter removes the second term at twice the input signal's frequency. Thus, the control signal \\( V_{cntl} \\) is:\n\n$$\nV_{cntl}=K_{lp} K_{M} \\frac{E_{in} E_{div}}{2} \\sin (\\phi_{d}) \\tag{19.18}\n$$\n\nAssuming that the input signal's frequency is constant or slowly varying, \\( V_{cntl} \\) is either a DC value or a slowly-varying signal. For small \\( \\phi_{d} \\), we can approximate (19.18) as:\n\n$$\nV_{cntl} \\cong K_{lp} K_{pd} \\phi_{d} \\tag{19.19}\n$$\n\nThis approximation is used in analyzing the PLL to obtain a linear model. The constant of proportionality is called \\( K_{pd} \\) and is given by:\n\n$$\nK_{pd}=K_{M} \\frac{E_{in} E_{div}}{2} \\tag{19.20}\n$$\n\nIt is important to note that with this analog-multiplier phase detector, \\( K_{pd} \\) depends on the input amplitude and divider output amplitude. As we shall soon see, \\( K_{pd} \\) affects loop dynamics, and thus we see the need for having known values for \\( E_{in} \\) and \\( E_{div} \\).\n\nThe output of the phase detector may be a voltage as in Example 19.1, but in CMOS circuits is commonly a current, either single-ended or differential. When the output is a current whose average value is \\( I_{pd} \\), the gain of the phase detector is a constant \\( K_{pd} \\) with units \\( \\mathrm{A} / \\mathrm{rad} \\).\n\n$$\nI_{pd}=K_{pd} \\phi_{d}=K_{pd}(\\phi_{in} - \\phi_{div}) \\tag{19.21}\n$$\n\n#### EXAMPLE 19.2\n\nA charge-pump phase detector is shown in general form in Fig. 19.5. The phase detector logic is designed so that logic-high pulses are generated on \\( P_{u} \\) when the reference clock leads the feedback clock, \\( \\phi_{d} > 0 \\), and pulses are generated on \\( P_{d} \\) when the reference clock is lagging, \\( \\phi_{d} < 0 \\). A typical arrangement of logic is shown in Fig. 19.6. Find the gain of such a phase detector \\( K_{pd} \\) in units \\( \\mathrm{A} / \\mathrm{rad} \\).\n\nimage_name:Fig. 19.5 General charge-pump phase detector\ndescription:The phase detector logic generates two outputs, Pu and Pd, based on the inputs Vin and Vdiv. The switches S1 and S2 control the flow of the current Ich depending on the phase difference. The current Ipd flows through the loop filter based on the states of S1 and S2.\n\nCharge-pump"
},
{
    "text": "The loop filter serves multiple crucial functions within a PLL, smoothing out the rapid fluctuations in the phase detector's output. Additionally, it impacts the loop's dynamics by dictating how the VCO control signal, $\\mathrm{V}_{\\mathrm{cntt}}$, reacts to changes in the phase difference indicated by $\\mathrm{I}_{\\mathrm{pd}}$.\n\nIn the majority of PLLs, the loop filter is either first or second order. For instance, a typical first-order low-pass loop filter has a transfer function expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{1 \\mathrm{p}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\mathrm{K}_{\\mathrm{lp}} \\frac{1+\\mathrm{s} / \\omega_{z}}{\\mathrm{~s}}=\\mathrm{K}_{\\mathrm{lp}}\\left(\\frac{1}{\\mathrm{~s}}+\\frac{1}{\\omega_{\\mathrm{z}}}\\right) \\tag{19.24}\n\\end{equation*}\n$$\n\nA loop filter of the form (19.24) can be viewed as a combination of a proportional and an integral pathway. While many loop filters incorporate additional higher-order poles and zeros, the essential PLL design parameters are encapsulated by (19.24).\n\nThe loop filter gain constant $\\mathrm{K}_{1 \\mathrm{p}}$ has units of $\\Omega \\cdot \\mathrm{rad} / \\mathrm{s}=\\mathrm{F}^{-1}$ when the phase detector output is a current, and $\\mathrm{rad} / \\mathrm{s}$ when the output is a voltage.\n\n#### EXAMPLE 19.3\n\nDetermine the loop filter transfer function that connects the current $I_{p d}$ and control voltage $V_{c n t 1}$ in Fig. 19.7.\n\n#### Solution\n\nIt is presumed that no current exits the loop filter into the VCO's control terminal, as depicted in Fig. 19.7. Consequently, all current must traverse the parallel impedances $\\left(R+1 /\\left(\\mathrm{sC}_{1}\\right)\\right)$ and $1 /\\left(\\mathrm{sC}_{2}\\right)$. The loop filter transfer function is given by\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})}=\\frac{1}{\\mathrm{~s}\\left(\\mathrm{C}_{1}+\\mathrm{C}_{2}\\right)} \\cdot \\frac{1+\\mathrm{sRC}_{1}}{1+\\mathrm{sR}\\left(\\frac{\\mathrm{C}_{1} \\mathrm{C}_{2}}{\\mathrm{C}_{1}+\\mathrm{C}_{2}}\\right)} \\tag{19.25}\n\\end{equation*}\n$$\n\nIn practical applications, capacitor $C_{2}$ is included solely to mitigate voltage spikes that might otherwise occur across $R$ due to transient currents, thus its value is generally much smaller than $C_{1}$. Assuming $\\left(C_{1}+C_{2}\\right) \\cong C_{1}$ and ignoring the high-frequency pole at $\\left(C_{1}+C_{2}\\right) /\\left(\\mathrm{RC}_{1} \\mathrm{C}_{2}\\right)$,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})} \\cong \\frac{1}{\\mathrm{C}_{1}}\\left(\\frac{1+\\mathrm{sRC}_{1}}{\\mathrm{~s}}\\right) \\tag{19.26}\n\\end{equation*}\n$$\n\nConverting (19.26) into the general model of (19.24), we obtain for a charge-pump loop filter,\n\n$$\n\\begin{gather*}\n\\mathrm{K}_{1 \\mathrm{p}}=1 / \\mathrm{C}_{1}  \\tag{19.27}\\\\\n\\omega_{\\mathrm{z}}=1 /\\left(\\mathrm{RC}_{1}\\right) \\tag{19.28}\n\\end{gather*}\n$$\n\nThe loop filter in Fig. 19.7 is frequently paired with the charge pump phase comparator in Fig. 19.5. When $\\mathrm{S}_{1}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ flows into the low-pass filter, elevating the control voltage to the VCO; conversely, when $\\mathrm{S}_{2}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ exits the low-pass filter, reducing the VCO's control voltage. With both switches open, the top plates of $C_{1}$ and $C_{2}$ are open-circuited, and the output voltage remains stable in the steady state. The resistor, $R$, is included to introduce a zero in the low-pass filter's transfer function. It contributes an output component proportional to the input current, while the capacitor integrates the input current. Since they are in series, the combined proportional and integral terms are observed at $\\mathrm{V}_{\\mathrm{cnt1}}$."
},
{
    "text": "The loop filter serves multiple crucial functions within a PLL, including smoothing out the rapid fluctuations in the phase detector's output. Additionally, it impacts the loop's dynamics by dictating how the VCO control signal, $\\mathrm{V}_{\\mathrm{cntt}}$, reacts to changes in the phase difference indicated by $\\mathrm{I}_{\\mathrm{pd}}$.\n\nIn the majority of PLLs, the loop filter is either first or second order. For instance, a typical first-order low-pass loop filter has a transfer function expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{1 \\mathrm{p}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\mathrm{K}_{\\mathrm{lp}} \\frac{1+\\mathrm{s} / \\omega_{z}}{\\mathrm{~s}}=\\mathrm{K}_{\\mathrm{lp}}\\left(\\frac{1}{\\mathrm{~s}}+\\frac{1}{\\omega_{\\mathrm{z}}}\\right) \\tag{19.24}\n\\end{equation*}\n$$\n\nA loop filter of the form (19.24) can be conceptualized as the combination of a proportional and an integral path. While many loop filters incorporate additional higher-order poles and zeros, the essential PLL design parameters are encapsulated by (19.24).\n\nThe loop filter gain constant $\\mathrm{K}_{1 \\mathrm{p}}$ has units of $\\Omega \\cdot \\mathrm{rad} / \\mathrm{s}=\\mathrm{F}^{-1}$ when the phase detector output is a current, and $\\mathrm{rad} / \\mathrm{s}$ when it is a voltage.\n\n#### EXAMPLE 19.3\n\nDetermine the loop filter transfer function that connects the current $I_{p d}$ and control voltage $V_{c n t 1}$ in Fig. 19.7.\n\n#### Solution\n\nIt is presumed that no current exits the loop filter into the VCO's control terminal, as depicted in Fig. 19.7. Consequently, all current must pass through the parallel impedances $\\left(R+1 /\\left(\\mathrm{sC}_{1}\\right)\\right)$ and $1 /\\left(\\mathrm{sC}_{2}\\right)$. The loop filter transfer function is\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})}=\\frac{1}{\\mathrm{~s}\\left(\\mathrm{C}_{1}+\\mathrm{C}_{2}\\right)} \\cdot \\frac{1+\\mathrm{sRC}_{1}}{1+\\mathrm{sR}\\left(\\frac{\\mathrm{C}_{1} \\mathrm{C}_{2}}{\\mathrm{C}_{1}+\\mathrm{C}_{2}}\\right)} \\tag{19.25}\n\\end{equation*}\n$$\n\nIn practical applications, capacitor $C_{2}$ is primarily used to mitigate voltage spikes that might otherwise occur across $R$ due to transient currents, and thus its value is generally much smaller than $C_{1}$. Assuming $\\left(C_{1}+C_{2}\\right) \\cong C_{1}$ and disregarding the high-frequency pole at $\\left(C_{1}+C_{2}\\right) /\\left(\\mathrm{RC}_{1} \\mathrm{C}_{2}\\right)$,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})} \\cong \\frac{1}{\\mathrm{C}_{1}}\\left(\\frac{1+\\mathrm{sRC}_{1}}{\\mathrm{~s}}\\right) \\tag{19.26}\n\\end{equation*}\n$$\n\nTranslating (19.26) into the general model of (19.24), we obtain for a charge-pump loop filter,\n\n$$\n\\begin{gather*}\n\\mathrm{K}_{1 \\mathrm{p}}=1 / \\mathrm{C}_{1}  \\tag{19.27}\\\\\n\\omega_{\\mathrm{z}}=1 /\\left(\\mathrm{RC}_{1}\\right) \\tag{19.28}\n\\end{gather*}\n$$\n\nThe loop filter in Fig. 19.7 is frequently paired with the charge pump phase comparator in Fig. 19.5. When $\\mathrm{S}_{1}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ flows into the low-pass filter, raising the VCO's control voltage; when $\\mathrm{S}_{2}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ exits the low-pass filter, lowering the VCO's control voltage. With both switches open, the top plates of $C_{1}$ and $C_{2}$ are open-circuited, and the output voltage remains stable in the steady state. The resistor, $R$, is included to introduce a zero in the low-pass filter's transfer function. It provides an output component proportional to the input current, while the capacitor integrates the input current. Since they are in series, the combined proportional and integral terms are observed at $\\mathrm{V}_{\\mathrm{cnt1}}$."
},
{
    "text": "The loop filter serves multiple crucial functions within a PLL, including smoothing out the rapid fluctuations in the phase detector's output. Additionally, it impacts the loop's dynamics by dictating how the VCO control signal, $\\mathrm{V}_{\\mathrm{cntt}}$, reacts to changes in the phase difference indicated by $\\mathrm{I}_{\\mathrm{pd}}$.\n\nIn the majority of PLLs, the loop filter is either first or second order. For instance, a widely-used first-order low-pass loop filter has a transfer function expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{1 \\mathrm{p}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\mathrm{K}_{\\mathrm{lp}} \\frac{1+\\mathrm{s} / \\omega_{z}}{\\mathrm{~s}}=\\mathrm{K}_{\\mathrm{lp}}\\left(\\frac{1}{\\mathrm{~s}}+\\frac{1}{\\omega_{\\mathrm{z}}}\\right) \\tag{19.24}\n\\end{equation*}\n$$\n\nA loop filter of the form (19.24) can be conceptualized as the combination of a proportional and an integral pathway. While many loop filters incorporate additional higher-order poles and zeros, the essential PLL design parameters are encapsulated by (19.24).\n\nThe loop filter gain constant $\\mathrm{K}_{1 \\mathrm{p}}$ is measured in $\\Omega \\cdot \\mathrm{rad} / \\mathrm{s}=\\mathrm{F}^{-1}$ when the phase detector output is a current, and in $\\mathrm{rad} / \\mathrm{s}$ when it is a voltage.\n\n#### EXAMPLE 19.3\n\nDetermine the loop filter transfer function that connects the current $I_{p d}$ and control voltage $V_{c n t 1}$ in Fig. 19.7.\n\n#### Solution\n\nIt is presumed that no current exits the loop filter into the VCO's control terminal, as depicted in Fig. 19.7. Consequently, all current must traverse the parallel impedances $\\left(R+1 /\\left(\\mathrm{sC}_{1}\\right)\\right)$ and $1 /\\left(\\mathrm{sC}_{2}\\right)$. The loop filter transfer function is given by\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})}=\\frac{1}{\\mathrm{~s}\\left(\\mathrm{C}_{1}+\\mathrm{C}_{2}\\right)} \\cdot \\frac{1+\\mathrm{sRC}_{1}}{1+\\mathrm{sR}\\left(\\frac{\\mathrm{C}_{1} \\mathrm{C}_{2}}{\\mathrm{C}_{1}+\\mathrm{C}_{2}}\\right)} \\tag{19.25}\n\\end{equation*}\n$$\n\nIn practical applications, capacitor $C_{2}$ is primarily used to mitigate voltage spikes that might otherwise occur across $R$ due to transient currents, hence its value is typically much smaller than $C_{1}$. Assuming $\\left(C_{1}+C_{2}\\right) \\cong C_{1}$ and disregarding the high-frequency pole at $\\left(C_{1}+C_{2}\\right) /\\left(\\mathrm{RC}_{1} \\mathrm{C}_{2}\\right)$,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})} \\cong \\frac{1}{\\mathrm{C}_{1}}\\left(\\frac{1+\\mathrm{sRC}_{1}}{\\mathrm{~s}}\\right) \\tag{19.26}\n\\end{equation*}\n$$\n\nTranslating (19.26) into the general model of (19.24), we obtain for a charge-pump loop filter,\n\n$$\n\\begin{gather*}\n\\mathrm{K}_{1 \\mathrm{p}}=1 / \\mathrm{C}_{1}  \\tag{19.27}\\\\\n\\omega_{\\mathrm{z}}=1 /\\left(\\mathrm{RC}_{1}\\right) \\tag{19.28}\n\\end{gather*}\n$$\n\nThe loop filter in Fig. 19.7 is frequently paired with the charge pump phase comparator in Fig. 19.5. When $\\mathrm{S}_{1}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ flows into the low-pass filter, elevating the control voltage to the VCO; when $\\mathrm{S}_{2}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ exits the low-pass filter, reducing the VCO's control voltage. With both switches open, the top plates of $C_{1}$ and $C_{2}$ are open-circuited, and the output voltage remains stable in the steady state. The resistor, $R$, is included to introduce a zero in the low-pass filter's transfer function. It contributes an output component proportional to the input current, while the capacitor integrates the input current. Since they are in series, the combined proportional and integral terms are evident at $\\mathrm{V}_{\\mathrm{cnt1}}$."
},
{
    "text": "The loop filter serves multiple pivotal functions within a PLL, including smoothing out the rapid fluctuations in the phase detector's output. It also impacts the loop's dynamics by dictating how the VCO control signal, $\\mathrm{V}_{\\mathrm{cntt}}$, reacts to changes in the phase difference indicated by $\\mathrm{I}_{\\mathrm{pd}}$.\n\nIn the majority of PLLs, the loop filter is either first or second order. For instance, a typical first-order low-pass loop filter has a transfer function expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{1 \\mathrm{p}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\mathrm{K}_{\\mathrm{lp}} \\frac{1+\\mathrm{s} / \\omega_{z}}{\\mathrm{~s}}=\\mathrm{K}_{\\mathrm{lp}}\\left(\\frac{1}{\\mathrm{~s}}+\\frac{1}{\\omega_{\\mathrm{z}}}\\right) \\tag{19.24}\n\\end{equation*}\n$$\n\nA loop filter of the type (19.24) can be conceptualized as a combination of a proportional and an integral pathway. Many loop filters incorporate additional higher-order poles and zeros, but the essential PLL design parameters are encapsulated by (19.24).\n\nThe loop filter gain constant $\\mathrm{K}_{1 \\mathrm{p}}$ is measured in $\\Omega \\cdot \\mathrm{rad} / \\mathrm{s}=\\mathrm{F}^{-1}$ when the phase detector output is a current, and in $\\mathrm{rad} / \\mathrm{s}$ when it is a voltage.\n\n#### EXAMPLE 19.3\n\nDetermine the loop filter transfer function linking the current $I_{p d}$ and control voltage $V_{c n t 1}$ in Fig. 19.7.\n\n#### Solution\n\nIt is presumed that no current exits the loop filter into the VCO's control terminal, as depicted in Fig. 19.7. Consequently, all current must traverse the parallel impedances $\\left(R+1 /\\left(\\mathrm{sC}_{1}\\right)\\right)$ and $1 /\\left(\\mathrm{sC}_{2}\\right)$. The loop filter transfer function is thus\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})}=\\frac{1}{\\mathrm{~s}\\left(\\mathrm{C}_{1}+\\mathrm{C}_{2}\\right)} \\cdot \\frac{1+\\mathrm{sRC}_{1}}{1+\\mathrm{sR}\\left(\\frac{\\mathrm{C}_{1} \\mathrm{C}_{2}}{\\mathrm{C}_{1}+\\mathrm{C}_{2}}\\right)} \\tag{19.25}\n\\end{equation*}\n$$\n\nIn practical applications, capacitor $C_{2}$ is primarily used to mitigate voltage spikes caused by transient currents across $R$, and thus its value is usually much smaller than $C_{1}$. Assuming $\\left(C_{1}+C_{2}\\right) \\approx C_{1}$ and disregarding the high-frequency pole at $\\left(C_{1}+C_{2}\\right) /\\left(\\mathrm{RC}_{1} \\mathrm{C}_{2}\\right)$,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})} \\approx \\frac{1}{\\mathrm{C}_{1}}\\left(\\frac{1+\\mathrm{sRC}_{1}}{\\mathrm{~s}}\\right) \\tag{19.26}\n\\end{equation*}\n$$\n\nTranslating (19.26) into the general framework of (19.24), we obtain for a charge-pump loop filter,\n\n$$\n\\begin{gather*}\n\\mathrm{K}_{1 \\mathrm{p}}=1 / \\mathrm{C}_{1}  \\tag{19.27}\\\\\n\\omega_{\\mathrm{z}}=1 /\\left(\\mathrm{RC}_{1}\\right) \\tag{19.28}\n\\end{gather*}\n$$\n\nThe loop filter in Fig. 19.7 is frequently paired with the charge pump phase comparator in Fig. 19.5. When $\\mathrm{S}_{1}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ flows into the low-pass filter, raising the VCO's control voltage; when $\\mathrm{S}_{2}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ exits the low-pass filter, lowering the VCO's control voltage. With both switches open, the top plates of $C_{1}$ and $C_{2}$ are open-circuited, and the output voltage stabilizes in the steady state. The resistor $R$ is included to introduce a zero in the low-pass filter's transfer function, providing an output component proportional to the input current, while the capacitor integrates the input current. Since they are in series, the combined proportional and integral terms are evident at $\\mathrm{V}_{\\mathrm{cnt1}}$."
},
{
    "text": "The loop filter fulfills multiple crucial functions within a PLL. It smooths out the rapidly changing elements of the phase detector's output. Additionally, it affects the loop's dynamics by dictating how the VCO control signal, $\\mathrm{V}_{\\mathrm{cntt}}$, reacts to fluctuations in the phase difference indicated by $\\mathrm{I}_{\\mathrm{pd}}$.\n\nIn the majority of PLLs, the loop filter is either first or second order. For instance, a typical first-order low-pass loop filter has a transfer function expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{1 \\mathrm{p}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\mathrm{K}_{\\mathrm{lp}} \\frac{1+\\mathrm{s} / \\omega_{z}}{\\mathrm{~s}}=\\mathrm{K}_{\\mathrm{lp}}\\left(\\frac{1}{\\mathrm{~s}}+\\frac{1}{\\omega_{\\mathrm{z}}}\\right) \\tag{19.24}\n\\end{equation*}\n$$\n\nA loop filter of the form (19.24) can be viewed as a combination of a proportional and an integral path. Many loop filters incorporate additional higher-order poles and zeros, but the essential PLL design parameters are encapsulated by (19.24).\n\nThe loop filter gain constant $\\mathrm{K}_{1 \\mathrm{p}}$ has units of $\\Omega \\cdot \\mathrm{rad} / \\mathrm{s}=\\mathrm{F}^{-1}$ when the phase detector output is a current, and $\\mathrm{rad} / \\mathrm{s}$ when it is a voltage.\n\n#### EXAMPLE 19.3\n\nDetermine the loop filter transfer function that connects the current $I_{p d}$ and control voltage $V_{c n t 1}$ in Fig. 19.7.\n\n#### Solution\n\nIt is presumed that no current exits the loop filter into the VCO's control terminal, as depicted in Fig. 19.7. Consequently, all current must pass through the parallel impedances $\\left(R+1 /\\left(\\mathrm{sC}_{1}\\right)\\right)$ and $1 /\\left(\\mathrm{sC}_{2}\\right)$. The loop filter transfer function is\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})}=\\frac{1}{\\mathrm{~s}\\left(\\mathrm{C}_{1}+\\mathrm{C}_{2}\\right)} \\cdot \\frac{1+\\mathrm{sRC}_{1}}{1+\\mathrm{sR}\\left(\\frac{\\mathrm{C}_{1} \\mathrm{C}_{2}}{\\mathrm{C}_{1}+\\mathrm{C}_{2}}\\right)} \\tag{19.25}\n\\end{equation*}\n$$\n\nIn practical applications, capacitor $C_{2}$ is solely for mitigating voltage spikes that would otherwise occur across $R$ due to transient currents, hence its value is typically much smaller than $C_{1}$. Assuming $\\left(C_{1}+C_{2}\\right) \\cong C_{1}$ and ignoring the high-frequency pole at $\\left(C_{1}+C_{2}\\right) /\\left(\\mathrm{RC}_{1} \\mathrm{C}_{2}\\right)$,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})} \\cong \\frac{1}{\\mathrm{C}_{1}}\\left(\\frac{1+\\mathrm{sRC}_{1}}{\\mathrm{~s}}\\right) \\tag{19.26}\n\\end{equation*}\n$$\n\nRewriting (19.26) into the general model of (19.24), we obtain for a charge-pump loop filter,\n\n$$\n\\begin{gather*}\n\\mathrm{K}_{1 \\mathrm{p}}=1 / \\mathrm{C}_{1}  \\tag{19.27}\\\\\n\\omega_{\\mathrm{z}}=1 /\\left(\\mathrm{RC}_{1}\\right) \\tag{19.28}\n\\end{gather*}\n$$\n\nThe loop filter in Fig. 19.7 is frequently paired with the charge pump phase comparator in Fig. 19.5. When $\\mathrm{S}_{1}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ flows into the low-pass filter, raising the VCO's control voltage; when $\\mathrm{S}_{2}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ exits the low-pass filter, lowering the VCO's control voltage. With both switches open, the top plates of $C_{1}$ and $C_{2}$ are open-circuited, and the output voltage remains stable in the steady state. The resistor, $R$, is included to introduce a zero in the low-pass filter's transfer function. It contributes an output component proportional to the input current, while the capacitor integrates the input current. Since they are in series, the combined proportional and integral terms are observed at $\\mathrm{V}_{\\mathrm{cnt1}}$."
},
{
    "text": "The loop filter fulfills several crucial functions within a PLL. It smooths out the rapidly fluctuating elements of the phase detector's output. Additionally, it affects the loop's dynamics by dictating how the VCO control signal, $\\mathrm{V}_{\\mathrm{cntt}}$, reacts to changes in the phase difference indicated by $\\mathrm{I}_{\\mathrm{pd}}$.\n\nIn the majority of PLLs, the loop filter is either first or second order. For instance, a typical first-order low-pass loop filter has a transfer function expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{1 \\mathrm{p}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\mathrm{K}_{\\mathrm{lp}} \\frac{1+\\mathrm{s} / \\omega_{z}}{\\mathrm{~s}}=\\mathrm{K}_{\\mathrm{lp}}\\left(\\frac{1}{\\mathrm{~s}}+\\frac{1}{\\omega_{\\mathrm{z}}}\\right) \\tag{19.24}\n\\end{equation*}\n$$\n\nA loop filter of the type (19.24) can be viewed as a combination of a proportional and an integral pathway. While many loop filters incorporate additional higher-order poles and zeros, the essential PLL design parameters are encapsulated by (19.24).\n\nThe loop filter gain constant $\\mathrm{K}_{1 \\mathrm{p}}$ is measured in $\\Omega \\cdot \\mathrm{rad} / \\mathrm{s}=\\mathrm{F}^{-1}$ when the phase detector output is a current, and in $\\mathrm{rad} / \\mathrm{s}$ when the output is a voltage.\n\n#### EXAMPLE 19.3\n\nDetermine the loop filter transfer function linking the current $I_{p d}$ and control voltage $V_{c n t 1}$ in Fig. 19.7.\n\n#### Solution\n\nIt is presumed that no current exits the loop filter into the VCO's control terminal, as depicted in Fig. 19.7. Consequently, all current must traverse the parallel impedances $\\left(R+1 /\\left(\\mathrm{sC}_{1}\\right)\\right)$ and $1 /\\left(\\mathrm{sC}_{2}\\right)$. The loop filter transfer function is\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})}=\\frac{1}{\\mathrm{~s}\\left(\\mathrm{C}_{1}+\\mathrm{C}_{2}\\right)} \\cdot \\frac{1+\\mathrm{sRC}_{1}}{1+\\mathrm{sR}\\left(\\frac{\\mathrm{C}_{1} \\mathrm{C}_{2}}{\\mathrm{C}_{1}+\\mathrm{C}_{2}}\\right)} \\tag{19.25}\n\\end{equation*}\n$$\n\nPractically, capacitor $C_{2}$ is included solely to mitigate voltage spikes that might otherwise occur across $R$ due to transient currents, thus its value is typically much smaller than $C_{1}$. Assuming $\\left(C_{1}+C_{2}\\right) \\cong C_{1}$ and ignoring the high-frequency pole at $\\left(C_{1}+C_{2}\\right) /\\left(\\mathrm{RC}_{1} \\mathrm{C}_{2}\\right)$,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})} \\cong \\frac{1}{\\mathrm{C}_{1}}\\left(\\frac{1+\\mathrm{sRC}_{1}}{\\mathrm{~s}}\\right) \\tag{19.26}\n\\end{equation*}\n$$\n\nRewriting (19.26) into the general form of (19.24), we obtain for a charge-pump loop filter,\n\n$$\n\\begin{gather*}\n\\mathrm{K}_{1 \\mathrm{p}}=1 / \\mathrm{C}_{1}  \\tag{19.27}\\\\\n\\omega_{\\mathrm{z}}=1 /\\left(\\mathrm{RC}_{1}\\right) \\tag{19.28}\n\\end{gather*}\n$$\n\nThe loop filter in Fig. 19.7 is frequently paired with the charge pump phase comparator in Fig. 19.5. When $\\mathrm{S}_{1}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ flows into the low-pass filter, elevating the control voltage to the VCO; when $\\mathrm{S}_{2}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ exits the low-pass filter, reducing the VCO's control voltage. With both switches open, the top plates of $C_{1}$ and $C_{2}$ are open-circuited, and the output voltage remains stable in the steady state. The resistor, $R$, is included to introduce a zero in the low-pass filter's transfer function. It contributes an output component proportional to the input current, while the capacitor integrates the input current. Since they are in series, the combined proportional and integral terms are observed at $\\mathrm{V}_{\\mathrm{cnt1}}$."
},
{
    "text": "The loop filter fulfills several crucial functions within a PLL. It smooths out the rapidly fluctuating elements of the phase detector's output. Additionally, it impacts the loop's dynamics by dictating how the VCO control signal, $\\mathrm{V}_{\\mathrm{cntt}}$, reacts to changes in the phase difference indicated by $\\mathrm{I}_{\\mathrm{pd}}$.\n\nIn the majority of PLLs, the loop filter is either first or second order. For instance, a typical first-order low-pass loop filter has a transfer function expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{1 \\mathrm{p}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\mathrm{K}_{\\mathrm{lp}} \\frac{1+\\mathrm{s} / \\omega_{z}}{\\mathrm{~s}}=\\mathrm{K}_{\\mathrm{lp}}\\left(\\frac{1}{\\mathrm{~s}}+\\frac{1}{\\omega_{\\mathrm{z}}}\\right) \\tag{19.24}\n\\end{equation*}\n$$\n\nA loop filter described by (19.24) can be viewed as a combination of a proportional and an integral pathway. Many loop filters incorporate additional higher-order poles and zeros, but the essential PLL design parameters are encapsulated by (19.24).\n\nThe loop filter gain constant $\\mathrm{K}_{1 \\mathrm{p}}$ has units of $\\Omega \\cdot \\mathrm{rad} / \\mathrm{s}=\\mathrm{F}^{-1}$ when the phase detector output is a current and $\\mathrm{rad} / \\mathrm{s}$ when the output is a voltage.\n\n#### EXAMPLE 19.3\n\nDetermine the loop filter transfer function linking the current $I_{p d}$ and control voltage $V_{c n t 1}$ in Fig. 19.7.\n\n#### Solution\n\nIt is presumed that no current exits the loop filter into the VCO's control terminal, as depicted in Fig. 19.7. Consequently, all current must traverse the parallel impedances $\\left(R+1 /\\left(\\mathrm{sC}_{1}\\right)\\right)$ and $1 /\\left(\\mathrm{sC}_{2}\\right)$. The loop filter transfer function is\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})}=\\frac{1}{\\mathrm{~s}\\left(\\mathrm{C}_{1}+\\mathrm{C}_{2}\\right)} \\cdot \\frac{1+\\mathrm{sRC}_{1}}{1+\\mathrm{sR}\\left(\\frac{\\mathrm{C}_{1} \\mathrm{C}_{2}}{\\mathrm{C}_{1}+\\mathrm{C}_{2}}\\right)} \\tag{19.25}\n\\end{equation*}\n$$\n\nIn practical applications, capacitor $C_{2}$ is solely for mitigating voltage spikes caused by transient currents across $R$, hence its value is typically much smaller than $C_{1}$. Assuming $\\left(C_{1}+C_{2}\\right) \\cong C_{1}$ and disregarding the high-frequency pole at $\\left(C_{1}+C_{2}\\right) /\\left(\\mathrm{RC}_{1} \\mathrm{C}_{2}\\right)$,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})} \\cong \\frac{1}{\\mathrm{C}_{1}}\\left(\\frac{1+\\mathrm{sRC}_{1}}{\\mathrm{~s}}\\right) \\tag{19.26}\n\\end{equation*}\n$$\n\nConverting (19.26) into the general form of (19.24), we obtain for a charge-pump loop filter,\n\n$$\n\\begin{gather*}\n\\mathrm{K}_{1 \\mathrm{p}}=1 / \\mathrm{C}_{1}  \\tag{19.27}\\\\\n\\omega_{\\mathrm{z}}=1 /\\left(\\mathrm{RC}_{1}\\right) \\tag{19.28}\n\\end{gather*}\n$$\n\nThe loop filter in Fig. 19.7 is frequently paired with the charge pump phase comparator in Fig. 19.5. When $\\mathrm{S}_{1}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ flows into the low-pass filter, raising the VCO's control voltage; when $\\mathrm{S}_{2}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ exits the low-pass filter, lowering the VCO's control voltage. With both switches open, the top plates of $C_{1}$ and $C_{2}$ are open-circuited, and the output voltage remains stable in the steady state. The resistor, $R$, is included to introduce a zero in the low-pass filter's transfer function. It contributes an output component proportional to the input current, while the capacitor integrates the input current. Since they are in series, the combined proportional and integral terms are evident at $\\mathrm{V}_{\\mathrm{cnt1}}$."
},
{
    "text": "The loop filter fulfills multiple crucial functions within a PLL, including smoothing out the rapid fluctuations in the phase detector's output. Additionally, it impacts the loop's dynamics by dictating how the VCO control signal, $\\mathrm{V}_{\\mathrm{cntt}}$, reacts to changes in the phase difference indicated by $\\mathrm{I}_{\\mathrm{pd}}$.\n\nIn the majority of PLLs, the loop filter is either first or second order. For instance, a typical first-order low-pass loop filter has a transfer function expressed as\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{1 \\mathrm{p}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\mathrm{K}_{\\mathrm{lp}} \\frac{1+\\mathrm{s} / \\omega_{z}}{\\mathrm{~s}}=\\mathrm{K}_{\\mathrm{lp}}\\left(\\frac{1}{\\mathrm{~s}}+\\frac{1}{\\omega_{\\mathrm{z}}}\\right) \\tag{19.24}\n\\end{equation*}\n$$\n\nA loop filter described by (19.24) can be viewed as a combination of a proportional and an integral pathway. While many loop filters incorporate additional higher-order poles and zeros, the essential PLL design parameters are encapsulated by (19.24).\n\nThe loop filter gain constant $\\mathrm{K}_{1 \\mathrm{p}}$ is measured in $\\Omega \\cdot \\mathrm{rad} / \\mathrm{s}=\\mathrm{F}^{-1}$ when the phase detector output is a current, and in $\\mathrm{rad} / \\mathrm{s}$ when it is a voltage.\n\n#### EXAMPLE 19.3\n\nDetermine the loop filter transfer function linking the current $I_{p d}$ and control voltage $V_{c n t 1}$ in Fig. 19.7.\n\n#### Solution\n\nIt is presumed that no current exits the loop filter into the VCO's control terminal, as depicted in Fig. 19.7. Consequently, all current must pass through the parallel impedances $\\left(R+1 /\\left(\\mathrm{sC}_{1}\\right)\\right)$ and $1 /\\left(\\mathrm{sC}_{2}\\right)$. The loop filter transfer function is thus\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})}=\\frac{1}{\\mathrm{~s}\\left(\\mathrm{C}_{1}+\\mathrm{C}_{2}\\right)} \\cdot \\frac{1+\\mathrm{sRC}_{1}}{1+\\mathrm{sR}\\left(\\frac{\\mathrm{C}_{1} \\mathrm{C}_{2}}{\\mathrm{C}_{1}+\\mathrm{C}_{2}}\\right)} \\tag{19.25}\n\\end{equation*}\n$$\n\nIn practical applications, capacitor $C_{2}$ is primarily used to mitigate voltage spikes that could otherwise occur across $R$ due to transient currents, hence its value is usually much smaller than $C_{1}$. Assuming $\\left(C_{1}+C_{2}\\right) \\cong C_{1}$ and disregarding the high-frequency pole at $\\left(C_{1}+C_{2}\\right) /\\left(\\mathrm{RC}_{1} \\mathrm{C}_{2}\\right)$,\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})=\\frac{\\mathrm{V}_{\\mathrm{cnt1}}(\\mathrm{~s})}{\\mathrm{I}_{\\mathrm{pd}}(\\mathrm{~s})} \\cong \\frac{1}{\\mathrm{C}_{1}}\\left(\\frac{1+\\mathrm{sRC}_{1}}{\\mathrm{~s}}\\right) \\tag{19.26}\n\\end{equation*}\n$$\n\nTranslating (19.26) into the general model of (19.24), we obtain for a charge-pump loop filter,\n\n$$\n\\begin{gather*}\n\\mathrm{K}_{1 \\mathrm{p}}=1 / \\mathrm{C}_{1}  \\tag{19.27}\\\\\n\\omega_{\\mathrm{z}}=1 /\\left(\\mathrm{RC}_{1}\\right) \\tag{19.28}\n\\end{gather*}\n$$\n\nThe loop filter in Fig. 19.7 is frequently paired with the charge pump phase comparator in Fig. 19.5. When $\\mathrm{S}_{1}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ flows into the low-pass filter, raising the VCO's control voltage; when $\\mathrm{S}_{2}$ is closed, $\\mathrm{I}_{\\mathrm{ch}}$ exits the low-pass filter, lowering the VCO's control voltage. With both switches open, the top plates of $C_{1}$ and $C_{2}$ are open-circuited, and the output voltage remains stable in the steady state. The resistor $R$ is included to introduce a zero in the low-pass filter's transfer function, providing an output component proportional to the input current, while the capacitor integrates the input current. Since they are in series, the combined proportional and integral terms are evident at $\\mathrm{V}_{\\mathrm{cnt1}}$."
},
{
    "text": "To comprehend phase-locked loops, let's examine a straightforward example. Suppose the division ratio $\\mathrm{N}=1$, making $\\phi_{\\text {div }}=\\phi$. Additionally, assume the input signal frequency initially matches the VCO's free-running frequency, with the system initially in lock at $\\phi_{\\mathrm{d}}=0$ and the low-pass filter output $\\mathrm{V}_{\\mathrm{cnt1}}$ also at zero. Now, imagine the input frequency gradually rises. This causes it to surpass the VCO output, resulting in a phase difference $\\phi_{\\mathrm{d}}=\\phi_{\\text {in }}-\\phi>0$. After a brief period (approximately the low-pass filter's time constant), the filter's output turns positive. Given the waveforms are now at slightly differing frequencies, the phase difference, and thus the filter's output, will keep increasing slowly. However, the VCO's frequency is proportional to its control voltage, so the rising filter output will elevate the VCO's frequency until it matches the input signal again, maintaining synchronization (i.e., lock). Conversely, if the input frequency drops, the phase detector's average output becomes negative, driving the oscillator to a lower frequency until it aligns with the input signal, resynchronizing the waveforms. Clearly, the phase-locked loop remains in lock due to the loop's negative feedback, where the oscillator's output phase is subtracted from the input signal's phase.\n\nThis reasoning can be easily extended to cases where $\\mathrm{N} \\neq 1$. The divider ensures the oscillator output is at a phase and frequency N-times that of the clock fed back to the phase detector. Negative feedback and high dc gain around the loop compel the phases at the phase detector's inputs to equalize. Thus, a PLL in lock generates an output clock at a frequency precisely N-times the reference input, tracking phase changes in the reference input.\n\n**Block Diagram Description:**\nThe diagram illustrates a linearized small-signal model of a Phase-Locked Loop (PLL) in lock, detailing the main components and information flow:\n\n1. **Main Components:**\n- **Phase Detector (PD):** Compares the input phase \\( \\phi_{in}(s) \\) with the divided output phase \\( \\phi_{div}(s) \\) at a summing junction, producing the phase difference \\( \\phi_d(s) \\).\n- **Gain Block \\( K_{pd} \\):** Represents the phase detector's gain, outputting either a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n- **Loop Filter \\( K_{lp}H_{lp}(s) \\):** Filters the phase detector's output to generate a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO) \\( K_{osc}/s \\):** Transforms the control voltage \\( V_{cntl} \\) into an output phase \\( \\phi(s) \\).\n- **Divider \\( 1/N \\):** Divides the oscillator output phase \\( \\phi(s) \\) by \\( N \\) to create \\( \\phi_{div}(s) \\), which is fed back to the phase detector.\n\n2. **Information and Control Flow:**\n- The input phase \\( \\phi_{in}(s) \\) is compared with the feedback phase \\( \\phi_{div}(s) \\) at the summing junction, generating the phase error signal \\( \\phi_d(s) \\).\n- This error signal is amplified by the phase detector gain block \\( K_{pd} \\), resulting in \\( I_{pd} \\) or \\( V_{pd} \\).\n- The loop filter \\( K_{lp}H_{lp}(s) \\) processes this signal to produce the control voltage \\( V_{cntl} \\).\n- The VCO adjusts its output phase \\( \\phi(s) \\) based on \\( V_{cntl} \\), which is then divided by \\( N \\) and fed back as \\( \\phi_{div}(s) \\).\n\n3. **Labels and Annotations:**\n- The diagram includes transfer functions and gain annotations such as \\( K_{pd} \\), \\( K_{lp}H_{lp}(s) \\), and \\( K_{osc}/s \\), highlighting each block's characteristics.\n- The feedback loop is clearly shown from the output phase \\( \\phi(s) \\) back to the phase detector's input.\n\n4. **System Function:**\n- The PLL system locks the output phase \\( \\phi(s) \\) to be \\( N \\) times the input phase \\( \\phi_{in}(s) \\). It minimizes phase differences through feedback control, keeping the output frequency at \\( N \\) times the reference frequency while tracking phase changes. The linearized model facilitates analyzing the system's dynamic response to small phase and frequency perturbations.\n\nFig. 19.8: A signal-flow graph for the linearized small-signal model of a PLL in lock."
},
{
    "text": "To grasp the concept of phase-locked loops, let's consider a straightforward example. Suppose the division ratio $\\mathrm{N}=1$, making $\\phi_{\\text {div }}=\\phi$. Additionally, assume the input signal frequency initially matches the free-running frequency of the VCO, with the system initially locked at $\\phi_{\\mathrm{d}}=0$ and the low-pass filter output $\\mathrm{V}_{\\mathrm{cnt1}}$ also at zero. Now, imagine the input frequency gradually increases. This causes it to precede the VCO output, resulting in a phase difference $\\phi_{\\mathrm{d}}=\\phi_{\\text {in }}-\\phi>0$. After a brief period (approximately the time constant of the low-pass filter), the filter's output will become positive. Since the two waveforms are now at slightly different frequencies, the phase difference, and thus the filter's output, will continue to rise slowly. However, the VCO's frequency is proportional to its control voltage, so the rising filter output will elevate the VCO's frequency until it matches the input signal again, maintaining synchronization (i.e., lock). Conversely, if the input signal's frequency drops, the average phase detector output would turn negative, driving the oscillator to a lower frequency until it aligns with the input signal, resynchronizing the waveforms. Clearly, the phase-locked loop remains locked due to the negative feedback loop, where the oscillator's output phase is subtracted from the input signal's phase.\n\nThis logic extends easily to cases where $\\mathrm{N} \\neq 1$. The divider ensures the oscillator output is at a phase and frequency N-times that of the clock fed back to the phase detector. The negative feedback and high dc gain around the loop compel the phases at the phase detector's inputs to equalize. Thus, a locked PLL generates an output clock at a frequency precisely N-times the reference input, tracking phase changes in the reference input.\n\n**Image Description:**\nThe block diagram illustrates a linearized small-signal model of a Phase-Locked Loop (PLL) in lock, detailing the main components and information flow:\n\n1. **Main Components:**\n   - **Phase Detector (PD):** Compares input phase \\( \\phi_{in}(s) \\) with the divided output phase \\( \\phi_{div}(s) \\) at a summing junction, producing phase difference \\( \\phi_d(s) \\).\n   - **Gain Block \\( K_{pd} \\):** Represents the phase detector's gain, outputting a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n   - **Loop Filter \\( K_{lp}H_{lp}(s) \\):** Filters the phase detector's output to generate control voltage \\( V_{cntl} \\).\n   - **Voltage-Controlled Oscillator (VCO) \\( K_{osc}/s \\):** Converts \\( V_{cntl} \\) into output phase \\( \\phi(s) \\).\n   - **Divider \\( 1/N \\):** Divides \\( \\phi(s) \\) by \\( N \\) to create \\( \\phi_{div}(s) \\), fed back to the phase detector.\n\n2. **Flow of Information or Control:**\n   - \\( \\phi_{in}(s) \\) is compared with \\( \\phi_{div}(s) \\) at the summing junction, generating phase error \\( \\phi_d(s) \\).\n   - This error is amplified by \\( K_{pd} \\), resulting in \\( I_{pd} \\) or \\( V_{pd} \\).\n   - The loop filter processes this signal to produce \\( V_{cntl} \\).\n   - The VCO adjusts \\( \\phi(s) \\) based on \\( V_{cntl} \\), which is then divided by \\( N \\) and fed back as \\( \\phi_{div}(s) \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n   - Transfer functions and gain annotations like \\( K_{pd} \\), \\( K_{lp}H_{lp}(s) \\), and \\( K_{osc}/s \\) are included.\n   - The feedback loop is clearly marked from \\( \\phi(s) \\) back to the phase detector input.\n\n4. **Overall System Function:**\n   - The PLL locks \\( \\phi(s) \\) to \\( N \\) times \\( \\phi_{in}(s) \\), minimizing phase differences through feedback control, ensuring the output frequency is \\( N \\) times the reference frequency while tracking phase changes. The linearized model aids in analyzing the system's dynamic response to small phase and frequency perturbations.\n\nFig. 19.8 A signal-flow graph for the linearized small-signal model of a PLL in lock."
},
{
    "text": "To comprehend phase-locked loops, let's consider a straightforward example. Suppose the division ratio is $\\mathrm{N}=1$, making $\\phi_{\\text{div}}=\\phi$. Additionally, assume the input signal frequency initially matches the free-running frequency of the VCO, with the system initially locked at $\\phi_{\\mathrm{d}}=0$ and the low-pass filter output $\\mathrm{V}_{\\mathrm{cnt1}}$ also at zero. Now, imagine the input frequency gradually increases. This will cause it to lead the VCO output, resulting in a phase difference $\\phi_{\\mathrm{d}}=\\phi_{\\text{in}}-\\phi>0$. After a brief period (approximately the time constant of the low-pass filter), the filter's output will become positive. Since the waveforms are now at slightly different frequencies, the phase difference, and thus the filter's output, will continue to rise slowly. However, the VCO's frequency is proportional to its control voltage, so the rising filter output will boost the VCO's frequency until it matches the input signal again, keeping the signals synchronized (i.e., locked). Conversely, if the input frequency decreases, the phase detector's average output would turn negative, driving the oscillator to a lower frequency until it matches the input signal, resynchronizing the waveforms. Clearly, the phase-locked loop maintains lock due to the negative feedback loop, where the oscillator's phase is subtracted from the input signal's phase.\n\nThis reasoning easily extends to cases where $\\mathrm{N} \\neq 1$. The divider ensures the oscillator output is at a phase and frequency N-times that of the clock fed back to the phase detector. Negative feedback and high dc gain around the loop force the phases at the phase detector's inputs to equalize. Thus, a PLL in lock generates an output clock at a frequency precisely N-times the reference input, tracking phase changes in the reference input.\n\n**Image Description:**\nThe block diagram illustrates a linearized small-signal model of a Phase-Locked Loop (PLL) in lock, detailing the main components and information flow:\n\n1. **Main Components:**\n- **Phase Detector (PD):** Compares input phase \\( \\phi_{in}(s) \\) with divided output phase \\( \\phi_{div}(s) \\) at a summing junction, producing phase difference \\( \\phi_d(s) \\).\n- **Gain Block \\( K_{pd} \\):** Represents the phase detector's gain, outputting either current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n- **Loop Filter \\( K_{lp}H_{lp}(s) \\):** Filters the phase detector's output to create control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO) \\( K_{osc}/s \\):** Transforms \\( V_{cntl} \\) into output phase \\( \\phi(s) \\).\n- **Divider \\( 1/N \\):** Divides \\( \\phi(s) \\) by \\( N \\) to generate \\( \\phi_{div}(s) \\) for feedback to the phase detector.\n\n2. **Flow of Information or Control:**\n- \\( \\phi_{in}(s) \\) is compared with \\( \\phi_{div}(s) \\) at the summing junction, producing phase error \\( \\phi_d(s) \\).\n- This error is amplified by \\( K_{pd} \\), resulting in \\( I_{pd} \\) or \\( V_{pd} \\).\n- The loop filter processes this to yield \\( V_{cntl} \\).\n- The VCO adjusts \\( \\phi(s) \\) based on \\( V_{cntl} \\), which is then divided by \\( N \\) and fed back as \\( \\phi_{div}(s) \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n- Transfer functions and gain annotations like \\( K_{pd} \\), \\( K_{lp}H_{lp}(s) \\), and \\( K_{osc}/s \\) denote each block's characteristics.\n- The feedback loop is clearly shown from \\( \\phi(s) \\) back to the phase detector input.\n\n4. **Overall System Function:**\n- The PLL locks \\( \\phi(s) \\) to be \\( N \\) times \\( \\phi_{in}(s) \\), minimizing phase differences through feedback control, maintaining the output frequency at \\( N \\) times the reference frequency while tracking phase changes. The linearized model facilitates analyzing the system's dynamic response to small phase and frequency perturbations.\n\nFig. 19.8: A signal-flow graph for the linearized small-signal model of a PLL in lock."
},
{
    "text": "To comprehend phase-locked loops, let's examine a straightforward example. Suppose the division ratio is $\\mathrm{N}=1$, making $\\phi_{\\text{div}}=\\phi$. Additionally, assume the input signal frequency initially matches the free-running frequency of the VCO, with the system initially in lock at $\\phi_{\\mathrm{d}}=0$ and the low-pass filter output $\\mathrm{V}_{\\mathrm{cnt1}}$ also at zero. Now, consider the input frequency gradually increasing. This results in it leading the VCO output, corresponding to a phase difference $\\phi_{\\mathrm{d}}=\\phi_{\\text{in}}-\\phi>0$. Shortly thereafter (approximately the time constant of the low-pass filter), the low-pass filter's output becomes positive. Given that the two waveforms are now at slightly different frequencies, the phase difference, and thus the low-pass filter's output, will continue to rise slowly. However, the VCO's frequency is proportional to its control voltage, so the rising output of the low-pass filter will elevate the VCO's frequency until it matches the input signal again, maintaining synchronization (i.e., lock). Conversely, if the input signal's frequency decreases, the average phase detector output becomes negative, driving the oscillator to a lower frequency until it aligns with the input signal, re-establishing synchronization. It is evident that the phase-locked loop remains in lock due to the negative feedback loop, where the oscillator's output phase is subtracted from the input signal's phase.\n\nThis reasoning can be easily extended to scenarios where $\\mathrm{N} \\neq 1$. The divider ensures the oscillator output is at a phase and frequency N-times greater than the clock fed back to the phase detector. The negative feedback and high dc gain around the loop compel the phases at the phase detector inputs to be equal. Thus, a PLL in lock generates an output clock at a frequency precisely N-times greater than the reference input, tracking phase changes in the reference input.\n\n**Image Description:**\nThe block diagram illustrates a linearized small-signal model of a Phase-Locked Loop (PLL) in lock. The primary components and the information flow through the system are as follows:\n\n1. **Main Components:**\n- **Phase Detector (PD):** Compares the input phase \\( \\phi_{in}(s) \\) with the divided output phase \\( \\phi_{div}(s) \\) using a summing junction, producing a phase difference output \\( \\phi_d(s) \\).\n- **Gain Block \\( K_{pd} \\):** Represents the phase detector's gain, outputting either a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n- **Loop Filter \\( K_{lp}H_{lp}(s) \\):** Filters the phase detector's output to generate a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO) \\( K_{osc}/s \\):** Transforms the control voltage \\( V_{cntl} \\) into an output phase \\( \\phi(s) \\).\n- **Divider \\( 1/N \\):** Divides the oscillator output phase \\( \\phi(s) \\) by \\( N \\) to create \\( \\phi_{div}(s) \\), which is fed back to the phase detector.\n\n2. **Information and Control Flow:**\n- The input phase \\( \\phi_{in}(s) \\) is compared with the feedback phase \\( \\phi_{div}(s) \\) at the summing junction, generating the phase error signal \\( \\phi_d(s) \\).\n- This error signal is amplified by the phase detector gain block \\( K_{pd} \\), resulting in \\( I_{pd} \\) or \\( V_{pd} \\).\n- The loop filter \\( K_{lp}H_{lp}(s) \\) processes this signal to produce the control voltage \\( V_{cntl} \\).\n- The VCO uses \\( V_{cntl} \\) to adjust its output phase \\( \\phi(s) \\), which is then divided by \\( N \\) and fed back as \\( \\phi_{div}(s) \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes transfer functions and gain annotations such as \\( K_{pd} \\), \\( K_{lp}H_{lp}(s) \\), and \\( K_{osc}/s \\), indicating each block's characteristics.\n- The feedback loop is clearly shown from the output phase \\( \\phi(s) \\) back to the phase detector input.\n\n4. **Overall System Function:**\n- The PLL system locks the output phase \\( \\phi(s) \\) to be \\( N \\) times the input phase \\( \\phi_{in}(s) \\). It minimizes any phase difference through feedback control, maintaining the output frequency at \\( N \\) times the reference frequency while tracking phase changes. The linearized model facilitates analysis of the system's dynamic response to small phase and frequency perturbations.\n\nFig. 19.8 A signal-flow graph for the linearized small-signal model of a PLL in lock."
},
{
    "text": "To comprehend phase-locked loops, let's examine a straightforward example. Suppose the division ratio $\\mathrm{N}=1$, making $\\phi_{\\text{div}}=\\phi$. Additionally, assume the input signal frequency initially matches the VCO's free-running frequency, with the system initially locked at $\\phi_{\\mathrm{d}}=0$ and the low-pass filter output $\\mathrm{V}_{\\mathrm{cnt1}}$ also at zero. Now, consider the input frequency gradually increasing. This leads the VCO output, resulting in a phase difference $\\phi_{\\mathrm{d}}=\\phi_{\\text{in}}-\\phi>0$. Shortly thereafter (approximately the low-pass filter's time constant), the filter's output turns positive. Given the waveforms are now at slightly different frequencies, the phase difference, and thus the filter's output, will keep rising slowly. However, the VCO's frequency is proportional to its control voltage, so the rising filter output boosts the VCO's frequency until it matches the input signal again, maintaining signal synchronization (i.e., lock). Conversely, if the input frequency drops, the phase detector's average output becomes negative, driving the oscillator to a lower frequency until it aligns with the input signal, re-establishing synchronization. This demonstrates that the phase-locked loop remains locked due to the loop's negative feedback, where the oscillator's output phase is subtracted from the input signal's phase.\n\nThis reasoning can be easily extended to cases where $\\mathrm{N} \\neq 1$. The divider ensures the oscillator output is at a phase and frequency N-times that of the clock fed back to the phase detector. Negative feedback and high dc gain around the loop compel the phases at the phase detector's inputs to equalize. Thus, a PLL in lock generates an output clock at a frequency exactly N-times the reference input, tracking phase changes in the reference input.\n\n**Image Description:**\nThe block diagram illustrates a linearized small-signal model of a Phase-Locked Loop (PLL) in lock. The key components and information flow are as follows:\n\n1. **Main Components:**\n- **Phase Detector (PD):** Compares the input phase \\( \\phi_{in}(s) \\) with the divided output phase \\( \\phi_{div}(s) \\) at a summing junction, producing the phase difference \\( \\phi_d(s) \\).\n- **Gain Block \\( K_{pd} \\):** Represents the phase detector's gain, outputting either a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n- **Loop Filter \\( K_{lp}H_{lp}(s) \\):** Filters the phase detector's output to generate a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO) \\( K_{osc}/s \\):** Converts \\( V_{cntl} \\) into an output phase \\( \\phi(s) \\).\n- **Divider \\( 1/N \\):** Divides the oscillator output phase \\( \\phi(s) \\) by \\( N \\) to create \\( \\phi_{div}(s) \\), fed back to the phase detector.\n\n2. **Flow of Information or Control:**\n- The input phase \\( \\phi_{in}(s) \\) is compared with the feedback phase \\( \\phi_{div}(s) \\) at the summing junction, producing the phase error signal \\( \\phi_d(s) \\).\n- This error signal is amplified by the gain block \\( K_{pd} \\), resulting in \\( I_{pd} \\) or \\( V_{pd} \\).\n- The loop filter \\( K_{lp}H_{lp}(s) \\) processes this signal to yield the control voltage \\( V_{cntl} \\).\n- The VCO adjusts its output phase \\( \\phi(s) \\) based on \\( V_{cntl} \\), which is then divided by \\( N \\) and fed back as \\( \\phi_{div}(s) \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes transfer functions and gain annotations like \\( K_{pd} \\), \\( K_{lp}H_{lp}(s) \\), and \\( K_{osc}/s \\), detailing each block's characteristics.\n- The feedback loop is clearly shown from the output phase \\( \\phi(s) \\) back to the phase detector's input.\n\n4. **Overall System Function:**\n- The PLL locks the output phase \\( \\phi(s) \\) to \\( N \\) times the input phase \\( \\phi_{in}(s) \\), minimizing phase differences through feedback control. It maintains the output frequency at \\( N \\) times the reference frequency while tracking phase changes. The linearized model facilitates analyzing the system's dynamic response to small phase and frequency perturbations.\n\nFig. 19.8 A signal-flow graph for the linearized small-signal model of a PLL in lock."
},
{
    "text": "To comprehend phase-locked loops, let's consider a straightforward example. Suppose the division ratio is $\\mathrm{N}=1$, making $\\phi_{\\text {div }}=\\phi$. Additionally, assume the input signal frequency initially matches the VCO's free-running frequency, with the system initially locked at $\\phi_{\\mathrm{d}}=0$ and the low-pass filter output $\\mathrm{V}_{\\mathrm{cnt1}}$ also at zero. Now, imagine the input frequency gradually increases. This leads it to surpass the VCO output, resulting in a phase difference $\\phi_{\\mathrm{d}}=\\phi_{\\text {in }}-\\phi>0$. Shortly thereafter (approximately the low-pass filter's time constant), the filter's output becomes positive. Given the waveforms are now at slightly different frequencies, the phase difference, and thus the filter's output, will keep rising slowly. However, the VCO's frequency is proportional to its control voltage, so the rising filter output will elevate the VCO's frequency until it matches the input signal again, maintaining signal synchronization (i.e., lock). Conversely, if the input frequency drops, the phase detector's average output turns negative, driving the oscillator to a lower frequency until it aligns with the input signal, re-establishing synchronization. This demonstrates that the phase-locked loop remains locked due to the loop's negative feedback, where the oscillator's output phase is subtracted from the input signal's phase.\n\nThis reasoning can be easily expanded to scenarios where $\\mathrm{N} \\neq 1$. The divider ensures the oscillator output phase and frequency are N times greater than the clock fed back to the phase detector. The loop's negative feedback and high dc gain compel the phases at the phase detector's inputs to equalize. Thus, a locked PLL generates an output clock frequency precisely N times the reference input, tracking phase changes in the reference input.\n\n**Block Diagram Description (Fig. 19.8):**\nThe diagram illustrates a linearized small-signal model of a Phase-Locked Loop (PLL) in lock, detailing the main components and information flow:\n\n1. **Main Components:**\n   - **Phase Detector (PD):** Compares input phase \\( \\phi_{in}(s) \\) with the divided output phase \\( \\phi_{div}(s) \\) at a summing junction, producing phase difference \\( \\phi_d(s) \\).\n   - **Gain Block \\( K_{pd} \\):** Represents the phase detector's gain, outputting either current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n   - **Loop Filter \\( K_{lp}H_{lp}(s) \\):** Filters the phase detector's output to generate control voltage \\( V_{cntl} \\).\n   - **Voltage-Controlled Oscillator (VCO) \\( K_{osc}/s \\):** Converts \\( V_{cntl} \\) into output phase \\( \\phi(s) \\).\n   - **Divider \\( 1/N \\):** Divides \\( \\phi(s) \\) by \\( N \\) to create \\( \\phi_{div}(s) \\) for feedback to the phase detector.\n\n2. **Information Flow:**\n   - \\( \\phi_{in}(s) \\) is compared with \\( \\phi_{div}(s) \\) at the summing junction, generating phase error \\( \\phi_d(s) \\).\n   - This error is amplified by \\( K_{pd} \\), resulting in \\( I_{pd} \\) or \\( V_{pd} \\).\n   - The loop filter processes this to produce \\( V_{cntl} \\).\n   - The VCO adjusts \\( \\phi(s) \\) based on \\( V_{cntl} \\), which is then divided by \\( N \\) and fed back as \\( \\phi_{div}(s) \\).\n\n3. **Labels and Annotations:**\n   - Transfer functions and gain annotations like \\( K_{pd} \\), \\( K_{lp}H_{lp}(s) \\), and \\( K_{osc}/s \\) are included.\n   - The feedback loop is clearly marked from \\( \\phi(s) \\) back to the phase detector input.\n\n4. **System Function:**\n   - The PLL locks \\( \\phi(s) \\) to be \\( N \\) times \\( \\phi_{in}(s) \\), minimizing phase differences through feedback, ensuring the output frequency is \\( N \\) times the reference frequency while tracking phase changes. The linearized model aids in analyzing the system's response to small phase and frequency perturbations.\n\nFig. 19.8: Signal-flow graph for the linearized small-signal model of a PLL in lock."
},
{
    "text": "To comprehend phase-locked loops, let's consider a straightforward example. Suppose the division ratio is $\\mathrm{N}=1$, meaning $\\phi_{\\text{div}}=\\phi$. Additionally, assume the input signal frequency initially matches the free-running frequency of the VCO, with the system initially locked at $\\phi_{\\mathrm{d}}=0$, and the low-pass filter output $\\mathrm{V}_{\\mathrm{cnt1}}$ also being zero. Now, imagine the input frequency gradually increases. This leads the VCO output, resulting in a phase difference $\\phi_{\\mathrm{d}}=\\phi_{\\text{in}}-\\phi>0$. Shortly thereafter (approximately the time constant of the low-pass filter), the low-pass filter's output will turn positive. Given the two waveforms are now at slightly different frequencies, the phase difference, and thus the low-pass filter's output, will keep rising slowly. However, the VCO's frequency is proportional to its control voltage, so the rising output of the low-pass filter will boost the VCO's frequency until it matches the input signal again, maintaining synchronization (i.e., lock). Conversely, if the input signal's frequency drops, the average phase detector output becomes negative, averaging out through the low-pass filter to lower the oscillator frequency until it matches the input signal, resynchronizing the waveforms. Clearly, the phase-locked loop remains locked due to the negative feedback loop, where the oscillator's output phase is subtracted from the input signal's phase.\n\nThis reasoning easily extends to cases where $\\mathrm{N} \\neq 1$. The divider ensures the oscillator output phase and frequency are N times greater than the clock fed back to the phase detector. Negative feedback and high dc gain around the loop ensure the phases at the phase detector inputs are equal. Thus, a locked PLL generates an output clock at a frequency exactly N times the reference input, tracking phase changes in the reference input.\n\n**Image Description:**\nThe block diagram illustrates a linearized small-signal model of a Phase-Locked Loop (PLL) in lock. The key components and information flow are as follows:\n\n1. **Main Components:**\n   - **Phase Detector (PD):** Compares input phase \\( \\phi_{in}(s) \\) with the divided output phase \\( \\phi_{div}(s) \\) at a summing junction, producing a phase difference output \\( \\phi_d(s) \\).\n   - **Gain Block \\( K_{pd} \\):** Represents the phase detector's gain, outputting a current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n   - **Loop Filter \\( K_{lp}H_{lp}(s) \\):** Filters the phase detector's output to generate a control voltage \\( V_{cntl} \\).\n   - **Voltage-Controlled Oscillator (VCO) \\( K_{osc}/s \\):** Converts \\( V_{cntl} \\) into an output phase \\( \\phi(s) \\).\n   - **Divider \\( 1/N \\):** Divides the oscillator output phase \\( \\phi(s) \\) by \\( N \\) to produce \\( \\phi_{div}(s) \\) for feedback to the phase detector.\n\n2. **Flow of Information or Control:**\n   - The input phase \\( \\phi_{in}(s) \\) is compared with the feedback phase \\( \\phi_{div}(s) \\) at the summing junction, creating the phase error signal \\( \\phi_d(s) \\).\n   - This error signal is amplified by the gain block \\( K_{pd} \\), resulting in \\( I_{pd} \\) or \\( V_{pd} \\).\n   - The loop filter \\( K_{lp}H_{lp}(s) \\) processes this signal to produce \\( V_{cntl} \\).\n   - The VCO adjusts its output phase \\( \\phi(s) \\) based on \\( V_{cntl} \\), which is then divided by \\( N \\) and fed back as \\( \\phi_{div}(s) \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The diagram includes transfer functions and gain annotations like \\( K_{pd} \\), \\( K_{lp}H_{lp}(s) \\), and \\( K_{osc}/s \\), indicating each block's characteristics.\n   - The feedback loop is clearly shown from the output phase \\( \\phi(s) \\) back to the phase detector input.\n\n4. **Overall System Function:**\n   - The PLL locks the output phase \\( \\phi(s) \\) to be \\( N \\) times the input phase \\( \\phi_{in}(s) \\), minimizing phase differences through feedback control. It maintains the output frequency at \\( N \\) times the reference frequency while tracking phase changes. The linearized model facilitates analyzing the system's dynamic response to small phase and frequency perturbations.\n\nFig. 19.8 A signal-flow graph for the linearized small-signal model of a PLL when in lock."
},
{
    "text": "To comprehend phase-locked loops, let's consider a straightforward example. Suppose the division ratio is $\\mathrm{N}=1$, making $\\phi_{\\text {div }}=\\phi$. Additionally, assume the input signal frequency initially matches the free-running frequency of the VCO, with the system initially in lock at $\\phi_{\\mathrm{d}}=0$ and the low-pass filter output $\\mathrm{V}_{\\mathrm{cnt1}}$ also at zero. Now, imagine the input frequency gradually increases. This leads the VCO output, resulting in a phase difference $\\phi_{\\mathrm{d}}=\\phi_{\\text {in }}-\\phi>0$. After a brief period (approximately the low-pass filter's time constant), the filter's output becomes positive. Given the waveforms are now at slightly different frequencies, the phase difference, and thus the filter's output, will keep rising slowly. However, the VCO's frequency is proportional to its control voltage, so the rising filter output boosts the VCO's frequency until it matches the input signal again, maintaining synchronization (i.e., lock). Conversely, if the input frequency decreases, the phase detector's average output turns negative, driving the oscillator to a lower frequency until it matches the input signal, resynchronizing the waveforms. Clearly, the phase-locked loop remains in lock due to the loop's negative feedback, where the oscillator's output phase is subtracted from the input signal's phase.\n\nThis concept easily extends to scenarios where $\\mathrm{N} \\neq 1$. The divider ensures the oscillator output phase and frequency are N-times greater than the clock fed back to the phase detector. Negative feedback and high dc gain around the loop ensure the phases at the phase detector's inputs are equal. Thus, a locked PLL generates an output clock at a frequency precisely N-times the reference input, tracking phase changes in the reference input.\n\n**Image Description:**\nThe block diagram illustrates a linearized small-signal model of a Phase-Locked Loop (PLL) in lock, detailing the main components and information flow:\n\n1. **Main Components:**\n   - **Phase Detector (PD):** Compares input phase \\( \\phi_{in}(s) \\) with divided output phase \\( \\phi_{div}(s) \\) at a summing junction, producing phase difference \\( \\phi_d(s) \\).\n   - **Gain Block \\( K_{pd} \\):** Represents the phase detector's gain, outputting current \\( I_{pd} \\) or voltage \\( V_{pd} \\).\n   - **Loop Filter \\( K_{lp}H_{lp}(s) \\):** Filters the phase detector's output to generate control voltage \\( V_{cntl} \\).\n   - **Voltage-Controlled Oscillator (VCO) \\( K_{osc}/s \\):** Converts \\( V_{cntl} \\) into output phase \\( \\phi(s) \\).\n   - **Divider \\( 1/N \\):** Divides \\( \\phi(s) \\) by \\( N \\) to create \\( \\phi_{div}(s) \\), feeding it back to the phase detector.\n\n2. **Flow of Information or Control:**\n   - \\( \\phi_{in}(s) \\) is compared with \\( \\phi_{div}(s) \\) at the summing junction, generating phase error \\( \\phi_d(s) \\).\n   - This error is amplified by \\( K_{pd} \\), resulting in \\( I_{pd} \\) or \\( V_{pd} \\).\n   - The loop filter \\( K_{lp}H_{lp}(s) \\) processes this to produce \\( V_{cntl} \\).\n   - The VCO adjusts \\( \\phi(s) \\) based on \\( V_{cntl} \\), which is then divided by \\( N \\) and fed back as \\( \\phi_{div}(s) \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n   - Transfer functions and gain annotations like \\( K_{pd} \\), \\( K_{lp}H_{lp}(s) \\), and \\( K_{osc}/s \\) are included.\n   - The feedback loop is clearly marked from \\( \\phi(s) \\) back to the phase detector input.\n\n4. **Overall System Function:**\n   - The PLL locks \\( \\phi(s) \\) to be \\( N \\) times \\( \\phi_{in}(s) \\), minimizing phase differences through feedback control, maintaining the output frequency at \\( N \\) times the reference frequency while tracking phase changes. The linearized model aids in analyzing the system's dynamic response to small phase and frequency perturbations.\n\nFig. 19.8 A signal-flow graph for the linearized small-signal model of a PLL when in lock."
},
{
    "text": "Key Point: When a PLL is in lock, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to their operating or bias point.\n\nThe dynamics of a PLL are crucial for the designer to understand. Specifically, is the loop stable? How does it stabilize after being disturbed from its locked state? How is noise within the loop manifested at its output? How can the loop be engineered to exhibit specific dynamic characteristics? Similar to feedback amplifiers, linear analysis is a valuable technique for addressing these inquiries. However, a phase-locked loop is inherently a highly nonlinear system. Fortunately, once a PLL is in lock, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, as long as these variations are gradual and minor relative to their operating or bias point.\n\nUtilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It is important to note that this is a small-signal model, meaning it pertains to variations around an operating point. In other words, the phase variable denotes changes in phase from reference signals that were initially identical to the true signals at the onset of the analysis. Similarly, any frequency variables, which will be introduced shortly, also denote changes from the original frequencies at the start of the analysis. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nIt is now feasible to analyze the signal-flow graph in Fig. 19.8 to determine transfer functions that correlate small disturbances in the various signals around the loop. For instance, straightforward feedback analysis indicates that the transfer function linking small changes in the input phase $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nSubstituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universal, applicable to nearly all phase-locked loops. The distinctions between different PLLs are determined solely by the choice of the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is locked, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to the operating or bias point.\n\nThe dynamics of a PLL are crucial for designers to understand. Specifically, they need to know if the loop is stable, how it stabilizes after being disturbed from its locked state, how noise within the loop affects the output, and how to design the loop to achieve specific dynamic behaviors. Like feedback amplifiers, linear analysis is a valuable tool for addressing these questions. However, a phase-locked loop is inherently nonlinear. Fortunately, once a PLL is locked, its dynamic response to input phase and frequency changes can be adequately modeled linearly, as long as these changes are slow and small around the operating or bias point.\n\nUtilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be constructed. It is important to note that this is a small-signal model, meaning it pertains to variations around an operating point. In other words, the phase variable denotes changes in phase from reference signals that initially matched the true signals at the start of the analysis. Similarly, any frequency variables introduced later also represent deviations from the original frequencies at the analysis's outset. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 allows for the determination of transfer functions that describe small perturbations in various signals around the loop. For instance, straightforward feedback analysis shows that the transfer function linking small input phase changes $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nBy substituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are dictated solely by the choice of the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is locked, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to the operating or bias point.\n\nThe behavior of a PLL's dynamics is crucial for designers. Specifically, they need to know if the loop is stable, how it stabilizes after being disturbed from its locked state, how noise within the loop affects the output, and how to design the loop to achieve specific dynamic characteristics. Like feedback amplifiers, linear analysis is a valuable tool for addressing these questions. However, a phase-locked loop is inherently nonlinear. Fortunately, once a PLL is locked, its dynamic response to input phase and frequency changes can be adequately modeled linearly, as long as these changes are slow and small around the operating or bias point.\n\nUtilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It's important to note that this is a small-signal model, meaning it pertains to variations around an operating point. In other words, the phase variable denotes changes in phase from reference signals that were initially identical to the true signals at the start of the analysis. Similarly, any frequency variables introduced later also represent deviations from the original frequencies at the analysis's outset. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 allows for the determination of transfer functions that describe small perturbations in various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking small changes in the input phase $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nBy substituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are determined solely by the components used for the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is locked, its response to minor and gradual input phase and frequency variations can be effectively modeled linearly, provided these variations are slight and slow relative to its operating or bias point.\n\nThe behavior of a PLL is crucial for designers to understand. Key questions include: Is the loop stable? How does it return to its locked state after disturbances? How is internal noise manifested at the output? How can the loop be engineered to exhibit specific dynamic characteristics? Similar to feedback amplifiers, linear analysis is instrumental in addressing these queries. However, a phase-locked loop is inherently nonlinear. Fortunately, once locked, its reaction to input phase and frequency shifts can be closely approximated by a linear model, as long as these shifts are minor and slow around the operating or bias point.\n\nUtilizing the principles outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It is essential to recognize that this is a small-signal model, focusing on deviations from an operating point. In other words, the phase variable denotes phase changes relative to reference signals that initially matched the true signals at the start of the analysis. Similarly, any frequency variables, which will be introduced shortly, represent deviations from the initial frequencies at the analysis's commencement. A signal-flow diagram for this linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow diagram in Fig. 19.8 allows for the determination of transfer functions that describe minor perturbations in the various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking small input phase changes $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nBy substituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are solely determined by the choice of the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL achieves lock, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to the operating or bias point.\n\nThe dynamics of a PLL are of significant interest to designers. Specifically, questions arise: Is the loop stable? How does it stabilize after being disturbed from its locked state? How is noise within the loop manifested at the output? How can the loop be designed to exhibit specific dynamic behaviors? Similar to feedback amplifiers, linear analysis is a valuable tool for addressing these queries. However, a phase-locked loop is inherently nonlinear. Fortunately, once a PLL is locked, its dynamic response to input phase and frequency changes can be adequately modeled linearly, as long as these changes are slow and small around the operating or bias point.\n\nUtilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It is important to note that this is a small-signal model, focusing on variations around an operating point. In other words, the phase variable denotes deviations in phase from reference signals that were initially identical to the true signals at the start of the analysis. Similarly, any frequency variables, which will be introduced shortly, represent deviations from the original frequencies at the analysis's outset. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 allows for the determination of transfer functions that describe small perturbations in various signals within the loop. For instance, straightforward feedback analysis reveals that the transfer function linking small changes in the input phase $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nSubstituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are dictated solely by the components used for the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL achieves lock, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to the operating or bias point.\n\nThe dynamic behavior of a PLL is crucial for designers. Specifically, they need to know if the loop is stable, how it stabilizes after being disturbed from its locked state, how noise within the loop affects the output, and how to design the loop to ensure specific dynamic characteristics. Similar to feedback amplifiers, linear analysis is a valuable tool for addressing these questions. Although a phase-locked loop is inherently nonlinear, once it locks, its dynamic response to input phase and frequency changes can be adequately modeled linearly, as long as these changes are slow and small around the operating or bias point.\n\nBy leveraging the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be constructed. It is important to note that this is a small-signal model, focusing on variations around an operating point. In this context, the phase variable denotes phase changes relative to reference signals that initially matched the true signals at the start of the analysis. Similarly, any frequency variables introduced later represent deviations from the initial frequencies at the analysis's outset. A signal-flow graph for this linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 allows for the determination of transfer functions that describe small perturbations in various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking small input phase changes $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nBy substituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are solely determined by the components used for the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is locked, its response to input phase and frequency variations can be effectively modeled linearly, provided these variations are gradual and minor relative to its operating or bias point.\n\nThe behavior of a PLL is crucial for designers. Key questions include: Is the loop stable? How does it stabilize after being disturbed from its locked state? How is internal noise manifested at the output? How can the loop be engineered to exhibit specific dynamic characteristics? Like feedback amplifiers, linear analysis is instrumental in addressing these queries. However, a phase-locked loop is inherently nonlinear. Fortunately, once locked, its dynamic response to input phase and frequency shifts can be closely approximated by a linear model, as long as these shifts are slow and small around its operating or bias point.\n\nBased on the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. This is a small-signal model, meaning it pertains to variations around an operating point. In essence, the phase variable denotes phase deviations from reference signals that initially matched the true signals at the start of the analysis. Similarly, any frequency variables, to be introduced shortly, represent deviations from the initial frequencies at the analysis's outset. A signal-flow graph for this linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 enables the determination of transfer functions that correlate small disturbances in various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking minor input phase changes $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ denotes the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nSubstituting (19.30) into (19.29) yields\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. Variations between different PLLs are solely dictated by the choice of the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL achieves lock, its dynamic response to input phase and frequency variations can be effectively modeled linearly, provided these variations are gradual and minor relative to the operating or bias point.\n\nThe dynamic behavior of a PLL is crucial for designers. Key questions include: Is the loop stable? How does it stabilize after being disturbed from its locked state? How is noise within the loop manifested at the output? How can the loop be configured to exhibit specific dynamic characteristics? Similar to feedback amplifiers, linear analysis is instrumental in addressing these queries. However, a phase-locked loop is inherently nonlinear. Fortunately, once locked, a PLL's dynamic response to input phase and frequency shifts can be satisfactorily linearized, as long as these shifts are slow and slight around the operating or bias point.\n\nUtilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It is important to recognize that this is a small-signal model, focusing on variations around an operating point. In essence, the phase variable denotes phase deviations from reference signals that were initially identical to the true signals at the start of the analysis. Similarly, any frequency variables introduced later represent deviations from the initial frequencies at the analysis's onset. A signal-flow graph depicting the linearized small-signal model is presented in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 allows for the determination of transfer functions that describe minor perturbations in various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking minor input phase changes $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nBy substituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are solely determined by the components used for the low-pass filter (defining $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (defining $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (defining $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is locked, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to their operating or bias point.\n\nThe dynamic behavior of a PLL is crucial for designers. Specifically, they need to know if the loop is stable, how it stabilizes after being disturbed from its locked state, how noise within the loop affects the output, and how to design the loop to achieve specific dynamic responses. Like feedback amplifiers, linear analysis is a valuable tool for addressing these questions. However, a phase-locked loop is inherently nonlinear. Fortunately, once a PLL is locked, its dynamic response to input phase and frequency changes can be adequately modeled linearly, as long as these changes are slow and small around their operating or bias point.\n\nUtilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It is important to note that this is a small-signal model, meaning it pertains to variations around an operating point. In other words, the phase variable denotes changes in phase from reference signals that initially matched the true signals at the start of the analysis. Similarly, any frequency variables introduced later represent deviations from the original frequencies at the analysis's outset. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 allows for the determination of transfer functions that describe small perturbations in various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking small changes in the input phase $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nSubstituting (19.30) into (19.29) yields\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are solely determined by the components used for the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is in lock, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor around their operating or bias point.\n\nThe dynamics of a PLL are crucial for designers to understand. Specifically, they need to know if the loop is stable, how it stabilizes after being disturbed from its locked state, how noise within the loop affects the output, and how to design the loop to achieve specific dynamic behaviors. Similar to feedback amplifiers, linear analysis is a valuable tool for addressing these questions. However, a phase-locked loop is inherently a highly nonlinear system. Fortunately, once a PLL is in lock, its dynamic response to input phase and frequency changes can be well approximated by a linear model, as long as these changes are slow and small about their operating or bias point.\n\nUtilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It is important to note that this is a small-signal model, focusing on changes around an operating point. In other words, the phase variable denotes changes in phase from reference signals that were initially identical to the true signals at the start of the analysis. Similarly, any frequency variables introduced later also represent deviations from the original frequencies at the beginning of the analysis. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal flow graph in Fig. 19.8 allows for the determination of transfer functions that describe small perturbations in the various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking small changes in the input phase $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nSubstituting (19.30) into (19.29) yields\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are solely determined by the components used for the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is locked, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to their operating or bias point.\n\nThe dynamic behavior of a PLL is crucial for designers. Specifically, they need to know if the loop is stable, how it stabilizes after being disturbed from its locked state, how noise within the loop affects the output, and how to design the loop to achieve specific dynamic characteristics. Like feedback amplifiers, linear analysis is a valuable tool for addressing these questions. However, a phase-locked loop is inherently nonlinear. Fortunately, once locked, its dynamic response to input phase and frequency changes can be closely approximated by a linear model, as long as these changes are slow and small around their operating or bias point.\n\nBy utilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It is important to note that this is a small-signal model, focusing on changes around an operating point. In other words, the phase variable indicates deviations in phase from reference signals that were initially identical to the true signals at the start of the analysis. Similarly, any frequency variables introduced later represent deviations from the original frequencies at the analysis's outset. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 allows for the determination of transfer functions that describe small perturbations in various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking small changes in the input phase $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nBy substituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are solely determined by the components used for the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL achieves lock, its reaction to variations in input phase and frequency can be effectively described by a linear model, provided these variations are gradual and minor relative to its operating or bias point.\n\nThe behavior of a PLL's dynamics is crucial for designers. Specifically, they must assess the loop's stability, its settling process after disturbances from the locked state, how internal noise affects the output, and how to design the loop for desired dynamic performance. Similar to feedback amplifiers, linear analysis is instrumental in addressing these queries. Although a phase-locked loop is inherently nonlinear, once it locks, its dynamic response to input phase and frequency shifts can be accurately modeled linearly, as long as these shifts are slow and small around the operating or bias point.\n\nBy leveraging the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It's important to recognize that this is a small-signal model, focusing on variations around an operating point. In this context, the phase variable denotes phase changes relative to reference signals that initially matched the true signals. Likewise, any frequency variables introduced later represent deviations from the initial frequencies at the start of the analysis. A signal-flow graph illustrating this linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 enables the determination of transfer functions that correlate minor perturbations in various signals within the loop. For instance, standard feedback analysis shows that the transfer function linking small input phase changes $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nSubstituting (19.30) into (19.29) yields\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are dictated solely by the choice of the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is in lock, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to their operating or bias point.\n\nThe behavior of a PLL's dynamics is crucial for designers. Specifically, they need to know if the loop is stable, how it stabilizes after being disturbed from its locked state, how noise within the loop affects the output, and how to design the loop to achieve specific dynamic characteristics. Similar to feedback amplifiers, linear analysis is a valuable tool for addressing these questions. However, a phase-locked loop is inherently a highly nonlinear system. Fortunately, once a PLL is in lock, its dynamic response to input phase and frequency changes can be well approximated by a linear model, as long as these changes are slow and small about their operating or bias point.\n\nBy utilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It is important to note that this is a small-signal model, focusing on changes around an operating point. In other words, the phase variable denotes changes in phase from reference signals that were initially identical to the true signals at the start of the analysis. Similarly, any frequency variables, which will be introduced shortly, also represent deviations from the original frequencies at the beginning of the analysis. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal flow graph in Fig. 19.8 allows for the determination of transfer functions that describe small perturbations in the various signals around the loop. For instance, straightforward feedback analysis shows that the transfer function linking small changes in the input phase $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nBy substituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is broadly applicable to nearly all phase-locked loops. The distinctions between different PLLs are determined solely by the components used for the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is in lock, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to their operating or bias point.\n\nThe dynamic behavior of a PLL is crucial for designers. Specifically, they need to know if the loop is stable, how it stabilizes after being disturbed from its locked state, how internal noise affects the output, and how to design the loop for desired dynamic performance. Like feedback amplifiers, linear analysis is a valuable tool for addressing these questions. However, a phase-locked loop is inherently nonlinear. Fortunately, once a PLL is in lock, its dynamic response to input phase and frequency changes can be adequately modeled linearly, as long as these changes are slow and small around their operating or bias point.\n\nUtilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be constructed. It's important to note that this is a small-signal model, focusing on changes around an operating point. In other words, the phase variable denotes phase changes from reference signals that initially matched the true signals at the start of the analysis. Similarly, any frequency variables introduced later represent deviations from the original frequencies at the analysis's outset. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 allows for the determination of transfer functions that describe small perturbations in various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking small input phase changes $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nBy substituting (19.30) into (19.29),\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are solely determined by the components used for the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Key Point: When a PLL is locked, its dynamic response to input phase and frequency variations can be effectively approximated by a linear model, provided these variations are gradual and minor relative to their operating or bias point.\n\nThe dynamic behavior of a PLL is crucial for designers. Specifically, they need to know if the loop is stable, how it stabilizes after being disturbed from its locked state, how noise within the loop affects the output, and how to design the loop to achieve specific dynamic responses. Like feedback amplifiers, linear analysis is a valuable tool for addressing these questions. However, a phase-locked loop is inherently nonlinear. Fortunately, once locked, its response to input phase and frequency changes can be adequately modeled linearly, as long as these changes are slow and small around the operating or bias point.\n\nUtilizing the relationships outlined in Section 19.1, a linear model for a phase-locked loop can be formulated. It's important to note that this is a small-signal model, meaning it pertains to variations around an operating point. In other words, the phase variable indicates deviations in phase from reference signals that were initially identical to the true signals at the start of the analysis. Similarly, any frequency variables introduced later also denote changes from the initial frequencies at the analysis's outset. A signal-flow graph for the linearized small-signal model is depicted in Fig. 19.8.\n\nAnalyzing the signal-flow graph in Fig. 19.8 allows for the determination of transfer functions that describe minor disturbances in various signals within the loop. For instance, straightforward feedback analysis shows that the transfer function linking small input phase changes $\\phi(\\mathrm{s})$ to the phase difference $\\phi_{\\mathrm{d}}(\\mathrm{s})$ is expressed as\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{1}{1+\\mathrm{L}(\\mathrm{~s})} \\tag{19.29}\n\\end{equation*}\n$$\n\nwhere $L(s)$ represents the loop gain,\n\n$$\n\\begin{equation*}\n\\mathrm{L}(\\mathrm{~s})=\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s})}{\\mathrm{Ns}} \\tag{19.30}\n\\end{equation*}\n$$\n\nSubstituting (19.30) into (19.29) yields\n\n$$\n\\begin{equation*}\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})}=\\frac{\\mathrm{s}}{\\mathrm{~s}+\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{~s}) / \\mathrm{N}} \\tag{19.31}\n\\end{equation*}\n$$\n\nEquation (19.31) is universally applicable to nearly all phase-locked loops. The distinctions between different PLLs are solely determined by the components used for the low-pass filter (which defines $\\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s})$), the phase detector (which defines $\\mathrm{K}_{\\mathrm{pd}}$), or the oscillator (which defines $\\mathrm{K}_{\\mathrm{osc}}$)."
},
{
    "text": "Assume the loop filter has the transfer function specified in (19.24). Define the loop constant in rad/s units as follows:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{plI}}=\\sqrt{\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{p}} \\mathrm{~K}_{\\mathrm{osc}}}{\\mathrm{~N}}} \\tag{19.32}\n\\end{equation*}\n$$\n\nBy substituting (19.24) and (19.32) into (19.30) and (19.31) and rearranging, we obtain:\n\n$$\n\\begin{align*}\n\\mathrm{L}(\\mathrm{~s}) & =\\frac{\\omega_{\\mathrm{pll}}^{2}}{\\mathrm{~s}^{2}} \\cdot\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}\\right)  \\tag{19.33}\\\\\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})} & =\\frac{1}{\\omega_{\\mathrm{plI}}^{2}} \\cdot \\frac{\\mathrm{~s}^{2}}{\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}+\\frac{\\mathrm{s}^{2}}{\\omega_{\\mathrm{plI}}^{2}}\\right)} \\tag{19.34}\n\\end{align*}\n$$\n\nThe dc gain of (19.34) being zero indicates that the phase difference between the input and divider output will eventually converge to zero.\n\nWe can also correlate minor changes in the phase of the input and output clocks using:\n\n$$\n\\begin{equation*}\nH(s)=\\frac{\\phi(s)}{\\phi_{\\text {in }}(s)}=\\frac{N\\left(1+s / \\omega_{z}\\right)}{1+\\frac{s}{\\omega_{z}}+\\frac{s^{2}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.35}\n\\end{equation*}\n$$\n\nThe transfer function $\\mathrm{H}(\\mathrm{s})$ is known as the phase transfer function or jitter transfer function of the PLL. The dc gain of $\\mathrm{H}(\\mathrm{s})$ is N, implying that a small input phase change, $\\Delta \\phi_{\\text {in }}$, results in an output phase change of $N \\Delta \\phi$ after an initial transient. Since the output frequency is N times higher, this indicates that the input and output clocks are synchronized.\n\nFor a first-order loop filter, both (19.34) and (19.35) represent second-order transfer functions, making the PLL a second-order system. Matching the denominator to the general form $1+s /\\left(\\omega_{r} Q\\right)+s^{2} / \\omega_{r}^{2}$ shows that the loop has a resonant frequency $\\omega_{\\mathrm{r}}=\\omega_{\\mathrm{pll}}$ and a Q-factor given by:\n\n$$\n\\begin{equation*}\n\\mathrm{Q}=\\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}} \\tag{19.36}\n\\end{equation*}\n$$\n\nNote that if $\\omega_{\\mathrm{z}}$ is permitted to increase无限ly (i.e., the zero is removed from the loop filter, making it a pure integrator, $\\mathrm{K}_{\\mathrm{Ip}} / \\mathrm{s}$), the poles of (19.35) approach the unit circle. Thus, the zero is essential for PLL stability.\n\nIf $\\omega_{\\mathrm{z}} \\gg \\omega_{\\text {pII }}$, the loop becomes underdamped, leading to poor tracking. For instance, in Fig. 19.9, a significant overshoot is seen in the transient step response for $\\mathrm{Q}=1.8$. This implies a longer lock time and larger transient phase discrepancies between input and output. Additionally, substantial peaking is observed in the magnitude response, known as jitter peaking, which is undesirable due to noise amplification within a specific frequency band.\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" depicts the time-domain step response of a closed-loop phase-locked loop (PLL) system, showing how the system reacts to a step input for various Q values. The x-axis represents time, and the y-axis shows the step response amplitude, both on a linear scale.\n\nKey aspects of the graph include:\n\n- Three distinct curves corresponding to different Q values: Q = 1.8, Q = 0.5, and Q = 0.1, illustrating varying damping effects.\n\n- For Q = 1.8, the curve shows substantial overshoot, indicating a highly underdamped system with significant oscillation before stabilizing.\n\n- For Q = 0.5, overshoot is present but much reduced compared to Q = 1.8, reflecting a critically damped or slightly underdamped response with quicker stabilization.\n\n- For Q = 0.1, the response is overdamped with no overshoot, smoothly rising to the steady-state value without oscillations.\n\nThis graph visually highlights the trade-offs in PLL design between response speed and overshoot, with Q = 0.5 often being a balanced choice for both fast response and minimal overshoot.\nimage_name:(b)\ndescription:The graph labeled \"(b)\" shows the time-domain step response for a second-order phase-locked loop (PLL) model. The x-axis denotes time, and the y-axis represents the step response magnitude. Three curves are plotted, each corresponding to a different Q-factor: Q = 1.8, Q = 0.5, and Q = 0.1.\n\n1. **Graph Type and Function:**\n- This is a time-domain waveform graph illustrating the step response of a PLL system.\n\n2. **Axes Labels and Units:**\n- The x-axis is labeled \"Time,\" indicating the time progression during the step response.\n- The y-axis is labeled \"Step Response,\" representing the response magnitude over time.\n- No specific units or scales are provided, but the graph is on a linear scale.\n\n3. **Overall Behavior and Trends:**\n- For Q = 1.8, the response exhibits a large overshoot, signifying an underdamped system with considerable oscillation before settling.\n- For Q = 0.5, the overshoot is moderate, indicating a more critically damped response with less oscillation.\n- For Q = 0.1, the response is overdamped with no overshoot, showing a slower rise to the steady state without oscillation.\n\n4. **Key Features and Technical Details:**\n- The Q = 1.8 curve peaks significantly higher, indicating maximum overshoot.\n- The Q = 0.5 curve has a moderate peak, balancing speed and stability.\n- The Q = 0.1 curve rises gradually without peaking, emphasizing stability.\n- These characteristics illustrate the impact of different Q-factors on the PLL system's time-domain behavior.\n\n5. **Annotations and Specific Data Points:**\n- Each curve is annotated with its respective Q-factor value for clear differentiation.\n- The graph visually demonstrates the effects of varying Q-factors on the PLL system's time-domain response.\n\nFig. 19.9 Closed-loop PLL responses for the second-order model, H(s), with equivalent bandwidth but different Q: (a) time-domain step response; (b) frequency-domain jitter transfer function magnitude response\n\nWith $\\mathrm{Q}=0.5$, although overshoot and jitter peaking are still present, they are significantly diminished. This is a common design choice, resulting in a closed-loop response with $\\omega_{\\mathrm{z}}=\\omega_{\\text {pII }} / 2$ and coincident real poles at $-\\omega_{\\text {pII }}$.\n\n$$\n\\begin{equation*}\nH(s)=\\frac{N\\left(1+s / \\omega_{\\mathrm{z}}\\right)}{\\left(1+s / \\omega_{\\mathrm{pII}}\\right)^{2}} \\tag{19.37}\n\\end{equation*}\n$$\n\nThe 3-dB bandwidth of (19.37) is:\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=2.5 \\omega_{\\mathrm{pII}} \\tag{19.38}\n\\end{equation*}\n$$\n\nKey Point: A second-order PLL design with $Q=0.5$ offers good transient settling behavior without excessively spreading the loop filter time constants. A design with $Q=0.1$ provides even better tracking but typically requires a larger loop-filter time constant for the same loop bandwidth.\n\nAnother option is to use $\\mathrm{Q} \\ll 0.5$, which further improves transient response and reduces jitter peaking. For example, with $Q=0.1\\left(\\omega_{z}=0.1 \\omega_{\\text {pII }}\\right)$, less than 0.1 dB of jitter peaking is observed in the magnitude response. With $\\mathrm{Q} \\ll 0.5$, the PLL's second-order response can be approximated as $1+\\mathrm{s} /\\left(\\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)+\\mathrm{s}^{2} / \\omega_{\\mathrm{pII}}^{2} \\cong$ $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)\\left(1+\\mathrm{s} Q / \\omega_{\\mathrm{pII}}\\right)$. Since $\\omega_{0} \\mathrm{Q}=\\omega_{\\mathrm{plI}} Q=\\omega_{z}$, the first term equals $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{z}}\\right)$, which cancels the zero in the numerator of (19.35). With finite $\\mathrm{Q} \\ll 0.5$, the cancellation is approximate, and the closed-loop PLL response can be estimated from a first-order model:\n\n$$\n\\begin{equation*}\n\\mathrm{H}(\\mathrm{~s}) \\cong \\frac{\\mathrm{N}}{1+\\frac{\\mathrm{S} \\omega_{z}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.39}\n\\end{equation*}\n$$\n\n[^3]having a $3-\\mathrm{dB}$ bandwidth\n\\$\\$\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=\\omega_{\\mathrm{pII}}^{2} / \\omega_{\\mathrm{z}}=\\omega_{\\mathrm{pII}} / \\mathrm{Q} \\tag{19.40}\n\\end{equation*}\n$$\n\n$$\nand a settling time constant\n$$\n\n$$\n\\begin{equation*}\n\\tau \\cong \\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}^{2}}=\\frac{\\mathrm{Q}}{\\omega_{\\mathrm{plI}}} \\tag{19.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nComparing two PLLs with the same closed-loop bandwidth, one with $\\mathrm{Q}=0.1$ and the other with $\\mathrm{Q}=0.5$, we see that the design with $Q=0.1$ offers superior tracking behavior but results in a $\\omega_{z}$ value approximately 20 times smaller. This low-frequency zero necessitates a relatively large time-constant in the loop filter, often requiring off-chip components.\n\n#### EXAMPLE 19.4\n\nSketch the Bode plot of an open-loop second-order PLL response, $L(s)$. What is the phase margin with $\\mathrm{Q}=0.5$ and $Q=0.1$?\n\n#### Solution\n\nThe open-loop response $\\mathrm{L}(\\mathrm{s})$ in (19.33) has two poles at the origin—one from the loop filter and the other from the VCO, whose output phase is the integral of its frequency. It also has one zero at $-\\omega_{z}$. A Bode plot is sketched in Fig. 19.10. The phase response is given by $-180^{\\circ}+\\operatorname{atan}\\left(\\omega / \\omega_{z}\\right)$, and the phase margin is simply atan $\\left(\\omega_{\\mathrm{t}} / \\omega_{z}\\right)$. Using (19.33) and solving for $\\left|L\\left(j \\omega_{\\mathrm{t}}\\right)\\right|^{2}=1$, it can be shown that\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{t}}=\\frac{\\omega_{\\mathrm{pll}}}{\\sqrt{2}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}} \\tag{19.42}\n\\end{equation*}\n$$\n\nand the phase margin is\n\n$$\n\\begin{equation*}\n\\text { Phase Margin }=\\operatorname{atan}\\left(\\frac{1}{\\sqrt{2} \\mathrm{Q}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}}\\right) \\tag{19.43}\n\\end{equation*}\n$$\n\nSubstituting into (19.43) reveals a phase margin of $76^{\\circ}$ when $Q=0.5$. With $Q \\ll 1$, (19.42) simplifies to $\\omega_{\\mathrm{t}} \\cong \\omega_{\\text {pII }} / Q=\\omega_{\\text {pII }}^{2} / \\omega_{\\mathrm{z}}$, and the phase margin becomes\n\n$$\n\\begin{equation*}\n\\text { Phase Margin } \\cong \\operatorname{atan}\\left(\\frac{\\omega_{\\text {pII }}^{2}}{\\omega_{\\mathrm{z}}^{2}}\\right)=\\operatorname{atan}\\left(\\frac{1}{Q^{2}}\\right) \\tag{19.44}\n\\end{equation*}\n$$\n\nEquation (19.44) shows a phase margin very close to $90^{\\circ}$ when $Q=0.1$. Note that in practice, additional poles in the PLL (e.g., introduced by the capacitor $\\mathrm{C}_{2}$ in the charge-pump loop filter of Fig. 19.7) will reduce the phase margin from these values."
},
{
    "text": "Assume the loop filter has the transfer function specified in (19.24). Define the loop constant in units of rad/s as follows:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{plI}}=\\sqrt{\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{p}} \\mathrm{~K}_{\\mathrm{osc}}}{\\mathrm{~N}}} \\tag{19.32}\n\\end{equation*}\n$$\n\nBy substituting (19.24) and (19.32) into (19.30) and (19.31) and rearranging, we obtain:\n\n$$\n\\begin{align*}\n\\mathrm{L}(\\mathrm{~s}) & =\\frac{\\omega_{\\mathrm{pll}}^{2}}{\\mathrm{~s}^{2}} \\cdot\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}\\right)  \\tag{19.33}\\\\\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})} & =\\frac{1}{\\omega_{\\mathrm{plI}}^{2}} \\cdot \\frac{\\mathrm{~s}^{2}}{\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}+\\frac{\\mathrm{s}^{2}}{\\omega_{\\mathrm{plI}}^{2}}\\right)} \\tag{19.34}\n\\end{align*}\n$$\n\nThe dc gain of (19.34) is zero, indicating that the phase difference between the input and divider output will eventually converge to zero.\n\nWe can also correlate small changes in the phase of the input and output clocks using:\n\n$$\n\\begin{equation*}\nH(s)=\\frac{\\phi(s)}{\\phi_{\\text {in }}(s)}=\\frac{N\\left(1+s / \\omega_{z}\\right)}{1+\\frac{s}{\\omega_{z}}+\\frac{s^{2}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.35}\n\\end{equation*}\n$$\n\nThe transfer function $\\mathrm{H}(\\mathrm{s})$ is known as the phase transfer function or jitter transfer function of the PLL. The dc gain of $\\mathrm{H}(\\mathrm{s})$ is N, meaning that a small input phase change, $\\Delta \\phi_{\\text {in }}$, results in an output phase change of $N \\Delta \\phi$ after an initial transient. Since the output frequency is N times larger, this indicates that the input and output clocks are synchronized.\n\nFor a first-order loop filter, both (19.34) and (19.35) represent second-order transfer functions, making the PLL a second-order system. Matching the denominator to the general form $1+s /\\left(\\omega_{r} Q\\right)+s^{2} / \\omega_{r}^{2}$ shows that the loop has a resonant frequency $\\omega_{\\mathrm{r}}=\\omega_{\\mathrm{pll}}$ and a Q-factor given by:\n\n$$\n\\begin{equation*}\n\\mathrm{Q}=\\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}} \\tag{19.36}\n\\end{equation*}\n$$\n\nNote that if $\\omega_{\\mathrm{z}}$ is allowed to increase indefinitely (i.e., the zero is removed from the loop filter, making it a pure integrator, $\\mathrm{K}_{\\mathrm{Ip}} / \\mathrm{s}$), the poles of (19.35) approach the unit circle. Thus, the zero is necessary to ensure PLL stability.\n\nIf $\\omega_{\\mathrm{z}} \\gg \\omega_{\\text {pII }}$, the loop will be underdamped, leading to poor tracking behavior. For instance, in Fig. 19.9, a significant overshoot is observed in the transient step response for $\\mathrm{Q}=1.8$. This implies a longer time to achieve lock and larger transient phase discrepancies between input and output. Additionally, notable peaking is seen in the magnitude response, known as jitter peaking, which is undesirable as it amplifies noise within a specific frequency band.\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" depicts the time-domain step response of a closed-loop phase-locked loop (PLL) system, showing how the system reacts to a step input for various quality factor, Q, values. The horizontal axis represents time, and the vertical axis shows the step response amplitude, both on a linear scale.\n\nKey aspects of the graph include:\n\n- Three distinct curves corresponding to different Q values: Q = 1.8, Q = 0.5, and Q = 0.1, illustrating varying damping effects.\n\n- For Q = 1.8, the curve shows substantial overshoot, indicating a highly underdamped system with significant oscillation before stabilizing.\n\n- For Q = 0.5, overshoot is present but much reduced compared to Q = 1.8, reflecting a critically damped or slightly underdamped response with quicker stabilization.\n\n- For Q = 0.1, the response is overdamped, with no overshoot, smoothly and gradually approaching the steady-state value without oscillations.\n\nThis graph visually highlights the trade-offs in PLL design between response speed and overshoot, with Q = 0.5 often being a balanced choice for fast response with minimal overshoot.\nimage_name:(b)\ndescription:The graph labeled \"(b)\" shows the time-domain step response for a second-order phase-locked loop (PLL) model. The x-axis represents time, and the y-axis represents the step response magnitude. Three curves are displayed, each corresponding to a different Q-factor: Q = 1.8, Q = 0.5, and Q = 0.1.\n\n1. **Graph Type and Function:**\n- This is a time-domain waveform graph illustrating the step response of a PLL system.\n\n2. **Axes Labels and Units:**\n- The x-axis is labeled \"Time,\" indicating the timeline of the step response.\n- The y-axis is labeled \"Step Response,\" representing the response magnitude over time.\n- No specific units or scales are provided, but the graph is on a linear scale.\n\n3. **Overall Behavior and Trends:**\n- For Q = 1.8, the response exhibits a large overshoot, signifying an underdamped system with considerable oscillation before settling.\n- For Q = 0.5, the overshoot is moderate, indicating a more critically damped response with less oscillation.\n- For Q = 0.1, the response is overdamped with no overshoot, showing a slower rise to the steady state without oscillation.\n\n4. **Key Features and Technical Details:**\n- The Q = 1.8 curve peaks significantly higher, indicating maximum overshoot.\n- The Q = 0.5 curve has a moderate peak, balancing speed and stability.\n- The Q = 0.1 curve rises gradually without peaking, emphasizing stability.\n- These characteristics illustrate the impact of different Q-factors on the PLL system's time-domain behavior.\n\n5. **Annotations and Specific Data Points:**\n- Each curve is annotated with its respective Q-factor value for clear differentiation.\n- The graph visually demonstrates how different Q-factors affect the PLL system's time-domain response.\n\nFig. 19.9 Closed-loop PLL responses for the second-order model, H(s), with equivalent bandwidth but different Q: (a) time-domain step response; (b) frequency-domain jitter transfer function magnitude response\n\nWith $\\mathrm{Q}=0.5$, although overshoot and jitter peaking are still present, they are significantly reduced. This is a common design choice, resulting in a closed-loop response with $\\omega_{\\mathrm{z}}=\\omega_{\\text {pII }} / 2$ and coincident real poles at $-\\omega_{\\text {pII }}$.\n\n$$\n\\begin{equation*}\nH(s)=\\frac{N\\left(1+s / \\omega_{\\mathrm{z}}\\right)}{\\left(1+s / \\omega_{\\mathrm{pII}}\\right)^{2}} \\tag{19.37}\n\\end{equation*}\n$$\n\nThe 3-dB bandwidth of (19.37) is:\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=2.5 \\omega_{\\mathrm{pII}} \\tag{19.38}\n\\end{equation*}\n$$\n\nKey Point: Designing a second-order PLL with $Q=0.5$ provides good transient settling behavior without excessively spreading the loop filter time constants. A design with $Q=0.1$ offers even better tracking behavior but generally requires a larger loop-filter time constant for the same loop bandwidth.\n\nAnother option is to use $\\mathrm{Q} \\ll 0.5$, which further improves transient response and reduces jitter peaking. For example, with $Q=0.1\\left(\\omega_{z}=0.1 \\omega_{\\text {pII }}\\right)$, less than 0.1 dB of jitter peaking is observed in the magnitude response. With $\\mathrm{Q} \\ll 0.5$, the PLL's second-order response can be approximated as $1+\\mathrm{s} /\\left(\\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)+\\mathrm{s}^{2} / \\omega_{\\mathrm{pII}}^{2} \\cong$ $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)\\left(1+\\mathrm{s} Q / \\omega_{\\mathrm{pII}}\\right)$. Since $\\omega_{0} \\mathrm{Q}=\\omega_{\\mathrm{plI}} Q=\\omega_{z}$, the first term equals $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{z}}\\right)$, which cancels the zero in the numerator of (19.35). With finite $\\mathrm{Q} \\ll 0.5$, the cancellation is approximate, and the closed-loop PLL response can be estimated from a first-order model:\n\n$$\n\\begin{equation*}\n\\mathrm{H}(\\mathrm{~s}) \\cong \\frac{\\mathrm{N}}{1+\\frac{\\mathrm{S} \\omega_{z}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.39}\n\\end{equation*}\n$$\n\n[^3]having a $3-\\mathrm{dB}$ bandwidth\n\\$\\$\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=\\omega_{\\mathrm{pII}}^{2} / \\omega_{\\mathrm{z}}=\\omega_{\\mathrm{pII}} / \\mathrm{Q} \\tag{19.40}\n\\end{equation*}\n$$\n\n$$\nand a settling time constant\n$$\n\n$$\n\\begin{equation*}\n\\tau \\cong \\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}^{2}}=\\frac{\\mathrm{Q}}{\\omega_{\\mathrm{plI}}} \\tag{19.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nComparing two PLLs with the same closed-loop bandwidth, one with $\\mathrm{Q}=0.1$ and the other with $\\mathrm{Q}=0.5$, we see that the design with $Q=0.1$ provides better tracking behavior but results in a $\\omega_{z}$ value approximately 20 times smaller. This low-frequency zero necessitates a relatively large time-constant in the loop filter, often requiring off-chip components.\n\n#### EXAMPLE 19.4\n\nSketch the Bode plot of an open-loop second-order PLL response, $L(s)$. What is the phase margin with $\\mathrm{Q}=0.5$ and $Q=0.1$ ?\n\n#### Solution\n\nThe open-loop response $\\mathrm{L}(\\mathrm{s})$ in (19.33) has two poles at the origin—one from the loop filter and the other from the VCO, whose output phase is the integral of its frequency. It also has one zero at $-\\omega_{z}$. A Bode plot is sketched in Fig. 19.10. The phase response is given by $-180^{\\circ}+\\operatorname{atan}\\left(\\omega / \\omega_{z}\\right)$, and the phase margin is simply atan $\\left(\\omega_{\\mathrm{t}} / \\omega_{z}\\right)$. Using (19.33) and solving for $\\left|L\\left(j \\omega_{\\mathrm{t}}\\right)\\right|^{2}=1$, it can be shown that\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{t}}=\\frac{\\omega_{\\mathrm{pll}}}{\\sqrt{2}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}} \\tag{19.42}\n\\end{equation*}\n$$\n\nand the phase margin is\n\n$$\n\\begin{equation*}\n\\text { Phase Margin }=\\operatorname{atan}\\left(\\frac{1}{\\sqrt{2} \\mathrm{Q}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}}\\right) \\tag{19.43}\n\\end{equation*}\n$$\n\nSubstituting into (19.43) reveals a phase margin of $76^{\\circ}$ for $Q=0.5$. With $Q \\ll 1$, (19.42) simplifies to $\\omega_{\\mathrm{t}} \\cong \\omega_{\\text {pII }} / Q=\\omega_{\\text {pII }}^{2} / \\omega_{\\mathrm{z}}$, and the phase margin becomes\n\n$$\n\\begin{equation*}\n\\text { Phase Margin } \\cong \\operatorname{atan}\\left(\\frac{\\omega_{\\text {pII }}^{2}}{\\omega_{\\mathrm{z}}^{2}}\\right)=\\operatorname{atan}\\left(\\frac{1}{Q^{2}}\\right) \\tag{19.44}\n\\end{equation*}\n$$\n\nEquation (19.44) indicates a phase margin very close to $90^{\\circ}$ when $Q=0.1$. Note that in practice, additional poles in the PLL (e.g., introduced by the capacitor $\\mathrm{C}_{2}$ in the charge-pump loop filter of Fig. 19.7) will reduce the phase margin from these values."
},
{
    "text": "Consider the loop filter with the transfer function specified in (19.24). Define the loop constant in rad/s units as follows:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{plI}}=\\sqrt{\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{p}} \\mathrm{~K}_{\\mathrm{osc}}}{\\mathrm{~N}}} \\tag{19.32}\n\\end{equation*}\n$$\n\nBy substituting (19.24) and (19.32) into (19.30) and (19.31) and rearranging, we obtain:\n\n$$\n\\begin{align*}\n\\mathrm{L}(\\mathrm{~s}) & =\\frac{\\omega_{\\mathrm{pll}}^{2}}{\\mathrm{~s}^{2}} \\cdot\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}\\right)  \\tag{19.33}\\\\\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})} & =\\frac{1}{\\omega_{\\mathrm{plI}}^{2}} \\cdot \\frac{\\mathrm{~s}^{2}}{\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}+\\frac{\\mathrm{s}^{2}}{\\omega_{\\mathrm{plI}}^{2}}\\right)} \\tag{19.34}\n\\end{align*}\n$$\n\nThe dc gain of (19.34) is zero, indicating that the phase difference between the input and divider output will eventually converge to zero.\n\nWe can also correlate small changes in the phase of the input and output clocks using:\n\n$$\n\\begin{equation*}\nH(s)=\\frac{\\phi(s)}{\\phi_{\\text {in }}(s)}=\\frac{N\\left(1+s / \\omega_{z}\\right)}{1+\\frac{s}{\\omega_{z}}+\\frac{s^{2}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.35}\n\\end{equation*}\n$$\n\nThe transfer function $\\mathrm{H}(\\mathrm{s})$ is known as the phase transfer function or jitter transfer function of the PLL. The dc gain of $\\mathrm{H}(\\mathrm{s})$ is N, meaning that a small input phase change, $\\Delta \\phi_{\\text {in }}$, results in an output phase change of $N \\Delta \\phi$ after an initial transient. Since the output frequency is N times larger, this indicates that the input and output clocks are synchronized.\n\nFor a first-order loop filter, both (19.34) and (19.35) represent second-order transfer functions, making the PLL a second-order system. Matching the denominator to the general form $1+s /\\left(\\omega_{r} Q\\right)+s^{2} / \\omega_{r}^{2}$ shows that the loop has a resonant frequency $\\omega_{\\mathrm{r}}=\\omega_{\\mathrm{pll}}$ and a Q-factor ${ }^{4}$ given by:\n\n$$\n\\begin{equation*}\n\\mathrm{Q}=\\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}} \\tag{19.36}\n\\end{equation*}\n$$\n\nNote that if $\\omega_{\\mathrm{z}}$ increases indefinitely (i.e., the zero is removed from the loop filter, making it a pure integrator, $\\mathrm{K}_{\\mathrm{Ip}} / \\mathrm{s}$), the poles of (19.35) approach the unit circle. Thus, the zero is necessary for PLL stability.\n\nIf $\\omega_{\\mathrm{z}} \\gg \\omega_{\\text {pII }}$, the loop becomes underdamped, leading to poor tracking. For instance, in Fig. 19.9, a significant overshoot is seen in the transient step response for $\\mathrm{Q}=1.8$. This implies a longer lock time and larger transient phase discrepancies. Additionally, substantial peaking is observed in the magnitude response, known as jitter peaking, which is undesirable due to noise amplification within a specific frequency band.\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates the time-domain step response of a closed-loop phase-locked loop (PLL) system for various quality factor, Q, values. The x-axis represents time, and the y-axis shows the step response amplitude, both on a linear scale.\n\nKey aspects include:\n\n- Three distinct curves for Q = 1.8, Q = 0.5, and Q = 0.1, demonstrating different damping effects.\n- The Q = 1.8 curve shows significant overshoot, indicating a highly underdamped system with pronounced oscillations before stabilizing.\n- The Q = 0.5 curve has moderate overshoot, reflecting a critically damped or slightly underdamped response with quicker stabilization.\n- The Q = 0.1 curve is overdamped, with no overshoot, smoothly rising to the steady state without oscillations.\n\nThis graph visually depicts the trade-offs in PLL design between response speed and overshoot, with Q = 0.5 often being a balanced choice.\n\nimage_name:(b)\ndescription:The graph labeled \"(b)\" depicts the time-domain step response for a second-order PLL model. The x-axis is time, and the y-axis is the step response magnitude. Three curves correspond to different Q-factors: Q = 1.8, Q = 0.5, and Q = 0.1.\n\n1. **Graph Type and Function:**\n- A time-domain waveform graph showing the step response of a PLL system.\n\n2. **Axes Labels and Units:**\n- The x-axis is labeled \"Time,\" indicating the time progression during the step response.\n- The y-axis is labeled \"Step Response,\" representing the response magnitude over time.\n- The graph is on a linear scale without specific units.\n\n3. **Behavior and Trends:**\n- For Q = 1.8, the response exhibits large overshoot, indicating underdamping with significant oscillation.\n- For Q = 0.5, the overshoot is reduced, suggesting a more critically damped response with less oscillation.\n- For Q = 0.1, the response is overdamped, with no overshoot, indicating a slower but stable rise.\n\n4. **Key Features:**\n- The Q = 1.8 curve peaks significantly, showing maximum overshoot.\n- The Q = 0.5 curve has a moderate peak, balancing speed and stability.\n- The Q = 0.1 curve rises gradually without peaking, emphasizing stability.\n\n5. **Annotations:**\n- Each curve is labeled with its respective Q-factor value for clear differentiation.\n- The graph illustrates the impact of different Q-factors on the PLL system's time-domain behavior.\n\nFig. 19.9 shows closed-loop PLL responses for a second-order model, H(s), with equivalent bandwidth but different Q values: (a) time-domain step response; (b) frequency-domain jitter transfer function magnitude response.\n\nWith $\\mathrm{Q}=0.5$, although overshoot and jitter peaking are still present, they are significantly reduced. ${ }^{5}$ This is a common design choice, resulting in a closed-loop response with $\\omega_{\\mathrm{z}}=\\omega_{\\text {pII }} / 2$ and coincident real poles at $-\\omega_{\\text {pII }}$.\n\n$$\n\\begin{equation*}\nH(s)=\\frac{N\\left(1+s / \\omega_{\\mathrm{z}}\\right)}{\\left(1+s / \\omega_{\\mathrm{pII}}\\right)^{2}} \\tag{19.37}\n\\end{equation*}\n$$\n\nThe 3-dB bandwidth of (19.37) is:\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=2.5 \\omega_{\\mathrm{pII}} \\tag{19.38}\n\\end{equation*}\n$$\n\nKey Point: A second-order PLL design with $Q=0.5$ offers good transient settling without excessive loop filter time constant spread. A design with $Q=0.1$ provides better tracking but typically requires a larger loop filter time constant for the same loop bandwidth.\n\nAnother option is to use $\\mathrm{Q} \\ll 0.5$ for further transient response improvements and reduced jitter peaking. For example, with $Q=0.1\\left(\\omega_{z}=0.1 \\omega_{\\text {pII }}\\right)$, less than 0.1 dB of jitter peaking is observed. With $\\mathrm{Q} \\ll 0.5$, the PLL's second-order response can be approximated as $1+\\mathrm{s} /\\left(\\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)+\\mathrm{s}^{2} / \\omega_{\\mathrm{pII}}^{2} \\cong$ $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)\\left(1+\\mathrm{s} Q / \\omega_{\\mathrm{pII}}\\right)$. Since $\\omega_{0} \\mathrm{Q}=\\omega_{\\mathrm{plI}} Q=\\omega_{z}$, the first term equals $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{z}}\\right)$, canceling the zero in (19.35)'s numerator. With finite $\\mathrm{Q} \\ll 0.5$, the cancellation is approximate, and the closed-loop PLL response can be estimated from a first-order model:\n\n$$\n\\begin{equation*}\n\\mathrm{H}(\\mathrm{~s}) \\cong \\frac{\\mathrm{N}}{1+\\frac{\\mathrm{S} \\omega_{z}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.39}\n\\end{equation*}\n$$\n\n[^3]having a $3-\\mathrm{dB}$ bandwidth\n\\$\\$\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=\\omega_{\\mathrm{pII}}^{2} / \\omega_{\\mathrm{z}}=\\omega_{\\mathrm{pII}} / \\mathrm{Q} \\tag{19.40}\n\\end{equation*}\n$$\n\n$$\nand a settling time constant\n$$\n\n$$\n\\begin{equation*}\n\\tau \\cong \\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}^{2}}=\\frac{\\mathrm{Q}}{\\omega_{\\mathrm{plI}}} \\tag{19.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nComparing two PLLs with the same closed-loop bandwidth, one with $\\mathrm{Q}=0.1$ and the other with $\\mathrm{Q}=0.5$, we see that the $Q=0.1$ design offers better tracking but results in an $\\omega_{z}$ value about 20 times smaller. This low-frequency zero necessitates a larger loop filter time constant, often requiring off-chip components.\n\n#### EXAMPLE 19.4\n\nSketch the Bode plot of an open-loop second-order PLL response, $L(s)$. What is the phase margin with $\\mathrm{Q}=0.5$ and $Q=0.1$?\n\n#### Solution\n\nThe open-loop response $\\mathrm{L}(\\mathrm{s})$ in (19.33) has two poles at the origin—one from the loop filter and the other from the VCO, whose output phase is the integral of its frequency. It also has one zero at $-\\omega_{z}$. A Bode plot is sketched in Fig. 19.10. The phase response is $-180^{\\circ}+\\operatorname{atan}\\left(\\omega / \\omega_{z}\\right)$, and the phase margin is simply atan $\\left(\\omega_{\\mathrm{t}} / \\omega_{z}\\right)$. Using (19.33) and solving for $\\left|L\\left(j \\omega_{\\mathrm{t}}\\right)\\right|^{2}=1$, it can be shown that:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{t}}=\\frac{\\omega_{\\mathrm{pll}}}{\\sqrt{2}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}} \\tag{19.42}\n\\end{equation*}\n$$\n\nand the phase margin is:\n\n$$\n\\begin{equation*}\n\\text { Phase Margin }=\\operatorname{atan}\\left(\\frac{1}{\\sqrt{2} \\mathrm{Q}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}}\\right) \\tag{19.43}\n\\end{equation*}\n$$\n\nSubstituting into (19.43) yields a phase margin of $76^{\\circ}$ for $Q=0.5$. With $Q \\ll 1$, (19.42) simplifies to $\\omega_{\\mathrm{t}} \\cong \\omega_{\\text {pII }} / Q=\\omega_{\\text {pII }}^{2} / \\omega_{\\mathrm{z}}$, and the phase margin becomes:\n\n$$\n\\begin{equation*}\n\\text { Phase Margin } \\cong \\operatorname{atan}\\left(\\frac{\\omega_{\\text {pII }}^{2}}{\\omega_{\\mathrm{z}}^{2}}\\right)=\\operatorname{atan}\\left(\\frac{1}{Q^{2}}\\right) \\tag{19.44}\n\\end{equation*}\n$$\n\nEquation (19.44) indicates a phase margin very close to $90^{\\circ}$ for $Q=0.1$. Note that in practice, additional poles in the PLL (e.g., from the capacitor $\\mathrm{C}_{2}$ in the charge-pump loop filter of Fig. 19.7) will reduce the phase margin from these values."
},
{
    "text": "Assume the loop filter has the transfer function specified in (19.24). Define the loop constant in units of rad/s as follows:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{plI}}=\\sqrt{\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{p}} \\mathrm{~K}_{\\mathrm{osc}}}{\\mathrm{~N}}} \\tag{19.32}\n\\end{equation*}\n$$\n\nBy substituting (19.24) and (19.32) into (19.30) and (19.31) and rearranging, we obtain:\n\n$$\n\\begin{align*}\n\\mathrm{L}(\\mathrm{~s}) & =\\frac{\\omega_{\\mathrm{pll}}^{2}}{\\mathrm{~s}^{2}} \\cdot\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}\\right)  \\tag{19.33}\\\\\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})} & =\\frac{1}{\\omega_{\\mathrm{plI}}^{2}} \\cdot \\frac{\\mathrm{~s}^{2}}{\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}+\\frac{\\mathrm{s}^{2}}{\\omega_{\\mathrm{plI}}^{2}}\\right)} \\tag{19.34}\n\\end{align*}\n$$\n\nThe dc gain of (19.34) is zero, indicating that the phase difference between the input and divider output will eventually converge to zero.\n\nWe can also correlate small changes in the phase of the input and output clocks using:\n\n$$\n\\begin{equation*}\nH(s)=\\frac{\\phi(s)}{\\phi_{\\text {in }}(s)}=\\frac{N\\left(1+s / \\omega_{z}\\right)}{1+\\frac{s}{\\omega_{z}}+\\frac{s^{2}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.35}\n\\end{equation*}\n$$\n\nThe transfer function $\\mathrm{H}(\\mathrm{s})$ is known as the phase transfer function or jitter transfer function of the PLL. The dc gain of $\\mathrm{H}(\\mathrm{s})$ is N, implying that a small input phase change, $\\Delta \\phi_{\\text {in }}$, results in an output phase change of $N \\Delta \\phi$ after an initial transient. Since the output frequency is N times larger, this indicates that the input and output clocks are同步.\n\nFor a first-order loop filter, both (19.34) and (19.35) are second-order transfer functions, making the PLL a second-order system. Matching the denominator to the general form $1+s /\\left(\\omega_{r} Q\\right)+s^{2} / \\omega_{r}^{2}$ shows that the loop has a resonant frequency $\\omega_{\\mathrm{r}}=\\omega_{\\mathrm{pll}}$ and a Q-factor given by:\n\n$$\n\\begin{equation*}\n\\mathrm{Q}=\\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}} \\tag{19.36}\n\\end{equation*}\n$$\n\nNote that if $\\omega_{\\mathrm{z}}$ is allowed to increase indefinitely (i.e., the zero is removed from the loop filter, making it a pure integrator, $\\mathrm{K}_{\\mathrm{Ip}} / \\mathrm{s}$), the poles of (19.35) approach the unit circle. Hence, the zero is necessary to ensure PLL stability.\n\nIf $\\omega_{\\mathrm{z}} \\gg \\omega_{\\text {pII }}$, the loop will be underdamped, leading to poor tracking behavior. For instance, in Fig. 19.9, a significant overshoot is observed in the transient step response for $\\mathrm{Q}=1.8$. This implies a longer delay in achieving lock and larger transient phase discrepancies between input and output. Additionally, substantial peaking is seen in the magnitude response, known as jitter peaking, which is generally undesirable as it amplifies noise within a specific frequency band.\n\n**Graph Description (a):**\nThe graph labeled \"(a)\" depicts the time-domain step response of a closed-loop phase-locked loop (PLL) system for various Q values. The x-axis represents time, and the y-axis shows the step response amplitude on a linear scale.\n\nKey features include:\n- Three curves corresponding to Q = 1.8, Q = 0.5, and Q = 0.1, illustrating different damping effects.\n- For Q = 1.8, the curve shows significant overshoot, indicating an underdamped system with substantial oscillation before settling.\n- For Q = 0.5, overshoot is reduced, suggesting a critically damped or slightly underdamped response with quicker stabilization.\n- For Q = 0.1, the response is overdamped with no overshoot, smoothly approaching the steady state without oscillations.\n\nThis graph highlights the trade-offs in PLL design between response speed and overshoot, with Q = 0.5 often being a balanced choice.\n\n**Graph Description (b):**\nThe graph labeled \"(b)\" shows the time-domain step response for a second-order PLL model. The x-axis is time, and the y-axis is the step response magnitude. Three curves represent different Q-factors: Q = 1.8, Q = 0.5, and Q = 0.1.\n\nKey aspects include:\n- A time-domain waveform graph illustrating the step response of a PLL system.\n- The x-axis is labeled \"Time,\" and the y-axis is labeled \"Step Response.\"\n- No specific units are provided, but the graph is on a linear scale.\n- For Q = 1.8, the response exhibits large overshoot, indicating an underdamped system.\n- For Q = 0.5, overshoot is moderate, reflecting a more critically damped response.\n- For Q = 0.1, the response is overdamped with no overshoot, indicating slower rise to steady state.\n\nThese characteristics illustrate the impact of different Q-factors on the PLL system's time-domain behavior.\n\nFig. 19.9 shows closed-loop PLL responses for a second-order model, H(s), with equivalent bandwidth but different Q values: (a) time-domain step response; (b) frequency-domain jitter transfer function magnitude response.\n\nWith $\\mathrm{Q}=0.5$, although overshoot and jitter peaking are still present, they are significantly reduced. This is a common design choice, resulting in a closed-loop response with $\\omega_{\\mathrm{z}}=\\omega_{\\text {pII }} / 2$ and coincident real poles at $-\\omega_{\\text {pII }}$.\n\n$$\n\\begin{equation*}\nH(s)=\\frac{N\\left(1+s / \\omega_{\\mathrm{z}}\\right)}{\\left(1+s / \\omega_{\\mathrm{pII}}\\right)^{2}} \\tag{19.37}\n\\end{equation*}\n$$\n\nThe 3-dB bandwidth of (19.37) is:\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=2.5 \\omega_{\\mathrm{pII}} \\tag{19.38}\n\\end{equation*}\n$$\n\nKey Point: Designing a second-order PLL with $Q=0.5$ provides good transient settling behavior without excessively spreading the loop filter time constants. A design with $Q=0.1$ offers even better tracking but typically requires a larger loop-filter time constant for the same loop bandwidth.\n\nAnother option is to use $\\mathrm{Q} \\ll 0.5$, which further improves transient response and reduces jitter peaking. For example, with $Q=0.1\\left(\\omega_{z}=0.1 \\omega_{\\text {pII }}\\right)$, less than 0.1 dB of jitter peaking is observed in the magnitude response. With $\\mathrm{Q} \\ll 0.5$, the PLL's second-order response can be approximated as $1+\\mathrm{s} /\\left(\\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)+\\mathrm{s}^{2} / \\omega_{\\mathrm{pII}}^{2} \\cong$ $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)\\left(1+\\mathrm{s} Q / \\omega_{\\mathrm{pII}}\\right)$. Since $\\omega_{0} \\mathrm{Q}=\\omega_{\\mathrm{plI}} Q=\\omega_{z}$, the first term equals $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{z}}\\right)$, which cancels the zero in the numerator of (19.35). With finite $\\mathrm{Q} \\ll 0.5$, the cancellation is approximate, and the closed-loop PLL response can be estimated from a first-order model:\n\n$$\n\\begin{equation*}\n\\mathrm{H}(\\mathrm{~s}) \\cong \\frac{\\mathrm{N}}{1+\\frac{\\mathrm{S} \\omega_{z}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.39}\n\\end{equation*}\n$$\n\nhaving a 3-dB bandwidth:\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=\\omega_{\\mathrm{pII}}^{2} / \\omega_{\\mathrm{z}}=\\omega_{\\mathrm{pII}} / \\mathrm{Q} \\tag{19.40}\n\\end{equation*}\n$$\n\nand a settling time constant:\n\n$$\n\\begin{equation*}\n\\tau \\cong \\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}^{2}}=\\frac{\\mathrm{Q}}{\\omega_{\\mathrm{plI}}} \\tag{19.41}\n\\end{equation*}\n$$\n\nComparing two PLLs with the same closed-loop bandwidth, one with $\\mathrm{Q}=0.1$ and the other with $\\mathrm{Q}=0.5$, we see that the design with $Q=0.1$ offers better tracking but results in a $\\omega_{z}$ value about 20 times smaller. This low-frequency zero demands a relatively large time-constant in the loop filter, often requiring off-chip components.\n\n#### EXAMPLE 19.4\n\nSketch the Bode plot of an open-loop second-order PLL response, $L(s)$. What is the phase margin with $\\mathrm{Q}=0.5$ and $Q=0.1$?\n\n#### Solution\n\nThe open-loop response $\\mathrm{L}(\\mathrm{s})$ in (19.33) has two poles at the origin—one from the loop filter and the other from the VCO, whose output phase is the integral of its frequency. It also has one zero at $-\\omega_{z}$. A Bode plot is sketched in Fig. 19.10. The phase response is given by $-180^{\\circ}+\\operatorname{atan}\\left(\\omega / \\omega_{z}\\right)$, and the phase margin is simply atan $\\left(\\omega_{\\mathrm{t}} / \\omega_{z}\\right)$. Using (19.33) and solving for $\\left|L\\left(j \\omega_{\\mathrm{t}}\\right)\\right|^{2}=1$, it can be shown that:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{t}}=\\frac{\\omega_{\\mathrm{pll}}}{\\sqrt{2}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}} \\tag{19.42}\n\\end{equation*}\n$$\n\nand the phase margin is:\n\n$$\n\\begin{equation*}\n\\text { Phase Margin }=\\operatorname{atan}\\left(\\frac{1}{\\sqrt{2} \\mathrm{Q}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}}\\right) \\tag{19.43}\n\\end{equation*}\n$$\n\nSubstituting into (19.43) reveals a phase margin of $76^{\\circ}$ when $Q=0.5$. With $Q \\ll 1$, (19.42) simplifies to $\\omega_{\\mathrm{t}} \\cong \\omega_{\\text {pII }} / Q=\\omega_{\\text {pII }}^{2} / \\omega_{\\mathrm{z}}$, and the phase margin becomes:\n\n$$\n\\begin{equation*}\n\\text { Phase Margin } \\cong \\operatorname{atan}\\left(\\frac{\\omega_{\\text {pII }}^{2}}{\\omega_{\\mathrm{z}}^{2}}\\right)=\\operatorname{atan}\\left(\\frac{1}{Q^{2}}\\right) \\tag{19.44}\n\\end{equation*}\n$$\n\nEquation (19.44) shows a phase margin very close to $90^{\\circ}$ when $Q=0.1$. Note that in practice, additional poles in the PLL (e.g., introduced by the capacitor $\\mathrm{C}_{2}$ in the charge-pump loop filter of Fig. 19.7) will reduce the phase margin from these values."
},
{
    "text": "Presume the loop filter has the transfer function specified in (19.24). Define the loop constant in units of rad/s as follows:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{plI}}=\\sqrt{\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{p}} \\mathrm{~K}_{\\mathrm{osc}}}{\\mathrm{~N}}} \\tag{19.32}\n\\end{equation*}\n$$\n\nBy substituting (19.24) and (19.32) into (19.30) and (19.31) and rearranging, we obtain:\n\n$$\n\\begin{align*}\n\\mathrm{L}(\\mathrm{~s}) & =\\frac{\\omega_{\\mathrm{pll}}^{2}}{\\mathrm{~s}^{2}} \\cdot\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}\\right)  \\tag{19.33}\\\\\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})} & =\\frac{1}{\\omega_{\\mathrm{plI}}^{2}} \\cdot \\frac{\\mathrm{~s}^{2}}{\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}+\\frac{\\mathrm{s}^{2}}{\\omega_{\\mathrm{plI}}^{2}}\\right)} \\tag{19.34}\n\\end{align*}\n$$\n\nThe dc gain of (19.34) is zero, indicating that the phase difference between the input and divider output will eventually converge to zero.\n\nWe can also correlate minor variations in the phase of the input and output clocks.\n\n$$\n\\begin{equation*}\nH(s)=\\frac{\\phi(s)}{\\phi_{\\text {in }}(s)}=\\frac{N\\left(1+s / \\omega_{z}\\right)}{1+\\frac{s}{\\omega_{z}}+\\frac{s^{2}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.35}\n\\end{equation*}\n$$\n\nThe transfer function $\\mathrm{H}(\\mathrm{s})$ can be termed the phase transfer function or jitter transfer function of the PLL. The dc gain of $\\mathrm{H}(\\mathrm{s})$ is N, implying that a small change in the input phase, $\\Delta \\phi_{\\text {in }}$, results in an output phase change (after an initial transient) of $N \\Delta \\phi$. Since the output frequency is N times higher, this indicates that the input and output clocks are同步.\n\nIn the case of a first-order loop filter, both (19.34) and (19.35) are second-order transfer functions, making the PLL a second-order system. Equating the denominator to the general form $1+s /\\left(\\omega_{r} Q\\right)+s^{2} / \\omega_{r}^{2}$ shows that the loop has a resonant frequency $\\omega_{\\mathrm{r}}=\\omega_{\\mathrm{pll}}$ and a Q-factor ${ }^{4}$ given by\n\n$$\n\\begin{equation*}\n\\mathrm{Q}=\\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}} \\tag{19.36}\n\\end{equation*}\n$$\n\nNote that if $\\omega_{\\mathrm{z}}$ is permitted to increase indefinitely (i.e., the zero is removed from the loop filter, making it a pure integrator, $\\mathrm{K}_{\\mathrm{Ip}} / \\mathrm{s}$), the poles of (19.35) approach the unit circle. Thus, the zero is necessary to ensure the stability of the PLL.\n\nIf $\\omega_{\\mathrm{z}} \\gg \\omega_{\\text {pII }}$, the loop will be underdamped, leading to poor tracking behavior. For instance, in Fig. 19.9, a significant overshoot is observed in the transient step response for $\\mathrm{Q}=1.8$. This implies a longer delay in achieving lock and larger transient differences between the input and output phase. Additionally, considerable peaking is seen in the magnitude response, known as jitter peaking, which is generally undesirable as it amplifies noise within a specific frequency band.\n\n**Image Description (a):**\nThe graph labeled \"(a)\" depicts a time-domain step response for a closed-loop phase-locked loop (PLL) system, showing the system's reaction to a step input for various quality factor values, Q. The horizontal axis represents time, and the vertical axis shows the step response amplitude, plotted on a linear scale.\n\nKey features include:\n- Three distinct curves for different Q values: Q = 1.8, Q = 0.5, and Q = 0.1, illustrating varying damping effects.\n- For Q = 1.8, the curve shows significant overshoot, indicating an underdamped system with notable oscillations before settling.\n- For Q = 0.5, overshoot is reduced, suggesting a more critically damped response with quicker stabilization.\n- For Q = 0.1, the response is overdamped with no overshoot, smoothly approaching the steady state without oscillations.\n\nThis graph visually illustrates the trade-offs in PLL design between response speed and overshoot, with Q = 0.5 often being a balanced choice.\n\n**Image Description (b):**\nThe graph labeled \"(b)\" shows a time-domain step response for a second-order PLL model. The x-axis represents time, and the y-axis represents the step response magnitude. Three curves correspond to different Q-factors: Q = 1.8, Q = 0.5, and Q = 0.1.\n\nKey aspects include:\n- A time-domain waveform graph illustrating the step response of a PLL system.\n- The x-axis is labeled \"Time,\" and the y-axis is labeled \"Step Response,\" with no specific units but on a linear scale.\n- For Q = 1.8, the response exhibits large overshoot, indicating an underdamped system.\n- For Q = 0.5, overshoot is moderate, reflecting a more balanced response.\n- For Q = 0.1, the response is overdamped with minimal overshoot, indicating slower but stable rise.\n\nThe graph highlights the impact of different Q-factors on the PLL system's time-domain behavior.\n\nFig. 19.9 illustrates closed-loop PLL responses for the second-order model, H(s), with equivalent bandwidth but different Q values: (a) time-domain step response; (b) frequency-domain jitter transfer function magnitude response.\n\nWith $\\mathrm{Q}=0.5$, although overshoot and jitter peaking are still present, they are significantly reduced. ${ }^{5}$ This is a common design choice, resulting in a closed-loop response with $\\omega_{\\mathrm{z}}=\\omega_{\\text {pII }} / 2$ and coincident real poles at $-\\omega_{\\text {pII }}$.\n\n$$\n\\begin{equation*}\nH(s)=\\frac{N\\left(1+s / \\omega_{\\mathrm{z}}\\right)}{\\left(1+s / \\omega_{\\mathrm{pII}}\\right)^{2}} \\tag{19.37}\n\\end{equation*}\n$$\n\nThe 3-dB bandwidth of (19.37) is\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=2.5 \\omega_{\\mathrm{pII}} \\tag{19.38}\n\\end{equation*}\n$$\n\nKey Point: Designing a second-order PLL with $Q=0.5$ provides good transient settling behavior without excessive spread of loop filter time constants. A design with $Q=0.1$ offers even better tracking but generally requires a larger loop-filter time constant for the same loop bandwidth.\n\nAnother option is to use $\\mathrm{Q} \\ll 0.5$ for further improvements in transient response and reduced jitter peaking. For example, with $Q=0.1\\left(\\omega_{z}=0.1 \\omega_{\\text {pII }}\\right)$, less than 0.1 dB of jitter peaking is observed in the magnitude response. With $\\mathrm{Q} \\ll 0.5$, the PLL's second-order response can be approximated as $1+\\mathrm{s} /\\left(\\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)+\\mathrm{s}^{2} / \\omega_{\\mathrm{pII}}^{2} \\cong$ $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)\\left(1+\\mathrm{s} Q / \\omega_{\\mathrm{pII}}\\right)$. Since $\\omega_{0} \\mathrm{Q}=\\omega_{\\mathrm{plI}} Q=\\omega_{z}$, the first term equals $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{z}}\\right)$, which cancels the zero in the numerator of (19.35). With finite $\\mathrm{Q} \\ll 0.5$, the cancellation is approximate, and the closed-loop PLL response can be estimated from a first-order model,\n\n$$\n\\begin{equation*}\n\\mathrm{H}(\\mathrm{~s}) \\cong \\frac{\\mathrm{N}}{1+\\frac{\\mathrm{S} \\omega_{z}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.39}\n\\end{equation*}\n$$\n\n[^3]having a $3-\\mathrm{dB}$ bandwidth\n\\$\\$\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=\\omega_{\\mathrm{pII}}^{2} / \\omega_{\\mathrm{z}}=\\omega_{\\mathrm{pII}} / \\mathrm{Q} \\tag{19.40}\n\\end{equation*}\n$$\n\n$$\nand a settling time constant\n$$\n\n$$\n\\begin{equation*}\n\\tau \\cong \\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}^{2}}=\\frac{\\mathrm{Q}}{\\omega_{\\mathrm{plI}}} \\tag{19.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nComparing two PLLs with the same closed-loop bandwidth, one with $\\mathrm{Q}=0.1$ and the other with $\\mathrm{Q}=0.5$, we see that the design with $Q=0.1$ offers better tracking but results in a $\\omega_{z}$ value approximately 20 times smaller. This low-frequency zero necessitates a relatively large time-constant in the loop filter, often requiring off-chip components.\n\n#### EXAMPLE 19.4\n\nSketch the Bode plot of an open-loop second-order PLL response, $L(s)$. What is the phase margin with $\\mathrm{Q}=0.5$ and $Q=0.1$?\n\n#### Solution\n\nThe open-loop response $\\mathrm{L}(\\mathrm{s})$ in (19.33) has two poles at the origin—one from the loop filter and the other from the VCO, whose output phase is the integral of its frequency. It also has one zero at $-\\omega_{z}$. A Bode plot is sketched in Fig. 19.10. The phase response is given by $-180^{\\circ}+\\operatorname{atan}\\left(\\omega / \\omega_{z}\\right)$, and the phase margin is simply atan $\\left(\\omega_{\\mathrm{t}} / \\omega_{z}\\right)$. Using (19.33) and solving for $\\left|L\\left(j \\omega_{\\mathrm{t}}\\right)\\right|^{2}=1$, it can be shown that\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{t}}=\\frac{\\omega_{\\mathrm{pll}}}{\\sqrt{2}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}} \\tag{19.42}\n\\end{equation*}\n$$\n\nand the phase margin is\n\n$$\n\\begin{equation*}\n\\text { Phase Margin }=\\operatorname{atan}\\left(\\frac{1}{\\sqrt{2} \\mathrm{Q}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}}\\right) \\tag{19.43}\n\\end{equation*}\n$$\n\nSubstituting into (19.43) reveals a phase margin of $76^{\\circ}$ when $Q=0.5$. With $Q \\ll 1$, (19.42) simplifies to $\\omega_{\\mathrm{t}} \\cong \\omega_{\\text {pII }} / Q=\\omega_{\\text {pII }}^{2} / \\omega_{\\mathrm{z}}$, and the phase margin becomes\n\n$$\n\\begin{equation*}\n\\text { Phase Margin } \\cong \\operatorname{atan}\\left(\\frac{\\omega_{\\text {pII }}^{2}}{\\omega_{\\mathrm{z}}^{2}}\\right)=\\operatorname{atan}\\left(\\frac{1}{Q^{2}}\\right) \\tag{19.44}\n\\end{equation*}\n$$\n\nEquation (19.44) shows a phase margin very close to $90^{\\circ}$ when $Q=0.1$. Note that in practice, additional poles in the PLL (e.g., introduced by the capacitor $\\mathrm{C}_{2}$ in the charge-pump loop filter of Fig. 19.7) will reduce the phase margin from these values."
},
{
    "text": "Assume the loop filter has the transfer function as given in (19.24). Define the loop constant in units of rad/s as follows:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{plI}}=\\sqrt{\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{p}} \\mathrm{~K}_{\\mathrm{osc}}}{\\mathrm{~N}}} \\tag{19.32}\n\\end{equation*}\n$$\n\nBy substituting (19.24) and (19.32) into (19.30) and (19.31) and rearranging, we obtain:\n\n$$\n\\begin{align*}\n\\mathrm{L}(\\mathrm{~s}) & =\\frac{\\omega_{\\mathrm{pll}}^{2}}{\\mathrm{~s}^{2}} \\cdot\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}\\right)  \\tag{19.33}\\\\\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})} & =\\frac{1}{\\omega_{\\mathrm{plI}}^{2}} \\cdot \\frac{\\mathrm{~s}^{2}}{\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}+\\frac{\\mathrm{s}^{2}}{\\omega_{\\mathrm{plI}}^{2}}\\right)} \\tag{19.34}\n\\end{align*}\n$$\n\nThe dc gain of (19.34) is zero, indicating that the phase difference between the input and divider output will eventually converge to zero.\n\nWe can also relate small changes in the phase of the input and output clocks using:\n\n$$\n\\begin{equation*}\nH(s)=\\frac{\\phi(s)}{\\phi_{\\text {in }}(s)}=\\frac{N\\left(1+s / \\omega_{z}\\right)}{1+\\frac{s}{\\omega_{z}}+\\frac{s^{2}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.35}\n\\end{equation*}\n$$\n\nThe transfer function $\\mathrm{H}(\\mathrm{s})$ is known as the phase transfer function or jitter transfer function of the PLL. The dc gain of $\\mathrm{H}(\\mathrm{s})$ is N, meaning that a small input phase change, $\\Delta \\phi_{\\text {in }}$, results in an output phase change of $N \\Delta \\phi$. Since the output frequency is N times larger, this indicates that the input and output clocks are synchronized.\n\nFor a first-order loop filter, both (19.34) and (19.35) represent second-order transfer functions, making the PLL a second-order system. Matching the denominator to the general form $1+s /\\left(\\omega_{r} Q\\right)+s^{2} / \\omega_{r}^{2}$ shows that the loop has a resonant frequency $\\omega_{\\mathrm{r}}=\\omega_{\\mathrm{pll}}$ and a Q-factor given by:\n\n$$\n\\begin{equation*}\n\\mathrm{Q}=\\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}} \\tag{19.36}\n\\end{equation*}\n$$\n\nNote that if $\\omega_{\\mathrm{z}}$ increases indefinitely (i.e., the zero is removed from the loop filter, making it a pure integrator, $\\mathrm{K}_{\\mathrm{Ip}} / \\mathrm{s}$), the poles of (19.35) approach the unit circle. Thus, the zero is necessary for PLL stability.\n\nIf $\\omega_{\\mathrm{z}} \\gg \\omega_{\\text {pII }}$, the loop becomes underdamped, leading to poor tracking behavior. For instance, in Fig. 19.9, a significant overshoot is seen in the transient step response for $\\mathrm{Q}=1.8$. This implies a longer lock time and larger transient phase discrepancies between input and output. Additionally, notable peaking occurs in the magnitude response, known as jitter peaking, which is undesirable as it amplifies noise in the PLL within a specific frequency band.\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" depicts the time-domain step response of a closed-loop phase-locked loop (PLL) system for various quality factor, Q, values. The horizontal axis represents time, and the vertical axis shows the step response amplitude, both on a linear scale.\n\nKey aspects of the graph include:\n\n- Three distinct curves corresponding to different Q values: Q = 1.8, Q = 0.5, and Q = 0.1, illustrating varying damping effects.\n\n- For Q = 1.8, the curve shows substantial overshoot, indicating a highly underdamped system with significant oscillations before settling.\n\n- For Q = 0.5, overshoot is moderate, suggesting a critically damped or slightly underdamped response with quicker stabilization.\n\n- For Q = 0.1, the response is overdamped with no overshoot, smoothly approaching the steady-state value without oscillations.\n\nThis graph visually highlights the trade-offs in PLL design between response speed and overshoot, with Q = 0.5 often being a balanced choice for both fast response and minimal overshoot.\nimage_name:(b)\ndescription:The graph labeled \"(b)\" shows the time-domain step response for a second-order phase-locked loop (PLL) model. The x-axis represents time, and the y-axis represents the step response magnitude. Three curves are plotted, each corresponding to a different Q-factor: Q = 1.8, Q = 0.5, and Q = 0.1.\n\n1. **Graph Type and Function:**\n- This is a time-domain waveform graph illustrating the step response of a PLL system.\n\n2. **Axes Labels and Units:**\n- The x-axis is labeled \"Time,\" indicating the progression of time during the step response.\n- The y-axis is labeled \"Step Response,\" representing the magnitude of the response over time.\n- No specific units or scales are provided, but the graph is on a linear scale.\n\n3. **Overall Behavior and Trends:**\n- For Q = 1.8, the response exhibits a large overshoot, indicating an underdamped system with considerable oscillation before settling.\n- For Q = 0.5, the overshoot is reduced, indicating a more critically damped response with less oscillation.\n- For Q = 0.1, the response is overdamped with no overshoot, indicating a slower rise to the steady state without oscillation.\n\n4. **Key Features and Technical Details:**\n- The Q = 1.8 curve peaks significantly higher, showing the maximum overshoot.\n- The Q = 0.5 curve has a moderate peak, balancing speed and stability.\n- The Q = 0.1 curve rises gradually without a peak, emphasizing stability over speed.\n- These characteristics illustrate the impact of different Q-factors on the time-domain behavior of the PLL system.\n\n5. **Annotations and Specific Data Points:**\n- Each curve is annotated with its respective Q-factor value for clear differentiation.\n- The graph visually demonstrates the effect of different Q-factors on the PLL system's time-domain behavior.\n\nFig. 19.9 Closed-loop PLL responses for the second-order model, H(s), with equivalent bandwidth but different Q: (a) time-domain step response; (b) frequency-domain jitter transfer function magnitude response\n\nWith $\\mathrm{Q}=0.5$, although overshoot and jitter peaking are still present, they are significantly reduced. This is a common design choice, resulting in a closed-loop response with $\\omega_{\\mathrm{z}}=\\omega_{\\text {pII }} / 2$ and coincident real poles at $-\\omega_{\\text {pII }}$.\n\n$$\n\\begin{equation*}\nH(s)=\\frac{N\\left(1+s / \\omega_{\\mathrm{z}}\\right)}{\\left(1+s / \\omega_{\\mathrm{pII}}\\right)^{2}} \\tag{19.37}\n\\end{equation*}\n$$\n\nThe 3-dB bandwidth of (19.37) is:\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=2.5 \\omega_{\\mathrm{pII}} \\tag{19.38}\n\\end{equation*}\n$$\n\nKey Point: Designing a second-order PLL with $Q=0.5$ provides good transient settling behavior without excessively spreading the loop filter time constants. A design with $Q=0.1$ offers even better tracking behavior but generally requires a larger loop-filter time constant for the same loop bandwidth.\n\nAnother option is to use $\\mathrm{Q} \\ll 0.5$ for further improvements in transient response and reduced jitter peaking. For example, with $Q=0.1\\left(\\omega_{z}=0.1 \\omega_{\\text {pII }}\\right)$, less than 0.1 dB of jitter peaking is observed in the magnitude response. With $\\mathrm{Q} \\ll 0.5$, the PLL second-order response can be approximated as $1+\\mathrm{s} /\\left(\\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)+\\mathrm{s}^{2} / \\omega_{\\mathrm{pII}}^{2} \\cong$ $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)\\left(1+\\mathrm{s} Q / \\omega_{\\mathrm{pII}}\\right)$. Since $\\omega_{0} \\mathrm{Q}=\\omega_{\\mathrm{plI}} Q=\\omega_{z}$, the first term equals $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{z}}\\right)$, which cancels the zero in the numerator of (19.35). With finite $\\mathrm{Q} \\ll 0.5$, the cancellation is approximate, and the closed-loop PLL response can be estimated from a first-order model:\n\n$$\n\\begin{equation*}\n\\mathrm{H}(\\mathrm{~s}) \\cong \\frac{\\mathrm{N}}{1+\\frac{\\mathrm{S} \\omega_{z}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.39}\n\\end{equation*}\n$$\n\n[^3]having a $3-\\mathrm{dB}$ bandwidth\n\\$\\$\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=\\omega_{\\mathrm{pII}}^{2} / \\omega_{\\mathrm{z}}=\\omega_{\\mathrm{pII}} / \\mathrm{Q} \\tag{19.40}\n\\end{equation*}\n$$\n\n$$\nand a settling time constant\n$$\n\n$$\n\\begin{equation*}\n\\tau \\cong \\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}^{2}}=\\frac{\\mathrm{Q}}{\\omega_{\\mathrm{plI}}} \\tag{19.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nComparing two PLLs with the same closed-loop bandwidth, one with $\\mathrm{Q}=0.1$ and the other with $\\mathrm{Q}=0.5$, we see that the design with $Q=0.1$ provides better tracking behavior but results in a $\\omega_{z}$ value approximately 20 times smaller. This low-frequency zero requires a relatively large time-constant in the loop filter, often necessitating off-chip components.\n\n#### EXAMPLE 19.4\n\nSketch the Bode plot of an open-loop second-order PLL response, $L(s)$. What is the phase margin with $\\mathrm{Q}=0.5$ and $Q=0.1$?\n\n#### Solution\n\nThe open-loop response $\\mathrm{L}(\\mathrm{s})$ in (19.33) has two poles at the origin—one from the loop filter and the other from the VCO, whose output phase is the integral of its frequency. It also has one zero at $-\\omega_{z}$. A Bode plot is sketched in Fig. 19.10. The phase response is given by $-180^{\\circ}+\\operatorname{atan}\\left(\\omega / \\omega_{z}\\right)$, and the phase margin is simply atan $\\left(\\omega_{\\mathrm{t}} / \\omega_{z}\\right)$. Using (19.33) and solving for $\\left|L\\left(j \\omega_{\\mathrm{t}}\\right)\\right|^{2}=1$, it can be shown that\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{t}}=\\frac{\\omega_{\\mathrm{pll}}}{\\sqrt{2}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}} \\tag{19.42}\n\\end{equation*}\n$$\n\nand the phase margin is\n\n$$\n\\begin{equation*}\n\\text { Phase Margin }=\\operatorname{atan}\\left(\\frac{1}{\\sqrt{2} \\mathrm{Q}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}}\\right) \\tag{19.43}\n\\end{equation*}\n$$\n\nSubstituting into (19.43) reveals a phase margin of $76^{\\circ}$ when $Q=0.5$. With $Q \\ll 1$, (19.42) simplifies to $\\omega_{\\mathrm{t}} \\cong \\omega_{\\text {pII }} / Q=\\omega_{\\text {pII }}^{2} / \\omega_{\\mathrm{z}}$, and the phase margin becomes\n\n$$\n\\begin{equation*}\n\\text { Phase Margin } \\cong \\operatorname{atan}\\left(\\frac{\\omega_{\\text {pII }}^{2}}{\\omega_{\\mathrm{z}}^{2}}\\right)=\\operatorname{atan}\\left(\\frac{1}{Q^{2}}\\right) \\tag{19.44}\n\\end{equation*}\n$$\n\nEquation (19.44) shows a phase margin very close to $90^{\\circ}$ when $Q=0.1$. Note that in practice, additional poles in the PLL (e.g., introduced by the capacitor $\\mathrm{C}_{2}$ in the charge-pump loop filter of Fig. 19.7) will reduce the phase margin from these values."
},
{
    "text": "Assume the loop filter has the transfer function specified in (19.24). Define the loop constant in units of rad/s as follows:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{plI}}=\\sqrt{\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{p}} \\mathrm{~K}_{\\mathrm{osc}}}{\\mathrm{~N}}} \\tag{19.32}\n\\end{equation*}\n$$\n\nBy substituting (19.24) and (19.32) into (19.30) and (19.31) and rearranging, we obtain:\n\n$$\n\\begin{align*}\n\\mathrm{L}(\\mathrm{~s}) & =\\frac{\\omega_{\\mathrm{pll}}^{2}}{\\mathrm{~s}^{2}} \\cdot\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}\\right)  \\tag{19.33}\\\\\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})} & =\\frac{1}{\\omega_{\\mathrm{plI}}^{2}} \\cdot \\frac{\\mathrm{~s}^{2}}{\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}+\\frac{\\mathrm{s}^{2}}{\\omega_{\\mathrm{plI}}^{2}}\\right)} \\tag{19.34}\n\\end{align*}\n$$\n\nThe dc gain of (19.34) is zero, indicating that the phase difference between the input and divider output will eventually converge to zero.\n\nWe can also relate small changes in the phase of the input and output clocks using:\n\n$$\n\\begin{equation*}\nH(s)=\\frac{\\phi(s)}{\\phi_{\\text {in }}(s)}=\\frac{N\\left(1+s / \\omega_{z}\\right)}{1+\\frac{s}{\\omega_{z}}+\\frac{s^{2}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.35}\n\\end{equation*}\n$$\n\nThe transfer function $\\mathrm{H}(\\mathrm{s})$ is known as the phase transfer function or jitter transfer function of the PLL. The dc gain of $\\mathrm{H}(\\mathrm{s})$ is N, implying that a small input phase change, $\\Delta \\phi_{\\text {in }}$, results in an output phase change of $N \\Delta \\phi$. Since the output frequency is N times larger, this indicates that the input and output clocks are tracking each other.\n\nFor a first-order loop filter, both (19.34) and (19.35) represent second-order transfer functions, making the PLL a second-order system. Matching the denominator to the general form $1+s /\\left(\\omega_{r} Q\\right)+s^{2} / \\omega_{r}^{2}$ shows that the loop has a resonant frequency $\\omega_{\\mathrm{r}}=\\omega_{\\mathrm{pll}}$ and a Q-factor given by:\n\n$$\n\\begin{equation*}\n\\mathrm{Q}=\\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}} \\tag{19.36}\n\\end{equation*}\n$$\n\nNote that if $\\omega_{\\mathrm{z}}$ increases indefinitely (i.e., the zero is removed from the loop filter, making it a pure integrator, $\\mathrm{K}_{\\mathrm{Ip}} / \\mathrm{s}$), the poles of (19.35) approach the unit circle. Therefore, the zero is necessary to ensure PLL stability.\n\nIf $\\omega_{\\mathrm{z}} \\gg \\omega_{\\text {pII }}$, the loop becomes underdamped, leading to poor tracking behavior. For instance, in Fig. 19.9, a significant overshoot is observed in the transient step response for $\\mathrm{Q}=1.8$. This implies a longer time to achieve lock and larger transient phase discrepancies between input and output. Additionally, substantial peaking is seen in the magnitude response, known as jitter peaking, which is undesirable due to noise amplification within a specific frequency band.\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates the time-domain step response of a closed-loop phase-locked loop (PLL) system for various quality factor (Q) values. The x-axis represents time, and the y-axis shows the step response amplitude, both on a linear scale.\n\nKey characteristics include:\n\n- Three distinct curves corresponding to different Q values: Q = 1.8, Q = 0.5, and Q = 0.1, demonstrating the system's response under varying damping conditions.\n\n- For Q = 1.8, the curve shows a notable overshoot, indicating a highly underdamped system with significant oscillations before settling.\n\n- For Q = 0.5, the overshoot is reduced, suggesting a more critically damped response with quicker stabilization.\n\n- For Q = 0.1, the response is overdamped, with no overshoot, smoothly approaching the steady-state value without oscillations.\n\nThis graph visually highlights the trade-offs in PLL design between response speed and overshoot, with Q = 0.5 often being a balanced choice.\n\nimage_name:(b)\ndescription:The graph labeled \"(b)\" depicts the time-domain step response for a second-order PLL model. The x-axis represents time, and the y-axis shows the step response magnitude. Three curves are shown, each corresponding to a different Q-factor: Q = 1.8, Q = 0.5, and Q = 0.1.\n\n1. **Graph Type and Function:**\n- A time-domain waveform graph displaying the step response of a PLL system.\n\n2. **Axes Labels and Units:**\n- The x-axis is labeled \"Time,\" indicating the timeline of the step response.\n- The y-axis is labeled \"Step Response,\" representing the response magnitude over time.\n- The graph is on a linear scale without specific units.\n\n3. **Overall Behavior and Trends:**\n- For Q = 1.8, the response exhibits a large overshoot, indicating an underdamped system with considerable oscillation.\n- For Q = 0.5, the overshoot is moderate, indicating a more critically damped response.\n- For Q = 0.1, the response is overdamped with no overshoot, indicating a slower but stable rise to the steady state.\n\n4. **Key Features and Technical Details:**\n- The Q = 1.8 curve shows the highest peak, indicating maximum overshoot.\n- The Q = 0.5 curve has a moderate peak, balancing speed and stability.\n- The Q = 0.1 curve rises gradually without peaking, emphasizing stability.\n- These characteristics illustrate the impact of different Q-factors on the PLL system's time-domain behavior.\n\n5. **Annotations and Specific Data Points:**\n- Each curve is annotated with its respective Q-factor value for clear differentiation.\n- The graph visually demonstrates the effect of different Q-factors on the PLL system's time-domain response.\n\nFig. 19.9 shows closed-loop PLL responses for the second-order model, H(s), with equivalent bandwidth but different Q values: (a) time-domain step response; (b) frequency-domain jitter transfer function magnitude response.\n\nWith $\\mathrm{Q}=0.5$, although overshoot and jitter peaking are still present, they are significantly reduced. This is a common design choice, resulting in a closed-loop response with $\\omega_{\\mathrm{z}}=\\omega_{\\text {pII }} / 2$ and coincident real poles at $-\\omega_{\\text {pII }}$.\n\n$$\n\\begin{equation*}\nH(s)=\\frac{N\\left(1+s / \\omega_{\\mathrm{z}}\\right)}{\\left(1+s / \\omega_{\\mathrm{pII}}\\right)^{2}} \\tag{19.37}\n\\end{equation*}\n$$\n\nThe 3-dB bandwidth of (19.37) is:\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=2.5 \\omega_{\\mathrm{pII}} \\tag{19.38}\n\\end{equation*}\n$$\n\nKey Point: A second-order PLL design with $Q=0.5$ provides good transient settling behavior without excessively spreading the loop filter time constants. A design with $Q=0.1$ offers even better tracking but generally requires a larger loop-filter time constant for the same loop bandwidth.\n\nAnother option is to use $\\mathrm{Q} \\ll 0.5$ for further improvements in transient response and reduced jitter peaking. For example, with $Q=0.1\\left(\\omega_{z}=0.1 \\omega_{\\text {pII }}\\right)$, less than 0.1 dB of jitter peaking is observed in the magnitude response. With $\\mathrm{Q} \\ll 0.5$, the PLL's second-order response can be approximated as $1+\\mathrm{s} /\\left(\\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)+\\mathrm{s}^{2} / \\omega_{\\mathrm{pII}}^{2} \\cong$ $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)\\left(1+\\mathrm{s} Q / \\omega_{\\mathrm{pII}}\\right)$. Since $\\omega_{0} \\mathrm{Q}=\\omega_{\\mathrm{plI}} Q=\\omega_{z}$, the first term equals $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{z}}\\right)$, which cancels the zero in the numerator of (19.35). With finite $\\mathrm{Q} \\ll 0.5$, the cancellation is approximate, and the closed-loop PLL response can be estimated from a first-order model:\n\n$$\n\\begin{equation*}\n\\mathrm{H}(\\mathrm{~s}) \\cong \\frac{\\mathrm{N}}{1+\\frac{\\mathrm{S} \\omega_{z}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.39}\n\\end{equation*}\n$$\n\n[^3]having a $3-\\mathrm{dB}$ bandwidth\n\\$\\$\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=\\omega_{\\mathrm{pII}}^{2} / \\omega_{\\mathrm{z}}=\\omega_{\\mathrm{pII}} / \\mathrm{Q} \\tag{19.40}\n\\end{equation*}\n$$\n\n$$\nand a settling time constant\n$$\n\n$$\n\\begin{equation*}\n\\tau \\cong \\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}^{2}}=\\frac{\\mathrm{Q}}{\\omega_{\\mathrm{plI}}} \\tag{19.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nComparing two PLLs with the same closed-loop bandwidth, one with $\\mathrm{Q}=0.1$ and the other with $\\mathrm{Q}=0.5$, we see that the design with $Q=0.1$ provides better tracking but results in a $\\omega_{z}$ value approximately 20 times smaller. This low-frequency zero necessitates a relatively large time-constant in the loop filter, often requiring off-chip components.\n\n#### EXAMPLE 19.4\n\nSketch the Bode plot of an open-loop second-order PLL response, $L(s)$. What is the phase margin with $\\mathrm{Q}=0.5$ and $Q=0.1$?\n\n#### Solution\n\nThe open-loop response $\\mathrm{L}(\\mathrm{s})$ in (19.33) has two poles at the origin—one from the loop filter and the other from the VCO, whose output phase is the integral of its frequency. It also has one zero at $-\\omega_{z}$. A Bode plot is sketched in Fig. 19.10. The phase response is given by $-180^{\\circ}+\\operatorname{atan}\\left(\\omega / \\omega_{z}\\right)$, and the phase margin is simply atan $\\left(\\omega_{\\mathrm{t}} / \\omega_{z}\\right)$. Using (19.33) and solving for $\\left|L\\left(j \\omega_{\\mathrm{t}}\\right)\\right|^{2}=1$, it can be shown that\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{t}}=\\frac{\\omega_{\\mathrm{pll}}}{\\sqrt{2}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}} \\tag{19.42}\n\\end{equation*}\n$$\n\nand the phase margin is\n\n$$\n\\begin{equation*}\n\\text { Phase Margin }=\\operatorname{atan}\\left(\\frac{1}{\\sqrt{2} \\mathrm{Q}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}}\\right) \\tag{19.43}\n\\end{equation*}\n$$\n\nSubstituting into (19.43) reveals a phase margin of $76^{\\circ}$ for $Q=0.5$. With $Q \\ll 1$, (19.42) simplifies to $\\omega_{\\mathrm{t}} \\cong \\omega_{\\text {pII }} / Q=\\omega_{\\text {pII }}^{2} / \\omega_{\\mathrm{z}}$, and the phase margin becomes\n\n$$\n\\begin{equation*}\n\\text { Phase Margin } \\cong \\operatorname{atan}\\left(\\frac{\\omega_{\\text {pII }}^{2}}{\\omega_{\\mathrm{z}}^{2}}\\right)=\\operatorname{atan}\\left(\\frac{1}{Q^{2}}\\right) \\tag{19.44}\n\\end{equation*}\n$$\n\nEquation (19.44) shows a phase margin very close to $90^{\\circ}$ for $Q=0.1$. Note that in practice, additional poles in the PLL (e.g., introduced by the capacitor $\\mathrm{C}_{2}$ in the charge-pump loop filter of Fig. 19.7) will reduce the phase margin from these values."
},
{
    "text": "Assume the loop filter has the transfer function specified in (19.24). Define the loop constant in units of rad/s as follows:\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{plI}}=\\sqrt{\\frac{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{p}} \\mathrm{~K}_{\\mathrm{osc}}}{\\mathrm{~N}}} \\tag{19.32}\n\\end{equation*}\n$$\n\nBy substituting (19.24) and (19.32) into (19.30) and (19.31) and rearranging, we obtain:\n\n$$\n\\begin{align*}\n\\mathrm{L}(\\mathrm{~s}) & =\\frac{\\omega_{\\mathrm{pll}}^{2}}{\\mathrm{~s}^{2}} \\cdot\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}\\right)  \\tag{19.33}\\\\\n\\frac{\\phi_{\\mathrm{d}}(\\mathrm{~s})}{\\phi_{\\mathrm{in}}(\\mathrm{~s})} & =\\frac{1}{\\omega_{\\mathrm{plI}}^{2}} \\cdot \\frac{\\mathrm{~s}^{2}}{\\left(1+\\frac{\\mathrm{s}}{\\omega_{\\mathrm{z}}}+\\frac{\\mathrm{s}^{2}}{\\omega_{\\mathrm{plI}}^{2}}\\right)} \\tag{19.34}\n\\end{align*}\n$$\n\nThe dc gain of (19.34) is zero, indicating that the phase difference between the input and divider output will eventually converge to zero.\n\nWe can also relate minor changes in the phase of the input and output clocks using:\n\n$$\n\\begin{equation*}\nH(s)=\\frac{\\phi(s)}{\\phi_{\\text {in }}(s)}=\\frac{N\\left(1+s / \\omega_{z}\\right)}{1+\\frac{s}{\\omega_{z}}+\\frac{s^{2}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.35}\n\\end{equation*}\n$$\n\nThe transfer function $\\mathrm{H}(\\mathrm{s})$ is known as the phase transfer function or jitter transfer function of the PLL. The dc gain of $\\mathrm{H}(\\mathrm{s})$ is N, meaning that a small input phase change, $\\Delta \\phi_{\\text {in }}$, results in an output phase change of $N \\Delta \\phi$ after an initial transient. Since the output frequency is N times higher, this indicates that the input and output clocks are synchronized.\n\nFor a first-order loop filter, both (19.34) and (19.35) represent second-order transfer functions, making the PLL a second-order system. Matching the denominator to the general form $1+s /\\left(\\omega_{r} Q\\right)+s^{2} / \\omega_{r}^{2}$ shows that the loop has a resonant frequency $\\omega_{\\mathrm{r}}=\\omega_{\\mathrm{pll}}$ and a Q-factor ${ }^{4}$ given by:\n\n$$\n\\begin{equation*}\n\\mathrm{Q}=\\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}} \\tag{19.36}\n\\end{equation*}\n$$\n\nNote that if $\\omega_{\\mathrm{z}}$ is permitted to increase indefinitely (i.e., the zero is removed from the loop filter, making it a pure integrator, $\\mathrm{K}_{\\mathrm{Ip}} / \\mathrm{s}$), the poles of (19.35) approach the unit circle. Thus, the zero is essential for PLL stability.\n\nIf $\\omega_{\\mathrm{z}} \\gg \\omega_{\\text {pII }}$, the loop becomes underdamped, leading to poor tracking behavior. For instance, in Fig. 19.9, a significant overshoot is observed in the transient step response for $\\mathrm{Q}=1.8$. This implies a longer delay in achieving lock and larger transient phase discrepancies between input and output. Additionally, substantial peaking is seen in the magnitude response, known as jitter peaking, which is undesirable due to noise amplification within a specific frequency band.\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates the time-domain step response of a closed-loop phase-locked loop (PLL) system for various quality factor, Q, values. The horizontal axis represents time, and the vertical axis shows the step response amplitude, both on a linear scale.\n\nKey characteristics include:\n\n- Three distinct curves for different Q values: Q = 1.8, Q = 0.5, and Q = 0.1, demonstrating varying system damping responses.\n\n- For Q = 1.8, the curve shows a notable overshoot, indicating a highly underdamped system with significant oscillation before stabilizing.\n\n- For Q = 0.5, the overshoot is moderate, indicating a critically damped or slightly underdamped response with quicker stabilization.\n\n- For Q = 0.1, the response is overdamped with no overshoot, smoothly approaching the steady-state value without oscillations.\n\nThis graph highlights the trade-offs in PLL design between response speed and overshoot, with Q = 0.5 often being a balanced choice for rapid response with minimal overshoot.\nimage_name:(b)\ndescription:The graph labeled \"(b)\" depicts the time-domain step response for a second-order PLL model. The x-axis denotes time, and the y-axis represents the step response magnitude. Three curves correspond to different Q-factors: Q = 1.8, Q = 0.5, and Q = 0.1.\n\n1. **Graph Type and Function:**\n- A time-domain waveform graph showing the step response of a PLL system.\n\n2. **Axes Labels and Units:**\n- The x-axis is labeled \"Time,\" indicating the temporal progression of the step response.\n- The y-axis is labeled \"Step Response,\" representing the response magnitude over time.\n- No specific units or scales are given, but the graph is on a linear scale.\n\n3. **Overall Behavior and Trends:**\n- For Q = 1.8, the response exhibits a large overshoot, indicating an underdamped system with considerable oscillation before settling.\n- For Q = 0.5, the overshoot is reduced, suggesting a more critically damped response with less oscillation.\n- For Q = 0.1, the response is overdamped with no overshoot, indicating a slower rise to the steady state without oscillation.\n\n4. **Key Features and Technical Details:**\n- The Q = 1.8 curve peaks significantly higher, showing maximum overshoot.\n- The Q = 0.5 curve has a moderate peak, balancing speed and stability.\n- The Q = 0.1 curve rises gradually without peaking, emphasizing stability.\n- These characteristics illustrate the impact of different Q-factors on the PLL system's time-domain behavior.\n\n5. **Annotations and Specific Data Points:**\n- Each curve is labeled with its respective Q-factor value for clear differentiation.\n- The graph visually demonstrates how different Q-factors affect the PLL system's time-domain response.\n\nFig. 19.9 Closed-loop PLL responses for the second-order model, H(s), with equivalent bandwidth but different Q: (a) time-domain step response; (b) frequency-domain jitter transfer function magnitude response\n\nWith $\\mathrm{Q}=0.5$, although overshoot and jitter peaking are still present, they are significantly reduced. ${ }^{5}$ This is a popular design choice, resulting in a closed-loop response with $\\omega_{\\mathrm{z}}=\\omega_{\\text {pII }} / 2$ and coincident real poles at $-\\omega_{\\text {pII }}$.\n\n$$\n\\begin{equation*}\nH(s)=\\frac{N\\left(1+s / \\omega_{\\mathrm{z}}\\right)}{\\left(1+s / \\omega_{\\mathrm{pII}}\\right)^{2}} \\tag{19.37}\n\\end{equation*}\n$$\n\nThe 3-dB bandwidth of (19.37) is:\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=2.5 \\omega_{\\mathrm{pII}} \\tag{19.38}\n\\end{equation*}\n$$\n\nKey Point: Designing a second-order PLL with $Q=0.5$ provides good transient settling behavior without excessively spreading the loop filter time constants. A design with $Q=0.1$ offers even better tracking behavior but typically requires a larger loop-filter time constant for the same loop bandwidth.\n\nAnother option is to use $\\mathrm{Q} \\ll 0.5$ for further improvements in transient response and reduced jitter peaking. For example, with $Q=0.1\\left(\\omega_{z}=0.1 \\omega_{\\text {pII }}\\right)$, less than 0.1 dB of jitter peaking is observed in the magnitude response. With $\\mathrm{Q} \\ll 0.5$, the PLL second-order response can be approximated as $1+\\mathrm{s} /\\left(\\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)+\\mathrm{s}^{2} / \\omega_{\\mathrm{pII}}^{2} \\cong$ $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{pII}} \\mathrm{Q}\\right)\\left(1+\\mathrm{s} Q / \\omega_{\\mathrm{pII}}\\right)$. Since $\\omega_{0} \\mathrm{Q}=\\omega_{\\mathrm{plI}} Q=\\omega_{z}$, the first term equals $\\left(1+\\mathrm{S} / \\omega_{\\mathrm{z}}\\right)$, which cancels the zero in the numerator of (19.35). With finite $\\mathrm{Q} \\ll 0.5$, the cancellation is approximate, and the closed-loop PLL response can be estimated from a first-order model:\n\n$$\n\\begin{equation*}\n\\mathrm{H}(\\mathrm{~s}) \\cong \\frac{\\mathrm{N}}{1+\\frac{\\mathrm{S} \\omega_{z}}{\\omega_{\\mathrm{plI}}^{2}}} \\tag{19.39}\n\\end{equation*}\n$$\n\n[^3]having a $3-\\mathrm{dB}$ bandwidth\n\\$\\$\n\n$$\n\\begin{equation*}\n\\omega_{3 \\mathrm{~dB}}=\\omega_{\\mathrm{pII}}^{2} / \\omega_{\\mathrm{z}}=\\omega_{\\mathrm{pII}} / \\mathrm{Q} \\tag{19.40}\n\\end{equation*}\n$$\n\n$$\nand a settling time constant\n$$\n\n$$\n\\begin{equation*}\n\\tau \\cong \\frac{\\omega_{\\mathrm{z}}}{\\omega_{\\mathrm{plI}}^{2}}=\\frac{\\mathrm{Q}}{\\omega_{\\mathrm{plI}}} \\tag{19.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nComparing two PLLs with the same closed-loop bandwidth, one with $\\mathrm{Q}=0.1$ and the other with $\\mathrm{Q}=0.5$, we see that the design with $Q=0.1$ provides better tracking behavior but results in a value of $\\omega_{z}$ approximately 20 times smaller. This low-frequency zero necessitates a relatively large time-constant in the loop filter, often requiring off-chip components.\n\n#### EXAMPLE 19.4\n\nSketch the Bode plot of an open-loop second-order PLL response, $L(s)$. What is the phase margin with $\\mathrm{Q}=0.5$ and $Q=0.1$ ?\n\n#### Solution\n\nThe open-loop response $\\mathrm{L}(\\mathrm{s})$ in (19.33) has two poles at the origin—one from the loop filter and the other from the VCO, whose output phase is the integral of its frequency. It also has one zero at $-\\omega_{z}$. A Bode plot is sketched in Fig. 19.10. The phase response is given by $-180^{\\circ}+\\operatorname{atan}\\left(\\omega / \\omega_{z}\\right)$, and the phase margin is simply atan $\\left(\\omega_{\\mathrm{t}} / \\omega_{z}\\right)$. Using (19.33) and solving for $\\left|L\\left(j \\omega_{\\mathrm{t}}\\right)\\right|^{2}=1$, it can be shown that\n\n$$\n\\begin{equation*}\n\\omega_{\\mathrm{t}}=\\frac{\\omega_{\\mathrm{pll}}}{\\sqrt{2}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}} \\tag{19.42}\n\\end{equation*}\n$$\n\nand the phase margin is\n\n$$\n\\begin{equation*}\n\\text { Phase Margin }=\\operatorname{atan}\\left(\\frac{1}{\\sqrt{2} \\mathrm{Q}} \\cdot \\sqrt{\\frac{1}{\\mathrm{Q}^{2}}+\\sqrt{\\frac{1}{\\mathrm{Q}^{4}}+4}}\\right) \\tag{19.43}\n\\end{equation*}\n$$\n\nSubstituting into (19.43) reveals a phase margin of $76^{\\circ}$ when $Q=0.5$. With $Q \\ll 1$, (19.42) simplifies to $\\omega_{\\mathrm{t}} \\cong \\omega_{\\text {pII }} / Q=\\omega_{\\text {pII }}^{2} / \\omega_{\\mathrm{z}}$, and the phase margin becomes\n\n$$\n\\begin{equation*}\n\\text { Phase Margin } \\cong \\operatorname{atan}\\left(\\frac{\\omega_{\\text {pII }}^{2}}{\\omega_{\\mathrm{z}}^{2}}\\right)=\\operatorname{atan}\\left(\\frac{1}{Q^{2}}\\right) \\tag{19.44}\n\\end{equation*}\n$$\n\nEquation (19.44) shows a phase margin very close to $90^{\\circ}$ when $Q=0.1$. Note that in practice, additional poles in the PLL (e.g., introduced by the capacitor $\\mathrm{C}_{2}$ in the charge-pump loop filter of Fig. 19.7) will reduce the phase margin from these values."
},
{
    "text": "A notable drawback of any continuous-time linear Phase-Locked Loop (PLL) model is its inability to accurately predict loop behavior at high frequencies. For instance, the analysis presented suggests that a PLL can be designed with an arbitrarily large loop bandwidth, which is not accurate. The issue arises because a continuous-time model is being applied to a discrete-time system. Specifically, the phase detector in Example 19.2 periodically samples the phase difference between the divider output and the reference input, functioning as a discrete-time block operating at the reference frequency. Practically, this restricts loop bandwidths to significantly less than the reference frequency. Intuitively, phase changes cannot be tracked faster than they appear at the input. Multiple cycles of the reference input are needed for the loop filter to average the phase detector's signal and adjust the VCO control input accordingly. Thus, the loop bandwidth is limited to roughly $1/20$th to $1/10$th of the reference frequency. This constraint is significant because maximizing the bandwidth over which the output clock effectively tracks the reference is often desirable. Additionally, higher loop bandwidths allow for smaller loop filter components.\n\n#### EXAMPLE 19.5\n\nDesign a loop filter for a PLL operating with a 10 MHz reference clock frequency and a 200 MHz output frequency. The loop bandwidth should be approximately $1/20$th of the reference clock frequency, with $\\mathrm{Q}=0.1$. Assume the VCO has $\\mathrm{K}_{\\mathrm{osc}}=2\\pi \\times 10^7 \\mathrm{rad}/\\mathrm{Vs}$ and the charge-pump current is $\\mathrm{I}_{\\mathrm{ch}}=20 \\mu\\mathrm{A}$.\n\n#### Solution\n\nFrom equations (19.32) and (19.40), with $Q \\ll 0.5$, the loop bandwidth is approximately\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong \\frac{\\omega_{\\mathrm{pll}}}{Q} = \\frac{1}{Q} \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\tag{19.45}\\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{Q^2 \\omega_{3\\mathrm{dB}}^2 N}{K_{\\mathrm{pd}} K_{\\mathrm{osc}}}\n\\end{align*}\n$$\n\nSubstituting equations (19.23) and (19.27) for a charge-pump PLL into (19.45) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi Q^2 \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.46}\n\\end{equation*}\n$$\n\nFor $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz}/20$, substituting the known values into (19.46) gives $C_1 \\approx 100 \\mathrm{pF}$. From (19.40), with $Q \\ll 0.5$, $\\omega_{z} \\cong \\omega_{3\\mathrm{dB}} Q^2$. Using (19.28) for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR = \\frac{1}{C_1 \\omega_{3\\mathrm{dB}} Q^2} \\tag{19.47}\n\\end{equation*}\n$$\n\nThis yields $R = 314 \\mathrm{k}\\Omega$.\n\nThe necessity of $\\mathrm{C}_2$ in the loop filter circuit of Fig. 19.7 is demonstrated by Example 19.5. Without $\\mathrm{C}_2$, when the charge pump is active, the entire current $I_{\\mathrm{ch}} = 20 \\mu\\mathrm{A}$ would flow through the series branch $R$ and $C_1$, generating a 6.28 V voltage across $R$. Such a high voltage could turn off some charge pump transistors, disrupting the loop dynamics.\n\nWith $\\mathrm{C}_2$ in place, large voltage transients are suppressed since the voltage across $\\mathrm{C}_2$ cannot change instantaneously. The resulting loop filter transfer function, from (19.25), is\n\n$$\n\\begin{equation*}\nK_{\\mathrm{lp}} H_{\\mathrm{lp}}(s) = \\frac{1}{s(C_1 + C_2)} \\cdot \\frac{1 + sRC_1}{1 + sR\\left(\\frac{C_1 C_2}{C_1 + C_2}\\right)} \\tag{19.48}\n\\end{equation*}\n$$\n\nComparing (19.48) and (19.26) shows that adding $\\mathrm{C}_2$ has two effects:\n\n- $K_{\\mathrm{lp}}$ decreases, but this is minor if $\\mathrm{C}_2$ is much smaller than $\\mathrm{C}_1$.\n- A real pole is introduced at a frequency $\\left(C_1 + C_2\\right)/\\left(R C_1 C_2\\right) > \\omega_{z}$.\n\nThe additional pole makes the closed-loop system third-order and slightly reduces the phase margin compared to a second-order loop (Example 19.4). However, placing the new pole at about 2 times the loop bandwidth, $2\\omega_{3\\mathrm{dB}}$, suppresses glitches without significantly affecting settling time or jitter peaking. For $\\mathrm{Q} = 0.5$, $\\mathrm{C}_2$ should be one-tenth to one-eighth of $C_1$. With $\\mathrm{Q} = 0.1$, $\\mathrm{C}_2$ should be roughly $1/250$th of $C_1$.\n\n#### EXAMPLE 19.6\n\nSelect a capacitor value $\\mathrm{C}_2$ for the loop filter designed in Example 19.5.\n\n#### Solution\n\nGiven $\\mathrm{Q} = 0.1$, choose $\\mathrm{C}_2 = \\mathrm{C}_1/250 \\approx 0.4 \\mathrm{pF}$.\n\nExamples 19.5 and 19.6 highlight the practical challenge of designing for a very small $Q$: it results in large component values and wide component value spreads.\n\n#### EXAMPLE 19.7\n\nRedesign Example 19.5 with $Q = 0.5$.\n\n#### Solution\n\nInitially use the second-order model, ignoring $\\mathrm{C}_2$. After selecting $\\mathrm{C}_1$ and $R$, calculate $\\mathrm{C}_2$ assuming it has a minor effect on the loop bandwidth. For $Q = 0.5$, using (19.32) and (19.38),\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong 2.5\\omega_{\\mathrm{pll}} = 2.5\\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{\\omega_{3\\mathrm{dB}}^2 N}{(2.5)^2 K_{\\mathrm{pd}} K_{\\mathrm{osc}}} \\tag{19.49}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) into (19.49) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{(2.5)^2 I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.50}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz}/20$, (19.50) yields $C_1 = 6.25 \\mathrm{pF}$. From (19.38) and $\\mathrm{Q} = \\omega_{z}/\\omega_{\\mathrm{pll}}$, $\\omega_{z} = Q\\omega_{3\\mathrm{dB}}/2.5$, implying\n\n$$\n\\begin{equation*}\nR = \\frac{2.5}{C_1 \\omega_{3\\mathrm{dB}} Q} \\tag{19.51}\n\\end{equation*}\n$$\n\nThis results in $R = 255 \\mathrm{k}\\Omega$. Finally, choose $\\mathrm{C}_2 = \\mathrm{C}_1/10 = 0.625 \\mathrm{fF}$ to suppress glitches and place the additional pole beyond the loop bandwidth.\n\nNote that the component values in Example 19.7 with $Q = 0.5$ are more integrable than those in Examples 19.5 and 19.6 with $Q = 0.1$. The trade-off is increased overshoot and jitter peaking in the closed-loop PLL response."
},
{
    "text": "A key limitation of any continuous-time linear PLL model is its inability to accurately predict loop behavior at high frequencies. For instance, the analysis suggests that a PLL can be designed with an arbitrarily large loop bandwidth, which is incorrect. The issue arises because a continuous-time model is applied to a discrete-time system. Specifically, the phase detector in Example 19.2 periodically samples the phase difference between the divider output and the reference input, operating as a discrete-time block at the reference frequency. Practically, this restricts loop bandwidths to significantly less than the reference frequency. Intuitively, phase changes cannot be tracked faster than they appear at the input. Several reference input cycles are needed for the loop filter to average the phase detector's signal and adjust the VCO control input, limiting the loop bandwidth to at most roughly $1/20$th to $1/10$th of the reference frequency. This constraint is significant since maximizing the bandwidth for effective output clock tracking is often desired. Additionally, higher loop bandwidths allow for smaller loop filter components.\n\n#### EXAMPLE 19.5\n\nDesign a loop filter for a PLL operating with a 10 MHz reference clock and a 200 MHz output frequency. The loop bandwidth should be approximately $1/20$th of the reference clock frequency with $\\mathrm{Q}=0.1$. Assume the VCO has $\\mathrm{K}_{\\mathrm{osc}}=2\\pi \\times 10^7 \\mathrm{rad}/\\mathrm{Vs}$ and the charge-pump current is $\\mathrm{I}_{\\mathrm{ch}}=20 \\mu\\mathrm{A}$.\n\n#### Solution\n\nFrom equations (19.32) and (19.40), with $Q \\ll 0.5$, the loop bandwidth is approximately\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong \\frac{\\omega_{\\mathrm{pll}}}{Q} = \\frac{1}{Q} \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\tag{19.45}\\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{Q^2 \\omega_{3\\mathrm{dB}}^2 N}{K_{\\mathrm{pd}} K_{\\mathrm{osc}}}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.45) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi Q^2 \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.46}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz}/20$, substituting the known values into (19.46) gives $C_1 \\approx 100 \\mathrm{pF}$. Also, from (19.40), with $Q \\ll 0.5$, $\\omega_z \\cong \\omega_{3\\mathrm{dB}} Q^2$. Using (19.28) for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR = \\frac{1}{C_1 \\omega_{3\\mathrm{dB}} Q^2} \\tag{19.47}\n\\end{equation*}\n$$\n\nThis yields $R = 314 \\mathrm{k}\\Omega$.\n\nThe necessity of $\\mathrm{C}_2$ in the loop filter circuit of Fig. 19.7 is demonstrated by Example 19.5. Without $\\mathrm{C}_2$, when the charge pump is active, the entire current $I_{\\mathrm{ch}} = 20 \\mu\\mathrm{A}$ would flow through the series branch $R$ and $C_1$, generating a 6.28 V voltage across $R$. Such a high voltage could turn off some charge pump transistors, disrupting the loop dynamics.\n\nWith $\\mathrm{C}_2$ in place, as shown in Fig. 19.7, these large voltage transients are suppressed since the voltage across $\\mathrm{C}_2$ cannot change instantaneously. The resulting loop filter transfer function, from (19.25), is\n\n$$\n\\begin{equation*}\nK_{\\mathrm{lp}} H_{\\mathrm{lp}}(s) = \\frac{1}{s(C_1 + C_2)} \\cdot \\frac{1 + sRC_1}{1 + sR\\left(\\frac{C_1 C_2}{C_1 + C_2}\\right)} \\tag{19.48}\n\\end{equation*}\n$$\n\nComparing (19.48) and (19.26) shows that adding $\\mathrm{C}_2$ has two effects:\n\n- $K_{\\mathrm{lp}}$ decreases, but this is minor if $\\mathrm{C}_2$ is much smaller than $\\mathrm{C}_1$\n- A real pole is introduced at a frequency $(C_1 + C_2)/(R C_1 C_2) > \\omega_z$\n\nThis additional pole makes the closed-loop system third-order and slightly reduces the phase margin compared to a second-order loop in Example 19.4. However, placing the new pole at about 2 times the loop bandwidth, $2\\omega_{3\\mathrm{dB}}$, suppresses glitches without significantly affecting settling time or jitter peaking. For $Q=0.5$, this means $\\mathrm{C}_2$ should be one-tenth to one-eighth of $C_1$. With $Q=0.1$, $\\mathrm{C}_2$ should be roughly $1/250$th of $C_1$.\n\n#### EXAMPLE 19.6\n\nSelect a value for $\\mathrm{C}_2$ in the loop filter designed in Example 19.5.\n\n#### Solution\n\nWith $\\mathrm{Q}=0.1$, choose $\\mathrm{C}_2 = \\mathrm{C}_1/250 \\approx 0.4 \\mathrm{pF}$.\n\nExamples 19.5 and 19.6 highlight the practical challenge of designing for a very small $Q$: it results in large component values and wide value spreads.\n\n#### EXAMPLE 19.7\n\nRedesign Example 19.5 with $Q=0.5$.\n\n#### Solution\n\nInitially use the second-order model, ignoring $\\mathrm{C}_2$. After selecting $\\mathrm{C}_1$ and $R$, calculate $\\mathrm{C}_2$ assuming its minor impact on the loop bandwidth. For $Q=0.5$, using (19.32) and (19.38),\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong 2.5 \\omega_{\\mathrm{pll}} = 2.5 \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{\\omega_{3\\mathrm{dB}}^2 N}{(2.5)^2 K_{\\mathrm{pd}} K_{\\mathrm{osc}}} \\tag{19.49}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.49) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{(2.5)^2 I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.50}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz}/20$, (19.50) yields $C_1 = 6.25 \\mathrm{pF}$. From (19.38) and $\\mathrm{Q} = \\omega_z / \\omega_{\\mathrm{pll}}$, $\\omega_z = Q \\omega_{3\\mathrm{dB}} / 2.5$, implying\n\n$$\n\\begin{equation*}\nR = \\frac{2.5}{C_1 \\omega_{3\\mathrm{dB}} Q} \\tag{19.51}\n\\end{equation*}\n$$\n\nThis results in $R = 255 \\mathrm{k}\\Omega$. Finally, choose $\\mathrm{C}_2 = \\mathrm{C}_1 / 10 = 0.625 \\mathrm{fF}$ to suppress glitches while placing the additional pole beyond the loop bandwidth.\n\nNote that the component values in Example 19.7 with $Q=0.5$ are more easily integrated than those in Examples 19.5 and 19.6 with $Q=0.1$. The trade-off is increased overshoot and jitter peaking in the closed-loop PLL response."
},
{
    "text": "A major drawback of any continuous-time linear PLL model is its inability to accurately predict loop behavior at high frequencies. For instance, the analysis so far suggests that a PLL can be designed with an arbitrarily large loop bandwidth, which is not true. The issue arises because a continuous-time model is being applied to a discrete-time system. Specifically, the phase detector in Example 19.2 periodically samples the phase difference between the divider output and the reference input, making it a discrete-time block operating at the reference frequency. Practically, this restricts loop bandwidths to significantly less than the reference frequency. Intuitively, this is clear since phase changes cannot be tracked faster than they appear at the input. Multiple cycles of the reference input are needed for the loop filter to average the signal from the phase detector and adjust the VCO control input accordingly. Thus, the loop bandwidth is limited to at most roughly $1/20$th to $1/10$th of the reference frequency. This is a significant constraint, as we often aim to maximize the bandwidth over which the output clock effectively tracks the reference. Additionally, higher loop bandwidths allow for the use of smaller components in the loop filter.\n\n#### EXAMPLE 19.5\n\nA PLL is required to operate with a reference clock frequency of 10 MHz and an output frequency of 200 MHz. Design a loop filter for the charge-pump phase comparator such that the loop bandwidth is approximately $1/20$th of the reference clock frequency and $\\mathrm{Q}=0.1$. Assume the VCO has $\\mathrm{K}_{\\mathrm{osc}}=2\\pi \\times 10^7 \\mathrm{rad}/\\mathrm{Vs}$ and the charge-pump current is $\\mathrm{I}_{\\mathrm{ch}}=20 \\mu\\mathrm{A}$.\n\n#### Solution\n\nFrom equations (19.32) and (19.40), it is known that with $Q \\ll 0.5$, the loop bandwidth is approximately\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong \\frac{\\omega_{\\mathrm{pll}}}{Q} = \\frac{1}{Q} \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\tag{19.45}\\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{Q^2 \\omega_{3\\mathrm{dB}}^2 N}{K_{\\mathrm{pd}} K_{\\mathrm{osc}}}\n\\end{align*}\n$$\n\nSubstituting equations (19.23) and (19.27) for a charge-pump PLL into (19.45) and rearranging,\n\n$$\n\\begin{equation*}\n\\mathrm{C}_1 = \\frac{\\mathrm{I}_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi Q^2 \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.46}\n\\end{equation*}\n$$\n\nFor this example, with $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz} / 20$, substituting the known values into (19.46) results in $\\mathrm{C}_1 \\approx 100 \\mathrm{pF}$. Also from (19.40), with $Q \\ll 0.5$, it is known that $\\omega_{z} \\cong \\omega_{3\\mathrm{dB}} Q^2$. Using (19.28) for a charge-pump loop filter reveals,\n\n$$\n\\begin{equation*}\nR = \\frac{1}{C_1 \\omega_{3\\mathrm{dB}} Q^2} \\tag{19.47}\n\\end{equation*}\n$$\n\nwhich in this example yields a resistor value of $R = 314 \\mathrm{k}\\Omega$.\n\nThe necessity of $\\mathrm{C}_2$ in the loop filter circuit of Fig. 19.7 is demonstrated by Example 19.5. Consider the scenario without $\\mathrm{C}_2$ when the charge pump is active; the entire current $I_{\\mathrm{ch}} = 20 \\mu\\mathrm{A}$ would flow through the series branch $R$ and $C_1$, generating a voltage of 6.28 V across the resistor $R$. Such a high voltage could cause some transistors in the charge pump to turn off, disrupting the loop dynamics.\n\nWith $\\mathrm{C}_2$ in place as shown in Fig. 19.7, these large voltage transients are suppressed since the voltage across $\\mathrm{C}_2$ cannot change instantaneously. The resulting loop filter transfer function is repeated from (19.25).\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{\\mathrm{lp}} \\mathrm{H}_{\\mathrm{lp}}(\\mathrm{s}) = \\frac{1}{\\mathrm{s}(\\mathrm{C}_1 + \\mathrm{C}_2)} \\cdot \\frac{1 + \\mathrm{sRC}_1}{1 + \\mathrm{sR} \\left( \\frac{\\mathrm{C}_1 \\mathrm{C}_2}{\\mathrm{C}_1 + \\mathrm{C}_2} \\right)} \\tag{19.48}\n\\end{equation*}\n$$\n\nComparing (19.48) and (19.26) shows that adding $\\mathrm{C}_2$ has two effects:\n\n- $\\mathrm{K}_{\\mathrm{lp}}$ is reduced, but this effect is minimal if $\\mathrm{C}_2$ is much smaller than $\\mathrm{C}_1$\n- a real pole is introduced at a frequency $\\left( \\mathrm{C}_1 + \\mathrm{C}_2 \\right) / \\left( \\mathrm{R} \\mathrm{C}_1 \\mathrm{C}_2 \\right) > \\omega_{z}$\n\nThe additional pole makes the closed-loop system third-order and slightly reduces the phase margin compared to the second-order loop results in Example 19.4. However, placing the new pole at approximately twice the loop bandwidth, $2\\omega_{3\\mathrm{dB}}$, provides the desired glitch suppression with minimal impact on the settling time or jitter peaking. For instance, with $\\mathrm{Q} = 0.5$, this corresponds to choosing $\\mathrm{C}_2$ as one-tenth to one-eighth the value of $\\mathrm{C}_1$. With $\\mathrm{Q} = 0.1$, $\\mathrm{C}_2$ should be roughly $1/250$th the value of $\\mathrm{C}_1$.\n\n#### EXAMPLE 19.6\n\nSelect a capacitor value $\\mathrm{C}_2$ for the loop filter designed in Example 19.5.\n\n#### Solution\n\nSince the loop is designed with $\\mathrm{Q} = 0.1$, a value of $\\mathrm{C}_2 = \\mathrm{C}_1 / 250 \\approx 0.4 \\mathrm{pF}$ is chosen.\n\nExamples 19.5 and 19.6 also highlight the practical challenge of designing for a very small $Q$: it results in large component values and significant spreads in component values.\n\n#### EXAMPLE 19.7\n\nRepeat the design in Example 19.5 but with $\\mathrm{Q} = 0.5$.\n\n#### Solution\n\nThe design starts by using the second-order model and ignoring $\\mathrm{C}_2$. Once $\\mathrm{C}_1$ and $R$ are determined, a value for $\\mathrm{C}_2$ is calculated assuming it will have a minor effect on the loop bandwidth. For $\\mathrm{Q} = 0.5$, using (19.32) and (19.38),\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong 2.5 \\omega_{\\mathrm{pll}} = 2.5 \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{\\omega_{3\\mathrm{dB}}^2 N}{(2.5)^2 K_{\\mathrm{pd}} K_{\\mathrm{osc}}} \\tag{19.49}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.49) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{(2.5)^2 I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.50}\n\\end{equation*}\n$$\n\nUsing the known values, including $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz} / 20$, results in $\\mathrm{C}_1 = 6.25 \\mathrm{pF}$. Combining (19.38) and $\\mathrm{Q} = \\omega_{\\mathrm{z}} / \\omega_{\\mathrm{pll}}$, we find $\\omega_{\\mathrm{z}} = Q \\omega_{3\\mathrm{dB}} / 2.5$, which for a charge-pump loop filter implies\n\n$$\n\\begin{equation*}\nR = \\frac{2.5}{C_1 \\omega_{3\\mathrm{dB}} Q} \\tag{19.51}\n\\end{equation*}\n$$\n\nThis yields $\\mathrm{R} = 255 \\mathrm{k}\\Omega$. Finally, a value of $\\mathrm{C}_2 = \\mathrm{C}_1 / 10 = 0.625 \\mathrm{fF}$ is used to suppress glitches while placing the additional pole beyond the loop bandwidth.\n\nNote that the component values in Example 19.7 with $\\mathrm{Q} = 0.5$ are more easily integrated than those in Examples 19.5 and 19.6, which use $\\mathrm{Q} = 0.1$. The trade-off is increased overshoot and jitter peaking in the closed-loop PLL response."
},
{
    "text": "A key limitation of any continuous-time linear PLL model is its inability to accurately predict loop behavior at high frequencies. For instance, the analysis so far suggests that a PLL can be designed with an arbitrarily large loop bandwidth, which is not true. The issue arises because a continuous-time model is applied to a discrete-time system. Specifically, the phase detector in Example 19.2 periodically samples the phase difference between the divider output and the reference input, making it a discrete-time block operating at the reference frequency. Practically, this restricts loop bandwidths to significantly less than the reference frequency. Intuitively, phase changes cannot be tracked faster than they appear at the input. Multiple cycles of the reference input are needed for the loop filter to average the phase detector's signal and adjust the VCO control input. Thus, the loop bandwidth is limited to at most roughly $1/20$th to $1/10$th of the reference frequency. This is a significant constraint since maximizing the bandwidth for effective output clock tracking of the reference is often desired. Additionally, higher loop bandwidths allow for smaller loop filter components.\n\n#### EXAMPLE 19.5\n\nDesign a loop filter for a PLL operating with a 10 MHz reference clock and a 200 MHz output frequency. The loop bandwidth should be approximately $1/20$th of the reference clock frequency, with $\\mathrm{Q}=0.1$. Assume the VCO has $\\mathrm{K}_{\\mathrm{osc}}=2\\pi \\times 10^7 \\mathrm{rad/Vs}$ and the charge-pump current is $\\mathrm{I}_{\\mathrm{ch}}=20 \\mu\\mathrm{A}$.\n\n#### Solution\n\nFrom equations (19.32) and (19.40), with $Q \\ll 0.5$, the loop bandwidth is approximately\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong \\frac{\\omega_{\\mathrm{pll}}}{Q} = \\frac{1}{Q} \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\tag{19.45}\\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{Q^2 \\omega_{3\\mathrm{dB}}^2 N}{K_{\\mathrm{pd}} K_{\\mathrm{osc}}}\n\\end{align*}\n$$\n\nSubstituting equations (19.23) and (19.27) for a charge-pump PLL into (19.45) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi Q^2 \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.46}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz} / 20$, substituting the known values into (19.46) gives $C_1 \\approx 100 \\mathrm{pF}$. Also, from (19.40), with $Q \\ll 0.5$, $\\omega_z \\cong \\omega_{3\\mathrm{dB}} Q^2$. Using (19.28) for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR = \\frac{1}{C_1 \\omega_{3\\mathrm{dB}} Q^2} \\tag{19.47}\n\\end{equation*}\n$$\n\nThis yields $R = 314 \\mathrm{k}\\Omega$.\n\nThe necessity of $\\mathrm{C}_2$ in the loop filter circuit of Fig. 19.7 is demonstrated by Example 19.5. Without $\\mathrm{C}_2$, when the charge pump is active, the entire current $I_{\\mathrm{ch}} = 20 \\mu\\mathrm{A}$ would flow through the series branch $R$ and $C_1$, generating a 6.28 V voltage across $R$. Such a high voltage could turn off some charge pump transistors, disrupting the loop dynamics.\n\nWith $\\mathrm{C}_2$ in place, as shown in Fig. 19.7, these large voltage transients are suppressed since the voltage across $\\mathrm{C}_2$ cannot change instantaneously. The resulting loop filter transfer function is\n\n$$\n\\begin{equation*}\nK_{\\mathrm{lp}} H_{\\mathrm{lp}}(s) = \\frac{1}{s(C_1 + C_2)} \\cdot \\frac{1 + sRC_1}{1 + sR\\left(\\frac{C_1 C_2}{C_1 + C_2}\\right)} \\tag{19.48}\n\\end{equation*}\n$$\n\nComparing (19.48) and (19.26) shows that adding $\\mathrm{C}_2$ has two effects:\n\n- $K_{\\mathrm{lp}}$ is reduced, but this is minor if $\\mathrm{C}_2$ is much smaller than $\\mathrm{C}_1$.\n- A real pole is introduced at a frequency $\\left(C_1 + C_2\\right) / \\left(R C_1 C_2\\right) > \\omega_z$.\n\nThis additional pole makes the closed-loop system third-order and slightly reduces the phase margin compared to a second-order loop in Example 19.4. However, placing the new pole at about 2 times the loop bandwidth, $2\\omega_{3\\mathrm{dB}}$, suppresses glitches without significantly affecting settling time or jitter peaking. For $Q=0.5$, $\\mathrm{C}_2$ should be one-tenth to one-eighth of $C_1$. With $Q=0.1$, $\\mathrm{C}_2$ should be roughly $1/250$th of $C_1$.\n\n#### EXAMPLE 19.6\n\nSelect a value for $\\mathrm{C}_2$ for the loop filter designed in Example 19.5.\n\n#### Solution\n\nWith $Q=0.1$, choose $\\mathrm{C}_2 = \\mathrm{C}_1 / 250 \\approx 0.4 \\mathrm{pF}$.\n\nExamples 19.5 and 19.6 highlight the practical challenge of designing for a very small $Q$: it results in large component values and wide component value spreads.\n\n#### EXAMPLE 19.7\n\nRedesign Example 19.5 with $Q=0.5$.\n\n#### Solution\n\nInitially use the second-order model, ignoring $\\mathrm{C}_2$. After selecting $C_1$ and $R$, calculate $\\mathrm{C}_2$ assuming it has a minor effect on the loop bandwidth. For $Q=0.5$, using (19.32) and (19.38),\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong 2.5 \\omega_{\\mathrm{pll}} = 2.5 \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{\\omega_{3\\mathrm{dB}}^2 N}{(2.5)^2 K_{\\mathrm{pd}} K_{\\mathrm{osc}}} \\tag{19.49}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.49) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{(2.5)^2 I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.50}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz} / 20$, (19.50) yields $C_1 = 6.25 \\mathrm{pF}$. Combining (19.38) and $\\mathrm{Q} = \\omega_z / \\omega_{\\mathrm{pll}}$, we get $\\omega_z = Q \\omega_{3\\mathrm{dB}} / 2.5$, implying for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR = \\frac{2.5}{C_1 \\omega_{3\\mathrm{dB}} Q} \\tag{19.51}\n\\end{equation*}\n$$\n\nThis results in $R = 255 \\mathrm{k}\\Omega$. Finally, choose $\\mathrm{C}_2 = \\mathrm{C}_1 / 10 = 0.625 \\mathrm{fF}$ to suppress glitches while placing the additional pole beyond the loop bandwidth.\n\nNote that the component values in Example 19.7 with $Q=0.5$ are more easily integrated than those in Examples 19.5 and 19.6 with $Q=0.1$. The trade-off is increased overshoot and jitter peaking in the closed-loop PLL response."
},
{
    "text": "A major drawback of any continuous-time linear PLL model is its inability to accurately predict loop behavior at high frequencies. For instance, the analysis to date suggests that a PLL can be designed with an arbitrarily large loop bandwidth, which is incorrect. The issue arises because a continuous-time model is being applied to a discrete-time system. Specifically, the phase detector in Example 19.2 periodically samples the phase difference between the divider output and the reference input, functioning as a discrete-time block at the reference frequency. Practically, this restricts loop bandwidths to significantly less than the reference frequency. Intuitively, this is clear since phase changes cannot be tracked faster than they appear at the input. Multiple cycles of the reference input are needed for the loop filter to average the phase detector's signal and adjust the VCO control input accordingly. Thus, the loop bandwidth is limited to roughly $1/20$th to $1/10$th of the reference frequency. This constraint is significant because maximizing the bandwidth for effective output clock tracking of the reference is often desired. Additionally, higher loop bandwidths allow for smaller loop filter components.\n\n#### EXAMPLE 19.5\n\nDesign a loop filter for a PLL operating with a 10 MHz reference clock and a 200 MHz output frequency. The loop bandwidth should be approximately $1/20$th of the reference clock frequency, with $\\mathrm{Q}=0.1$. Assume the VCO has $\\mathrm{K}_{\\mathrm{osc}}=2\\pi \\times 10^7 \\mathrm{rad}/\\mathrm{Vs}$ and the charge-pump current is $\\mathrm{I}_{\\mathrm{ch}}=20 \\mu\\mathrm{A}$.\n\n#### Solution\n\nFrom equations (19.32) and (19.40), with $Q \\ll 0.5$, the loop bandwidth is approximately\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong \\frac{\\omega_{\\mathrm{pll}}}{Q} = \\frac{1}{Q} \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\tag{19.45}\\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{Q^2 \\omega_{3\\mathrm{dB}}^2 N}{K_{\\mathrm{pd}} K_{\\mathrm{osc}}}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.45) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi Q^2 \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.46}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz}/20$, substituting the known values into (19.46) yields $C_1 \\approx 100 \\mathrm{pF}$. From (19.40), with $Q \\ll 0.5$, $\\omega_z \\cong \\omega_{3\\mathrm{dB}} Q^2$. Using (19.28) for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR = \\frac{1}{C_1 \\omega_{3\\mathrm{dB}} Q^2} \\tag{19.47}\n\\end{equation*}\n$$\n\nThis results in $R = 314 \\mathrm{k}\\Omega$.\n\nThe necessity of $\\mathrm{C}_2$ in the loop filter circuit of Fig. 19.7 is demonstrated by Example 19.5. Without $\\mathrm{C}_2$, when the charge pump is active, the entire current $I_{\\mathrm{ch}} = 20 \\mu\\mathrm{A}$ would flow through the series branch $R$ and $C_1$, generating a 6.28 V voltage across $R$. Such a high voltage could turn off some charge pump transistors, disrupting the loop dynamics.\n\nWith $\\mathrm{C}_2$ in place, as shown in Fig. 19.7, these large voltage transients are mitigated since the voltage across $\\mathrm{C}_2$ cannot change instantaneously. The resulting loop filter transfer function is derived from (19.25).\n\n$$\n\\begin{equation*}\nK_{\\mathrm{lp}} H_{\\mathrm{lp}}(s) = \\frac{1}{s(C_1 + C_2)} \\cdot \\frac{1 + sRC_1}{1 + sR\\left(\\frac{C_1 C_2}{C_1 + C_2}\\right)} \\tag{19.48}\n\\end{equation*}\n$$\n\nComparing (19.48) and (19.26) shows that adding $\\mathrm{C}_2$ has two effects:\n\n- $K_{\\mathrm{lp}}$ is reduced, but this effect is minor if $\\mathrm{C}_2$ is much smaller than $\\mathrm{C}_1$\n- A real pole is introduced at a frequency $\\left(C_1 + C_2\\right) / \\left(R C_1 C_2\\right) > \\omega_z$\n\nThe additional pole makes the closed-loop system third-order and slightly reduces the phase margin compared to a second-order loop as in Example 19.4. However, placing the new pole at about 2 times the loop bandwidth, $2\\omega_{3\\mathrm{dB}}$, suppresses glitches without significantly affecting settling time or jitter peaking. For $Q = 0.5$, this corresponds to $\\mathrm{C}_2$ being one-tenth to one-eighth of $C_1$. With $Q = 0.1$, $\\mathrm{C}_2$ should be roughly $1/250$th of $C_1$.\n\n#### EXAMPLE 19.6\n\nChoose a value for $\\mathrm{C}_2$ for the loop filter designed in Example 19.5.\n\n#### Solution\n\nGiven $\\mathrm{Q} = 0.1$, select $\\mathrm{C}_2 = \\mathrm{C}_1 / 250 \\approx 0.4 \\mathrm{pF}$.\n\nExamples 19.5 and 19.6 highlight the practical challenge of designing for a very small $Q$: it results in large component values and wide component value spreads.\n\n#### EXAMPLE 19.7\n\nRedesign the loop filter from Example 19.5 with $Q = 0.5$.\n\n#### Solution\n\nInitially, use the second-order model ignoring $\\mathrm{C}_2$. After selecting $\\mathrm{C}_1$ and $R$, calculate $\\mathrm{C}_2$ assuming it has a minor impact on the loop bandwidth. For $Q = 0.5$, using (19.32) and (19.38),\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong 2.5 \\omega_{\\mathrm{pll}} = 2.5 \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{\\omega_{3\\mathrm{dB}}^2 N}{(2.5)^2 K_{\\mathrm{pd}} K_{\\mathrm{osc}}} \\tag{19.49}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.49) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{(2.5)^2 I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.50}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz}/20$, (19.50) yields $C_1 = 6.25 \\mathrm{pF}$. From (19.38) and $\\mathrm{Q} = \\omega_z / \\omega_{\\mathrm{pll}}$, $\\omega_z = Q \\omega_{3\\mathrm{dB}} / 2.5$, implying for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR = \\frac{2.5}{C_1 \\omega_{3\\mathrm{dB}} Q} \\tag{19.51}\n\\end{equation*}\n$$\n\nThis results in $R = 255 \\mathrm{k}\\Omega$. Finally, choose $\\mathrm{C}_2 = \\mathrm{C}_1 / 10 = 0.625 \\mathrm{fF}$ to suppress glitches, placing the additional pole beyond the loop bandwidth.\n\nNote that the component values in Example 19.7 with $Q = 0.5$ are more easily integrated than those in Examples 19.5 and 19.6 with $Q = 0.1$. The trade-off is increased overshoot and jitter peaking in the closed-loop PLL response."
},
{
    "text": "A major drawback of any continuous-time linear PLL model is its inability to accurately predict loop behavior at high frequencies. For instance, the analysis to date suggests that a PLL can be designed with an arbitrarily large loop bandwidth, which is not true. The issue arises because a continuous-time model is being applied to a discrete-time system. Specifically, the phase detector in Example 19.2 periodically samples the phase difference between the divider output and the reference input, functioning as a discrete-time block at the reference frequency. Practically, this restricts loop bandwidths to significantly less than the reference frequency. Intuitively, this is clear since phase changes cannot be tracked faster than they appear at the input. Multiple cycles of the reference input are needed for the loop filter to average the phase detector's signal and adjust the VCO control input accordingly. Thus, the loop bandwidth is limited to roughly $1/20$th to $1/10$th of the reference frequency, a significant constraint since maximizing the bandwidth for effective output clock tracking is often desired. Additionally, higher loop bandwidths allow for smaller loop filter components.\n\n#### EXAMPLE 19.5\n\nDesign a loop filter for a PLL operating with a 10 MHz reference clock and a 200 MHz output frequency, using a charge-pump phase comparator. The loop bandwidth should be approximately $1/20$th of the reference clock frequency with $\\mathrm{Q}=0.1$. Assume the VCO has $\\mathrm{K}_{\\mathrm{osc}}=2\\pi \\times 10^7 \\mathrm{rad/Vs}$ and the charge-pump current is $\\mathrm{I}_{\\mathrm{ch}}=20 \\mu\\mathrm{A}$.\n\n#### Solution\n\nFrom equations (19.32) and (19.40), with $Q \\ll 0.5$, the loop bandwidth is approximately\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong \\frac{\\omega_{\\mathrm{pll}}}{Q} = \\frac{1}{Q} \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\tag{19.45}\\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{Q^2 \\omega_{3\\mathrm{dB}}^2 N}{K_{\\mathrm{pd}} K_{\\mathrm{osc}}}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.45) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi Q^2 \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.46}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz} / 20$, substituting the known values into (19.46) gives $C_1 \\approx 100 \\mathrm{pF}$. Also, from (19.40), with $Q \\ll 0.5$, $\\omega_z \\cong \\omega_{3\\mathrm{dB}} Q^2$. Using (19.28) for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR = \\frac{1}{C_1 \\omega_{3\\mathrm{dB}} Q^2} \\tag{19.47}\n\\end{equation*}\n$$\n\nThis yields a resistor value of $R = 314 \\mathrm{k}\\Omega$.\n\nThe necessity of $\\mathrm{C}_2$ in the loop filter circuit of Fig. 19.7 is demonstrated by Example 19.5. Without $\\mathrm{C}_2$, when the charge pump is active, the entire current $I_{\\mathrm{ch}} = 20 \\mu\\mathrm{A}$ would flow through the series branch $R$ and $C_1$, generating a 6.28 V voltage across $R$. Such a high voltage could turn off some transistors in the charge pump, disrupting the loop dynamics.\n\nWith $\\mathrm{C}_2$ in place, as shown in Fig. 19.7, these large voltage transients are mitigated since the voltage across $\\mathrm{C}_2$ cannot change instantaneously. The resulting loop filter transfer function is\n\n$$\n\\begin{equation*}\nK_{\\mathrm{lp}} H_{\\mathrm{lp}}(s) = \\frac{1}{s(C_1 + C_2)} \\cdot \\frac{1 + sRC_1}{1 + sR\\left(\\frac{C_1 C_2}{C_1 + C_2}\\right)} \\tag{19.48}\n\\end{equation*}\n$$\n\nComparing (19.48) and (19.26) shows that adding $\\mathrm{C}_2$ has two effects:\n\n- $K_{\\mathrm{lp}}$ is reduced, but this is minor if $\\mathrm{C}_2$ is much smaller than $\\mathrm{C}_1$\n- A real pole is introduced at a frequency $\\left(C_1 + C_2\\right) / \\left(R C_1 C_2\\right) > \\omega_z$\n\nThe additional pole makes the closed-loop system third-order and slightly reduces the phase margin compared to a second-order loop in Example 19.4. However, placing the new pole at about 2 times the loop bandwidth, $2\\omega_{3\\mathrm{dB}}$, suppresses glitches without significantly affecting settling time or jitter peaking. For $Q=0.5$, this means choosing $\\mathrm{C}_2$ as one-tenth to one-eighth of $C_1$. With $Q=0.1$, $\\mathrm{C}_2$ should be roughly $1/250$th of $C_1$.\n\n#### EXAMPLE 19.6\n\nSelect a capacitor value $\\mathrm{C}_2$ for the loop filter designed in Example 19.5.\n\n#### Solution\n\nGiven $\\mathrm{Q}=0.1$, a value of $\\mathrm{C}_2 = \\mathrm{C}_1 / 250 \\approx 0.4 \\mathrm{pF}$ is chosen.\n\nExamples 19.5 and 19.6 highlight the practical challenge of designing for a very small $Q$: it results in large component values and wide component value spreads.\n\n#### EXAMPLE 19.7\n\nRedesign the loop filter in Example 19.5 with $Q=0.5$.\n\n#### Solution\n\nInitially, use the second-order model ignoring $\\mathrm{C}_2$. After selecting $\\mathrm{C}_1$ and $R$, calculate $\\mathrm{C}_2$ assuming it has a minor impact on the loop bandwidth. For $Q=0.5$, using (19.32) and (19.38),\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong 2.5\\omega_{\\mathrm{pll}} = 2.5 \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{\\omega_{3\\mathrm{dB}}^2 N}{(2.5)^2 K_{\\mathrm{pd}} K_{\\mathrm{osc}}} \\tag{19.49}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.49) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{(2.5)^2 I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.50}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz} / 20$, substituting the known values into (19.50) gives $C_1 = 6.25 \\mathrm{pF}$. From (19.38) and $\\mathrm{Q} = \\omega_z / \\omega_{\\mathrm{pll}}$, $\\omega_z = Q \\omega_{3\\mathrm{dB}} / 2.5$, implying for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR = \\frac{2.5}{C_1 \\omega_{3\\mathrm{dB}} Q} \\tag{19.51}\n\\end{equation*}\n$$\n\nThis results in $R = 255 \\mathrm{k}\\Omega$. Finally, $\\mathrm{C}_2 = \\mathrm{C}_1 / 10 = 0.625 \\mathrm{fF}$ is used to suppress glitches, placing the additional pole beyond the loop bandwidth.\n\nNote that the component values in Example 19.7 with $Q=0.5$ are more easily integrated than those in Examples 19.5 and 19.6 with $Q=0.1$. The trade-off is increased overshoot and jitter peaking in the closed-loop PLL response."
},
{
    "text": "A key limitation of any continuous-time linear PLL model is its inability to accurately predict loop behavior at high frequencies. For instance, the analysis so far suggests that a PLL can be designed with an arbitrarily large loop bandwidth, which is not true. The issue arises because a continuous-time model is applied to a discrete-time system. Specifically, the phase detector in Example 19.2 periodically samples the phase difference between the divider output and the reference input, functioning as a discrete-time block at the reference frequency. Practically, this restricts loop bandwidths to significantly less than the reference frequency. Intuitively, phase changes cannot be tracked faster than they appear at the input. Several cycles of the reference input are needed for the loop filter to average the phase detector's signal and adjust the VCO control input, limiting the loop bandwidth to roughly $1/20$th to $1/10$th of the reference frequency. This constraint is significant since maximizing the bandwidth for effective output clock tracking is often desired. Additionally, higher loop bandwidths allow for smaller loop filter components.\n\n#### EXAMPLE 19.5\n\nDesign a loop filter for a PLL operating with a 10 MHz reference clock and a 200 MHz output frequency. The loop bandwidth should be approximately $1/20$th of the reference clock frequency, with $\\mathrm{Q}=0.1$. Assume the VCO has $\\mathrm{K}_{\\mathrm{osc}}=2 \\pi \\times 10^{7} \\mathrm{rad} / \\mathrm{Vs}$ and the charge-pump current is $\\mathrm{I}_{\\mathrm{ch}}=20 \\mu \\mathrm{A}$.\n\n#### Solution\n\nFrom equations (19.32) and (19.40), with $Q \\ll 0.5$, the loop bandwidth is approximately\n\n$$\n\\begin{align*}\n\\omega_{3 \\mathrm{~dB}} & \\cong \\frac{\\omega_{\\mathrm{pll}}}{Q}=\\frac{1}{Q} \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}}  \\tag{19.45}\\\\\n& \\Rightarrow K_{\\mathrm{lp}}=\\frac{\\mathrm{Q}^{2} \\omega_{3 \\mathrm{~dB}}^{2} N}{K_{\\mathrm{pd}} K_{\\mathrm{osc}}}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) into (19.45) and rearranging,\n\n$$\n\\begin{equation*}\n\\mathrm{C}_{1}=\\frac{\\mathrm{I}_{\\mathrm{ch}} \\mathrm{~K}_{\\mathrm{osc}}}{2 \\pi \\mathrm{Q}^{2} \\omega_{3 \\mathrm{~dB}}^{2} \\mathrm{~N}} \\tag{19.46}\n\\end{equation*}\n$$\n\nWith $\\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 10 \\mathrm{MHz} / 20$, substituting the known values into (19.46) yields $\\mathrm{C}_{1}=100 \\mathrm{pF}$. From (19.40), with $Q \\ll 0.5$, $\\omega_{z} \\cong \\omega_{3 \\mathrm{~dB}} Q^{2}$. Using (19.28) for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR=\\frac{1}{C_{1} \\omega_{3 \\mathrm{~dB}} Q^{2}} \\tag{19.47}\n\\end{equation*}\n$$\n\nThis results in a resistor value of $R=314 \\mathrm{k} \\Omega$.\n\nThe necessity of $\\mathrm{C}_{2}$ in the loop filter circuit (Fig. 19.7) is demonstrated by Example 19.5. Without $\\mathrm{C}_{2}$, the entire current $I_{\\mathrm{ch}}=20 \\mu \\mathrm{A}$ would flow through the series branch $R$ and $C_{1}$, generating a 6.28 V voltage across $R$, potentially turning off some charge pump transistors and disrupting loop dynamics.\n\nWith $\\mathrm{C}_{2}$, large voltage transients are suppressed as the voltage across $\\mathrm{C}_{2}$ cannot change instantaneously. The loop filter transfer function is\n\n$$\n\\begin{equation*}\n\\mathrm{K}_{1 \\mathrm{p}} \\mathrm{H}_{1 \\mathrm{p}}(\\mathrm{~s})=\\frac{1}{\\mathrm{~s}\\left(\\mathrm{C}_{1}+\\mathrm{C}_{2}\\right)} \\cdot \\frac{1+\\mathrm{sRC}_{1}}{1+\\mathrm{sR}\\left(\\frac{\\mathrm{C}_{1} \\mathrm{C}_{2}}{\\mathrm{C}_{1}+\\mathrm{C}_{2}}\\right)} \\tag{19.48}\n\\end{equation*}\n$$\n\nComparing (19.48) and (19.26) shows two effects of adding $\\mathrm{C}_{2}$:\n\n- $\\mathrm{K}_{\\mathrm{lp}}$ decreases slightly if $\\mathrm{C}_{2}$ is much smaller than $\\mathrm{C}_{1}$\n- A real pole is introduced at $\\left(C_{1}+C_{2}\\right) /\\left(R C_{1} C_{2}\\right)>\\omega_{z}$\n\nThis additional pole makes the system third-order, slightly reducing the phase margin compared to a second-order loop. Placing the new pole at about $2 \\omega_{3 \\mathrm{~dB}}$ suppresses glitches with minimal impact on settling time or jitter peaking. For $\\mathrm{Q}=0.5$, $\\mathrm{C}_{2}$ should be one-tenth to one-eighth of $C_{1}$. With $\\mathrm{Q}=0.1$, $\\mathrm{C}_{2}$ should be roughly $1/250$th of $C_{1}$.\n\n#### EXAMPLE 19.6\n\nSelect $\\mathrm{C}_{2}$ for the loop filter designed in Example 19.5.\n\n#### Solution\n\nWith $\\mathrm{Q}=0.1$, choose $\\mathrm{C}_{2}=\\mathrm{C}_{1} / 250 \\cong 0.4 \\mathrm{pF}$.\n\nExamples 19.5 and 19.6 highlight the challenge of designing for a very small $Q$, leading to large component values and value spreads.\n\n#### EXAMPLE 19.7\n\nRedesign Example 19.5 with $Q=0.5$.\n\n#### Solution\n\nInitially use the second-order model, ignoring $\\mathrm{C}_{2}$. After selecting $\\mathrm{C}_{1}$ and $R$, calculate $\\mathrm{C}_{2}$, assuming it has a minor effect on the loop bandwidth. For $Q=0.5$,\n\n$$\n\\begin{align*}\n\\omega_{3 \\mathrm{~dB}} & \\cong 2.5 \\omega_{\\mathrm{pll}}=2.5 \\sqrt{\\frac{\\mathrm{~K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{lp}} \\mathrm{~K}_{\\mathrm{osc}}}{\\mathrm{~N}}} \\\\\n& \\Rightarrow \\mathrm{~K}_{\\mathrm{lp}}=\\frac{\\omega_{3 \\mathrm{~dB}}^{2} \\mathrm{~N}}{(2.5)^{2} \\mathrm{~K}_{\\mathrm{pd}} \\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.49}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) into (19.49) and rearranging,\n\n$$\n\\begin{equation*}\nC_{1}=\\frac{(2.5)^{2} I_{\\mathrm{ch}} \\mathrm{~K}_{\\mathrm{osc}}}{2 \\pi \\omega_{3 \\mathrm{~dB}}^{2} \\mathrm{~N}} \\tag{19.50}\n\\end{equation*}\n$$\n\nWith $\\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 10 \\mathrm{MHz} / 20$, $\\mathrm{C}_{1}=6.25 \\mathrm{pF}$. From (19.38) and $\\mathrm{Q}=\\omega_{\\mathrm{z}} / \\omega_{\\mathrm{pll}}$, $\\omega_{\\mathrm{z}}=Q \\omega_{3 \\mathrm{~dB}} / 2.5$, implying\n\n$$\n\\begin{equation*}\nR=\\frac{2.5}{C_{1} \\omega_{3 \\mathrm{~dB}} Q} \\tag{19.51}\n\\end{equation*}\n$$\n\nResulting in $R=255 \\mathrm{k} \\Omega$. Choose $\\mathrm{C}_{2}=\\mathrm{C}_{1} / 10=0.625 \\mathrm{fF}$ to suppress glitches, placing the additional pole beyond the loop bandwidth.\n\nComponent values in Example 19.7 with $Q=0.5$ are more integrable than those in Examples 19.5 and 19.6 with $Q=0.1$, but with increased overshoot and jitter peaking in the closed-loop PLL response."
},
{
    "text": "A major drawback of any continuous-time linear Phase-Locked Loop (PLL) model is its inability to accurately predict loop behavior at high frequencies. For instance, the analysis to date suggests that a PLL can be designed with an arbitrarily large loop bandwidth, which is not true. The issue arises because a continuous-time model is being applied to a discrete-time system. Specifically, the phase detector in Example 19.2 periodically samples the phase difference between the divider output and the reference input, functioning as a discrete-time block at the reference frequency. Practically, this restricts loop bandwidths to significantly less than the reference frequency. Intuitively, this is clear since phase changes cannot be tracked faster than they appear at the input. Multiple cycles of the reference input are needed for the loop filter to average the phase detector's signal and adjust the VCO control input accordingly. Thus, the loop bandwidth is limited to roughly $1/20$th to $1/10$th of the reference frequency. This constraint is significant because maximizing the bandwidth for effective output clock tracking of the reference is often desired. Additionally, higher loop bandwidths allow for smaller loop filter components.\n\n#### EXAMPLE 19.5\n\nDesign a loop filter for a PLL operating with a 10 MHz reference clock and a 200 MHz output frequency. The loop bandwidth should be approximately $1/20$th of the reference clock frequency, with $\\mathrm{Q}=0.1$. Assume the VCO has $\\mathrm{K}_{\\mathrm{osc}}=2\\pi \\times 10^7 \\mathrm{rad}/\\mathrm{Vs}$ and the charge-pump current is $\\mathrm{I}_{\\mathrm{ch}}=20 \\mu\\mathrm{A}$.\n\n#### Solution\n\nFrom equations (19.32) and (19.40), with $Q \\ll 0.5$, the loop bandwidth is approximately\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong \\frac{\\omega_{\\mathrm{pll}}}{Q} = \\frac{1}{Q} \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\tag{19.45}\\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{Q^2 \\omega_{3\\mathrm{dB}}^2 N}{K_{\\mathrm{pd}} K_{\\mathrm{osc}}}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.45) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi Q^2 \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.46}\n\\end{equation*}\n$$\n\nFor $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz} / 20$, substituting the known values into (19.46) gives $C_1 \\approx 100 \\mathrm{pF}$. Also, from (19.40), with $Q \\ll 0.5$, $\\omega_z \\cong \\omega_{3\\mathrm{dB}} Q^2$. Using (19.28) for a charge-pump loop filter,\n\n$$\n\\begin{equation*}\nR = \\frac{1}{C_1 \\omega_{3\\mathrm{dB}} Q^2} \\tag{19.47}\n\\end{equation*}\n$$\n\nThis yields $R = 314 \\mathrm{k}\\Omega$.\n\nThe necessity of $\\mathrm{C}_2$ in the loop filter circuit of Fig. 19.7 is demonstrated by Example 19.5. Without $\\mathrm{C}_2$, when the charge pump is active, the entire current $I_{\\mathrm{ch}} = 20 \\mu\\mathrm{A}$ would flow through the series branch $R$ and $C_1$, generating a 6.28 V voltage across $R$. Such a high voltage could turn off some charge pump transistors, disrupting the loop dynamics.\n\nWith $\\mathrm{C}_2$ in place, as shown in Fig. 19.7, these large voltage transients are mitigated since the voltage across $\\mathrm{C}_2$ cannot change instantaneously. The resulting loop filter transfer function, from (19.25), is\n\n$$\n\\begin{equation*}\nK_{\\mathrm{lp}} H_{\\mathrm{lp}}(s) = \\frac{1}{s(C_1 + C_2)} \\cdot \\frac{1 + sRC_1}{1 + sR\\left(\\frac{C_1 C_2}{C_1 + C_2}\\right)} \\tag{19.48}\n\\end{equation*}\n$$\n\nComparing (19.48) and (19.26) shows that adding $\\mathrm{C}_2$ has two effects:\n\n- $K_{\\mathrm{lp}}$ decreases, but this is minimal if $\\mathrm{C}_2$ is much smaller than $\\mathrm{C}_1$\n- A real pole is introduced at a frequency $(C_1 + C_2)/(R C_1 C_2) > \\omega_z$\n\nThe additional pole makes the closed-loop system third-order and slightly reduces the phase margin compared to a second-order loop in Example 19.4. However, placing the new pole at about 2 times the loop bandwidth, $2\\omega_{3\\mathrm{dB}}$, suppresses glitches without significantly affecting settling time or jitter peaking. For $Q=0.5$, $\\mathrm{C}_2$ should be one-tenth to one-eighth of $C_1$. For $Q=0.1$, $\\mathrm{C}_2$ should be roughly $1/250$th of $C_1$.\n\n#### EXAMPLE 19.6\n\nChoose a value for $\\mathrm{C}_2$ in the loop filter designed in Example 19.5.\n\n#### Solution\n\nWith $Q=0.1$, $\\mathrm{C}_2 = C_1 / 250 \\approx 0.4 \\mathrm{pF}$ is selected.\n\nExamples 19.5 and 19.6 highlight the practical challenge of designing for a very small $Q$: it results in large component values and wide component value spreads.\n\n#### EXAMPLE 19.7\n\nRedesign Example 19.5 with $Q=0.5$.\n\n#### Solution\n\nInitially, use the second-order model, ignoring $\\mathrm{C}_2$. After selecting $C_1$ and $R$, calculate $\\mathrm{C}_2$ assuming it has a minor impact on the loop bandwidth. For $Q=0.5$, using (19.32) and (19.38),\n\n$$\n\\begin{align*}\n\\omega_{3\\mathrm{dB}} & \\cong 2.5 \\omega_{\\mathrm{pll}} = 2.5 \\sqrt{\\frac{K_{\\mathrm{pd}} K_{\\mathrm{lp}} K_{\\mathrm{osc}}}{N}} \\\\\n& \\Rightarrow K_{\\mathrm{lp}} = \\frac{\\omega_{3\\mathrm{dB}}^2 N}{(2.5)^2 K_{\\mathrm{pd}} K_{\\mathrm{osc}}} \\tag{19.49}\n\\end{align*}\n$$\n\nSubstituting (19.23) and (19.27) for a charge-pump PLL into (19.49) and rearranging,\n\n$$\n\\begin{equation*}\nC_1 = \\frac{(2.5)^2 I_{\\mathrm{ch}} K_{\\mathrm{osc}}}{2\\pi \\omega_{3\\mathrm{dB}}^2 N} \\tag{19.50}\n\\end{equation*}\n$$\n\nWith $\\omega_{3\\mathrm{dB}} = 2\\pi \\cdot 10 \\mathrm{MHz} / 20$, $C_1 = 6.25 \\mathrm{pF}$. From (19.38) and $\\mathrm{Q} = \\omega_z / \\omega_{\\mathrm{pll}}$, $\\omega_z = Q \\omega_{3\\mathrm{dB}} / 2.5$, implying\n\n$$\n\\begin{equation*}\nR = \\frac{2.5}{C_1 \\omega_{3\\mathrm{dB}} Q} \\tag{19.51}\n\\end{equation*}\n$$\n\nThis gives $R = 255 \\mathrm{k}\\Omega$. To suppress glitches, $\\mathrm{C}_2 = C_1 / 10 = 0.625 \\mathrm{fF}$ is chosen, placing the additional pole beyond the loop bandwidth.\n\nNote that the component values in Example 19.7 with $Q=0.5$ are more easily integrated than those in Examples 19.5 and 19.6 with $Q=0.1$. The trade-off is increased overshoot and jitter peaking in the closed-loop PLL response."
},
{
    "text": "The rephrased text:\n\n```\nWhile the specifics of a PLL design process will naturally vary based on the system's defined parameters, the following guidelines offer fundamental direction.\n\n- The ratio between the target output frequency and the input reference frequency determines the divider ratio, N.\n- The VCO gain constant $\\mathrm{K}_{\\text {osc }}$ is typically established by the VCO's circuit design considerations, but it generally needs to be sufficiently large to accommodate the expected variations in the VCO's free-running frequency and the desired output frequency.\n- When minimizing jitter peaking or achieving rapid loop settling are key design criteria, a $\\mathrm{Q} « 0.5$ value is preferable, with $\\mathrm{Q}=0.1$ being a practical choice. However, $\\mathrm{Q}=0.5$ usually results in loop filter component values that are more feasible to implement.\n- When a high-quality (low-noise) input reference clock is available, a higher loop bandwidth is advantageous. Nonetheless, the loop bandwidth should not exceed one-tenth of the input reference frequency to ensure stable operation.\n- Once the loop bandwidth is determined, set $\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}=0.5^{6}$, or use $\\omega_{\\mathrm{pII}}=Q \\omega_{3 \\mathrm{~dB}}$ for Q «0.5 ${ }^{7}$.\n- With N and $\\mathrm{K}_{\\text {osc }}$ established as described, $\\mathrm{K}_{p d}$ and $\\mathrm{K}_{\\mathrm{lp}}$ are selected to achieve the desired $\\omega_{\\mathrm{plI}}=\\sqrt{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{K}_{\\mathrm{lp}} \\mathrm{K}_{\\mathrm{osc}} / \\mathrm{N}^{8}}$. In a charge-pump PLL, this involves choosing $\\mathrm{I}_{\\mathrm{ch}}=2 \\pi \\mathrm{~K}_{\\mathrm{pd}}{ }^{9}$ and $\\mathrm{C}_{1}$ ( $\\cong 1 / \\mathrm{K}_{\\mathrm{Ip}}$忽略 $\\mathrm{C}_{2}{ }^{10}$ ). The designer has one degree of freedom here, which is used to influence the\n\n[^4]image_name:Fig. 19.11 A general integer-N PLL architecture.\ndescription:The diagram illustrates a typical integer-N Phase-Locked Loop (PLL) architecture, designed to synchronize an output oscillator frequency with a reference frequency. Here is a detailed breakdown of the components and their interactions:\n\n1. **Main Components:**\n- **Input Divider (÷ M):** This block divides the input frequency \\( f_{in} \\) by M, resulting in \\( \\frac{f_{in}}{M} \\).\n- **Phase Detector:** This component compares the divided input frequency \\( \\frac{f_{in}}{M} \\) with the feedback frequency from the output, generating an error signal proportional to the phase difference.\n- **Loop Filter:** The phase detector's error signal is processed by the loop filter, which smooths the signal and determines the PLL's dynamic response. The loop filter's output is a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO):** The VCO adjusts its output frequency \\( f_{osc} \\) based on the control voltage \\( V_{cntl} \\).\n- **Feedback Divider (÷ N):** This block divides the VCO's output frequency \\( f_{osc} \\) by N, providing feedback to the phase detector.\n\n2. **Information and Control Flow:**\n- The input frequency \\( f_{in} \\) is divided by M and sent to the phase detector.\n- The VCO's output frequency \\( f_{osc} \\) is divided by N and also sent to the phase detector.\n- The phase detector compares these frequencies and generates an error signal.\n- The loop filter processes this error signal to produce a control voltage \\( V_{cntl} \\).\n- The VCO adjusts its frequency \\( f_{osc} \\) based on \\( V_{cntl} \\), completing the loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The output frequency is described by the equation \\( f_{osc} = \\frac{N}{M} f_{in} \\), showing the relationship between input and output frequencies.\n- The diagram uses arrows to indicate the direction of signal processing and feedback.\n\n4. **Overall System Function:**\n- The primary function of this integer-N PLL is to lock the VCO's output frequency to a multiple of the input frequency. By adjusting the division factors M and N, the system can produce an output frequency that is a rational multiple of the input frequency, \\( \\frac{N}{M} f_{in} \\). This architecture is widely used in frequency synthesis, clock generation, and modulation/demodulation applications.\n\nFig. 19.11 A general integer-N PLL architecture.\nsize of the loop filter components, the power consumption in the phase detector, and the noise in the loop filter (since a smaller resistor value generally reduces loop filter noise).\n\n- Set $\\omega_{\\mathrm{z}}=Q \\omega_{\\text {pII }}{ }^{11}$. In a charge-pump PLL, this involves choosing $R=1 / \\omega_{\\mathrm{z}} \\mathrm{C}_{1}{ }^{12}$.\n- In a charge-pump PLL, an additional pole is introduced by the glitch-suppression capacitor $\\mathrm{C}_{2}$. With $\\mathrm{Q}=0.5$, choose $C_{2}$ between one-tenth and one-eighth the value of $C_{1}$. With $Q=0.1$, $C_{2}$ should be approximately $1 / 250$ th the value of $\\mathrm{C}_{1}$.\n\n#### EXAMPLE 19.8\n\nDesign a charge-pump PLL that accepts a fixed 40 MHz reference and can generate an output clock frequency ranging from 1.4 GHz to 1.6 GHz in 20 MHz increments. For each output frequency, a different division ratio is used. To cover the entire output frequency range while the control voltage varies by only $2 \\mathrm{~V}$, $\\mathrm{K}_{\\text {osc }}$ is chosen to be $2 \\pi \\cdot 10^{8} \\mathrm{rad} / \\mathrm{s} \\cdot V$. Determine the values of $I_{\\mathrm{ch}}$ and the loop filter components $C_{1}, R$, and $C_{2}$.\n\n#### Solution\n\nThe output frequency is N times the input frequency, so varying the division ratio N allows the output frequency to be set at different integer multiples of the input reference. This architecture is known as an integer- $\\boldsymbol{N P L L}$. When the output frequency requires finer resolution than the available reference signal, an additional divider is applied to the input to reduce its frequency. The general architecture, depicted in Fig. 19.11, yields an output frequency of $(\\mathrm{N} / \\mathrm{M}) \\mathrm{f}_{\\mathrm{in}}$.\n\nIn this scenario, given the 20 MHz output frequency resolution requirement, a divide-by-2 $(\\mathrm{M}=2)$ is applied to the $40-\\mathrm{MHz}$ input. To cover the full output frequency range, N must be programmable from 70 to 80. A $\\mathrm{Q}=0.5$ value is chosen, and assuming the input reference has minimal noise, the loop bandwidth is set to one-tenth of $20 \\mathrm{MHz}: \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 2 \\mathrm{MHz}$. Thus,\n\n$$\n\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 800 \\mathrm{kHz}\n$$\n\n[^5]12. equation (19.28)\n\nCombining equations (19.23), (19.27), and (19.32) and rearranging gives\n\n$$\n\\begin{equation*}\n\\frac{\\mathrm{I}_{\\mathrm{ch}}}{\\mathrm{C}_{1}}=\\omega_{\\mathrm{pll}}^{2} \\frac{2 \\pi \\mathrm{~N}}{\\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.52}\n\\end{equation*}\n$$\n\nSubstituting the example values, $\\mathrm{I}_{\\mathrm{ch}} / \\mathrm{C}_{1} \\cong 20 \\cdot 10^{6} \\mathrm{~V} / \\mathrm{s}$. A reasonable choice is $\\mathrm{I}_{\\mathrm{ch}}=100 \\mu \\mathrm{~A}$ and $\\mathrm{C}_{1}=5 \\mathrm{pF}$. The resistor must then be selected to place a zero at $\\omega_{\\mathrm{z}}=Q \\omega_{\\mathrm{pII}}=2 \\pi \\cdot 400 \\mathrm{kHz}$. Hence, $R=1 /\\left(\\omega_{z} C_{1}\\right) \\cong 80 \\mathrm{k} \\Omega$. Finally, with $Q=0.5$, a suitable choice is $C_{2}=C_{1} / 10=0.5 \\mathrm{pF}$.\n```"
},
{
    "text": "The rephrased text:\n\n```\nWhile the specifics of a PLL design process naturally hinge on the defined aspects of the system, the following guidelines offer fundamental direction.\n\n- The relationship between the target output frequency and the input reference frequency dictates the divider ratio, N.\n- The VCO gain constant $\\mathrm{K}_{\\text {osc }}$ is typically established by the circuit design considerations within the VCO, but it generally needs to be sufficiently large to accommodate the anticipated variations in the VCO's free-running frequency and the desired output frequency.\n- When low jitter peaking or rapid loop settling are critical design parameters, a $\\mathrm{Q} « 0.5$ value is preferable, with $\\mathrm{Q}=0.1$ being a sensible option. Nonetheless, $\\mathrm{Q}=0.5$ usually leads to loop filter component values that are more practical to implement.\n- In scenarios where a high-quality (low-noise) input reference clock is accessible, a wider loop bandwidth is advantageous. However, the loop bandwidth should not exceed one-tenth of the input reference frequency to ensure stable operation.\n- Once the loop bandwidth is determined, set $\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}=0.5^{6}$, or use $\\omega_{\\mathrm{pII}}=Q \\omega_{3 \\mathrm{~dB}}$ for Q «0.5 ${ }^{7}$.\n- With N and $\\mathrm{K}_{\\text {osc }}$ established as outlined, $\\mathrm{K}_{p d}$ and $\\mathrm{K}_{\\mathrm{lp}}$ are selected to achieve the desired $\\omega_{\\mathrm{plI}}=\\sqrt{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{K}_{\\mathrm{lp}} \\mathrm{K}_{\\mathrm{osc}} / \\mathrm{N}^{8}}$. In a charge-pump PLL, this involves choosing $\\mathrm{I}_{\\mathrm{ch}}=2 \\pi \\mathrm{~K}_{\\mathrm{pd}}{ }^{9}$ and $\\mathrm{C}_{1}$ ( $\\cong 1 / \\mathrm{K}_{\\mathrm{Ip}}$ disregarding $\\mathrm{C}_{2}{ }^{10}$ ). The designer has one degree of freedom here, which influences the\n\n[^4]image_name:Fig. 19.11 A general integer-N PLL architecture.\ndescription:The illustration depicts a typical integer-N Phase-Locked Loop (PLL) architecture, designed to synchronize an output oscillator frequency with a reference frequency. Here's a detailed examination of the components and their interactions:\n\n1. **Core Components:**\n- **Input Divider (÷ M):** This unit reduces the input frequency \\( f_{in} \\) by a factor of M, resulting in \\( \\frac{f_{in}}{M} \\).\n- **Phase Detector:** This element compares the divided input frequency \\( \\frac{f_{in}}{M} \\) with the feedback frequency from the output, generating an error signal proportional to the phase discrepancy.\n- **Loop Filter:** The phase detector's error signal is processed by the loop filter, which smooths the signal and governs the PLL's dynamic response, producing a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO):** The VCO adjusts its output frequency \\( f_{osc} \\) based on the control voltage \\( V_{cntl} \\).\n- **Feedback Divider (÷ N):** This component divides the VCO output frequency \\( f_{osc} \\) by N, feeding it back to the phase detector.\n\n2. **Signal Flow and Control:**\n- The input frequency \\( f_{in} \\) is divided by M and directed to the phase detector.\n- The VCO output frequency \\( f_{osc} \\) is divided by N and also sent to the phase detector.\n- The phase detector compares these frequencies and emits an error signal.\n- The loop filter processes this signal to generate a control voltage \\( V_{cntl} \\).\n- The VCO modifies its frequency \\( f_{osc} \\) in response to \\( V_{cntl} \\), completing the loop.\n\n3. **Labels and Key Indicators:**\n- The output frequency is defined by the equation \\( f_{osc} = \\frac{N}{M} f_{in} \\), illustrating the relationship between input and output frequencies.\n- The diagram uses arrows to indicate the direction of signal flow and feedback.\n\n4. **System Functionality:**\n- The main function of this integer-N PLL is to lock the VCO output frequency to a multiple of the input frequency. By adjusting the division factors M and N, the system can generate an output frequency that is a rational multiple of the input frequency, \\( \\frac{N}{M} f_{in} \\). This architecture is widely used in frequency synthesis, clock generation, and modulation/demodulation applications.\n\nFig. 19.11 A general integer-N PLL architecture.\nsize of the loop filter components, the power consumption in the phase detector, and the noise in the loop filter (as a smaller resistor value generally reduces loop filter noise).\n\n- Set $\\omega_{\\mathrm{z}}=Q \\omega_{\\text {pII }}{ }^{11}$. In a charge-pump PLL, this involves choosing $R=1 / \\omega_{\\mathrm{z}} \\mathrm{C}_{1}{ }^{12}$.\n- In a charge-pump PLL, an additional pole is introduced by the glitch-suppression capacitor $\\mathrm{C}_{2}$. With $\\mathrm{Q}=0.5$, choose $C_{2}$ between one-tenth and one-eighth the value of $C_{1}$. With $Q=0.1$, $C_{2}$ should be approximately $1 / 250$ th the value of $\\mathrm{C}_{1}$.\n\n#### EXAMPLE 19.8\n\nDesign a charge-pump PLL that accepts a fixed 40 MHz reference and can generate an output clock frequency ranging from 1.4 GHz to 1.6 GHz in 20 MHz increments. For each output frequency, a different division ratio is employed. To cover the entire output frequency range while the control voltage varies by only $2 \\mathrm{~V}, \\mathrm{~K}_{\\text {osc }}$ is set to $2 \\pi \\cdot 10^{8} \\mathrm{rad} / \\mathrm{s} \\cdot V$. Determine the values of $I_{\\mathrm{ch}}$ and the loop filter components $C_{1}, R$, and $C_{2}$.\n\n#### Solution\n\nThe output frequency is N times the input frequency, allowing the output frequency to be set at different integer multiples of the input reference by varying the division ratio N. This architecture is known as an integer- $\\boldsymbol{N P L L}$. When finer resolution than the available reference signal is required for setting the output frequency, an additional divider is used at the input to reduce its frequency. The general architecture, as shown in Fig. 19.11, produces an output frequency of $(\\mathrm{N} / \\mathrm{M}) \\mathrm{f}_{\\mathrm{in}}$.\n\nIn this scenario, given the 20 MHz output frequency resolution requirement, a divide-by-2 $(\\mathrm{M}=2)$ is applied to the $40-\\mathrm{MHz}$ input. To cover the full output frequency range, N must be programmable from 70 to 80. A $\\mathrm{Q}=0.5$ value is chosen, and assuming the input reference has minimal noise, the loop bandwidth is set to one-tenth of $20 \\mathrm{MHz}: \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 2 \\mathrm{MHz}$. Thus,\n\n$$\n\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 800 \\mathrm{kHz}\n$$\n\n[^5]12. equation (19.28)\n\nCombining equations (19.23), (19.27), and (19.32) and rearranging gives\n\n$$\n\\begin{equation*}\n\\frac{\\mathrm{I}_{\\mathrm{ch}}}{\\mathrm{C}_{1}}=\\omega_{\\mathrm{pll}}^{2} \\frac{2 \\pi \\mathrm{~N}}{\\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.52}\n\\end{equation*}\n$$\n\nSubstituting the example values, $\\mathrm{I}_{\\mathrm{ch}} / \\mathrm{C}_{1} \\cong 20 \\cdot 10^{6} \\mathrm{~V} / \\mathrm{s}$. A reasonable selection is $\\mathrm{I}_{\\mathrm{ch}}=100 \\mu \\mathrm{~A}$ and $\\mathrm{C}_{1}=5 \\mathrm{pF}$. The resistor is then chosen to place a zero at $\\omega_{\\mathrm{z}}=Q \\omega_{\\mathrm{pII}}=2 \\pi \\cdot 400 \\mathrm{kHz}$, resulting in $R=1 /\\left(\\omega_{z} C_{1}\\right) \\cong 80 \\mathrm{k} \\Omega$. Finally, with $Q=0.5$, a suitable choice for $C_{2}$ is $C_{1} / 10=0.5 \\mathrm{pF}$.\n```"
},
{
    "text": "While the specifics of a PLL design procedure will naturally vary based on the system specifications, the following guidelines offer fundamental direction.\n\n- The ratio between the desired output frequency and the input reference frequency establishes the divider ratio, N.\n- The VCO gain constant $\\mathrm{K}_{\\text{osc}}$ is typically determined by circuit design considerations within the VCO, but it generally needs to be sufficiently large to enable the VCO to cover the anticipated variations in its free-running frequency and the desired output frequency.\n- When minimal jitter peaking or rapid loop settling are critical design criteria, a value of $\\mathrm{Q} \\ll 0.5$ is preferred, with $\\mathrm{Q}=0.1$ being a reasonable choice. However, $\\mathrm{Q}=0.5$ usually results in loop filter component values that are more practical to realize.\n- When a high-quality (low-noise) input reference clock is available, a higher loop bandwidth is beneficial. Nevertheless, the loop bandwidth is constrained to a maximum of one-tenth of the input reference frequency to ensure robust stability.\n- Once the loop bandwidth is defined, set $\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}=0.5^{6}$, or use $\\omega_{\\mathrm{pII}}=Q \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q} \\ll 0.5^{7}$.\n- With N and $\\mathrm{K}_{\\text{osc}}$ determined as outlined, $\\mathrm{K}_{\\mathrm{pd}}$ and $\\mathrm{K}_{\\mathrm{lp}}$ are selected to achieve the desired $\\omega_{\\mathrm{plI}}=\\sqrt{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{K}_{\\mathrm{lp}} \\mathrm{K}_{\\mathrm{osc}} / \\mathrm{N}^{8}}$. In a charge-pump PLL, this involves choosing $\\mathrm{I}_{\\mathrm{ch}}=2 \\pi \\mathrm{~K}_{\\mathrm{pd}}^{9}$ and $\\mathrm{C}_{1}$ ( $\\approx 1 / \\mathrm{K}_{\\mathrm{Ip}}$, neglecting $\\mathrm{C}_{2}^{10}$ ). The designer has one degree of freedom here, which is used to influence the\n\n[^4]Image Description: Fig. 19.11 illustrates a general integer-N Phase-Locked Loop (PLL) architecture. This system is designed to synchronize an output oscillator frequency with a reference frequency. Here is a detailed breakdown of the components and their interactions:\n\n1. **Main Components:**\n   - **Input Divider (÷ M):** This block divides the input frequency \\( f_{in} \\) by a factor of M, resulting in \\( \\frac{f_{in}}{M} \\).\n   - **Phase Detector:** This component compares the divided input frequency \\( \\frac{f_{in}}{M} \\) with the feedback frequency from the output, generating an error signal proportional to the phase difference.\n   - **Loop Filter:** The error signal from the phase detector is processed by the loop filter, which smooths the signal and determines the dynamic response of the PLL. The loop filter's output is a control voltage \\( V_{cntl} \\).\n   - **Voltage-Controlled Oscillator (VCO):** The VCO adjusts its output frequency \\( f_{osc} \\) based on the control voltage \\( V_{cntl} \\).\n   - **Feedback Divider (÷ N):** This block divides the VCO output frequency \\( f_{osc} \\) by a factor of N, feeding it back to the phase detector.\n\n2. **Flow of Information or Control:**\n   - The input frequency \\( f_{in} \\) is divided by M and sent to the phase detector.\n   - The VCO output frequency \\( f_{osc} \\) is divided by N and also sent to the phase detector.\n   - The phase detector compares these two frequencies and outputs an error signal.\n   - The loop filter processes this error signal to produce a control voltage \\( V_{cntl} \\).\n   - The VCO adjusts its frequency \\( f_{osc} \\) based on \\( V_{cntl} \\), closing the loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The output frequency is described by the equation \\( f_{osc} = \\frac{N}{M} f_{in} \\), indicating the relationship between the input and output frequencies.\n   - The diagram shows the flow of signals with arrows, indicating the direction of signal processing and feedback.\n\n4. **Overall System Function:**\n   - The primary function of this integer-N PLL is to lock the VCO output frequency to be a multiple of the input frequency. By adjusting the division factors M and N, the system can produce an output frequency that is a rational multiple of the input frequency, \\( \\frac{N}{M} f_{in} \\). This architecture is commonly used in frequency synthesis, clock generation, and modulation/demodulation applications.\n\nFig. 19.11 A general integer-N PLL architecture.\nsize of the loop filter components, the power consumption in the phase detector, and the noise in the loop filter (since a smaller resistor value generally reduces noise in the loop filter).\n\n- Set $\\omega_{\\mathrm{z}}=Q \\omega_{\\text{pII}}^{11}$. In a charge-pump PLL, this involves choosing $R=1 / \\omega_{\\mathrm{z}} \\mathrm{C}_{1}^{12}$.\n- In a charge-pump PLL, an additional pole is introduced by the glitch-suppression capacitor $\\mathrm{C}_{2}$. With $\\mathrm{Q}=0.5$, select $C_{2}$ between one-tenth and one-eighth the value of $C_{1}$. With $Q=0.1$, the value of $C_{2}$ should be approximately $1 / 250$th the value of $\\mathrm{C}_{1}$.\n\n#### EXAMPLE 19.8\n\nDesign a charge-pump PLL that accepts a fixed 40 MHz reference and can produce an output clock frequency anywhere in the range 1.4 GHz to 1.6 GHz in 20 MHz steps. For each output frequency, a different division ratio is used. To cover the full range of output frequencies while the control voltage changes by only 2 V, $\\mathrm{K}_{\\text{osc}}$ is chosen to be $2 \\pi \\cdot 10^{8} \\mathrm{rad} / \\mathrm{s} \\cdot V$. Select the values for $I_{\\mathrm{ch}}$ and the loop filter components $C_{1}, R$, and $C_{2}$.\n\n#### Solution\n\nThe output frequency is N times higher than the input frequency, so varying the division ratio N allows the output frequency to be set at different integer multiples of the input reference. Hence, this architecture is termed an integer-N PLL. When the output frequency needs to be set with a resolution finer than the available reference signal, an additional divider is applied to the input to reduce its frequency. The general architecture, as shown in Fig. 19.11, produces an output frequency of $(\\mathrm{N} / \\mathrm{M}) \\mathrm{f}_{\\mathrm{in}}$.\n\nIn this scenario, given the output frequency resolution requirement of 20 MHz, a divide-by-2 ($\\mathrm{M}=2$) is applied to the 40 MHz input. To cover the full range of output frequencies, N must be programmable to any integer from 70 to 80. A value of $\\mathrm{Q}=0.5$ is chosen, and assuming the input reference has very low noise, the loop bandwidth is set to one-tenth of 20 MHz: $\\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 2 \\mathrm{MHz}$. Therefore,\n\n$$\n\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 800 \\mathrm{kHz}\n$$\n\n[^5]12. equation (19.28)\n\nCombining equations (19.23), (19.27), and (19.32) and rearranging yields\n\n$$\n\\begin{equation*}\n\\frac{\\mathrm{I}_{\\mathrm{ch}}}{\\mathrm{C}_{1}}=\\omega_{\\mathrm{pll}}^{2} \\frac{2 \\pi \\mathrm{~N}}{\\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.52}\n\\end{equation*}\n$$\n\nSubstituting the values for this example, $\\mathrm{I}_{\\mathrm{ch}} / \\mathrm{C}_{1} \\approx 20 \\cdot 10^{6} \\mathrm{~V} / \\mathrm{s}$. A reasonable choice is $\\mathrm{I}_{\\mathrm{ch}}=100 \\mu \\mathrm{A}$ and $\\mathrm{C}_{1}=5 \\mathrm{pF}$. The resistor must then be chosen to place a zero at $\\omega_{\\mathrm{z}}=Q \\omega_{\\mathrm{pII}}=2 \\pi \\cdot 400 \\mathrm{kHz}$. Hence, $R=1 /\\left(\\omega_{z} C_{1}\\right) \\approx 80 \\mathrm{k} \\Omega$. Finally, with $\\mathrm{Q}=0.5$, a good choice is $C_{2}=C_{1} / 10=0.5 \\mathrm{pF}$."
},
{
    "text": "The rephrased text:\n\n```\nWhile the specifics of a PLL design process naturally depend on the defined aspects of the system, the following guidelines offer fundamental direction.\n\n- The ratio between the target output frequency and the input reference frequency establishes the divider ratio, N.\n- The VCO gain constant $\\mathrm{K}_{\\text {osc }}$ is typically dictated by the circuit design considerations within the VCO, but it generally must be sufficiently large to enable the VCO to cover the anticipated variations in its free-running and desired output frequencies.\n- When minimizing jitter peaking or ensuring rapid loop settling are critical design criteria, a $\\mathrm{Q} « 0.5$ value is preferable, with $\\mathrm{Q}=0.1$ being a practical choice. However, $\\mathrm{Q}=0.5$ usually results in more easily achievable loop filter component values.\n- With a high-quality (low-noise) input reference clock available, a wider loop bandwidth is advantageous. Nonetheless, the loop bandwidth should not exceed one-tenth of the input reference frequency to ensure stable operation.\n- Once the loop bandwidth is determined, set $\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}=0.5^{6}$, or use $\\omega_{\\mathrm{pII}}=Q \\omega_{3 \\mathrm{~dB}}$ for Q «0.5 ${ }^{7}$.\n- With N and $\\mathrm{K}_{\\text {osc }}$ established as outlined, $\\mathrm{K}_{p d}$ and $\\mathrm{K}_{\\mathrm{lp}}$ are selected to achieve the desired $\\omega_{\\mathrm{plI}}=\\sqrt{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{K}_{\\mathrm{lp}} \\mathrm{K}_{\\mathrm{osc}} / \\mathrm{N}^{8}}$. In a charge-pump PLL, this involves choosing $\\mathrm{I}_{\\mathrm{ch}}=2 \\pi \\mathrm{~K}_{\\mathrm{pd}}{ }^{9}$ and $\\mathrm{C}_{1}$ ( $\\cong 1 / \\mathrm{K}_{\\mathrm{Ip}}$ ignoring $\\mathrm{C}_{2}{ }^{10}$ ). The designer has one degree of freedom here, which is used to influence the\n\n[^4]image_name:Fig. 19.11 A general integer-N PLL architecture.\ndescription:The illustration depicts a standard integer-N Phase-Locked Loop (PLL) architecture, designed to synchronize an output oscillator frequency with a reference frequency. Here is a detailed breakdown of the components and their interactions:\n\n1. **Key Components:**\n- **Input Divider (÷ M):** This section divides the input frequency \\( f_{in} \\) by M, resulting in \\( \\frac{f_{in}}{M} \\).\n- **Phase Detector:** This unit compares the divided input frequency \\( \\frac{f_{in}}{M} \\) with the feedback frequency from the output, generating an error signal proportional to the phase difference.\n- **Loop Filter:** The phase detector's error signal is processed by the loop filter, which smooths the signal and determines the PLL's dynamic response, producing a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO):** The VCO adjusts its output frequency \\( f_{osc} \\) based on the control voltage \\( V_{cntl} \\).\n- **Feedback Divider (÷ N):** This unit divides the VCO output frequency \\( f_{osc} \\) by N, feeding it back to the phase detector.\n\n2. **Signal Flow and Control:**\n- The input frequency \\( f_{in} \\) is divided by M and directed to the phase detector.\n- The VCO output frequency \\( f_{osc} \\) is divided by N and also sent to the phase detector.\n- The phase detector compares these frequencies, producing an error signal.\n- The loop filter processes this error signal to generate a control voltage \\( V_{cntl} \\).\n- The VCO adjusts its frequency \\( f_{osc} \\) based on \\( V_{cntl} \\), completing the loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The output frequency is defined by the equation \\( f_{osc} = \\frac{N}{M} f_{in} \\), showing the relationship between input and output frequencies.\n- The diagram uses arrows to indicate the direction of signal flow and feedback.\n\n4. **System Function Overview:**\n- The main function of this integer-N PLL is to lock the VCO output frequency to a multiple of the input frequency. By adjusting the division factors M and N, the system can generate an output frequency that is a rational multiple of the input frequency, \\( \\frac{N}{M} f_{in} \\). This architecture is widely used in frequency synthesis, clock generation, and modulation/demodulation applications.\n\nFig. 19.11 A general integer-N PLL architecture.\nsize of the loop filter components, the power consumption in the phase detector, and the noise in the loop filter (as a smaller resistor value generally reduces loop filter noise).\n\n- Set $\\omega_{\\mathrm{z}}=Q \\omega_{\\text {pII }}{ }^{11}$. In a charge-pump PLL, this involves choosing $R=1 / \\omega_{\\mathrm{z}} \\mathrm{C}_{1}{ }^{12}$.\n- In a charge-pump PLL, an additional pole is introduced by the glitch-suppression capacitor $\\mathrm{C}_{2}$. With $\\mathrm{Q}=0.5$, choose $C_{2}$ between one-tenth and one-eighth the value of $C_{1}$. With $Q=0.1$, $C_{2}$ should be approximately $1 / 250$ th the value of $\\mathrm{C}_{1}$.\n\n#### EXAMPLE 19.8\n\nDesign a charge-pump PLL that accepts a fixed 40 MHz reference and can generate an output clock frequency ranging from 1.4 GHz to 1.6 GHz in 20 MHz increments. For each output frequency, a different division ratio is used. To cover the entire output frequency range while the control voltage changes by only $2 \\mathrm{~V}, \\mathrm{~K}_{\\text {osc }}$ is set to $2 \\pi \\cdot 10^{8} \\mathrm{rad} / \\mathrm{s} \\cdot V$. Determine the values of $I_{\\mathrm{ch}}$ and the loop filter components $C_{1}, R$, and $C_{2}$.\n\n#### Solution\n\nThe output frequency is N times the input frequency, allowing the output frequency to be set at different integer multiples of the input reference by varying the division ratio N. Hence, this is termed an integer- $\\boldsymbol{N P L L}$. When finer resolution than the available reference signal is required, an additional divider is applied to the input to reduce its frequency. The general architecture, shown in Fig. 19.11, produces an output frequency of $(\\mathrm{N} / \\mathrm{M}) \\mathrm{f}_{\\mathrm{in}}$.\n\nIn this scenario, given the 20 MHz output frequency resolution requirement, a divide-by-2 $(\\mathrm{M}=2)$ is applied to the $40-\\mathrm{MHz}$ input. To span the full output frequency range, N must be programmable from 70 to 80. A $\\mathrm{Q}=0.5$ value is chosen, and assuming very low noise in the input reference, the loop bandwidth is set to one-tenth of $20 \\mathrm{MHz}: \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 2 \\mathrm{MHz}$. Thus,\n\n$$\n\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 800 \\mathrm{kHz}\n$$\n\n[^5]12. equation (19.28)\n\nCombining equations (19.23), (19.27), and (19.32) and rearranging gives\n\n$$\n\\begin{equation*}\n\\frac{\\mathrm{I}_{\\mathrm{ch}}}{\\mathrm{C}_{1}}=\\omega_{\\mathrm{pll}}^{2} \\frac{2 \\pi \\mathrm{~N}}{\\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.52}\n\\end{equation*}\n$$\n\nSubstituting the example values, $\\mathrm{I}_{\\mathrm{ch}} / \\mathrm{C}_{1} \\cong 20 \\cdot 10^{6} \\mathrm{~V} / \\mathrm{s}$. A reasonable selection is $\\mathrm{I}_{\\mathrm{ch}}=100 \\mu \\mathrm{~A}$ and $\\mathrm{C}_{1}=5 \\mathrm{pF}$. The resistor must then be chosen to place a zero at $\\omega_{\\mathrm{z}}=Q \\omega_{\\mathrm{pII}}=2 \\pi \\cdot 400 \\mathrm{kHz}$. Therefore, $R=1 /\\left(\\omega_{z} C_{1}\\right) \\cong 80 \\mathrm{k} \\Omega$. Finally, with $Q=0.5$, a suitable choice is $C_{2}=C_{1} / 10=0.5 \\mathrm{pF}$.\n```"
},
{
    "text": "The specifics of a PLL design process will naturally vary based on the system's specified parameters, but the following guidelines offer fundamental direction.\n\n- The divider ratio, N, is determined by the ratio between the target output frequency and the input reference frequency.\n- The VCO gain constant, $\\mathrm{K}_{\\text{osc}}$, is typically established by the circuit design within the VCO, but it must generally be sufficiently large to enable the VCO to cover anticipated variations in its free-running and desired output frequencies.\n- When low jitter peaking or rapid loop settling are critical design criteria, a $\\mathrm{Q}$ value much less than 0.5 is preferred, with $\\mathrm{Q}=0.1$ being a practical choice. However, $\\mathrm{Q}=0.5$ usually results in more easily achievable loop filter component values.\n- When a high-quality (low-noise) input reference clock is available, a wider loop bandwidth is advantageous. Nonetheless, the loop bandwidth should not exceed one-tenth of the input reference frequency to ensure stable operation.\n- Once the loop bandwidth is determined, set $\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}=0.5^{6}$, or use $\\omega_{\\mathrm{pII}}=Q \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}$ much less than 0.5 ${}^{7}$.\n- With N and $\\mathrm{K}_{\\text{osc}}$ established as outlined, $\\mathrm{K}_{\\mathrm{pd}}$ and $\\mathrm{K}_{\\mathrm{lp}}$ are selected to achieve the desired $\\omega_{\\mathrm{plI}}=\\sqrt{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{K}_{\\mathrm{lp}} \\mathrm{K}_{\\mathrm{osc}} / \\mathrm{N}^{8}}$. In a charge-pump PLL, this involves choosing $\\mathrm{I}_{\\mathrm{ch}}=2 \\pi \\mathrm{~K}_{\\mathrm{pd}}{ }^{9}$ and $\\mathrm{C}_{1}$ (approximately $1 / \\mathrm{K}_{\\mathrm{Ip}}$, neglecting $\\mathrm{C}_{2}{ }^{10}$). The designer has one degree of freedom here, which can influence the loop filter component size, phase detector power consumption, and loop filter noise (since a smaller resistor typically reduces noise).\n\n[^4]Image Description: Fig. 19.11 illustrates a general integer-N Phase-Locked Loop (PLL) architecture. This setup is used to synchronize an output oscillator frequency with a reference frequency. Here is a detailed breakdown of the components and their interactions:\n\n1. **Main Components:**\n- **Input Divider (÷ M):** This block divides the input frequency \\( f_{in} \\) by M, resulting in \\( \\frac{f_{in}}{M} \\).\n- **Phase Detector:** This compares the divided input frequency \\( \\frac{f_{in}}{M} \\) with the feedback frequency from the output, generating an error signal proportional to the phase difference.\n- **Loop Filter:** The phase detector's error signal is processed by the loop filter, which smooths the signal and determines the PLL's dynamic response, producing a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO):** The VCO adjusts its output frequency \\( f_{osc} \\) based on the control voltage \\( V_{cntl} \\).\n- **Feedback Divider (÷ N):** This divides the VCO output frequency \\( f_{osc} \\) by N, providing feedback to the phase detector.\n\n2. **Information and Control Flow:**\n- The input frequency \\( f_{in} \\) is divided by M and sent to the phase detector.\n- The VCO output frequency \\( f_{osc} \\) is divided by N and also sent to the phase detector.\n- The phase detector compares these frequencies, generating an error signal.\n- The loop filter processes this error signal to create a control voltage \\( V_{cntl} \\).\n- The VCO adjusts its frequency \\( f_{osc} \\) based on \\( V_{cntl} \\), completing the loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The output frequency is given by \\( f_{osc} = \\frac{N}{M} f_{in} \\), showing the relationship between input and output frequencies.\n- Arrows in the diagram indicate the direction of signal processing and feedback.\n\n4. **Overall System Function:**\n- The primary role of this integer-N PLL is to lock the VCO output frequency to a multiple of the input frequency. By adjusting M and N, the system can generate an output frequency that is a rational multiple of the input frequency, \\( \\frac{N}{M} f_{in} \\). This architecture is widely used in frequency synthesis, clock generation, and modulation/demodulation applications.\n\nFig. 19.11 A general integer-N PLL architecture.\n\n- Set $\\omega_{\\mathrm{z}}=Q \\omega_{\\text{pII}}{ }^{11}$. In a charge-pump PLL, this involves choosing $R=1 / \\omega_{\\mathrm{z}} \\mathrm{C}_{1}{ }^{12}$.\n- In a charge-pump PLL, the glitch-suppression capacitor $\\mathrm{C}_{2}$ introduces an additional pole. For $\\mathrm{Q}=0.5$, choose $C_{2}$ between one-tenth and one-eighth of $C_{1}$. For $Q=0.1$, $C_{2}$ should be approximately $1 / 250$th of $\\mathrm{C}_{1}$.\n\n#### EXAMPLE 19.8\n\nDesign a charge-pump PLL that accepts a fixed 40 MHz reference and can generate an output clock frequency ranging from 1.4 GHz to 1.6 GHz in 20 MHz increments. Each output frequency requires a different division ratio. To cover the full output range with only a $2 \\mathrm{~V}$ change in control voltage, $\\mathrm{K}_{\\text{osc}}$ is set to $2 \\pi \\cdot 10^{8} \\mathrm{rad} / \\mathrm{s} \\cdot V$. Determine the values for $I_{\\mathrm{ch}}$ and the loop filter components $C_{1}, R$, and $C_{2}$.\n\n#### Solution\n\nThe output frequency is N times the input frequency, allowing different integer multiples of the input reference by varying the division ratio N, hence the term integer-N PLL. When finer resolution than the available reference signal is needed, an additional divider is applied to the input to reduce its frequency. The general architecture, shown in Fig. 19.11, produces an output frequency of $(\\mathrm{N} / \\mathrm{M}) \\mathrm{f}_{\\mathrm{in}}$.\n\nIn this scenario, the 20 MHz output frequency resolution requirement necessitates a divide-by-2 (M=2) on the 40 MHz input. To cover the full output range, N must be adjustable from 70 to 80. With $\\mathrm{Q}=0.5$ selected and assuming very low noise in the input reference, the loop bandwidth is set to one-tenth of 20 MHz: $\\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 2 \\mathrm{MHz}$. Thus,\n\n$$\n\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 800 \\mathrm{kHz}\n$$\n\n[^5]12. equation (19.28)\n\nCombining equations (19.23), (19.27), and (19.32) and rearranging gives\n\n$$\n\\begin{equation*}\n\\frac{\\mathrm{I}_{\\mathrm{ch}}}{\\mathrm{C}_{1}}=\\omega_{\\mathrm{pll}}^{2} \\frac{2 \\pi \\mathrm{~N}}{\\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.52}\n\\end{equation*}\n$$\n\nSubstituting the example values, $\\mathrm{I}_{\\mathrm{ch}} / \\mathrm{C}_{1} \\approx 20 \\cdot 10^{6} \\mathrm{~V} / \\mathrm{s}$. A reasonable choice is $\\mathrm{I}_{\\mathrm{ch}}=100 \\mu \\mathrm{~A}$ and $\\mathrm{C}_{1}=5 \\mathrm{pF}$. The resistor is then chosen to place a zero at $\\omega_{\\mathrm{z}}=Q \\omega_{\\mathrm{pII}}=2 \\pi \\cdot 400 \\mathrm{kHz}$, resulting in $R=1 / (\\omega_{z} C_{1}) \\approx 80 \\mathrm{k} \\Omega$. Finally, with $Q=0.5$, a suitable choice for $C_{2}$ is $C_{1} / 10=0.5 \\mathrm{pF}$."
},
{
    "text": "While the specifics of a PLL design process will naturally vary based on the system's defined parameters, the following guidelines offer fundamental direction.\n\n- The ratio between the desired output frequency and the input reference frequency determines the divider ratio, N.\n- The VCO gain constant $\\mathrm{K}_{\\text{osc}}$ is typically established by the VCO's circuit design considerations, but it must generally be sufficiently large to enable the VCO to cover the anticipated variations in its free-running frequency and the desired output frequency.\n- When minimal jitter peaking or rapid loop settling are critical design requirements, a $\\mathrm{Q}$ value much less than 0.5 is preferred, with $\\mathrm{Q}=0.1$ being a reasonable choice. However, $\\mathrm{Q}=0.5$ usually results in loop filter component values that are easier to achieve.\n- When a high-quality (low-noise) input reference clock is available, a higher loop bandwidth is beneficial. Nevertheless, the loop bandwidth is constrained to a maximum of one-tenth of the input reference frequency to ensure robust stability.\n- Once the loop bandwidth is established, set $\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}=0.5$, or use $\\omega_{\\mathrm{pII}}=Q \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}$ much less than 0.5.\n- With N and $\\mathrm{K}_{\\text{osc}}$ determined as outlined, $\\mathrm{K}_{\\mathrm{pd}}$ and $\\mathrm{K}_{\\mathrm{lp}}$ are selected to achieve the desired $\\omega_{\\mathrm{plI}}=\\sqrt{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{K}_{\\mathrm{lp}} \\mathrm{K}_{\\mathrm{osc}} / \\mathrm{N}}$. In a charge-pump PLL, this involves choosing $\\mathrm{I}_{\\mathrm{ch}}=2 \\pi \\mathrm{~K}_{\\mathrm{pd}}$ and $\\mathrm{C}_{1}$ (approximately $1 / \\mathrm{K}_{\\mathrm{Ip}}$, neglecting $\\mathrm{C}_{2}$). The designer has one degree of freedom here, which is used to influence the\n\n[^4]image_name:Fig. 19.11 A general integer-N PLL architecture.\ndescription:The diagram illustrates a general integer-N Phase-Locked Loop (PLL) architecture, designed to synchronize an output oscillator frequency with a reference frequency. Here is a detailed breakdown of the components and their interactions:\n\n1. **Main Components:**\n- **Input Divider (÷ M):** This block divides the input frequency \\( f_{in} \\) by M, resulting in \\( \\frac{f_{in}}{M} \\).\n- **Phase Detector:** This component compares the divided input frequency \\( \\frac{f_{in}}{M} \\) with the feedback frequency from the output, generating an error signal proportional to the phase difference.\n- **Loop Filter:** The phase detector's error signal is processed by the loop filter, which smooths the signal and dictates the PLL's dynamic response, producing a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO):** The VCO adjusts its output frequency \\( f_{osc} \\) based on the control voltage \\( V_{cntl} \\).\n- **Feedback Divider (÷ N):** This block divides the VCO output frequency \\( f_{osc} \\) by N, feeding it back to the phase detector.\n\n2. **Flow of Information or Control:**\n- The input frequency \\( f_{in} \\) is divided by M and sent to the phase detector.\n- The VCO output frequency \\( f_{osc} \\) is divided by N and sent to the phase detector.\n- The phase detector compares these frequencies and generates an error signal.\n- The loop filter processes this error signal to create a control voltage \\( V_{cntl} \\).\n- The VCO adjusts its frequency \\( f_{osc} \\) based on \\( V_{cntl} \\), completing the loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The output frequency is given by \\( f_{osc} = \\frac{N}{M} f_{in} \\), indicating the relationship between input and output frequencies.\n- The diagram uses arrows to show the direction of signal processing and feedback.\n\n4. **Overall System Function:**\n- The primary role of this integer-N PLL is to lock the VCO output frequency to a multiple of the input frequency. By adjusting the division factors M and N, the system can generate an output frequency that is a rational multiple of the input frequency, \\( \\frac{N}{M} f_{in} \\). This architecture is widely used in frequency synthesis, clock generation, and modulation/demodulation applications.\n\nFig. 19.11 A general integer-N PLL architecture.\nsize of the loop filter components, the power consumption in the phase detector, and the noise in the loop filter (since a smaller resistor value generally reduces noise in the loop filter).\n\n- Set $\\omega_{\\mathrm{z}}=Q \\omega_{\\text{pII}}$. In a charge-pump PLL, this involves choosing $R=1 / \\omega_{\\mathrm{z}} \\mathrm{C}_{1}$.\n- In a charge-pump PLL, an additional pole is introduced by the glitch-suppression capacitor $\\mathrm{C}_{2}$. With $\\mathrm{Q}=0.5$, choose $C_{2}$ between one-tenth and one-eighth the value of $C_{1}$. With $Q=0.1$, $C_{2}$ should be approximately $1 / 250$th the value of $\\mathrm{C}_{1}$.\n\n#### EXAMPLE 19.8\n\nDesign a charge-pump PLL that accepts a fixed 40 MHz reference and can produce an output clock frequency ranging from 1.4 GHz to 1.6 GHz in 20 MHz increments. For each output frequency, a different division ratio is used. To cover the entire output frequency range while the control voltage changes by only 2V, $\\mathrm{K}_{\\text{osc}}$ is chosen as $2 \\pi \\cdot 10^{8} \\mathrm{rad} / \\mathrm{s} \\cdot V$. Determine the values of $I_{\\mathrm{ch}}$ and the loop filter components $C_{1}$, $R$, and $C_{2}$.\n\n#### Solution\n\nThe output frequency is N times the input frequency, so varying the division ratio N allows the output frequency to be set at different integer multiples of the input reference. Hence, this architecture is termed an integer-N PLL. When finer resolution than the available reference signal is required for setting the output frequency, an additional divider is applied to the input to reduce its frequency. The general architecture, shown in Fig. 19.11, produces an output frequency of $(\\mathrm{N} / \\mathrm{M}) \\mathrm{f}_{\\mathrm{in}}$.\n\nIn this scenario, given the 20 MHz output frequency resolution requirement, a divide-by-2 (M=2) is applied to the 40 MHz input. To cover the full output frequency range, N must be programmable from 70 to 80. A $\\mathrm{Q}$ value of 0.5 is chosen, and assuming the input reference has very low noise, the loop bandwidth is set to one-tenth of 20 MHz: $\\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 2 \\mathrm{MHz}$. Thus,\n\n$$\n\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 800 \\mathrm{kHz}\n$$\n\n[^5]12. equation (19.28)\n\nCombining equations (19.23), (19.27), and (19.32) and rearranging gives\n\n$$\n\\begin{equation*}\n\\frac{\\mathrm{I}_{\\mathrm{ch}}}{\\mathrm{C}_{1}}=\\omega_{\\mathrm{pll}}^{2} \\frac{2 \\pi \\mathrm{~N}}{\\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.52}\n\\end{equation*}\n$$\n\nSubstituting the example values, $\\mathrm{I}_{\\mathrm{ch}} / \\mathrm{C}_{1} \\approx 20 \\cdot 10^{6} \\mathrm{~V} / \\mathrm{s}$. A reasonable choice is $\\mathrm{I}_{\\mathrm{ch}}=100 \\mu \\mathrm{~A}$ and $\\mathrm{C}_{1}=5 \\mathrm{pF}$. The resistor must then be selected to place a zero at $\\omega_{\\mathrm{z}}=Q \\omega_{\\mathrm{pII}}=2 \\pi \\cdot 400 \\mathrm{kHz}$, resulting in $R=1 /\\left(\\omega_{z} C_{1}\\right) \\approx 80 \\mathrm{k} \\Omega$. Finally, with $\\mathrm{Q}=0.5$, a suitable choice is $C_{2}=C_{1} / 10=0.5 \\mathrm{pF}$."
},
{
    "text": "The rephrased text:\n\n```\nThe specifics of a PLL design process naturally hinge on the system's defined aspects, but the following guidelines offer fundamental direction.\n\n- The divider ratio, N, is established by the ratio between the desired output frequency and the input reference frequency.\n- The VCO gain constant $\\mathrm{K}_{\\text {osc }}$ is typically dictated by VCO circuit design considerations and must generally be ample enough to accommodate the expected variations in both the free-running and desired output frequencies.\n- For design priorities like minimal jitter peaking or rapid loop settling, a $\\mathrm{Q} « 0.5$ value is preferred, with $\\mathrm{Q}=0.1$ being a sensible option. However, $\\mathrm{Q}=0.5$ often results in more feasible loop filter component values.\n- When a high-quality (low-noise) input reference clock is available, a wider loop bandwidth is advantageous. Nonetheless, the loop bandwidth should not exceed one-tenth of the input reference frequency to ensure stable operation.\n- Once the loop bandwidth is determined, set $\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}=0.5^{6}$, or use $\\omega_{\\mathrm{pII}}=Q \\omega_{3 \\mathrm{~dB}}$ for Q «0.5 ${ }^{7}$.\n- With N and $\\mathrm{K}_{\\text {osc }}$ established as outlined, $\\mathrm{K}_{p d}$ and $\\mathrm{K}_{\\mathrm{lp}}$ are selected to achieve the desired $\\omega_{\\mathrm{plI}}=\\sqrt{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{K}_{\\mathrm{lp}} \\mathrm{K}_{\\mathrm{osc}} / \\mathrm{N}^{8}}$. In a charge-pump PLL, this involves choosing $\\mathrm{I}_{\\mathrm{ch}}=2 \\pi \\mathrm{~K}_{\\mathrm{pd}}{ }^{9}$ and $\\mathrm{C}_{1}$ ( $\\cong 1 / \\mathrm{K}_{\\mathrm{Ip}}$ ignoring $\\mathrm{C}_{2}{ }^{10}$ ). The designer has a degree of freedom here to influence the\n\n[^4]image_name:Fig. 19.11 A general integer-N PLL architecture.\ndescription:This diagram illustrates a standard integer-N Phase-Locked Loop (PLL) architecture, designed to synchronize an output oscillator frequency with a reference frequency. Here's a detailed breakdown of its components and interactions:\n\n1. **Core Components:**\n- **Input Divider (÷ M):** This unit divides the input frequency \\( f_{in} \\) by M, resulting in \\( \\frac{f_{in}}{M} \\).\n- **Phase Detector:** This element compares the divided input frequency \\( \\frac{f_{in}}{M} \\) with the feedback frequency from the output, generating an error signal proportional to the phase difference.\n- **Loop Filter:** The phase detector's error signal is processed by the loop filter, which smooths the signal and defines the PLL's dynamic response, producing a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO):** The VCO adjusts its output frequency \\( f_{osc} \\) based on the control voltage \\( V_{cntl} \\).\n- **Feedback Divider (÷ N):** This unit divides the VCO output frequency \\( f_{osc} \\) by N, providing feedback to the phase detector.\n\n2. **Signal and Control Flow:**\n- The input frequency \\( f_{in} \\) is divided by M and directed to the phase detector.\n- The VCO output frequency \\( f_{osc} \\) is divided by N and also fed to the phase detector.\n- The phase detector compares these frequencies and generates an error signal.\n- The loop filter processes this error signal to create a control voltage \\( V_{cntl} \\).\n- The VCO modifies its frequency \\( f_{osc} \\) based on \\( V_{cntl} \\), completing the loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The output frequency is represented by the equation \\( f_{osc} = \\frac{N}{M} f_{in} \\), indicating the relationship between input and output frequencies.\n- The diagram uses arrows to show the direction of signal processing and feedback.\n\n4. **System Function Overview:**\n- The primary role of this integer-N PLL is to lock the VCO output frequency to a multiple of the input frequency. By adjusting M and N, the system can generate an output frequency that is a rational multiple of the input frequency, \\( \\frac{N}{M} f_{in} \\). This architecture is widely used in frequency synthesis, clock generation, and modulation/demodulation applications.\n\nFig. 19.11 A general integer-N PLL architecture.\nsize of loop filter components, power consumption in the phase detector, and noise in the loop filter (as a smaller resistor generally reduces loop filter noise).\n\n- Set $\\omega_{\\mathrm{z}}=Q \\omega_{\\text {pII }}{ }^{11}$. In a charge-pump PLL, this involves choosing $R=1 / \\omega_{\\mathrm{z}} \\mathrm{C}_{1}{ }^{12}$.\n- In a charge-pump PLL, an extra pole is introduced by the glitch-suppression capacitor $\\mathrm{C}_{2}$. For $\\mathrm{Q}=0.5$, choose $C_{2}$ between one-tenth and one-eighth of $C_{1}$. For $Q=0.1$, $C_{2}$ should be approximately $1 / 250$ th of $\\mathrm{C}_{1}$.\n\n#### EXAMPLE 19.8\n\nDesign a charge-pump PLL that accepts a fixed 40 MHz reference and can generate an output clock frequency ranging from 1.4 GHz to 1.6 GHz in 20 MHz increments. Each output frequency requires a different division ratio. To cover the full output range with only a $2 \\mathrm{~V}$ change in control voltage, $\\mathrm{K}_{\\text {osc }}$ is set to $2 \\pi \\cdot 10^{8} \\mathrm{rad} / \\mathrm{s} \\cdot V$. Determine the values for $I_{\\mathrm{ch}}$ and the loop filter components $C_{1}, R$, and $C_{2}$.\n\n#### Solution\n\nThe output frequency is N times the input frequency, allowing different output frequencies by varying the division ratio N, hence the term integer- $\\boldsymbol{N P L L}$. For finer output frequency resolution than the reference signal allows, an additional divider is used at the input to reduce its frequency. The architecture, depicted in Fig. 19.11, yields an output frequency of $(\\mathrm{N} / \\mathrm{M}) \\mathrm{f}_{\\mathrm{in}}$.\n\nIn this scenario, with a 20 MHz output frequency resolution requirement, a divide-by-2 $(\\mathrm{M}=2)$ is applied to the $40-\\mathrm{MHz}$ input. To span the full output range, N must be adjustable from 70 to 80. A $\\mathrm{Q}=0.5$ value is chosen, and assuming minimal input reference noise, the loop bandwidth is set to one-tenth of $20 \\mathrm{MHz}: \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 2 \\mathrm{MHz}$. Thus,\n\n$$\n\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 800 \\mathrm{kHz}\n$$\n\n[^5]12. equation (19.28)\n\nCombining equations (19.23), (19.27), and (19.32) and rearranging gives\n\n$$\n\\begin{equation*}\n\\frac{\\mathrm{I}_{\\mathrm{ch}}}{\\mathrm{C}_{1}}=\\omega_{\\mathrm{pll}}^{2} \\frac{2 \\pi \\mathrm{~N}}{\\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.52}\n\\end{equation*}\n$$\n\nSubstituting the example values, $\\mathrm{I}_{\\mathrm{ch}} / \\mathrm{C}_{1} \\cong 20 \\cdot 10^{6} \\mathrm{~V} / \\mathrm{s}$. A reasonable choice is $\\mathrm{I}_{\\mathrm{ch}}=100 \\mu \\mathrm{~A}$ and $\\mathrm{C}_{1}=5 \\mathrm{pF}$. The resistor is then selected to place a zero at $\\omega_{\\mathrm{z}}=Q \\omega_{\\mathrm{pII}}=2 \\pi \\cdot 400 \\mathrm{kHz}$, resulting in $R=1 /\\left(\\omega_{z} C_{1}\\right) \\cong 80 \\mathrm{k} \\Omega$. Finally, with $Q=0.5$, a suitable choice is $C_{2}=C_{1} / 10=0.5 \\mathrm{pF}$.\n```"
},
{
    "text": "The details of a PLL design procedure naturally vary based on the specified aspects of the system, but the following guidelines offer fundamental direction.\n\n- The ratio between the desired output frequency and the input reference frequency determines the divider ratio, N.\n- The VCO gain constant $\\mathrm{K}_{\\text{osc}}$ is typically established by circuit design considerations within the VCO, but it must generally be sufficiently large to enable the VCO to cover anticipated variations in its free-running frequency and the desired output frequency.\n- When minimizing jitter peaking or achieving fast loop settling are critical design criteria, a $\\mathrm{Q}$ value much less than 0.5 is preferred, with $\\mathrm{Q}=0.1$ being a reasonable choice. However, $\\mathrm{Q}=0.5$ usually results in loop filter component values that are more practical to implement.\n- When a high-quality (low-noise) input reference clock is available, a higher loop bandwidth is advantageous. Nevertheless, the loop bandwidth should not exceed one-tenth of the input reference frequency to ensure robust stability.\n- Once the loop bandwidth is determined, set $\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}=0.5$, or use $\\omega_{\\mathrm{pII}}=Q \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}$ much less than 0.5.\n- With N and $\\mathrm{K}_{\\text{osc}}$ established as described, $\\mathrm{K}_{\\mathrm{pd}}$ and $\\mathrm{K}_{\\mathrm{lp}}$ are selected to achieve the desired $\\omega_{\\mathrm{plI}}=\\sqrt{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{K}_{\\mathrm{lp}} \\mathrm{K}_{\\mathrm{osc}} / \\mathrm{N}}$. In a charge-pump PLL, this involves choosing $\\mathrm{I}_{\\mathrm{ch}}=2 \\pi \\mathrm{~K}_{\\mathrm{pd}}$ and $\\mathrm{C}_{1}$ (approximately $1 / \\mathrm{K}_{\\mathrm{Ip}}$, neglecting $\\mathrm{C}_{2}$). The designer has one degree of freedom here, which influences the size of the loop filter components, the power consumption in the phase detector, and the noise in the loop filter (since a smaller resistor value generally reduces noise in the loop filter).\n\n- Set $\\omega_{\\mathrm{z}}=Q \\omega_{\\text{pII}}$. In a charge-pump PLL, this translates to choosing $R=1 / \\omega_{\\mathrm{z}} \\mathrm{C}_{1}$.\n- In a charge-pump PLL, an additional pole is introduced by the glitch-suppression capacitor $\\mathrm{C}_{2}$. For $\\mathrm{Q}=0.5$, choose $C_{2}$ between one-tenth and one-eighth the value of $C_{1}$. For $\\mathrm{Q}=0.1$, $C_{2}$ should be roughly $1 / 250$th the value of $\\mathrm{C}_{1}$.\n\n#### EXAMPLE 19.8\n\nDesign a charge-pump PLL that accepts a fixed 40 MHz reference and can generate an output clock frequency ranging from 1.4 GHz to 1.6 GHz in 20 MHz increments. Each output frequency requires a different division ratio. To cover the entire output frequency range with only a $2 \\mathrm{~V}$ change in control voltage, $\\mathrm{K}_{\\text{osc}}$ is chosen as $2 \\pi \\cdot 10^{8} \\mathrm{rad} / \\mathrm{s} \\cdot V$. Determine the values of $I_{\\mathrm{ch}}$ and the loop filter components $C_{1}, R$, and $C_{2}$.\n\n#### Solution\n\nThe output frequency is N times the input frequency, so varying the division ratio N allows the output frequency to be set at different integer multiples of the input reference. This architecture is known as an integer-N PLL. When the output frequency needs to be set with finer resolution than the available reference signal, an additional divider is applied to the input to reduce its frequency. The general architecture, depicted in Fig. 19.11, produces an output frequency of $(\\mathrm{N} / \\mathrm{M}) \\mathrm{f}_{\\mathrm{in}}$.\n\nIn this scenario, given the 20 MHz output frequency resolution requirement, a divide-by-2 (M=2) is applied to the 40 MHz input. To cover the full output frequency range, N must be programmable from 70 to 80. A $\\mathrm{Q}$ value of 0.5 is chosen, and assuming the input reference has very low noise, the loop bandwidth is set to one-tenth of 20 MHz: $\\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 2 \\mathrm{MHz}$. Thus,\n\n$$\n\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 800 \\mathrm{kHz}\n$$\n\nCombining equations (19.23), (19.27), and (19.32) and rearranging gives\n\n$$\n\\begin{equation*}\n\\frac{\\mathrm{I}_{\\mathrm{ch}}}{\\mathrm{C}_{1}}=\\omega_{\\mathrm{pll}}^{2} \\frac{2 \\pi \\mathrm{~N}}{\\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.52}\n\\end{equation*}\n$$\n\nSubstituting the example values, $\\mathrm{I}_{\\mathrm{ch}} / \\mathrm{C}_{1} \\approx 20 \\cdot 10^{6} \\mathrm{~V} / \\mathrm{s}$. A reasonable choice is $\\mathrm{I}_{\\mathrm{ch}}=100 \\mu \\mathrm{A}$ and $\\mathrm{C}_{1}=5 \\mathrm{pF}$. The resistor must then be selected to place a zero at $\\omega_{\\mathrm{z}}=Q \\omega_{\\mathrm{pII}}=2 \\pi \\cdot 400 \\mathrm{kHz}$, resulting in $R \\approx 80 \\mathrm{k} \\Omega$. Finally, with $\\mathrm{Q}=0.5$, a suitable choice for $C_{2}$ is $C_{1} / 10=0.5 \\mathrm{pF}$."
},
{
    "text": "The rephrased text:\n\n```\nThe specifics of a PLL design process naturally hinge on the defined system parameters, but the following guidelines offer fundamental direction.\n\n- The ratio between the intended output frequency and the input reference frequency establishes the divider ratio, N.\n- The VCO gain constant $\\mathrm{K}_{\\text {osc }}$ is typically dictated by the VCO's circuit design considerations and must generally be ample enough to accommodate the anticipated variations in both its free-running and desired output frequencies.\n- For design criteria emphasizing minimal jitter peaking or rapid loop settling, a $\\mathrm{Q}$ value much less than 0.5 is preferable, with $\\mathrm{Q}=0.1$ being a sensible option. Nonetheless, $\\mathrm{Q}=0.5$ often results in more feasible loop filter component values.\n- When a high-caliber (low-noise) input reference clock is accessible, a wider loop bandwidth is advantageous. However, this bandwidth should not exceed one-tenth of the input reference frequency to ensure stable operation.\n- Once the loop bandwidth is determined, set $\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}$ for $\\mathrm{Q}=0.5^{6}$, or use $\\omega_{\\mathrm{pII}}=Q \\omega_{3 \\mathrm{~dB}}$ for Q much less than 0.5 ${ }^{7}$.\n- With N and $\\mathrm{K}_{\\text {osc }}$ established as outlined, $\\mathrm{K}_{p d}$ and $\\mathrm{K}_{\\mathrm{lp}}$ are selected to achieve the desired $\\omega_{\\mathrm{plI}}=\\sqrt{\\mathrm{K}_{\\mathrm{pd}} \\mathrm{K}_{\\mathrm{lp}} \\mathrm{K}_{\\mathrm{osc}} / \\mathrm{N}^{8}}$. In a charge-pump PLL, this involves choosing $\\mathrm{I}_{\\mathrm{ch}}=2 \\pi \\mathrm{~K}_{\\mathrm{pd}}{ }^{9}$ and $\\mathrm{C}_{1}$ (approximately $1 / \\mathrm{K}_{\\mathrm{Ip}}$, disregarding $\\mathrm{C}_{2}{ }^{10}$). The designer has one degree of freedom here, which can influence the\n\n[^4]image_name:Fig. 19.11 A general integer-N PLL architecture.\ndescription:The illustration depicts a typical integer-N Phase-Locked Loop (PLL) architecture, designed to synchronize an output oscillator frequency with a reference frequency. Here’s a detailed breakdown of the components and their interactions:\n\n1. **Key Components:**\n- **Input Divider (÷ M):** This unit divides the input frequency \\( f_{in} \\) by M, resulting in \\( \\frac{f_{in}}{M} \\).\n- **Phase Detector:** This element compares the divided input frequency \\( \\frac{f_{in}}{M} \\) with the feedback frequency from the output, producing an error signal proportional to the phase difference.\n- **Loop Filter:** The phase detector's error signal is processed by the loop filter, which smooths the signal and governs the PLL's dynamic response, yielding a control voltage \\( V_{cntl} \\).\n- **Voltage-Controlled Oscillator (VCO):** The VCO adjusts its output frequency \\( f_{osc} \\) based on the control voltage \\( V_{cntl} \\).\n- **Feedback Divider (÷ N):** This unit divides the VCO output frequency \\( f_{osc} \\) by N, providing feedback to the phase detector.\n\n2. **Information and Control Flow:**\n- The input frequency \\( f_{in} \\) is divided by M and fed to the phase detector.\n- The VCO output frequency \\( f_{osc} \\) is divided by N and also fed to the phase detector.\n- The phase detector generates an error signal based on the comparison of these two frequencies.\n- The loop filter processes this error signal to generate a control voltage \\( V_{cntl} \\).\n- The VCO modifies its frequency \\( f_{osc} \\) in response to \\( V_{cntl} \\), completing the loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The output frequency is defined by the equation \\( f_{osc} = \\frac{N}{M} f_{in} \\), illustrating the relationship between input and output frequencies.\n- The diagram uses arrows to indicate the direction of signal flow and feedback.\n\n4. **System Function Overview:**\n- The primary role of this integer-N PLL is to lock the VCO output frequency to a multiple of the input frequency. By adjusting the division factors M and N, the system can generate an output frequency that is a rational multiple of the input frequency, \\( \\frac{N}{M} f_{in} \\). This architecture is widely used in applications like frequency synthesis, clock generation, and modulation/demodulation.\n\nFig. 19.11 A general integer-N PLL architecture.\nsize of loop filter components, the phase detector's power consumption, and the loop filter's noise level (since a smaller resistor generally reduces noise in the loop filter).\n\n- Set $\\omega_{\\mathrm{z}}=Q \\omega_{\\text {pII }}{ }^{11}$. In a charge-pump PLL, this involves choosing $R=1 / \\omega_{\\mathrm{z}} \\mathrm{C}_{1}{ }^{12}$.\n- In a charge-pump PLL, an extra pole is introduced by the glitch-suppression capacitor $\\mathrm{C}_{2}$. For $\\mathrm{Q}=0.5$, choose $C_{2}$ between one-tenth and one-eighth of $C_{1}$. For $Q=0.1$, $C_{2}$ should be approximately $1 / 250$th of $\\mathrm{C}_{1}$.\n\n#### EXAMPLE 19.8\n\nDesign a charge-pump PLL that accepts a fixed 40 MHz reference and can generate an output clock frequency ranging from 1.4 GHz to 1.6 GHz in 20 MHz increments. Each output frequency requires a different division ratio. To cover the entire output range with only a $2 \\mathrm{~V}$ change in control voltage, $\\mathrm{K}_{\\text {osc }}$ is set to $2 \\pi \\cdot 10^{8} \\mathrm{rad} / \\mathrm{s} \\cdot V$. Determine the values for $I_{\\mathrm{ch}}$ and the loop filter components $C_{1}, R$, and $C_{2}$.\n\n#### Solution\n\nThe output frequency is N times the input frequency, allowing different output frequencies by varying the division ratio N, hence the term integer- $\\boldsymbol{N P L L}$. When finer resolution than the reference signal is needed, an additional divider is applied to the input to reduce its frequency. The general setup, as shown in Fig. 19.11, yields an output frequency of $(\\mathrm{N} / \\mathrm{M}) \\mathrm{f}_{\\mathrm{in}}$.\n\nIn this scenario, given the 20 MHz resolution requirement, a divide-by-2 $(\\mathrm{M}=2)$ is applied to the 40 MHz input. To span the full output range, N must be adjustable from 70 to 80. With $\\mathrm{Q}=0.5$ selected and assuming very low noise in the input reference, the loop bandwidth is set to one-tenth of 20 MHz: $\\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 2 \\mathrm{MHz}$. Thus,\n\n$$\n\\omega_{\\mathrm{pII}}=0.4 \\omega_{3 \\mathrm{~dB}}=2 \\pi \\cdot 800 \\mathrm{kHz}\n$$\n\n[^5]12. equation (19.28)\n\nCombining equations (19.23), (19.27), and (19.32) and rearranging gives\n\n$$\n\\begin{equation*}\n\\frac{\\mathrm{I}_{\\mathrm{ch}}}{\\mathrm{C}_{1}}=\\omega_{\\mathrm{pll}}^{2} \\frac{2 \\pi \\mathrm{~N}}{\\mathrm{~K}_{\\mathrm{osc}}} \\tag{19.52}\n\\end{equation*}\n$$\n\nSubstituting the example values, $\\mathrm{I}_{\\mathrm{ch}} / \\mathrm{C}_{1} \\approx 20 \\cdot 10^{6} \\mathrm{~V} / \\mathrm{s}$. A reasonable choice is $\\mathrm{I}_{\\mathrm{ch}}=100 \\mu \\mathrm{~A}$ and $\\mathrm{C}_{1}=5 \\mathrm{pF}$. The resistor is then chosen to place a zero at $\\omega_{\\mathrm{z}}=Q \\omega_{\\mathrm{pII}}=2 \\pi \\cdot 400 \\mathrm{kHz}$, resulting in $R \\approx 80 \\mathrm{k} \\Omega$. Finally, with $Q=0.5$, a suitable choice for $C_{2}$ is $C_{1} / 10=0.5 \\mathrm{pF}$.\n```"
},
{
    "text": "Key Point: Jitter measures the random variations in a clock signal's timing phase, while phase noise is its representation in the frequency domain. These factors impose fundamental limits on the precision of time references.\n\nKey Point: The absolute jitter of a clock, denoted as $\\tau_{k}$, is a discrete-time sequence indicating the displacement of its transition times from their ideal values.\n\nIn contrast to most analog signals on integrated circuits, where information is conveyed by voltage or current values, the critical aspect of a clock waveform is the timing of its transitions across a specific threshold. Jitter refers to the random fluctuations in these transition times, and phase noise is the frequency-domain counterpart of jitter. Since jitter and phase noise stem from thermal and other noise processes inherent in all circuits, they represent inherent limitations on the accuracy of any on-chip time reference, making them pivotal in PLL design.\n\nA standard clock signal is depicted in Fig. 19.12, with transition times labeled as $t_{k}$. These times may correspond to changes in a logic signal's state or shifts in current from one branch to another. In this example, only rising transitions are considered, but in actual circuits, either rising, falling, or both types of transitions could be relevant. For an ideal clock, transitions are evenly spaced, so $t_{k}=k T_{0}$, where $T_{0}$ is the clock period. However, in any practical clock, transitions deviate from their ideal times. Specifically, the deviation of transition times from their ideal values forms a discrete-time sequence $\\tau_{k}$.\n\n$$\n\\begin{equation*}\n\\mathrm{t}_{\\mathrm{k}}=\\mathrm{k} \\mathrm{~T}_{0}+\\tau_{\\mathrm{k}} \\tag{19.53}\n\\end{equation*}\n$$\n\nThe sequence $\\tau_{\\mathrm{k}}$ represents the absolute jitter of the clock in time units and can also be normalized to radians.\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\tau_{\\mathrm{k}} \\cdot\\left(2 \\pi / \\mathrm{T}_{0}\\right) \\tag{19.54}\n\\end{equation*}\n$$\n\nAbsolute jitter is a valuable analytical tool, though it is not directly measurable in a lab due to the need for an \"ideal\" clock reference.\n\n#### EXAMPLE 19.9\n\nDetermine the absolute jitter of a sinusoidal signal with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white noise $n(t)$ with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoidal signal can be described as follows:\nimage_name:Fig. 19.12\ndescription:Fig. 19.12 illustrates the concept of absolute jitter by comparing an ideal clock waveform to a practical one.\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform graph showing two periodic signals: an ideal clock waveform and a practical clock waveform.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time (t) in arbitrary units, with specific time points marked as \\( t_0, t_1, t_2, \\) and \\( t_3 \\).\n- The vertical axis represents the waveform amplitude but is not explicitly labeled with units.\n\n3. **Overall Behavior and Trends:**\n- The ideal waveform is a perfect square wave with consistent periods marked as \\( T_0 \\), starting at \\( t_0 = 0 \\), \\( t_1 = T_0 \\), \\( t_2 = 2T_0 \\), and \\( t_3 = 3T_0 \\).\n- The practical waveform shows the same square wave but with slight variations in transition timing, illustrating jitter effects.\n\n4. **Key Features and Technical Details:**\n- The ideal waveform has sharp transitions at every \\( T_0 \\) interval.\n- The practical waveform deviates slightly from the ideal, with transition times marked as \\( t_0 = 0 + \\tau_0 \\), \\( t_1 = T_0 + \\tau_1 \\), \\( t_2 = 2T_0 + \\tau_2 \\), and \\( t_3 = 3T_0 + \\tau_3 \\), where \\( \\tau \\) represents the jitter.\n- This deviation is the primary focus, highlighting how the practical clock's transitions are disturbed from the nominal values.\n\n5. **Annotations and Specific Data Points:**\n- The graph clearly marks the nominal transition times and the adjusted times due to jitter, making it easy to visualize the impact of noise or other disturbances on the clock signal.\n- The periods \\( T_0, T_1, T_2 \\) are indicated, with \\( T_1 \\) and \\( T_2 \\) representing the slightly altered periods in the practical waveform due to jitter effects.\n\nFig. 19.12 Illustration of absolute jitter in a practical clock waveform.\n\n$$\n\\begin{equation*}\n\\mathrm{v}(\\mathrm{t})=\\mathrm{A} \\sin \\left(\\omega_{0} \\mathrm{t}\\right)+\\mathrm{n}(\\mathrm{t}) \\tag{19.55}\n\\end{equation*}\n$$\n\nAssuming the noise n is much smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A , the transition times of $\\mathrm{v}(\\mathrm{t})$ are slightly disturbed from their nominal values $\\mathrm{kT}_{0}$. The extent of this disturbance can be estimated from the slope of the sinusoid around the transition times, $A \\omega_{0}$, and samples of the noise, $n(t)$, labeled $n_{k}$.\n\n$$\n\\begin{equation*}\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}} \\tag{19.56}\n\\end{equation*}\n$$\n\nThe discrete-time noise process, $\\mathrm{n}_{\\mathrm{k}}$, is white with variance $\\sigma_{\\mathrm{n}}^{2}$. Consequently, absolute jitter is also a discrete-time white noise process with variance\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}} \\tag{19.57}\n\\end{equation*}\n$$\n\nAt high frequencies $\\omega_{0}$ and high amplitudes A, jitter is reduced due to the steeper slope of the sinusoid at zero-crossings. Expressed in radians, the frequency effect is neutralized.\n\n$$\n\\begin{equation*}\n\\sigma_{\\phi}^{2}=\\sigma_{\\tau}^{2} \\cdot\\left(\\frac{2 \\pi}{T_{0}}\\right)^{2}=\\frac{\\sigma_{n}^{2}}{A^{2}} \\tag{19.58}\n\\end{equation*}\n$$\n\nFig. 19.13 A noise source resistance introduces jitter.\ni(t)\nimage_name:Fig. 19.13\ndescription:\n[\nname: I(t), type: CurrentSource, ports: {Np: V(t), Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: V(t), N2: Node2}\nname: C, type: Capacitor, value: C, ports: {Np: V(t), Nn: GND}\n]\nextrainfo:The circuit consists of a current source connected in series with a resistor and a capacitor, both of which are grounded.\n\n$\\mathrm{v}(\\mathrm{t})$\nimage_name:Fig. 19.13\ndescription:The function graph in Fig. 19.13 shows a time-domain waveform. The x-axis likely represents time, though no specific units or scale are provided, and the y-axis represents voltage, denoted as \\( v(t) \\). The waveform exhibits a jagged, irregular pattern, indicating voltage fluctuations over time.\n\nOverall Behavior and Trends:\n- The waveform displays a series of sharp peaks and valleys, suggesting rapid voltage changes.\n- There is no clear periodicity, implying a non-repetitive or noise-like signal.\n- The general trend is difficult to discern due to its erratic nature, but the amplitude range appears relatively constant.\n\nKey Features and Technical Details:\n- The waveform lacks distinct zero crossings, maxima, or minima.\n- No clear annotations or reference lines indicate specific voltage levels or time intervals.\n\nAnnotations and Specific Data Points:\n- The graph lacks numerical values for key data points, complicating precise analysis.\n- No additional markers or reference lines are present to indicate significant features such as cutoff frequencies or phase shifts.\n\nThis waveform likely represents the voltage across the capacitor in the given circuit, affected by jitter introduced by the current source, as mentioned in the context. The erratic nature of the waveform aligns with the concept of jitter, which introduces variability in the signal's timing.\n\n#### EXAMPLE 19.10\n\nIn Fig. 19.13, assume $i(t)$ is an ideal sinusoidal current source with amplitude $1 \\mathrm{~mA}$, $\\mathrm{R}=1 \\mathrm{k} \\Omega$, and $\\mathrm{C}=1 \\mathrm{pF}$. Calculate the variance of absolute jitter at $v(\\mathrm{t})$ for a signal frequency of 1 MHz and also for 1 GHz.\n\n#### Solution\n\nThe voltage $\\mathrm{v}(\\mathrm{t})$ will follow the form of $(19.55)$, where $\\mathrm{n}(\\mathrm{t})$ is the Gaussian-distributed voltage noise due to the thermal noise of $R$. The variance of $n(t)$ is\n\n$$\n\\begin{equation*}\n\\sigma_{n}^{2}=\\frac{k T}{C} \\tag{19.59}\n\\end{equation*}\n$$\n\nAt a temperature of 300 K, this has an rms value of $64.4 \\mu \\mathrm{~V}$. The amplitude, A , of the sinusoid in (19.55) depends on the oscillation frequency f. At 1 MHz, the amplitude is nearly $(1 \\mathrm{~mA})(1 \\mathrm{k} \\Omega)=1 \\mathrm{~V}$. Thus, by substituting into (19.57),\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(1 \\mathrm{~V})^{2}\\left(2 \\pi 10^{6}\\right)^{2}}=(10.2 \\mathrm{ps})^{2}\n$$\n\nAt 1 GHz, the amplitude at $\\mathrm{v}(\\mathrm{t})$ is reduced by the lowpass RC filter to $\\mathrm{A}=0.157 \\mathrm{~V}$. Hence,\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(0.157 \\mathrm{~V})^{2}\\left(2 \\pi 10^{9}\\right)^{2}}=(0.065 \\mathrm{ps})^{2}\n$$\n\nNote that while the time-domain jitter is lower at 1 GHz, the jitter in radians is higher due to the reduced amplitude at $\\mathrm{v}(\\mathrm{t})$.\n\nPhase noise is the frequency-domain representation of absolute jitter. Thus, $\\mathrm{S}_{\\phi}(\\mathrm{f})$, the phase noise of a clock signal with random jitter, is defined as the power spectral density of the sequence $\\phi_{\\mathrm{k}}{ }^{13}$. Recall that a voltage noise spectral density specifies the power of a voltage signal in any 1-Hz-wide frequency bin, with units of $V^{2} / H z$. Similarly, $S_{\\phi}(f)$ specifies the power of $\\phi_{k}$ in $\\mathrm{rad}^{2}$ within any $1-\\mathrm{Hz}$-wide frequency bin, with units of $\\mathrm{rad}^{2} / \\mathrm{Hz}$. Furthermore, the variance of $\\phi_{k}$ is given by the integral of $S_{\\phi}(f)$ over all frequencies. Since jitter is typically quantified in time units, this is usually expressed as:\n\n[^6]image_name:(a)\ndescription:\n[\nname: Q1, type: NMOS, ports: {S: GND, D: Vo, G: X}\nname: Rd, type: Resistor, value: Rd, ports: {N1: Vo, N2: VDD}\nname: Vs, type: VoltageSource, value: Vs, ports: {Np: X, Nn: Vbias}\nname: Vbias, type: VoltageSource, value: Vbias, ports: {Np: Vbias, Nn: GND}\n]\nextrainfo:This is a common source amplifier circuit with an NMOS transistor (Q1) and a load resistor (Rd). The circuit includes a voltage source (Vs) for the input signal and a bias voltage source (Vbias). The small-signal model includes a voltage-controlled current source (gm1Vgs1) and a parallel resistor (Rd||ro1) representing the output resistance.\nimage_name:(b)\ndescription:The circuit diagram (b) represents a small-signal equivalent model including transistor noise sources for a common source amplifier. The NMOS transistor Q1 is biased with Vbias and has a load resistor Rd connected to the drain. The input signal is provided by Vs.\n\nFig. 19.14 (a) Common source amplifier in Example 19.11. (b) Small-signal equivalent, including transistor noise sources.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f \\tag{19.60}\n\\end{equation*}\n$$\n\nTaking the square root of both sides gives the root-mean-square (rms) absolute jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}=\\frac{T_{0}}{2 \\pi} \\sqrt{\\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f} \\tag{19.61}\n\\end{equation*}\n$$\n\nEquations (19.60) and (19.61) are crucial for relating absolute jitter in the time domain to phase noise.\n\n#### EXAMPLE 19.11\n\nConsider the common source amplifier in Fig. 19.14(a). Transistor $\\mathrm{Q}_{1}$ is biased in saturation by dc source $\\mathrm{V}_{\\text {bias }}$ and $\\mathrm{v}_{\\mathrm{s}}$ is a noiseless small-signal sinusoid of amplitude $\\left|\\mathrm{V}_{\\mathrm{s}}\\right|$. Estimate the phase noise at the output, including thermal noise from the resistor and transistor as well as flicker noise.\n\n#### Solution\n\nThe small-signal equivalent circuit is shown in Fig. 19.14(b). The voltage noise source $\\mathrm{v}_{\\mathrm{n} 1}$ models the flicker noise of transistor $Q_{1}$ and has a noise spectral density,\n\n$$\nV_{n 1}^{2}(f)=\\frac{K}{W L C_{o x} f}\n$$\n\nThe current noise source $i_{n}$ includes the thermal noise of both the transistor and resistor,\n\n$$\n\\mathrm{i}_{\\mathrm{n}}^{2}(\\mathrm{f})=4 \\mathrm{kT}\\left(\\frac{2}{3}\\right) \\mathrm{g}_{\\mathrm{m}}+\\frac{4 \\mathrm{kT}}{\\mathrm{R}_{\\mathrm{d}}}\n$$\n\nThe resulting voltage at $\\mathrm{v}_{0}$ takes the form of (19.55)—a sinusoidal voltage with additive noise. The sinusoidal component has amplitude $\\left|V_{s}\\right| g_{m 1}\\left(R_{d}| | r_{01}\\right)$. The voltage noise spectral density at $v_{0}$ is obtained by a routine noise circuit analysis of Fig. 19.14(b).\n\n$$\nv_{o, n}^{2}(f)=\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}\\left(R_{d}| | r_{01}\\right)^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}\\left(R_{d}| | r_{o 1}\\right)^{2}+\\frac{4 k T}{R_{d}}\\left(R_{d}| | r_{o 1}\\right)^{2}\\right]\n$$\n\nAssuming the zero-crossings of the sinusoidal waveform at $\\mathrm{v}_{0}$ are slightly disturbed by the noise, the approximation in (19.56) can be applied. In terms of phase,\n\n$$\n\\phi_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\left|\\mathrm{~V}_{\\mathrm{s}}\\right|}\n$$\n\nwhere $n_{k}$ is the sampled noise voltage $v_{o, n}$. Therefore, the phase noise is,\n\n$$\nS_{\\phi}(f)=\\frac{\\left(R_{d}| | r_{o 1}\\right)^{2}}{\\left|V_{s}\\right|^{2}}\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}+\\frac{4 k T}{R_{d}}\\right]\n$$\n\nNote that it includes a $1 / \\mathrm{f}$ component and a white component. ${ }^{14}$"
},
{
    "text": "Key Point: Jitter measures the random variations in a clock signal's timing phase, while phase noise represents its frequency-domain counterpart. These factors impose fundamental limits on the precision of time references.\n\nKey Point: The absolute jitter of a clock, denoted as $\\tau_{k}$, is a discrete-time sequence indicating the deviation of its transition times from their ideal values.\n\nUnlike most analog signals on integrated circuits, where information is conveyed by voltage or current values, the critical aspect of a clock waveform is the timing of its transitions across a specific threshold. Jitter refers to the random fluctuations in these transition times, and phase noise is the frequency-domain manifestation of jitter. Since jitter and phase noise stem from thermal and other noise processes inherent in all circuits, they pose fundamental constraints on the accuracy of any on-chip time reference, making them pivotal in PLL design.\n\nA typical clock signal is depicted in Fig. 19.12, with transition times labeled $t_{k}$. These times may correspond to state changes in a logic signal or shifts in current from one branch to another. In this example, only rising transitions are considered, but in actual circuits, either rising, falling, or both types of transitions may be relevant. For an ideal clock, transitions are evenly spaced such that $t_{k}=k T_{0}$, where $T_{0}$ is the clock period. However, in any practical clock, transitions deviate from their ideal times. Specifically, the deviation of transition times from their ideal values forms a discrete-time sequence $\\tau_{k}$.\n\n$$\n\\begin{equation*}\n\\mathrm{t}_{\\mathrm{k}}=\\mathrm{k} \\mathrm{~T}_{0}+\\tau_{\\mathrm{k}} \\tag{19.53}\n\\end{equation*}\n$$\n\nThe sequence $\\tau_{\\mathrm{k}}$ represents the absolute jitter of the clock in time units and can also be normalized to radians.\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\tau_{\\mathrm{k}} \\cdot\\left(2 \\pi / \\mathrm{T}_{0}\\right) \\tag{19.54}\n\\end{equation*}\n$$\n\nAbsolute jitter is a valuable analytical tool, though it is not directly measurable in a lab due to the need for an \"ideal\" clock reference.\n\n#### EXAMPLE 19.9\n\nDetermine the absolute jitter of a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white noise $n(t)$ with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as follows:\nimage_name:Fig. 19.12\ndescription:Fig. 19.12 illustrates the concept of absolute jitter by comparing an ideal clock waveform to a practical one.\n\n1. **Type of Graph and Function:**\n- This graph depicts two periodic signals in the time domain: an ideal clock waveform and a practical clock waveform.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time (t) in arbitrary units, with specific time points marked as \\( t_0, t_1, t_2, \\) and \\( t_3 \\).\n- The vertical axis indicates waveform amplitude but lacks explicit unit labels.\n\n3. **Overall Behavior and Trends:**\n- The ideal waveform is a perfect square wave with consistent periods marked as \\( T_0 \\), starting at \\( t_0 = 0 \\), \\( t_1 = T_0 \\), \\( t_2 = 2T_0 \\), and \\( t_3 = 3T_0 \\).\n- The practical waveform shows the same square wave but with slight timing variations, demonstrating jitter effects.\n\n4. **Key Features and Technical Details:**\n- The ideal waveform has sharp transitions at every \\( T_0 \\) interval.\n- The practical waveform exhibits slight deviations from the ideal, with transition times marked as \\( t_0 = 0 + \\tau_0 \\), \\( t_1 = T_0 + \\tau_1 \\), \\( t_2 = 2T_0 + \\tau_2 \\), and \\( t_3 = 3T_0 + \\tau_3 \\), where \\( \\tau \\) represents jitter.\n- These deviations highlight the impact of noise or other disturbances on the clock signal.\n\n5. **Annotations and Specific Data Points:**\n- The graph clearly marks nominal and adjusted transition times, facilitating visualization of jitter's effects.\n- Periods \\( T_0, T_1, T_2 \\) are indicated, with \\( T_1 \\) and \\( T_2 \\) showing slight alterations due to jitter in the practical waveform.\n\nFig. 19.12 Illustration of absolute jitter in a practical clock waveform.\n\n$$\n\\begin{equation*}\n\\mathrm{v}(\\mathrm{t})=\\mathrm{A} \\sin \\left(\\omega_{0} \\mathrm{t}\\right)+\\mathrm{n}(\\mathrm{t}) \\tag{19.55}\n\\end{equation*}\n$$\n\nAssuming the noise n is significantly smaller than the oscillation amplitude, $\\sigma_{\\mathrm{n}}$ « A, the transition times of $\\mathrm{v}(\\mathrm{t})$ are only slightly disturbed from their nominal values $\\mathrm{kT}_{0}$. The extent of this disturbance can be estimated from the slope of the sinusoid near the transition times, $A \\omega_{0}$, and samples of the noise, $n(t)$, labeled $n_{k}$.\n\n$$\n\\begin{equation*}\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}} \\tag{19.56}\n\\end{equation*}\n$$\n\nThe discrete-time noise process, $\\mathrm{n}_{\\mathrm{k}}$, is white with variance $\\sigma_{\\mathrm{n}}^{2}$. Consequently, absolute jitter is also a discrete-time white noise process with variance\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}} \\tag{19.57}\n\\end{equation*}\n$$\n\nAt high frequencies $\\omega_{0}$ and high amplitudes A, jitter decreases due to the steeper slope of the sinusoid at zero-crossings. When expressed in radians, the frequency effect is neutralized.\n\n$$\n\\begin{equation*}\n\\sigma_{\\phi}^{2}=\\sigma_{\\tau}^{2} \\cdot\\left(\\frac{2 \\pi}{T_{0}}\\right)^{2}=\\frac{\\sigma_{n}^{2}}{A^{2}} \\tag{19.58}\n\\end{equation*}\n$$\n\nFig. 19.13 A noise source resistance introduces jitter.\ni(t)\nimage_name:Fig. 19.13\ndescription:\n[\nname: I(t), type: CurrentSource, ports: {Np: V(t), Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: V(t), N2: Node2}\nname: C, type: Capacitor, value: C, ports: {Np: V(t), Nn: GND}\n]\nextrainfo:The circuit comprises a current source connected in series with a resistor and a capacitor, both of which are grounded.\n\n$\\mathrm{v}(\\mathrm{t})$\nimage_name:Fig. 19.13\ndescription:The graph in Fig. 19.13 shows a time-domain waveform. The x-axis likely represents time without specific units or scale, and the y-axis represents voltage, denoted as \\( v(t) \\). The waveform is jagged and irregular, indicating voltage fluctuations over time.\n\nOverall Behavior and Trends:\n- The waveform exhibits sharp peaks and valleys, suggesting rapid voltage changes.\n- It lacks clear periodicity, indicating a non-repetitive or noise-like signal.\n- The general trend is difficult to discern due to its erratic nature, but the amplitude range appears relatively constant.\n\nKey Features and Technical Details:\n- The waveform does not have distinct zero crossings, maxima, or minima labeled.\n- There are no clear annotations or reference lines indicating specific voltage levels or time intervals.\n\nAnnotations and Specific Data Points:\n- The graph lacks numerical values for key data points, complicating precise analysis.\n- No additional markers or reference lines are present to indicate significant features such as cutoff frequencies or phase shifts.\n\nThis waveform may represent the voltage across the capacitor in the described circuit, affected by jitter introduced by the current source, aligning with the concept of jitter causing variability in signal timing.\n\n#### EXAMPLE 19.10\n\nIn Fig. 19.13, assume $i(t)$ is an ideal sinusoidal current source with amplitude $1 \\mathrm{~mA}$, $\\mathrm{R}=1 \\mathrm{k} \\Omega$, and $\\mathrm{C}=1 \\mathrm{pF}$. Calculate the variance of absolute jitter at $v(\\mathrm{t})$ for a signal frequency of 1 MHz and also for 1 GHz.\n\n#### Solution\n\nThe voltage $\\mathrm{v}(\\mathrm{t})$ will conform to the form in (19.55), where $\\mathrm{n}(\\mathrm{t})$ is the Gaussian-distributed voltage noise due to the thermal noise of $R$. The variance of $n(t)$ is\n\n$$\n\\begin{equation*}\n\\sigma_{n}^{2}=\\frac{k T}{C} \\tag{19.59}\n\\end{equation*}\n$$\n\nAt a temperature of 300 K, this has an rms value of $64.4 \\mu \\mathrm{~V}$. The amplitude, A, of the sinusoid in (19.55) depends on the oscillation frequency f. At 1 MHz, the amplitude is nearly $(1 \\mathrm{~mA})(1 \\mathrm{k} \\Omega)=1 \\mathrm{~V}$. Thus, by substituting into (19.57),\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(1 \\mathrm{~V})^{2}\\left(2 \\pi 10^{6}\\right)^{2}}=(10.2 \\mathrm{ps})^{2}\n$$\n\nAt 1 GHz, the amplitude at $\\mathrm{v}(\\mathrm{t})$ is reduced by the lowpass RC filter to $\\mathrm{A}=0.157 \\mathrm{~V}$. Hence,\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(0.157 \\mathrm{~V})^{2}\\left(2 \\pi 10^{9}\\right)^{2}}=(0.065 \\mathrm{ps})^{2}\n$$\n\nNote that while the jitter in time units is lower at 1 GHz, the jitter in radians is higher due to the reduced amplitude at $\\mathrm{v}(\\mathrm{t})$.\n\nPhase noise is the frequency-domain representation of absolute jitter. Thus, $\\mathrm{S}_{\\phi}(\\mathrm{f})$, the phase noise of a clock signal with random jitter, is defined as the power spectral density of the sequence $\\phi_{\\mathrm{k}}$. Recall that a voltage noise spectral density specifies the power of a voltage signal in any 1-Hz-wide frequency bin, with units of $V^{2} / H z$. Similarly, $S_{\\phi}(f)$ specifies the power of $\\phi_{k}$ in $\\mathrm{rad}^{2}$ within any $1-\\mathrm{Hz}$-wide frequency bin, with units of $\\mathrm{rad}^{2} / \\mathrm{Hz}$. Furthermore, the variance of $\\phi_{k}$ is given by the integral of $S_{\\phi}(f)$ over all frequencies. Since jitter is typically quantified in time units, this is usually expressed as:\n\n[^6]image_name:(a)\ndescription:\n[\nname: Q1, type: NMOS, ports: {S: GND, D: Vo, G: X}\nname: Rd, type: Resistor, value: Rd, ports: {N1: Vo, N2: VDD}\nname: Vs, type: VoltageSource, value: Vs, ports: {Np: X, Nn: Vbias}\nname: Vbias, type: VoltageSource, value: Vbias, ports: {Np: Vbias, Nn: GND}\n]\nextrainfo:This circuit is a common source amplifier with an NMOS transistor (Q1) and a load resistor (Rd). It includes a voltage source (Vs) for the input signal and a bias voltage source (Vbias). The small-signal model includes a voltage-controlled current source (gm1Vgs1) and a parallel resistor (Rd||ro1) representing the output resistance.\nimage_name:(b)\ndescription:The circuit diagram (b) shows a small-signal equivalent model of a common source amplifier, including transistor noise sources. The NMOS transistor Q1 is biased with Vbias and has a load resistor Rd connected to the drain. The input signal is provided by Vs.\n\nFig. 19.14 (a) Common source amplifier in Example 19.11. (b) Small-signal equivalent, including transistor noise sources.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f \\tag{19.60}\n\\end{equation*}\n$$\n\nTaking the square root of both sides provides the root-mean-square (rms) absolute jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}=\\frac{T_{0}}{2 \\pi} \\sqrt{\\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f} \\tag{19.61}\n\\end{equation*}\n$$\n\nEquations (19.60) and (19.61) are crucial for relating absolute jitter in the time domain to phase noise.\n\n#### EXAMPLE 19.11\n\nConsider the common source amplifier in Fig. 19.14(a). Transistor $\\mathrm{Q}_{1}$ is biased in saturation by dc source $\\mathrm{V}_{\\text {bias }}$, and $\\mathrm{v}_{\\mathrm{s}}$ is a noiseless small-signal sinusoid of amplitude $\\left|\\mathrm{V}_{\\mathrm{s}}\\right|$. Estimate the phase noise at the output, including thermal noise from the resistor and transistor as well as flicker noise.\n\n#### Solution\n\nThe small-signal equivalent circuit is shown in Fig. 19.14(b). The voltage noise source $\\mathrm{v}_{\\mathrm{n} 1}$ models the flicker noise of transistor $Q_{1}$ and has a noise spectral density,\n\n$$\nV_{n 1}^{2}(f)=\\frac{K}{W L C_{o x} f}\n$$\n\nThe current noise source $i_{n}$ includes the thermal noise of both the transistor and resistor,\n\n$$\n\\mathrm{i}_{\\mathrm{n}}^{2}(\\mathrm{f})=4 \\mathrm{kT}\\left(\\frac{2}{3}\\right) \\mathrm{g}_{\\mathrm{m}}+\\frac{4 \\mathrm{kT}}{\\mathrm{R}_{\\mathrm{d}}}\n$$\n\nThe resulting voltage at $\\mathrm{v}_{0}$ takes the form of (19.55)—a sinusoidal voltage with additive noise. The sinusoidal component has amplitude $\\left|V_{s}\\right| g_{m 1}\\left(R_{d}| | r_{01}\\right)$. The voltage noise spectral density at $v_{0}$ is obtained by a routine noise circuit analysis of Fig. 19.14(b).\n\n$$\nv_{o, n}^{2}(f)=\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}\\left(R_{d}| | r_{01}\\right)^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}\\left(R_{d}| | r_{o 1}\\right)^{2}+\\frac{4 k T}{R_{d}}\\left(R_{d}| | r_{o 1}\\right)^{2}\\right]\n$$\n\nAssuming the zero-crossings of the sinusoidal waveform at $\\mathrm{v}_{0}$ are slightly disturbed by the noise, the approximation in (19.56) can be applied. In terms of phase,\n\n$$\n\\phi_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\left|\\mathrm{~V}_{\\mathrm{s}}\\right|}\n$$\n\nwhere $n_{k}$ is the sampled noise voltage $v_{o, n}$. Therefore, the phase noise is,\n\n$$\nS_{\\phi}(f)=\\frac{\\left(R_{d}| | r_{o 1}\\right)^{2}}{\\left|V_{s}\\right|^{2}}\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}+\\frac{4 k T}{R_{d}}\\right]\n$$\n\nNote that it includes a $1 / \\mathrm{f}$ component and a white component. ${ }^{14}$"
},
{
    "text": "Key Point: Jitter measures the random variations in the timing phase of a clock signal, while phase noise is its representation in the frequency domain. These factors impose fundamental limits on the precision of time references.\n\nKey Point: The absolute jitter of a clock, denoted as $\\tau_{k}$, is a discrete-time sequence indicating the deviation of its transition times from their ideal values.\n\n Unlike most analog signals on integrated circuits, where information is conveyed by voltage or current values, the critical aspect of a clock waveform is the timing of its transitions across a specific threshold. Jitter refers to the random fluctuations in these transition times, and phase noise is the frequency-domain equivalent of jitter. Since jitter and phase noise stem from thermal and other noise processes inherent in all circuits, they represent fundamental constraints on the accuracy of any on-chip time reference, making them pivotal in PLL design.\n\nA representative clock signal is depicted in Fig. 19.12, with transition times labeled as $t_{k}$. These times may correspond to changes in logic state or shifts in current from one branch to another. In this example, only rising transitions are considered, but in actual circuits, either rising, falling, or both types of transitions may be relevant. For an ideal clock, transitions are evenly spaced, so $t_{k}=k T_{0}$, where $T_{0}$ is the clock period. In practical clocks, however, transitions deviate from their ideal times. Specifically, the deviation of transition times from their ideal values is represented by a discrete-time sequence $\\tau_{k}$.\n\n$$\n\\begin{equation*}\n\\mathrm{t}_{\\mathrm{k}}=\\mathrm{k} \\mathrm{~T}_{0}+\\tau_{\\mathrm{k}} \\tag{19.53}\n\\end{equation*}\n$$\n\nThe sequence $\\tau_{\\mathrm{k}}$ represents the absolute jitter of the clock in time units and can also be normalized to radians.\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\tau_{\\mathrm{k}} \\cdot\\left(2 \\pi / \\mathrm{T}_{0}\\right) \\tag{19.54}\n\\end{equation*}\n$$\n\nAbsolute jitter is a valuable analytical tool, though it is not directly measurable in a lab due to the requirement of an \"ideal\" clock for comparison.\n\n#### EXAMPLE 19.9\n\nDetermine the absolute jitter of a sinusoidal signal with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white noise $n(t)$ with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoidal signal can be described as follows:\nimage_name:Fig. 19.12\ndescription:Fig. 19.12 illustrates the concept of absolute jitter by comparing an ideal clock waveform to a practical one.\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform graph showing two periodic signals: an ideal clock waveform and a practical clock waveform.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time (t) in arbitrary units, with specific time points marked as \\( t_0, t_1, t_2, \\) and \\( t_3 \\).\n- The vertical axis represents the waveform amplitude but is not explicitly labeled with units.\n\n3. **Overall Behavior and Trends:**\n- The ideal waveform is a perfect square wave with consistent periods marked as \\( T_0 \\), starting at \\( t_0 = 0 \\), \\( t_1 = T_0 \\), \\( t_2 = 2T_0 \\), and \\( t_3 = 3T_0 \\).\n- The practical waveform shows the same square wave but with slight variations in transition timing, demonstrating the effect of jitter.\n\n4. **Key Features and Technical Details:**\n- The ideal waveform has sharp transitions at every \\( T_0 \\) interval.\n- The practical waveform deviates slightly from the ideal, with transition times marked as \\( t_0 = 0 + \\tau_0 \\), \\( t_1 = T_0 + \\tau_1 \\), \\( t_2 = 2T_0 + \\tau_2 \\), and \\( t_3 = 3T_0 + \\tau_3 \\), where \\( \\tau \\) represents the jitter.\n- This deviation is the primary focus, highlighting how the practical clock's transitions are disturbed from the nominal values.\n\n5. **Annotations and Specific Data Points:**\n- The graph clearly marks the nominal transition times and the adjusted times due to jitter, making it easy to visualize the impact of noise or other disturbances on the clock signal.\n- The periods \\( T_0, T_1, T_2 \\) are indicated, with \\( T_1 \\) and \\( T_2 \\) representing the slightly altered periods in the practical waveform due to jitter effects.\n\nFig. 19.12 Illustration of absolute jitter in a practical clock waveform.\n\n$$\n\\begin{equation*}\n\\mathrm{v}(\\mathrm{t})=\\mathrm{A} \\sin \\left(\\omega_{0} \\mathrm{t}\\right)+\\mathrm{n}(\\mathrm{t}) \\tag{19.55}\n\\end{equation*}\n$$\n\nAssuming the noise $n$ is much smaller than the oscillation amplitude, $\\sigma_{\\mathrm{n}}$ « A, the transition times of $\\mathrm{v}(\\mathrm{t})$ are only slightly disturbed from their nominal values $\\mathrm{kT}_{0}$. The extent of this disturbance can be estimated from the slope of the sinusoid near the transition times, $A \\omega_{0}$, and samples of the noise, $n(t)$, labeled $n_{k}$.\n\n$$\n\\begin{equation*}\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}} \\tag{19.56}\n\\end{equation*}\n$$\n\nThe discrete-time noise process, $\\mathrm{n}_{\\mathrm{k}}$, is white with variance $\\sigma_{\\mathrm{n}}^{2}$. Consequently, the absolute jitter is also a discrete-time white noise process with variance\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}} \\tag{19.57}\n\\end{equation*}\n$$\n\nAt high frequencies $\\omega_{0}$ and high amplitudes A, jitter is reduced due to the steep slope of the sinusoid at zero-crossings. Expressed in radians, the frequency effect is neutralized.\n\n$$\n\\begin{equation*}\n\\sigma_{\\phi}^{2}=\\sigma_{\\tau}^{2} \\cdot\\left(\\frac{2 \\pi}{T_{0}}\\right)^{2}=\\frac{\\sigma_{n}^{2}}{A^{2}} \\tag{19.58}\n\\end{equation*}\n$$\n\nFig. 19.13 A noise source resistance introduces jitter.\ni(t)\nimage_name:Fig. 19.13\ndescription:\n[\nname: I(t), type: CurrentSource, ports: {Np: V(t), Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: V(t), N2: Node2}\nname: C, type: Capacitor, value: C, ports: {Np: V(t), Nn: GND}\n]\nextrainfo:The circuit consists of a current source connected in series with a resistor and a capacitor, both of which are grounded.\n\n$\\mathrm{v}(\\mathrm{t})$\nimage_name:Fig. 19.13\ndescription:The function graph in Fig. 19.13 is a time-domain waveform. The x-axis likely represents time, though no specific units or scale are provided, and the y-axis represents voltage, denoted as \\( v(t) \\). The waveform exhibits a jagged, irregular pattern, indicating voltage fluctuations over time.\n\nOverall Behavior and Trends:\n- The waveform shows a series of sharp peaks and valleys, suggesting rapid voltage changes.\n- There is no clear periodicity, indicating a non-repetitive or noise-like signal.\n- The general trend is difficult to discern due to its erratic nature, but the amplitude range appears relatively constant.\n\nKey Features and Technical Details:\n- The waveform lacks distinct zero crossings, maxima, or minima.\n- There are no clear annotations or reference lines to indicate specific voltage levels or time intervals.\n\nAnnotations and Specific Data Points:\n- The graph lacks numerical values for key data points, complicating precise analysis.\n- No additional markers or reference lines are present to indicate significant features such as cutoff frequencies or phase shifts.\n\nThis waveform may represent the voltage across the capacitor in the given circuit, affected by jitter introduced by the current source, as described in the context. The erratic nature of the waveform aligns with the concept of jitter, which introduces variability in the timing of the signal.\n\n#### EXAMPLE 19.10\n\nIn Fig. 19.13, assume $i(t)$ is an ideal sinusoidal current source with amplitude $1 \\mathrm{~mA}$, $\\mathrm{R}=1 \\mathrm{k} \\Omega$, and $\\mathrm{C}=1 \\mathrm{pF}$. Calculate the variance of absolute jitter at $v(\\mathrm{t})$ for a signal frequency of 1 MHz and also for 1 GHz.\n\n#### Solution\n\nThe voltage $\\mathrm{v}(\\mathrm{t})$ will be in the form of $(19.55)$, where $\\mathrm{n}(\\mathrm{t})$ is the gaussian-distributed voltage noise due to the thermal noise of $R$. The variance of $n(t)$ is\n\n$$\n\\begin{equation*}\n\\sigma_{n}^{2}=\\frac{k T}{C} \\tag{19.59}\n\\end{equation*}\n$$\n\nAt a temperature of 300 K, this has an rms value of $64.4 \\mu \\mathrm{~V}$. The amplitude, A, of the sinusoid in (19.55) depends on the oscillation frequency f. At 1 MHz, the amplitude is nearly $(1 \\mathrm{~mA})(1 \\mathrm{k} \\Omega)=1 \\mathrm{~V}$. Thus, using (19.57),\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(1 \\mathrm{~V})^{2}\\left(2 \\pi 10^{6}\\right)^{2}}=(10.2 \\mathrm{ps})^{2}\n$$\n\nAt 1 GHz, the amplitude at $\\mathrm{v}(\\mathrm{t})$ is reduced by the lowpass RC filter to $\\mathrm{A}=0.157 \\mathrm{~V}$. Hence,\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(0.157 \\mathrm{~V})^{2}\\left(2 \\pi 10^{9}\\right)^{2}}=(0.065 \\mathrm{ps})^{2}\n$$\n\nNote that while the time-domain jitter is lower at 1 GHz, the jitter in radians is higher due to the reduced amplitude at $\\mathrm{v}(\\mathrm{t})$.\n\nPhase noise is the frequency-domain representation of absolute jitter. Therefore, $\\mathrm{S}_{\\phi}(\\mathrm{f})$, the phase noise of a clock signal with random jitter, is defined as the power spectral density of the sequence $\\phi_{\\mathrm{k}}$. Recall that a voltage noise spectral density specifies the power of a voltage signal in any 1-Hz-wide frequency bin, with units of $V^{2} / H z$. Similarly, $S_{\\phi}(f)$ specifies the power of $\\phi_{k}$ in $\\mathrm{rad}^{2}$ within any $1-\\mathrm{Hz}$-wide frequency bin, with units of $\\mathrm{rad}^{2} / \\mathrm{Hz}$. Furthermore, the variance of $\\phi_{k}$ is given by the integral of $S_{\\phi}(f)$ over all frequencies. Since jitter is typically quantified in time units, this is usually expressed as:\n\n[^6]image_name:(a)\ndescription:\n[\nname: Q1, type: NMOS, ports: {S: GND, D: Vo, G: X}\nname: Rd, type: Resistor, value: Rd, ports: {N1: Vo, N2: VDD}\nname: Vs, type: VoltageSource, value: Vs, ports: {Np: X, Nn: Vbias}\nname: Vbias, type: VoltageSource, value: Vbias, ports: {Np: Vbias, Nn: GND}\n]\nextrainfo:This is a common source amplifier circuit with an NMOS transistor (Q1) and a load resistor (Rd). The circuit includes a voltage source (Vs) for the input signal and a bias voltage source (Vbias).\n\nimage_name:(b)\ndescription:The circuit diagram (b) represents a small-signal equivalent model of a common source amplifier, including transistor noise sources. The NMOS transistor Q1 is biased with Vbias, and a load resistor Rd is connected to the drain. The input signal is provided by Vs.\n\nFig. 19.14 (a) Common source amplifier in Example 19.11. (b) Small-signal equivalent, including transistor noise sources.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f \\tag{19.60}\n\\end{equation*}\n$$\n\nTaking the square root of both sides yields the root-mean-square (rms) absolute jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}=\\frac{T_{0}}{2 \\pi} \\sqrt{\\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f} \\tag{19.61}\n\\end{equation*}\n$$\n\nEquations (19.60) and (19.61) are crucial for relating absolute jitter in the time domain to phase noise.\n\n#### EXAMPLE 19.11\n\nConsider the common source amplifier in Fig. 19.14(a). Transistor $\\mathrm{Q}_{1}$ is biased in saturation by dc source $\\mathrm{V}_{\\text {bias }}$, and $\\mathrm{v}_{\\mathrm{s}}$ is a noiseless small-signal sinusoid of amplitude $\\left|\\mathrm{V}_{\\mathrm{s}}\\right|$. Estimate the phase noise at the output, including thermal noise from the resistor and transistor as well as flicker noise.\n\n#### Solution\n\nThe small-signal equivalent circuit is shown in Fig. 19.14(b). The voltage noise source $\\mathrm{v}_{\\mathrm{n} 1}$ models the flicker noise of transistor $Q_{1}$ and has a noise spectral density,\n\n$$\nV_{n 1}^{2}(f)=\\frac{K}{W L C_{o x} f}\n$$\n\nThe current noise source $i_{n}$ includes the thermal noise of both the transistor and resistor,\n\n$$\n\\mathrm{i}_{\\mathrm{n}}^{2}(\\mathrm{f})=4 \\mathrm{kT}\\left(\\frac{2}{3}\\right) \\mathrm{g}_{\\mathrm{m}}+\\frac{4 \\mathrm{kT}}{\\mathrm{R}_{\\mathrm{d}}}\n$$\n\nThe resulting voltage at $\\mathrm{v}_{0}$ takes the form of (19.55)—a sinusoidal voltage with additive noise. The sinusoidal component has amplitude $\\left|V_{s}\\right| g_{m 1}\\left(R_{d}| | r_{01}\\right)$. The voltage noise spectral density at $v_{0}$ is obtained by a routine noise circuit analysis of Fig. 19.14(b).\n\n$$\nv_{o, n}^{2}(f)=\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}\\left(R_{d}| | r_{01}\\right)^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}\\left(R_{d}| | r_{o 1}\\right)^{2}+\\frac{4 k T}{R_{d}}\\left(R_{d}| | r_{o 1}\\right)^{2}\\right]\n$$\n\nAssuming the zero-crossings of the sinusoidal waveform at $\\mathrm{v}_{0}$ are only slightly disturbed by the noise, the approximation in (19.56) can be applied. In terms of phase,\n\n$$\n\\phi_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\left|\\mathrm{~V}_{\\mathrm{s}}\\right|}\n$$\n\nwhere $n_{k}$ is the sampled noise voltage $v_{o, n}$. Therefore, the phase noise is,\n\n$$\nS_{\\phi}(f)=\\frac{\\left(R_{d}| | r_{o 1}\\right)^{2}}{\\left|V_{s}\\right|^{2}}\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}+\\frac{4 k T}{R_{d}}\\right]\n$$\n\nNote that it includes a $1 / \\mathrm{f}$ component and a white component. ${ }^{14}$"
},
{
    "text": "Key Point: Jitter measures the random fluctuations in the timing phase of a clock signal, while phase noise is its representation in the frequency domain. These factors impose fundamental limits on the precision of time references.\n\nKey Point: The absolute jitter of a clock, denoted as $\\tau_{k}$, is a discrete-time sequence indicating the deviation of its transition times from their ideal values.\n\nUnlike most analog signals on integrated circuits, where information is conveyed by voltage or current values, the critical aspect of a clock waveform is the timing of its transitions across a specific threshold. Jitter refers to the random variation in these transition times, and phase noise is the frequency-domain counterpart of jitter. Since jitter and phase noise stem from thermal and other noise processes inherent in all circuits, they represent inherent limitations on the accuracy of any on-chip time reference, making them pivotal in PLL design.\n\nA typical clock signal is depicted in Fig. 19.12, with transition times labeled as $t_{k}$. These times may correspond to state changes in a logic signal or current shifts between branches. In this example, only rising transitions are considered, though in actual circuits, either rising, falling, or both types of transitions may be relevant. For an ideal clock, transitions are evenly spaced, so $t_{k} = k T_{0}$, where $T_{0}$ is the clock period. In practical clocks, however, transitions deviate from their ideal times. Specifically, the deviation from ideal transition times is represented by a discrete-time sequence $\\tau_{k}$.\n\n$$\n\\begin{equation*}\n\\mathrm{t}_{\\mathrm{k}} = \\mathrm{k} \\mathrm{~T}_{0} + \\tau_{\\mathrm{k}} \\tag{19.53}\n\\end{equation*}\n$$\n\nThe sequence $\\tau_{\\mathrm{k}}$ represents the absolute jitter of the clock in time units and can also be normalized to radians.\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}} = \\tau_{\\mathrm{k}} \\cdot \\left(2 \\pi / \\mathrm{T}_{0}\\right) \\tag{19.54}\n\\end{equation*}\n$$\n\nAbsolute jitter is a valuable analytical tool, though it is not directly measurable in a lab due to the need for an \"ideal\" clock reference.\n\n#### EXAMPLE 19.9\n\nDetermine the absolute jitter of a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white noise $n(t)$ with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as follows:\nimage_name:Fig. 19.12\ndescription:Fig. 19.12 illustrates the concept of absolute jitter by comparing an ideal clock waveform to a practical one.\n\n1. **Type of Graph and Function:**\n- This graph shows two periodic signals in the time domain: an ideal clock waveform and a practical clock waveform.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time (t) in arbitrary units, with specific points marked as \\( t_0, t_1, t_2, \\) and \\( t_3 \\).\n- The vertical axis indicates waveform amplitude but lacks explicit unit labels.\n\n3. **Overall Behavior and Trends:**\n- The ideal waveform is a perfect square wave with consistent periods \\( T_0 \\), starting at \\( t_0 = 0 \\), \\( t_1 = T_0 \\), \\( t_2 = 2T_0 \\), and \\( t_3 = 3T_0 \\).\n- The practical waveform shows the same square wave but with slight timing variations, demonstrating jitter effects.\n\n4. **Key Features and Technical Details:**\n- The ideal waveform has sharp transitions at every \\( T_0 \\) interval.\n- The practical waveform exhibits slight deviations from the ideal, with transition times marked as \\( t_0 = 0 + \\tau_0 \\), \\( t_1 = T_0 + \\tau_1 \\), \\( t_2 = 2T_0 + \\tau_2 \\), and \\( t_3 = 3T_0 + \\tau_3 \\), where \\( \\tau \\) denotes jitter.\n- These deviations highlight the impact of noise or other disturbances on the clock signal.\n\n5. **Annotations and Specific Data Points:**\n- The graph clearly marks nominal and adjusted transition times, facilitating visualization of jitter effects.\n- Periods \\( T_0, T_1, T_2 \\) are indicated, with \\( T_1 \\) and \\( T_2 \\) showing slight alterations due to jitter.\n\nFig. 19.12 Illustration of absolute jitter in a practical clock waveform.\n\n$$\n\\begin{equation*}\n\\mathrm{v}(\\mathrm{t}) = \\mathrm{A} \\sin \\left(\\omega_{0} \\mathrm{t}\\right) + \\mathrm{n}(\\mathrm{t}) \\tag{19.55}\n\\end{equation*}\n$$\n\nAssuming the noise n is significantly smaller than the oscillation amplitude, $\\sigma_{\\mathrm{n}} \\ll A$, the transition times of $\\mathrm{v}(\\mathrm{t})$ are slightly disturbed from their nominal values $\\mathrm{kT}_{0}$. The extent of this disturbance can be estimated from the sinusoid's slope around the transition times, $A \\omega_{0}$, and noise samples, $n(t)$, labeled $n_{k}$.\n\n$$\n\\begin{equation*}\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}} \\tag{19.56}\n\\end{equation*}\n$$\n\nThe discrete-time noise process, $\\mathrm{n}_{\\mathrm{k}}$, is white with variance $\\sigma_{\\mathrm{n}}^{2}$. Consequently, absolute jitter is also a discrete-time white noise process with variance\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2} = \\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}} \\tag{19.57}\n\\end{equation*}\n$$\n\nAt high frequencies $\\omega_{0}$ and high amplitudes A, jitter decreases due to the sinusoid's steep slope at zero-crossings. Expressed in radians, the frequency effect is nullified.\n\n$$\n\\begin{equation*}\n\\sigma_{\\phi}^{2} = \\sigma_{\\tau}^{2} \\cdot \\left(\\frac{2 \\pi}{T_{0}}\\right)^{2} = \\frac{\\sigma_{n}^{2}}{A^{2}} \\tag{19.58}\n\\end{equation*}\n$$\n\nFig. 19.13 A noise source resistance introduces jitter.\ni(t)\nimage_name:Fig. 19.13\ndescription:\n[\nname: I(t), type: CurrentSource, ports: {Np: V(t), Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: V(t), N2: Node2}\nname: C, type: Capacitor, value: C, ports: {Np: V(t), Nn: GND}\n]\nextrainfo:The circuit comprises a current source connected in series with a resistor and a capacitor, both grounded.\n\n$\\mathrm{v}(\\mathrm{t})$\nimage_name:Fig. 19.13\ndescription:The graph in Fig. 19.13 shows a time-domain waveform. The x-axis likely represents time without specific units or scale, and the y-axis represents voltage, denoted as \\( v(t) \\). The waveform is irregular and jagged, indicating voltage fluctuations over time.\n\nOverall Behavior and Trends:\n- The waveform displays sharp peaks and valleys, suggesting rapid voltage changes.\n- It lacks clear periodicity, indicating a non-repetitive or noise-like signal.\n- The overall trend is difficult to discern due to its erratic nature, but it maintains a relatively consistent amplitude range.\n\nKey Features and Technical Details:\n- The waveform lacks distinct zero crossings, maxima, or minima.\n- No clear annotations or reference lines indicate specific voltage levels or time intervals.\n\nAnnotations and Specific Data Points:\n- The graph lacks numerical values for key data points, complicating precise analysis.\n- No additional markers or reference lines are present to highlight significant features such as cutoff frequencies or phase shifts.\n\nThis waveform likely represents the voltage across the capacitor in the described circuit, affected by jitter from the current source, aligning with the jitter concept.\n\n#### EXAMPLE 19.10\n\nFor the circuit in Fig. 19.13, assume $i(t)$ is an ideal sinusoidal current source with amplitude $1 \\mathrm{~mA}$, $\\mathrm{R}=1 \\mathrm{k} \\Omega$, and $\\mathrm{C}=1 \\mathrm{pF}$. Calculate the variance of absolute jitter at $v(\\mathrm{t})$ for frequencies of 1 MHz and 1 GHz.\n\n#### Solution\n\nThe voltage $\\mathrm{v}(\\mathrm{t})$ follows the form in (19.55), where $\\mathrm{n}(\\mathrm{t})$ is the Gaussian-distributed voltage noise from the thermal noise of $R$. The variance of $n(t)$ is\n\n$$\n\\begin{equation*}\n\\sigma_{n}^{2} = \\frac{k T}{C} \\tag{19.59}\n\\end{equation*}\n$$\n\nAt 300 K, this has an rms value of $64.4 \\mu \\mathrm{~V}$. The sinusoid's amplitude in (19.55) depends on the frequency $f$. At 1 MHz, the amplitude is nearly $(1 \\mathrm{~mA})(1 \\mathrm{k} \\Omega) = 1 \\mathrm{~V}$. Thus, using (19.57),\n\n$$\n\\sigma_{\\tau}^{2} = \\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(1 \\mathrm{~V})^{2} \\left(2 \\pi 10^{6}\\right)^{2}} = (10.2 \\mathrm{ps})^{2}\n$$\n\nAt 1 GHz, the amplitude at $\\mathrm{v}(\\mathrm{t})$ is reduced by the lowpass RC filter to $\\mathrm{A}=0.157 \\mathrm{~V}$. Hence,\n\n$$\n\\sigma_{\\tau}^{2} = \\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(0.157 \\mathrm{~V})^{2} \\left(2 \\pi 10^{9}\\right)^{2}} = (0.065 \\mathrm{ps})^{2}\n$$\n\nNote that while the jitter in time units is lower at 1 GHz, the jitter in radians is higher due to the reduced amplitude at $\\mathrm{v}(\\mathrm{t})$.\n\nPhase noise is the frequency-domain representation of absolute jitter. Thus, $\\mathrm{S}_{\\phi}(\\mathrm{f})$, the phase noise of a clock signal with random jitter, is the power spectral density of the sequence $\\phi_{\\mathrm{k}}$. Recall that a voltage noise spectral density specifies the power of a voltage signal in any 1-Hz-wide frequency bin, with units of $V^{2} / H z$. Similarly, $S_{\\phi}(f)$ specifies the power of $\\phi_{k}$ in $\\mathrm{rad}^{2}$ within any $1-\\mathrm{Hz}$-wide frequency bin, with units of $\\mathrm{rad}^{2} / \\mathrm{Hz}$. The variance of $\\phi_{k}$ is given by the integral of $S_{\\phi}(f)$ over all frequencies. Since jitter is typically quantified in time units, this is usually expressed as:\n\n[^6]image_name:(a)\ndescription:\n[\nname: Q1, type: NMOS, ports: {S: GND, D: Vo, G: X}\nname: Rd, type: Resistor, value: Rd, ports: {N1: Vo, N2: VDD}\nname: Vs, type: VoltageSource, value: Vs, ports: {Np: X, Nn: Vbias}\nname: Vbias, type: VoltageSource, value: Vbias, ports: {Np: Vbias, Nn: GND}\n]\nextrainfo:This is a common source amplifier circuit with an NMOS transistor (Q1) and a load resistor (Rd). The circuit includes a voltage source (Vs) for the input signal and a bias voltage source (Vbias). The small-signal model includes a voltage-controlled current source (gm1Vgs1) and a parallel resistor (Rd||ro1) representing the output resistance.\nimage_name:(b)\ndescription:The circuit diagram (b) shows a small-signal equivalent model of a common source amplifier, including transistor noise sources. The NMOS transistor Q1 is biased with Vbias and has a load resistor Rd connected to the drain. The input signal is provided by Vs.\n\nFig. 19.14 (a) Common source amplifier in Example 19.11. (b) Small-signal equivalent, including transistor noise sources.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2} = \\left(\\frac{T_{0}}{2 \\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f \\tag{19.60}\n\\end{equation*}\n$$\n\nTaking the square root of both sides gives the root-mean-square (rms) absolute jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau} = \\frac{T_{0}}{2 \\pi} \\sqrt{\\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f} \\tag{19.61}\n\\end{equation*}\n$$\n\nEquations (19.60) and (19.61) are crucial for relating absolute jitter in the time domain to phase noise.\n\n#### EXAMPLE 19.11\n\nConsider the common source amplifier in Fig. 19.14(a). Transistor $\\mathrm{Q}_{1}$ is biased in saturation by dc source $\\mathrm{V}_{\\text {bias }}$, and $\\mathrm{v}_{\\mathrm{s}}$ is a noiseless small-signal sinusoid of amplitude $\\left|\\mathrm{V}_{\\mathrm{s}}\\right|$. Estimate the phase noise at the output, including thermal noise from the resistor and transistor as well as flicker noise.\n\n#### Solution\n\nThe small-signal equivalent circuit is shown in Fig. 19.14(b). The voltage noise source $\\mathrm{v}_{\\mathrm{n} 1}$ models the flicker noise of transistor $Q_{1}$ and has a noise spectral density,\n\n$$\nV_{n 1}^{2}(f) = \\frac{K}{W L C_{o x} f}\n$$\n\nThe current noise source $i_{n}$ includes the thermal noise of both the transistor and resistor,\n\n$$\n\\mathrm{i}_{\\mathrm{n}}^{2}(\\mathrm{f}) = 4 \\mathrm{kT}\\left(\\frac{2}{3}\\right) \\mathrm{g}_{\\mathrm{m}} + \\frac{4 \\mathrm{kT}}{\\mathrm{R}_{\\mathrm{d}}}\n$$\n\nThe resulting voltage at $\\mathrm{v}_{0}$ takes the form of (19.55)—a sinusoidal voltage with additive noise. The sinusoidal component has amplitude $\\left|V_{s}\\right| g_{m 1}\\left(R_{d}| | r_{01}\\right)$. The voltage noise spectral density at $v_{0}$ is obtained by analyzing Fig. 19.14(b).\n\n$$\nv_{o, n}^{2}(f) = \\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}\\left(R_{d}| | r_{01}\\right)^{2} + 4 k T\\left(\\frac{2}{3}\\right) g_{m}\\left(R_{d}| | r_{o 1}\\right)^{2} + \\frac{4 k T}{R_{d}}\\left(R_{d}| | r_{o 1}\\right)^{2}\\right]\n$$\n\nAssuming the zero-crossings of the sinusoidal waveform at $\\mathrm{v}_{0}$ are slightly disturbed by the noise, the approximation in (19.56) can be applied. In terms of phase,\n\n$$\n\\phi_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\left|\\mathrm{~V}_{\\mathrm{s}}\\right|}\n$$\n\nwhere $n_{k}$ is the sampled noise voltage $v_{o, n}$. Therefore, the phase noise is,\n\n$$\nS_{\\phi}(f) = \\frac{\\left(R_{d}| | r_{o 1}\\right)^{2}}{\\left|V_{s}\\right|^{2}}\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2} + 4 k T\\left(\\frac{2}{3}\\right) g_{m} + \\frac{4 k T}{R_{d}}\\right]\n$$\n\nNote that it includes a $1 / \\mathrm{f}$ component and a white component. ${ }^{14}$"
},
{
    "text": "Key Point: Jitter measures the random variations in a clock signal's timing phase, while phase noise is its representation in the frequency domain. These factors impose fundamental limits on the precision of time references.\n\nKey Point: The absolute jitter of a clock, denoted as $\\tau_{k}$, is a discrete-time sequence indicating the deviation of its transition times from their ideal values.\n\nUnlike most analog signals on integrated circuits, where information is conveyed by voltage or current values, the critical aspect of a clock waveform is the timing of its transitions across a specific threshold. Jitter represents the random fluctuations in these transition times, and phase noise is the frequency-domain equivalent of jitter. Since jitter and phase noise stem from thermal and other noise processes inherent in all circuits, they fundamentally limit the accuracy of any on-chip time reference, making them pivotal in PLL design.\n\nA standard clock signal is depicted in Fig. 19.12, with transition times labeled as $t_{k}$. These times may correspond to state changes in a logic signal or current shifts between branches. In this example, only rising transitions are considered, but in actual circuits, either rising, falling, or both types of transitions may be relevant. For an ideal clock, transitions are evenly spaced, so $t_{k}=k T_{0}$, where $T_{0}$ is the clock period. In practical clocks, however, transitions deviate from their ideal times. Specifically, the deviation from ideal transition times forms a discrete-time sequence $\\tau_{k}$.\n\n$$\n\\begin{equation*}\n\\mathrm{t}_{\\mathrm{k}}=\\mathrm{k} \\mathrm{~T}_{0}+\\tau_{\\mathrm{k}} \\tag{19.53}\n\\end{equation*}\n$$\n\nThe sequence $\\tau_{\\mathrm{k}}$ represents the absolute jitter of the clock in time units and can also be normalized to radians.\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\tau_{\\mathrm{k}} \\cdot\\left(2 \\pi / \\mathrm{T}_{0}\\right) \\tag{19.54}\n\\end{equation*}\n$$\n\nAbsolute jitter is a valuable analytical tool, though it is not directly measurable in a lab due to the need for an \"ideal\" clock reference.\n\n#### EXAMPLE 19.9\n\nDetermine the absolute jitter of a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white noise $n(t)$ with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as follows:\nimage_name:Fig. 19.12\ndescription:Fig. 19.12 illustrates the concept of absolute jitter by comparing an ideal clock waveform to a practical one.\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform graph showing two periodic signals: an ideal clock waveform and a practical clock waveform.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time (t) in arbitrary units, with specific time points marked as \\( t_0, t_1, t_2, \\) and \\( t_3 \\).\n- The vertical axis represents the waveform's amplitude but is not explicitly labeled with units.\n\n3. **Overall Behavior and Trends:**\n- The ideal waveform is a perfect square wave with consistent periods marked as \\( T_0 \\), starting at \\( t_0 = 0 \\), \\( t_1 = T_0 \\), \\( t_2 = 2T_0 \\), and \\( t_3 = 3T_0 \\).\n- The practical waveform shows the same square wave but with slight variations in the timing of the transitions, illustrating the effect of jitter.\n\n4. **Key Features and Technical Details:**\n- The ideal waveform has sharp transitions at every \\( T_0 \\) interval.\n- The practical waveform deviates slightly from the ideal, with transition times marked as \\( t_0 = 0 + \\tau_0 \\), \\( t_1 = T_0 + \\tau_1 \\), \\( t_2 = 2T_0 + \\tau_2 \\), and \\( t_3 = 3T_0 + \\tau_3 \\), where \\( \\tau \\) represents the jitter.\n- This deviation is the primary focus, highlighting how the practical clock's transitions are disturbed from the nominal values.\n\n5. **Annotations and Specific Data Points:**\n- The graph clearly marks the nominal transition times and the adjusted times due to jitter, making it easy to visualize the impact of noise or other disturbances on the clock signal.\n- The periods \\( T_0, T_1, T_2 \\) are indicated, with \\( T_1 \\) and \\( T_2 \\) representing the slightly altered periods in the practical waveform due to jitter effects.\n\nFig. 19.12 Illustration of absolute jitter in a practical clock waveform.\n\n$$\n\\begin{equation*}\n\\mathrm{v}(\\mathrm{t})=\\mathrm{A} \\sin \\left(\\omega_{0} \\mathrm{t}\\right)+\\mathrm{n}(\\mathrm{t}) \\tag{19.55}\n\\end{equation*}\n$$\n\nAssuming the noise n is much smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A, the transition times of $\\mathrm{v}(\\mathrm{t})$ are slightly disturbed from their nominal values $\\mathrm{kT}_{0}$. The extent of this disturbance can be estimated from the slope of the sinusoid around the transition times, $A \\omega_{0}$, and samples of the noise, $n(t)$, labeled $n_{k}$.\n\n$$\n\\begin{equation*}\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}} \\tag{19.56}\n\\end{equation*}\n$$\n\nThe discrete-time noise process, $\\mathrm{n}_{\\mathrm{k}}$, is white with variance $\\sigma_{\\mathrm{n}}^{2}$. Hence, absolute jitter is also a discrete-time white noise process with variance\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}} \\tag{19.57}\n\\end{equation*}\n$$\n\nAt high frequencies $\\omega_{0}$ and high amplitudes A, jitter is reduced due to the steeper slope of the sinusoid at zero-crossings. Expressed in radians, the frequency effect is neutralized.\n\n$$\n\\begin{equation*}\n\\sigma_{\\phi}^{2}=\\sigma_{\\tau}^{2} \\cdot\\left(\\frac{2 \\pi}{T_{0}}\\right)^{2}=\\frac{\\sigma_{n}^{2}}{A^{2}} \\tag{19.58}\n\\end{equation*}\n$$\n\nFig. 19.13 A noise source resistance introduces jitter.\ni(t)\nimage_name:Fig. 19.13\ndescription:\n[\nname: I(t), type: CurrentSource, ports: {Np: V(t), Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: V(t), N2: Node2}\nname: C, type: Capacitor, value: C, ports: {Np: V(t), Nn: GND}\n]\nextrainfo:The circuit comprises a current source in series with a resistor and a capacitor, both connected to ground.\n\n$\\mathrm{v}(\\mathrm{t})$\nimage_name:Fig. 19.13\ndescription:The graph in Fig. 19.13 is a time-domain waveform. The x-axis likely represents time, though no specific units or scale are provided, and the y-axis represents voltage, denoted as \\( v(t) \\). The waveform exhibits a jagged, irregular pattern, indicating voltage fluctuations over time.\n\nOverall Behavior and Trends:\n- The waveform shows a series of sharp peaks and valleys, suggesting rapid voltage changes.\n- There is no clear periodicity, indicating a non-repetitive or noise-like signal.\n- The general trend is difficult to discern due to its erratic nature, but the amplitude range appears relatively constant.\n\nKey Features and Technical Details:\n- The waveform lacks distinct zero crossings, maxima, or minima.\n- There are no clear annotations or reference lines to indicate specific voltage levels or time intervals.\n\nAnnotations and Specific Data Points:\n- The graph lacks numerical values for key data points, complicating precise analysis.\n- No additional markers or reference lines are present to indicate significant features such as cutoff frequencies or phase shifts.\n\nThis waveform may represent the voltage across the capacitor in the described circuit, affected by jitter introduced by the current source, aligning with the concept of jitter causing variability in signal timing.\n\n#### EXAMPLE 19.10\n\nIn Fig. 19.13, assume $i(t)$ is an ideal sinusoidal current source with amplitude $1 \\mathrm{~mA}$, $\\mathrm{R}=1 \\mathrm{k} \\Omega$, and $\\mathrm{C}=1 \\mathrm{pF}$. Calculate the variance of absolute jitter at $v(\\mathrm{t})$ for a signal frequency of 1 MHz and 1 GHz.\n\n#### Solution\n\nThe voltage $\\mathrm{v}(\\mathrm{t})$ follows the form of $(19.55)$, where $\\mathrm{n}(\\mathrm{t})$ is the gaussian-distributed voltage noise from the thermal noise of $R$. The variance of $n(t)$ is\n\n$$\n\\begin{equation*}\n\\sigma_{n}^{2}=\\frac{k T}{C} \\tag{19.59}\n\\end{equation*}\n$$\n\nAt a temperature of 300 K, this has an rms value of $64.4 \\mu \\mathrm{~V}$. The amplitude A of the sinusoid in (19.55) depends on the frequency f. At 1 MHz, A is nearly $(1 \\mathrm{~mA})(1 \\mathrm{k} \\Omega)=1 \\mathrm{~V}$. Thus, substituting into (19.57),\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(1 \\mathrm{~V})^{2}\\left(2 \\pi 10^{6}\\right)^{2}}=(10.2 \\mathrm{ps})^{2}\n$$\n\nAt 1 GHz, the amplitude at $\\mathrm{v}(\\mathrm{t})$ is reduced by the lowpass RC filter to $\\mathrm{A}=0.157 \\mathrm{~V}$. Hence,\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(0.157 \\mathrm{~V})^{2}\\left(2 \\pi 10^{9}\\right)^{2}}=(0.065 \\mathrm{ps})^{2}\n$$\n\nNote that while the time-domain jitter is less at 1 GHz, the jitter in radians is higher due to the reduced amplitude at $\\mathrm{v}(\\mathrm{t})$.\n\nPhase noise is the frequency-domain representation of absolute jitter. Thus, $\\mathrm{S}_{\\phi}(\\mathrm{f})$, the phase noise of a clock signal with random jitter, is the power spectral density of the sequence $\\phi_{\\mathrm{k}}$. Recall that a voltage noise spectral density specifies the power of a voltage signal in any 1-Hz-wide frequency bin, with units of $V^{2} / H z$. Similarly, $S_{\\phi}(f)$ specifies the power of $\\phi_{k}$ in $\\mathrm{rad}^{2}$ within any $1-\\mathrm{Hz}$-wide frequency bin, with units of $\\mathrm{rad}^{2} / \\mathrm{Hz}$. The variance of $\\phi_{k}$ is given by the integral of $S_{\\phi}(f)$ over all frequencies. Since jitter is typically quantified in time units, this is usually expressed as:\n\n[^6]image_name:(a)\ndescription:\n[\nname: Q1, type: NMOS, ports: {S: GND, D: Vo, G: X}\nname: Rd, type: Resistor, value: Rd, ports: {N1: Vo, N2: VDD}\nname: Vs, type: VoltageSource, value: Vs, ports: {Np: X, Nn: Vbias}\nname: Vbias, type: VoltageSource, value: Vbias, ports: {Np: Vbias, Nn: GND}\n]\nextrainfo:This is a common source amplifier circuit with an NMOS transistor (Q1) and a load resistor (Rd). The circuit includes a voltage source (Vs) for the input signal and a bias voltage source (Vbias). The small-signal model includes a voltage-controlled current source (gm1Vgs1) and a parallel resistor (Rd||ro1) representing the output resistance.\nimage_name:(b)\ndescription:The circuit diagram (b) represents a small-signal equivalent model including transistor noise sources for a common source amplifier. The NMOS transistor Q1 is biased with Vbias and has a load resistor Rd connected to the drain. The input signal is provided by Vs.\n\nFig. 19.14 (a) Common source amplifier in Example 19.11. (b) Small-signal equivalent, including transistor noise sources.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f \\tag{19.60}\n\\end{equation*}\n$$\n\nTaking the square root of both sides gives the root-mean-square (rms) absolute jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}=\\frac{T_{0}}{2 \\pi} \\sqrt{\\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f} \\tag{19.61}\n\\end{equation*}\n$$\n\nEquations (19.60) and (19.61) are key relationships between absolute jitter in the time-domain and phase noise.\n\n#### EXAMPLE 19.11\n\nConsider the common source amplifier in Fig. 19.14(a). Transistor $\\mathrm{Q}_{1}$ is biased in saturation by dc source $\\mathrm{V}_{\\text {bias }}$ and $\\mathrm{v}_{\\mathrm{s}}$ is a noiseless small-signal sinusoid of amplitude $\\left|\\mathrm{V}_{\\mathrm{s}}\\right|$. Estimate the phase noise at the output, including thermal noise from the resistor and transistor as well as flicker noise.\n\n#### Solution\n\nThe small-signal equivalent circuit is shown in Fig. 19.14(b). The voltage noise source $\\mathrm{v}_{\\mathrm{n} 1}$ models the flicker noise of transistor $Q_{1}$ and has a noise spectral density,\n\n$$\nV_{n 1}^{2}(f)=\\frac{K}{W L C_{o x} f}\n$$\n\nThe current noise source $i_{n}$ includes the thermal noise of both the transistor and resistor,\n\n$$\n\\mathrm{i}_{\\mathrm{n}}^{2}(\\mathrm{f})=4 \\mathrm{kT}\\left(\\frac{2}{3}\\right) \\mathrm{g}_{\\mathrm{m}}+\\frac{4 \\mathrm{kT}}{\\mathrm{R}_{\\mathrm{d}}}\n$$\n\nThe resulting voltage at $\\mathrm{v}_{0}$ takes the form of (19.55)—a sinusoidal voltage in additive noise. The sinusoidal component has amplitude $\\left|V_{s}\\right| g_{m 1}\\left(R_{d}| | r_{01}\\right)$. The voltage noise spectral density at $v_{0}$ is obtained by a routine noise circuit analysis of Fig. 19.14(b).\n\n$$\nv_{o, n}^{2}(f)=\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}\\left(R_{d}| | r_{01}\\right)^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}\\left(R_{d}| | r_{o 1}\\right)^{2}+\\frac{4 k T}{R_{d}}\\left(R_{d}| | r_{o 1}\\right)^{2}\\right]\n$$\n\nAssuming the zero-crossings of the sinusoidal waveform at $\\mathrm{v}_{0}$ are slightly disturbed by the noise, the approximation in (19.56) may be applied. In terms of phase,\n\n$$\n\\phi_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\left|\\mathrm{~V}_{\\mathrm{s}}\\right|}\n$$\n\nwhere $n_{k}$ is the sampled noise voltage $v_{o, n}$. Therefore, the phase noise is,\n\n$$\nS_{\\phi}(f)=\\frac{\\left(R_{d}| | r_{o 1}\\right)^{2}}{\\left|V_{s}\\right|^{2}}\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}+\\frac{4 k T}{R_{d}}\\right]\n$$\n\nNote that it has a $1 / \\mathrm{f}$ component and a white component. ${ }^{14}$"
},
{
    "text": "Key Point: Jitter quantifies the random fluctuations in the timing phase of a clock signal, while phase noise represents its manifestation in the frequency domain. These phenomena impose fundamental constraints on the precision of time references.\n\nKey Point: The absolute jitter of a clock, denoted as $\\tau_{k}$, is a discrete-time sequence that measures the deviation of its transition times from their ideal values.\n\nIn contrast to most analog signals on integrated circuits, where information is conveyed by the voltage or current value, the critical aspect of a clock waveform is the timing of its transitions across a specific threshold. Jitter refers to the random variation in these transition times, and phase noise is the frequency-domain equivalent of jitter. Since jitter and phase noise stem from thermal and other noise processes inherent in all circuits, they represent inherent limitations on the accuracy of any on-chip time reference, making them pivotal in PLL design.\n\nA representative clock signal is depicted in Fig. 19.12, with transition times labeled as $t_{k}$. These times may correspond to state changes in a logic signal or the switching of current between branches. For this illustration, only rising transitions are considered, but in actual circuits, either rising, falling, or both types of transitions may be relevant. In an ideal clock, transitions are evenly spaced, so $t_{k}=k T_{0}$, where $T_{0}$ is the clock period. However, in any real-world clock, transitions deviate from their ideal times. Specifically, the deviation of transition times from their ideal values is represented by a discrete-time sequence $\\tau_{k}$.\n\n$$\n\\begin{equation*}\n\\mathrm{t}_{\\mathrm{k}}=\\mathrm{k} \\mathrm{~T}_{0}+\\tau_{\\mathrm{k}} \\tag{19.53}\n\\end{equation*}\n$$\n\nThe sequence $\\tau_{\\mathrm{k}}$ represents the absolute jitter of the clock in time units and can also be converted to radians.\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\tau_{\\mathrm{k}} \\cdot\\left(2 \\pi / \\mathrm{T}_{0}\\right) \\tag{19.54}\n\\end{equation*}\n$$\n\nAbsolute jitter is a valuable analytical tool, though it is not directly measurable in a lab due to the necessity of an \"ideal\" clock reference.\n\n#### EXAMPLE 19.9\n\nDetermine the absolute jitter of a sinusoidal signal with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white noise $n(t)$ with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoidal signal can be described as follows:\nimage_name:Fig. 19.12\ndescription:Fig. 19.12 illustrates the concept of absolute jitter by comparing an ideal clock waveform to a practical one.\n\n1. **Type of Graph and Function:**\n- This graph displays two periodic signals in the time domain: an ideal clock waveform and a practical clock waveform.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time (t) in arbitrary units, with specific time points marked as \\( t_0, t_1, t_2, \\) and \\( t_3 \\).\n- The vertical axis indicates the waveform amplitude but lacks explicit unit labeling.\n\n3. **Overall Behavior and Trends:**\n- The ideal waveform is a perfect square wave with consistent periods \\( T_0 \\), starting at \\( t_0 = 0 \\), \\( t_1 = T_0 \\), \\( t_2 = 2T_0 \\), and \\( t_3 = 3T_0 \\).\n- The practical waveform shows the same square wave but with slight timing variations, demonstrating the impact of jitter.\n\n4. **Key Features and Technical Details:**\n- The ideal waveform has sharp transitions at every \\( T_0 \\) interval.\n- The practical waveform exhibits slight deviations from the ideal, with transition times marked as \\( t_0 = 0 + \\tau_0 \\), \\( t_1 = T_0 + \\tau_1 \\), \\( t_2 = 2T_0 + \\tau_2 \\), and \\( t_3 = 3T_0 + \\tau_3 \\), where \\( \\tau \\) denotes the jitter.\n- These deviations highlight how the practical clock's transitions are affected by noise or other disturbances.\n\n5. **Annotations and Specific Data Points:**\n- The graph clearly marks both the nominal and adjusted transition times, facilitating the visualization of jitter's impact on the clock signal.\n- The periods \\( T_0, T_1, T_2 \\) are indicated, with \\( T_1 \\) and \\( T_2 \\) showing the slightly altered periods in the practical waveform due to jitter.\n\nFig. 19.12 Illustration of absolute jitter in a practical clock waveform.\n\n$$\n\\begin{equation*}\n\\mathrm{v}(\\mathrm{t})=\\mathrm{A} \\sin \\left(\\omega_{0} \\mathrm{t}\\right)+\\mathrm{n}(\\mathrm{t}) \\tag{19.55}\n\\end{equation*}\n$$\n\nAssuming the noise $n$ is significantly smaller than the oscillation amplitude, $\\sigma_{\\mathrm{n}}$ « A, the transition times of $\\mathrm{v}(\\mathrm{t})$ are only slightly disturbed from their nominal values $\\mathrm{kT}_{0}$. The extent of this disturbance can be estimated from the slope of the sinusoid near the transition times, $A \\omega_{0}$, and samples of the noise, $n(t)$, labeled $n_{k}$.\n\n$$\n\\begin{equation*}\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}} \\tag{19.56}\n\\end{equation*}\n$$\n\nThe discrete-time noise process, $\\mathrm{n}_{\\mathrm{k}}$, is white with variance $\\sigma_{\\mathrm{n}}^{2}$. Consequently, the absolute jitter is also a discrete-time white noise process with variance\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}} \\tag{19.57}\n\\end{equation*}\n$$\n\nAt high frequencies $\\omega_{0}$ and high amplitudes A, jitter is reduced due to the steeper slope of the sinusoid at zero-crossings. When expressed in radians, the frequency effect is neutralized.\n\n$$\n\\begin{equation*}\n\\sigma_{\\phi}^{2}=\\sigma_{\\tau}^{2} \\cdot\\left(\\frac{2 \\pi}{T_{0}}\\right)^{2}=\\frac{\\sigma_{n}^{2}}{A^{2}} \\tag{19.58}\n\\end{equation*}\n$$\n\nFig. 19.13 A noise source resistance introduces jitter.\ni(t)\nimage_name:Fig. 19.13\ndescription:\n[\nname: I(t), type: CurrentSource, ports: {Np: V(t), Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: V(t), N2: Node2}\nname: C, type: Capacitor, value: C, ports: {Np: V(t), Nn: GND}\n]\nextrainfo:The circuit comprises a current source in series with a resistor and a capacitor, both connected to ground.\n\n$\\mathrm{v}(\\mathrm{t})$\nimage_name:Fig. 19.13\ndescription:The graph in Fig. 19.13 shows a time-domain waveform. The x-axis likely represents time, though no specific units or scale are provided, and the y-axis represents voltage, denoted as \\( v(t) \\). The waveform is jagged and irregular, indicating voltage fluctuations over time.\n\nOverall Behavior and Trends:\n- The waveform exhibits sharp peaks and valleys, suggesting rapid voltage changes.\n- It lacks clear periodicity, indicating a non-repetitive or noise-like signal.\n- The general trend is difficult to discern due to its erratic nature, but the amplitude range appears relatively constant.\n\nKey Features and Technical Details:\n- The waveform lacks distinct zero crossings, maxima, or minima.\n- No clear annotations or reference lines indicate specific voltage levels or time intervals.\n\nAnnotations and Specific Data Points:\n- The graph lacks numerical values for key data points, complicating precise analysis.\n- No additional markers or reference lines are present to highlight significant features such as cutoff frequencies or phase shifts.\n\nThis waveform may represent the voltage across the capacitor in the described circuit, affected by jitter introduced by the current source, aligning with the concept of jitter causing variability in signal timing.\n\n#### EXAMPLE 19.10\n\nIn Fig. 19.13, assume $i(t)$ is an ideal sinusoidal current source with amplitude $1 \\mathrm{~mA}$, $\\mathrm{R}=1 \\mathrm{k} \\Omega$, and $\\mathrm{C}=1 \\mathrm{pF}$. Calculate the variance of absolute jitter at $v(\\mathrm{t})$ for a signal frequency of 1 MHz and 1 GHz.\n\n#### Solution\n\nThe voltage $\\mathrm{v}(\\mathrm{t})$ follows the form of $(19.55)$, where $\\mathrm{n}(\\mathrm{t})$ is the Gaussian-distributed voltage noise from the thermal noise of $R$. The variance of $n(t)$ is\n\n$$\n\\begin{equation*}\n\\sigma_{n}^{2}=\\frac{k T}{C} \\tag{19.59}\n\\end{equation*}\n$$\n\nAt a temperature of 300 K, this has an rms value of $64.4 \\mu \\mathrm{~V}$. The amplitude, A, of the sinusoid in (19.55) depends on the oscillation frequency f. At 1 MHz, A is nearly $(1 \\mathrm{~mA})(1 \\mathrm{k} \\Omega)=1 \\mathrm{~V}$. Thus, substituting into (19.57),\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(1 \\mathrm{~V})^{2}\\left(2 \\pi 10^{6}\\right)^{2}}=(10.2 \\mathrm{ps})^{2}\n$$\n\nAt 1 GHz, the amplitude at $\\mathrm{v}(\\mathrm{t})$ is reduced by the lowpass RC filter to $\\mathrm{A}=0.157 \\mathrm{~V}$. Hence,\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(0.157 \\mathrm{~V})^{2}\\left(2 \\pi 10^{9}\\right)^{2}}=(0.065 \\mathrm{ps})^{2}\n$$\n\nNote that while the time-domain jitter is lower at 1 GHz, the jitter in radians is higher due to the reduced amplitude at $\\mathrm{v}(\\mathrm{t})$.\n\nPhase noise is the frequency-domain representation of absolute jitter. Thus, $\\mathrm{S}_{\\phi}(\\mathrm{f})$, the phase noise of a clock signal with random jitter, is defined as the power spectral density of the sequence $\\phi_{\\mathrm{k}}$. Recall that a voltage noise spectral density specifies the power of a voltage signal in any 1-Hz-wide frequency bin, with units of $V^{2} / H z$. Similarly, $S_{\\phi}(f)$ specifies the power of $\\phi_{k}$ in $\\mathrm{rad}^{2}$ within any $1-\\mathrm{Hz}$-wide frequency bin, with units of $\\mathrm{rad}^{2} / \\mathrm{Hz}$. The variance of $\\phi_{k}$ is given by the integral of $S_{\\phi}(f)$ over all frequencies. Since jitter is typically quantified in time units, this is usually expressed as:\n\n[^6]image_name:(a)\ndescription:\n[\nname: Q1, type: NMOS, ports: {S: GND, D: Vo, G: X}\nname: Rd, type: Resistor, value: Rd, ports: {N1: Vo, N2: VDD}\nname: Vs, type: VoltageSource, value: Vs, ports: {Np: X, Nn: Vbias}\nname: Vbias, type: VoltageSource, value: Vbias, ports: {Np: Vbias, Nn: GND}\n]\nextrainfo:This circuit is a common source amplifier with an NMOS transistor (Q1) and a load resistor (Rd). It includes a voltage source (Vs) for the input signal and a bias voltage source (Vbias). The small-signal model includes a voltage-controlled current source (gm1Vgs1) and a parallel resistor (Rd||ro1) representing the output resistance.\nimage_name:(b)\ndescription:The circuit diagram (b) shows a small-signal equivalent model of a common source amplifier, including transistor noise sources. The NMOS transistor Q1 is biased with Vbias and has a load resistor Rd connected to the drain. The input signal is provided by Vs.\n\nFig. 19.14 (a) Common source amplifier in Example 19.11. (b) Small-signal equivalent, including transistor noise sources.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f \\tag{19.60}\n\\end{equation*}\n$$\n\nTaking the square root of both sides yields the root-mean-square (rms) absolute jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}=\\frac{T_{0}}{2 \\pi} \\sqrt{\\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f} \\tag{19.61}\n\\end{equation*}\n$$\n\nEquations (19.60) and (19.61) are crucial for relating absolute jitter in the time domain to phase noise.\n\n#### EXAMPLE 19.11\n\nConsider the common source amplifier in Fig. 19.14(a). Transistor $\\mathrm{Q}_{1}$ is biased in saturation by dc source $\\mathrm{V}_{\\text {bias }}$, and $\\mathrm{v}_{\\mathrm{s}}$ is a noiseless small-signal sinusoid of amplitude $\\left|\\mathrm{V}_{\\mathrm{s}}\\right|$. Estimate the phase noise at the output, accounting for thermal noise of the resistor and transistor as well as flicker noise.\n\n#### Solution\n\nThe small-signal equivalent circuit is shown in Fig. 19.14(b). The voltage noise source $\\mathrm{v}_{\\mathrm{n} 1}$ models the flicker noise of transistor $Q_{1}$ and has a noise spectral density,\n\n$$\nV_{n 1}^{2}(f)=\\frac{K}{W L C_{o x} f}\n$$\n\nThe current noise source $i_{n}$ includes the thermal noise of both the transistor and resistor,\n\n$$\n\\mathrm{i}_{\\mathrm{n}}^{2}(\\mathrm{f})=4 \\mathrm{kT}\\left(\\frac{2}{3}\\right) \\mathrm{g}_{\\mathrm{m}}+\\frac{4 \\mathrm{kT}}{\\mathrm{R}_{\\mathrm{d}}}\n$$\n\nThe resulting voltage at $\\mathrm{v}_{0}$ takes the form of (19.55)—a sinusoidal voltage with additive noise. The sinusoidal component has amplitude $\\left|V_{s}\\right| g_{m 1}\\left(R_{d}| | r_{01}\\right)$. The voltage noise spectral density at $v_{0}$ is obtained by analyzing the noise circuit in Fig. 19.14(b).\n\n$$\nv_{o, n}^{2}(f)=\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}\\left(R_{d}| | r_{01}\\right)^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}\\left(R_{d}| | r_{o 1}\\right)^{2}+\\frac{4 k T}{R_{d}}\\left(R_{d}| | r_{o 1}\\right)^{2}\\right]\n$$\n\nAssuming the zero-crossings of the sinusoidal waveform at $\\mathrm{v}_{0}$ are slightly disturbed by the noise, the approximation in (19.56) can be applied. In terms of phase,\n\n$$\n\\phi_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\left|\\mathrm{~V}_{\\mathrm{s}}\\right|}\n$$\n\nwhere $n_{k}$ is the sampled noise voltage $v_{o, n}$. Therefore, the phase noise is,\n\n$$\nS_{\\phi}(f)=\\frac{\\left(R_{d}| | r_{o 1}\\right)^{2}}{\\left|V_{s}\\right|^{2}}\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}+\\frac{4 k T}{R_{d}}\\right]\n$$\n\nNote that it includes a $1 / \\mathrm{f}$ component and a white component. ${ }^{14}$"
},
{
    "text": "Key Point: Jitter measures the random variations in a clock signal's timing phase, while phase noise is its representation in the frequency domain. These factors impose fundamental limits on the precision of time references.\n\nKey Point: The absolute jitter of a clock, denoted as $\\tau_{k}$, is a discrete-time sequence indicating the deviation of its transition times from their ideal values.\n\nIn contrast to most analog signals on integrated circuits, where information is conveyed by voltage or current values, the critical aspect of a clock waveform is the timing of its transitions across a specific threshold. Jitter refers to the random fluctuations in these transition times, and phase noise is the frequency-domain equivalent of jitter. Since jitter and phase noise stem from thermal and other noise processes inherent in all circuits, they represent fundamental constraints on the accuracy of any on-chip time reference, making them pivotal in PLL design.\n\nA standard clock signal is depicted in Fig. 19.12, with transition times labeled as $t_{k}$. These times may correspond to state changes in a logic signal or current shifts between branches. In this example, only rising transitions are considered, but in actual circuits, either rising, falling, or both types of transitions could be relevant. For an ideal clock, transitions are evenly spaced, so $t_{k}=k T_{0}$, where $T_{0}$ is the clock period. In any real clock, however, transitions deviate from their ideal timings. Specifically, the deviation of transition times from their ideal values is represented by a discrete-time sequence $\\tau_{k}$.\n\n$$\n\\begin{equation*}\n\\mathrm{t}_{\\mathrm{k}}=\\mathrm{k} \\mathrm{~T}_{0}+\\tau_{\\mathrm{k}} \\tag{19.53}\n\\end{equation*}\n$$\n\nThe sequence $\\tau_{\\mathrm{k}}$ represents the absolute jitter of the clock in time units and can also be normalized to radians.\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\tau_{\\mathrm{k}} \\cdot\\left(2 \\pi / \\mathrm{T}_{0}\\right) \\tag{19.54}\n\\end{equation*}\n$$\n\nAbsolute jitter is a valuable analytical tool, though it is not directly measurable in a lab due to the need for an \"ideal\" clock reference.\n\n#### EXAMPLE 19.9\n\nDetermine the absolute jitter of a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white noise $n(t)$ with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as follows:\nimage_name:Fig. 19.12\ndescription:Fig. 19.12 illustrates the concept of absolute jitter by comparing an ideal clock waveform to a practical one.\n\n1. **Graph Type and Function:**\n- This is a time-domain waveform graph showing two periodic signals: an ideal clock waveform and a practical clock waveform.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time (t) in arbitrary units, with specific time points marked as \\( t_0, t_1, t_2, \\) and \\( t_3 \\).\n- The vertical axis represents the waveform amplitude but is not explicitly labeled with units.\n\n3. **Overall Behavior and Trends:**\n- The ideal waveform is a perfect square wave with consistent periods marked as \\( T_0 \\), starting at \\( t_0 = 0 \\), \\( t_1 = T_0 \\), \\( t_2 = 2T_0 \\), and \\( t_3 = 3T_0 \\).\n- The practical waveform shows the same square wave but with slight variations in transition timing, illustrating jitter effects.\n\n4. **Key Features and Technical Details:**\n- The ideal waveform has sharp transitions at every \\( T_0 \\) interval.\n- The practical waveform deviates slightly from the ideal, with transition times marked as \\( t_0 = 0 + \\tau_0 \\), \\( t_1 = T_0 + \\tau_1 \\), \\( t_2 = 2T_0 + \\tau_2 \\), and \\( t_3 = 3T_0 + \\tau_3 \\), where \\( \\tau \\) represents the jitter.\n- This deviation is the primary focus, highlighting how the practical clock's transitions are disturbed from the nominal values.\n\n5. **Annotations and Specific Data Points:**\n- The graph clearly marks the nominal transition times and the adjusted times due to jitter, making it easy to visualize the impact of noise or other disturbances on the clock signal.\n- The periods \\( T_0, T_1, T_2 \\) are indicated, with \\( T_1 \\) and \\( T_2 \\) representing the slightly altered periods in the practical waveform due to jitter effects.\n\nFig. 19.12 Illustration of absolute jitter in a practical clock waveform.\n\n$$\n\\begin{equation*}\n\\mathrm{v}(\\mathrm{t})=\\mathrm{A} \\sin \\left(\\omega_{0} \\mathrm{t}\\right)+\\mathrm{n}(\\mathrm{t}) \\tag{19.55}\n\\end{equation*}\n$$\n\nAssuming the noise n is much smaller than the oscillation amplitude, $\\sigma_{\\mathrm{n}}$ « A, the transition times of $\\mathrm{v}(\\mathrm{t})$ are slightly disturbed from their nominal values $\\mathrm{kT}_{0}$. The extent of this disturbance can be estimated from the slope of the sinusoid around the transition times, $A \\omega_{0}$, and samples of the noise, $n(t)$, labeled $n_{k}$.\n\n$$\n\\begin{equation*}\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}} \\tag{19.56}\n\\end{equation*}\n$$\n\nThe discrete-time noise process, $\\mathrm{n}_{\\mathrm{k}}$, is white with variance $\\sigma_{\\mathrm{n}}^{2}$. Therefore, absolute jitter is also a discrete-time white noise process with variance\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}} \\tag{19.57}\n\\end{equation*}\n$$\n\nAt high frequencies $\\omega_{0}$ and high amplitudes A, jitter is reduced due to the steep slope of the sinusoid at zero-crossings. Expressed in radians, the frequency effect is neutralized.\n\n$$\n\\begin{equation*}\n\\sigma_{\\phi}^{2}=\\sigma_{\\tau}^{2} \\cdot\\left(\\frac{2 \\pi}{T_{0}}\\right)^{2}=\\frac{\\sigma_{n}^{2}}{A^{2}} \\tag{19.58}\n\\end{equation*}\n$$\n\nFig. 19.13 A noise source resistance introduces jitter.\ni(t)\nimage_name:Fig. 19.13\ndescription:\n[\nname: I(t), type: CurrentSource, ports: {Np: V(t), Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: V(t), N2: Node2}\nname: C, type: Capacitor, value: C, ports: {Np: V(t), Nn: GND}\n]\nextrainfo:The circuit consists of a current source connected in series with a resistor and a capacitor, both of which are grounded.\n\n$\\mathrm{v}(\\mathrm{t})$\nimage_name:Fig. 19.13\ndescription:The graph in Fig. 19.13 shows a time-domain waveform. The x-axis likely represents time, though no specific units or scale are provided, and the y-axis represents voltage, denoted as \\( v(t) \\). The waveform exhibits a jagged, irregular pattern, indicating voltage fluctuations over time.\n\nOverall Behavior and Trends:\n- The waveform displays a series of sharp peaks and valleys, suggesting rapid voltage changes.\n- There is no clear periodicity, indicating a non-repetitive or noise-like signal.\n- The general trend is difficult to discern due to its erratic nature, but the amplitude range appears relatively constant.\n\nKey Features and Technical Details:\n- The waveform lacks distinct zero crossings, maxima, or minima.\n- No clear annotations or reference lines indicate specific voltage levels or time intervals.\n\nAnnotations and Specific Data Points:\n- The graph lacks numerical values for key data points, complicating precise analysis.\n- No additional markers or reference lines are present to indicate significant features such as cutoff frequencies or phase shifts.\n\nThis waveform may represent the voltage across the capacitor in the described circuit, affected by jitter introduced by the current source, aligning with the concept of jitter causing variability in signal timing.\n\n#### EXAMPLE 19.10\n\nIn Fig. 19.13, assume $i(t)$ is an ideal sinusoidal current source with amplitude $1 \\mathrm{~mA}$, $\\mathrm{R}=1 \\mathrm{k} \\Omega$, and $\\mathrm{C}=1 \\mathrm{pF}$. Calculate the variance of absolute jitter at $v(\\mathrm{t})$ for a signal frequency of 1 MHz and also for 1 GHz.\n\n#### Solution\n\nThe voltage $\\mathrm{v}(\\mathrm{t})$ will follow the form of $(19.55)$, where $\\mathrm{n}(\\mathrm{t})$ is the Gaussian-distributed voltage noise from the thermal noise of $R$. The variance of $n(t)$ is\n\n$$\n\\begin{equation*}\n\\sigma_{n}^{2}=\\frac{k T}{C} \\tag{19.59}\n\\end{equation*}\n$$\n\nAt a temperature of 300 K, this has an rms value of $64.4 \\mu \\mathrm{~V}$. The amplitude, A, of the sinusoid in (19.55) depends on the oscillation frequency f. At 1 MHz, A is nearly $(1 \\mathrm{~mA})(1 \\mathrm{k} \\Omega)=1 \\mathrm{~V}$. Thus, substituting into (19.57),\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(1 \\mathrm{~V})^{2}\\left(2 \\pi 10^{6}\\right)^{2}}=(10.2 \\mathrm{ps})^{2}\n$$\n\nAt 1 GHz, the amplitude at $\\mathrm{v}(\\mathrm{t})$ is reduced by the lowpass RC filter to $\\mathrm{A}=0.157 \\mathrm{~V}$. Hence,\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(0.157 \\mathrm{~V})^{2}\\left(2 \\pi 10^{9}\\right)^{2}}=(0.065 \\mathrm{ps})^{2}\n$$\n\nNote that while the time-domain jitter is less at 1 GHz, the jitter in radians is higher due to the reduced amplitude at $\\mathrm{v}(\\mathrm{t})$.\n\nPhase noise is the frequency-domain representation of absolute jitter. Thus, $\\mathrm{S}_{\\phi}(\\mathrm{f})$, the phase noise of a clock signal with random jitter, is the power spectral density of the sequence $\\phi_{\\mathrm{k}}$. Recall that a voltage noise spectral density specifies the power of a voltage signal in any 1-Hz-wide frequency bin, with units of $V^{2} / H z$. Similarly, $S_{\\phi}(f)$ specifies the power of $\\phi_{k}$ in $\\mathrm{rad}^{2}$ within any $1-\\mathrm{Hz}$-wide frequency bin, with units of $\\mathrm{rad}^{2} / \\mathrm{Hz}$. The variance of $\\phi_{k}$ is given by the integral of $S_{\\phi}(f)$ over all frequencies. Since jitter is typically quantified in time units, this is usually expressed as:\n\n[^6]image_name:(a)\ndescription:\n[\nname: Q1, type: NMOS, ports: {S: GND, D: Vo, G: X}\nname: Rd, type: Resistor, value: Rd, ports: {N1: Vo, N2: VDD}\nname: Vs, type: VoltageSource, value: Vs, ports: {Np: X, Nn: Vbias}\nname: Vbias, type: VoltageSource, value: Vbias, ports: {Np: Vbias, Nn: GND}\n]\nextrainfo:This is a common source amplifier circuit with an NMOS transistor (Q1) and a load resistor (Rd). The circuit includes a voltage source (Vs) for the input signal and a bias voltage source (Vbias).\n\nimage_name:(b)\ndescription:The circuit diagram (b) represents a small-signal equivalent model including transistor noise sources for a common source amplifier. The NMOS transistor Q1 is biased with Vbias and has a load resistor Rd connected to the drain. The input signal is provided by Vs.\n\nFig. 19.14 (a) Common source amplifier in Example 19.11. (b) Small-signal equivalent, including transistor noise sources.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f \\tag{19.60}\n\\end{equation*}\n$$\n\nTaking the square root of both sides gives the root-mean-square (rms) absolute jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}=\\frac{T_{0}}{2 \\pi} \\sqrt{\\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f} \\tag{19.61}\n\\end{equation*}\n$$\n\nEquations (19.60) and (19.61) are crucial for relating absolute jitter in the time domain to phase noise.\n\n#### EXAMPLE 19.11\n\nConsider the common source amplifier in Fig. 19.14(a). Transistor $\\mathrm{Q}_{1}$ is biased in saturation by dc source $\\mathrm{V}_{\\text {bias }}$ and $\\mathrm{v}_{\\mathrm{s}}$ is a noiseless small-signal sinusoid of amplitude $\\left|\\mathrm{V}_{\\mathrm{s}}\\right|$. Estimate the phase noise at the output, including thermal noise from the resistor and transistor as well as flicker noise.\n\n#### Solution\n\nThe small-signal equivalent circuit is shown in Fig. 19.14(b). The voltage noise source $\\mathrm{v}_{\\mathrm{n} 1}$ models the flicker noise of transistor $Q_{1}$ and has a noise spectral density,\n\n$$\nV_{n 1}^{2}(f)=\\frac{K}{W L C_{o x} f}\n$$\n\nThe current noise source $i_{n}$ includes the thermal noise of both the transistor and resistor,\n\n$$\n\\mathrm{i}_{\\mathrm{n}}^{2}(\\mathrm{f})=4 \\mathrm{kT}\\left(\\frac{2}{3}\\right) \\mathrm{g}_{\\mathrm{m}}+\\frac{4 \\mathrm{kT}}{\\mathrm{R}_{\\mathrm{d}}}\n$$\n\nThe resulting voltage at $\\mathrm{v}_{0}$ takes the form of (19.55)—a sinusoidal voltage in additive noise. The sinusoidal component has amplitude $\\left|V_{s}\\right| g_{m 1}\\left(R_{d}| | r_{01}\\right)$. The voltage noise spectral density at $v_{0}$ is obtained by a routine noise circuit analysis of Fig. 19.14(b).\n\n$$\nv_{o, n}^{2}(f)=\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}\\left(R_{d}| | r_{01}\\right)^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}\\left(R_{d}| | r_{o 1}\\right)^{2}+\\frac{4 k T}{R_{d}}\\left(R_{d}| | r_{o 1}\\right)^{2}\\right]\n$$\n\nAssuming the zero-crossings of the sinusoidal waveform at $\\mathrm{v}_{0}$ are slightly disturbed by the noise, the approximation in (19.56) can be applied. In terms of phase,\n\n$$\n\\phi_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\left|\\mathrm{~V}_{\\mathrm{s}}\\right|}\n$$\n\nwhere $n_{k}$ is the sampled noise voltage $v_{o, n}$. Therefore, the phase noise is,\n\n$$\nS_{\\phi}(f)=\\frac{\\left(R_{d}| | r_{o 1}\\right)^{2}}{\\left|V_{s}\\right|^{2}}\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}+\\frac{4 k T}{R_{d}}\\right]\n$$\n\nNote that it includes a $1 / \\mathrm{f}$ component and a white component. ${ }^{14}$"
},
{
    "text": "Key Point: Jitter quantifies the random fluctuations in the timing phase of a clock signal, while phase noise represents its manifestation in the frequency domain. These factors impose fundamental constraints on the precision of time references.\n\nKey Point: The absolute jitter of a clock, denoted as $\\tau_{k}$, is a discrete-time sequence that measures the deviation of its transition times from their ideal values.\n\nIn contrast to most analog signals on integrated circuits, where information is conveyed by voltage or current values, the critical aspect of a clock waveform is the timing of its transitions across a specific threshold. Jitter refers to the random variability in these transition times, and phase noise is the frequency-domain equivalent of jitter. Since jitter and phase noise stem from thermal and other noise processes inherent in all circuits, they represent inherent limitations on the accuracy of any on-chip time reference, making them pivotal in PLL design.\n\nA standard clock signal is depicted in Fig. 19.12, with transition times labeled as $t_{k}$. These times may correspond to changes in logic state or shifts in current flow between branches. For this illustration, only rising transitions are considered, though in actual circuits, either rising, falling, or both types of transitions may be relevant. In an ideal clock, transitions are evenly spaced, so $t_{k}=k T_{0}$, where $T_{0}$ is the clock period. In practical clocks, however, transitions deviate from their ideal times. Specifically, the deviation of transition times from their ideal values is represented by a discrete-time sequence $\\tau_{k}$.\n\n$$\n\\begin{equation*}\n\\mathrm{t}_{\\mathrm{k}}=\\mathrm{k} \\mathrm{~T}_{0}+\\tau_{\\mathrm{k}} \\tag{19.53}\n\\end{equation*}\n$$\n\nThe sequence $\\tau_{\\mathrm{k}}$ represents the absolute jitter of the clock in time units and can also be converted to radians.\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\tau_{\\mathrm{k}} \\cdot\\left(2 \\pi / \\mathrm{T}_{0}\\right) \\tag{19.54}\n\\end{equation*}\n$$\n\nAbsolute jitter is a valuable analytical tool, though it is not directly measurable in a lab due to the need for an \"ideal\" clock reference.\n\n#### EXAMPLE 19.9\n\nDetermine the absolute jitter of a sinusoidal signal with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white noise $n(t)$ with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoidal signal can be described as follows:\nimage_name:Fig. 19.12\ndescription:The graph in Fig. 19.12 illustrates the concept of absolute jitter by comparing an ideal clock waveform to a practical one.\n\n1. **Type of Graph and Function:**\n- This is a time-domain waveform graph showing two periodic signals: an ideal clock waveform and a practical clock waveform.\n\n2. **Axes Labels and Units:**\n- The horizontal axis represents time (t) in arbitrary units, with specific time points marked as \\( t_0, t_1, t_2, \\) and \\( t_3 \\).\n- The vertical axis represents the amplitude of the waveform but is not explicitly labeled with units.\n\n3. **Overall Behavior and Trends:**\n- The ideal waveform is a perfect square wave with consistent periods marked as \\( T_0 \\), starting at \\( t_0 = 0 \\), \\( t_1 = T_0 \\), \\( t_2 = 2T_0 \\), and \\( t_3 = 3T_0 \\).\n- The practical waveform shows the same square wave but with slight variations in the timing of the transitions, illustrating the effect of jitter.\n\n4. **Key Features and Technical Details:**\n- The ideal waveform has sharp transitions at every \\( T_0 \\) interval.\n- The practical waveform deviates slightly from the ideal, with transition times marked as \\( t_0 = 0 + \\tau_0 \\), \\( t_1 = T_0 + \\tau_1 \\), \\( t_2 = 2T_0 + \\tau_2 \\), and \\( t_3 = 3T_0 + \\tau_3 \\), where \\( \\tau \\) represents the jitter.\n- This deviation is the primary focus, highlighting how the practical clock's transitions are disturbed from the nominal values.\n\n5. **Annotations and Specific Data Points:**\n- The graph clearly marks the nominal transition times and the adjusted times due to jitter, making it easy to visualize the impact of noise or other disturbances on the clock signal.\n- The periods \\( T_0, T_1, T_2 \\) are indicated, with \\( T_1 \\) and \\( T_2 \\) representing the slightly altered periods in the practical waveform due to jitter effects.\n\nFig. 19.12 Illustration of absolute jitter in a practical clock waveform.\n\n$$\n\\begin{equation*}\n\\mathrm{v}(\\mathrm{t})=\\mathrm{A} \\sin \\left(\\omega_{0} \\mathrm{t}\\right)+\\mathrm{n}(\\mathrm{t}) \\tag{19.55}\n\\end{equation*}\n$$\n\nAssuming the noise $n$ is significantly smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A, the transition times of $\\mathrm{v}(\\mathrm{t})$ are only slightly disturbed from their nominal values $\\mathrm{kT}_{0}$. The extent of this disturbance can be estimated from the slope of the sinusoid near the transition times, $A \\omega_{0}$, and samples of the noise, $n(t)$, labeled $n_{k}$.\n\n$$\n\\begin{equation*}\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}} \\tag{19.56}\n\\end{equation*}\n$$\n\nThe discrete-time noise process, $\\mathrm{n}_{\\mathrm{k}}$, is white with variance $\\sigma_{\\mathrm{n}}^{2}$. Consequently, absolute jitter is also a discrete-time white noise process with variance\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}} \\tag{19.57}\n\\end{equation*}\n$$\n\nAt high frequencies $\\omega_{0}$ and high amplitudes A, jitter is reduced due to the steeper slope of the sinusoid at zero-crossings. When expressed in radians, the frequency effect is neutralized.\n\n$$\n\\begin{equation*}\n\\sigma_{\\phi}^{2}=\\sigma_{\\tau}^{2} \\cdot\\left(\\frac{2 \\pi}{T_{0}}\\right)^{2}=\\frac{\\sigma_{n}^{2}}{A^{2}} \\tag{19.58}\n\\end{equation*}\n$$\n\nFig. 19.13 A noise source resistance introduces jitter.\ni(t)\nimage_name:Fig. 19.13\ndescription:\n[\nname: I(t), type: CurrentSource, ports: {Np: V(t), Nn: GND}\nname: R, type: Resistor, value: R, ports: {N1: V(t), N2: Node2}\nname: C, type: Capacitor, value: C, ports: {Np: V(t), Nn: GND}\n]\nextrainfo:The circuit consists of a current source connected to a resistor and a capacitor in series, with both the resistor and capacitor connected to ground.\n\n$\\mathrm{v}(\\mathrm{t})$\nimage_name:Fig. 19.13\ndescription:The function graph depicted in Fig. 19.13 is a time-domain waveform. The x-axis likely represents time, although no specific units or scale are provided, and the y-axis represents voltage, denoted as \\( v(t) \\). The waveform exhibits a jagged, irregular pattern, indicating fluctuations in voltage over time.\n\nOverall Behavior and Trends:\n- The waveform displays a series of sharp peaks and valleys, suggesting rapid changes in voltage.\n- There is no obvious periodicity, implying a non-repetitive or noise-like signal.\n- The general trend of the waveform is difficult to ascertain due to its erratic nature, but it seems to maintain a relatively constant amplitude range.\n\nKey Features and Technical Details:\n- The waveform does not appear to have any distinct zero crossings, maxima, or minima labeled.\n- There are no clear annotations or reference lines to indicate specific voltage levels or time intervals.\n\nAnnotations and Specific Data Points:\n- The graph lacks numerical values for key data points, making precise analysis challenging.\n- No additional markers or reference lines are present to indicate significant features such as cutoff frequencies or phase shifts.\n\nThis waveform may represent the voltage across the capacitor in the given circuit, affected by jitter introduced by the current source, as mentioned in the context. The erratic nature of the waveform aligns with the concept of jitter, which introduces variability in the timing of the signal.\n\n#### EXAMPLE 19.10\n\nIn Fig. 19.13, assume $i(t)$ is an ideal sinusoidal current source with amplitude $1 \\mathrm{~mA}$, $\\mathrm{R}=1 \\mathrm{k} \\Omega$, and $\\mathrm{C}=1 \\mathrm{pF}$. Calculate the variance of absolute jitter at $v(\\mathrm{t})$ when the signal frequency is 1 MHz. Also, determine the variance when the signal frequency is 1 GHz.\n\n#### Solution\n\nThe voltage $\\mathrm{v}(\\mathrm{t})$ will conform to the form given in $(19.55)$, where $\\mathrm{n}(\\mathrm{t})$ is the gaussian-distributed voltage noise due to the thermal noise of $R$. The variance of $n(t)$ is\n\n$$\n\\begin{equation*}\n\\sigma_{n}^{2}=\\frac{k T}{C} \\tag{19.59}\n\\end{equation*}\n$$\n\nAt a temperature of 300 K, this has an rms value of $64.4 \\mu \\mathrm{~V}$. The amplitude, A, of the sinusoid in (19.55) depends on the oscillation frequency f. At 1 MHz, the amplitude will be nearly $(1 \\mathrm{~mA})(1 \\mathrm{k} \\Omega)=1 \\mathrm{~V}$. Thus, by substituting into (19.57),\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(1 \\mathrm{~V})^{2}\\left(2 \\pi 10^{6}\\right)^{2}}=(10.2 \\mathrm{ps})^{2}\n$$\n\nAt 1 GHz, the amplitude at $\\mathrm{v}(\\mathrm{t})$ is reduced by the lowpass RC filter to $\\mathrm{A}=0.157 \\mathrm{~V}$. Hence,\n\n$$\n\\sigma_{\\tau}^{2}=\\frac{(64.4 \\mu \\mathrm{~V})^{2}}{(0.157 \\mathrm{~V})^{2}\\left(2 \\pi 10^{9}\\right)^{2}}=(0.065 \\mathrm{ps})^{2}\n$$\n\nNote that while the jitter in time units is lower at 1 GHz, the jitter in radians is actually higher at 1 GHz due to the reduced amplitude at $\\mathrm{v}(\\mathrm{t})$.\n\nPhase noise is the frequency-domain representation of absolute jitter. Therefore, $\\mathrm{S}_{\\phi}(\\mathrm{f})$, the phase noise of a clock signal with random jitter, is defined as the power spectral density of the sequence $\\phi_{\\mathrm{k}}$. Recall that a voltage noise spectral density specifies the power of a voltage signal in any 1-Hz-wide frequency bin, with units of $V^{2} / H z$. Similarly, $S_{\\phi}(f)$ specifies the power of $\\phi_{k}$ in $\\mathrm{rad}^{2}$ within any $1-\\mathrm{Hz}$-wide frequency bin, with units of $\\mathrm{rad}^{2} / \\mathrm{Hz}$. Furthermore, the variance of $\\phi_{k}$ is given by the integral of $S_{\\phi}(f)$ over all frequencies. Since jitter is typically quantified in time units rather than radians, this is usually expressed as follows:\n\n[^6]image_name:(a)\ndescription:\n[\nname: Q1, type: NMOS, ports: {S: GND, D: Vo, G: X}\nname: Rd, type: Resistor, value: Rd, ports: {N1: Vo, N2: VDD}\nname: Vs, type: VoltageSource, value: Vs, ports: {Np: X, Nn: Vbias}\nname: Vbias, type: VoltageSource, value: Vbias, ports: {Np: Vbias, Nn: GND}\n]\nextrainfo:This is a common source amplifier circuit with an NMOS transistor (Q1) and a load resistor (Rd). The circuit includes a voltage source (Vs) for the input signal and a bias voltage source (Vbias). The small-signal model includes a voltage-controlled current source (gm1Vgs1) and a parallel resistor (Rd||ro1) representing the output resistance.\nimage_name:(b)\ndescription:The circuit diagram (b) represents a small-signal equivalent model including transistor noise sources for a common source amplifier. The NMOS transistor Q1 is biased with Vbias and has a load resistor Rd connected to the drain. The input signal is provided by Vs.\n\nFig. 19.14 (a) Common source amplifier in Example 19.11. (b) Small-signal equivalent, including transistor noise sources.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f \\tag{19.60}\n\\end{equation*}\n$$\n\nTaking the square root of both sides yields the root-mean-square (rms) absolute jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}=\\frac{T_{0}}{2 \\pi} \\sqrt{\\int_{0}^{1 / 2 T_{0}} S_{\\phi}(f) d f} \\tag{19.61}\n\\end{equation*}\n$$\n\nEquations (19.60) and (19.61) are crucial for relating absolute jitter in the time domain to phase noise.\n\n#### EXAMPLE 19.11\n\nConsider the common source amplifier in Fig. 19.14(a). Transistor $\\mathrm{Q}_{1}$ is biased in saturation by dc source $\\mathrm{V}_{\\text {bias }}$ and $\\mathrm{v}_{\\mathrm{s}}$ is a noiseless small-signal sinusoid of amplitude $\\left|\\mathrm{V}_{\\mathrm{s}}\\right|$. Estimate the phase noise at the output, including thermal noise from the resistor and transistor as well as flicker noise.\n\n#### Solution\n\nThe small-signal equivalent circuit is shown in Fig. 19.14(b). The voltage noise source $\\mathrm{v}_{\\mathrm{n} 1}$ models the flicker noise of transistor $Q_{1}$ and has a noise spectral density,\n\n$$\nV_{n 1}^{2}(f)=\\frac{K}{W L C_{o x} f}\n$$\n\nThe current noise source $i_{n}$ includes the thermal noise of both the transistor and resistor,\n\n$$\n\\mathrm{i}_{\\mathrm{n}}^{2}(\\mathrm{f})=4 \\mathrm{kT}\\left(\\frac{2}{3}\\right) \\mathrm{g}_{\\mathrm{m}}+\\frac{4 \\mathrm{kT}}{\\mathrm{R}_{\\mathrm{d}}}\n$$\n\nThe resulting voltage at $\\mathrm{v}_{0}$ takes the form of (19.55)—a sinusoidal voltage with additive noise. The sinusoidal component has amplitude $\\left|V_{s}\\right| g_{m 1}\\left(R_{d}| | r_{01}\\right)$. The voltage noise spectral density at $v_{0}$ is obtained by a routine noise circuit analysis of Fig. 19.14(b).\n\n$$\nv_{o, n}^{2}(f)=\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}\\left(R_{d}| | r_{01}\\right)^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}\\left(R_{d}| | r_{o 1}\\right)^{2}+\\frac{4 k T}{R_{d}}\\left(R_{d}| | r_{o 1}\\right)^{2}\\right]\n$$\n\nAssuming the zero-crossings of the sinusoidal waveform at $\\mathrm{v}_{0}$ are only slightly disturbed by the noise, the approximation in (19.56) can be applied. In terms of phase,\n\n$$\n\\phi_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\left|\\mathrm{~V}_{\\mathrm{s}}\\right|}\n$$\n\nwhere $n_{k}$ is the sampled noise voltage $v_{o, n}$. Therefore, the phase noise is,\n\n$$\nS_{\\phi}(f)=\\frac{\\left(R_{d}| | r_{o 1}\\right)^{2}}{\\left|V_{s}\\right|^{2}}\\left[\\frac{K}{W L C_{o x}} g_{m 1}^{2}+4 k T\\left(\\frac{2}{3}\\right) g_{m}+\\frac{4 k T}{R_{d}}\\right]\n$$\n\nNote that it includes a $1 / \\mathrm{f}$ component and a white component. ${ }^{14}$"
},
{
    "text": "Various jitter metrics can also be employed. A clock affected by jitter exhibits a fluctuating period, as depicted in Fig. 19.12,\n\n$$\n\\begin{equation*}\nT_{k}=t_{k+1}-t_{k}=T_{0}+\\tau_{k+1}-\\tau_{k} \\tag{19.62}\n\\end{equation*}\n$$\n\nThe discrepancy between the period and its designated value, $\\mathrm{T}_{0}$, constitutes the period jitter, occasionally termed cycle jitter.\n\n$$\n\\begin{equation*}\nJ_{k}=T_{k}-T_{0}=\\tau_{k+1}-\\tau_{k} \\tag{19.63}\n\\end{equation*}\n$$\n\nEquation (19.63) indicates that period jitter is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $(z-1)$ filter. Consequently, its variance is the integral of phase noise as filtered by a $(z-1)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\left(\\frac{T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.64}\n\\end{equation*}\n$$\n\nThe $\\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right)$ term in the integral of $(19.64)$ arises from the $(z-1)$ filter.\nPeriod jitter is simpler to measure in a laboratory setting compared to absolute jitter, as it does not necessitate a reference. Moreover, period jitter holds substantial practical relevance in digital systems, where the allowable maximum logic delays are contingent on the period jitter of the synchronizing clock.\n\n[^7]"
},
{
    "text": "Several alternative jitter metrics can be employed. A clock affected by jitter exhibits a fluctuating period, as depicted in Fig. 19.12,\n\n$$\n\\begin{equation*}\nT_{k}=t_{k+1}-t_{k}=T_{0}+\\tau_{k+1}-\\tau_{k} \\tag{19.62}\n\\end{equation*}\n$$\n\nThe discrepancy between the period and its designated value, $\\mathrm{T}_{0}$, constitutes the period jitter, occasionally termed cycle jitter.\n\n$$\n\\begin{equation*}\nJ_{k}=T_{k}-T_{0}=\\tau_{k+1}-\\tau_{k} \\tag{19.63}\n\\end{equation*}\n$$\n\nEquation (19.63) indicates that period jitter is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $(z-1)$ filter. Consequently, its variance results from the phase noise integrated after passing through a $(z-1)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\left(\\frac{T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.64}\n\\end{equation*}\n$$\n\nThe $\\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right)$ term within the integral of $(19.64)$ originates from the $(z-1)$ filter. Period jitter is more straightforward to measure in a laboratory setting compared to absolute jitter, as it does not necessitate a reference. Moreover, period jitter holds substantial practical relevance in digital systems, where the allowable maximum logic delays are contingent on the period jitter of the synchronizing clock.\n\n[^7]"
},
{
    "text": "Various jitter metrics can also be employed. A clock affected by jitter exhibits a fluctuating period, as depicted in Fig. 19.12,\n\n$$\n\\begin{equation*}\nT_{k}=t_{k+1}-t_{k}=T_{0}+\\tau_{k+1}-\\tau_{k} \\tag{19.62}\n\\end{equation*}\n$$\n\nThe discrepancy between the period and its standard value, $\\mathrm{T}_{0}$, constitutes the period jitter, occasionally termed cycle jitter.\n\n$$\n\\begin{equation*}\nJ_{k}=T_{k}-T_{0}=\\tau_{k+1}-\\tau_{k} \\tag{19.63}\n\\end{equation*}\n$$\n\nEquation (19.63) indicates that period jitter is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $(z-1)$ filter. Consequently, its variance is the integral of phase noise filtered by a $(z-1)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\left(\\frac{T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.64}\n\\end{equation*}\n$$\n\nThe $\\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right)$ term in the integrand of $(19.64)$ arises from the $(z-1)$ filter.\nPeriod jitter is simpler to measure in a laboratory setting compared to absolute jitter, as it does not necessitate a reference. Moreover, period jitter holds substantial practical relevance in digital systems, where the allowable maximum logic delays are contingent on the period jitter of the synchronizing clock.\n\n[^7]"
},
{
    "text": "Various jitter metrics can also be considered. A clock affected by jitter exhibits a fluctuating period, as depicted in Fig. 19.12,\n\n$$\n\\begin{equation*}\nT_{k}=t_{k+1}-t_{k}=T_{0}+\\tau_{k+1}-\\tau_{k} \\tag{19.62}\n\\end{equation*}\n$$\n\nThe discrepancy between the period and its standard value, $\\mathrm{T}_{0}$, is termed period jitter, or sometimes cycle jitter.\n\n$$\n\\begin{equation*}\nJ_{k}=T_{k}-T_{0}=\\tau_{k+1}-\\tau_{k} \\tag{19.63}\n\\end{equation*}\n$$\n\nEquation (19.63) indicates that period jitter is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $(z-1)$ filter. Consequently, its variance results from the integration of phase noise filtered by a $(z-1)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\left(\\frac{T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.64}\n\\end{equation*}\n$$\n\nThe $\\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right)$ term in the integral of $(19.64)$ arises from the $(z-1)$ filter.\nPeriod jitter is simpler to measure in a laboratory setting compared to absolute jitter, as it does not necessitate a reference. Moreover, period jitter holds substantial practical relevance in digital systems, where the allowable maximum logic delays are contingent on the period jitter of the synchronizing clock.\n\n[^7]"
},
{
    "text": "Various jitter metrics can also be considered. A clock affected by jitter exhibits a fluctuating period, as depicted in Fig. 19.12,\n\n$$\n\\begin{equation*}\nT_{k}=t_{k+1}-t_{k}=T_{0}+\\tau_{k+1}-\\tau_{k} \\tag{19.62}\n\\end{equation*}\n$$\n\nThe discrepancy between the period and its standard value, $\\mathrm{T}_{0}$, constitutes the period jitter, occasionally termed cycle jitter.\n\n$$\n\\begin{equation*}\nJ_{k}=T_{k}-T_{0}=\\tau_{k+1}-\\tau_{k} \\tag{19.63}\n\\end{equation*}\n$$\n\nEquation (19.63) indicates that period jitter is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $(z-1)$ filter. Consequently, its variance is the integral of phase noise filtered by a $(z-1)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\left(\\frac{T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.64}\n\\end{equation*}\n$$\n\nThe $\\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right)$ term in the integrand of $(19.64)$ arises from the $(z-1)$ filter.\nPeriod jitter is simpler to measure in a laboratory setting compared to absolute jitter, as it does not necessitate a reference. Additionally, period jitter holds substantial practical relevance in digital systems, where the allowable maximum logic delays are contingent on the period jitter of the synchronizing clock.\n\n[^7]"
},
{
    "text": "Multiple other jitter metrics can be considered. A clock affected by jitter exhibits a fluctuating period, as depicted in Fig. 19.12,\n\n$$\n\\begin{equation*}\nT_{k}=t_{k+1}-t_{k}=T_{0}+\\tau_{k+1}-\\tau_{k} \\tag{19.62}\n\\end{equation*}\n$$\n\nThe discrepancy of the period from its designated value, $\\mathrm{T}_{0}$, constitutes the period jitter, which is also known as cycle jitter.\n\n$$\n\\begin{equation*}\nJ_{k}=T_{k}-T_{0}=\\tau_{k+1}-\\tau_{k} \\tag{19.63}\n\\end{equation*}\n$$\n\nEquation (19.63) indicates that period jitter is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $(z-1)$ filter. Consequently, its variance is the result of integrating phase noise filtered by a $(z-1)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\left(\\frac{T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.64}\n\\end{equation*}\n$$\n\nThe factor $\\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right)$ within the integral of $(19.64)$ arises from the $(z-1)$ filter.\nPeriod jitter is simpler to measure in a laboratory setting compared to absolute jitter, as it does not necessitate a reference. Moreover, period jitter holds substantial practical relevance in digital systems, where the allowable maximum logic delays are contingent on the period jitter of the synchronizing clock.\n\n[^7]"
},
{
    "text": "Multiple jitter metrics can be considered. A clock affected by jitter exhibits a fluctuating period, as depicted in Fig. 19.12,\n\n$$\n\\begin{equation*}\nT_{k}=t_{k+1}-t_{k}=T_{0}+\\tau_{k+1}-\\tau_{k} \\tag{19.62}\n\\end{equation*}\n$$\n\nThe discrepancy between the period and its standard value, $\\mathrm{T}_{0}$, constitutes the period jitter, occasionally termed cycle jitter.\n\n$$\n\\begin{equation*}\nJ_{k}=T_{k}-T_{0}=\\tau_{k+1}-\\tau_{k} \\tag{19.63}\n\\end{equation*}\n$$\n\nEquation (19.63) indicates that period jitter is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $(z-1)$ filter. Consequently, its variance results from the phase noise integrated after passing through a $(z-1)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\left(\\frac{T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.64}\n\\end{equation*}\n$$\n\nThe $\\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right)$ term in the integrand of $(19.64)$ arises from the $(z-1)$ filter.\nPeriod jitter is simpler to measure in a laboratory setting compared to absolute jitter, as it does not necessitate a reference. Additionally, period jitter holds substantial practical relevance in digital systems, where the allowable maximum logic delays are contingent on the period jitter of the synchronizing clock.\n\n[^7]"
},
{
    "text": "Various jitter metrics can also be employed. A clock affected by jitter exhibits a fluctuating period, as depicted in Fig. 19.12,\n\n$$\n\\begin{equation*}\nT_{k}=t_{k+1}-t_{k}=T_{0}+\\tau_{k+1}-\\tau_{k} \\tag{19.62}\n\\end{equation*}\n$$\n\nThe discrepancy between the period and its standard value, $\\mathrm{T}_{0}$, is termed period jitter, occasionally known as cycle jitter.\n\n$$\n\\begin{equation*}\nJ_{k}=T_{k}-T_{0}=\\tau_{k+1}-\\tau_{k} \\tag{19.63}\n\\end{equation*}\n$$\n\nEquation (19.63) indicates that period jitter is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $(z-1)$ filter. Consequently, its variance results from the integration of phase noise filtered by a $(z-1)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\left(\\frac{T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.64}\n\\end{equation*}\n$$\n\nThe $\\sin ^{2}\\left(\\pi \\mathrm{fT}_{0}\\right)$ term in the integral of $(19.64)$ arises from the $(z-1)$ filter.\nPeriod jitter is more straightforward to measure in a laboratory setting compared to absolute jitter, as it does not necessitate a reference. Moreover, period jitter holds substantial practical significance in digital systems, where the allowable maximum logic delays are contingent on the period jitter of the synchronizing clock.\n\n[^7]"
},
{
    "text": "The concept of period jitter can be readily expanded by examining the fluctuations in the length of P successive clock cycles compared to their ideal duration, $\\mathrm{PT}_{0}$.\n\n$$\n\\begin{equation*}\nJ(P)_{k}=t_{k+P}-t_{k}-P T_{0}=\\tau_{k+P}-\\tau_{k} \\tag{19.65}\n\\end{equation*}\n$$\n\nThis is termed the P-cycle period jitter, or simply $P$-cycle jitter, $\\mathrm{J}(\\mathrm{P})_{\\mathrm{k}}$, which is derived by filtering the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $\\left(z^{P}-1\\right)$ filter. Consequently, its variance is the result of integrating phase noise that has been filtered by a $\\left(z^{P}-1\\right)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J(\\mathrm{P})}^{2}=\\left(\\frac{\\mathrm{T}_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fPT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.66}\n\\end{equation*}\n$$\n\nPeriod jitter is a specific instance of P-cycle jitter when $P=1$. Laboratory measurements of $\\sigma_{J(P)}$ for various P values are straightforward and provide significant insights into the spectral characteristics of phase noise, thanks to the distinct filter shapes used in (19.66) for different P values."
},
{
    "text": "The concept of period jitter can be readily expanded by examining the fluctuations in the length of P successive clock cycles compared to their ideal duration, $\\mathrm{PT}_{0}$.\n\n$$\n\\begin{equation*}\nJ(P)_{k}=t_{k+P}-t_{k}-P T_{0}=\\tau_{k+P}-\\tau_{k} \\tag{19.65}\n\\end{equation*}\n$$\n\nKnown as the P-cycle period jitter or simply $P$-cycle jitter, $\\mathrm{J}(\\mathrm{P})_{\\mathrm{k}}$ is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $\\left(z^{P}-1\\right)$ filter. Consequently, its variance is the result of integrating phase noise that has been filtered by a $\\left(z^{P}-1\\right)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J(\\mathrm{P})}^{2}=\\left(\\frac{\\mathrm{T}_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fPT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.66}\n\\end{equation*}\n$$\n\nPeriod jitter is a specific instance of P-cycle jitter when $P=1$. Laboratory measurements of $\\sigma_{J(P)}$ for various P values are straightforward and provide significant insights into the spectral characteristics of phase noise, thanks to the distinct filter shapes used in (19.66) for different P values."
},
{
    "text": "The concept of period jitter can be readily expanded by examining the deviations in the length of P successive clock cycles from their ideal duration, $\\mathrm{PT}_{0}$.\n\n$$\n\\begin{equation*}\nJ(P)_{k}=t_{k+P}-t_{k}-P T_{0}=\\tau_{k+P}-\\tau_{k} \\tag{19.65}\n\\end{equation*}\n$$\n\nThis is referred to as the P-cycle period jitter or simply $P$-cycle jitter, $\\mathrm{J}(\\mathrm{P})_{\\mathrm{k}}$, which is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $\\left(z^{P}-1\\right)$ filter. Consequently, its variance is the result of integrating phase noise that has been filtered by a $\\left(z^{p}-1\\right)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J(\\mathrm{P})}^{2}=\\left(\\frac{\\mathrm{T}_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fPT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.66}\n\\end{equation*}\n$$\n\nPeriod jitter is a specific instance of P-cycle jitter when $P=1$. Laboratory measurements of $\\sigma_{J(P)}$ for various P values are straightforward and provide significant insights into the spectral characteristics of phase noise, thanks to the distinct filter shapes used in (19.66) for different P values."
},
{
    "text": "The concept of period jitter can be readily expanded by examining the fluctuations in the length of P successive clock cycles compared to their ideal duration, $\\mathrm{PT}_{0}$.\n\n$$\n\\begin{equation*}\nJ(P)_{k}=t_{k+P}-t_{k}-P T_{0}=\\tau_{k+P}-\\tau_{k} \\tag{19.65}\n\\end{equation*}\n$$\n\nThis is termed the P-cycle period jitter, or simply $P$-cycle jitter, $\\mathrm{J}(\\mathrm{P})_{\\mathrm{k}}$, which is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $\\left(z^{P}-1\\right)$ filter. Consequently, its variance is the result of integrating phase noise that has been filtered by a $\\left(z^{P}-1\\right)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J(\\mathrm{P})}^{2}=\\left(\\frac{\\mathrm{T}_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fPT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.66}\n\\end{equation*}\n$$\n\nPeriod jitter is a specific instance of P-cycle jitter when $P=1$. Laboratory measurements of $\\sigma_{J(P)}$ for various P values are straightforward and provide significant insights into the spectral characteristics of phase noise, influenced by the distinct filter shapes used in (19.66) for different P values."
},
{
    "text": "The concept of period jitter can be readily expanded by examining the fluctuations in the duration of P successive clock cycles compared to their ideal value, $\\mathrm{PT}_{0}$.\n\n$$\n\\begin{equation*}\nJ(P)_{k}=t_{k+P}-t_{k}-P T_{0}=\\tau_{k+P}-\\tau_{k} \\tag{19.65}\n\\end{equation*}\n$$\n\nKnown as the P-cycle period jitter or simply $P$-cycle jitter, $\\mathrm{J}(\\mathrm{P})_{\\mathrm{k}}$ is derived by filtering the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $\\left(z^{P}-1\\right)$ filter. Consequently, its variance is the result of integrating phase noise that has been filtered by a $\\left(z^{p}-1\\right)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J(\\mathrm{P})}^{2}=\\left(\\frac{\\mathrm{T}_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fPT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.66}\n\\end{equation*}\n$$\n\nPeriod jitter is a specific instance of P-cycle jitter when $P=1$. Laboratory measurements of $\\sigma_{J(P)}$ for various P values are straightforward and provide significant insights into the spectral characteristics of phase noise, thanks to the distinct filter shapes used in (19.66) for different P values."
},
{
    "text": "The concept of period jitter can be readily expanded by examining the fluctuations in the length of P successive clock cycles compared to their ideal duration, $\\mathrm{PT}_{0}$.\n\n$$\n\\begin{equation*}\nJ(P)_{k}=t_{k+P}-t_{k}-P T_{0}=\\tau_{k+P}-\\tau_{k} \\tag{19.65}\n\\end{equation*}\n$$\n\nThis is known as the P-cycle period jitter, or simply $P$-cycle jitter, $\\mathrm{J}(\\mathrm{P})_{\\mathrm{k}}$, which is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $\\left(z^{P}-1\\right)$ filter. Consequently, its variance is the result of integrating phase noise that has been filtered by a $\\left(z^{p}-1\\right)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J(\\mathrm{P})}^{2}=\\left(\\frac{\\mathrm{T}_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fPT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.66}\n\\end{equation*}\n$$\n\nPeriod jitter is a specific instance of P-cycle jitter when $P=1$. Laboratory measurements of $\\sigma_{J(P)}$ for various P values are straightforward and provide significant insights into the spectral characteristics of phase noise, owing to the distinct filter shapes used in (19.66) for different P values."
},
{
    "text": "The concept of period jitter can be readily expanded by examining the fluctuations in the length of P successive clock cycles compared to their ideal duration, $\\mathrm{PT}_{0}$.\n\n$$\n\\begin{equation*}\nJ(P)_{k}=t_{k+P}-t_{k}-P T_{0}=\\tau_{k+P}-\\tau_{k} \\tag{19.65}\n\\end{equation*}\n$$\n\nThis is referred to as the P-cycle period jitter, or simply $P$-cycle jitter, $\\mathrm{J}(\\mathrm{P})_{\\mathrm{k}}$, which is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $\\left(z^{P}-1\\right)$ filter. Consequently, its variance is the result of integrating phase noise that has been filtered by a $\\left(z^{P}-1\\right)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J(\\mathrm{P})}^{2}=\\left(\\frac{\\mathrm{T}_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fPT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.66}\n\\end{equation*}\n$$\n\nPeriod jitter is a specific instance of P-cycle jitter when $P=1$. Laboratory measurements of $\\sigma_{J(P)}$ for various P values are straightforward and provide significant insights into the spectral characteristics of phase noise, influenced by the distinct filter shapes used in (19.66) for different P values."
},
{
    "text": "The concept of period jitter can be readily expanded by examining the fluctuations in the duration of P successive clock cycles compared to their ideal value, $\\mathrm{PT}_{0}$.\n\n$$\n\\begin{equation*}\nJ(P)_{k}=t_{k+P}-t_{k}-P T_{0}=\\tau_{k+P}-\\tau_{k} \\tag{19.65}\n\\end{equation*}\n$$\n\nKnown as the P-cycle period jitter or simply $P$-cycle jitter, $\\mathrm{J}(\\mathrm{P})_{\\mathrm{k}}$ is derived by processing the absolute jitter sequence, $\\tau_{\\mathrm{k}}$, through a discrete-time $\\left(z^{P}-1\\right)$ filter. Consequently, its variance is the integral of phase noise that has been filtered by a $\\left(z^{P}-1\\right)$ filter.\n\n$$\n\\begin{equation*}\n\\sigma_{J(\\mathrm{P})}^{2}=\\left(\\frac{\\mathrm{T}_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 \\mathrm{~T}_{0}} \\sin ^{2}\\left(\\pi \\mathrm{fPT}_{0}\\right) \\mathrm{S}_{\\phi}(\\mathrm{f}) \\mathrm{df} \\tag{19.66}\n\\end{equation*}\n$$\n\nPeriod jitter is a specific instance of P-cycle jitter when $P=1$. Laboratory measurements of $\\sigma_{J(P)}$ for various P values are straightforward and provide significant insights into the spectral characteristics of phase noise, thanks to the distinct filter shapes used in (19.66) for different P values."
},
{
    "text": "Another way to measure jitter involves examining the difference between the duration of each period and the subsequent period.\n\n$$\n\\begin{equation*}\nJ_{k+1}-J_{k} \\tag{19.67}\n\\end{equation*}\n$$\n\nThis is referred to as adjacent period jitter, also known as cycle-to-cycle jitter. It is mathematically derived by passing the period jitter $J_{k}$ through an additional $(z-1)$ filter or, equivalently, by passing the absolute jitter through a $(z-1)^{2}$ filter. Consequently, it is related to phase noise by the following integral,\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=\\left(\\frac{2 T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} \\sin ^{4}\\left(\\pi f T_{0}\\right) S_{\\phi}(f) d f \\tag{19.68}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.12\n\nWhat is the rms period jitter of the sinusoid in additive white noise from Example 19.9?\n\n#### Solution\n\nAssuming again that the noise is much smaller than the amplitude of oscillation, $\\sigma_{n}$ « A, it was demonstrated in Example 19.9 that the absolute jitter is also white. Thus, the phase noise is constant. Combining (19.57) and (19.60) results in\n\n$$\n\\begin{equation*}\nS_{\\phi}(f)=\\left(\\frac{8 \\pi^{2}}{T_{0}}\\right)\\left(\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}}\\right)=\\frac{2 T_{0} \\sigma_{n}^{2}}{A^{2}} \\tag{19.69}\n\\end{equation*}\n$$\n\nIntegrating in (19.64) provides the variance of the period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{2 \\sigma_{n}^{2}}{A^{2} \\omega_{0}{ }^{2}} \\tag{19.70}\n\\end{equation*}\n$$\n\nThe rms period jitter is the square root of (19.70).\n\n#### EXAMPLE 19.13\n\nA clock's zero crossings are modulated by a sinusoidal disturbance at a frequency $f_{m}$, such that\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\Phi_{0} \\sin \\left(2 \\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{t}\\right) \\tag{19.71}\n\\end{equation*}\n$$\n\nWhat are the resulting rms absolute jitter, period jitter, and adjacent period jitter?\n\n#### Solution\n\nThe phase noise $S_{\\phi}^{2}(f)$ will exhibit a discrete spectral tone at $f_{m}$.\n\n$$\nS_{\\phi}(f)=\\frac{\\Phi_{0}^{2}}{2} \\delta\\left(f-f_{m}\\right)\n$$\n\nKey Point: Periodic variations in a clock's phase lead to discrete tones in phase noise spectra, known as spurs.\n\nDiscrete tones in phase noise spectra are termed spurs because they appear as vertical spikes on a plot of $S_{\\phi}^{2}(\\mathrm{f})$ versus frequency. The integral in (19.60) can be easily evaluated to yield the absolute jitter,\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2}\\left(\\frac{\\Phi_{0}^{2}}{2}\\right)=\\frac{1}{8}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\tag{19.72}\n\\end{equation*}\n$$\n\nThe period jitter is slightly reduced due to the additional term in the integrand of (19.64), as the change in absolute jitter from one transition to the next is less than its total deviation range.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{1}{2}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{2}\\left(\\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{~T}_{0}\\right) \\tag{19.73}\n\\end{equation*}\n$$\n\nNote that if the phase modulation is slow (i.e., $f_{m} T_{0}$ « $)$, the period jitter is minimal since $\\phi_{k}$ changes very little from one cycle to the next. The same applies to adjacent period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=2\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{4}\\left(\\pi f_{m} T_{0}\\right) \\tag{19.74}\n\\end{equation*}\n$$"
},
{
    "text": "Another measure of jitter is derived by examining the difference in duration between each period and the subsequent period.\n\n$$\n\\begin{equation*}\nJ_{k+1}-J_{k} \\tag{19.67}\n\\end{equation*}\n$$\n\nThis adjacent period jitter, also known as cycle-to-cycle jitter, is mathematically determined by passing the period jitter $J_{k}$ through an additional $(z-1)$ filter or, equivalently, by passing the absolute jitter through a $(z-1)^{2}$ filter. Consequently, it is related to phase noise through the following integral,\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=\\left(\\frac{2 T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} \\sin ^{4}\\left(\\pi f T_{0}\\right) S_{\\phi}(f) d f \\tag{19.68}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.12\n\nWhat is the rms period jitter of the sinusoid in additive white noise from Example 19.9?\n\n#### Solution\n\nAssuming again that the noise is much smaller than the oscillation amplitude, $\\sigma_{n}$ « A, it was demonstrated in Example 19.9 that the absolute jitter is also white. Thus, the phase noise remains constant. Combining (19.57) and (19.60) results in\n\n$$\n\\begin{equation*}\nS_{\\phi}(f)=\\left(\\frac{8 \\pi^{2}}{T_{0}}\\right)\\left(\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}}\\right)=\\frac{2 T_{0} \\sigma_{n}^{2}}{A^{2}} \\tag{19.69}\n\\end{equation*}\n$$\n\nIntegrating in (19.64) yields the variance of the period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{2 \\sigma_{n}^{2}}{A^{2} \\omega_{0}{ }^{2}} \\tag{19.70}\n\\end{equation*}\n$$\n\nThe rms period jitter is the square root of (19.70).\n\n#### EXAMPLE 19.13\n\nA clock's zero crossings are modulated by a sinusoidal disturbance at frequency $f_{m}$, such that\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\Phi_{0} \\sin \\left(2 \\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{t}\\right) \\tag{19.71}\n\\end{equation*}\n$$\n\nWhat are the resulting rms absolute jitter, period jitter, and adjacent period jitter?\n\n#### Solution\n\nThe phase noise $S_{\\phi}^{2}(f)$ will exhibit a discrete spectral tone at $f_{m}$.\n\n$$\nS_{\\phi}(f)=\\frac{\\Phi_{0}^{2}}{2} \\delta\\left(f-f_{m}\\right)\n$$\n\nKey Point: Periodic phase variations in a clock lead to discrete tones in phase noise spectra, known as spurs.\n\nThese discrete tones in phase noise spectra are termed spurs because they appear as vertical spikes on a plot of $S_{\\phi}^{2}(\\mathrm{f})$ versus frequency. The integral in (19.60) can be easily evaluated to determine the absolute jitter,\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2}\\left(\\frac{\\Phi_{0}^{2}}{2}\\right)=\\frac{1}{8}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\tag{19.72}\n\\end{equation*}\n$$\n\nThe period jitter is slightly reduced due to the additional term in the integrand of (19.64), as the change in absolute jitter from one transition to the next is less than its total deviation range.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{1}{2}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{2}\\left(\\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{~T}_{0}\\right) \\tag{19.73}\n\\end{equation*}\n$$\n\nNote that if the phase modulation is slow (i.e., $f_{m} T_{0}$ « $)$, the period jitter is minimal since $\\phi_{k}$ changes very little from one cycle to the next. The same applies to adjacent period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=2\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{4}\\left(\\pi f_{m} T_{0}\\right) \\tag{19.74}\n\\end{equation*}\n$$"
},
{
    "text": "Another way to measure jitter involves examining the difference between the duration of each period and the subsequent period.\n\n$$\n\\begin{equation*}\nJ_{k+1}-J_{k} \\tag{19.67}\n\\end{equation*}\n$$\n\nThis is known as adjacent period jitter, or sometimes cycle-to-cycle jitter, and is mathematically derived by passing the period jitter $J_{k}$ through an additional $(z-1)$ filter, or equivalently, by passing the absolute jitter through a $(z-1)^{2}$ filter. Consequently, it is related to phase noise by the following integral,\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=\\left(\\frac{2 T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} \\sin ^{4}\\left(\\pi f T_{0}\\right) S_{\\phi}(f) d f \\tag{19.68}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.12\n\nWhat is the rms period jitter of the sinusoid in additive white noise from Example 19.9?\n\n#### Solution\n\nAssuming again that the noise is much smaller than the amplitude of oscillation, $\\sigma_{n}$ « A, it was demonstrated in Example 19.9 that the absolute jitter is also white. Thus, the phase noise is constant. Combining (19.57) and (19.60) results in\n\n$$\n\\begin{equation*}\nS_{\\phi}(f)=\\left(\\frac{8 \\pi^{2}}{T_{0}}\\right)\\left(\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}}\\right)=\\frac{2 T_{0} \\sigma_{n}^{2}}{A^{2}} \\tag{19.69}\n\\end{equation*}\n$$\n\nIntegrating in (19.64) provides the variance of the period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{2 \\sigma_{n}^{2}}{A^{2} \\omega_{0}{ }^{2}} \\tag{19.70}\n\\end{equation*}\n$$\n\nThe rms period jitter is the square root of (19.70).\n\n#### EXAMPLE 19.13\n\nA clock's zero crossings are modulated by a sinusoidal disturbance at frequency $f_{m}$, such that\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\Phi_{0} \\sin \\left(2 \\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{t}\\right) \\tag{19.71}\n\\end{equation*}\n$$\n\nWhat are the resulting rms absolute jitter, period jitter, and adjacent period jitter?\n\n#### Solution\n\nThe phase noise $S_{\\phi}^{2}(f)$ will exhibit a discrete spectral tone at $f_{m}$.\n\n$$\nS_{\\phi}(f)=\\frac{\\Phi_{0}^{2}}{2} \\delta\\left(f-f_{m}\\right)\n$$\n\nKey Point: Periodic variations in a clock's phase lead to discrete tones in phase noise spectra, known as spurs.\n\nDiscrete tones in phase noise spectra, termed spurs, appear as vertical spikes on a plot of $S_{\\phi}^{2}(\\mathrm{f})$ versus frequency. Evaluating the integral in (19.60) yields the absolute jitter,\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2}\\left(\\frac{\\Phi_{0}^{2}}{2}\\right)=\\frac{1}{8}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\tag{19.72}\n\\end{equation*}\n$$\n\nThe period jitter is slightly reduced due to the extra term in the integrand of (19.64), as the change in absolute jitter from one transition to the next is less than its total deviation range.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{1}{2}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{2}\\left(\\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{~T}_{0}\\right) \\tag{19.73}\n\\end{equation*}\n$$\n\nNote that if the phase modulation is slow (i.e., $f_{m} T_{0}$ « $)$, the period jitter is minimal since $\\phi_{k}$ varies little from one cycle to the next. The same applies to adjacent period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=2\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{4}\\left(\\pi f_{m} T_{0}\\right) \\tag{19.74}\n\\end{equation*}\n$$"
},
{
    "text": "Another way to measure jitter is by examining the difference between the duration of each period and the subsequent period.\n\n$$\n\\begin{equation*}\nJ_{k+1}-J_{k} \\tag{19.67}\n\\end{equation*}\n$$\n\nThis is known as adjacent period jitter, or sometimes cycle-to-cycle jitter, which is mathematically derived by passing the period jitter $J_{k}$ through an additional $(z-1)$ filter, or equivalently, by passing the absolute jitter through a $(z-1)^{2}$ filter. Consequently, it is related to phase noise through the following integral,\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=\\left(\\frac{2 T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} \\sin ^{4}\\left(\\pi f T_{0}\\right) S_{\\phi}(f) d f \\tag{19.68}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.12\n\nWhat is the rms period jitter of the sinusoid in additive white noise from Example 19.9?\n\n#### Solution\n\nAssuming again that the noise is much smaller than the amplitude of oscillation, $\\sigma_{n}$ « A, it was demonstrated in Example 19.9 that the absolute jitter is also white. Thus, the phase noise remains constant. Combining (19.57) and (19.60) results in\n\n$$\n\\begin{equation*}\nS_{\\phi}(f)=\\left(\\frac{8 \\pi^{2}}{T_{0}}\\right)\\left(\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}}\\right)=\\frac{2 T_{0} \\sigma_{n}^{2}}{A^{2}} \\tag{19.69}\n\\end{equation*}\n$$\n\nIntegrating (19.64) provides the variance of the period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{2 \\sigma_{n}^{2}}{A^{2} \\omega_{0}{ }^{2}} \\tag{19.70}\n\\end{equation*}\n$$\n\nThe rms period jitter is the square root of (19.70).\n\n#### EXAMPLE 19.13\n\nA clock's zero crossings are modulated by a sinusoidal disturbance at a frequency $f_{m}$, given by\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\Phi_{0} \\sin \\left(2 \\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{t}\\right) \\tag{19.71}\n\\end{equation*}\n$$\n\nWhat are the resulting rms absolute jitter, period jitter, and adjacent period jitter?\n\n#### Solution\n\nThe phase noise $S_{\\phi}^{2}(f)$ will exhibit a discrete spectral tone at $f_{m}$.\n\n$$\nS_{\\phi}(f)=\\frac{\\Phi_{0}^{2}}{2} \\delta\\left(f-f_{m}\\right)\n$$\n\nKey Point: Periodic variations in a clock's phase lead to discrete tones in phase noise spectra, known as spurs.\n\nDiscrete tones in phase noise spectra are termed spurs because they appear as vertical spikes on a plot of $S_{\\phi}^{2}(\\mathrm{f})$ versus frequency. Evaluating the integral in (19.60) yields the absolute jitter,\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2}\\left(\\frac{\\Phi_{0}^{2}}{2}\\right)=\\frac{1}{8}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\tag{19.72}\n\\end{equation*}\n$$\n\nThe period jitter is slightly reduced due to the additional term in the integrand of (19.64), as the change in absolute jitter from one transition to the next is less than its total deviation range.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{1}{2}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{2}\\left(\\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{~T}_{0}\\right) \\tag{19.73}\n\\end{equation*}\n$$\n\nNote that if the phase modulation is slow (i.e., $f_{m} T_{0}$ « $)$, the period jitter is minimal since $\\phi_{k}$ varies little from one cycle to the next. The same applies to adjacent period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=2\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{4}\\left(\\pi f_{m} T_{0}\\right) \\tag{19.74}\n\\end{equation*}\n$$"
},
{
    "text": "Another way to measure jitter is by examining the difference in duration between each period and the subsequent period.\n\n$$\n\\begin{equation*}\nJ_{k+1}-J_{k} \\tag{19.67}\n\\end{equation*}\n$$\n\nThis is known as adjacent period jitter, or sometimes cycle-to-cycle jitter, and is mathematically derived by passing the period jitter $J_{k}$ through an additional $(z-1)$ filter, or equivalently, by passing the absolute jitter through a $(z-1)^{2}$ filter. Consequently, it is related to phase noise by the following integral,\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=\\left(\\frac{2 T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} \\sin ^{4}\\left(\\pi f T_{0}\\right) S_{\\phi}(f) d f \\tag{19.68}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.12\n\nWhat is the rms period jitter of the sinusoid in additive white noise from Example 19.9?\n\n#### Solution\n\nAssuming again that the noise is much smaller than the oscillation amplitude, $\\sigma_{n}$ « A, it was demonstrated in Example 19.9 that the absolute jitter is also white. Thus, the phase noise is constant. Combining (19.57) and (19.60) results in\n\n$$\n\\begin{equation*}\nS_{\\phi}(f)=\\left(\\frac{8 \\pi^{2}}{T_{0}}\\right)\\left(\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}}\\right)=\\frac{2 T_{0} \\sigma_{n}^{2}}{A^{2}} \\tag{19.69}\n\\end{equation*}\n$$\n\nIntegrating in (19.64) yields the variance of the period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{2 \\sigma_{n}^{2}}{A^{2} \\omega_{0}{ }^{2}} \\tag{19.70}\n\\end{equation*}\n$$\n\nThe rms period jitter is the square root of (19.70).\n\n#### EXAMPLE 19.13\n\nA clock's zero crossings are modulated by a sinusoidal disturbance at frequency $f_{m}$, such that\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\Phi_{0} \\sin \\left(2 \\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{t}\\right) \\tag{19.71}\n\\end{equation*}\n$$\n\nWhat are the resulting rms absolute jitter, period jitter, and adjacent period jitter?\n\n#### Solution\n\nThe phase noise $S_{\\phi}^{2}(f)$ will exhibit a discrete spectral tone at $f_{m}$.\n\n$$\nS_{\\phi}(f)=\\frac{\\Phi_{0}^{2}}{2} \\delta\\left(f-f_{m}\\right)\n$$\n\nKey Point: Periodic phase variations in a clock lead to discrete tones in phase noise spectra, known as spurs.\n\nThese discrete tones in phase noise spectra are termed spurs because they appear as vertical spikes on a plot of $S_{\\phi}^{2}(\\mathrm{f})$ versus frequency. The integral in (19.60) can be easily evaluated to give the absolute jitter,\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2}\\left(\\frac{\\Phi_{0}^{2}}{2}\\right)=\\frac{1}{8}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\tag{19.72}\n\\end{equation*}\n$$\n\nThe period jitter is slightly reduced due to the extra term in the integrand of (19.64), as the change in absolute jitter from one transition to the next is less than its total deviation range.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{1}{2}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{2}\\left(\\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{~T}_{0}\\right) \\tag{19.73}\n\\end{equation*}\n$$\n\nNote that if the phase modulation is slow (i.e., $f_{m} T_{0}$ « $)$, the period jitter is small because $\\phi_{k}$ varies minimally from one cycle to the next. The same applies to adjacent period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=2\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{4}\\left(\\pi f_{m} T_{0}\\right) \\tag{19.74}\n\\end{equation*}\n$$"
},
{
    "text": "Another way to measure jitter is by examining the difference in duration between each period and the subsequent period.\n\n$$\n\\begin{equation*}\nJ_{k+1}-J_{k} \\tag{19.67}\n\\end{equation*}\n$$\n\nThis is known as adjacent period jitter, or sometimes cycle-to-cycle jitter. It is mathematically derived by passing the period jitter $J_{k}$ through an additional $(z-1)$ filter, or equivalently, by passing the absolute jitter through a $(z-1)^{2}$ filter. Consequently, it relates to phase noise through the following integral,\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=\\left(\\frac{2 T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} \\sin ^{4}\\left(\\pi f T_{0}\\right) S_{\\phi}(f) d f \\tag{19.68}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.12\n\nWhat is the rms period jitter of the sinusoid in additive white noise from Example 19.9?\n\n#### Solution\n\nAssuming again that the noise is much smaller than the oscillation amplitude, $\\sigma_{n}$ « A, as shown in Example 19.9, the absolute jitter is also white. Thus, the phase noise remains constant. Combining equations (19.57) and (19.60) results in\n\n$$\n\\begin{equation*}\nS_{\\phi}(f)=\\left(\\frac{8 \\pi^{2}}{T_{0}}\\right)\\left(\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}}\\right)=\\frac{2 T_{0} \\sigma_{n}^{2}}{A^{2}} \\tag{19.69}\n\\end{equation*}\n$$\n\nIntegrating in (19.64) provides the variance of the period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{2 \\sigma_{n}^{2}}{A^{2} \\omega_{0}{ }^{2}} \\tag{19.70}\n\\end{equation*}\n$$\n\nThe rms period jitter is the square root of equation (19.70).\n\n#### EXAMPLE 19.13\n\nA clock's zero crossings are modulated by a sinusoidal disturbance at frequency $f_{m}$, such that\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\Phi_{0} \\sin \\left(2 \\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{t}\\right) \\tag{19.71}\n\\end{equation*}\n$$\n\nWhat are the resulting rms absolute jitter, period jitter, and adjacent period jitter?\n\n#### Solution\n\nThe phase noise $S_{\\phi}^{2}(f)$ will exhibit a discrete spectral tone at $f_{m}$.\n\n$$\nS_{\\phi}(f)=\\frac{\\Phi_{0}^{2}}{2} \\delta\\left(f-f_{m}\\right)\n$$\n\nKey Point: Periodic phase variations in a clock lead to discrete tones in phase noise spectra, known as spurs.\n\nSpurs are called such because they appear as vertical spikes on a plot of $S_{\\phi}^{2}(\\mathrm{f})$ versus frequency. The integral in (19.60) can be easily evaluated to yield the absolute jitter,\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2}\\left(\\frac{\\Phi_{0}^{2}}{2}\\right)=\\frac{1}{8}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\tag{19.72}\n\\end{equation*}\n$$\n\nThe period jitter is slightly reduced due to the extra term in the integrand of (19.64), as the change in absolute jitter from one transition to the next is less than its total deviation range.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{1}{2}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{2}\\left(\\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{~T}_{0}\\right) \\tag{19.73}\n\\end{equation*}\n$$\n\nNote that if the phase modulation is slow (i.e., $f_{m} T_{0}$ « $)$, the period jitter is minimal since $\\phi_{k}$ changes very little from one cycle to the next. The same applies to adjacent period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=2\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{4}\\left(\\pi f_{m} T_{0}\\right) \\tag{19.74}\n\\end{equation*}\n$$"
},
{
    "text": "Another method to measure jitter involves examining the disparity between the duration of each period and the subsequent period.\n\n$$\n\\begin{equation*}\nJ_{k+1}-J_{k} \\tag{19.67}\n\\end{equation*}\n$$\n\nThis is known as adjacent period jitter, or sometimes cycle-to-cycle jitter, and is mathematically derived by filtering the period jitter $J_{k}$ through an additional $(z-1)$ filter, or equivalently, by filtering the absolute jitter through a $(z-1)^{2}$ filter. Consequently, it is connected to phase noise by the following integral,\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=\\left(\\frac{2 T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} \\sin ^{4}\\left(\\pi f T_{0}\\right) S_{\\phi}(f) d f \\tag{19.68}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.12\n\nDetermine the rms period jitter of the sinusoid in additive white noise from Example 19.9.\n\n#### Solution\n\nAssuming again that the noise is significantly smaller than the oscillation amplitude, $\\sigma_{n}$ « A, it was demonstrated in Example 19.9 that the absolute jitter is also white. Thus, the phase noise remains constant. Combining (19.57) and (19.60) results in\n\n$$\n\\begin{equation*}\nS_{\\phi}(f)=\\left(\\frac{8 \\pi^{2}}{T_{0}}\\right)\\left(\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}}\\right)=\\frac{2 T_{0} \\sigma_{n}^{2}}{A^{2}} \\tag{19.69}\n\\end{equation*}\n$$\n\nIntegrating (19.64) provides the variance of the period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{2 \\sigma_{n}^{2}}{A^{2} \\omega_{0}{ }^{2}} \\tag{19.70}\n\\end{equation*}\n$$\n\nThe rms period jitter is the square root of (19.70).\n\n#### EXAMPLE 19.13\n\nA clock's zero crossings are modulated by a sinusoidal disturbance at frequency $f_{m}$, such that\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\Phi_{0} \\sin \\left(2 \\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{t}\\right) \\tag{19.71}\n\\end{equation*}\n$$\n\nWhat are the resulting rms absolute jitter, period jitter, and adjacent period jitter?\n\n#### Solution\n\nThe phase noise $S_{\\phi}^{2}(f)$ will exhibit a discrete spectral tone at $f_{m}$.\n\n$$\nS_{\\phi}(f)=\\frac{\\Phi_{0}^{2}}{2} \\delta\\left(f-f_{m}\\right)\n$$\n\nKey Point: Periodic phase variations in a clock lead to discrete tones in phase noise spectra, known as spurs.\n\nSpurs are termed as such because they appear as vertical spikes on a plot of $S_{\\phi}^{2}(\\mathrm{f})$ versus frequency. Evaluating the integral in (19.60) yields the absolute jitter,\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2}\\left(\\frac{\\Phi_{0}^{2}}{2}\\right)=\\frac{1}{8}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\tag{19.72}\n\\end{equation*}\n$$\n\nThe period jitter is slightly diminished due to an extra term in the integrand of (19.64), as the change in absolute jitter between transitions is less than its total deviation range.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{1}{2}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{2}\\left(\\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{~T}_{0}\\right) \\tag{19.73}\n\\end{equation*}\n$$\n\nNote that for slow phase modulation (i.e., $f_{m} T_{0}$ « $)$, the period jitter is minimal since $\\phi_{k}$ varies little from one cycle to the next. The same applies to adjacent period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=2\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{4}\\left(\\pi f_{m} T_{0}\\right) \\tag{19.74}\n\\end{equation*}\n$$"
},
{
    "text": "Another method to measure jitter involves examining the difference between the duration of each period and the subsequent period.\n\n$$\n\\begin{equation*}\nJ_{k+1}-J_{k} \\tag{19.67}\n\\end{equation*}\n$$\n\nThis adjacent period jitter, also known as cycle-to-cycle jitter, is mathematically derived by passing the period jitter $J_{k}$ through an additional $(z-1)$ filter or, equivalently, by passing the absolute jitter through a $(z-1)^{2}$ filter. Consequently, it relates to phase noise through the following integral,\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=\\left(\\frac{2 T_{0}}{\\pi}\\right)^{2} \\int_{0}^{1 / 2 T_{0}} \\sin ^{4}\\left(\\pi f T_{0}\\right) S_{\\phi}(f) d f \\tag{19.68}\n\\end{equation*}\n$$\n\n#### EXAMPLE 19.12\n\nWhat is the rms period jitter of the sinusoid in additive white noise from Example 19.9?\n\n#### Solution\n\nAssuming again that the noise is much smaller than the oscillation amplitude, $\\sigma_{n}$ « A, it was demonstrated in Example 19.9 that the absolute jitter is also white. Thus, the phase noise remains constant. Combining equations (19.57) and (19.60) results in\n\n$$\n\\begin{equation*}\nS_{\\phi}(f)=\\left(\\frac{8 \\pi^{2}}{T_{0}}\\right)\\left(\\frac{\\sigma_{n}^{2}}{A^{2} \\omega_{0}^{2}}\\right)=\\frac{2 T_{0} \\sigma_{n}^{2}}{A^{2}} \\tag{19.69}\n\\end{equation*}\n$$\n\nIntegrating in (19.64) yields the variance of the period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{2 \\sigma_{n}^{2}}{A^{2} \\omega_{0}{ }^{2}} \\tag{19.70}\n\\end{equation*}\n$$\n\nThe rms period jitter is the square root of (19.70).\n\n#### EXAMPLE 19.13\n\nA clock's zero crossings are modulated by a sinusoidal disturbance at frequency $f_{m}$, such that\n\n$$\n\\begin{equation*}\n\\phi_{\\mathrm{k}}=\\Phi_{0} \\sin \\left(2 \\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{t}\\right) \\tag{19.71}\n\\end{equation*}\n$$\n\nWhat are the resulting rms absolute jitter, period jitter, and adjacent period jitter?\n\n#### Solution\n\nThe phase noise $S_{\\phi}^{2}(f)$ will exhibit a discrete spectral tone at $f_{m}$.\n\n$$\nS_{\\phi}(f)=\\frac{\\Phi_{0}^{2}}{2} \\delta\\left(f-f_{m}\\right)\n$$\n\nKey Point: Periodic phase variations in a clock lead to discrete tones in phase noise spectra, known as spurs.\n\nThese discrete tones in phase noise spectra are termed spurs because they appear as vertical spikes on a plot of $S_{\\phi}^{2}(\\mathrm{f})$ versus frequency. The integral in (19.60) can be easily evaluated to determine the absolute jitter,\n\n$$\n\\begin{equation*}\n\\sigma_{\\tau}^{2}=\\left(\\frac{T_{0}}{2 \\pi}\\right)^{2}\\left(\\frac{\\Phi_{0}^{2}}{2}\\right)=\\frac{1}{8}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\tag{19.72}\n\\end{equation*}\n$$\n\nThe period jitter is slightly reduced due to the additional term in the integrand of (19.64), as the change in absolute jitter from one transition to the next is less than its total deviation range.\n\n$$\n\\begin{equation*}\n\\sigma_{J}^{2}=\\frac{1}{2}\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{2}\\left(\\pi \\mathrm{f}_{\\mathrm{m}} \\mathrm{~T}_{0}\\right) \\tag{19.73}\n\\end{equation*}\n$$\n\nNote that for slow phase modulation (i.e., $f_{m} T_{0}$ « $)$, the period jitter is minimal because $\\phi_{k}$ changes very little from one cycle to the next. The same applies to adjacent period jitter.\n\n$$\n\\begin{equation*}\n\\sigma_{C}^{2}=2\\left(\\frac{T_{0} \\Phi_{0}}{\\pi}\\right)^{2} \\sin ^{4}\\left(\\pi f_{m} T_{0}\\right) \\tag{19.74}\n\\end{equation*}\n$$"
},
{
    "text": "Phase noise represents the spectral depiction of an oscillatory waveform's phase, though its observation is challenging due to the need for a perfect time-reference. It is more feasible to examine the spectrum of the waveform itself. Let's denote the power spectral density of a clock waveform (e.g., $\\mathrm{v}(\\mathrm{t})$ in Example 19.10) as $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f}$).\n\nimage_name:(a)\ndescription:The graph labeled (a) depicts the power spectral density (PSD), represented by \\( S_v(f) \\), plotted against frequency \\( f \\). This graph demonstrates the impact of jitter on the spectral distribution of an oscillatory waveform.\n\n1. **Graph Type and Function:**\n- This is a frequency-domain graph showing power spectral density.\n\n2. **Axes Labels and Units:**\n- The x-axis denotes frequency \\( f \\) in hertz (Hz).\n- The y-axis represents the power spectral density \\( S_v(f) \\).\n- Both axes use a linear scale.\n\n3. **General Behavior and Trends:**\n- The graph displays three curves corresponding to varying levels of jitter: \"no jitter,\" \"some jitter,\" and \"more jitter.\"\n- The \"no jitter\" curve features a sharp peak at \\( 1/T_0 \\), indicating a pure sinusoidal waveform with power concentrated at a single frequency.\n- Increased jitter (\"some jitter\" and \"more jitter\") results in broader curves, signifying power distribution over a wider frequency range around \\( 1/T_0 \\), indicating heightened phase noise.\n\n4. **Key Characteristics and Technical Aspects:**\n- The peak of the \"no jitter\" curve is precisely at \\( 1/T_0 \\), the carrier frequency.\n- With \"some jitter,\" the peak remains near \\( 1/T_0 \\) but broadens, indicating some frequency spread.\n- The \"more jitter\" curve shows a significantly broader distribution, reflecting substantial frequency spread due to increased jitter.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes annotations for \"no jitter,\" \"some jitter,\" and \"more jitter,\" highlighting jitter's effect on PSD.\n- The central frequency \\( 1/T_0 \\) serves as a reference point for spectral distribution.\n\nimage_name:(b)\ndescription:Fig. 19.15 (b) presents a graph of the normalized power spectral density, denoted as \\( \\mathfrak{L}(\\Delta f) \\), against the frequency offset \\( \\Delta f \\). This graph type is commonly used to depict phase noise or jitter in oscillatory systems.\n\nAxes Labels and Units:\n- **Horizontal Axis (x-axis):** Represents the frequency offset \\( \\Delta f \\), indicating deviation from the carrier frequency, measured in hertz (Hz).\n- **Vertical Axis (y-axis):** Represents the normalized power spectral density \\( \\mathfrak{L}(\\Delta f) \\), typically in logarithmic units like decibels relative to the carrier power (dBc/Hz).\n\nOverall Behavior and Trends:\n- The graph exhibits a decreasing trend as \\( \\Delta f \\) increases, indicating higher power spectral density near the carrier frequency and reduced density at greater offsets.\n- The curve starts high near \\( \\Delta f = 0 \\) and gradually declines, suggesting an exponential or power-law decay.\n\nKey Features and Technical Details:\n- The peak at \\( \\Delta f = 0 \\) marks the carrier frequency with the highest power concentration.\n- The curve's decay reflects power spreading due to phase noise or jitter, distributing energy across various frequencies.\n- The curve's shape indicates jitter severity; a steeper decline suggests lesser jitter, while a gentler slope indicates more significant jitter.\n\nAnnotations and Specific Data Points:\n- The graph lacks specific numerical annotations, but the curve's shape and slope are crucial for assessing phase noise levels.\n\nFig. 19.15 (a) illustrates the power spectral densities of oscillatory waveforms with and without jitter. (b) shows the normalized power spectral density, $\\mathfrak{L}(\\Delta f)$.\n\nClearly, the power is concentrated around the oscillating frequency, $\\omega_{0}$, often termed the carrier frequency. A pure sinusoid with no period variation (thus, no jitter) will exhibit a single tone at $1 / \\mathrm{T}_{0}$. However, practical signals will have power distributed across frequencies near the carrier, as depicted in Fig. 19.15.\n\nSignals with greater jitter will exhibit more power in the tails of $S_{v}(f)$. The power in these tails is also proportional to the squared amplitude of the oscillating waveform. Therefore, to measure jitter, $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$ can be normalized relative to the signal's total power, which for a sinusoid is $A^{2} / 2$. Shifting the resulting spectrum to dc yields an alternative spectral representation of jitter:\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f)=\\frac{\\mathrm{S}_{\\mathrm{v}}\\left(\\frac{1}{\\mathrm{~T}_{0}}+\\Delta \\mathrm{f}\\right)}{\\mathrm{A}^{2} / 2} \\tag{19.75}\n\\end{equation*}\n$$\n\nimage_name:The units of L(Δf) are Hz^-1\ndescription:This image states that the units of \\( \\mathcal{L}(\\Delta f) \\) are \\( \\text{Hz}^{-1} \\), but it is more typical to plot its logarithm \\( 10\\log_{10}(\\mathcal{L}(\\Delta f)) \\) in dBc/Hz units. This preference for a logarithmic scale in signal processing aids in visualizing variations across a broad range of values. The term dBc/Hz refers to decibels relative to the carrier per Hertz, a standard unit in spectral density measurements. The \"c\" indicates that $\\mathcal{L}(\\Delta f)$ is normalized to the total power in the \"carrier.\" The argument $\\Delta f$ is termed the offset frequency, as $\\mathcal{L}(\\Delta f)$ represents the signal spectrum at a frequency offset from the carrier by $\\Delta \\mathrm{f} \\mathrm{Hz}$.\n\nStrictly, the relationship between $\\mathcal{L}(\\Delta \\mathrm{f})$ and $\\mathrm{S}_{\\phi}(\\mathrm{f})$ is complex, but a simple approximation can be applied for spectral components where $S_{\\phi}(f)$ is very small. ${ }^{15}$\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f) \\approx \\frac{S_{\\phi}(\\Delta f)}{2}, \\quad S_{\\phi}(\\Delta f) \\ll 1 \\tag{19.76}\n\\end{equation*}\n$$\n\nThe factor of two in (19.76) arises because the definition of $\\mathcal{L}(\\Delta f)$ in (19.75) disregards one of the sidebands of $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$. Practical oscillators typically exhibit substantial phase noise at small offset frequencies, as indicated in Fig. 19.15. Thus, (19.76) is applicable primarily to larger offset frequencies where it provides a reasonable approximation. Combining (19.75) and (19.76) enables estimation of a signal's phase noise by analyzing its spectrum. Due to this equivalence, phase noise plots of $S_{\\phi}(f)$ are often presented logarithmically in dBc/Hz, despite their more accurate units being $10 \\log _{10}\\left(\\mathrm{rad}^{2} / \\mathrm{Hz}\\right)$.\n\n[^8]\n```"
},
{
    "text": "Phase noise represents the spectral depiction of an oscillatory waveform's phase, though its direct observation is challenging due to the need for a perfect time-reference. It is more feasible to examine the spectrum of the oscillatory waveform itself. Let us denote the power spectral density of a clock waveform (e.g., $\\mathrm{v}(\\mathrm{t})$ in Example 19.10) as $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$.\n\nimage_name:(a)\ndescription:The graph labeled (a) depicts the power spectral density (PSD), represented by \\( S_v(f) \\), plotted against frequency \\( f \\). This illustration highlights the impact of jitter on the spectral distribution of an oscillatory waveform.\n\n1. **Type of Graph and Function:**\n- This is a frequency-domain graph displaying power spectral density.\n\n2. **Axes Labels and Units:**\n- The x-axis shows frequency \\( f \\) in hertz (Hz).\n- The y-axis depicts the power spectral density \\( S_v(f) \\).\n- Both axes use a linear scale.\n\n3. **Overall Behavior and Trends:**\n- The graph presents three curves corresponding to varying levels of jitter: \"no jitter,\" \"some jitter,\" and \"more jitter.\"\n- The \"no jitter\" curve features a sharp peak at \\( 1/T_0 \\), signifying a pure sinusoidal waveform with power concentrated at a single frequency.\n- As jitter increases (\"some jitter\" and \"more jitter\"), the curves widen, indicating power dispersion over a broader frequency range around \\( 1/T_0 \\), reflecting heightened phase noise.\n\n4. **Key Features and Technical Details:**\n- The peak of the \"no jitter\" curve is precisely at \\( 1/T_0 \\), the carrier frequency.\n- With \"some jitter,\" the peak remains near \\( 1/T_0 \\) but broadens, indicating some frequency spread.\n- The \"more jitter\" curve exhibits an even broader distribution, signifying substantial frequency spread due to increased jitter.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes labels for \"no jitter,\" \"some jitter,\" and \"more jitter,\" emphasizing the effect of jitter on the PSD.\n- The central frequency \\( 1/T_0 \\) serves as a reference for the spectral distribution.\n\nimage_name:(b)\ndescription:Fig. 19.15 (b) shows a graph of the normalized power spectral density, denoted as \\( \\mathfrak{L}(\\Delta f) \\), plotted against the frequency offset \\( \\Delta f \\). This graph is commonly used to depict phase noise or jitter in oscillatory systems.\n\nAxes Labels and Units:\n- **Horizontal Axis (x-axis):** Represents the frequency offset \\( \\Delta f \\), the deviation from the carrier frequency, typically in hertz (Hz).\n- **Vertical Axis (y-axis):** Represents the normalized power spectral density \\( \\mathfrak{L}(\\Delta f) \\), usually in a logarithmic scale like decibels relative to the carrier power (dBc/Hz).\n\nOverall Behavior and Trends:\n- The graph exhibits a declining trend as \\( \\Delta f \\) increases, indicating that the power spectral density is highest near the carrier frequency and decreases with increasing frequency offset.\n- The curve starts high near \\( \\Delta f = 0 \\) and gradually declines, suggesting an exponential or power-law decay.\n\nKey Features and Technical Details:\n- The peak at \\( \\Delta f = 0 \\) marks the carrier frequency with the highest power concentration.\n- The curve's decay reflects power spreading due to phase noise or jitter, distributing energy across various frequencies.\n- The curve's shape indicates the jitter's nature and severity; a steeper decline suggests less jitter, while a gentler slope indicates more significant jitter.\n\nAnnotations and Specific Data Points:\n- The graph lacks specific numerical values or annotations, but the curve's shape and slope are crucial for understanding the system's phase noise level.\n\nFig. 19.15 (a) illustrates the power spectral densities of oscillatory waveforms with and without jitter. (b) shows the normalized power spectral density, $\\mathfrak{L}(\\Delta f)$.\n\nClearly, the power will be concentrated around the oscillating frequency, $\\omega_{0}$, often termed the carrier frequency. A pure sinusoid with no period variation (hence, no jitter) will exhibit a single tone at $1 / \\mathrm{T}_{0}$. However, practical signals will have power distributed across a range of frequencies around the carrier, as depicted in Fig. 19.15.\n\nSignals with higher jitter will exhibit more power in the tails of $S_{v}(f)$. The power in these tails is also proportional to the squared amplitude of the oscillating waveform. Therefore, to measure jitter, $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$ can be normalized relative to the signal's total power, which for a sinusoid is $A^{2} / 2$. Shifting the resulting spectrum to dc yields the following alternative spectral representation of jitter:\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f)=\\frac{\\mathrm{S}_{\\mathrm{v}}\\left(\\frac{1}{\\mathrm{~T}_{0}}+\\Delta \\mathrm{f}\\right)}{\\mathrm{A}^{2} / 2} \\tag{19.75}\n\\end{equation*}\n$$\n\nimage_name:The units of L(Δf) are Hz^-1\ndescription:This image states that the units of \\( \\mathcal{L}(\\Delta f) \\) are \\( \\text{Hz}^{-1} \\), but it is more typical to plot its logarithm \\( 10\\log_{10}(\\mathcal{L}(\\Delta f)) \\) in dBc/Hz units. This preference for a logarithmic scale in signal processing helps visualize variations across a wide range of values. The term dBc/Hz refers to decibels relative to the carrier per Hertz, a standard unit in spectral density measurements. The \"c\" indicates that $\\mathcal{L}(\\Delta f)$ has been normalized to the total power in the \"carrier.\" The argument $\\Delta f$ is termed the offset frequency since $\\mathcal{L}(\\Delta f)$ represents the signal spectrum at a frequency offset from the carrier by $\\Delta \\mathrm{f} \\mathrm{Hz}$.\n\nStrictly speaking, the relationship between $\\mathcal{L}(\\Delta \\mathrm{f})$ and $\\mathrm{S}_{\\phi}(\\mathrm{f})$ is intricate, but a simple approximation can be applied for spectral components where $S_{\\phi}(f)$ is very small. ${ }^{15}$\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f) \\approx \\frac{S_{\\phi}(\\Delta f)}{2}, \\quad S_{\\phi}(\\Delta f) \\ll 1 \\tag{19.76}\n\\end{equation*}\n$$\n\nThe factor of two in (19.76) arises because the definition of $\\mathcal{L}(\\Delta f)$ in (19.75) neglects one of the sidebands of $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$. Practical oscillators always exhibit significant phase noise at small offset frequencies, as indicated in Fig. 19.15. Thus, (19.76) is applicable only to large offset frequencies where it serves as a reasonable approximation. Combining (19.75) and (19.76) enables the estimation of a signal's phase noise by examining its spectrum alone. Due to this equivalence, phase noise plots of $S_{\\phi}(f)$ are often presented logarithmically with units labeled $\\mathrm{dBc} / \\mathrm{Hz}$, though their units are more accurately expressed as $10 \\log _{10}\\left(\\mathrm{rad}^{2} / \\mathrm{Hz}\\right)$.\n\n[^8]"
},
{
    "text": "Phase noise represents the spectral depiction of an oscillatory waveform's phase, though its observation is challenging due to the need for a perfect time-reference. It is simpler to examine the spectrum of the waveform itself. Let's denote the power spectral density of a clock waveform (e.g., $\\mathrm{v}(\\mathrm{t})$ in Example 19.10) as $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$.\nimage_name:(a)\ndescription:The graph labeled (a) plots power spectral density (PSD), denoted as \\( S_v(f) \\), against frequency \\( f \\). This graph depicts the impact of jitter on the spectral distribution of an oscillatory waveform.\n\n1. **Graph Type and Function:**\n- This is a frequency-domain graph depicting power spectral density.\n\n2. **Axes Labels and Units:**\n- The x-axis shows frequency \\( f \\) in hertz (Hz).\n- The y-axis represents the power spectral density \\( S_v(f) \\).\n- Both axes use a linear scale.\n\n3. **Overall Behavior and Trends:**\n- The graph displays three curves for varying jitter levels: \"no jitter,\" \"some jitter,\" and \"more jitter.\"\n- The \"no jitter\" curve peaks sharply at \\( 1/T_0 \\), indicating a pure sinusoidal waveform with power concentrated at a single frequency.\n- Increased jitter (\"some jitter\" and \"more jitter\") results in broader curves, showing power spread over a wider frequency range around \\( 1/T_0 \\), indicating higher phase noise.\n\n4. **Key Features and Technical Details:**\n- The \"no jitter\" peak is precisely at \\( 1/T_0 \\), the carrier frequency.\n- With \"some jitter,\" the peak remains near \\( 1/T_0 \\) but broadens, indicating some frequency spread.\n- The \"more jitter\" curve shows a wider distribution, reflecting significant frequency spread due to increased jitter.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes labels for \"no jitter,\" \"some jitter,\" and \"more jitter,\" highlighting jitter's effect on PSD.\n- The central frequency \\( 1/T_0 \\) serves as a reference for spectral distribution.\nimage_name:(b)\ndescription:Fig. 19.15 (b) presents a graph of the normalized power spectral density, denoted as \\( \\mathfrak{L}(\\Delta f) \\), against the frequency offset \\( \\Delta f \\). This graph is commonly used to represent phase noise or jitter in oscillatory systems.\n\nAxes Labels and Units:\n- **Horizontal Axis (x-axis):** Displays the frequency offset \\( \\Delta f \\), the deviation from the carrier frequency, in hertz (Hz).\n- **Vertical Axis (y-axis):** Shows the normalized power spectral density \\( \\mathfrak{L}(\\Delta f) \\), typically in a logarithmic scale like decibels relative to the carrier power (dBc/Hz).\n\nOverall Behavior and Trends:\n- The graph exhibits a decreasing trend with increasing \\( \\Delta f \\), indicating higher power spectral density near the carrier frequency and diminishing power as the frequency offset grows.\n- The curve starts high near \\( \\Delta f = 0 \\) and gradually declines, suggesting exponential or power-law decay.\n\nKey Features and Technical Details:\n- The peak at \\( \\Delta f = 0 \\) marks the carrier frequency with maximum power concentration.\n- The curve's decay reflects power spreading due to phase noise or jitter, distributing energy across various frequencies.\n- The curve's shape indicates jitter severity; a steeper decline suggests lesser jitter, while a gentler slope indicates more significant jitter.\n\nAnnotations and Specific Data Points:\n- The graph lacks specific numerical annotations, but the curve's shape and slope are crucial for assessing phase noise levels.\n\nFig. 19.15 (a) illustrates power spectral densities of oscillatory waveforms with and without jitter. (b) shows the normalized power spectral density, $\\mathfrak{L}(\\Delta f)$.\n\nClearly, power concentration occurs around the oscillating frequency, $\\omega_{0}$, often termed the carrier frequency. A pure sinusoid with no period variation (thus, no jitter) will exhibit a single tone at $1 / \\mathrm{T}_{0}$. However, practical signals will have power distributed across frequencies around the carrier, as depicted in Fig. 19.15.\n\nSignals with greater jitter will exhibit more power in the tails of $S_{v}(f)$. This tail power is also proportional to the squared amplitude of the waveform. To measure jitter, $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$ can be normalized by the signal's total power, which for a sinusoid is $A^{2} / 2$. Shifting this spectrum to dc yields an alternative spectral representation of jitter:\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f)=\\frac{\\mathrm{S}_{\\mathrm{v}}\\left(\\frac{1}{\\mathrm{~T}_{0}}+\\Delta \\mathrm{f}\\right)}{\\mathrm{A}^{2} / 2} \\tag{19.75}\n\\end{equation*}\n$$\n\nimage_name:The units of L(Δf) are Hz^-1\ndescription:This image states that the units of \\( \\mathcal{L}(\\Delta f) \\) are \\( \\text{Hz}^{-1} \\), though it is more typical to plot its logarithm \\( 10\\log_{10}(\\mathcal{L}(\\Delta f)) \\) in dBc/Hz. This preference for a logarithmic scale in signal processing aids in visualizing variations across a broad range of values. The term dBc/Hz refers to decibels relative to the carrier per Hertz, a standard unit in spectral density measurements. The \"c\" indicates normalization with respect to the carrier's total power. The argument $\\Delta f$ is termed the offset frequency, as $\\mathcal{L}(\\Delta f)$ represents the signal spectrum at a frequency offset from the carrier by $\\Delta \\mathrm{f} \\mathrm{Hz}$.\n\nStrictly, the relationship between $\\mathcal{L}(\\Delta \\mathrm{f})$ and $\\mathrm{S}_{\\phi}(\\mathrm{f})$ is complex, but a simple approximation can be applied where $S_{\\phi}(f)$ is very small. ${ }^{15}$\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f) \\approx \\frac{S_{\\phi}(\\Delta f)}{2}, \\quad S_{\\phi}(\\Delta f) \\ll 1 \\tag{19.76}\n\\end{equation*}\n$$\n\nThe factor of two in (19.76) arises because the definition of $\\mathcal{L}(\\Delta f)$ in (19.75)忽略s one of $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$'s sidebands. Practical oscillators typically exhibit significant phase noise at small offset frequencies, as Fig. 19.15 suggests. Thus, (19.76) is applicable primarily to large offset frequencies where it serves as a reasonable approximation. Combining (19.75) and (19.76) enables phase noise estimation from the signal's spectrum. Due to this equivalence, $S_{\\phi}(f)$ phase noise plots are often presented logarithmically in dBc/Hz, though their units are more accurately $10 \\log _{10}\\left(\\mathrm{rad}^{2} / \\mathrm{Hz}\\right)$.\n\n[^8]"
},
{
    "text": "Phase noise represents the spectral depiction of an oscillatory waveform's phase, though its observation is challenging due to the need for a perfect time-reference. It is more feasible to analyze the spectrum of the waveform itself. Let's denote the power spectral density of a clock waveform (e.g., $\\mathrm{v}(\\mathrm{t})$ in Example 19.10) as $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$.\n\nimage_name:(a)\ndescription:The graph labeled (a) depicts the power spectral density (PSD), denoted as \\( S_v(f) \\), plotted against frequency \\( f \\). This graph demonstrates how jitter affects the spectral distribution of an oscillatory waveform.\n\n1. **Graph Type and Function:**\n- This is a frequency-domain graph showing power spectral density.\n\n2. **Axes Labels and Units:**\n- The x-axis represents frequency \\( f \\) in hertz (Hz).\n- The y-axis represents the power spectral density \\( S_v(f) \\).\n- Both axes use a linear scale.\n\n3. **Overall Behavior and Trends:**\n- The graph displays three curves corresponding to different jitter levels: \"no jitter,\" \"some jitter,\" and \"more jitter.\"\n- The \"no jitter\" curve is a sharp peak at frequency \\( 1/T_0 \\), indicating a pure sinusoidal waveform with power concentrated at a single frequency.\n- Increased jitter (\"some jitter\" and \"more jitter\") results in broader curves, showing power spread over a wider frequency range around \\( 1/T_0 \\), indicating higher phase noise.\n\n4. **Key Features and Technical Details:**\n- The peak of the \"no jitter\" curve is precisely at \\( 1/T_0 \\), the carrier frequency.\n- With \"some jitter,\" the peak remains near \\( 1/T_0 \\) but with a broader base, indicating some frequency spread.\n- The \"more jitter\" curve shows a wider distribution, reflecting significant frequency spread due to increased jitter.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes labels for \"no jitter,\" \"some jitter,\" and \"more jitter,\" highlighting jitter's impact on PSD.\n- The central frequency \\( 1/T_0 \\) serves as a reference point for spectral distribution.\n\nimage_name:(b)\ndescription:Fig. 19.15 (b) shows a graph of the normalized power spectral density, denoted as \\( \\mathfrak{L}(\\Delta f) \\), plotted against the frequency offset \\( \\Delta f \\). This graph is commonly used to represent phase noise or jitter in oscillatory systems.\n\nAxes Labels and Units:\n- **Horizontal Axis (x-axis):** Represents the frequency offset \\( \\Delta f \\), deviations from the carrier frequency, in hertz (Hz).\n- **Vertical Axis (y-axis):** Represents the normalized power spectral density \\( \\mathfrak{L}(\\Delta f) \\), typically in a logarithmic scale like decibels relative to the carrier power (dBc/Hz).\n\nOverall Behavior and Trends:\n- The graph shows a decreasing trend with increasing \\( \\Delta f \\), indicating higher power spectral density near the carrier frequency and reduced density as the offset increases.\n- The curve starts high near \\( \\Delta f = 0 \\) and gradually declines, suggesting an exponential or power-law decay.\n\nKey Features and Technical Details:\n- The peak at \\( \\Delta f = 0 \\) marks the carrier frequency with the highest power concentration.\n- The curve's decay reflects power spreading due to phase noise or jitter, distributing energy across various frequencies.\n- The curve's shape indicates the nature and severity of jitter; a steeper decline suggests less jitter, while a gentler slope indicates more significant jitter.\n\nAnnotations and Specific Data Points:\n- The graph lacks specific numerical annotations, but the curve's shape and slope are crucial for assessing phase noise levels.\n\nFig. 19.15 (a) illustrates power spectral densities of oscillatory waveforms with varying jitter levels. (b) shows the normalized power spectral density, $\\mathfrak{L}(\\Delta f)$.\n\nClearly, power concentration occurs around the oscillating frequency, $\\omega_{0}$, often termed the carrier frequency. A pure sinusoid with no period variation (hence, no jitter) will exhibit a single tone at $1 / \\mathrm{T}_{0}$. However, practical signals will have power spread across frequencies near the carrier, as depicted in Fig. 19.15.\n\nSignals with greater jitter will exhibit more power in the tails of $S_{v}(f)$. This tail power is also proportional to the squared amplitude of the oscillating waveform. Therefore, to measure jitter, $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$ can be normalized by the signal's total power, which for a sinusoid is $A^{2} / 2$. Shifting the resulting spectrum to dc yields an alternative spectral representation of jitter:\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f)=\\frac{\\mathrm{S}_{\\mathrm{v}}\\left(\\frac{1}{\\mathrm{~T}_{0}}+\\Delta \\mathrm{f}\\right)}{\\mathrm{A}^{2} / 2} \\tag{19.75}\n\\end{equation*}\n$$\n\nimage_name:The units of L(Δf) are Hz^-1\ndescription:This image states that the units of \\( \\mathcal{L}(\\Delta f) \\) are \\( \\text{Hz}^{-1} \\), though it is more common to plot its logarithm \\( 10\\log_{10}(\\mathcal{L}(\\Delta f)) \\) in dBc/Hz units. This preference for a logarithmic scale in signal processing aids in visualizing variations across a broad range of values. The term dBc/Hz refers to decibels relative to the carrier per Hertz, a standard unit in spectral density measurements. The \"c\" indicates normalization to the total power in the \"carrier.\" The argument $\\Delta f$ is termed the offset frequency since $\\mathcal{L}(\\Delta f)$ represents the signal spectrum at a frequency offset from the carrier by $\\Delta \\mathrm{f} \\mathrm{Hz}$.\n\nStrictly, the relationship between $\\mathcal{L}(\\Delta \\mathrm{f})$ and $\\mathrm{S}_{\\phi}(\\mathrm{f})$ is complex, but a simple approximation can be applied for spectral components where $S_{\\phi}(f)$ is very small. ${ }^{15}$\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f) \\approx \\frac{S_{\\phi}(\\Delta f)}{2}, \\quad S_{\\phi}(\\Delta f) \\ll 1 \\tag{19.76}\n\\end{equation*}\n$$\n\nThe factor of two in (19.76) arises because the definition of $\\mathcal{L}(\\Delta f)$ in (19.75) ignores one of $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$'s sidebands. Practical oscillators always exhibit substantial phase noise at small offset frequencies, as Fig. 19.15 suggests. Thus, (19.76) is only valid for large offset frequencies where it provides a reasonable approximation. Combining (19.75) and (19.76) enables estimation of a signal's phase noise by examining its spectrum. Due to this equivalence, phase noise plots of $S_{\\phi}(f)$ are often shown logarithmically in dBc/Hz units, though their units are more accurately $10 \\log _{10}\\left(\\mathrm{rad}^{2} / \\mathrm{Hz}\\right)$."
},
{
    "text": "Phase noise represents the spectral depiction of an oscillatory waveform's phase, though its observation is challenging due to the necessity of a perfect time-reference. It is more feasible to analyze the spectrum of the waveform itself. Let's denote the power spectral density of a clock waveform (e.g., $\\mathrm{v}(\\mathrm{t})$ in Example 19.10) as $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$.\n\nimage_name:(a)\ndescription:The graph labeled (a) depicts the power spectral density (PSD), denoted as \\( S_v(f) \\), plotted against frequency \\( f \\). This illustration showcases how jitter affects the spectral distribution of an oscillatory waveform.\n\n1. **Graph Type and Function:**\n- This is a frequency-domain graph displaying power spectral density.\n\n2. **Axes Labels and Units:**\n- The x-axis denotes frequency \\( f \\) in hertz (Hz).\n- The y-axis represents the power spectral density \\( S_v(f) \\).\n- Both axes use a linear scale.\n\n3. **General Behavior and Trends:**\n- The graph features three curves indicating varying levels of jitter: \"no jitter,\" \"some jitter,\" and \"more jitter.\"\n- The \"no jitter\" curve shows a sharp peak at frequency \\( 1/T_0 \\), signifying a pure sinusoidal waveform with concentrated power.\n- Increased jitter (\"some jitter\" and \"more jitter\") results in broader curves, indicating power dispersion over a wider frequency range around \\( 1/T_0 \\), reflecting heightened phase noise.\n\n4. **Key Characteristics and Technical Aspects:**\n- The peak of the \"no jitter\" curve is precisely at \\( 1/T_0 \\), the carrier frequency.\n- With \"some jitter,\" the peak remains near \\( 1/T_0 \\) but broadens, indicating frequency spread.\n- The \"more jitter\" curve exhibits a wider distribution, signifying substantial frequency spread due to increased jitter.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes labels for \"no jitter,\" \"some jitter,\" and \"more jitter,\" emphasizing jitter's impact on PSD.\n- The central frequency \\( 1/T_0 \\) serves as a reference for spectral distribution.\n\nimage_name:(b)\ndescription:Fig. 19.15 (b) presents a graph of the normalized power spectral density, denoted as \\( \\mathfrak{L}(\\Delta f) \\), plotted against the frequency offset \\( \\Delta f \\). This graph is commonly used to depict phase noise or jitter in oscillatory systems.\n\nAxes Labels and Units:\n- **Horizontal Axis (x-axis):** Indicates the frequency offset \\( \\Delta f \\), the deviation from the carrier frequency, measured in hertz (Hz).\n- **Vertical Axis (y-axis):** Represents the normalized power spectral density \\( \\mathfrak{L}(\\Delta f) \\), typically plotted on a logarithmic scale like decibels relative to the carrier power (dBc/Hz).\n\nOverall Behavior and Trends:\n- The graph displays a declining trend as \\( \\Delta f \\) increases, indicating higher power spectral density near the carrier frequency and a decrease with increasing frequency offset.\n- The curve starts high near \\( \\Delta f = 0 \\) and gradually decreases, suggesting an exponential or power-law decay.\n\nKey Features and Technical Details:\n- The peak at \\( \\Delta f = 0 \\) marks the carrier frequency with the highest power concentration.\n- The curve's decay reflects power spreading due to phase noise or jitter, distributing energy across various frequencies.\n- The curve's shape indicates the jitter's nature and severity; a steeper decline suggests lesser jitter, while a gentler slope indicates more significant jitter.\n\nAnnotations and Specific Data Points:\n- The graph lacks specific numerical annotations, but the curve's shape and slope are crucial for assessing the system's phase noise level.\n\nFig. 19.15 (a) illustrates the power spectral densities of oscillatory waveforms with and without jitter. (b) shows the normalized power spectral density, $\\mathfrak{L}(\\Delta f)$.\n\nClearly, the power is concentrated around the oscillating frequency, $\\omega_{0}$, often termed the carrier frequency. A pure sinusoid with no period variation (thus, no jitter) will exhibit a single tone at $1 / \\mathrm{T}_{0}$. However, practical signals will have power distributed across frequencies near the carrier, as depicted in Fig. 19.15.\n\nSignals with greater jitter will exhibit more power in the tails of $S_{v}(f)$. The power in these tails is also proportional to the squared amplitude of the waveform. Therefore, to measure jitter, $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$ can be normalized by the signal's total power, which for a sinusoid is $A^{2} / 2$. Shifting the resulting spectrum to dc yields an alternative spectral representation of jitter:\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f)=\\frac{\\mathrm{S}_{\\mathrm{v}}\\left(\\frac{1}{\\mathrm{~T}_{0}}+\\Delta \\mathrm{f}\\right)}{\\mathrm{A}^{2} / 2} \\tag{19.75}\n\\end{equation*}\n$$\n\nimage_name:The units of L(Δf) are Hz^-1\ndescription:The image states that the units of \\( \\mathcal{L}(\\Delta f) \\) are \\( \\text{Hz}^{-1} \\), but it is more typical to plot its logarithm \\( 10\\log_{10}(\\mathcal{L}(\\Delta f)) \\) in dBc/Hz units. This preference for a logarithmic scale in signal processing helps visualize variations across a broad range of values. The term dBc/Hz refers to decibels relative to the carrier per Hertz, a standard unit in spectral density measurements. The \"c\" indicates normalization to the carrier's total power. The argument $\\Delta f$ is the offset frequency, representing the signal spectrum at a frequency offset from the carrier by $\\Delta \\mathrm{f} \\mathrm{Hz}$.\n\nStrictly, the relationship between $\\mathcal{L}(\\Delta \\mathrm{f})$ and $\\mathrm{S}_{\\phi}(\\mathrm{f})$ is complex, but a simple approximation can be applied where $S_{\\phi}(f)$ is very small. ${ }^{15}$\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f) \\approx \\frac{S_{\\phi}(\\Delta f)}{2}, \\quad S_{\\phi}(\\Delta f) \\ll 1 \\tag{19.76}\n\\end{equation*}\n$$\n\nThe factor of two in (19.76) results from the definition of $\\mathcal{L}(\\Delta f)$ in (19.75) ignoring one of $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$'s sidebands. Practical oscillators typically exhibit significant phase noise at small offset frequencies, as indicated in Fig. 19.15. Thus, (19.76) is applicable to larger offset frequencies where it provides a reasonable approximation. Combining (19.75) and (19.76) enables estimation of a signal's phase noise by examining its spectrum. Due to this equivalence, phase noise plots of $S_{\\phi}(f)$ are often shown logarithmically with units labeled $\\mathrm{dBc} / \\mathrm{Hz}$, though their units are more accurately $10 \\log _{10}\\left(\\mathrm{rad}^{2} / \\mathrm{Hz}\\right)$.\n\n[^8]"
},
{
    "text": "Phase noise represents the spectral depiction of an oscillatory waveform's phase, though its observation is challenging due to the need for a perfect time-reference. It is more feasible to analyze the spectrum of the waveform itself. Let's denote the power spectral density of a clock waveform (e.g., $\\mathrm{v}(\\mathrm{t})$ in Example 19.10) as $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$.\nimage_name:(a)\ndescription:The graph labeled (a) plots the power spectral density (PSD), denoted as \\( S_v(f) \\), against frequency \\( f \\). This graph depicts the impact of jitter on the spectral distribution of an oscillatory waveform.\n\n1. **Graph Type and Function:**\n- This is a frequency-domain graph displaying power spectral density.\n\n2. **Axes Labels and Units:**\n- The x-axis shows frequency \\( f \\) in hertz (Hz).\n- The y-axis shows the power spectral density \\( S_v(f) \\).\n- Both axes use a linear scale.\n\n3. **General Behavior and Trends:**\n- The graph presents three curves representing varying jitter levels: \"no jitter,\" \"some jitter,\" and \"more jitter.\"\n- The \"no jitter\" curve is a sharp peak at \\( 1/T_0 \\), indicating a pure sinusoidal waveform with power concentrated at a single frequency.\n- As jitter increases (\"some jitter\" and \"more jitter\"), the curves widen, showing power spread over a broader frequency range around \\( 1/T_0 \\), indicating increased phase noise.\n\n4. **Key Characteristics and Technical Aspects:**\n- The peak of the \"no jitter\" curve is precisely at \\( 1/T_0 \\), the carrier frequency.\n- With \"some jitter,\" the peak remains around \\( 1/T_0 \\) but broadens, indicating some frequency spread.\n- The \"more jitter\" curve shows a significantly broader distribution, reflecting substantial frequency spread due to increased jitter.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes labels for \"no jitter,\" \"some jitter,\" and \"more jitter,\" highlighting jitter's effect on PSD.\n- The central frequency \\( 1/T_0 \\) serves as a reference for the spectral distribution.\nimage_name:(b)\ndescription:Fig. 19.15 (b) shows a graph of the normalized power spectral density, denoted as \\( \\mathfrak{L}(\\Delta f) \\), against the frequency offset \\( \\Delta f \\). This graph is commonly used to depict phase noise or jitter in oscillatory systems.\n\nAxes Labels and Units:\n- **Horizontal Axis (x-axis):** Represents the frequency offset \\( \\Delta f \\), the deviation from the carrier frequency, in hertz (Hz).\n- **Vertical Axis (y-axis):** Represents the normalized power spectral density \\( \\mathfrak{L}(\\Delta f) \\), typically in a logarithmic scale like decibels relative to the carrier power (dBc/Hz).\n\nOverall Behavior and Trends:\n- The graph exhibits a decreasing trend as \\( \\Delta f \\) increases, indicating higher power spectral density near the carrier frequency and a decline as the offset increases.\n- The curve starts high near \\( \\Delta f = 0 \\) and gradually decreases, suggesting an exponential or power-law decay.\n\nKey Features and Technical Details:\n- The peak at \\( \\Delta f = 0 \\) marks the carrier frequency with the highest power concentration.\n- The curve's decay reflects power spreading due to phase noise or jitter, distributing energy across various frequencies.\n- The curve's shape indicates jitter severity; a steeper decline suggests less jitter, while a gentler slope indicates more significant jitter.\n\nAnnotations and Specific Data Points:\n- The graph lacks specific numerical annotations, but the curve's shape and slope are crucial for assessing phase noise levels.\n\nFig. 19.15 (a) Displays power spectral densities of oscillatory waveforms with and without jitter. (b) Shows the normalized power spectral density, $\\mathfrak{L}(\\Delta f)$.\n\nClearly, power concentration occurs around the oscillating frequency, $\\omega_{0}$, often termed the carrier frequency. A pure sinusoid with no period variation (thus, no jitter) will exhibit a single tone at \\( 1 / \\mathrm{T}_{0} \\). However, practical signals will have power across a range of frequencies around the carrier, as illustrated in Fig. 19.15.\n\nSignals with greater jitter will exhibit more power in the tails of $S_{v}(f)$. This power is also proportional to the squared amplitude of the waveform. Therefore, to measure jitter, $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$ can be normalized by the signal's total power, which for a sinusoid is $A^{2} / 2$. Shifting the resulting spectrum to dc yields an alternative spectral representation of jitter:\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f)=\\frac{\\mathrm{S}_{\\mathrm{v}}\\left(\\frac{1}{\\mathrm{~T}_{0}}+\\Delta \\mathrm{f}\\right)}{\\mathrm{A}^{2} / 2} \\tag{19.75}\n\\end{equation*}\n$$\n\nimage_name:The units of L(Δf) are Hz^-1\ndescription:The image states that the units of \\( \\mathcal{L}(\\Delta f) \\) are \\( \\text{Hz}^{-1} \\), but it is more typical to plot its logarithm \\( 10\\log_{10}(\\mathcal{L}(\\Delta f)) \\) in dBc/Hz units. This preference for a logarithmic scale in signal processing helps visualize variations over a broad range. dBc/Hz stands for decibels relative to the carrier per Hertz, a standard unit for spectral density measurements. The \"c\" indicates normalization to the carrier's total power. The argument $\\Delta f$ is the offset frequency, representing the signal spectrum at a frequency offset from the carrier by $\\Delta \\mathrm{f} \\mathrm{Hz}$.\n\nStrictly, the relationship between $\\mathcal{L}(\\Delta \\mathrm{f})$ and $\\mathrm{S}_{\\phi}(\\mathrm{f})$ is complex, but a simple approximation can be applied where $S_{\\phi}(f)$ is very small. ${ }^{15}$\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f) \\approx \\frac{S_{\\phi}(\\Delta f)}{2}, \\quad S_{\\phi}(\\Delta f) \\ll 1 \\tag{19.76}\n\\end{equation*}\n$$\n\nThe factor of two in (19.76) arises because the definition of $\\mathcal{L}(\\Delta f)$ in (19.75) overlooks one of $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$'s sidebands. Practical oscillators always exhibit significant phase noise at small offset frequencies, as Fig. 19.15 suggests. Thus, (19.76) is applicable to large offset frequencies where it is a reasonable approximation. Combining (19.75) and (19.76) enables estimating a signal's phase noise by analyzing its spectrum. Due to this equivalence, phase noise plots of $S_{\\phi}(f)$ are often shown logarithmically in dBc/Hz, though their units are more accurately $10 \\log _{10}\\left(\\mathrm{rad}^{2} / \\mathrm{Hz}\\right)$.\n\n[^8]\n```"
},
{
    "text": "Phase noise represents the spectral depiction of an oscillatory waveform's phase, though its observation is challenging due to the need for a perfect time-reference. It is more feasible to analyze the spectrum of the oscillatory waveform directly. Let's denote the power spectral density of a clock waveform (e.g., $\\mathrm{v}(\\mathrm{t})$ in Example 19.10) as $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$.\n\nimage_name:(a)\ndescription:The graph labeled (a) depicts the power spectral density (PSD), denoted $S_v(f)$, plotted against frequency $f$. This graph showcases how jitter affects the spectral distribution of an oscillatory waveform.\n\n1. **Graph Type and Function:**\n- This is a frequency-domain graph illustrating power spectral density.\n\n2. **Axes Labels and Units:**\n- The x-axis denotes frequency $f$ in hertz (Hz).\n- The y-axis represents the power spectral density $S_v(f)$.\n- Both axes use a linear scale.\n\n3. **General Behavior and Trends:**\n- The graph displays three curves corresponding to varying jitter levels: \"no jitter,\" \"some jitter,\" and \"more jitter.\"\n- The \"no jitter\" curve features a sharp peak at frequency $1/T_0$, indicating a pure sinusoidal waveform with power concentrated at a single frequency.\n- As jitter increases (\"some jitter\" and \"more jitter\"), the curves widen, showing power distribution over a broader frequency range around $1/T_0$, signifying increased phase noise.\n\n4. **Key Characteristics and Technical Aspects:**\n- The peak of the \"no jitter\" curve is precisely at $1/T_0$, the carrier frequency.\n- With \"some jitter,\" the peak remains near $1/T_0$ but broadens, indicating some frequency spread.\n- The \"more jitter\" curve exhibits a wider distribution, reflecting significant frequency spread due to heightened jitter.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes labels for \"no jitter,\" \"some jitter,\" and \"more jitter,\" emphasizing jitter's impact on PSD.\n- The central frequency $1/T_0$ serves as a reference for the spectral distribution.\n\nimage_name:(b)\ndescription:Fig. 19.15 (b) presents a graph of the normalized power spectral density, denoted $\\mathfrak{L}(\\Delta f)$, plotted against the frequency offset $\\Delta f$. This graph is commonly used to depict phase noise or jitter in oscillatory systems.\n\nAxes Labels and Units:\n- **Horizontal Axis (x-axis):** Represents the frequency offset $\\Delta f$, the deviation from the carrier frequency, in hertz (Hz).\n- **Vertical Axis (y-axis):** Shows the normalized power spectral density $\\mathfrak{L}(\\Delta f)$, typically in a logarithmic scale like decibels relative to the carrier power (dBc/Hz).\n\nOverall Behavior and Trends:\n- The graph exhibits a decreasing trend with increasing $\\Delta f$, indicating higher power spectral density near the carrier frequency and a decline as the frequency offset grows.\n- The curve starts high near $\\Delta f = 0$ and gradually decreases, suggesting an exponential or power-law decay.\n\nKey Features and Technical Details:\n- The peak at $\\Delta f = 0$ marks the carrier frequency with the highest power concentration.\n- The curve's decay illustrates power spreading due to phase noise or jitter, distributing energy across various frequencies.\n- The curve's shape reflects the jitter's nature and severity; a steeper decline indicates less jitter, while a gentler slope suggests more substantial jitter.\n\nAnnotations and Specific Data Points:\n- The graph lacks specific numerical values or annotations, but the curve's shape and slope are crucial for assessing the system's phase noise level.\n\nFig. 19.15 (a) illustrates the power spectral densities of oscillatory waveforms with and without jitter. (b) shows the normalized power spectral density, $\\mathfrak{L}(\\Delta f)$.\n\nClearly, the power is concentrated around the oscillating frequency, $\\omega_{0}$, often termed the carrier frequency. A pure sinusoid with no period variation (hence, no jitter) will exhibit only a single tone at $1/\\mathrm{T}_{0}$. However, practical signals will have power distributed across a range of frequencies around the carrier, as depicted in Fig. 19.15.\n\nSignals with greater jitter will exhibit more power in the tails of $S_{v}(f)$. This tail power is also proportional to the squared amplitude of the oscillating waveform. Therefore, to measure jitter, $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$ can be normalized relative to the signal's total power, which for a sinusoid is $A^{2}/2$. Shifting the resulting spectrum to dc yields an alternative spectral representation of jitter:\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f)=\\frac{\\mathrm{S}_{\\mathrm{v}}\\left(\\frac{1}{\\mathrm{~T}_{0}}+\\Delta \\mathrm{f}\\right)}{\\mathrm{A}^{2} / 2} \\tag{19.75}\n\\end{equation*}\n$$\n\nimage_name:The units of L(Δf) are Hz^-1\ndescription:This image states that the units of $\\mathcal{L}(\\Delta f)$ are $\\text{Hz}^{-1}$, but it is more typical to plot its logarithm, $10\\log_{10}(\\mathcal{L}(\\Delta f))$, in dBc/Hz units. This preference for a logarithmic scale in signal processing helps visualize variations over a broad range of values. The \"c\" in dBc/Hz signifies normalization with respect to the carrier's total power. The argument $\\Delta f$ is termed the offset frequency, as $\\mathcal{L}(\\Delta f)$ represents the signal spectrum at a frequency offset from the carrier by $\\Delta \\mathrm{f}$ Hz.\n\nStrictly, the relationship between $\\mathcal{L}(\\Delta \\mathrm{f})$ and $\\mathrm{S}_{\\phi}(\\mathrm{f})$ is complex, but a simple approximation can be applied for spectral components where $S_{\\phi}(f)$ is very small. ${ }^{15}$\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f) \\approx \\frac{S_{\\phi}(\\Delta f)}{2}, \\quad S_{\\phi}(\\Delta f) \\ll 1 \\tag{19.76}\n\\end{equation*}\n$$\n\nThe factor of two in (19.76) arises because the definition of $\\mathcal{L}(\\Delta f)$ in (19.75) overlooks one of $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$'s sidebands. Practical oscillators typically exhibit substantial phase noise at small offset frequencies, as Fig. 19.15 suggests. Thus, (19.76) is applicable to larger offset frequencies where it serves as a reasonable approximation. Combining (19.75) and (19.76) enables estimation of a signal's phase noise by examining its spectrum alone. Due to this equivalence, phase noise plots of $S_{\\phi}(f)$ are often presented logarithmically in dBc/Hz units, though their units are more accurately $10 \\log _{10}\\left(\\mathrm{rad}^{2} / \\mathrm{Hz}\\right)$."
},
{
    "text": "Phase noise represents the spectral depiction of an oscillatory waveform's phase, though its observation is challenging due to the necessity of a perfect time-reference. It is more feasible to examine the spectrum of the waveform itself. Let us denote the power spectral density of a clock waveform (e.g., $\\mathrm{v}(\\mathrm{t})$ in Example 19.10) as $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$.\nimage_name:(a)\ndescription:The graph labeled (a) depicts the power spectral density (PSD), denoted as \\( S_v(f) \\), plotted against frequency \\( f \\). This graph demonstrates the impact of jitter on the spectral distribution of an oscillatory waveform.\n\n1. **Graph Type and Function:**\n- This is a frequency-domain graph illustrating power spectral density.\n\n2. **Axes Labels and Units:**\n- The x-axis denotes frequency \\( f \\) in hertz (Hz).\n- The y-axis represents the power spectral density \\( S_v(f) \\).\n- Both axes use a linear scale.\n\n3. **General Behavior and Trends:**\n- The graph features three curves corresponding to varying levels of jitter: \"no jitter,\" \"some jitter,\" and \"more jitter.\"\n- The \"no jitter\" curve shows a sharp peak at \\( 1/T_0 \\), indicating a pure sinusoidal waveform with power concentrated at a single frequency.\n- Increased jitter (\"some jitter\" and \"more jitter\") results in broader curves, signifying power spread over a wider frequency range around \\( 1/T_0 \\), indicating higher phase noise.\n\n4. **Key Characteristics and Technical Aspects:**\n- The peak of the \"no jitter\" curve is precisely at \\( 1/T_0 \\), the carrier frequency.\n- With \"some jitter,\" the peak remains near \\( 1/T_0 \\) but broadens, indicating some frequency spread.\n- The \"more jitter\" curve exhibits a broader distribution, reflecting significant frequency spread due to increased jitter.\n\n5. **Annotations and Specific Data Points:**\n- The graph includes labels for \"no jitter,\" \"some jitter,\" and \"more jitter,\" emphasizing jitter's effect on PSD.\n- The central frequency \\( 1/T_0 \\) serves as a reference for spectral distribution.\nimage_name:(b)\ndescription:Fig. 19.15 (b) presents a graph of the normalized power spectral density, denoted as \\( \\mathfrak{L}(\\Delta f) \\), plotted against the frequency offset \\( \\Delta f \\). This graph is commonly used to depict phase noise or jitter in oscillatory systems.\n\nAxes Labels and Units:\n- **Horizontal Axis (x-axis):** Represents the frequency offset \\( \\Delta f \\), the deviation from the carrier frequency, measured in hertz (Hz).\n- **Vertical Axis (y-axis):** Represents the normalized power spectral density \\( \\mathfrak{L}(\\Delta f) \\), typically in a logarithmic scale like decibels relative to the carrier power (dBc/Hz).\n\nOverall Behavior and Trends:\n- The graph displays a decreasing trend as \\( \\Delta f \\) rises, indicating higher power spectral density near the carrier frequency and a decline with increasing frequency offset.\n- The curve starts high near \\( \\Delta f = 0 \\) and gradually decreases, suggesting an exponential or power-law decay.\n\nKey Features and Technical Details:\n- The peak at \\( \\Delta f = 0 \\) marks the carrier frequency with the highest power concentration.\n- The curve's decay reflects power spreading due to phase noise or jitter, distributing energy across various frequencies.\n- The curve's shape indicates jitter severity; a steeper decline suggests less jitter, while a gentler slope indicates more significant jitter.\n\nAnnotations and Specific Data Points:\n- The graph lacks specific numerical annotations, but the curve's shape and slope are crucial for assessing phase noise levels.\n\nFig. 19.15 (a) illustrates power spectral densities of oscillatory waveforms with and without jitter. (b) shows the normalized power spectral density, $\\mathfrak{L}(\\Delta f)$.\n\nClearly, power concentration occurs around the oscillating frequency, $\\omega_{0}$, often termed the carrier frequency. A pure sinusoid with no period variation (hence, no jitter) will exhibit a single tone at $1 / \\mathrm{T}_{0}$. However, practical signals will have power distributed across frequencies near the carrier, as depicted in Fig. 19.15.\n\nSignals with greater jitter will exhibit more power in the tails of $S_{v}(f)$. This tail power is also proportional to the squared amplitude of the waveform. Therefore, to quantify jitter, $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$ can be normalized by the signal's total power, which for a sinusoid is $A^{2} / 2$. Shifting the resulting spectrum to dc yields an alternative spectral representation of jitter:\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f)=\\frac{\\mathrm{S}_{\\mathrm{v}}\\left(\\frac{1}{\\mathrm{~T}_{0}}+\\Delta \\mathrm{f}\\right)}{\\mathrm{A}^{2} / 2} \\tag{19.75}\n\\end{equation*}\n$$\n\nimage_name:The units of L(Δf) are Hz^-1\ndescription:The image states that the units of \\( \\mathcal{L}(\\Delta f) \\) are \\( \\text{Hz}^{-1} \\), but it is more typical to plot its logarithm \\( 10\\log_{10}(\\mathcal{L}(\\Delta f)) \\) in dBc/Hz units. This preference for a logarithmic scale in signal processing helps visualize variations across a broad range of values. The term dBc/Hz refers to decibels relative to the carrier per Hertz, a standard unit in spectral density measurements. The \"c\" indicates normalization to the total power in the \"carrier.\" The argument $\\Delta f$ is termed the offset frequency, as $\\mathcal{L}(\\Delta f)$ represents the signal spectrum at a frequency offset from the carrier by $\\Delta \\mathrm{f} \\mathrm{Hz}$.\n\nStrictly, the relationship between $\\mathcal{L}(\\Delta \\mathrm{f})$ and $\\mathrm{S}_{\\phi}(\\mathrm{f})$ is complex, but a simple approximation can be applied where $S_{\\phi}(f)$ is very small. ${ }^{15}$\n\n$$\n\\begin{equation*}\n\\mathcal{L}(\\Delta f) \\approx \\frac{S_{\\phi}(\\Delta f)}{2}, \\quad S_{\\phi}(\\Delta f) \\ll 1 \\tag{19.76}\n\\end{equation*}\n$$\n\nThe factor of two in (19.76) results from the definition of $\\mathcal{L}(\\Delta f)$ in (19.75) ignoring one of $\\mathrm{S}_{\\mathrm{v}}(\\mathrm{f})$'s sidebands. Practical oscillators typically exhibit substantial phase noise at small offset frequencies, as Fig. 19.15 suggests. Thus, (19.76) is applicable to larger offset frequencies where it serves as a reasonable approximation. Combining (19.75) and (19.76) enables estimation of a signal's phase noise by examining its spectrum. Due to this equivalence, phase noise plots of $S_{\\phi}(f)$ are often shown logarithmically with units labeled $\\mathrm{dBc} / \\mathrm{Hz}$, though their units are more accurately $10 \\log _{10}\\left(\\mathrm{rad}^{2} / \\mathrm{Hz}\\right)$.\n\n[^8]\n```"
},
{
    "text": "When designing a digital system, the critical path must have a delay shorter than the smallest possible clock period. Consequently, the probability density function (PDF) of $\\tau_{\\mathrm{k}}$ and its derivatives are also crucial measures of clock purity. Note that spectral representations of jitter generally cannot be used to estimate the $\\operatorname{PDF}$ of $\\tau_{\\mathrm{k}}$.\n\n#### EXAMPLE 19.14\n\nDetermine the PDF of $\\tau_{\\mathrm{k}}$ for a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in additive white gaussian noise, $n(t)$, with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as:\n\n$$\n\\begin{equation*}\nv(t)=A \\sin \\left(\\omega_{0} t\\right)+n(t) \\tag{19.77}\n\\end{equation*}\n$$\n\nAs in Example 19.9, assuming the noise n is much smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A, the absolute jitter is linearly related to $\\mathrm{n}_{\\mathrm{k}}$ by the slope of the sinusoid around its zero crossings.\n\n$$\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}}\n$$\n\nSince $\\mathrm{n}_{\\mathrm{k}}$ is gaussian-distributed, the absolute jitter is also gaussian-distributed with the following PDF:\n\n$$\n\\begin{equation*}\nf_{\\tau}(t)=\\frac{1}{\\sigma_{\\tau} \\sqrt{2 \\pi}} \\exp \\left(\\frac{t^{2}}{2 \\sigma_{\\tau}^{2}}\\right) \\tag{19.78}\n\\end{equation*}\n$$\n\nwhere $\\sigma_{\\tau}$ is given by (19.57).\n\nIf the absolute jitter $\\tau_{\\mathrm{k}}$ has a Gaussian distribution, the period jitter, P-cycle jitter, and adjacent period jitter are also Gaussian-distributed since they are linear derivatives of $\\tau_{\\mathrm{k}}$ given by (19.63), (19.65), and (19.67).\n\n#### EXAMPLE 19.15\n\nIt is required to drive a digital system with a clock period that is always at least 1 ns. The clock has a nominal period $\\mathrm{T}_{0}=1.1 \\mathrm{~ns}$ and a gaussian jitter distribution. If the rms period jitter is 5 ps, what is the probability that any particular clock period will be less than 1 ns?\n\n#### Solution\n\nThe clock period will be less than 1 ns whenever the period jitter $J_{k}<-0.1 \\mathrm{~ns}$. The PDF of $J_{k}$ is,\n\n$$\nf_{J}(t)=\\frac{1}{\\left(5 \\cdot 10^{-12}\\right) \\sqrt{2 \\pi}} \\exp \\left(-\\frac{t^{2}}{5 \\cdot 10^{-25}}\\right)\n$$\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates a Gaussian distribution, commonly representing random noise-induced jitter in clock signals.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph, specifically showing a Gaussian (normal) distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled as \"t,\" representing time, though specific units are not marked, it is implied to be in seconds or a subunit like picoseconds (ps) given the context.\n- The vertical axis is labeled as \"f(t),\" indicating the probability density function value at time \"t.\"\n- The scale appears to be linear.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a symmetrical bell-shaped curve centered around the mean value, typical for Gaussian distributions.\n- The curve smoothly rises to a peak at the center and then symmetrically falls off on both sides, indicating the highest probability density at the mean and decreasing probability density as you move away from the center.\n\n4. **Key Features and Technical Details:**\n- The peak of the curve represents the mean of the distribution, where the jitter is most likely to occur.\n- The width of the curve is determined by the standard deviation, which in this context is 5 ps, indicating how much the periods vary around the mean.\n- The tails of the curve extend towards infinity in both directions, although they approach zero, representing the decreasing probability of extreme jitter values.\n\n5. **Annotations and Specific Data Points:**\n- There are no specific annotations or markers on the graph, but the mean and standard deviation are critical parameters for understanding the distribution.\n- The context provides that we are interested in the area under the curve to the left of -100 ps, which corresponds to the probability of the clock period being less than 1 ns.\n\nimage_name:(b)\ndescription:The graph labeled (b) depicts a sinusoidal jitter distribution. This type of graph is typically used to illustrate how a system's timing can vary due to sinusoidal influences, which is common in clock signal analysis.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph showing a sinusoidal jitter distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled as \"t,\" representing time. The scale is linear.\n- The vertical axis is labeled as \"f(t),\" representing the probability density function.\n\n3. **Overall Behavior and Trends:**\n- The graph has a distinctive U-shape, indicating a sinusoidal distribution. It starts at a high value on the left, decreases to a minimum at the center, and then increases again symmetrically on the right.\n- This shape suggests that the probability density is lower at the mean value and higher at the extremes, typical for sinusoidal distributions.\n\n4. **Key Features and Technical Details:**\n- The graph is symmetric about the vertical axis, indicating that the jitter is equally likely to be positive or negative.\n- The central point, where the graph reaches its minimum, represents the mean of the distribution.\n- The peaks at both ends suggest that the jitter has significant components at these extremes.\n\n5. **Annotations and Specific Data Points:**\n- There are no specific numerical data points or annotations provided in the graph. However, the shape itself is indicative of the nature of the sinusoidal jitter.\n\nThis sinusoidal distribution can be used to model situations where the jitter is influenced by periodic or cyclic factors, affecting the timing of clock signals in a predictable manner.\n\nFig. 19.16 Jitter PDFs: (a) Gaussian distribution; (b) sinusoidal jitter distribution.\n\nThus, the probability that the clock period is less than 1 ns is given by the integral of $f_{J}(t)$ over the range $-\\infty$ to -100 ps.\n\n$$\n\\int_{-\\infty}^{-10^{-10} \\mathrm{~s}} \\mathrm{f}_{\\mathrm{J}}(\\mathrm{t}) \\cdot \\mathrm{dt}=2.75 \\cdot 10^{-89}\n$$\n\nGaussian distributions are typical when jitter arises from random noise. This is because noise processes are generally the superposition of many independent noise events, so the law of large numbers tends to result in an approximately Gaussian distribution of jitter. However, other jitter distributions occur when external interference is a significant factor. For example, Fig. 19.16 compares a Gaussian jitter distribution to the jitter PDF observed with sinusoidal phase modulation. In practice, local variations in supply voltage, digital data patterns, and electromagnetic interference from neighboring signals often superimpose on random circuit noise to produce a complex PDF. Measurement equipment may then decompose the observed jitter PDF into its constituent parts, providing insights into the underlying sources of jitter."
},
{
    "text": "When designing a digital system, the critical path must have a delay shorter than the smallest possible clock period. Consequently, the probability density function (PDF) of $\\tau_{\\mathrm{k}}$ and its derivatives are also crucial metrics for assessing clock purity. Note that spectral representations of jitter generally cannot be used to estimate the $\\operatorname{PDF}$ of $\\tau_{\\mathrm{k}}$.\n\n#### EXAMPLE 19.14\n\nDetermine the PDF of $\\tau_{\\mathrm{k}}$ for a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white gaussian noise, $n(t)$, with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as:\n\n$$\n\\begin{equation*}\nv(t)=A \\sin \\left(\\omega_{0} t\\right)+n(t) \\tag{19.77}\n\\end{equation*}\n$$\n\nAs in Example 19.9, assuming the noise n is significantly smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A, the absolute jitter is linearly related to $\\mathrm{n}_{\\mathrm{k}}$ by the slope of the sinusoid around its zero crossings.\n\n$$\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}}\n$$\n\nSince $\\mathrm{n}_{\\mathrm{k}}$ is gaussian-distributed, the absolute jitter is also gaussian-distributed with the following PDF:\n\n$$\n\\begin{equation*}\nf_{\\tau}(t)=\\frac{1}{\\sigma_{\\tau} \\sqrt{2 \\pi}} \\exp \\left(\\frac{t^{2}}{2 \\sigma_{\\tau}^{2}}\\right) \\tag{19.78}\n\\end{equation*}\n$$\n\nwhere $\\sigma_{\\tau}$ is defined by (19.57).\n\nIf the absolute jitter $\\tau_{\\mathrm{k}}$ follows a Gaussian distribution, then the period jitter, P-cycle jitter, and adjacent period jitter are also Gaussian-distributed, as they are linear derivatives of $\\tau_{\\mathrm{k}}$ given by (19.63), (19.65), and (19.67).\n\n#### EXAMPLE 19.15\n\nIt is required to drive a digital system with a clock period that is always at least 1 ns. The clock has a nominal period $\\mathrm{T}_{0}=1.1 \\mathrm{~ns}$ and a gaussian jitter distribution. If the rms period jitter is 5 ps, what is the probability that any given clock period will be less than 1 ns?\n\n#### Solution\n\nThe clock period will be less than 1 ns whenever the period jitter $J_{k}<-0.1 \\mathrm{~ns}$. The PDF of $J_{k}$ is,\n\n$$\nf_{J}(t)=\\frac{1}{\\left(5 \\cdot 10^{-12}\\right) \\sqrt{2 \\pi}} \\exp \\left(-\\frac{t^{2}}{5 \\cdot 10^{-25}}\\right)\n$$\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates a Gaussian distribution, which is a typical representation of random noise-induced jitter in clock signals.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph, specifically showing a Gaussian (normal) distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with implied units in seconds or subunits like picoseconds (ps) given the context.\n- The vertical axis is labeled \"f(t),\" indicating the probability density function value at time \"t.\"\n- The scale is linear.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a symmetrical bell-shaped curve centered around the mean value, characteristic of Gaussian distributions.\n- The curve smoothly rises to a peak at the center and then symmetrically declines on both sides, indicating the highest probability density at the mean and decreasing probability density as you move away from the center.\n\n4. **Key Features and Technical Details:**\n- The peak of the curve represents the mean of the distribution, where jitter is most likely to occur.\n- The width of the curve is determined by the standard deviation, which is 5 ps in this context, indicating the variability of periods around the mean.\n- The tails of the curve extend towards infinity in both directions, approaching zero, representing the decreasing probability of extreme jitter values.\n\n5. **Annotations and Specific Data Points:**\n- No specific annotations or markers are present on the graph, but the mean and standard deviation are essential parameters for understanding the distribution.\n- The context indicates interest in the area under the curve to the left of -100 ps, corresponding to the probability of the clock period being less than 1 ns.\n\nimage_name:(b)\ndescription:The graph labeled \"(b)\" depicts a sinusoidal jitter distribution. This type of graph is commonly used to illustrate how a system's timing can vary due to sinusoidal influences, a typical scenario in clock signal analysis.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph showing a sinusoidal jitter distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with a linear scale.\n- The vertical axis is labeled \"f(t),\" representing the probability density function.\n\n3. **Overall Behavior and Trends:**\n- The graph has a U-shape, indicating a sinusoidal distribution. It starts at a high value on the left, decreases to a minimum at the center, and then increases symmetrically on the right.\n- This shape suggests lower probability density at the mean value and higher probability density at the extremes, typical for sinusoidal distributions.\n\n4. **Key Features and Technical Details:**\n- The graph is symmetric about the vertical axis, indicating equal likelihood of positive or negative jitter.\n- The central point, where the graph reaches its minimum, represents the mean of the distribution.\n- The peaks at both ends suggest significant jitter components at these extremes.\n\n5. **Annotations and Specific Data Points:**\n- No specific numerical data points or annotations are provided, but the shape itself indicates the nature of the sinusoidal jitter.\n\nThis sinusoidal distribution can model situations where jitter is influenced by periodic or cyclic factors, affecting the timing of clock signals in a predictable manner.\n\nFig. 19.16 Jitter PDFs: (a) Gaussian distribution; (b) sinusoidal jitter distribution.\n\nThus, the probability that the clock period is less than 1 ns is given by the integral of $f_{J}(t)$ over the range $-\\infty$ to -100 ps.\n\n$$\n\\int_{-\\infty}^{-10^{-10} \\mathrm{~s}} \\mathrm{f}_{\\mathrm{J}}(\\mathrm{t}) \\cdot \\mathrm{dt}=2.75 \\cdot 10^{-89}\n$$\n\nGaussian distributions are prevalent when jitter arises from random noise. This is because noise processes typically result from the superposition of many independent noise events, leading to an approximately gaussian distribution of the resulting jitter due to the law of large numbers. However, other jitter distributions occur when external interference is a significant factor. For instance, Fig. 19.16 compares a gaussian jitter distribution to the jitter PDF observed with sinusoidal phase modulation. In practice, local variations in supply voltage, digital data patterns, and electromagnetic interference from neighboring signals often overlay on random circuit noise, producing a complex PDF. Measurement equipment can then decompose the observed jitter PDF into its constituent parts, providing insights into the underlying sources of jitter."
},
{
    "text": "When designing a digital system, the critical path must have a delay shorter than the smallest possible clock period. Consequently, the probability density function (PDF) of $\\tau_{\\mathrm{k}}$ and its derivatives are also crucial indicators of clock purity. Note that spectral representations of jitter generally cannot be used to estimate the $\\operatorname{PDF}$ of $\\tau_{\\mathrm{k}}$.\n\n#### EXAMPLE 19.14\n\nDetermine the PDF of $\\tau_{\\mathrm{k}}$ for a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in the presence of additive white gaussian noise, $n(t)$, with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as:\n\n$$\n\\begin{equation*}\nv(t)=A \\sin \\left(\\omega_{0} t\\right)+n(t) \\tag{19.77}\n\\end{equation*}\n$$\n\nAs in Example 19.9, assuming the noise n is significantly smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A, the absolute jitter is linearly related to $\\mathrm{n}_{\\mathrm{k}}$ by the slope of the sinusoid at its zero crossings.\n\n$$\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}}\n$$\n\nSince $\\mathrm{n}_{\\mathrm{k}}$ is gaussian-distributed, the absolute jitter also follows a gaussian distribution with the following PDF:\n\n$$\n\\begin{equation*}\nf_{\\tau}(t)=\\frac{1}{\\sigma_{\\tau} \\sqrt{2 \\pi}} \\exp \\left(\\frac{t^{2}}{2 \\sigma_{\\tau}^{2}}\\right) \\tag{19.78}\n\\end{equation*}\n$$\n\nwhere $\\sigma_{\\tau}$ is defined by (19.57).\n\nIf the absolute jitter $\\tau_{\\mathrm{k}}$ has a Gaussian distribution, then the period jitter, P-cycle jitter, and adjacent period jitter are also Gaussian-distributed, as they are linear derivatives of $\\tau_{\\mathrm{k}}$ given by (19.63), (19.65), and (19.67).\n\n#### EXAMPLE 19.15\n\nIt is required to drive a digital system with a clock period that is always at least 1 ns. The clock has a nominal period $\\mathrm{T}_{0}=1.1 \\mathrm{~ns}$ and a gaussian jitter distribution. If the rms period jitter is 5 ps, what is the probability that any given clock period will be less than 1 ns?\n\n#### Solution\n\nThe clock period will be less than 1 ns whenever the period jitter $J_{k}<-0.1 \\mathrm{~ns}$. The PDF of $J_{k}$ is,\n\n$$\nf_{J}(t)=\\frac{1}{\\left(5 \\cdot 10^{-12}\\right) \\sqrt{2 \\pi}} \\exp \\left(-\\frac{t^{2}}{5 \\cdot 10^{-25}}\\right)\n$$\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates a Gaussian distribution, a typical representation of random noise-induced jitter in clock signals.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph, specifically showing a Gaussian (normal) distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with implied units in seconds or picoseconds (ps) given the context.\n- The vertical axis is labeled \"f(t),\" indicating the probability density function value at time \"t.\"\n- The scale is linear.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a symmetrical bell-shaped curve centered around the mean value, characteristic of Gaussian distributions.\n- The curve peaks at the center and symmetrically decreases on both sides, indicating the highest probability density at the mean and decreasing probability density further from the center.\n\n4. **Key Features and Technical Details:**\n- The peak represents the mean of the distribution, where jitter is most likely to occur.\n- The curve's width is determined by the standard deviation, which is 5 ps, indicating the variability of periods around the mean.\n- The tails extend towards infinity, approaching zero, representing the decreasing probability of extreme jitter values.\n\n5. **Annotations and Specific Data Points:**\n- No specific annotations or markers are present, but the mean and standard deviation are critical for understanding the distribution.\n- The area under the curve to the left of -100 ps corresponds to the probability of the clock period being less than 1 ns.\n\nimage_name:(b)\ndescription:The graph labeled \"(b)\" shows a sinusoidal jitter distribution. This type of graph illustrates how a system's timing can vary due to sinusoidal influences, common in clock signal analysis.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph depicting a sinusoidal jitter distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with a linear scale.\n- The vertical axis is labeled \"f(t),\" representing the probability density function.\n\n3. **Overall Behavior and Trends:**\n- The graph has a U-shape, typical of sinusoidal distributions. It starts high on the left, decreases to a minimum at the center, and increases symmetrically on the right.\n- This shape indicates lower probability density at the mean and higher density at the extremes.\n\n4. **Key Features and Technical Details:**\n- The graph is symmetric about the vertical axis, indicating equal likelihood of positive or negative jitter.\n- The central minimum represents the mean of the distribution.\n- The peaks at both ends suggest significant jitter components at these extremes.\n\n5. **Annotations and Specific Data Points:**\n- No specific numerical data points or annotations are provided, but the shape indicates the nature of the sinusoidal jitter.\n\nThis sinusoidal distribution models situations where jitter is influenced by periodic or cyclic factors, affecting clock signal timing predictably.\n\nFig. 19.16 Jitter PDFs: (a) Gaussian distribution; (b) sinusoidal jitter distribution.\n\nThus, the probability that the clock period is less than 1 ns is given by the integral of $f_{J}(t)$ over the range $-\\infty$ to -100 ps.\n\n$$\n\\int_{-\\infty}^{-10^{-10} \\mathrm{~s}} \\mathrm{f}_{\\mathrm{J}}(\\mathrm{t}) \\cdot \\mathrm{dt}=2.75 \\cdot 10^{-89}\n$$\n\nGaussian distributions are common when jitter results from random noise, as noise processes typically involve the superposition of many independent noise events, leading to an approximately gaussian distribution due to the law of large numbers. However, other jitter distributions occur when external interference is significant. For instance, Fig. 19.16 compares a gaussian jitter distribution with the jitter PDF observed under sinusoidal phase modulation. In practice, local variations in supply voltage, digital data patterns, and electromagnetic interference from neighboring signals often combine with random circuit noise to produce a complex PDF. Measurement equipment can then decompose the observed jitter PDF into its constituent parts, providing insights into the underlying sources of jitter."
},
{
    "text": "When designing a digital system, the critical path must have a delay shorter than the smallest possible clock period. Therefore, the probability density function (PDF) of $\\tau_{\\mathrm{k}}$ and its derivatives are also crucial measures of clock purity. Note that spectral representations of jitter generally cannot be used to estimate the $\\operatorname{PDF}$ of $\\tau_{\\mathrm{k}}$.\n\n#### EXAMPLE 19.14\n\nDetermine the PDF of $\\tau_{\\mathrm{k}}$ for a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in additive white gaussian noise, $n(t)$, with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as:\n\n$$\n\\begin{equation*}\nv(t)=A \\sin \\left(\\omega_{0} t\\right)+n(t) \\tag{19.77}\n\\end{equation*}\n$$\n\nAs in Example 19.9, assuming the noise n is much smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A, the absolute jitter is linearly related to $\\mathrm{n}_{\\mathrm{k}}$ by the slope of the sinusoid around its zero crossings.\n\n$$\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}}\n$$\n\nSince $\\mathrm{n}_{\\mathrm{k}}$ is gaussian-distributed, the absolute jitter is also gaussian-distributed with the following PDF:\n\n$$\n\\begin{equation*}\nf_{\\tau}(t)=\\frac{1}{\\sigma_{\\tau} \\sqrt{2 \\pi}} \\exp \\left(\\frac{t^{2}}{2 \\sigma_{\\tau}^{2}}\\right) \\tag{19.78}\n\\end{equation*}\n$$\n\nwhere $\\sigma_{\\tau}$ is given by (19.57).\n\nIf the absolute jitter $\\tau_{\\mathrm{k}}$ has a Gaussian distribution, the period jitter, P-cycle jitter, and adjacent period jitter are all also Gaussian-distributed since they are linear derivatives of $\\tau_{\\mathrm{k}}$ given by (19.63), (19.65), and (19.67).\n\n#### EXAMPLE 19.15\n\nIt is required to drive a digital system with a clock period that is always at least 1 ns. The clock has a nominal period $\\mathrm{T}_{0}=1.1 \\mathrm{~ns}$ and a gaussian jitter distribution. If the rms period jitter is 5 ps, what is the probability that any particular clock period will be less than 1 ns?\n\n#### Solution\n\nThe clock period will be less than 1 ns whenever the period jitter $J_{k}<-0.1 \\mathrm{~ns}$. The PDF of $J_{k}$ is,\n\n$$\nf_{J}(t)=\\frac{1}{\\left(5 \\cdot 10^{-12}\\right) \\sqrt{2 \\pi}} \\exp \\left(-\\frac{t^{2}}{5 \\cdot 10^{-25}}\\right)\n$$\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates a Gaussian distribution, which is a typical representation of random noise-induced jitter in clock signals.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph, specifically showing a Gaussian (normal) distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with implied units in seconds or subunits like picoseconds (ps) given the context.\n- The vertical axis is labeled \"f(t),\" indicating the probability density function value at time \"t.\"\n- The scale is linear.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a symmetrical bell-shaped curve centered around the mean value, characteristic of Gaussian distributions.\n- The curve rises smoothly to a peak at the center and then symmetrically decreases on both sides, indicating the highest probability density at the mean and decreasing probability density as you move away from the center.\n\n4. **Key Features and Technical Details:**\n- The peak of the curve represents the mean of the distribution, where jitter is most likely to occur.\n- The width of the curve is determined by the standard deviation, which is 5 ps in this context, indicating the variability of periods around the mean.\n- The tails of the curve extend towards infinity in both directions, approaching zero, representing the decreasing probability of extreme jitter values.\n\n5. **Annotations and Specific Data Points:**\n- No specific annotations or markers are present on the graph, but the mean and standard deviation are critical parameters for understanding the distribution.\n- The context indicates interest in the area under the curve to the left of -100 ps, corresponding to the probability of the clock period being less than 1 ns.\n\nimage_name:(b)\ndescription:The graph labeled \"(b)\" shows a sinusoidal jitter distribution. This type of graph is commonly used to illustrate how a system's timing can vary due to sinusoidal influences, a typical scenario in clock signal analysis.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph depicting a sinusoidal jitter distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with a linear scale.\n- The vertical axis is labeled \"f(t),\" representing the probability density function.\n\n3. **Overall Behavior and Trends:**\n- The graph has a U-shape, typical of sinusoidal distributions. It starts at a high value on the left, decreases to a minimum at the center, and then increases symmetrically on the right.\n- This shape indicates lower probability density at the mean value and higher probability density at the extremes.\n\n4. **Key Features and Technical Details:**\n- The graph is symmetric about the vertical axis, suggesting that the jitter is equally likely to be positive or negative.\n- The central point, where the graph reaches its minimum, represents the mean of the distribution.\n- The peaks at both ends indicate significant jitter components at these extremes.\n\n5. **Annotations and Specific Data Points:**\n- No specific numerical data points or annotations are provided on the graph. However, the shape itself indicates the nature of the sinusoidal jitter.\n\nThis sinusoidal distribution can model situations where jitter is influenced by periodic or cyclic factors, affecting the timing of clock signals in a predictable manner.\n\nFig. 19.16 Jitter PDFs: (a) Gaussian distribution; (b) sinusoidal jitter distribution.\n\nThus, the probability that the clock period is less than 1 ns is given by the integral of $f_{J}(t)$ over the range $-\\infty$ to -100 ps.\n\n$$\n\\int_{-\\infty}^{-10^{-10} \\mathrm{~s}} \\mathrm{f}_{\\mathrm{J}}(\\mathrm{t}) \\cdot \\mathrm{dt}=2.75 \\cdot 10^{-89}\n$$\n\nGaussian distributions are common when jitter arises from random noise. This is because noise processes are generally the superposition of many independent noise events, leading to an approximately Gaussian distribution of the resulting jitter due to the law of large numbers. However, other jitter distributions occur when external interference is a significant factor. For instance, Fig. 19.16 compares a Gaussian jitter distribution to the jitter PDF observed with sinusoidal phase modulation. In practice, local variations in supply voltage, digital data patterns, and electromagnetic interference from neighboring signals often combine with random circuit noise to produce a complex PDF. Measurement equipment can then decompose the observed jitter PDF into its constituent parts, providing insights into the underlying sources of jitter."
},
{
    "text": "When designing a digital system, the critical path must have a delay shorter than the smallest possible clock period. Therefore, the probability density function (PDF) of $\\tau_{\\mathrm{k}}$ and its derivatives are also important indicators of clock purity. Note that spectral representations of jitter generally cannot be used to estimate the $\\operatorname{PDF}$ of $\\tau_{\\mathrm{k}}$.\n\n#### EXAMPLE 19.14\n\nDetermine the PDF of $\\tau_{\\mathrm{k}}$ for a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in additive white gaussian noise, $n(t)$, with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as:\n\n$$\n\\begin{equation*}\nv(t)=A \\sin \\left(\\omega_{0} t\\right)+n(t) \\tag{19.77}\n\\end{equation*}\n$$\n\nAs in Example 19.9, assuming the noise n is much smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A, the absolute jitter is linearly related to $\\mathrm{n}_{\\mathrm{k}}$ by the slope of the sinusoid around its zero crossings.\n\n$$\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}}\n$$\n\nSince $\\mathrm{n}_{\\mathrm{k}}$ is gaussian-distributed, the absolute jitter is also gaussian-distributed with the following PDF:\n\n$$\n\\begin{equation*}\nf_{\\tau}(t)=\\frac{1}{\\sigma_{\\tau} \\sqrt{2 \\pi}} \\exp \\left(\\frac{t^{2}}{2 \\sigma_{\\tau}^{2}}\\right) \\tag{19.78}\n\\end{equation*}\n$$\n\nwhere $\\sigma_{\\tau}$ is given by (19.57).\n\nIf the absolute jitter $\\tau_{\\mathrm{k}}$ has a Gaussian distribution, the period jitter, P-cycle jitter, and adjacent period jitter are all also Gaussian-distributed since they are linear derivatives of $\\tau_{\\mathrm{k}}$ given by (19.63), (19.65), and (19.67).\n\n#### EXAMPLE 19.15\n\nIt is required to drive a digital system with a clock period that is always at least 1 ns. The clock has a nominal period $\\mathrm{T}_{0}=1.1 \\mathrm{~ns}$ and a gaussian jitter distribution. If the rms period jitter is 5 ps, what is the probability that any particular clock period will be less than 1 ns?\n\n#### Solution\n\nThe clock period will be less than 1 ns whenever the period jitter $J_{k}<-0.1 \\mathrm{~ns}$. The PDF of $J_{k}$ is,\n\n$$\nf_{J}(t)=\\frac{1}{\\left(5 \\cdot 10^{-12}\\right) \\sqrt{2 \\pi}} \\exp \\left(-\\frac{t^{2}}{5 \\cdot 10^{-25}}\\right)\n$$\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates a Gaussian distribution, commonly used to represent random noise-induced jitter in clock signals.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph, specifically showing a Gaussian (normal) distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with implied units in seconds or picoseconds (ps) given the context.\n- The vertical axis is labeled \"f(t),\" indicating the probability density function value at time \"t.\"\n- The scale is linear.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a symmetrical bell-shaped curve centered around the mean value, typical for Gaussian distributions.\n- The curve peaks at the center and symmetrically decreases on both sides, indicating the highest probability density at the mean and decreasing probability density further from the center.\n\n4. **Key Features and Technical Details:**\n- The peak represents the mean of the distribution, where jitter is most likely to occur.\n- The curve's width is determined by the standard deviation, which is 5 ps, indicating the variability of periods around the mean.\n- The tails extend towards infinity, approaching zero, representing the decreasing probability of extreme jitter values.\n\n5. **Annotations and Specific Data Points:**\n- No specific annotations or markers are present, but the mean and standard deviation are crucial for understanding the distribution.\n- The area under the curve to the left of -100 ps corresponds to the probability of the clock period being less than 1 ns.\n\nimage_name:(b)\ndescription:The graph labeled (b) shows a sinusoidal jitter distribution. This type of graph is used to illustrate how a system's timing can vary due to sinusoidal influences, common in clock signal analysis.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph depicting a sinusoidal jitter distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with a linear scale.\n- The vertical axis is labeled \"f(t),\" representing the probability density function.\n\n3. **Overall Behavior and Trends:**\n- The graph has a U-shape, indicating a sinusoidal distribution. It starts high on the left, decreases to a minimum at the center, and increases symmetrically on the right.\n- This shape suggests lower probability density at the mean and higher density at the extremes, typical for sinusoidal distributions.\n\n4. **Key Features and Technical Details:**\n- The graph is symmetric about the vertical axis, indicating equal likelihood of positive or negative jitter.\n- The central minimum represents the mean of the distribution.\n- The peaks at both ends indicate significant jitter components at these extremes.\n\n5. **Annotations and Specific Data Points:**\n- No specific numerical data points or annotations are provided, but the shape indicates the nature of the sinusoidal jitter.\n\nThis sinusoidal distribution models situations where jitter is influenced by periodic or cyclic factors, affecting clock signal timing predictably.\n\nFig. 19.16 Jitter PDFs: (a) Gaussian distribution; (b) sinusoidal jitter distribution.\n\nThus, the probability that the clock period is less than 1 ns is given by the integral of $f_{J}(t)$ over the range $-\\infty$ to -100 ps.\n\n$$\n\\int_{-\\infty}^{-10^{-10} \\mathrm{~s}} \\mathrm{f}_{\\mathrm{J}}(\\mathrm{t}) \\cdot \\mathrm{dt}=2.75 \\cdot 10^{-89}\n$$\n\nGaussian distributions are common when jitter arises from random noise, as noise processes are typically the superposition of many independent noise events, leading to an approximately Gaussian distribution due to the law of large numbers. However, other jitter distributions occur when external interference is significant. For instance, Fig. 19.16 compares a Gaussian jitter distribution to a jitter PDF observed with sinusoidal phase modulation. In practice, local variations in supply voltage, digital data patterns, and electromagnetic interference from neighboring signals often combine with random circuit noise to produce a complex PDF. Measurement equipment can then decompose the observed jitter PDF into its constituent parts, providing insights into the underlying sources of jitter."
},
{
    "text": "When designing a digital system, the critical path must have a delay shorter than the smallest possible clock period. Therefore, the probability density function (PDF) of $\\tau_{\\mathrm{k}}$ and its derivatives are also crucial measures of clock purity. Note that spectral representations of jitter generally cannot be used to estimate the $\\operatorname{PDF}$ of $\\tau_{\\mathrm{k}}$.\n\n#### EXAMPLE 19.14\n\nDetermine the PDF of $\\tau_{\\mathrm{k}}$ for a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in additive white gaussian noise, $n(t)$, with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as:\n\n$$\n\\begin{equation*}\nv(t)=A \\sin \\left(\\omega_{0} t\\right)+n(t) \\tag{19.77}\n\\end{equation*}\n$$\n\nAs in Example 19.9, assuming the noise n is much smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A, the absolute jitter is linearly related to $\\mathrm{n}_{\\mathrm{k}}$ by the slope of the sinusoid around its zero crossings.\n\n$$\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}}\n$$\n\nSince $\\mathrm{n}_{\\mathrm{k}}$ is gaussian-distributed, the absolute jitter is also gaussian-distributed with the following PDF:\n\n$$\n\\begin{equation*}\nf_{\\tau}(t)=\\frac{1}{\\sigma_{\\tau} \\sqrt{2 \\pi}} \\exp \\left(\\frac{t^{2}}{2 \\sigma_{\\tau}^{2}}\\right) \\tag{19.78}\n\\end{equation*}\n$$\n\nwhere $\\sigma_{\\tau}$ is given by (19.57).\n\nIf the absolute jitter $\\tau_{\\mathrm{k}}$ has a Gaussian distribution, the period jitter, P-cycle jitter, and adjacent period jitter are also Gaussian-distributed since they are linear derivatives of $\\tau_{\\mathrm{k}}$ given by (19.63), (19.65), and (19.67).\n\n#### EXAMPLE 19.15\n\nIt is required to drive a digital system with a clock period that is always at least 1 ns. The clock has a nominal period $\\mathrm{T}_{0}=1.1 \\mathrm{~ns}$ and a gaussian jitter distribution. If the rms period jitter is 5 ps, what is the probability that any particular clock period will be less than 1 ns?\n\n#### Solution\n\nThe clock period will be less than 1 ns whenever the period jitter $J_{k}<-0.1 \\mathrm{~ns}$. The PDF of $J_{k}$ is,\n\n$$\nf_{J}(t)=\\frac{1}{\\left(5 \\cdot 10^{-12}\\right) \\sqrt{2 \\pi}} \\exp \\left(-\\frac{t^{2}}{5 \\cdot 10^{-25}}\\right)\n$$\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates a Gaussian distribution, which is a typical representation of random noise-induced jitter in clock signals.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph, specifically showing a Gaussian (normal) distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled as \"t,\" representing time, with implied units in seconds or subunits like picoseconds (ps) given the context.\n- The vertical axis is labeled as \"f(t),\" indicating the probability density function value at time \"t.\"\n- The scale is linear.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a symmetrical bell-shaped curve centered around the mean value, characteristic of Gaussian distributions.\n- The curve smoothly rises to a peak at the center and then symmetrically decreases on both sides, indicating the highest probability density at the mean and decreasing probability density as you move away from the center.\n\n4. **Key Features and Technical Details:**\n- The peak of the curve represents the mean of the distribution, where the jitter is most likely to occur.\n- The width of the curve is determined by the standard deviation, which is 5 ps in this context, indicating the variability of periods around the mean.\n- The tails of the curve extend towards infinity in both directions, approaching zero, representing the decreasing probability of extreme jitter values.\n\n5. **Annotations and Specific Data Points:**\n- There are no specific annotations or markers on the graph, but the mean and standard deviation are essential parameters for understanding the distribution.\n- The context indicates interest in the area under the curve to the left of -100 ps, corresponding to the probability of the clock period being less than 1 ns.\n\nimage_name:(b)\ndescription:The graph labeled (b) depicts a sinusoidal jitter distribution. This type of graph is commonly used to illustrate how a system's timing can vary due to sinusoidal influences, a typical scenario in clock signal analysis.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph showing a sinusoidal jitter distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled as \"t,\" representing time, with a linear scale.\n- The vertical axis is labeled as \"f(t),\" representing the probability density function.\n\n3. **Overall Behavior and Trends:**\n- The graph has a distinctive U-shape, indicating a sinusoidal distribution. It starts at a high value on the left, decreases to a minimum at the center, and then increases symmetrically on the right.\n- This shape suggests that the probability density is lower at the mean value and higher at the extremes, typical for sinusoidal distributions.\n\n4. **Key Features and Technical Details:**\n- The graph is symmetric about the vertical axis, indicating that the jitter is equally likely to be positive or negative.\n- The central point, where the graph reaches its minimum, represents the mean of the distribution.\n- The peaks at both ends suggest significant jitter components at these extremes.\n\n5. **Annotations and Specific Data Points:**\n- There are no specific numerical data points or annotations on the graph. However, the shape itself indicates the nature of the sinusoidal jitter.\n\nThis sinusoidal distribution can model situations where the jitter is influenced by periodic or cyclic factors, affecting the timing of clock signals in a predictable manner.\n\nFig. 19.16 Jitter PDFs: (a) Gaussian distribution; (b) sinusoidal jitter distribution.\n\nThus, the probability that the clock period is less than 1 ns is given by the integral of $f_{J}(t)$ over the range $-\\infty$ to -100 ps.\n\n$$\n\\int_{-\\infty}^{-10^{-10} \\mathrm{~s}} \\mathrm{f}_{\\mathrm{J}}(\\mathrm{t}) \\cdot \\mathrm{dt}=2.75 \\cdot 10^{-89}\n$$\n\nGaussian distributions are common when jitter arises from random noise. This is because noise processes are generally the superposition of many independent noise events, leading to an approximately Gaussian distribution of the resulting jitter due to the law of large numbers. However, other jitter distributions occur when external interference is a significant factor. For instance, Fig. 19.16 compares a Gaussian jitter distribution to the jitter PDF observed with sinusoidal phase modulation. In practice, local variations in supply voltage, digital data patterns, and electromagnetic interference from neighboring signals often superimpose on random circuit noise, producing a complex PDF. Measurement equipment can then decompose the observed jitter PDF into its constituent parts, providing insights into the underlying sources of jitter."
},
{
    "text": "When designing a digital system, the critical path must have a delay shorter than the smallest possible clock period. Therefore, the probability density function (PDF) of $\\tau_{\\mathrm{k}}$ and its derivatives are also crucial measures of clock purity. Note that spectral representations of jitter generally cannot be used to estimate the $\\operatorname{PDF}$ of $\\tau_{\\mathrm{k}}$.\n\n#### EXAMPLE 19.14\n\nDetermine the PDF of $\\tau_{\\mathrm{k}}$ for a sinusoid with amplitude A and angular frequency $\\omega_{0}$ in additive white gaussian noise, $n(t)$, with variance $\\sigma_{n}^{2}$.\n\n#### Solution\n\nThe sinusoid can be described as:\n\n$$\n\\begin{equation*}\nv(t)=A \\sin \\left(\\omega_{0} t\\right)+n(t) \\tag{19.77}\n\\end{equation*}\n$$\n\nAs in Example 19.9, assuming the noise n is much smaller than the amplitude of oscillation, $\\sigma_{\\mathrm{n}}$ « A, the absolute jitter is linearly related to $\\mathrm{n}_{\\mathrm{k}}$ by the slope of the sinusoid around its zero crossings.\n\n$$\n\\tau_{\\mathrm{k}} \\cong \\frac{\\mathrm{n}_{\\mathrm{k}}}{\\mathrm{~A} \\omega_{0}}\n$$\n\nSince $\\mathrm{n}_{\\mathrm{k}}$ is gaussian-distributed, the absolute jitter is also gaussian-distributed with the following PDF:\n\n$$\n\\begin{equation*}\nf_{\\tau}(t)=\\frac{1}{\\sigma_{\\tau} \\sqrt{2 \\pi}} \\exp \\left(\\frac{t^{2}}{2 \\sigma_{\\tau}^{2}}\\right) \\tag{19.78}\n\\end{equation*}\n$$\n\nwhere $\\sigma_{\\tau}$ is given by (19.57).\n\nIf the absolute jitter $\\tau_{\\mathrm{k}}$ has a Gaussian distribution, the period jitter, P-cycle jitter, and adjacent period jitter are also Gaussian-distributed since they are linear derivatives of $\\tau_{\\mathrm{k}}$ given by (19.63), (19.65), and (19.67).\n\n#### EXAMPLE 19.15\n\nIt is required to drive a digital system with a clock period that is always at least 1 ns. The clock has a nominal period $\\mathrm{T}_{0}=1.1 \\mathrm{~ns}$ and a gaussian jitter distribution. If the rms period jitter is 5 ps, what is the probability that any particular clock period will be less than 1 ns?\n\n#### Solution\n\nThe clock period will be less than 1 ns whenever the period jitter $J_{k}<-0.1 \\mathrm{~ns}$. The PDF of $J_{k}$ is,\n\n$$\nf_{J}(t)=\\frac{1}{\\left(5 \\cdot 10^{-12}\\right) \\sqrt{2 \\pi}} \\exp \\left(-\\frac{t^{2}}{5 \\cdot 10^{-25}}\\right)\n$$\n\nimage_name:(a)\ndescription:The graph labeled \"(a)\" illustrates a Gaussian distribution, commonly representing random noise-induced jitter in clock signals.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph, specifically showing a Gaussian (normal) distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with implied units in seconds or picoseconds (ps) given the context.\n- The vertical axis is labeled \"f(t),\" indicating the probability density function value at time \"t.\"\n- The scale is linear.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a symmetrical bell-shaped curve centered around the mean value, typical for Gaussian distributions.\n- The curve smoothly rises to a peak at the center and then symmetrically decreases on both sides, indicating the highest probability density at the mean and decreasing probability density further from the center.\n\n4. **Key Features and Technical Details:**\n- The peak represents the mean of the distribution, where jitter is most likely to occur.\n- The curve's width is determined by the standard deviation, which is 5 ps in this context, indicating the variability of periods around the mean.\n- The tails extend towards infinity in both directions, approaching zero, representing the decreasing probability of extreme jitter values.\n\n5. **Annotations and Specific Data Points:**\n- No specific annotations or markers are present on the graph, but the mean and standard deviation are critical for understanding the distribution.\n- The area under the curve to the left of -100 ps is of interest, corresponding to the probability of the clock period being less than 1 ns.\n\nimage_name:(b)\ndescription:The graph labeled \"(b)\" depicts a sinusoidal jitter distribution. This type of graph is used to illustrate how a system's timing can vary due to sinusoidal influences, common in clock signal analysis.\n\n1. **Type of Graph and Function:**\n- This is a probability density function (PDF) graph showing a sinusoidal jitter distribution.\n\n2. **Axes Labels and Units:**\n- The horizontal axis is labeled \"t,\" representing time, with a linear scale.\n- The vertical axis is labeled \"f(t),\" representing the probability density function.\n\n3. **Overall Behavior and Trends:**\n- The graph has a U-shape, typical for sinusoidal distributions. It starts high on the left, decreases to a minimum at the center, and then increases symmetrically on the right.\n- This shape indicates lower probability density at the mean and higher probability density at the extremes.\n\n4. **Key Features and Technical Details:**\n- The graph is symmetric about the vertical axis, suggesting equal likelihood of positive or negative jitter.\n- The central minimum represents the mean of the distribution.\n- The peaks at both ends indicate significant jitter components at these extremes.\n\n5. **Annotations and Specific Data Points:**\n- No specific numerical data points or annotations are provided, but the shape reflects the nature of sinusoidal jitter.\n\nThis sinusoidal distribution models scenarios where jitter is influenced by periodic or cyclic factors, affecting clock signal timing predictably.\n\nFig. 19.16 Jitter PDFs: (a) Gaussian distribution; (b) sinusoidal jitter distribution.\n\nThus, the probability that the clock period is less than 1 ns is given by the integral of $f_{J}(t)$ over the range $-\\infty$ to -100 ps.\n\n$$\n\\int_{-\\infty}^{-10^{-10} \\mathrm{~s}} \\mathrm{f}_{\\mathrm{J}}(\\mathrm{t}) \\cdot \\mathrm{dt}=2.75 \\cdot 10^{-89}\n$$\n\nGaussian distributions are typical when jitter arises from random noise. This is because noise processes are generally the superposition of many independent noise events, leading to an approximately Gaussian distribution of the resulting jitter by the law of large numbers. However, other jitter distributions occur when external interference is significant. For instance, Fig. 19.16 compares a Gaussian jitter distribution to the jitter PDF observed with sinusoidal phase modulation. In practice, local variations in supply voltage, digital data patterns, and electromagnetic interference from neighboring signals often combine with random circuit noise to produce a complex PDF. Measurement equipment can then decompose the observed jitter PDF into its constituent parts, providing insights into the underlying sources of jitter."
}
]