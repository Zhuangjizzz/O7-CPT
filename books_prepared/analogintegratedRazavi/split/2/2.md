# CHAPTER 2 Basic MOS Device Physics

In studying the design of integrated circuits (ICs), one of two extreme approaches can be taken, (1) begin with quantum mechanics and understand solid-state physics, semiconductor device physics, device modeling, and finally the design of circuits; or (2) treat each semiconductor device as a black box whose behavior is described in terms of its terminal voltages and currents and design circuits with little attention to the internal operation of the device. Experience shows that neither approach is optimum. In the first case, the reader cannot see the relevance of all the physics to designing circuits, and in the second, he or she is constantly mystified by the contents of the black box.

In today's IC industry, a solid understanding of semiconductor devices is essential—more so in analog design than in digital design, because in the former, transistors are not considered to be simple switches, and many of their second-order effects directly impact the performance. Furthermore, as each new generation of IC technologies scales the devices, these effects become more significant. Since the designer must often decide which effects can be neglected in a given circuit, insight into device operation proves invaluable.

In this chapter, we study the physics of MOSFETs at an elementary level, covering the bare minimum that is necessary for basic analog design. The ultimate goal is still to develop a circuit model for each device by formulating its operation, but this is accomplished through a good understanding of the underlying principles. After studying many analog circuits in Chapters 3 through 14 and gaining motivation for a deeper understanding of devices, we return to the subject in Chapter 17 and deal with other aspects of MOS operation.

We begin our study with the structure of MOS transistors and derive their I/V characteristics. Next, we describe second-order effects such as body effect, channel-length modulation, and subthreshold conduction. We then identify the parasitic capacitances of MOSFETs, derive a small-signal model, and present a simple SPICE model. We assume that the reader is familiar with such basic concepts as doping, mobility, and $p n$ junctions.

## 2.1 ■ General Considerations

### 2.1.1 MOSFET as a Switch

Before delving into the actual operation of the MOSFET, we consider a simplistic model of the device so as to gain a feel for what the transistor is expected to be and which aspects of its behavior are important.

Shown in Fig. 2.1 is the symbol for an $n$-type MOSFET, revealing three terminals: gate (G), source (S), and drain (D). The latter two are interchangeable because the device is symmetric. When operating
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-008.jpg?height=152&width=385&top_left_y=262&top_left_x=573)

Figure 2.1 Simple view of a MOS device.
as a switch, the transistor "connects" the source and the drain together if the gate voltage, $V_{G}$, is "high" and isolates the source and the drain if $V_{G}$ is "low."

Even with this simplified view, we must answer several questions. For what value of $V_{G}$ does the device turn on? In other words, what is the "threshold" voltage? What is the resistance between S and D when the device is on (or off)? How does this resistance depend on the terminal voltages? Can we always model the path between S and D by a simple linear resistor? What limits the speed of the device?

While all of these questions arise at the circuit level, they can be answered only by analyzing the structure and physics of the transistor.

### 2.1.2 MOSFET Structure

Figure 2.2 shows a simplified structure of an $n$-type MOS (NMOS) device. Fabricated on a $p$-type substrate (also called the "bulk" or the "body"), the device consists of two heavily-doped $n$ regions forming the source and drain terminals, a heavily-doped (conductive) piece of polysilicon ${ }^{1}$ (simply called "poly") operating as the gate, and a thin layer of silicon dioxide $\left(\mathrm{SiO}_{2}\right)$ (simply called "oxide") insulating the gate from the substrate. The useful action of the device occurs in the substrate region under the gate oxide. Note that the structure is symmetric with respect to S and D .
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-008.jpg?height=447&width=1258&top_left_y=1170&top_left_x=403)

Figure 2.2 Structure of a MOS device.
The lateral dimension of the gate along the source-drain path is called the length, $L$, and that perpendicular to the length is called the width, $W$. Since the S/D junctions "side-diffuse" during fabrication, the actual distance between the source and the drain is slightly less than $L$. To avoid confusion, we write, $L_{\text {eff }}=L_{\text {drawn }}-2 L_{D}$, where $L_{\text {eff }}$ is the "effective" length, $L_{\text {drawn }}$ is the total length, ${ }^{2}$ and $L_{D}$ is the amount of side diffusion. As we will see later, $L_{e f f}$ and the gate oxide thickness, $t_{o x}$, play an important role in the performance of MOS circuits. Consequently, the principal thrust in MOS technology development is to reduce both of these dimensions from one generation to the next without degrading other parameters of the device. Typical values at the time of this writing are $L_{e f f} \approx 10 \mathrm{~nm}$ and $t_{o x} \approx 15 \AA$. In the remainder of this book, we denote the effective length by $L$ unless otherwise stated.

[^1]If the MOS structure is symmetric, why do we call one $n$ region the source and the other the drain? This becomes clear if the source is defined as the terminal that provides the charge carriers (electrons in the case of NMOS devices) and the drain as the terminal that collects them. Thus, as the voltages at the three terminals of the device vary, the source and the drain may exchange roles. These concepts are practiced in the problems at the end of the chapter.

We have thus far ignored the substrate on which the device is fabricated. In reality, the substrate potential greatly influences the device characteristics. That is, the MOSFET is a four-terminal device. Since in typical MOS operation, the S/D junction diodes must be reverse-biased, we assume that the substrate of NMOS transistors is connected to the most negative supply in the system. For example, if a circuit operates between zero and 1.2 volts, $V_{\text {sub,NMOS }}=0$. The actual connection is usually provided through an ohmic $p^{+}$region, as depicted in the side view of the device in Fig. 2.3.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-009.jpg?height=308&width=1025&top_left_y=755&top_left_x=453)

Figure 2.3 Substrate connection.

In complementary MOS (CMOS) technologies, both NMOS and PMOS transistors are available. From a simplistic viewpoint, the PMOS device is obtained by negating all of the doping types (including the substrate) [Fig. 2.4(a)], but in practice, NMOS and PMOS devices must be fabricated on the same wafer, i.e., the same substrate. For this reason, one device type can be placed in a "local substrate," usually called a "well." In today's CMOS processes, the PMOS device is fabricated in an $n$-well [Fig. 2.4(b)]. Note that the $n$-well must be connected to a potential such that the S/D junction diodes of the PMOS transistor remain reverse-biased under all conditions. In most circuits, the $n$-well is tied to the most positive supply voltage. For the sake of brevity, we sometimes call NMOS and PMOS devices "NFETs" and "PFETs," respectively.

Figure 2.4(b) indicates an interesting difference between NMOS and PMOS transistors: while all NFETs share the same substrate, each PFET can have an independent $n$-well. This flexibility of PFETs is exploited in some analog circuits.

### 2.1.3 MOS Symbols

The circuit symbols used to represent NMOS and PMOS transistors are shown in Fig. 2.5. The symbols in Fig. 2.5(a) contain all four terminals, with the substrate denoted by "B" (bulk) rather than " $S$ " to avoid confusion with the source. The source of the PMOS device is positioned on top as a visual aid because it has a higher potential than its gate. Since in most circuits the bulk terminals of NMOS and PMOS devices are tied to ground and $V_{D D}$, respectively, we usually omit these connections in drawing [Fig. 2.5(b)]. In digital circuits, it is customary to use the "switch" symbols depicted in Fig. 2.5(c) for the two types, but we prefer those in Fig. 2.5(b) because the visual distinction between S and D proves helpful in understanding the operation of circuits.

#### Nanometer Design Notes

Some modern CMOS processes offer a "deep $n$-well," an $n$-well that contains an NMOS device and its $p$-type bulk. As shown below, the NMOS transistor's bulk is now localized and need not be tied to that of other NMOS devices. But the design incurs substantial area overhead because the deep $n$-well must extend beyond the $p$-well by a certain amount and must maintain a certain distance to the regular $n$-well.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-009.jpg?height=218&width=515&top_left_y=2040&top_left_x=1351)
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-010.jpg?height=278&width=777&top_left_y=245&top_left_x=610)
(a)
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-010.jpg?height=321&width=1466&top_left_y=577&top_left_x=281)
(b)
Figure 2.4 (a) Simple PMOS device; (b) PMOS inside an $n$-well.

NMOS
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-010.jpg?height=247&width=244&top_left_y=1124&top_left_x=344)

PMOS
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-010.jpg?height=247&width=247&top_left_y=1124&top_left_x=619)
(a)
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-010.jpg?height=250&width=176&top_left_y=1125&top_left_x=898)
(b)
(c)

Figure 2.5 MOS symbols.

## 2.2 ■ MOS I/V Characteristics

In this section, we analyze the generation and transport of charge in MOSFETs as a function of the terminal voltages. Our objective is to derive equations for the I/V characteristics such that we can elevate our abstraction from device physics level to circuit level.

### 2.2.1 Threshold Voltage

Consider an NFET connected to external voltages as shown in Fig. 2.6(a). What happens as the gate voltage, $V_{G}$, increases from zero? Since the gate, the dielectric, and the substrate form a capacitor, as $V_{G}$ becomes more positive, the holes in the $p$-substrate are repelled from the gate area, leaving negative ions behind so as to mirror the charge on the gate. In other words, a depletion region is created [Fig. 2.6(b)]. Under this condition, no current flows because no charge carriers are available.

As $V_{G}$ increases, so do the width of the depletion region and the potential at the oxide-silicon interface. In a sense, the structure resembles a voltage divider consisting of two capacitors in series: the gateoxide capacitor and the depletion-region capacitor [Fig. 2.6(c)]. When the interface potential reaches a sufficiently positive value, electrons flow from the source to the interface and eventually to the drain.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-011.jpg?height=779&width=1511&top_left_y=220&top_left_x=223)

Figure 2.6 (a) A MOSFET driven by a gate voltage; (b) formation of depletion region; (c) onset of inversion; (d) formation of inversion layer.

Thus, a "channel" of charge carriers is formed under the gate oxide between S and D , and the transistor is "turned on." We say the interface is "inverted." For this reason, the channel is also called the "inversion layer." The value of $V_{G}$ for which this occurs is called the "threshold voltage," $V_{T H}$. If $V_{G}$ rises further, the charge in the depletion region remains relatively constant while the channel charge density continues to increase, providing a greater current from S to D .

In reality, the turn-on phenomenon is a gradual function of the gate voltage, making it difficult to define $V_{T H}$ unambiguously. In semiconductor physics, the $V_{T H}$ of an NFET is usually defined as the gate voltage for which the interface is "as much $n$-type as the substrate is $p$-type." It can be proved [1] that $^{3}$

$$
\begin{equation*}
V_{T H}=\Phi_{M S}+2 \Phi_{F}+\frac{Q_{d e p}}{C_{o x}} \tag{2.1}
\end{equation*}
$$

where $\Phi_{M S}$ is the difference between the work functions of the polysilicon gate and the silicon substrate, $\Phi_{F}=(k T / q) \ln \left(N_{\text {sub }} / n_{i}\right), k$ is Boltzmann's constant, $q$ is the electron charge, $N_{\text {sub }}$ is the doping density of the substrate, $n_{i}$ is the density of electrons in undoped silicon, $Q_{d e p}$ is the charge in the depletion region, and $C_{o x}$ is the gate-oxide capacitance per unit area. From $p n$ junction theory, $Q_{d e p}=\sqrt{4 q \epsilon_{s i}\left|\Phi_{F}\right| N_{s u b}}$, where $\epsilon_{s i}$ denotes the dielectric constant of silicon. Since $C_{o x}$ appears very frequently in device and circuit calculations, it is helpful to remember that for $t_{o x} \approx 20 \AA, C_{o x} \approx 17.25 \mathrm{fF} / \mu \mathrm{m}^{2}$. The value of $C_{o x}$ can then be scaled proportionally for other oxide thicknesses.

In practice, the "native" threshold value obtained from the above equation may not be suited to circuit design, e.g., $V_{T H}=0$ and the device does not turn off for $V_{G} \geq 0 .{ }^{4}$ For this reason, the threshold voltage is typically adjusted by implantation of dopants into the channel area during device fabrication, in essence altering the doping level of the substrate near the oxide interface. For example, as shown in Fig. 2.7, if a thin sheet of $p^{+}$is created, the gate voltage required to deplete this region increases.

[^2]![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-012.jpg?height=209&width=521&top_left_y=249&top_left_x=508)

Figure 2.7 Implantation of $p+$ dopants to alter the threshold.

The above definition is not directly applicable to the measurement of $V_{T H}$. In Fig. 2.6(a), only the drain current can indicate whether the device is "on" or "off," failing to reveal at what $V_{G S}$ the interface is as much $n$-type as the bulk is $p$-type. As a result, the calculation of $V_{T H}$ from I/V measurements is somewhat ambiguous. We will return to this point later, but assume for now that the device turns on abruptly for $V_{G S} \geq V_{T H}$.

The turn-on phenomenon in a PMOS device is similar to that of NFETs, but with all the polarities reversed. As shown in Fig. 2.8, if the gate-source voltage becomes sufficiently negative, an inversion layer consisting of holes is formed at the oxide-silicon interface, providing a conduction path between the source and the drain. That is, the threshold voltage of a PMOS device is typically negative.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-012.jpg?height=321&width=805&top_left_y=915&top_left_x=645)

Figure 2.8 Formation of inversion layer in a PFET.

### 2.2.2 Derivation of I/V Characteristics

In order to obtain the relationship between the drain current of a MOSFET and its terminal voltages, we make two observations.

First, consider a semiconductor bar carrying a current $I$ [Fig. 2.9(a)]. If the mobile charge density along the direction of current is $Q_{d}$ coulombs per meter and the velocity of the charge is $v$ meters per second, then

$$
\begin{equation*}
I=Q_{d} \cdot v \tag{2.2}
\end{equation*}
$$

To understand why, we measure the total charge that passes through a cross section of the bar in unit time. With a velocity $v$, all of the charge enclosed in $v$ meters of the bar must flow through the cross section in
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-012.jpg?height=370&width=1313&top_left_y=1879&top_left_x=378)

Figure 2.9 (a) A semiconductor bar carrying a current $I$; (b) snapshots of the carriers one second apart.
one second [Fig. 2.9(b)]. Since the charge density is $Q_{d}$, the total charge in $v$ meters equals $Q_{d} \cdot v$. This lemma proves useful in analyzing semiconductor devices.

Second, to utilize the above lemma, we must determine the mobile charge density in a MOSFET. To this end, consider an NFET whose source and drain are connected to ground [Fig. 2.10(a)]. What is the charge density in the inversion layer? Since we assume that the onset of inversion occurs at $V_{G S}=V_{T H}$, the inversion charge density produced by the gate-oxide capacitance is proportional to $V_{G S}-V_{T H}$. For $V_{G S} \geq V_{T H}$, any charge placed on the gate must be mirrored by the charge in the channel, yielding a uniform channel charge density (charge per unit length along the source-drain path) equal to

$$
\begin{equation*}
Q_{d}=W C_{o x}\left(V_{G S}-V_{T H}\right) \tag{2.3}
\end{equation*}
$$

where $C_{o x}$ is multiplied by $W$ to represent the total capacitance per unit length.
Now suppose, as depicted in Fig. 2.10(b), that the drain voltage is greater than zero. Since the channel potential varies from zero at the source to $V_{D}$ at the drain, the local voltage difference between the gate and the channel varies from $V_{G}$ (near the source) to $V_{G}-V_{D}$ (near the drain). Thus, the charge density at a point $x$ along the channel can be written as

$$
\begin{equation*}
Q_{d}(x)=W C_{o x}\left[V_{G S}-V(x)-V_{T H}\right] \tag{2.4}
\end{equation*}
$$

where $V(x)$ is the channel potential at $x$. From (2.2), the current is given by

$$
\begin{equation*}
I_{D}=-W C_{o x}\left[V_{G S}-V(x)-V_{T H}\right] v \tag{2.5}
\end{equation*}
$$

![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-013.jpg?height=475&width=1302&top_left_y=1207&top_left_x=315)
(a)
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-013.jpg?height=528&width=1315&top_left_y=1721&top_left_x=321)

Figure 2.10 Channel charge with (a) equal source and drain voltages and (b) unequal source and drain voltages.
where the negative sign is inserted because the charge carriers are negative. Note that $v$ denotes the velocity of the electrons in the channel. For semiconductors, $v=\mu E$, where $\mu$ is the mobility of charge carriers and $E$ is the electric field. Noting that $E(x)=-d V / d x$ and representing the mobility of electrons by $\mu_{n}$, we have

$$
\begin{equation*}
I_{D}=W C_{o x}\left[V_{G S}-V(x)-V_{T H}\right] \mu_{n} \frac{d V(x)}{d x} \tag{2.6}
\end{equation*}
$$

subject to boundary conditions $V(0)=0$ and $V(L)=V_{D S}$. While $V(x)$ can be easily found from this equation, the quantity of interest is in fact $I_{D}$. Multiplying both sides by $d x$ and performing integration, we obtain

$$
\begin{equation*}
\int_{x=0}^{L} I_{D} d x=\int_{V=0}^{V_{D S}} W C_{o x} \mu_{n}\left[V_{G S}-V(x)-V_{T H}\right] d V \tag{2.7}
\end{equation*}
$$

Since $I_{D}$ is constant along the channel,

$$
\begin{equation*}
I_{D}=\mu_{n} C_{o x} \frac{W}{L}\left[\left(V_{G S}-V_{T H}\right) V_{D S}-\frac{1}{2} V_{D S}^{2}\right] \tag{2.8}
\end{equation*}
$$

Note that $L$ is the effective channel length.
Figure 2.11 plots the parabolas given by (2.8) for different values of $V_{G S}$, indicating that the "current capability" of the device increases with $V_{G S}$. Calculating $\partial I_{D} / \partial V_{D S}$, the reader can show that the peak of each parabola occurs at $V_{D S}=V_{G S}-V_{T H}$ and the peak current is

$$
\begin{equation*}
I_{D, \max }=\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right)^{2} \tag{2.9}
\end{equation*}
$$

We call $V_{G S}-V_{T H}$ the "overdrive voltage" and $W / L$ the "aspect ratio." If $V_{D S} \leq V_{G S}-V_{T H}$, we say the device operates in the "triode region." 5
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-014.jpg?height=539&width=716&top_left_y=1444&top_left_x=408)

Figure 2.11 Drain current versus drain-source voltage in the triode region.

Equations (2.8) and (2.9) serve as our first step toward CMOS circuit design, describing the dependence of $I_{D}$ upon the constant of the technology, $\mu_{n} C_{o x}$, the device dimensions, $W$ and $L$, and the gate and drain potentials with respect to the source. Note that the integration in (2.7) assumes that $\mu_{n}$ and $V_{T H}$ are independent of $x$ and the gate and drain voltages, an approximation that we will revisit in Chapter 17.

[^3]If in (2.8), $V_{D S} \ll 2\left(V_{G S}-V_{T H}\right)$, we have

$$
\begin{equation*}
I_{D} \approx \mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right) V_{D S} \tag{2.10}
\end{equation*}
$$

that is, the drain current is a linear function of $V_{D S}$. This is also evident from the characteristics of Fig. 2.11 for small $V_{D S}$ : as shown in Fig. 2.12, each parabola can be approximated by a straight line. The linear relationship implies that the path from the source to the drain can be represented by a linear resistor equal to

$$
\begin{equation*}
R_{o n}=\frac{1}{\mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right)} \tag{2.11}
\end{equation*}
$$

![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-015.jpg?height=375&width=826&top_left_y=855&top_left_x=550)

Figure 2.12 Linear operation in deep triode region.
A MOSFET can therefore operate as a resistor whose value is controlled by the overdrive voltage [so long as $\left.V_{D S} \ll 2\left(V_{G S}-V_{T H}\right)\right]$. This is conceptually illustrated in Fig. 2.13. Note that in contrast to bipolar transistors, a MOS device may be on even if it carries no current. With the condition $V_{D S} \ll 2\left(V_{G S}-V_{T H}\right)$, we say the device operates in the deep triode region.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-015.jpg?height=189&width=607&top_left_y=1522&top_left_x=393)

Figure 2.13 MOSFET as a controlled linear resistor.

#### Example 2.1

For the arrangement in Fig. 2.14(a), plot the on-resistance of $M_{1}$ as a function of $V_{G}$. Assume that $\mu_{n} C_{o x}=$ $50 \mu \mathrm{~A} / \mathrm{V}^{2}, W / L=10$, and $V_{T H}=0.3 \mathrm{~V}$. Note that the drain terminal is open.

#### Solution

Since the drain terminal is open, $I_{D}=0$ and $V_{D S}=0$. Thus, if the device is on, it operates in the deep triode region. For $V_{G}<1 \mathrm{~V}+V_{T H}, M_{1}$ is off and $R_{o n}=\infty$. For $V_{G}>1 \mathrm{~V}+V_{T H}$, we have

$$
\begin{equation*}
R_{o n}=\frac{1}{50 \mu \mathrm{~A} / \mathrm{V}^{2} \times 10\left(V_{G}-1 \mathrm{~V}-0.3 \mathrm{~V}\right)} \tag{2.12}
\end{equation*}
$$

The result is plotted in Fig. 2.14(b).
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-016.jpg?height=413&width=815&top_left_y=239&top_left_x=630)

Figure 2.14

MOSFETs operating as controllable resistors play a crucial role in many analog circuits. For example, a voltage-controlled resistor can be used to adjust the frequency of the clock generator in a laptop computer if the system must go into a power saving mode. As studied in Chapter 13, MOSFETs also serve as switches.

What happens if the drain-source voltage in Fig. 2.11 exceeds $V_{G S}-V_{T H}$ ? In reality, the drain current does not follow the parabolic behavior for $V_{D S}>V_{G S}-V_{T H}$. In fact, as shown in Fig. 2.15, $I_{D}$ becomes relatively constant, and we say the device operates in the "saturation" region. ${ }^{6}$ To understand this phenomenon, recall from (2.4) that the local density of the inversion-layer charge is proportional to $V_{G S}-V(x)-V_{T H}$. Thus, if $V(x)$ approaches $V_{G S}-V_{T H}$, then $Q_{d}(x)$ drops to zero. In other words, as depicted in Fig. 2.16, if $V_{D S}$ is slightly greater than $V_{G S}-V_{T H}$, then the inversion layer stops at $x \leq L$, and we say the channel is "pinched off." As $V_{D S}$ increases further, the point at which $Q_{d}$ equals zero gradually moves toward the source. Thus, at some point along the channel, the local potential difference between the gate and the oxide-silicon interface is not sufficient to support an inversion layer.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-016.jpg?height=531&width=731&top_left_y=1394&top_left_x=669)

Figure 2.15 Saturation of drain current.

How does the device conduct current in the presence of pinch-off? As the electrons approach the pinch-off point (where $Q_{d} \rightarrow 0$ ), their velocity rises tremendously ( $v=I / Q_{d}$ ). Upon passing the pinchoff point, the electrons simply shoot through the depletion region near the drain junction and arrive at the drain terminal.

[^4]![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-017.jpg?height=503&width=1495&top_left_y=243&top_left_x=236)

Figure 2.16 Pinch-off behavior.

With the above observations, we reexamine (2.7) for a saturated device. Since $Q_{d}$ is the density of mobile charge, the integral on the left-hand side of (2.7) must be taken from $x=0$ to $x=L^{\prime}$, where $L^{\prime}$ is the point at which $Q_{d}$ drops to zero (e.g., $x_{2}$ in Fig. 2.16), and that on the right from $V(x)=0$ to $V(x)=V_{G S}-V_{T H}$. As a result,

$$
\begin{equation*}
I_{D}=\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L^{\prime}}\left(V_{G S}-V_{T H}\right)^{2} \tag{2.13}
\end{equation*}
$$

indicating that $I_{D}$ is relatively independent of $V_{D S}$ if $L^{\prime}$ remains close to $L$. We say the device exhibits a "square-law" behavior. If $I_{D}$ is known, then $V_{G S}$ is obtained as

$$
\begin{equation*}
V_{G S}=\sqrt{\frac{2 I_{D}}{\mu_{n} C_{o x} \frac{W}{L^{\prime}}}}+V_{T H} \tag{2.14}
\end{equation*}
$$

We must emphasize that for the transistor to remain in saturation (as is the case in many analog circuits), the drain-source voltage must be equal to or greater than the overdrive voltage. For this reason, some books write $V_{D, s a t}=V_{G S}-V_{T H}$, where $V_{D, s a t}$ denotes the minimum $V_{D S}$ necessary for operation in saturation. As seen later in this book, if the signal swings at the drain or the gate cause $V_{D S}$ to fall below $V_{G S}-V_{T H}$, then a number of undesirable effects occur. For this reason, the choice of the overdrive and hence $V_{D, s a t}$ translates to a certain voltage "headroom" for the signal swings in the circuit: the larger the $V_{D, s a t}$, the less headroom is available for the signals.

Equations (2.8) and (2.13) represent the "large-signal" behavior of NMOS devices; i.e., they can predict the drain current for arbitrary voltages applied to the gate, source, and drain (but only if the device is on). Since the nonlinear nature of these equations makes the analysis difficult, we often resort to linear approximations ("small-signal" models) so as to develop some understanding of a given circuit. This point becomes clear in Sec. 2.4.3.

For PMOS devices, Eqs. (2.8) and (2.13) are respectively written as

$$
\begin{equation*}
I_{D}=-\mu_{p} C_{o x} \frac{W}{L}\left[\left(V_{G S}-V_{T H}\right) V_{D S}-\frac{1}{2} V_{D S}^{2}\right] \tag{2.15}
\end{equation*}
$$

and

$$
\begin{equation*}
I_{D}=-\frac{1}{2} \mu_{p} C_{o x} \frac{W}{L^{\prime}}\left(V_{G S}-V_{T H}\right)^{2} \tag{2.16}
\end{equation*}
$$

The negative sign appears here because we assume that $I_{D}$ flows from the drain to the source, whereas holes flow in the reverse direction. Note that $V_{G S}, V_{D S}, V_{T H}$, and $V_{G S}-V_{T H}$ are negative for a PMOS transistor that is turned on. Since the mobility of holes is about one-half the mobility of electrons, PMOS devices suffer from lower "current drive" capability.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-018.jpg?height=280&width=921&top_left_y=454&top_left_x=574)

Figure 2.17 Saturated MOSFETs operating as current sources.

With $L$ assumed constant, a saturated MOSFET can be used as a current source connected between the drain and the source (Fig. 2.17), an important component in analog design. Note that the NMOS current source injects current into ground and the PMOS current source draws current from $V_{D D}$. In other words, only one terminal of each current source is "floating." (It is difficult to design a current source that flows between two arbitrary nodes of a circuit.)

#### Example 2.2

On a $V_{D S}-V_{G S}$ plane, show the regions of operation of an NMOS transistor.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-018.jpg?height=365&width=516&top_left_y=1231&top_left_x=510)

Figure 2.18 $V_{D S}-V_{G S}$ plane showing regions of operation.

#### Solution

Since the value of $V_{D S}$ with respect to $V_{G S}-V_{T H}$ determines the region of operation, we draw the line $V_{D S}=$ $V_{G S}-V_{T H}$ in the plane, as shown in Fig. 2.18. If $V_{G S}>V_{T H}$, then the region above the line corresponds to saturation, and that below the line corresponds to the triode region. Note that for a given $V_{D S}$, the device eventually leaves saturation as $V_{G S}$ increases. The minimum allowable $V_{D S}$ for operation in saturation is also called $V_{D, s a t}$. It is important to bear in mind that $V_{D, s a t}=V_{G S}-V_{T H}$.

The distinction between saturation and triode regions can be confusing, especially for PMOS devices. Intuitively, we note that the channel is pinched off if the difference between the gate and drain voltages is not sufficient to create an inversion layer. As depicted conceptually in Fig. 2.19, as $V_{G}-V_{D}$ of an NFET drops below $V_{T H}$, pinch-off occurs. Similarly, if $V_{D}-V_{G}$ of a PFET is not large enough ( $<\left|V_{T H P}\right|$ ), the device is saturated. Note that this view does not require knowledge of the source voltage. This means that we must know a priori which terminal operates as the drain. The drain is defined as the terminal with a higher (lower) voltage than the source for an NFET (PFET).
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-019.jpg?height=393&width=1427&top_left_y=239&top_left_x=234)

Figure 2.19 Conceptual visualization of saturation and triode regions.

### 2.2.3 MOS Transconductance

Since a MOSFET operating in saturation produces a current in response to its gate-source overdrive voltage, we may define a figure of merit that indicates how well a device converts a voltage to a current. More specifically, since in processing signals, we deal with the changes in voltages and currents, we define the figure of merit as the change in the drain current divided by the change in the gate-source voltage. Called the "transconductance" (and usually defined in the saturation region) and denoted by $g_{m}$, this quantity is expressed as

$$
\begin{align*}
g_{m} & =\left.\frac{\partial I_{D}}{\partial V_{G S}}\right|_{V D S \text { const. }}  \tag{2.17}\\
& =\mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right) \tag{2.18}
\end{align*}
$$

In a sense, $g_{m}$ represents the sensitivity of the device: for a high $g_{m}$, a small change in $V_{G S}$ results in a large change in $I_{D}$. We express $g_{m}$ in $1 / \Omega$ or in siemens (S); e.g., $g_{m}=1 /(100 \Omega)=0.01 \mathrm{~S}$. In analog design, we sometimes say a MOSFET operates as a "transconductor" or a " $V / I$ converter" to indicate that it converts a voltage change to a current change. Interestingly, $g_{m}$ in the saturation region is equal to the inverse of $R_{o n}$ in the deep triode region.

The reader can prove that $g_{m}$ can also be expressed as

$$
\begin{align*}
g_{m} & =\sqrt{2 \mu_{n} C_{o x} \frac{W}{L} I_{D}}  \tag{2.19}\\
& =\frac{2 I_{D}}{V_{G S}-V_{T H}} \tag{2.20}
\end{align*}
$$

Plotted in Fig. 2.20, each of the above expressions proves useful in studying the behavior of $g_{m}$ as a function of one parameter while other parameters remain constant. For example, (2.18) suggests that
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-019.jpg?height=370&width=1441&top_left_y=1877&top_left_x=250)

Figure 2.20 Approximate MOS transconductance as a function of overdrive and drain current.
$g_{m}$ increases with the overdrive if $W / L$ is constant, whereas (2.20) implies that $g_{m}$ decreases with the overdrive if $I_{D}$ is constant.

The $I_{D}$ and $V_{G S}-V_{T H}$ terms in the above $g_{m}$ equations are bias values. For example, a transistor with $W / L=5 \mu \mathrm{~m} / 0.1 \mu \mathrm{~m}$ and biased at $I_{D}=0.5 \mathrm{~mA}$ may exhibit a transconductance of $(1 / 200 \Omega)$. If a signal is applied to the device, then $I_{D}$ and $V_{G S}-V_{T H}$ and hence $g_{m}$ vary, but in small-signal analysis, we assume that the signal amplitude is small enough that this variation is negligible.

Equation (2.19) implies that the transconductance can be raised arbitrarily if we increase $W / L$ and keep $I_{D}$ constant. This result is incorrect and will be revised in Sec. 2.3.

The concept of transconductance can also be applied to a device operating in the triode region, as illustrated in the following example.

#### Example 2.3

For the arrangement shown in Fig. 2.21, plot the transconductance as a function of $V_{D S}$.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-020.jpg?height=260&width=751&top_left_y=823&top_left_x=659)

Figure 2.21

#### Solution

It is simpler to study $g_{m}$ as $V_{D S}$ decreases from infinity. So long as $V_{D S} \geq V_{b}-V_{T H}, M_{1}$ is in saturation, $I_{D}$ is relatively constant, and, from (2.19), so is $g_{m}$. If the drain voltage falls below the gate voltage by more than one threshold, $M_{1}$ enters the triode region, and

$$
\begin{align*}
g_{m} & =\frac{\partial}{\partial V_{G S}}\left\{\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left[2\left(V_{G S}-V_{T H}\right) V_{D S}-V_{D S}^{2}\right]\right\}  \tag{2.21}\\
& =\mu_{n} C_{o x} \frac{W}{L} V_{D S} \tag{2.22}
\end{align*}
$$

Thus, as plotted in Fig. 2.21, the transconductance drops in the triode region. For amplification, therefore, we usually employ MOSFETs in saturation.

For a PFET, the transconductance in the saturation region is expressed as $g_{m}=-\mu_{p} C_{o x}(W / L)$ $\left(V_{G S}-V_{T H}\right)=-2 I_{D} /\left(V_{G S}-V_{T H}\right)=\sqrt{2 \mu_{p} C_{o x}(W / L) I_{D}}$.

## 2.3 - Second-Order Effects

Our analysis of the MOS structure has thus far entailed various simplifying assumptions, some of which are not valid in many analog circuits. In this section, we describe three second-order effects that are essential in our subsequent circuit analyses. Other phenomena that appear in nanometer devices are studied in Chapter 17.

Body Effect In the analysis of Fig. 2.10, we tacitly assumed that the bulk and the source of the transistor were tied to ground. What happens if the bulk voltage of an NFET drops below the source voltage (Fig. 2.22)? Since the S and D junctions remain reverse-biased, we surmise that the device continues to operate properly, but some of its characteristics may change. To understand the effect, suppose
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-021.jpg?height=337&width=1047&top_left_y=241&top_left_x=442)

Figure 2.22 NMOS device with negative bulk voltage.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-021.jpg?height=316&width=1382&top_left_y=703&top_left_x=277)

Figure 2.23 Variation of depletion region charge with bulk voltage.
$V_{S}=V_{D}=0$, and $V_{G}$ is somewhat less than $V_{T H}$, so that a depletion region is formed under the gate but no inversion layer exists. As $V_{B}$ becomes more negative, more holes are attracted to the substrate connection, leaving a larger negative charge behind; i.e., as depicted in Fig. 2.23, the depletion region becomes wider. Now recall from Eq. (2.1) that the threshold voltage is a function of the total charge in the depletion region because the gate charge must mirror $Q_{d}$ before an inversion layer is formed. Thus, as $V_{B}$ drops and $Q_{d}$ increases, $V_{T H}$ also increases. This phenomenon is called the "body effect" or the "back-gate effect."

It can be proved that with body effect,

$$
\begin{equation*}
V_{T H}=V_{T H 0}+\gamma\left(\sqrt{2 \Phi_{F}+V_{S B}}-\sqrt{\left|2 \Phi_{F}\right|}\right) \tag{2.23}
\end{equation*}
$$

where $V_{T H 0}$ is given by $(2.1), \gamma=\sqrt{2 q \epsilon_{s i} N_{s u b}} / C_{o x}$ denotes the body-effect coefficient, and $V_{S B}$ is the source-bulk potential difference [1]. The value of $\gamma$ typically lies in the range of 0.3 to $0.4 \mathrm{~V}^{1 / 2}$.

#### Example 2.4

In Fig. 2.24(a), plot the drain current if $V_{X}$ varies from $-\infty$ to 0 . Assume $V_{T H 0}=0.3 \mathrm{~V}, \gamma=0.4 \mathrm{~V}^{1 / 2}$, and $2 \Phi_{F}=0.7 \mathrm{~V}$.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-021.jpg?height=303&width=396&top_left_y=1867&top_left_x=550)
(a)
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-021.jpg?height=270&width=364&top_left_y=1883&top_left_x=1027)
(b)

Figure 2.24

#### Solution

If $V_{X}$ is sufficiently negative, the threshold voltage of $M_{1}$ exceeds 1.2 V and the device is off. That is,

$$
\begin{equation*}
1.2 \mathrm{~V}=0.3+0.4\left(\sqrt{0.7-V_{X 1}}-\sqrt{0.7}\right) \tag{2.24}
\end{equation*}
$$

and hence $V_{X 1}=-8.83 \mathrm{~V}$. For $V_{X 1}<V_{X}<0, I_{D}$ increases according to

$$
\begin{equation*}
I_{D}=\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left[V_{G S}-V_{T H 0}-\gamma\left(\sqrt{2 \Phi_{F}-V_{X}}-\sqrt{2 \Phi_{F}}\right)\right]^{2} \tag{2.25}
\end{equation*}
$$

Fig. 2.24(b) shows the resulting behavior.

For body effect to manifest itself, the bulk potential, $V_{\text {sub }}$, need not change: if the source voltage varies with respect to $V_{\text {sub }}$, the same phenomenon occurs. For example, consider the circuit in Fig. 2.25(a), first ignoring body effect. We note that as $V_{\text {in }}$ varies, $V_{\text {out }}$ closely follows the input because the drain current remains equal to $I_{1}$. In fact, we can write

$$
\begin{equation*}
I_{1}=\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left(V_{\text {in }}-V_{\text {out }}-V_{T H}\right)^{2} \tag{2.26}
\end{equation*}
$$

concluding that $V_{\text {in }}-V_{\text {out }}$ is constant if $I_{1}$ is constant [Fig. 2.25(b)].
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-022.jpg?height=329&width=329&top_left_y=1103&top_left_x=432)
(a)
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-022.jpg?height=254&width=331&top_left_y=1164&top_left_x=859)
(b)
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-022.jpg?height=262&width=326&top_left_y=1155&top_left_x=1307)
(c)

Figure 2.25 (a) A circuit in which the source-bulk voltage varies with input level; (b) input and output voltages with no body effect; (c) input and output voltages with body effect.

Now suppose that the substrate is tied to ground and body effect is significant. Then, as $V_{i n}$ and hence $V_{\text {out }}$ become more positive, the potential difference between the source and the bulk increases, raising the value of $V_{T H}$. Equation (2.26) implies that $V_{i n}-V_{\text {out }}$ must increase so as to maintain $I_{D}$ constant [Fig. 2.25(c)].

Body effect is usually undesirable. The change in the threshold voltage, e.g., as in Fig. 2.25(a), often complicates the design of analog (and even digital) circuits. Device technologists balance $N_{s u b}$ and $C_{o x}$ to obtain a reasonable value for $\gamma$.

#### Example 2.5

Equation (2.23) suggests that if $V_{S B}$ becomes negative, then $V_{T H}$ decreases. Is this correct?

#### Solution

Yes, it is. If the bulk voltage of an NMOS device rises above its source voltage, $V_{T H}$ falls below $V_{T H 0}$. This observation proves useful in low-voltage design, where the performance of a circuit may suffer due to a high threshold voltage; one can bias the bulk to reduce $V_{T H}$. Unfortunately, this is not straightforward for NFETs because they typically share one substrate, but it can readily be applied to individual PFETs.

Channel-Length Modulation In the analysis of channel pinch-off in Sec. 2.2, we noted that the actual length of the channel gradually decreases as the potential difference between the gate and the drain decreases. In other words, in (2.13), $L^{\prime}$ is in fact a function of $V_{D S}$. This effect is called "channel-length modulation." Writing $L^{\prime}=L-\Delta L$, i.e., $1 / L^{\prime} \approx(1+\Delta L / L) / L$, and assuming a first-order relationship between $\Delta L / L$ and $V_{D S}$, such as $\Delta L / L=\lambda V_{D S}$, we have, in saturation,

$$
\begin{equation*}
I_{D} \approx \frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right)^{2}\left(1+\lambda V_{D S}\right) \tag{2.27}
\end{equation*}
$$

where $\lambda$ is the "channel-length modulation coefficient." Illustrated in Fig. 2.26, this phenomenon results in a nonzero slope in the $I_{D} / V_{D S}$ characteristic and hence a nonideal current source between D and S in saturation. The parameter $\lambda$ represents the relative variation in length for a given increment in $V_{D S}$. Thus, for longer channels, $\lambda$ is smaller.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-023.jpg?height=311&width=616&top_left_y=797&top_left_x=386)

Figure 2.26 Finite saturation region slope resulting from channel-length modulation.

#### Example 2.6

Is there channel-length modulation in the triode region?

#### Solution

No, there is not. In the triode region, the channel continuously stretches from the source to the drain, experiencing no pinch-off. Thus, the drain voltage does not modulate the length of the channel.

The reader may then observe a discontinuity in the equations as the device goes from the triode region to saturation:

$$
\begin{align*}
I_{D, t r i} & =\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left[2\left(V_{G S}-V_{T H}\right) V_{D S}-V_{D S}^{2}\right]  \tag{2.28}\\
I_{D, s a t} & =\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right)^{2}\left(1+\lambda V_{D S}\right) \tag{2.29}
\end{align*}
$$

The former yields $(1 / 2) \mu_{n} C_{o x} W / L\left(V_{G S}-V_{T H}\right)^{2}$ at the edge of the triode region, whereas the latter exhibits an additional factor of $1+\lambda V_{D S}$. This discrepancy is removed in more complex models of MOSFETs (Chapter 17).

With channel-length modulation, some of the expressions derived for $g_{m}$ must be modified. Equations (2.18) and (2.19) are respectively rewritten as

$$
\begin{align*}
g_{m} & =\mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right)\left(1+\lambda V_{D S}\right)  \tag{2.30}\\
& =\sqrt{2 \mu_{n} C_{o x}(W / L) I_{D}\left(1+\lambda V_{D S}\right)} \tag{2.31}
\end{align*}
$$

while Eq. (2.20) remains unchanged.

#### Nanometer Design Notes

Nanometer transistors suffer from various imperfections and markedly depart from square-law behavior. Shown below are the actual I-V characteristics of an NFET with $W / L=5 \mu \mathrm{~m} / 40 \mathrm{~nm}$ for $V_{G S}=0.3 \mathrm{~V} \cdots 0.8 \mathrm{~V}$. Also plotted are the characteristics of a square-law device of the same dimensions. Despite our best efforts to match the latter device to the former, we still observe significant differences.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-023.jpg?height=409&width=515&top_left_y=1865&top_left_x=1356)

#### Example 2.7
Keeping all other parameters constant, plot the $I_{D} / V_{D S}$ characteristic of a MOSFET for $L=L_{1}$ and $L=2 L_{1}$.

#### Solution

Writing

$$
\begin{equation*}
I_{D}=\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right)^{2}\left(1+\lambda V_{D S}\right) \tag{2.32}
\end{equation*}
$$

and $\lambda \propto 1 / L$, we note that if the length is doubled, the slope of $I_{D}$ vs. $V_{D S}$ is divided by four because $\partial I_{D} / \partial V_{D S} \propto$ $\lambda / L \propto 1 / L^{2}$ (Fig. 2.27). (This is true only if $V_{G S}-V_{T H}$ is constant.) For a given gate-source overdrive, a larger $L$ gives a more ideal current source while degrading the current capability of the device. Thus, $W$ may need to be increased proportionally. In fact, if we double $W$ to restore $I_{D}$ to its original value, the slope also doubles. In other words, for a required drain current and a given overdrive, doubling the length reduces the slope by a factor of 2 .
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-024.jpg?height=322&width=617&top_left_y=820&top_left_x=455)

Figure 2.27 Effect of doubling channel length.

The linear approximation $\Delta L / L \propto V_{D S}$ becomes less accurate in short-channel transistors, resulting in a variable slope in the saturated $I_{D} / V_{D S}$ characteristics. We return to this issue in Chapter 17.

The dependence of $I_{D}$ upon $V_{D S}$ in saturation may suggest that the bias current of a MOSFET can be defined by the proper choice of the drain-source voltage, allowing freedom in the choice of $V_{G S}-V_{T H}$. However, since the dependence on $V_{D S}$ is much weaker, the drain-source voltage is not used to set the current. That is, we always consider $V_{G S}-V_{T H}$ as the current-defining parameter. The effect of $V_{D S}$ on $I_{D}$ is usually considered an error, and it is studied in Chapter 5.

Subthreshold Conduction In our analysis of the MOSFET, we have assumed that the device turns off abruptly as $V_{G S}$ drops below $V_{T H}$. In reality, for $V_{G S} \approx V_{T H}$, a "weak" inversion layer still exists and some current flows from D to S . Even for $V_{G S}<V_{T H}, I_{D}$ is finite, but it exhibits an exponential dependence on $V_{G S}[2,3]$. Called "subthreshold conduction," this effect can be formulated for $V_{D S}$ greater than roughly 100 mV as

$$
\begin{equation*}
I_{D}=I_{0} \exp \frac{V_{G S}}{\xi V_{T}} \tag{2.33}
\end{equation*}
$$

where $I_{0}$ is proportional to $W / L, \xi>1$ is a nonideality factor, and $V_{T}=k T / q$. We also say the device operates in "weak inversion." (Similarly, for $V_{G S}>V_{T H}$, we say the device operates in "strong inversion.") Except for $\xi,(2.33)$ is similar to the exponential $I_{C} / V_{B E}$ relationship of a bipolar transistor. The key point here is that as $V_{G S}$ falls below $V_{T H}$, the drain current drops at a finite rate. With typical values of $\xi$, at room temperature $V_{G S}$ must decrease by approximately 80 mV for $I_{D}$ to decrease by one decade (Fig. 2.28). For example, if a threshold of 0.3 V is chosen in a process to allow low-voltage operation, then when $V_{G S}$ is reduced to zero, the drain current decreases by only a factor of $10^{0.3 \mathrm{~V} / 80 \mathrm{mV}}=10^{3.75} \approx 5.62 \times 10^{3}$. For example, if the transistor carries about $1 \mu \mathrm{~A}$ for $V_{G S}=V_{T H}$ and we have 100 million such devices, then
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-025.jpg?height=349&width=683&top_left_y=235&top_left_x=350)

Figure 2.28 MOS subthreshold characteristics.
they draw 18 mA when they are nominally off. Especially problematic in large circuits such as memories, subthreshold conduction can result in significant power dissipation (or loss of analog information).

If a MOS device conducts for $V_{G S}<V_{T H}$, then how do we define the threshold voltage? Indeed, numerous definitions have been proposed. One possibility is to extrapolate, on a logarithmic vertical scale, the weak inversion and strong inversion characteristics and consider their intercept voltage as the threshold (Fig. 2.28).

We now reexamine Eq. (2.19) for the transconductance of a MOS device operating in the subthreshold region. Is it possible to achieve an arbitrarily high transconductance by increasing $W$ while maintaining $I_{D}$ constant? Is it possible to obtain a higher transconductance than that of a bipolar transistor $\left(I_{C} / V_{T}\right)$ biased at the same current? Equation (2.19) was derived from the square-law characteristic $I_{D}=$ $(1 / 2) \mu_{n} C_{o x}(W / L)\left(V_{G S}-V_{T H}\right)^{2}$. However, if $W$ increases while $I_{D}$ remains constant, then $V_{G S} \rightarrow V_{T H}$ and the device enters the subthreshold region. As a result, the transconductance is calculated from (2.33) to be $g_{m}=I_{D} /\left(\xi V_{T}\right)$, revealing that MOSFETs are still inferior to bipolar transistors in this respect.

At what overdrive voltage can we say the transistor goes from strong inversion to weak inversion? While somewhat arbitrary, this transition point can be defined as the overdrive voltage, $\left(V_{G S}-V_{T H}\right)_{1}$, at which the corresponding transconductances would become equal for the same drain current:

$$
\begin{equation*}
\frac{I_{D}}{\xi V_{T}}=\frac{2 I_{D}}{\left(V_{G S}-V_{T H}\right)_{1}} \tag{2.34}
\end{equation*}
$$

and hence

$$
\begin{equation*}
\left(V_{G S}-V_{T H}\right)_{1}=2 \xi V_{T} \tag{2.35}
\end{equation*}
$$

For $\xi \approx 1.5$, this amounts to about 80 mV .
The exponential dependence of $I_{D}$ upon $V_{G S}$ in subthreshold operation may suggest the use of MOS devices in this regime so as to achieve a higher gain. However, since such conditions are met only by a large device width or low drain current, the speed of subthreshold circuits is severely limited.

#### Example 2.8

Examine the behavior of a MOSFET as the drain "current density," $I_{D} / W$, varies.

#### Solution

For a given drain current and device width, how do we determine the region of operation? We must consider the equations for both strong and weak inversion:

$$
\begin{align*}
I_{D} & =\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right)^{2}  \tag{2.36}\\
I_{D} & =\alpha \frac{W}{L} \exp \frac{V_{G S}}{\xi V_{T}} \tag{2.37}
\end{align*}
$$

where channel-length modulation is neglected and $I_{0}$ in Eq. (2.33) has been expressed as a proportionality factor, $\alpha$, multiplied by $W / L$. What happens if the device is in strong inversion and we continue to reduce $I_{D}$ while $W / L$ is constant? Can $V_{G S}$ simply approach $V_{T H}$ to yield an arbitrarily small value for $\left(V_{G S}-V_{T H}\right)^{2}$ ? Why does the square-law equation not hold as $V_{G S}$ approaches $V_{T H}$ ?

To answer these questions, we return to the plot of Fig. 2.28 and observe that only currents beyond a certain level can be supported in strong inversion. In other words, for a given current and $W / L$, we must obtain $V_{G S}$ from both the square-law and exponential equations and select the lower value:

$$
\begin{align*}
V_{G S} & =\sqrt{\frac{2 I_{D}}{\mu_{n} C_{o x} W / L}}+V_{T H}  \tag{2.38}\\
V_{G S} & =\xi V_{T} \ln \frac{I_{D}}{\alpha W / L} \tag{2.39}
\end{align*}
$$

If $I_{D}$ remains constant and $W$ increases, $V_{G S}$ falls and the device goes from strong inversion to weak inversion.

Voltage Limitations A MOSFET experiences various undesirable effects if its terminal voltage differences exceed certain limits (if the device is "stressed"). At high gate-source voltages, the gate oxide breaks down irreversibly, damaging the transistor. In short-channel devices, an excessively large drain-source voltage widens the depletion region around the drain so much that it touches that around the source, creating a very large drain current. (This effect is called "punchthrough.") Even without breakdown, MOSFETs' characteristics can change permanently if the terminal voltage differences exceed a specified value. Such effects are described in Chapter 17.

## 2.4 ■ MOS Device Models

### 2.4.1 MOS Device Layout

For the developments in subsequent sections, it is beneficial to have some understanding of the layout of a MOSFET. We describe only a simple view here, deferring the fabrication details and structural subtleties to Chapters 18 and 19.

The layout of a MOSFET is determined by both the electrical properties required of the device in the circuit and the "design rules" imposed by the technology. For example, $W / L$ is chosen to set the transconductance or other circuit parameters while the minimum $L$ is dictated by the process. In addition to the gate, the source and drain areas must be defined properly as well.

Shown in Fig. 2.29 are the "bird's-eye view" and the top view of a MOSFET. The gate polysilicon and the source and drain terminals must be tied to metal (aluminum) wires that serve as interconnects with low resistance and capacitance. To accomplish this, one or more "contact windows" must be opened in each region, filled with metal, and connected to the upper metal wires. Note that the gate poly extends beyond the channel area by some amount to ensure reliable definition of the "edge" of the transistor.

The source and drain junctions play an important role in the performance. To minimize the capacitance of $S$ and $D$, the total area of each junction must be minimized. We see from Fig. 2.29 that one dimension of the junctions is equal to $W$. The other dimension must be large enough to accommodate the contact windows and is specified by the technology design rules. ${ }^{7}$

[^5]![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-027.jpg?height=437&width=1085&top_left_y=235&top_left_x=423)

Figure 2.29 Bird's-eye and vertical views of a MOS device.

#### Example 2.9

Draw the layout of the circuit shown in Fig. 2.30(a).
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-027.jpg?height=487&width=1236&top_left_y=922&top_left_x=350)

Figure 2.30

#### Solution

Observing that $M_{1}$ and $M_{2}$ share the same $\mathrm{S} / \mathrm{D}$ junctions at node $C$ and $M_{2}$ and $M_{3}$ also do so at node $N$, we surmise that the three transistors can be laid out as shown in Fig. 2.30(b). Connecting the remaining terminals, we obtain the layout in Fig. 2.30(c). Note that the gate polysilicon of $M_{3}$ cannot be directly tied to the source material of $M_{1}$, thus requiring a metal interconnect.

### 2.4.2 MOS Device Capacitances

The basic quadratic I/V relationships derived in the previous section, along with corrections for body effect and channel-length modulation, provide some understanding of the low-frequency behavior of CMOS circuits. In many analog circuits, however, the capacitances associated with the devices must also be taken into account so as to predict the high-frequency behavior as well.

We expect that a capacitance exists between every two of the four terminals of a MOSFET (Fig. 2.31). ${ }^{8}$ Moreover, the value of each of these capacitances may depend on the bias conditions of the transistor.

[^6]![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-028.jpg?height=1013&width=1448&top_left_y=226&top_left_x=311)

Figure 2.32 (a) MOS device capacitances; (b) decomposition of S/D junction capacitance into bottom-plate and sidewall components.

#### Nanometer Design Notes

New generations of CMOS technology incorporate the "FinFET" structure. Unlike the conventional "planar" device, the FinFET extends in the third dimension. As shown below, it consists of an $n^{+}$ wall (resembling a shark's fin) and a gate that wraps around the wall. The transistor carries current from the source to the drain on the surfaces of the fin. Owing to the tight confinement of the electric field between the two vertical walls of the gate, the FinFET exhibits less channel-length modulation and subthreshold leakage. But where do the S/D contacts land? What other issues do we face in FinFETs? We return to these questions later in this book.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-028.jpg?height=323&width=268&top_left_y=1990&top_left_x=258)

Considering the physical structure in Fig. 2.32(a), we identify the following: (1) the oxide capacitance between the gate and the channel, $C_{1}=W L C_{o x}$; (2) the depletion capacitance between the channel and the substrate, $C_{2}=$ $W L \sqrt{q \epsilon_{s i} N_{s u b} /\left(4 \Phi_{F}\right)}$; and (3) the capacitance due to the overlap of the gate poly with the source and drain areas, $C_{3}$ and $C_{4}$. Owing to fringing electric field lines, $C_{3}$ and $C_{4}$ cannot be simply written as $W L_{D} C_{o x}$, and are usually obtained by more elaborate calculations. The overlap capacitance per unit width is denoted by $C_{o v}$ and expressed in $\mathrm{F} / \mathrm{m}$ (or $\mathrm{fF} / \mu \mathrm{m}$ ). We simply multiply $C_{o v}$ by $W$ to find the gate-source and gate-drain overlap capacitances. (4) The junction capacitance between the source/drain areas and the substrate. As shown in Fig. 2.32(b), this last capacitance is decomposed into two components: the bottom-plate capacitance associated with the bottom of the junction, $C_{j}$, and the sidewall capacitance due to the perimeter of the junction, $C_{j s w}$. The distinction is necessary because different transistor geometries yield different area and perimeter values for the S/D junctions. We specify $C_{j}$ and $C_{j s w}$ as capacitance per unit area (in $\mathrm{F} / \mathrm{m}^{2}$ ) and unit length (in $\mathrm{F} / \mathrm{m}$ ), respectively. Thus, $C_{j}$ is multiplied by the S/D area, and $C_{j s w}$ by the S/D perimeter. Note that each junction capacitance can be expressed as $C_{j}=C_{j 0} /\left[1+V_{R} /\left(\Phi_{B}\right)\right]^{m}$, where $V_{R}$ is the reverse voltage across the junction, $\Phi_{B}$ is the junction built-in potential, and $m$ is a power typically in the range of 0.3 and 0.4 .

#### Example 2.10

Calculate the source and drain junction capacitances of the two structures shown in Fig. 2.33.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-029.jpg?height=636&width=805&top_left_y=376&top_left_x=566)

Figure 2.33

#### Solution

For the transistor in Fig. 2.33(a), we have

$$
\begin{equation*}
C_{D B}=C_{S B}=W E C_{j}+2(W+E) C_{j s w} \tag{2.40}
\end{equation*}
$$

whereas for that in Fig. 2.33(b),

$$
\begin{align*}
C_{D B} & =\frac{W}{2} E C_{j}+2\left(\frac{W}{2}+E\right) C_{j s w}  \tag{2.41}\\
C_{S B} & =2\left[\frac{W}{2} E C_{j}+2\left(\frac{W}{2}+E\right) C_{j s w}\right]  \tag{2.42}\\
& =W E C_{j}+2(W+2 E) C_{j s w} \tag{2.43}
\end{align*}
$$

Called a "folded" structure, the geometry in Fig. 2.33(b) exhibits substantially less drain junction capacitance than that in Fig. 2.33(a) while providing the same $W / L$.

In the above calculations, we have assumed that the total source or drain perimeter, $2(W+E)$, is multiplied by $C_{j s w}$. In reality, the capacitance of the inner sidewall (under the gate) may be different from that of the other sidewalls. ${ }^{9}$ Nonetheless, we typically assume that all four sides have the same $C_{j s w}$. The error resulting from this assumption is negligible because each node in a circuit is connected to a number of other device capacitances as well.

We now derive the capacitances between terminals of a MOSFET in different regions of operation. If the device is off, $C_{G D}=C_{G S}=C_{o v} W$, and the gate-bulk capacitance consists of the series combination of the gate-oxide capacitance and the depletion-region capacitance [Fig. 2.32(a)], i.e., $C_{G B}=\left(W L C_{o x}\right) C_{d} /\left(W L C_{o x}+C_{d}\right)$, where $L$ is the effective length, $C_{d}=W L \sqrt{q \epsilon_{s i} N_{s u b} /\left(4 \Phi_{F}\right)}$, and

[^7]$\epsilon_{s i}=\epsilon_{r, s i} \times \epsilon_{0}=11.8 \times\left(8.85 \times 10^{-14}\right) \mathrm{F} / \mathrm{cm}$. The value of $C_{S B}$ and $C_{D B}$ is a function of the source and drain voltages with respect to the substrate.

If the device is in the deep triode region, i.e., if $S$ and $D$ have approximately equal voltages, then the gate-channel capacitance, $W L C_{o x}$, is divided equally between the gate and source terminals and the gate and drain terminals (Fig. 2.34). This is because a change of $\Delta V$ in the gate voltage draws equal amounts of charge from S and D . Thus, $C_{G D}=C_{G S}=W L C_{o x} / 2+W C_{o v}$.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-030.jpg?height=347&width=1166&top_left_y=559&top_left_x=452)

Figure 2.34 Variation of gate-source and gate-drain capacitances versus $V_{G S}$.

Let us now consider $C_{G D}$ and $C_{G S}$. If in saturation, a MOSFET exhibits a gate-drain capacitance roughly equal to $W C_{o v}$. As for $C_{G S}$, we note that the potential difference between the gate and the channel varies from $V_{G S}$ at the source to $V_{T H}$ at the pinch-off point, resulting in a nonuniform vertical electric field in the gate oxide as we travel from the source to the drain. It can be proved that the equivalent capacitance of this structure, excluding the gate-source overlap capacitance, equals (2/3)WLC $C_{o x}$ [1]. Thus, $C_{G S}=2 W L_{e f f} C_{o x} / 3+W C_{o v}$. The behavior of $C_{G D}$ and $C_{G S}$ in different regions of operation is plotted in Fig. 2.34. Note that the above equations do not provide a smooth transition from one region of operation to another, creating convergence difficulties in simulation programs. This issue is revisited in Chapter 17.

The gate-bulk capacitance is usually neglected in the triode and saturation regions because the inversion layer acts as a "shield" between the gate and the bulk. In other words, if the gate voltage varies, the charge is supplied by the source and the drain rather than the bulk.

Example 2.11
Sketch the capacitances of $M_{1}$ in Fig. 2.35 as $V_{X}$ varies from zero to 3 V . Assume that $V_{T H}=0.3 \mathrm{~V}$ and $\lambda=\gamma=0$.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-030.jpg?height=321&width=249&top_left_y=1707&top_left_x=644)

Figure 2.35

#### Solution

To avoid confusion, we label the three terminals as shown in Fig. 2.35 and denote the bulk by $B$. For $V_{X} \approx 0, M_{1}$ is in the triode region, $C_{E N} \approx C_{E F}=(1 / 2) W L C_{o x}+W C_{o v}$, and $C_{F B}$ is maximum. The value of $C_{N B}$ is independent of $V_{X}$. As $V_{X}$ exceeds 1 V , the role of the source and drain is exchanged [Fig. 2.36(a)], eventually bringing $M_{1}$ out of the triode region for $V_{X} \geq 2 \mathrm{~V}-0.3 \mathrm{~V}$. The variation of the capacitances is plotted in Figs. 2.36(b) and (c).
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-031.jpg?height=384&width=1507&top_left_y=233&top_left_x=230)

Figure 2.36

### 2.4.3 MOS Small-Signal Model

The quadratic characteristics described by (2.8) and (2.9) along with the voltage-dependent capacitances derived above form the large-signal model of MOSFETs. Such a model proves essential in analyzing circuits in which the signal significantly disturbs the bias points, particularly if nonlinear effects are of concern. By contrast, if the perturbation in bias conditions is small, a "small-signal" model, i.e., an approximation of the large-signal model around the operating point, can be employed to simplify the calculations. Since in many analog circuits, MOSFETs are biased in the saturation region, we derive the corresponding small-signal model here. For transistors operating as switches, a linear resistor given by (2.11) together with device capacitances serves as a rough small-signal equivalent.

We derive the small-signal model by producing a small increment in one bias parameter and calculating the resulting increment in other bias parameters. Specifically, we (1) apply certain bias voltages to the terminals of the device, (2) increment the potential difference between two of the terminals while other terminal voltages remain constant, and (3) measure the resulting change in all terminal currents. If we change the voltage between two terminals by $\Delta V$ and measure a current change of $\Delta I$ in some branch, we can model the effect by a voltage-dependent current source. Let us apply a change to the gate-source voltage, $\Delta V=V_{G S}$, where $V_{G S}$ is a small-signal quantity. ${ }^{10}$ The drain current therefore changes by $g_{m} V_{G S}$ and is modeled by a voltage-dependent current source tied between the drain and source terminals [Fig. 2.37(a)]. The gate current is very small and its change is negligible, thus requiring no representation here. The result is the small-signal model of an ideal MOSFET-the model that an analog designer applies to most devices in a circuit at first glance.

Owing to channel-length modulation, the drain current also varies with the drain-source voltage. This effect can be modeled by a voltage-dependent current source [Fig. 2.37(b)], but a current source whose value linearly depends on the voltage across it is equivalent to a linear resistor [Fig. 2.37(c)] (why?). Tied between D and S , the resistor is given by

$$
\begin{align*}
r_{O} & =\frac{\partial V_{D S}}{\partial I_{D}}  \tag{2.44}\\
& =\frac{1}{\partial I_{D} / \partial V_{D S}}  \tag{2.45}\\
& =\frac{1}{\frac{1}{2} \mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right)^{2} \cdot \lambda} \tag{2.46}
\end{align*}
$$

[^8]![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-032.jpg?height=721&width=1251&top_left_y=190&top_left_x=412)

Figure 2.37 (a) Basic MOS small-signal model; (b) channel-length modulation represented by a dependent current source; (c) channel-length modulation represented by a resistor; (d) body effect represented by a dependent current source.

$$
\begin{align*}
& \approx \frac{1+\lambda V_{D S}}{\lambda I_{D}}  \tag{2.47}\\
& \approx \frac{1}{\lambda I_{D}} \tag{2.48}
\end{align*}
$$

where it is assumed that $\lambda V_{D S} \ll 1$. As seen throughout this book, the output resistance, $r_{O}$, affects the performance of many analog circuits. For example, $r_{O}$ limits the maximum voltage gain of most amplifiers.

Now recall that the bulk potential influences the threshold voltage and hence the gate-source overdrive. As demonstrated in Example 2.3, with all other terminals held at a constant voltage, the drain current is a function of the bulk voltage. That is, the bulk behaves as a second gate. Modeling this dependence by a current source connected between D and S [Fig. 2.37(d)], we write the value as $g_{m b} V_{b s}$, where $g_{m b}=\partial I_{D} / \partial V_{B S}$. In the saturation region, $g_{m b}$ can be expressed as

$$
\begin{align*}
g_{m b} & =\frac{\partial I_{D}}{\partial V_{B S}}  \tag{2.49}\\
& =\mu_{n} C_{o x} \frac{W}{L}\left(V_{G S}-V_{T H}\right)\left(-\frac{\partial V_{T H}}{\partial V_{B S}}\right) \tag{2.50}
\end{align*}
$$

We also have

$$
\begin{align*}
\frac{\partial V_{T H}}{\partial V_{B S}} & =-\frac{\partial V_{T H}}{\partial V_{S B}}  \tag{2.51}\\
& =-\frac{\gamma}{2}\left(2 \Phi_{F}+V_{S B}\right)^{-1 / 2} \tag{2.52}
\end{align*}
$$

Thus,

$$
\begin{align*}
g_{m b} & =g_{m} \frac{\gamma}{2 \sqrt{2 \Phi_{F}+V_{S B}}}  \tag{2.53}\\
& =\eta g_{m} \tag{2.54}
\end{align*}
$$

where $\eta=g_{m b} / g_{m}$ and is typically around 0.25 . As expected, $g_{m b}$ is proportional to $\gamma$. Equation (2.53) also suggests that the incremental body effect becomes less pronounced as $V_{S B}$ increases. Note that $g_{m} V_{G S}$ and $g_{m b} V_{B S}$ have the same polarity, i.e., raising the gate voltage has the same effect as raising the bulk potential.

The model in Fig. 2.37(d) is adequate for most low-frequency small-signal analyses. In reality, each terminal of a MOSFET exhibits a finite ohmic resistance resulting from the resistivity of the material (and the contacts), but proper layout can minimize such resistances. For example, consider the two structures of Fig. 2.33, repeated in Fig. 2.38 along with the gate distributed resistance. We note that folding reduces the gate resistance by a factor of four.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-033.jpg?height=634&width=708&top_left_y=636&top_left_x=343)

Figure 2.38 Reduction of gate resistance by folding.

Shown in Fig. 2.39, the complete small-signal model includes the device capacitances as well. The value of each capacitance is calculated according to the equations derived in Sec. 2.4.2. The reader may wonder how a complex circuit is analyzed intuitively if each transistor must be replaced by the model of Fig. 2.39. The first step is to determine the simplest device model that can represent the role of each transistor with reasonable accuracy. We provide some guidelines for this task at the end of Chapter 3.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-033.jpg?height=418&width=866&top_left_y=1543&top_left_x=530)

Example 2.12
Sketch $g_{m}$ and $g_{m b}$ of $M_{1}$ in Fig. 2.40 as a function of the bias current $I_{1}$.

#### Solution

Since $g_{m}=\sqrt{2 \mu_{n} C_{o x}(W / L) I_{D}}$, we have $g_{m} \propto \sqrt{I_{1}}$. The dependence of $g_{m b}$ upon $I_{1}$ is less straightforward. As $I_{1}$ increases, $V_{X}$ decreases, and so does $V_{S B}$.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-034.jpg?height=331&width=255&top_left_y=242&top_left_x=387)
(a)
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-034.jpg?height=269&width=369&top_left_y=306&top_left_x=753)
(b)

Figure 2.40

PMOS Small-Signal Model The derivation of the small-signal model seeks changes in the terminal currents due to changes in the terminal voltage differences. As such, this derivation yields exactly the same model for PMOS devices as for NMOS devices. For example, consider the arrangement shown in Fig. 2.41(a), where the voltage source $V_{1}$ is changed by a small amount and the change in $I_{D}$ is measured (while $M_{1}$ remains in saturation). Suppose $V_{1}$ becomes more positive, making $V_{G S}$ more negative. Since the transistor now has a greater overdrive, it carries a higher current, and hence $I_{D}$ becomes more negative. (Recall that $I_{D}$, in the direction shown here, is negative because the actual current of holes flows from the source to the drain.) Thus, a negative $\Delta V_{G S}$ leads to a negative $\Delta I_{D}$. Conversely, a positive $\Delta V_{G S}$ produces a positive $\Delta I_{D}$, as is the case for an NMOS device.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-034.jpg?height=373&width=710&top_left_y=1130&top_left_x=408)

Figure 2.41 (a) Small-signal test of a PMOS device, and (b) small-signal model.

In our circuit diagrams, we usually draw the PMOS devices with their source terminals on top and their drain terminals on the bottom because the former are at a more positive voltage. This practice may cause confusion in drawing small-signal models. Let us draw the small-signal equivalent of the above circuit, assuming no channel-length modulation. Depicted in Fig. 2.41(b), the model shows the voltagedependent current source pointing upward, giving the (wrong) impression that the direction of the current in the PMOS model is the opposite of that in the NMOS model. The reader is cautioned to avoid this confusion and bear in mind that the small-signal models of NMOS and PMOS transistors are identical.

Unless otherwise stated, in this book we assume that the bulk of all NFETs is tied to the most negative supply (usually the ground) and that of PFETs to the most positive supply (usually $V_{D D}$ ).

### 2.4.4 MOS SPICE models

In order to represent the behavior of transistors in circuit simulations, simulators such as SPICE and Cadence require an accurate model for each device. Over the last three decades, MOS modeling has made tremendous progress, reaching sophisticated levels so as to represent high-order effects in shortchannel devices.

In this section, we describe the simplest MOS SPICE model, known as "Level 1," and provide typical values for each parameter in the model corresponding to a $0.5-\mu \mathrm{m}$ technology. Chapter 17 describes
more accurate SPICE models. Table 2.1 shows the model parameters for NMOS and PMOS devices. The parameters are defined as follows:

Table 2.1 Level 1 SPICE models for NMOS and PMOS devices.

| NMOS Model |  |  |  |
| :--- | :--- | :--- | :--- |
| LEVEL $=1$ | VTO $=0.7$ | GAMMA $=0.45$ | PHI $=0.9$ |
| NSUB $=9 \mathrm{e}+14$ | $\mathrm{LD}=0.08 \mathrm{e}-6$ | $\mathrm{UO}=350$ | LAMBDA $=0.1$ |
| TOX $=9 \mathrm{e}-9$ | $\mathrm{~PB}=0.9$ | $\mathrm{CJ}=0.56 \mathrm{e}-3$ | $\mathrm{CJSW}=0.35 \mathrm{e}-11$ |
| MJ $=0.45$ | $\mathrm{MJSW}=0.2$ | $\mathrm{CGDO}=0.4 \mathrm{e}-9$ | $\mathrm{JS}=1.0 \mathrm{e}-8$ |
| PMOS Model |  |  |  |
| LEVEL $=1$ | $\mathrm{VTO}=-0.8$ | $\mathrm{GAMMA}=0.4$ | $\mathrm{PHI}=0.8$ |
| NSUB $=5 \mathrm{e}+14$ | $\mathrm{LD}=0.09 \mathrm{e}-6$ | $\mathrm{UO}=100$ | LAMBDA $=0.2$ |
| TOX $=9 \mathrm{e}-9$ | $\mathrm{~PB}=0.9$ | $\mathrm{CJ}=0.94 \mathrm{e}-3$ | $\mathrm{CJSW}=0.32 \mathrm{e}-11$ |
| $\mathrm{MJ}=0.5$ | $\mathrm{MJSW}=0.3$ | $\mathrm{CGDO}=0.3 \mathrm{e}-9$ | $\mathrm{JS}=0.5 \mathrm{e}-8$ |

VTO: threshold voltage with zero $V_{S B}$ (unit: V)
GAMMA: body-effect coefficient (unit: $\mathrm{V}^{1 / 2}$ )
PHI: $2 \Phi_{F}$ (unit: V)
TOX: gate-oxide thickness (unit: m)
NSUB: substrate doping (unit: $\mathrm{cm}^{-3}$ )
LD: source/drain side diffusion (unit: m)
UO: channel mobility (unit: $\mathrm{cm}^{2} / \mathrm{V} / \mathrm{s}$ )
LAMBDA: channel-length modulation coefficient (unit: $\mathrm{V}^{-1}$ )
CJ: source/drain bottom-plate junction capacitance per unit area (unit: F/m²)
CJSW: source/drain sidewall junction capacitance per unit length (unit: F/m)
PB: source/drain junction built-in potential (unit: V)
MJ: exponent in CJ equation (unitless)
MJSW: exponent in CJSW equation (unitless)
CGDO: gate-drain overlap capacitance per unit width (unit: F/m)
CGSO: gate-source overlap capacitance per unit width (unit: F/m)
JS: source/drain leakage current per unit area (unit: $\mathrm{A} / \mathrm{m}^{2}$ )

### 2.4.5 NMOS Versus PMOS Devices

In most CMOS technologies, PMOS devices are quite inferior to NMOS transistors. For example, due to the lower mobility of holes, $\mu_{p} C_{o x} \approx 0.5 \mu_{n} C_{o x}$, yielding low current drive and transconductance. Moreover, for given dimensions and bias currents, NMOS transistors exhibit a higher output resistance, providing more ideal current sources and higher gain in amplifiers. For these reasons, incorporating NFETs rather than PFETs wherever possible is preferred. ${ }^{11}$

### 2.4.6 Long-Channel Versus Short-Channel Devices

In this chapter, we have employed a very simple view of MOSFETs so as to understand the basic principles of their operation. Most of our treatment is valid for "long-channel" devices, e.g., transistors having a minimum length of a few microns. Many of the relationships derived here must be reexamined and revised for short-channel MOSFETs. Furthermore, the SPICE models necessary for simulation of today's devices

[^9]are much more sophisticated than the Level 1 model. For example, the intrinsic gain, $g_{m} r_{O}$, calculated from the device parameters in Table 2.1 is much higher than actual values. These issues are studied in Chapter 17.

The reader may wonder why we begin with a simplistic view of devices if such a view does not lead to high accuracy in predicting the performance of circuits. The key point is that the simple model provides a great deal of intuition that is necessary in analog design. As we will see throughout this book, we often encounter a trade-off between intuition and rigor, and our approach is to establish the intuition first and gradually complete our understanding so as to achieve rigor as well.

## 2.5 - Appendix A: FinFETs

New CMOS technology generations ("nodes") have migrated from the two-dimensional transistor structure to a three-dimensional geometry called the "FinFET." This device exhibits superior performance as channel lengths fall below approximately 20 nm . In fact, FinFET I/V characteristics are closer to square-law behavior, making our simple large-signal mode relevant again.

Shown in Fig. 2.42(a), the FinFET consists of a vertical silicon "fin," a dielectric (e.g., oxide) layer deposited over the fin, and a polysilicon or metal gate created over the dielectric layer. Controlled by the gate voltage, the current flows from one end of the fin to the other. The top view looks similar to that of a planar MOSFET [Fig. 2.42(b)].
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-036.jpg?height=565&width=1033&top_left_y=1098&top_left_x=523)

Figure 2.42 (a) FinFET structure, and (b) top view.
As depicted in Fig. 2.42(a), the gate length can be readily identified, but how about the gate width? We note that the current flows on three facets of the fin. The equivalent channel width is therefore equal to the sum of the fin's width, $W_{F}$, and twice its height, $H_{F}: W=W_{F}+2 H_{F}$. Typically, $W_{F} \approx 6 \mathrm{~nm}$ and $H_{F} \approx 50 \mathrm{~nm}$.

Since $H_{F}$ is not under the circuit designer's control, it appears that $W_{F}$ can be chosen so that $W_{F}+2 H_{F}$ yields the desired transistor width. However, $W_{F}$ affects device imperfections such as source and drain series resistance, channel-length modulation, subthreshold conduction, etc. For this reason, the fin width is also fixed, dictating discrete values for the transistor width. For example, if $W_{F}+2 H_{F}=100 \mathrm{~nm}$, then wider transistors can be obtained only by increasing the number of fins and only in 100-nm increments (Fig. 2.43). The spacing between the fins, $S_{F}$, also plays a significant role in the performance and is typically fixed.

Due to the small dimensions of the intrinsic FinFET, the gate and S/D contacts must be placed away from the core of the device. Figure 2.44 shows the details for a single- and a double-fin structure.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-037.jpg?height=321&width=472&top_left_y=244&top_left_x=458)

Figure 2.43 FinFET with multiple fins.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-037.jpg?height=387&width=672&top_left_y=695&top_left_x=358)

Figure 2.44 Layout of single- and double-fin transistors.

## 2.6 ■ Appendix B: Behavior of a MOS Device as a Capacitor

In this chapter, we have limited our treatment of MOS devices to a basic level. However, the behavior of a MOSFET as a capacitor merits some attention. Recall that if the source, drain, and bulk of an NFET are grounded and the gate voltage rises, an inversion layer begins to form for $V_{G S} \approx V_{T H}$. We also noted that for $0<V_{G S}<V_{T H}$, the device operates in the subthreshold region.

Now consider the NFET of Fig. 2.45. The transistor can be considered a two-terminal device, and hence its capacitance can be examined for different gate voltages. Let us begin with a very negative gate-source voltage. The negative potential on the gate attracts the holes in the substrate to the oxide interface. We say that the MOSFET operates in the "accumulation" region. The two-terminal device can be viewed as a capacitor having a unit-area capacitance of $C_{o x}$ because the two "plates" of the capacitor are separated by $t_{o x}$.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-037.jpg?height=323&width=526&top_left_y=1726&top_left_x=426)

Figure 2.45 NMOS operating in accumulation mode.

As $V_{G S}$ rises, the density of holes at the interface falls, a depletion region begins to form under the oxide, and the device enters weak inversion. In this mode, the capacitance consists of the series combination of $C_{o x}$ and $C_{d e p}$. Finally, as $V_{G S}$ exceeds $V_{T H}$, the oxide-silicon interface sustains a channel and the unit-area capacitance returns to $C_{o x}$. Figure 2.46 plots the behavior.
![](https://cdn.mathpix.com/cropped/2024_10_28_134d5d788a0919ac264dg-038.jpg?height=346&width=677&top_left_y=247&top_left_x=427)

Figure 2.46 Capacitance-voltage characteristic of an NMOS device.
