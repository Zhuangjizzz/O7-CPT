[

{
    "text": "Remember that a MOS device possesses four capacitances: $C_{G S}, C_{G D}, C_{D B}$, and $C_{S B}$. Consequently, the transfer function of CMOS circuits can quickly become intricate, necessitating approximations to simplify the circuitry. In this section, we present two such simplifying approximations: Miller's theorem and the association of poles with nodes. We remind readers that a two-terminal impedance, $Z$, is defined as $Z=V / I$, where $V$ and $I$ represent the voltage across and the current through the device, respectively. For instance, for a capacitor, $Z=1 /(C s)$. Additionally, the transfer function of a circuit provides the frequency response when $s$ is replaced by $j \\omega$, assuming a sinusoidal input like $A \\cos \\omega t$. For example, $H(j \\omega)=(R C j \\omega+1)^{-1}$ illustrates the magnitude and phase of a basic low-pass filter.\n\nIn this chapter, our primary focus is on the magnitude of the transfer function (with $s=$ $j \\omega$). Figure 6.1 illustrates various examples of magnitude responses. It is also worth noting that, even when calculated precisely, some transfer functions may not offer substantial insights. Therefore, we examine numerous special cases by considering extreme conditions, such as when the load capacitance is either very small or very large.\n\nSeveral fundamental concepts are frequently employed throughout this chapter and warrant a brief review. (1) The magnitude of a complex number $a+j b$ is $\\sqrt{a^{2}+b^{2}}$. (2) Zeros and poles are defined as the roots of the numerator and denominator of the transfer function, respectively. (3) According to Bode's approximations, the slope of the magnitude of a transfer function increases by $20 \\mathrm{~dB} /$ decade as $\\omega$ surpasses a pole frequency and decreases by $20 \\mathrm{~dB} /$ decade as $\\omega$ exceeds a zero frequency.\nimage_name:(a)\ndescription:The graph labeled (a) is a frequency response plot, specifically a Bode magnitude plot, for a low-pass filter.\n\n1. **Type of Graph and Function:**\n- This is a Bode magnitude plot, depicting the frequency response of a low-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis represents the magnitude of the transfer function, \\(\\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right|\\), typically in decibels (dB), though the exact unit is not specified in the image.\n- The horizontal axis depicts the angular frequency \\(\\omega\\), usually in radians per second or hertz, plotted on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The plot exhibits a typical low-pass filter response, where the magnitude remains relatively constant at low frequencies, indicating that these frequencies are passed through.\n- As the frequency increases beyond a certain cutoff frequency, the magnitude starts to decrease, signifying attenuation of higher frequencies.\n- The slope of the decrease is generally \\(-20 \\text{ dB/decade}\\) for a first-order low-pass filter.\n\n4. **Key Features and Technical Details:**\n- The plot begins at a higher magnitude, indicating minimal attenuation of low frequencies.\n- There is a distinct point where the slope changes, marking the cutoff frequency. Beyond this point, the filter significantly attenuates the input signal.\n- The exact cutoff frequency and gain levels are not numerically specified in the graph.\n\n5. **Annotations and Specific Data Points:**\n- The graph lacks specific annotations or numerical data points. The cutoff frequency is inferred from the change in slope but is not explicitly marked.\nimage_name:(b)\ndescription:The graph labeled as (b) depicts a band-pass frequency response. This type of graph is typically a Bode plot, used to illustrate the frequency response of a system.\n\n1. **Type of Graph and Function:**\n- This is a Bode plot showing the magnitude response of a band-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\(|V_{out}/V_{in}(j\\omega)|\\), indicating the ratio of output voltage to input voltage. The scale is logarithmic, common for Bode plots.\n- The horizontal axis represents angular frequency, \\(\\omega\\), typically measured in radians per second, also on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a peak in magnitude at a specific frequency, indicating the passband of the filter. This is characteristic of a band-pass filter, which allows frequencies within a certain range to pass while attenuating frequencies outside this range.\n- The magnitude increases as the frequency approaches the center of the passband, reaches a peak, and then decreases as the frequency moves away from the passband.\n\n4. **Key Features and Technical Details:**\n- The peak of the graph represents the center frequency of the band-pass filter, where the gain is highest.\n- The bandwidth of the filter is defined by the range of frequencies over which the magnitude is significantly above the baseline.\n- There are two critical points where the slope changes: one where the magnitude starts increasing towards the peak and another where it starts decreasing after the peak.\n\n5. **Annotations and Specific Data Points:**\n- Specific numerical values are not provided in this graph, but key points would include the center frequency and the -3 dB points defining the bandwidth.\n- No additional annotations or reference lines are present in the graph.\nimage_name:(c)\ndescription:The graph labeled (c) is a frequency-response curve representing a high-pass filter. This is a Bode magnitude plot, showing the gain of the filter as a function of frequency.\n\n1. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\( \\left| \\frac{V_{\\text{out}}}{V_{\\text{in}}}(j\\omega) \\right| \\), representing the ratio of the output voltage to the input voltage in the frequency domain. This axis typically uses a logarithmic scale in decibels (dB), though specific units are not shown in the diagram.\n- The horizontal axis is labeled with \\( \\omega \\), representing angular frequency. This axis is typically on a logarithmic scale, indicating that the frequency increases exponentially from left to right.\n\n2. **Overall Behavior and Trends:**\n- The graph starts with a low magnitude at low frequencies, indicating that the filter attenuates signals in this range.\n- As the frequency increases, the magnitude sharply rises, indicating the cutoff frequency where the filter begins to pass higher frequencies with less attenuation.\n- After the initial rise, the magnitude levels off and remains constant, showing that high frequencies are passed with consistent gain.\n\n3. **Key Features and Technical Details:**\n- The sharp increase in magnitude at a certain frequency indicates the cutoff frequency, beyond which the filter effectively passes signals.\n- The flat region at higher frequencies suggests that the filter provides a constant gain for frequencies above the cutoff.\n\n4. **Annotations and Specific Data Points:**\n- Specific numerical values for the cutoff frequency or gain are not provided in the graph, but the general shape indicates a standard high-pass filter response.\n\nFigure 6.1 (a) Low-pass, (b) band-pass, and (c) high-pass frequency-response examples."
},
{
    "text": "Recall that a MOS device exhibits four capacitances: $C_{G S}, C_{G D}, C_{D B}$, and $C_{S B}$. Consequently, the transfer function of CMOS circuits can quickly become complex, necessitating approximations to simplify the circuit. In this section, we present two such approximations: Miller's theorem and the association of poles with nodes. We remind the reader that a two-terminal impedance, $Z$, is defined as $Z=V / I$, where $V$ and $I$ represent the voltage across and the current through the device. For instance, $Z=1 /(C s)$ for a capacitor. Additionally, the transfer function of a circuit provides the frequency response when $s$ is replaced by $j \\omega$, assuming a sinusoidal input like $A \\cos \\omega t$. For example, $H(j \\omega)=(R C j \\omega+1)^{-1}$ outlines the magnitude and phase of a simple low-pass filter.\n\nIn this chapter, our primary focus is on the magnitude of the transfer function (with $s=$ $j \\omega$). Figure 6.1 illustrates examples of magnitude responses. It is also worth noting that, even when computed precisely, some transfer functions do not offer significant insights. Therefore, we examine various special cases under extreme conditions, such as when the load capacitance is either very small or very large.\n\nSeveral fundamental concepts are extensively utilized throughout this chapter and warrant a brief review. (1) The magnitude of a complex number $a+j b$ is $\\sqrt{a^{2}+b^{2}}$. (2) Zeros and poles are defined as the roots of the numerator and denominator of the transfer function, respectively. (3) According to Bode's approximations, the slope of the magnitude of a transfer function increases by $20 \\mathrm{~dB} /$ decade as $\\omega$ surpasses a pole frequency and decreases by $20 \\mathrm{~dB} /$ decade as $\\omega$ exceeds a zero frequency.\nimage_name:(a)\ndescription:The graph labeled (a) is a frequency response plot, specifically a Bode magnitude plot, for a low-pass filter.\n\n1. **Type of Graph and Function:**\n- This is a Bode magnitude plot, depicting the frequency response of a low-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis represents the magnitude of the transfer function, \\(\\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right|\\), typically in decibels (dB), though the exact unit is not specified in the image.\n- The horizontal axis represents the angular frequency \\(\\omega\\), usually in radians per second or hertz, plotted on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The plot exhibits a characteristic low-pass filter response, where the magnitude remains relatively constant at low frequencies, indicating that these frequencies are passed through.\n- As the frequency increases beyond a certain cutoff frequency, the magnitude begins to decline, indicating the attenuation of higher frequencies.\n- The slope of the decline is typically \\(-20 \\text{ dB/decade}\\) for a first-order low-pass filter.\n\n4. **Key Features and Technical Details:**\n- The plot starts at a higher magnitude, indicating minimal attenuation of low frequencies.\n- There is a distinct point where the slope changes, marking the cutoff frequency. Beyond this point, the filter significantly attenuates the input signal.\n- The exact cutoff frequency and gain levels are not numerically specified in the graph.\n\n5. **Annotations and Specific Data Points:**\n- The graph lacks specific annotations or numerical data points. The cutoff frequency is implied by the change in slope but is not explicitly marked.\nimage_name:(b)\ndescription:The graph labeled as (b) represents a band-pass frequency response. This type of graph is typically a Bode plot, used to illustrate the frequency response of a system.\n\n1. **Type of Graph and Function:**\n- This is a Bode plot showing the magnitude response of a band-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\(|V_{out}/V_{in}(j\\omega)|\\), indicating the ratio of output voltage to input voltage. The scale is logarithmic, common for Bode plots.\n- The horizontal axis represents angular frequency, \\(\\omega\\), typically measured in radians per second, also on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a peak in magnitude at a specific frequency, indicating the passband of the filter. This is typical of a band-pass filter, which allows frequencies within a certain range to pass while attenuating frequencies outside this range.\n- The magnitude increases as the frequency approaches the center of the passband, reaches a peak, and then decreases as the frequency moves away from the passband.\n\n4. **Key Features and Technical Details:**\n- The peak of the graph represents the center frequency of the band-pass filter, where the gain is highest.\n- The bandwidth of the filter is defined by the range of frequencies over which the magnitude is significantly above the baseline.\n- There are two critical points where the slope changes: one where the magnitude starts increasing towards the peak and another where it starts decreasing after the peak.\n\n5. **Annotations and Specific Data Points:**\n- Specific numerical values are not provided in this graph, but key points would include the center frequency and the -3 dB points defining the bandwidth.\n- No additional annotations or reference lines are present in the graph.\nimage_name:(c)\ndescription:The graph labeled (c) is a frequency-response curve representing a high-pass filter. This is a Bode magnitude plot, showing the gain of the filter as a function of frequency.\n\n1. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\( \\left| \\frac{V_{\\text{out}}}{V_{\\text{in}}}(j\\omega) \\right| \\), representing the ratio of the output voltage to the input voltage in the frequency domain. This axis typically uses a logarithmic scale in decibels (dB), though specific units are not shown in the diagram.\n- The horizontal axis is labeled with \\( \\omega \\), representing angular frequency. This axis is on a logarithmic scale, indicating an exponential increase in frequency from left to right.\n\n2. **Overall Behavior and Trends:**\n- The graph begins with a low magnitude at low frequencies, indicating attenuation of signals in this range.\n- As the frequency increases, the magnitude sharply rises, indicating the cutoff frequency where the filter starts to pass higher frequencies with less attenuation.\n- After the initial rise, the magnitude levels off, showing consistent gain for high frequencies.\n\n3. **Key Features and Technical Details:**\n- The sharp increase in magnitude at a specific frequency indicates the cutoff frequency, beyond which the filter effectively passes signals.\n- The flat region at higher frequencies suggests constant gain for frequencies above the cutoff.\n\n4. **Annotations and Specific Data Points:**\n- Specific numerical values for the cutoff frequency or gain are not provided in the graph, but the general shape indicates a standard high-pass filter response.\n\nFigure 6.1 (a) Low-pass, (b) band-pass, and (c) high-pass frequency-response examples."
},
{
    "text": "Recall that a MOS device has four capacitances: $C_{G S}, C_{G D}, C_{D B}$, and $C_{S B}$. Consequently, the transfer function of CMOS circuits can quickly become complex, necessitating approximations to simplify the circuit. In this section, we present two such approximations: Miller's theorem and the association of poles with nodes. We remind the reader that a two-terminal impedance, $Z$, is defined as $Z=V / I$, where $V$ and $I$ represent the voltage across and the current through the device. For instance, $Z=1 /(C s)$ for a capacitor. Additionally, the transfer function of a circuit provides the frequency response when $s$ is replaced with $j \\omega$, assuming a sinusoidal input like $A \\cos \\omega t$. For example, $H(j \\omega)=(R C j \\omega+1)^{-1}$ gives the magnitude and phase of a simple low-pass filter.\n\nIn this chapter, our primary focus is on the magnitude of the transfer function (with $s=$ $j \\omega$). Figure 6.1 illustrates examples of magnitude responses. It should also be noted that some transfer functions, even when computed exactly, offer limited insight. Therefore, we examine various special cases by considering extreme conditions, such as very small or very large load capacitance.\n\nSeveral basic concepts are frequently used in this chapter and warrant a brief review. (1) The magnitude of a complex number $a+j b$ is $\\sqrt{a^{2}+b^{2}}$. (2) Zeros and poles are defined as the roots of the numerator and denominator of the transfer function, respectively. (3) According to Bode's approximations, the slope of the magnitude of a transfer function increases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a pole frequency and decreases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a zero frequency.\nimage_name:(a)\ndescription:The graph labeled (a) is a frequency response plot, specifically a Bode magnitude plot, for a low-pass filter.\n\n1. **Type of Graph and Function:**\n- This is a Bode magnitude plot, depicting the frequency response of a low-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis shows the magnitude of the transfer function, \\(\\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right|\\), typically in decibels (dB), though the exact unit is not specified in the image.\n- The horizontal axis represents the angular frequency \\(\\omega\\), usually in radians per second or hertz, plotted on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The plot exhibits a typical low-pass filter response, where the magnitude remains relatively constant at low frequencies, indicating that these frequencies are passed through.\n- As the frequency increases beyond a certain cutoff frequency, the magnitude decreases, indicating the attenuation of higher frequencies.\n- The slope of the decrease is typically \\(-20 \\text{ dB/decade}\\) for a first-order low-pass filter.\n\n4. **Key Features and Technical Details:**\n- The plot starts at a higher magnitude, indicating minimal attenuation of low frequencies.\n- There is a distinct point where the slope changes, marking the cutoff frequency. Beyond this point, the filter significantly attenuates the input signal.\n- The exact cutoff frequency and gain levels are not numerically specified in the graph.\n\n5. **Annotations and Specific Data Points:**\n- No specific annotations or numerical data points are provided on the graph. The cutoff frequency is implied by the change in slope but is not explicitly marked.\nimage_name:(b)\ndescription:The graph labeled (b) depicts a band-pass frequency response. This type of graph is typically a Bode plot, used to illustrate the frequency response of a system.\n\n1. **Type of Graph and Function:**\n- This is a Bode plot showing the magnitude response of a band-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\(|V_{out}/V_{in}(j\\omega)|\\), indicating the ratio of output voltage to input voltage. The scale is logarithmic, common for Bode plots.\n- The horizontal axis represents angular frequency, \\(\\omega\\), typically measured in radians per second, on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a peak in magnitude at a specific frequency, indicating the passband of the filter. This is characteristic of a band-pass filter, which allows frequencies within a certain range to pass while attenuating frequencies outside this range.\n- The magnitude increases as the frequency approaches the center of the passband, reaches a peak, and then decreases as the frequency moves away from the passband.\n\n4. **Key Features and Technical Details:**\n- The peak of the graph represents the center frequency of the band-pass filter, where the gain is highest.\n- The bandwidth of the filter is defined by the range of frequencies over which the magnitude is significantly above the baseline.\n- There are two critical points where the slope changes: one where the magnitude starts increasing towards the peak and another where it starts decreasing after the peak.\n\n5. **Annotations and Specific Data Points:**\n- Specific numerical values are not provided in the graph, but key points would include the center frequency and the -3 dB points defining the bandwidth.\n- No additional annotations or reference lines are present in the graph.\nimage_name:(c)\ndescription:The graph labeled (c) is a frequency-response curve for a high-pass filter. This is a Bode magnitude plot, showing the gain of the filter as a function of frequency.\n\n1. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\( \\left| \\frac{V_{\\text{out}}}{V_{\\text{in}}}(j\\omega) \\right| \\), representing the ratio of the output voltage to the input voltage in the frequency domain. This axis typically uses a logarithmic scale in decibels (dB), though specific units are not shown in the diagram.\n- The horizontal axis is labeled with \\( \\omega \\), representing angular frequency. This axis is on a logarithmic scale, indicating an exponential increase in frequency from left to right.\n\n2. **Overall Behavior and Trends:**\n- The graph starts with a low magnitude at low frequencies, indicating attenuation of these signals.\n- As the frequency increases, the magnitude rises sharply, indicating the cutoff frequency where the filter begins to pass higher frequencies with less attenuation.\n- After the initial rise, the magnitude levels off, showing that high frequencies are passed with consistent gain.\n\n3. **Key Features and Technical Details:**\n- The sharp increase in magnitude at a certain frequency marks the cutoff frequency, beyond which the filter effectively passes signals.\n- The flat region at higher frequencies suggests that the filter provides a constant gain for frequencies above the cutoff.\n\n4. **Annotations and Specific Data Points:**\n- Specific numerical values for the cutoff frequency or gain are not provided in the graph, but the general shape indicates a standard high-pass filter response.\n\nFigure 6.1 (a) Low-pass, (b) band-pass, and (c) high-pass frequency-response examples."
},
{
    "text": "Recall that a MOS device exhibits four capacitances: $C_{G S}, C_{G D}, C_{D B}$, and $C_{S B}$. Consequently, the transfer function of CMOS circuits can quickly become complex, necessitating approximations to simplify the circuit. In this section, we present two such approximations: Miller's theorem and the association of poles with nodes. We remind the reader that a two-terminal impedance, $Z$, is defined as $Z=V / I$, where $V$ and $I$ represent the voltage across and the current through the device. For instance, $Z=1 /(C s)$ for a capacitor. Additionally, the transfer function of a circuit provides the frequency response when $s$ is replaced with $j \\omega$, assuming a sinusoidal input like $A \\cos \\omega t$. For example, $H(j \\omega)=(R C j \\omega+1)^{-1}$ reveals the magnitude and phase of a simple low-pass filter.\n\nIn this chapter, our primary focus is on the magnitude of the transfer function (with $s=$ $j \\omega$). Figure 6.1 illustrates examples of magnitude responses. It is also worth noting that, even when computed precisely, some transfer functions offer limited insight. Therefore, we examine various special cases under extreme conditions, such as very small or very large load capacitance.\n\nSeveral fundamental concepts are extensively used throughout this chapter and warrant a brief review. (1) The magnitude of a complex number $a+j b$ is $\\sqrt{a^{2}+b^{2}}$. (2) Zeros and poles are defined as the roots of the numerator and denominator of the transfer function, respectively. (3) According to Bode's approximations, the slope of the magnitude of a transfer function increases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a pole frequency and decreases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a zero frequency.\nimage_name:(a)\ndescription:The graph labeled (a) is a frequency response plot, specifically a Bode magnitude plot, for a low-pass filter.\n\n1. **Type of Graph and Function:**\n- This is a Bode magnitude plot, depicting the frequency response of a low-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis represents the magnitude of the transfer function, \\(\\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right|\\), typically in decibels (dB), though the exact unit is not specified in the image.\n- The horizontal axis represents the angular frequency \\(\\omega\\), usually in radians per second or hertz, plotted on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The plot exhibits a typical low-pass filter response, where the magnitude remains relatively constant at low frequencies, indicating that these frequencies are passed through.\n- As the frequency increases beyond a certain cutoff frequency, the magnitude decreases, indicating the attenuation of higher frequencies.\n- The slope of the decrease is typically \\(-20 \\text{ dB/decade}\\) for a first-order low-pass filter.\n\n4. **Key Features and Technical Details:**\n- The plot starts at a higher magnitude, indicating minimal attenuation of low frequencies.\n- There is a distinct point where the slope changes, marking the cutoff frequency, beyond which the filter significantly attenuates the input signal.\n- The exact cutoff frequency and gain levels are not numerically specified in the graph.\n\n5. **Annotations and Specific Data Points:**\n- No specific annotations or numerical data points are provided on the graph. The cutoff frequency is implied by the change in slope but is not explicitly marked.\nimage_name:(b)\ndescription:The graph labeled as (b) depicts a band-pass frequency response. This type of graph is typically a Bode plot, used to illustrate the frequency response of a system.\n\n1. **Type of Graph and Function:**\n- This is a Bode plot showing the magnitude response of a band-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\(|V_{out}/V_{in}(j\\omega)|\\), indicating the ratio of output voltage to input voltage. The scale is logarithmic, common for Bode plots.\n- The horizontal axis represents angular frequency, \\(\\omega\\), typically measured in radians per second, on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The graph shows a peak in magnitude at a specific frequency, indicating the passband of the filter. This is characteristic of a band-pass filter, which allows frequencies within a certain range to pass while attenuating frequencies outside this range.\n- The magnitude increases as the frequency approaches the center of the passband, reaches a peak, and then decreases as the frequency moves away from the passband.\n\n4. **Key Features and Technical Details:**\n- The peak of the graph represents the center frequency of the band-pass filter, where the gain is highest.\n- The bandwidth of the filter is defined by the range of frequencies over which the magnitude is significantly above the baseline.\n- There are two critical points where the slope changes: one where the magnitude starts increasing towards the peak and another where it starts decreasing after the peak.\n\n5. **Annotations and Specific Data Points:**\n- Specific numerical values are not provided in the graph, but key points would include the center frequency and the -3 dB points defining the bandwidth.\n- No additional annotations or reference lines are present in the graph.\nimage_name:(c)\ndescription:The graph labeled (c) is a frequency-response curve for a high-pass filter. This is a Bode magnitude plot, showing the filter's gain as a function of frequency.\n\n1. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\( \\left| \\frac{V_{\\text{out}}}{V_{\\text{in}}}(j\\omega) \\right| \\), representing the ratio of the output voltage to the input voltage in the frequency domain. This axis typically uses a logarithmic scale in decibels (dB), though specific units are not shown in the diagram.\n- The horizontal axis is labeled with \\( \\omega \\), representing angular frequency. This axis is on a logarithmic scale, indicating an exponential increase in frequency from left to right.\n\n2. **Overall Behavior and Trends:**\n- The graph starts with a low magnitude at low frequencies, indicating attenuation of signals in this range.\n- As the frequency increases, the magnitude rises sharply, indicating the cutoff frequency where the filter begins to pass higher frequencies with less attenuation.\n- After the initial rise, the magnitude levels off, showing that high frequencies are passed with consistent gain.\n\n3. **Key Features and Technical Details:**\n- The sharp increase in magnitude at a certain frequency indicates the cutoff frequency, beyond which the filter effectively passes signals.\n- The flat region at higher frequencies suggests that the filter provides a constant gain for frequencies above the cutoff.\n\n4. **Annotations and Specific Data Points:**\n- Specific numerical values for the cutoff frequency or gain are not provided in the graph, but the general shape indicates a standard high-pass filter response.\n\nFigure 6.1 (a) Low-pass, (b) band-pass, and (c) high-pass frequency-response examples."
},
{
    "text": "Recall that a MOS device exhibits four capacitances: $C_{G S}, C_{G D}, C_{D B}$, and $C_{S B}$. Consequently, the transfer function of CMOS circuits can quickly become complex, necessitating approximations to simplify the circuit. In this section, we introduce two such approximations: Miller's theorem and the association of poles with nodes. We remind the reader that a two-terminal impedance, $Z$, is defined as $Z=V / I$, where $V$ and $I$ represent the voltage across and the current through the device. For instance, $Z=1 /(C s)$ for a capacitor. Additionally, the transfer function of a circuit provides the frequency response when $s$ is replaced with $j \\omega$, assuming a sinusoidal input like $A \\cos \\omega t$. For example, $H(j \\omega)=(R C j \\omega+1)^{-1}$ gives the magnitude and phase of a simple low-pass filter.\n\nIn this chapter, our primary focus is on the magnitude of the transfer function (with $s=$ $j \\omega$). Figure 6.1 illustrates examples of magnitude responses. It is also worth noting that, even when computed exactly, some transfer functions do not offer significant insights. Therefore, we examine various special cases by considering extreme conditions, such as very small or very large load capacitance.\n\nSeveral fundamental concepts are extensively used throughout this chapter and warrant a brief review. (1) The magnitude of a complex number $a+j b$ is $\\sqrt{a^{2}+b^{2}}$. (2) Zeros and poles are defined as the roots of the numerator and denominator of the transfer function, respectively. (3) According to Bode's approximations, the slope of the magnitude of a transfer function increases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a pole frequency and decreases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a zero frequency.\nimage_name:(a)\ndescription:The graph labeled (a) is a frequency response plot, specifically a Bode magnitude plot, for a low-pass filter.\n\n1. **Type of Graph and Function:**\n- This is a Bode magnitude plot, depicting the frequency response of a low-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis represents the magnitude of the transfer function, \\(\\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right|\\), typically in decibels (dB), though the exact unit is not specified in the image.\n- The horizontal axis represents the angular frequency \\(\\omega\\), usually in radians per second or hertz, plotted on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The plot exhibits a characteristic low-pass filter response, where the magnitude remains relatively constant at low frequencies, indicating that these frequencies are passed through.\n- As the frequency increases beyond a certain cutoff frequency, the magnitude begins to decline, indicating the attenuation of higher frequencies.\n- The slope of the decrease is typically \\(-20 \\text{ dB/decade}\\) for a first-order low-pass filter.\n\n4. **Key Features and Technical Details:**\n- The plot starts at a higher magnitude, indicating minimal attenuation of low frequencies.\n- There is a distinct point where the slope changes, marking the cutoff frequency. Beyond this point, the filter significantly attenuates the input signal.\n- The exact cutoff frequency and gain levels are not numerically specified in the graph.\n\n5. **Annotations and Specific Data Points:**\n- No specific annotations or numerical data points are provided on the graph. The cutoff frequency is implied by the change in slope but is not explicitly marked.\nimage_name:(b)\ndescription:The graph labeled as (b) represents a band-pass frequency response. This type of graph is typically a Bode plot, used to illustrate the frequency response of a system.\n\n1. **Type of Graph and Function:**\n- This is a Bode plot showing the magnitude response of a band-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\(|V_{out}/V_{in}(j\\omega)|\\), indicating the ratio of output voltage to input voltage. The scale is logarithmic, common for Bode plots.\n- The horizontal axis represents angular frequency, \\(\\omega\\), typically measured in radians per second, also on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a peak in magnitude at a specific frequency, indicating the passband of the filter. This is typical of a band-pass filter, which allows frequencies within a certain range to pass while attenuating frequencies outside this range.\n- The magnitude increases as the frequency approaches the center of the passband, reaches a peak, and then decreases as the frequency moves away from the passband.\n\n4. **Key Features and Technical Details:**\n- The peak of the graph represents the center frequency of the band-pass filter, where the gain is highest.\n- The bandwidth of the filter is defined by the range of frequencies over which the magnitude is significantly above the baseline.\n- There are two critical points where the slope changes: one where the magnitude starts increasing towards the peak and another where it starts decreasing after the peak.\n\n5. **Annotations and Specific Data Points:**\n- While specific numerical values are not provided in this graph, key points would include the center frequency and the -3 dB points that define the bandwidth.\n- No additional annotations or reference lines are present in the graph.\nimage_name:(c)\ndescription:The graph labeled (c) is a frequency-response curve representing a high-pass filter. This is a Bode magnitude plot, showing the gain of the filter as a function of frequency.\n\n1. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\( \\left| \\frac{V_{\\text{out}}}{V_{\\text{in}}}(j\\omega) \\right| \\), representing the ratio of the output voltage to the input voltage in the frequency domain. This axis typically uses a logarithmic scale in decibels (dB), though specific units are not shown in the diagram.\n- The horizontal axis is labeled with \\( \\omega \\), representing angular frequency. This axis is on a logarithmic scale, indicating that the frequency increases exponentially from left to right.\n\n2. **Overall Behavior and Trends:**\n- The graph starts with a low magnitude at low frequencies, indicating that the filter attenuates signals in this range.\n- As the frequency increases, the magnitude sharply rises, indicating the cutoff frequency where the filter begins to pass higher frequencies with less attenuation.\n- After the initial rise, the magnitude levels off and remains constant, showing that high frequencies are passed with consistent gain.\n\n3. **Key Features and Technical Details:**\n- The sharp increase in magnitude at a certain frequency indicates the cutoff frequency, beyond which the filter effectively passes signals.\n- The flat region at higher frequencies suggests that the filter provides a constant gain for frequencies above the cutoff.\n\n4. **Annotations and Specific Data Points:**\n- While specific numerical values for the cutoff frequency or gain are not provided in the graph, the general shape is indicative of a standard high-pass filter response.\n\nFigure 6.1 (a) Low-pass, (b) band-pass, and (c) high-pass frequency-response examples."
},
{
    "text": "Recall that a MOS device exhibits four capacitances: $C_{G S}, C_{G D}, C_{D B}$, and $C_{S B}$. Consequently, the transfer function of CMOS circuits can quickly become complex, necessitating approximations to simplify the circuit. In this section, we introduce two such approximations: Miller's theorem and the association of poles with nodes. We remind the reader that a two-terminal impedance, $Z$, is defined as $Z=V / I$, where $V$ and $I$ represent the voltage across and the current through the device. For instance, $Z=1 /(C s)$ for a capacitor. Additionally, the transfer function of a circuit provides the frequency response when $s$ is replaced by $j \\omega$, assuming a sinusoidal input like $A \\cos \\omega t$. For example, $H(j \\omega)=(R C j \\omega+1)^{-1}$ describes the magnitude and phase of a simple low-pass filter.\n\nIn this chapter, our primary focus is on the magnitude of the transfer function (with $s=$ $j \\omega$). Figure 6.1 illustrates examples of magnitude responses. It is also worth noting that, even when calculated precisely, some transfer functions do not offer substantial insights. Therefore, we examine various special cases under extreme conditions, such as when the load capacitance is either very small or very large.\n\nSeveral fundamental concepts are frequently used throughout this chapter and warrant a brief review. (1) The magnitude of a complex number $a+j b$ is $\\sqrt{a^{2}+b^{2}}$. (2) Zeros and poles are defined as the roots of the numerator and denominator, respectively, of the transfer function. (3) According to Bode's approximations, the slope of the magnitude of a transfer function increases by $20 \\mathrm{~dB} /$ decade as $\\omega$ surpasses a pole frequency and decreases by $20 \\mathrm{~dB} /$ decade as $\\omega$ exceeds a zero frequency.\nimage_name:(a)\ndescription:The graph labeled (a) is a frequency response plot, specifically a Bode magnitude plot, for a low-pass filter.\n\n1. **Type of Graph and Function:**\n- This is a Bode magnitude plot, depicting the frequency response of a low-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis represents the magnitude of the transfer function, \\(\\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right|\\), typically in decibels (dB), though the exact unit is not specified in the image.\n- The horizontal axis represents the angular frequency \\(\\omega\\), usually in radians per second or hertz, plotted on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The plot exhibits a typical low-pass filter response, where the magnitude remains relatively constant at low frequencies, indicating these frequencies are passed through.\n- As the frequency increases beyond a certain cutoff frequency, the magnitude decreases, indicating the attenuation of higher frequencies.\n- The slope of the decrease is typically \\(-20 \\text{ dB/decade}\\) for a first-order low-pass filter.\n\n4. **Key Features and Technical Details:**\n- The plot begins at a higher magnitude, indicating minimal attenuation of low frequencies.\n- A noticeable point where the slope changes marks the cutoff frequency, beyond which the filter significantly attenuates the input signal.\n- The exact cutoff frequency and gain levels are not numerically specified in the graph.\n\n5. **Annotations and Specific Data Points:**\n- No specific annotations or numerical data points are provided on the graph. The cutoff frequency is implied by the change in slope but is not explicitly marked.\nimage_name:(b)\ndescription:The graph labeled (b) represents a band-pass frequency response. This type of graph is typically a Bode plot, used to illustrate the frequency response of a system.\n\n1. **Type of Graph and Function:**\n- This is a Bode plot showing the magnitude response of a band-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\(|V_{out}/V_{in}(j\\omega)|\\), indicating the ratio of output voltage to input voltage. The scale is logarithmic, common for Bode plots.\n- The horizontal axis represents angular frequency, \\(\\omega\\), typically measured in radians per second, on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The graph shows a peak in magnitude at a specific frequency, indicating the passband of the filter. This is characteristic of a band-pass filter, which allows frequencies within a certain range to pass while attenuating frequencies outside this range.\n- The magnitude increases as the frequency approaches the center of the passband, reaches a peak, and then decreases as the frequency moves away from the passband.\n\n4. **Key Features and Technical Details:**\n- The peak of the graph represents the center frequency of the band-pass filter, where the gain is highest.\n- The bandwidth of the filter is defined by the range of frequencies over which the magnitude is significantly above the baseline.\n- There are two critical points where the slope changes: one where the magnitude starts increasing towards the peak and another where it starts decreasing after the peak.\n\n5. **Annotations and Specific Data Points:**\n- Specific numerical values are not provided in the graph, but key points would include the center frequency and the -3 dB points defining the bandwidth.\n- No additional annotations or reference lines are present in the graph.\nimage_name:(c)\ndescription:The graph labeled (c) is a frequency-response curve representing a high-pass filter. This is a Bode magnitude plot, showing the gain of the filter as a function of frequency.\n\n1. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\( \\left| \\frac{V_{\\text{out}}}{V_{\\text{in}}}(j\\omega) \\right| \\), representing the ratio of the output voltage to the input voltage in the frequency domain. This axis typically uses a logarithmic scale in decibels (dB), though specific units are not shown in the diagram.\n- The horizontal axis is labeled with \\( \\omega \\), representing angular frequency. This axis is on a logarithmic scale, indicating that the frequency increases exponentially from left to right.\n\n2. **Overall Behavior and Trends:**\n- The graph starts with a low magnitude at low frequencies, indicating the filter attenuates these signals.\n- As the frequency increases, the magnitude sharply rises, indicating the cutoff frequency where the filter begins to pass higher frequencies with less attenuation.\n- After the initial rise, the magnitude levels off and remains constant, showing that high frequencies are passed with consistent gain.\n\n3. **Key Features and Technical Details:**\n- The sharp increase in magnitude at a certain frequency indicates the cutoff frequency, beyond which the filter effectively passes signals.\n- The flat region at higher frequencies suggests that the filter provides a constant gain for frequencies above the cutoff.\n\n4. **Annotations and Specific Data Points:**\n- Specific numerical values for the cutoff frequency or gain are not provided in the graph, but the general shape indicates a standard high-pass filter response.\n\nFigure 6.1 (a) Low-pass, (b) band-pass, and (c) high-pass frequency-response examples."
},
{
    "text": "Recall that a MOS device exhibits four capacitances: $C_{G S}, C_{G D}, C_{D B}$, and $C_{S B}$. Consequently, the transfer function of CMOS circuits can quickly become complex, necessitating approximations to simplify the circuit. In this section, we introduce two such approximations: Miller's theorem and the association of poles with nodes. We remind the reader that a two-terminal impedance, $Z$, is defined as $Z=V / I$, where $V$ and $I$ represent the voltage across and the current through the device. For instance, $Z=1 /(C s)$ for a capacitor. Additionally, the transfer function of a circuit provides the frequency response if we substitute $s$ with $j \\omega$, assuming a sinusoidal input like $A \\cos \\omega t$. For example, $H(j \\omega)=(R C j \\omega+1)^{-1}$ gives the magnitude and phase of a simple low-pass filter.\n\nIn this chapter, our primary focus is on the magnitude of the transfer function (with $s=$ $j \\omega$). Figure 6.1 illustrates examples of magnitude responses. It is also worth noting that, even when computed precisely, some transfer functions do not offer significant insights. Therefore, we examine various special cases by considering extreme conditions, such as when the load capacitance is either very small or very large.\n\nSeveral fundamental concepts are extensively used throughout this chapter and warrant a brief review. (1) The magnitude of a complex number $a+j b$ is given by $\\sqrt{a^{2}+b^{2}}$. (2) Zeros and poles are defined as the roots of the numerator and denominator, respectively, of the transfer function. (3) According to Bode's approximations, the slope of the magnitude of a transfer function increases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a pole frequency and decreases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a zero frequency.\nimage_name:(a)\ndescription:The graph labeled (a) is a frequency response plot, specifically a Bode magnitude plot, for a low-pass filter.\n\n1. **Type of Graph and Function:**\n- This is a Bode magnitude plot, depicting the frequency response of a low-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis represents the magnitude of the transfer function, \\(\\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right|\\), typically in decibels (dB), though the exact unit is not specified in the image.\n- The horizontal axis represents the angular frequency \\(\\omega\\), usually in radians per second or hertz, plotted on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The plot exhibits a typical low-pass filter response, where the magnitude remains relatively constant at low frequencies, indicating these frequencies are passed through.\n- As the frequency increases beyond a certain cutoff frequency, the magnitude starts to decrease, indicating the attenuation of higher frequencies.\n- The slope of the decrease is typically \\(-20 \\text{ dB/decade}\\) for a first-order low-pass filter.\n\n4. **Key Features and Technical Details:**\n- The plot begins at a higher magnitude, indicating minimal attenuation of low frequencies.\n- There is a distinct point where the slope changes, marking the cutoff frequency. This is the frequency at which the filter significantly attenuates the input signal.\n- The exact cutoff frequency and gain levels are not numerically specified in the graph.\n\n5. **Annotations and Specific Data Points:**\n- The graph does not include specific annotations or numerical data points. The cutoff frequency is inferred from the change in slope but is not explicitly marked.\nimage_name:(b)\ndescription:The graph labeled as (b) depicts a band-pass frequency response. This type of graph is typically a Bode plot, used to illustrate the frequency response of a system.\n\n1. **Type of Graph and Function:**\n- This is a Bode plot showing the magnitude response of a band-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\(|V_{out}/V_{in}(j\\omega)|\\), indicating the ratio of output voltage to input voltage. The scale is logarithmic, common for Bode plots.\n- The horizontal axis represents angular frequency, \\(\\omega\\), typically measured in radians per second, and is also on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The graph displays a peak in magnitude at a specific frequency, indicating the passband of the filter. This is characteristic of a band-pass filter, which allows frequencies within a certain range to pass while attenuating frequencies outside this range.\n- The magnitude increases as the frequency approaches the center of the passband, reaches a peak, and then decreases as the frequency moves away from the passband.\n\n4. **Key Features and Technical Details:**\n- The peak of the graph represents the center frequency of the band-pass filter, where the gain is highest.\n- The bandwidth of the filter is defined by the range of frequencies over which the magnitude is significantly above the baseline.\n- There are two critical points where the slope changes: one where the magnitude starts increasing towards the peak and another where it starts decreasing after the peak.\n\n5. **Annotations and Specific Data Points:**\n- Specific numerical values are not provided in the graph, but key points would include the center frequency and the -3 dB points defining the bandwidth.\n- No additional annotations or reference lines are present in the graph.\nimage_name:(c)\ndescription:The graph labeled (c) is a frequency-response curve representing a high-pass filter. This is a Bode magnitude plot, showing the gain of the filter as a function of frequency.\n\n1. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\( \\left| \\frac{V_{\\text{out}}}{V_{\\text{in}}}(j\\omega) \\right| \\), representing the ratio of the output voltage to the input voltage in the frequency domain. This axis typically uses a logarithmic scale in decibels (dB), though specific units are not shown in the diagram.\n- The horizontal axis is labeled with \\( \\omega \\), representing angular frequency. This axis is on a logarithmic scale, indicating an exponential increase in frequency from left to right.\n\n2. **Overall Behavior and Trends:**\n- The graph starts with a low magnitude at low frequencies, indicating that the filter attenuates signals in this range.\n- As the frequency increases, the magnitude sharply rises, indicating the cutoff frequency where the filter begins to pass higher frequencies with less attenuation.\n- After the initial rise, the magnitude levels off and remains constant, indicating consistent gain for high frequencies.\n\n3. **Key Features and Technical Details:**\n- The sharp increase in magnitude at a certain frequency indicates the cutoff frequency, beyond which the filter effectively passes signals.\n- The flat region at higher frequencies suggests that the filter provides a constant gain for frequencies above the cutoff.\n\n4. **Annotations and Specific Data Points:**\n- Specific numerical values for the cutoff frequency or gain are not provided in the graph, but the general shape indicates a standard high-pass filter response.\n\nFigure 6.1 (a) Low-pass, (b) band-pass, and (c) high-pass frequency-response examples."
},
{
    "text": "Recall that a MOS device exhibits four capacitances: $C_{G S}, C_{G D}, C_{D B}$, and $C_{S B}$. Consequently, the transfer function of CMOS circuits can quickly become complex, necessitating approximations to simplify the circuit. In this section, we introduce two such approximations: Miller's theorem and the association of poles with nodes. We remind the reader that a two-terminal impedance, $Z$, is defined as $Z=V / I$, where $V$ and $I$ represent the voltage across and the current through the device. For instance, $Z=1 /(C s)$ for a capacitor. Additionally, the transfer function of a circuit provides the frequency response when $s$ is replaced with $j \\omega$, assuming a sinusoidal input like $A \\cos \\omega t$. For example, $H(j \\omega)=(R C j \\omega+1)^{-1}$ describes the magnitude and phase of a simple low-pass filter.\n\nIn this chapter, our primary focus is on the magnitude of the transfer function (with $s=$ $j \\omega$). Figure 6.1 illustrates examples of magnitude responses. It is also worth noting that, even when computed precisely, some transfer functions do not offer significant insight. Therefore, we examine various special cases by considering extreme conditions, such as when the load capacitance is either very small or very large.\n\nSeveral fundamental concepts are frequently employed throughout this chapter and warrant a brief review. (1) The magnitude of a complex number $a+j b$ is given by $\\sqrt{a^{2}+b^{2}}$. (2) Zeros and poles are defined as the roots of the numerator and denominator of the transfer function, respectively. (3) According to Bode's approximations, the slope of the magnitude of a transfer function increases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a pole frequency and decreases by $20 \\mathrm{~dB} /$ decade as $\\omega$ passes a zero frequency.\nimage_name:(a)\ndescription:The graph labeled (a) is a frequency response plot, specifically a Bode magnitude plot, for a low-pass filter.\n\n1. **Type of Graph and Function:**\n- This is a Bode magnitude plot, depicting the frequency response of a low-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis represents the magnitude of the transfer function, \\(\\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right|\\), typically in decibels (dB), though the exact unit is not specified in the image.\n- The horizontal axis represents the angular frequency \\(\\omega\\), usually in radians per second or hertz, plotted on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The plot exhibits a typical low-pass filter response, where the magnitude remains relatively constant at low frequencies, indicating that these frequencies are passed through.\n- As the frequency increases beyond a certain cutoff frequency, the magnitude begins to decline, signifying attenuation of higher frequencies.\n- The slope of the decline is typically \\(-20 \\text{ dB/decade}\\) for a first-order low-pass filter.\n\n4. **Key Features and Technical Details:**\n- The plot starts at a higher magnitude, indicating minimal attenuation of low frequencies.\n- A noticeable point where the slope changes marks the cutoff frequency, beyond which the filter significantly attenuates the input signal.\n- The exact cutoff frequency and gain levels are not numerically specified in the graph.\n\n5. **Annotations and Specific Data Points:**\n- The graph lacks specific annotations or numerical data points. The cutoff frequency is implied by the slope change but is not explicitly marked.\nimage_name:(b)\ndescription:The graph labeled as (b) depicts a band-pass frequency response. This type of graph is typically a Bode plot, used to illustrate the frequency response of a system.\n\n1. **Type of Graph and Function:**\n- This is a Bode plot showing the magnitude response of a band-pass filter.\n\n2. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\(|V_{out}/V_{in}(j\\omega)|\\), indicating the ratio of output voltage to input voltage. The scale is logarithmic, common for Bode plots.\n- The horizontal axis represents angular frequency, \\(\\omega\\), typically measured in radians per second, also on a logarithmic scale.\n\n3. **Overall Behavior and Trends:**\n- The graph shows a peak in magnitude at a specific frequency, indicating the passband of the filter. This is characteristic of a band-pass filter, which allows frequencies within a certain range to pass while attenuating frequencies outside this range.\n- The magnitude increases as the frequency approaches the center of the passband, reaches a peak, and then decreases as the frequency moves away from the passband.\n\n4. **Key Features and Technical Details:**\n- The peak represents the center frequency of the band-pass filter, where the gain is highest.\n- The bandwidth of the filter is defined by the range of frequencies over which the magnitude is significantly above the baseline.\n- There are two critical points where the slope changes: one where the magnitude starts increasing towards the peak and another where it starts decreasing after the peak.\n\n5. **Annotations and Specific Data Points:**\n- While specific numerical values are not provided, key points would include the center frequency and the -3 dB points defining the bandwidth.\n- No additional annotations or reference lines are present in the graph.\nimage_name:(c)\ndescription:The graph labeled (c) is a frequency-response curve representing a high-pass filter. This is a Bode magnitude plot, showing the filter's gain as a function of frequency.\n\n1. **Axes Labels and Units:**\n- The vertical axis is labeled as the magnitude of the transfer function, \\( \\left| \\frac{V_{\\text{out}}}{V_{\\text{in}}}(j\\omega) \\right| \\), representing the ratio of output voltage to input voltage in the frequency domain. This axis typically uses a logarithmic scale in decibels (dB), though specific units are not shown.\n- The horizontal axis is labeled with \\( \\omega \\), representing angular frequency. This axis is on a logarithmic scale, indicating an exponential increase in frequency from left to right.\n\n2. **Overall Behavior and Trends:**\n- The graph starts with a low magnitude at low frequencies, indicating attenuation of these signals.\n- As the frequency increases, the magnitude rises sharply, indicating the cutoff frequency where the filter begins to pass higher frequencies with less attenuation.\n- After the initial rise, the magnitude levels off, showing that high frequencies are passed with consistent gain.\n\n3. **Key Features and Technical Details:**\n- The sharp increase in magnitude at a certain frequency indicates the cutoff frequency, beyond which the filter effectively passes signals.\n- The flat region at higher frequencies suggests that the filter provides a constant gain for frequencies above the cutoff.\n\n4. **Annotations and Specific Data Points:**\n- Specific numerical values for the cutoff frequency or gain are not provided, but the general shape indicates a standard high-pass filter response.\n\nFigure 6.1 (a) Low-pass, (b) band-pass, and (c) high-pass frequency-response examples."
},
{
    "text": "The phenomenon associated with the \"Miller effect,\" initially described by Miller, plays a significant role in the operation of both analog and digital circuits. As outlined in Miller's Theorem, a transformation can occur between two types of circuits depicted in figures 6.2(a) and 6.2(b). This transformation is quantified by the equations $Z_{1} = \\frac{Z}{1-A_{v}}$ and $Z_{2} = \\frac{Z}{1-A_{v}^{-1}}$, where $A_{v}$ represents the voltage gain, expressed as the ratio of $V_{Y}$ to $V_{X}$.\n\nFigures 6.2(a) and 6.2(b) depict circuits that apply Miller's theorem. Figure 6.2(a) features a resistor Z with nodes X and Y, illustrating the initial application of the theorem to a floating impedance. In contrast, figure 6.2(b) shows the equivalent circuit after applying the Miller effect, where the impedance Z is split into grounded impedances Z1 and Z2 at nodes X and Y, respectively.\n\nThe proof of this theorem hinges on the principle that the current flowing through the resistor Z from node X to node Y must remain consistent when transitioning between the two circuits. This ensures that $\\frac{V_{X}-V_{Y}}{Z} = \\frac{V_{X}}{Z_{1}}$, which simplifies to $Z_{1} = \\frac{Z}{1-\\frac{V_{Y}}{V_{X}}}$ and $Z_{2} = \\frac{Z}{1-\\frac{V_{X}}{V_{Y}}}$, demonstrating the conversion of a floating impedance Z into two grounded impedances, a concept that is invaluable for circuit analysis and design.\n\nExamples 6.1 through 6.4 delve into practical applications and issues related to the Miller effect. They illustrate how the input capacitance can be effectively multiplied by a factor of $(1+A)$ due to feedback mechanisms and how the theorem can be incorrectly applied or approximated. These examples also highlight the importance of considering the frequency of interest and the potential inaccuracies that can arise when using the low-frequency value of the voltage gain ratio $V_{Y} / V_{X}$, which is often referred to as \"Miller's approximation.\"\n\nIn conclusion, while Miller's theorem and its approximation are powerful tools in circuit analysis, they come with inherent limitations. These include the potential elimination of zeros, the prediction of additional poles, and the inability to accurately calculate the output impedance. Nonetheless, these techniques continue to provide valuable insights into circuit behavior, especially when dealing with impedances in parallel with the main signal path."
},
{
    "text": "An essential occurrence in numerous analog and digital circuits is associated with the \"Miller effect,\" as outlined by John Milller in his theorem. According to Miller's theorem, if the circuit depicted in Fig. 6.2(a) can be transformed into the configuration shown in Fig. 6.2(b), then the impedance values are given by $Z_{1}=$ $Z /\\left(1-A_{v}\\right)$ and $Z_{2}=Z /\\left(1-A_{v}^{-1}\\right)$, where $A_{v}=V_{Y} / V_{X}$.\n\nThe diagram in Fig. 6.2(a) illustrates the application of Miller's theorem, depicting a floating impedance Z connected between nodes X and Y. In contrast, the circuit shown in Fig. 6.2(b) demonstrates the Miller effect by splitting the impedance Z into two grounded impedances, Z1 and Z2, located at nodes X and Y, respectively.\n\nThe proof for this theorem states that the current flowing through Z from X to Y is equal to $\\left(V_{X}-V_{Y}\\right) / Z$. For the two circuits to be equivalent, the same current must flow through Z1. This leads to the equation:\n\n$$\n\\frac{V_{X}-V_{Y}}{Z}=\\frac{V_{X}}{Z_{1}}\n$$\n\nwhich simplifies to:\n\n$$\nZ_{1}=\\frac{Z}{1-\\frac{V_{Y}}{V_{X}}}\n$$\n\nSimilarly, we obtain:\n\n$$\nZ_{2}=\\frac{Z}{1-\\frac{V_{X}}{V_{Y}}}\n$$\n\nThis decomposition of a \"floating\" impedance, Z, into two \"grounded\" impedances is valuable for analysis and design purposes.\n\n#### Example 6.1\n\nConsider the circuit depicted in Fig. 6.3(a), where the voltage amplifier has a negative gain of -A and is considered ideal. The task is to calculate the input capacitance of this circuit.\n\nThe circuit in Fig. 6.3(a) is an inverting amplifier configuration that includes a feedback capacitor CF, which introduces the Miller multiplication effect on the input capacitance. Due to the feedback mechanism, the input capacitance is effectively multiplied by a factor of (1+A).\n\nThe circuit in Fig. 6.3(b) represents a feedback configuration utilizing resistors Z1 and Z2 connected to an operational amplifier with a negative gain of -A. Nodes X and Y are connected to the resistors and the amplifier, respectively.\n\nThe circuit in Fig. 6.3(c) is a negative feedback amplifier with a voltage source V applied at the input. The feedback capacitor CF and the input capacitor Cin form a capacitive divider. The op-amp has a negative gain of -A, and the output is -A times the input voltage V. This setup demonstrates the Miller effect in capacitors.\n\n#### Solution\n\nBy applying Miller's theorem to convert the circuit to that shown in Fig. 6.3(b), we obtain $Z=1 /\\left(C_{F} s\\right)$ and $Z_{1}=$ $\\left[1 /\\left(C_{F} s\\right)\\right] /(1+A)$. Therefore, the input capacitance is equal to $C_{F}(1+A)$. This effect is known as \"Miller multiplication\" of the capacitor.\n\nThe reason for multiplying CF by (1+A) can be explained by considering the circuit in Fig. 6.3(c). By applying a voltage step at the input and calculating the charge supplied by the voltage source, we find that a step equal to $\\Delta V$ at X results in a change of $-A \\Delta V$ at Y, yielding a total change of $(1+A) \\Delta V$ in the voltage across CF. Thus, the charge drawn by CF from $V_{i n}$ is equal to $(1+A) C_{F} \\Delta V$, and the equivalent input capacitance is $(1+A) C_{F}$.\n\n#### Example 6.2\n\nA student needs a large capacitor for a filter and decides to utilize the Miller multiplication effect as shown in Fig. 6.4(a). However, there are some issues with this approach.\n\nThe circuit in Fig. 6.4(a) utilizes the Miller effect to multiply the capacitance CF by (A+1). The voltage at node X affects the voltage at node Y through the op-amp, creating a large effective capacitance between Vin and Vout.\n\nThe circuit in Fig. 6.4(b) utilizes an NMOS transistor M1 to manage the feedback path. The output voltage swing at Y is AV0, which is A times the input swing V0 at X. The design aims to leverage Miller multiplication for effective capacitance increase.\n\n#### Solution\n\nThe issues relate to the amplifier's output swing. As exemplified by the implementation in Fig. 6.4(b), if the voltage at X swings by $V_{0}$, then Y must accommodate a swing of $A V_{0}$ without saturating the amplifier. In addition, the dc level in $V_{i n}$ must be compatible with the input of the amplifier.\n\nIt is crucial to understand that (6.2) and (6.3) hold if we know beforehand that the circuit of Fig. 6.2(a) can be converted to that of Fig. 6.2(b). Miller's theorem does not specify the conditions under which this conversion is valid. If the impedance Z forms the only signal path between X and Y, then the conversion is often invalid. An example is shown in Fig. 6.5, where the theorem provides a correct input impedance but an incorrect gain for a simple resistive divider. Nevertheless, Miller's theorem is useful in cases where the impedance Z appears in parallel with the main signal, as shown in Fig. 6.6.\n\n#### Example 6.3\n\nCalculate the input resistance of the circuit shown in Fig. 6.7(a).\n\nThe circuit in Fig. 6.7(a) represents a typical application of Miller's theorem. It includes an NMOS transistor M1 with its source connected to node X, drain to node Y, and gate to the bias voltage Vb. A current source I1 is connected from VDD to node Y. Resistor ro is connected between nodes Y and X, and resistor Rin is connected between node X and ground. This configuration is used to calculate the input resistance of the circuit.\n\nThe circuit in Fig. 6.7(b) is used to calculate the input resistance, applying Miller's theorem. It includes a current source I1 from VDD to node Y, an NMOS transistor M1 with its source at node X, drain at node Y, and gate at bias voltage Vb. Resistors ro/(1-1/Av) and ro/(1-Av) are connected to nodes Y and X respectively. The input resistance is a parallel combination of rO/(1-Av) and 1/(gm+gmb).\n\n#### Solution\n\nThe reader can prove that the voltage gain from X to Y is equal to $1+\\left(g_{m}+g_{m b}\\right) r_{O}$. As shown in Fig. 6.7(b), the input resistance is given by the parallel combination of $r_{O} /\\left(1-A_{v}\\right)$ and $1 /\\left(g_{m}+g_{m b}\\right)$. Since $A_{v}$ is usually greater than unity, $r_{O} /\\left(1-A_{v}\\right)$ is a negative resistance. Therefore, we have:\n\n$$\nR_{i n} =\\frac{r_{O}}{1-\\left[1+\\left(g_{m}+g_{m b}\\right) r_{O}\\right]} \\| \\frac{1}{g_{m}+g_{m b}}\n$$\n\n$$\nR_{i n} =\\frac{-1}{g_{m}+g_{m b}} \\| \\frac{1}{g_{m}+g_{m b}}\n$$\n\n$$\nR_{i n} =\\infty\n$$\n\nThis result is the same as obtained in Chapter 3 (Fig. 3.54) by direct calculation.\n\nIt is important to note that, strictly speaking, the value of $A_{v}=V_{Y} / V_{X}$ in (6.2) and (6.3) must be calculated at the frequency of interest, which can significantly complicate the algebra. To understand this point, let us return to Example 6.1 and assume an amplifier with a finite output resistance. As shown in Fig. 6.8, the equivalent circuit reveals that $V_{Y} \\neq-A V_{X}$ at high frequencies, and hence CF cannot be simply multiplied by $1+A$ to yield the input capacitance. However, in many cases, we use the low-frequency value of $V_{Y} / V_{X}$ to gain insight into the behavior of the circuit. This approach is known as \"Miller's approximation.\"\n\n#### Example 6.4\n\nDetermine the transfer function of the circuit shown in Fig. 6.9(a) using (a) direct analysis and (b) Miller's approximation.\n\nThe circuit in Fig. 6.9(a) is an amplifier with feedback capacitor CF and output resistor Rout. The amplifier has an input at node X and output at node Y, with the output voltage being -AVx. The transfer function analysis involves considering the feedback network and gain change at high frequencies.\n\nThe graph labeled (b) is a Bode plot, which is used to represent the frequency response of a system. The plot is shown on a logarithmic scale for the frequency axis (horizontal axis, denoted as \\( \\omega \\)) and a decibel scale for the magnitude of the transfer function \\( 20 \\log \\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right| \\) on the vertical axis.\n\n1. **Axes Labels and Units:**\n- The horizontal axis is labeled as \\( \\omega \\), representing frequency on a logarithmic scale.\n- The vertical axis is labeled as \\( 20 \\log \\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right| \\), indicating the gain in decibels (dB).\n\n2. **Overall Behavior and Trends:**\n- The plot starts with a flat region at a gain level of \\( A \\) dB, indicating a constant gain at low frequencies.\n- As the frequency increases, the plot shows a downward slope at a rate of \\(-20 \\text{ dB/decade}\\), indicating a reduction in gain.\n- After this slope, the plot flattens out again, reaching a constant gain level at high frequencies.\n\n3. **Key Features and Technical Details:**\n- The point \\( \\omega_p \\) marks the beginning of the slope where the gain starts to decrease.\n- The point \\( \\omega_z \\) marks where the slope ends and the gain stabilizes again.\n- The slope of \\(-20 \\text{ dB/decade}\\) suggests the presence of a single pole in the system.\n\n4. **Annotations and Specific Data Points:**\n- The plot is annotated with two significant frequencies: \\( \\omega_p \\) and \\( \\omega_z \\).\n- These points are typically associated with the pole and zero frequencies of the system, respectively.\n\nThis Bode plot effectively illustrates how the gain of the system changes with frequency, highlighting the impact of poles and zeros on the frequency response.\n\nThe circuit in Fig. 6.9(c) shows the equivalent circuit with Miller's approximation applied to CF, resulting in CF/(A+1) at the output.\n\n#### Solution\n\n(a) We note that the current flowing through $R_{S}$ is given by $\\left(V_{i n}-V_{X}\\right) / R_{S}$, yielding a voltage drop across $R_{\\text {out }}$ equal to $\\left(V_{\\text {in }}-V_{X}\\right) R_{\\text {out }} / R_{S}$. It follows that:\n\n$$\n\\frac{V_{\\text {in }}-V_{X}}{R_{S}} R_{\\text {out }}-A V_{X}=V_{\\text {out }}\n$$\n\nWe also equate the currents flowing through $R_{S}$ and $C_{F}$ :\n\n$$\n\\frac{V_{\\text {in }}-V_{X}}{R_{S}}=\\left(V_{X}-V_{\\text {out }}\\right) C_{F} s\n$$\n\nThe reader can find $V_{X}$ from the first equation and substitute the result in the second, thereby obtaining:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{R_{\\text {out }} C_{F} s-A}{\\left[(A+1) R_{S}+R_{\\text {out }}\\right] C_{F} s+1}\n$$\n\nThe circuit thus exhibits a zero at $\\omega_{z}=A /\\left(R_{\\text {out }} C_{F}\\right)$ and a pole at $\\omega_{p}=-1 /\\left[(A+1) R_{S} C_{F}+R_{\\text {out }} C_{F}\\right]$. Figure 6.9(b) plots the response for the case of $\\left|\\omega_{p}\\right|<\\left|\\omega_{z}\\right|$.\n\n(b) Applying Miller's approximation, we decompose $C_{F}$ into $(1+A) C_{F}$ at the input and $C_{F} /\\left(1+A^{-1}\\right)$ at the output [Fig. 6.9(c)]. Since $V_{\\text {out }} / V_{\\text {in }}=\\left(V_{X} / V_{\\text {in }}\\right)\\left(V_{\\text {out }} / V_{X}\\right)$, we first write $V_{X} / V_{\\text {in }}$ by considering $R_{S}$ and $(1+A) C_{F}$ as a voltage divider:\n\n$$\n\\frac{V_{X}}{V_{\\text {in }}}=\\frac{\\frac{1}{(1+A) C_{F} s}}{\\frac{1}{(1+A) C_{F} s}+R_{S}}\n$$\n\n$$\n\\frac{V_{X}}{V_{\\text {in }}}=\\frac{1}{(1+A) R_{S} C_{F} s+1}\n$$\n\nAs for $V_{\\text {out }} / V_{X}$, we first amplify $V_{X}$ by $-A$ and subject the result to the output voltage divider:\n\n$$\n\\frac{V_{\\text {out }}}{V_{X}}=\\frac{-A}{\\frac{1}{1+A^{-1}} C_{F} R_{\\text {out }} s+1}\n$$\n\nTherefore:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{-A}{\\left[(1+A) R_{S} C_{F} s+1\\right]\\left(\\frac{1}{1+A^{-1}} C_{F} R_{\\text {out }} s+1\\right)}\n$$\n\nUnfortunately, Miller's approximation has eliminated the zero and predicted two poles for the circuit! Despite these shortcomings, Miller's approximation can provide intuition in many cases.\n\nIt is important to note that if Miller's theorem is used to obtain the input-output transfer function, it cannot be used simultaneously to calculate the output impedance. To derive the transfer function, we apply a voltage source to the input of the circuit, obtaining a value for $V_{Y} / V_{X}$ in Fig. 6.2(a). On the other hand, to determine the output impedance, we must apply a voltage source to the output of the circuit, obtaining a value for $V_{X} / V_{Y}$ that may not be equal to the inverse of the $V_{Y} / V_{X}$ measured in the first test. For example, the circuit of Fig. 6.7 (b) may suggest that the output impedance is equal to:\n\n$$\nR_{\\text {out }}=\\frac{r_{O}}{1-1 / A_{v}}\n$$\n\n$$\nR_{\\text {out }}=\\frac{r_{O}}{1-\\left[1+\\left(g_{m}+g_{m b}\\right) r_{O}\\right]^{-1}}\n$$\n\n$$\nR_{\\text {out }}=\\frac{1}{g_{m}+g_{m b}}+r_{O}\n$$\n\nwhereas the actual value is equal to $r_{O}$ (if X is grounded). Other subtleties of Miller's theorem are described in the Appendix C.\n\nIn summary, Miller's approximation divides a floating impedance by the low-frequency gain and faces the following limitations: (1) it may eliminate zeros, (2) it may predict additional poles, and (3) it does not correctly compute the \"output\" impedance."
},
{
    "text": "An essential aspect prevalent in both analog and digital circuits pertains to the \"Miller effect,\" named after the theorem introduced by John Millett. According to the theorem, if the circuit depicted in Fig. 6.2(a) can be transformed into the configuration shown in Fig. 6.2(b), then the impedance values are determined by the equations $Z_{1}=$ $Z /\\left(1-A_{v}\\right)$ and $Z_{2}=Z /\\left(1-A_{v}^{-1}\\right)$, with $A_{v}$ representing the voltage gain $V_{Y} / V_{X}$.\n\nFig. 6.2(a) illustrates a floating impedance Z situated between nodes X and Y. In contrast, Fig. 6.2(b) demonstrates the Miller effect by splitting the impedance Z into two grounded impedances, Z1 and Z2, located at nodes X and Y, respectively.\n\nMiller's theorem is instrumental in simplifying the analysis and design of circuits. For instance, if we have a circuit with a voltage amplifier featuring a negative gain of -A and ideal characteristics, as depicted in Fig. 6.3(a), we can employ Miller's theorem to calculate the circuit's input capacitance.\n\nIn the context of Fig. 6.3(b), the impedance Z is transformed into Z1 and Z2, with Z1 being equal to $Z/(1+A)$. This demonstrates the \"Miller multiplication\" of the capacitor, effectively increasing the input capacitance by a factor of (1+A).\n\nHowever, the application of Miller's theorem is not without its nuances. For example, in Fig. 6.4(a), a student attempts to use the Miller effect to achieve a large capacitor value for a filter. The challenge here lies in the amplifier's output swing and the need to prevent saturation, as well as ensuring that the dc level of $V_{i n}$ is compatible with the amplifier's input.\n\nMiller's theorem is particularly useful when the impedance Z is in parallel with the main signal path, as shown in Fig. 6.6. This configuration allows for accurate gain calculation. However, if Z is the sole signal path between nodes X and Y, as in Fig. 6.5, the theorem may yield incorrect results.\n\nAnother important consideration is that the value of $A_{v}$ in the equations must be determined at the frequency of interest. At high frequencies, the gain may change, as depicted in Fig. 6.8, where the amplifier's finite output resistance affects the voltage gain.\n\nDespite these complexities, Miller's theorem remains a powerful tool in circuit analysis, providing valuable insights into the behavior of circuits, especially when used in conjunction with frequency domain analysis techniques such as Bode plots, as shown in Fig. 6.9(b)."
},
{
    "text": "An essential concept in both analog and digital circuits is the \"Miller effect,\" a term coined by Miller in his theorem. According to Miller's Theorem, if a circuit, depicted in Fig. 6.2(a), can be transformed into the configuration shown in Fig. 6.2(b), then the impedance values are given by $Z_{1}=$ $Z /\\left(1-A_{v}\\right)$ and $Z_{2}=Z /\\left(1-A_{v}^{-1}\\right)$, with $A_{v}=V_{Y} / V_{X}$.\n\nIn Fig. 6.2(a), the diagram depicts the application of Miller's theorem, illustrating a floating impedance Z between nodes X and Y. Fig. 6.2(b) shows the application of the Miller effect, splitting the impedance Z into two grounded impedances Z1 and Z2 at nodes X and Y, respectively.\n\nThe proof of this theorem involves demonstrating that the current flowing through Z from X to Y is equal to $\\left(V_{X}-V_{Y}\\right) / Z$. For the two circuits to be equivalent, the same current must flow through $Z_{1}$. This leads to the equations:\n\n$$\n\\begin{equation*}\n\\frac{V_{X}-V_{Y}}{Z}=\\frac{V_{X}}{Z_{1}} \\tag{6.1}\n\\end{equation*}\n$$\n\nand\n\n$$\n\\begin{equation*}\nZ_{1}=\\frac{Z}{1-\\frac{V_{Y}}{V_{X}}} \\tag{6.2}\n\\end{equation*}\n$$\n\nSimilarly,\n\n$$\n\\begin{equation*}\nZ_{2}=\\frac{Z}{1-\\frac{V_{X}}{V_{Y}}} \\tag{6.3}\n\\end{equation*}\n$$\n\nThis decomposition of a \"floating\" impedance, $Z$, into two \"grounded\" impedances is valuable for analysis and design purposes.\n\n#### Example 6.1\n\nConsider the circuit shown in Fig. 6.3(a), where the voltage amplifier has a negative gain equal to $-A$ and is otherwise ideal. Calculate the input capacitance of the circuit.\n\nIn Fig. 6.3(a), the circuit is an inverting amplifier configuration with a feedback capacitor CF, which introduces Miller multiplication of the input capacitance. The input capacitance is effectively multiplied by the factor (1+A) due to the feedback mechanism. Fig. 6.3(b) represents a feedback configuration using resistors Z1 and Z2 connected to an operational amplifier with negative gain -A. The nodes X and Y are connected to the resistors and the amplifier. Fig. 6.3(c) is a negative feedback amplifier with a voltage source V applied at the input. The feedback capacitor CF and the input capacitor Cin form a capacitive divider. The op-amp has a negative gain of -A, and the output is -A times the input voltage V. This setup demonstrates the Miller effect in capacitors.\n\nUsing Miller's theorem to convert the circuit to that shown in Fig. 6.3(b), we have $Z=1 /\\left(C_{F} s\\right)$ and $Z_{1}=$ $\\left[1 /\\left(C_{F} s\\right)\\right] /(1+A)$. That is, the input capacitance is equal to $C_{F}(1+A)$. We call this effect \"Miller multiplication\" of the capacitor.\n\n#### Example 6.2\n\nA student needs a large capacitor for a filter and decides to utilize the Miller multiplication of [Fig. 6.4(a)]. Explain the issues in this approach.\n\nIn Fig. 6.4(a), the circuit utilizes the Miller effect to multiply the capacitance CF by (A+1). The voltage at node X affects the voltage at node Y through the op-amp, creating a large effective capacitance between Vin and Vout. Fig. 6.4(b) utilizes an NMOS transistor M1 to manage the feedback path. The output voltage swing at Y is AV0, which is A times the input swing V0 at X. The design aims to leverage Miller multiplication for effective capacitance increase.\n\nThe issues relate to the amplifier, particularly to its output swing. As exemplified by the implementation in Fig. 6.4(b), if the voltage at $X$ swings by $V_{0}$, then $Y$ must accommodate a swing of $A V_{0}$ without saturating the amplifier. In addition, the dc level in $V_{i n}$ must be compatible with the input of the amplifier.\n\nIt is important to understand that (6.2) and (6.3) hold if we know a priori that the circuit of Fig. 6.2(a) can be converted to that of Fig. 6.2(b). That is, Miller's theorem does not stipulate the conditions under which this conversion is valid. If the impedance $Z$ forms the only signal path between $X$ and $Y$, then the conversion is often invalid. Illustrated in Fig. 6.5 for a simple resistive divider, the theorem gives a correct input impedance but an incorrect gain. Nevertheless, Miller's theorem proves useful in cases where the impedance $Z$ appears in parallel with the main signal (Fig. 6.6).\n\n#### Example 6.3\n\nCalculate the input resistance of the circuit shown in Fig. 6.7(a).\n\nIn Fig. 6.7(a), the circuit represents a typical application of Miller's theorem. It includes an NMOS transistor M1 with its source connected to node X, drain to node Y, and gate to the bias voltage Vb. A current source I1 is connected from VDD to node Y. Resistor ro is connected between nodes Y and X, and resistor Rin is connected between node X and ground. This configuration is used to calculate the input resistance of the circuit.\n\nAs shown in Fig. 6.7(b), the input resistance is given by the parallel combination of $r_{O} /\\left(1-A_{v}\\right)$ and $1 /\\left(g_{m}+g_{m b}\\right)$. Since $A_{v}$ is usually greater than unity, $r_{O} /\\left(1-A_{v}\\right)$ is a negative resistance. We therefore have\n\n$$\n\\begin{align*}\nR_{i n} & =\\frac{r_{O}}{1-\\left[1+\\left(g_{m}+g_{m b}\\right) r_{O}\\right]} \\| \\frac{1}{g_{m}+g_{m b}}  \\tag{6.4}\\\\\n& =\\frac{-1}{g_{m}+g_{m b}} \\| \\frac{1}{g_{m}+g_{m b}}  \\tag{6.5}\\\\\n& =\\infty \\tag{6.6}\n\\end{align*}\n$$\n\nThis is the same result as obtained in Chapter 3 (Fig. 3.54) by direct calculation.\n\nWe should also mention that, strictly speaking, the value of $A_{v}=V_{Y} / V_{X}$ in (6.2) and (6.3) must be calculated at the frequency of interest, complicating the algebra significantly. To understand this point, let us return to Example 6.1 and assume an amplifier with a finite output resistance. Depicted in Fig. 6.8, the equivalent circuit reveals that $V_{Y} \\neq-A V_{X}$ at high frequencies, and hence $C_{F}$ cannot be simply multiplied by $1+A$ to yield the input capacitance. However, in many cases we use the low-frequency value of $V_{Y} / V_{X}$ to gain insight into the behavior of the circuit. We call this approach \"Miller's approximation.\"\n\n#### Example 6.4\n\nDetermine the transfer function of the circuit shown in Fig. 6.9(a) using (a) direct analysis and (b) Miller's approximation.\n\nIn Fig. 6.9(a), the circuit is an amplifier with feedback capacitor CF and output resistor Rout. The amplifier has an input at node X and output at node Y, with the output voltage being -AVx. The transfer function analysis involves considering the feedback network and gain change at high frequencies. Fig. 6.9(b) is a Bode plot, which is used to represent the frequency response of a system. The plot is shown on a logarithmic scale for the frequency axis (horizontal axis, denoted as \\( \\omega \\)) and a decibel scale for the magnitude of the transfer function \\( 20 \\log \\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right| \\) on the vertical axis.\n\n1. **Axes Labels and Units:**\n- The horizontal axis is labeled as \\( \\omega \\), representing frequency on a logarithmic scale.\n- The vertical axis is labeled as \\( 20 \\log \\left| \\frac{V_{out}}{V_{in}}(j\\omega) \\right| \\), indicating the gain in decibels (dB).\n\n2. **Overall Behavior and Trends:**\n- The plot starts with a flat region at a gain level of \\( A \\) dB, indicating a constant gain at low frequencies.\n- As the frequency increases, the plot shows a downward slope at a rate of \\(-20 \\text{ dB/decade}\\), indicating a reduction in gain.\n- After this slope, the plot flattens out again, reaching a constant gain level at high frequencies.\n\n3. **Key Features and Technical Details:**\n- The point \\( \\omega_p \\) marks the beginning of the slope where the gain starts to decrease.\n- The point \\( \\omega_z \\) marks where the slope ends and the gain stabilizes again.\n- The slope of \\(-20 \\text{ dB/decade}\\) suggests the presence of a single pole in the system.\n\n4. **Annotations and Specific Data Points:**\n- The plot is annotated with two significant frequencies: \\( \\omega_p \\) and \\( \\omega_z \\).\n- These points are typically associated with the pole and zero frequencies of the system, respectively.\n\nThis Bode plot effectively illustrates how the gain of the system changes with frequency, highlighting the impact of poles and zeros on the frequency response. Fig. 6.9(c) shows the equivalent circuit with Miller's approximation applied to CF, resulting in CF/(A+1) at the output.\n\n(a) We note that the current flowing through $R_{S}$ is given by $\\left(V_{i n}-V_{X}\\right) / R_{S}$, yielding a voltage drop across $R_{\\text {out }}$ equal to $\\left(V_{\\text {in }}-V_{X}\\right) R_{\\text {out }} / R_{S}$. It follows that\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {in }}-V_{X}}{R_{S}} R_{\\text {out }}-A V_{X}=V_{\\text {out }} \\tag{6.7}\n\\end{equation*}\n$$\n\nWe also equate the currents flowing through $R_{S}$ and $C_{F}$ :\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {in }}-V_{X}}{R_{S}}=\\left(V_{X}-V_{\\text {out }}\\right) C_{F} s \\tag{6.8}\n\\end{equation*}\n$$\n\nThe reader can find $V_{X}$ from the first equation and substitute the result in the second, thereby obtaining\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{R_{\\text {out }} C_{F} s-A}{\\left[(A+1) R_{S}+R_{\\text {out }}\\right] C_{F} s+1} \\tag{6.9}\n\\end{equation*}\n$$\n\nThe circuit thus exhibits a zero at $\\omega_{z}=A /\\left(R_{\\text {out }} C_{F}\\right)$ and a pole at $\\omega_{p}=-1 /\\left[(A+1) R_{S} C_{F}+R_{\\text {out }} C_{F}\\right]$. Figure 6.9(b) plots the response for the case of $\\left|\\omega_{p}\\right|<\\left|\\omega_{z}\\right|$.\n\n(b) Applying Miller's approximation, we decompose $C_{F}$ into $(1+A) C_{F}$ at the input and $C_{F} /\\left(1+A^{-1}\\right)$ at the output [Fig. 6.9(c)]. Since $V_{\\text {out }} / V_{\\text {in }}=\\left(V_{X} / V_{\\text {in }}\\right)\\left(V_{\\text {out }} / V_{X}\\right)$, we first write $V_{X} / V_{\\text {in }}$ by considering $R_{S}$ and $(1+A) C_{F}$ as a voltage divider:\n\n$$\n\\begin{align*}\n\\frac{V_{X}}{V_{\\text {in }}} & =\\frac{\\frac{1}{(1+A) C_{F} s}}{\\frac{1}{(1+A) C_{F} s}+R_{S}}  \\tag{6.10}\\\\\n& =\\frac{1}{(1+A) R_{S} C_{F} s+1} \\tag{6.11}\n\\end{align*}\n$$\n\nAs for $V_{\\text {out }} / V_{X}$, we first amplify $V_{X}$ by $-A$ and subject the result to the output voltage divider,\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{X}}=\\frac{-A}{\\frac{1}{1+A^{-1}} C_{F} R_{\\text {out }} s+1} \\tag{6.12}\n\\end{equation*}\n$$\n\nThat is\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{-A}{\\left[(1+A) R_{S} C_{F} s+1\\right]\\left(\\frac{1}{1+A^{-1}} C_{F} R_{\\text {out }} s+1\\right)} \\tag{6.13}\n\\end{equation*}\n$$\n\nMiller's approximation has eliminated the zero and predicted two poles for the circuit! Despite these shortcomings, Miller's approximation can provide intuition in many cases. ${ }^{1}$\n\nIf applied to obtain the input-output transfer function, Miller's theorem cannot be used simultaneously to calculate the output impedance. To derive the transfer function, we apply a voltage source to the input of the circuit, obtaining a value for $V_{Y} / V_{X}$ in Fig. 6.2(a). On the other hand, to determine the output impedance, we must apply a voltage source to the output of the circuit, obtaining a value for $V_{X} / V_{Y}$ that may not be equal to the inverse of the $V_{Y} / V_{X}$ measured in the first test. For example, the circuit of Fig. 6.7 (b) may suggest that the output impedance is equal to\n\n$$\n\\begin{align*}\nR_{\\text {out }} & =\\frac{r_{O}}{1-1 / A_{v}}  \\tag{6.14}\\\\\n& =\\frac{r_{O}}{1-\\left[1+\\left(g_{m}+g_{m b}\\right) r_{O}\\right]^{-1}}  \\tag{6.15}\\\\\n& =\\frac{1}{g_{m}+g_{m b}}+r_{O} \\tag{6.16}\n\\end{align*}\n$$\n\nwhereas the actual value is equal to $r_{O}$ (if $X$ is grounded). Other subtleties of Miller's theorem are described in the Appendix C.\n\nIn summary, Miller's approximation divides a floating impedance by the low-frequency gain and faces the following limitations: (1) it may eliminate zeros, (2) it may predict additional poles, and (3) it does not correctly compute the \"output\" impedance."
},
{
    "text": "An essential aspect of analog and digital circuits involves the \"Miller effect,\" as introduced by Miller's theorem. The theorem posits that if a circuit, depicted in Fig. 6.2(a), can be transformed into that of Fig. 6.2(b), then the impedances $Z_1$ and $Z_2$ can be expressed as $Z_1 = Z / (1 - A_v)$ and $Z_2 = Z / (1 - A_v^{-1})$, with $A_v = V_Y / V_X$. The diagrams show a floating resistor $Z$ between nodes $X$ and $Y$ in configuration (a), and in (b), the resistor $Z$ is split into two grounded resistors $Z_1$ and $Z_2$ at nodes $X$ and $Y$, respectively, applying the Miller effect.\n\nMiller's theorem states that the current through the resistor $Z$ from $X$ to $Y$ is $(V_X - V_Y) / Z$. For the circuits to be equivalent, the same current must flow through $Z_1$. This leads to the equations $Z_1 = Z / (1 - V_Y / V_X)$ and $Z_2 = Z / (1 - V_X / V_Y)$. This decomposition of a floating impedance $Z$ into two grounded impedances is valuable for circuit analysis and design.\n\nExample 6.1 involves a circuit with a voltage amplifier that has a negative gain $-A$ and is ideal, excluding other non-ideal characteristics. The task is to determine the input capacitance of the circuit. Using Miller's theorem to convert the circuit, we find that the input capacitance is effectively multiplied by the factor $(1 + A)$ due to the feedback mechanism, a phenomenon known as \"Miller multiplication.\"\n\nExample 6.2 discusses a student's attempt to use the Miller multiplication\nI apologize for the confusion. Here's the rephrased text:\n\n---\n\nAn essential phenomenon in analog and digital circuits involves the \"Miller effect,\" introduced through Miller's theorem. The theorem states that if the circuit shown in Fig. 6.2(a) can be transformed into that of Fig. 6.2(b), then the impedances $Z_1$ and $Z_2$ can be expressed as $Z_1 = Z / (1 - A_v)$ and $Z_2 = Z / (1 - A_v^{-1})$, with $A_v = V_Y / V_X$. The diagrams illustrate a floating resistor $Z$ between nodes $X$ and $Y$ in configuration (a), and in (b), the resistor $Z$ is split into two grounded resistors $Z_1$ and $Z_2$ at nodes $X$ and $Y$, respectively, applying the Miller effect.\n\nMiller's theorem asserts that the current through the resistor $Z$ from $X$ to $Y$ is $(V_X - V_Y) / Z$. For the circuits to be equivalent, the same current must flow through $Z_1$. This leads to the equations $Z_1 = Z / (1 - V_Y / V_X)$ and $Z_2 = Z / (1 - V_X / V_Y)$. This decomposition of a floating impedance $Z$ into two grounded impedances is valuable for circuit analysis and design.\n\nExample 6.1 involves a circuit with a voltage amplifier that has a negative gain $-A$ and is ideal, excluding other non-ideal characteristics. The task is to determine the input capacitance of the circuit. Using Miller's theorem to convert the circuit, we find that the input capacitance is effectively multiplied by the factor $(1 + A)$ due to the feedback mechanism, a phenomenon known as \"Miller multiplication.\"\n\nExample 6.2 discusses a student's attempt to use the Miller effect to multiply the value of a capacitor in a circuit. The student's approach has issues related to the amplifier's output swing and the DC level compatibility with the amplifier's input.Miller's theorem holds if we know beforehand that the circuit of Fig. 6.2(a) can be converted to that of Fig. 6.2(b).Miller's theorem does not state the conditions under which this conversion is valid. If the impedance $Z$ forms the only signal path between $X$ and $Y$, then the conversion is often invalid. As illustrated in Fig. 6.5 for a simple resistive divider, the theorem gives a correct input impedance but an incorrect gain. Nevertheless, Miller's theorem is useful in cases where the impedance $Z$ appears in parallel with the main signal (Fig. 6.6).\n\nExample 6.3 involves calculating the input resistance of a circuit that includes an NMOS transistor, a current source, and resistors. The circuit represents a typical application of Miller's theorem. The input resistance is given by the parallel combination of $r_O / (1 - A_v)$ and $1 / (g_m + g_{mb})$. Since $A_v$ is usually greater than unity, $r_O / (1 - A_v)$ is a negative resistance. This leads to an infinite input resistance, which is the same result obtained in Chapter 3 by direct calculation.\n\nExample 6.4 involves determining the transfer function of a circuit using both direct analysis and Miller's approximation. The direct analysis yields a transfer function with a zero at $\\omega_z = A / (R_{out} C_F)$ and a pole at $\\omega_p = -1 / [(A+1) R_S C_F + R_{out} C_F]$. The Bode plot shows the frequency response of the system, indicating a constant gain at low frequencies, a downward slope at a rate of $-20 \\text{ dB/decade}$ as the frequency increases, and a flattening out of the gain at high frequencies. Applying Miller's approximation, however, eliminates the zero and predicts two poles for the circuit. Despite these shortcomings, Miller's approximation can provide intuition in many cases.\n\nMiller's theorem, when applied to obtain the input-output transfer function, cannot be used simultaneously to calculate the output impedance. To derive the transfer function, a voltage source is applied to the input of the circuit, obtaining a value for $V_Y / V_X$ in Fig. 6.2(a). To determine the output impedance, a voltage source must be applied to the output of the circuit, obtaining a value for $V_X / V_Y$ that may not be equal to the inverse of the $V_Y / V_X$ measured in the first test. For example, the circuit of Fig. 6.7(b) may suggest that the output impedance is equal to $r_O / (1 - 1 / A_v)$, whereas the actual value is equal to $r_O$ (if $X$ is grounded). Other subtleties of Miller's theorem are described in the Appendix C.\n\nIn summary, Miller's approximation divides a floating impedance by the low-frequency gain and faces the following limitations: (1) it may eliminate zeros, (2) it may predict additional poles, and (3) it does not correctly compute the \"output\" impedance."
},
{
    "text": "An essential occurrence in various analog and digital circuits is the \"Miller effect,\" which was illuminated by Miller in his theorem. This theorem states that if the circuit depicted in Fig. 6.2(a) can be transformed into the configuration shown in Fig. 6.2(b), then the impedances can be expressed as \\( Z_{1}=\\frac{Z}{1-A_{v}} \\) and \\( Z_{2}=\\frac{Z}{1-A_{v}^{-1}} \\), with \\( A_{v} \\) being the voltage gain ratio \\( \\frac{V_{Y}}{V_{X}} \\).\n\nIn the circuit representation (a), we observe a resistor Z with its terminals connected between nodes X and Y. In contrast, circuit (b) demonstrates the Miller effect's application, splitting the impedance Z into two grounded resistors, Z1 and Z2, situated at nodes X and Y, respectively.\n\nFig. 6.2 illustrates the application of the Miller effect on a floating impedance. The proof involves analyzing the current flowing through Z from X to Y, which is given by \\( \\frac{V_{X}-V_{Y}}{Z} \\). For the two circuits to be equivalent, this current must also pass through Z1, leading to the equations that define Z1 and Z2.\n\nExample 6.1 delves into a circuit where a voltage amplifier with a negative gain of -A is connected to a feedback capacitor CF, effectively increasing the input capacitance. The Miller effect, in this case, multiplies the input capacitance by the factor (1+A).\n\nExample 6.2 explores a scenario where a student attempts to use the Miller effect to obtain a large capacitor value for a filter. However, this approach is problematic due to issues related to the amplifier's output swing and the need for compatibility with the amplifier's input dc level.\n\nMiller's theorem is particularly useful when the impedance Z is in parallel with the main signal path, as demonstrated in Fig. 6.6. However, it is crucial to understand the theorem's limitations and when it can be appropriately applied. An example of improper application is shown in Fig. 6.5, where the theorem provides an incorrect gain when used in a simple resistive divider.\n\nExample 6.3 calculates the input resistance of a circuit that includes an NMOS transistor and a current source. Miller's theorem is employed here to analyze the input resistance, which is found to be infinite under certain conditions.\n\nExample 6.4 determines the transfer function of a circuit with a feedback capacitor and an output resistor. Miller's approximation is used to simplify the analysis, although it comes with the caveat that it may eliminate zeros and predict additional poles that do not actually exist in the circuit.\n\nLastly, it is important to note that Miller's theorem, when used for transfer function analysis, cannot be simultaneously applied to calculate the output impedance. This limitation and other subtleties are discussed in further detail in Appendix C."
},
{
    "text": "A pivotal concept in analog and digital circuits is the \"Miller effect,\" named after the theorem proposed by Miller. According to Miller's theorem, if the circuit in Fig. 6.2(a) can be transformed into the circuit in Fig. 6.2(b), then the impedances $Z_{1}$ and $Z_{2}$ can be expressed as $Z_{1} = Z / (1 - A_{v})$ and $Z_{2} = Z / (1 - A_{v}^{-1})$, where $A_{v} = V_{Y} / V_{X}$.\n\nFig. 6.2(a) depicts a circuit with a resistor Z connected between nodes X and Y. The circuit in Fig. 6.2(b) shows the same resistor Z split into two grounded resistors, Z1 and Z2, connected to nodes X and Y, respectively.\n\nProof of this theorem involves analyzing the current flowing through the resistor Z from node X to node Y, which is equal to $(V_{X} - V_{Y}) / Z$. For the two circuits to be equivalent, the same current must flow through Z1. This leads to the equations:\n\n$$\n\\frac{V_{X} - V_{Y}}{Z} = \\frac{V_{X}}{Z_{1}} \\tag{6.1}\n$$\n\nand\n\n$$\nZ_{1} = \\frac{Z}{1 - \\frac{V_{Y}}{V_{X}}} \\tag{6.2}\n$$\n\nSimilarly,\n\n$$\nZ_{2} = \\frac{Z}{1 - \\frac{V_{X}}{V_{Y}}} \\tag{6.3}\n$$\n\nThis decomposition of a \"floating\" impedance Z into two \"grounded\" impedances is valuable in circuit analysis and design.\n\nExample 6.1 considers a circuit with a voltage amplifier having a negative gain -A and a feedback capacitor CF. The input capacitance is effectively multiplied by the factor (1+A) due to the feedback mechanism.\n\nExample 6.2 discusses the limitations of using Miller multiplication to achieve a large capacitor value in a circuit.\n\nExample 6.3 calculates the input resistance of a circuit using Miller's theorem.\n\nExample 6.4 determines the transfer function of a circuit using both direct analysis and Miller's approximation.\n\nMiller's theorem is a powerful tool in circuit analysis, but it has limitations. It may eliminate zeros, predict additional poles, and does not correctly compute the \"output\" impedance. Nevertheless, it provides valuable insights in many cases."
},
{
    "text": "The Miller effect, a concept introduced by Miller, is a critical phenomenon present in both analog and digital circuits. Miller's theorem posits that if a circuit configuration, depicted in Fig. 6.2(a), can be transformed into the configuration shown in Fig. 6.2(b), then the impedance values $Z_{1}$ and $Z_{2}$ can be expressed as $Z_{1} = Z / (1 - A_{v})$ and $Z_{2} = Z / (1 - A_{v}^{-1})$, where $A_{v} = V_{Y} / V_{X}$. These configurations represent a floating impedance Z between nodes X and Y, and its decomposition into grounded impedances Z1 and Z2, respectively.\n\nThe theorem is demonstrated by the current equality through the impedance Z, which is $(V_{X} - V_{Y}) / Z$. For the circuits to be equivalent, the same current must flow through $Z_{1}$, leading to the equations $Z_{1} = Z / (1 - V_{Y} / V_{X})$ and $Z_{2} = Z / (1 - V_{X} / V_{Y})$. This decomposition of a \"floating\" impedance Z into two \"grounded\" impedances is beneficial for both analysis and design purposes.\n\nExamples and further applications of Miller's theorem illustrate its utility in various circuit configurations, such as inverting amplifiers with feedback capacitors, where the input capacitance is effectively multiplied by the factor (1+A) due to the feedback mechanism. This effect is known as \"Miller multiplication.\"\n\nHowever, the application of Miller's theorem has its limitations. It may not be valid when the impedance Z constitutes the sole signal path between nodes X and Y. Moreover, the theorem does not inherently provide the conditions under which the conversion from the circuit of Fig. 6.2(a) to Fig. 6.2(b) is valid. In cases where the impedance Z is in parallel with the main signal path, as in an inverting amplifier configuration, Miller's theorem is typically applicable.\n\nAn important consideration is that the values of $A_{v}$ in the equations for $Z_{1}$ and $Z_{2}$ must be calculated at the frequency of interest, which can complicate the algebra involved. Despite these complexities, Miller's theorem remains a powerful tool for understanding and designing circuits, even when used in conjunction with the \"Miller's approximation,\" which can provide useful insights despite its limitations."
},
{
    "text": "Consider the straightforward cascade of amplifiers illustrated in Fig. 6.10. Here, $A_{1}$ and $A_{2}$ are ideal voltage amplifiers, $R_{1}$ and $R_{2}$ represent the output resistance of each stage, $C_{i n}$ and $C_{N}$ denote the input capacitance of each stage, and $C_{P}$ signifies the load capacitance. The comprehensive transfer function can be expressed as\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{A_{1}}{1+R_{S} C_{\\text {in }} s} \\cdot \\frac{A_{2}}{1+R_{1} C_{N} s} \\cdot \\frac{1}{1+R_{2} C_{P} s} \\tag{6.17}\n\\end{equation*}\n$$\n\nThe circuit features three poles, each determined by the total capacitance observed from each node to ground multiplied by the total resistance seen at that node to ground. Consequently, each pole can be associated with a specific node of the circuit, i.e., $\\omega_{j}=\\tau_{j}^{-1}$, where $\\tau_{j}$ is the product of the capacitance and resistance at node $j$ to ground. From this viewpoint, it can be stated that \"each node in the circuit contributes one pole to the transfer function.\"\nimage_name:Figure 6.10 Cascade of amplifiers\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: M}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: M, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: M, InN: GND, OutP: Out(A1)}\nname: R1, type: Resistor, value: R1, ports: {N1: Out(A1), N2: N}\nname: CN, type: Capacitor, value: CN, ports: {Np: N, Nn: GND}\nname: A2, type: OpAmp, value: A2, ports: {InP: N, InN: GND, Out: Out(A2)}\nname: R2, type: Resistor, value: R2, ports: {N1: Out(A2), N2: P(Vout)}\nname: CP, type: Capacitor, value: CP, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit consists of two amplifiers in cascade, each followed by a resistor-capacitor network, which aids in determining the poles of the transfer function. The input is connected through a resistor and capacitor to the first amplifier, and the output is derived from the second amplifier.\n\nThe aforementioned statement is not universally applicable. For instance, in the circuit shown in Fig. 6.11, the determination of pole locations is complicated due to the interaction between $X$ and $Y$ caused by $R_{3}$ and $C_{3}$. Nonetheless, in many circuits, associating one pole with each node offers an intuitive method for estimating the transfer function: we simply multiply the total equivalent capacitance by the total incremental (small-signal) resistance (both from the node of interest to ground), thereby obtaining an equivalent time constant and hence a pole frequency.\nimage_name:Figure 6.11 Example of interaction between nodes.\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vin, N2: X}\nname: C1, type: Capacitor, value: C1, ports: {Np: X, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: X, InN: GND, OutP: X3, OutN: GND}\nname: R3, type: Resistor, value: R3, ports: {N1: X, N2: X2}\nname: C3, type: Capacitor, value: C3, ports: {Np: X2, Nn: Y}\nname: R2, type: Resistor, value: R2, ports: {N1: X3, N2: Y}\nname: C2, type: Capacitor, value: C2, ports: {Np: Y, Nn: GND}\n]\nextrainfo:This circuit is a feedback amplifier featuring an op-amp (A1) and passive components forming a feedback network. The interaction between nodes X and Y is influenced by R3 and C3, affecting the pole locations in the transfer function.\n\n#### Example 6.5\n\nIgnoring channel-length modulation, determine the transfer function of the common-gate stage depicted in Fig. 6.12(a).\nimage_name:Figure 6.12(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: M1, type: NMOS, ports: {S: X, D: Y, G: Vb}\nname: I1, type: CurrentSource, value: I1, ports: {Np: X, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: Y, N2: VDD}\n]\nextrainfo:This circuit is a common-gate amplifier featuring an NMOS transistor (M1) and passive components forming the biasing and feedback network. The input signal is applied to the source of M1, and the output is taken from the drain. Parasitic capacitances affect the pole frequencies at nodes X and Y.\nimage_name:Figure 6.12(b)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: gmV1, type: VoltageControlCurrentSource, value: gmV1, ports: {Np: Vout, Nn: X}\nname: CGD, type: Capacitor, value: CGD, ports: {Np: Vout, Nn: X}\nname: CDB, type: Capacitor, value: CDB, ports: {Np: Vout, Nn: GND}\nname: CGS, type: Capacitor, value: CGS, ports: {Np: X, Nn: GND}\nname: CSB, type: Capacitor, value: CSB, ports: {Np: X, Nn: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with parasitic capacitances at the input and output. The NMOS transistor M1 serves as the amplifying device, with RD as the load resistor. The input is applied at Vin, and the output is taken from Vout. Parasitic capacitances CGD, CDB, CGS, and CSB influence the frequency response of the amplifier.\nFigure 6.12 Common-gate stage with parasitic capacitances.\n\n#### Solution\n\nIn this configuration, the capacitances contributed by $M_{1}$ are connected from the input and output nodes to ground [Fig. 6.12(b)]. At node $X, C_{S}=C_{G S}+C_{S B}$, resulting in a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{i n}=\\left[\\left(C_{G S}+C_{S B}\\right)\\left(R_{S} \\| \\frac{1}{g_{m}+g_{m b}}\\right)\\right]^{-1} \\tag{6.18}\n\\end{equation*}\n$$\n\nSimilarly, at node $Y, C_{D}=C_{D G}+C_{D B}$, producing a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{\\text {out }}=\\left[\\left(C_{D G}+C_{D B}\\right) R_{D}\\right]^{-1} \\tag{6.19}\n\\end{equation*}\n$$\n\nThe overall transfer function is therefore given by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(g_{m}+g_{m b}\\right) R_{D}}{1+\\left(g_{m}+g_{m b}\\right) R_{S}} \\cdot \\frac{1}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)} \\tag{6.20}\n\\end{equation*}\n$$\n\nwhere the first fraction represents the low-frequency gain of the circuit. Note that if $r_{O 1}$ is not neglected, the input and output nodes interact, complicating the calculation of the poles."
},
{
    "text": "Examine the straightforward amplifier cascade illustrated in Fig. 6.10. In this setup, $A_{1}$ and $A_{2}$ are ideal voltage amplifiers, $R_{1}$ and $R_{2}$ represent the output resistance of each stage, $C_{i n}$ and $C_{N}$ denote the input capacitance of each stage, and $C_{P}$ signifies the load capacitance. The comprehensive transfer function can be expressed as\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{A_{1}}{1+R_{S} C_{\\text {in }} s} \\cdot \\frac{A_{2}}{1+R_{1} C_{N} s} \\cdot \\frac{1}{1+R_{2} C_{P} s} \\tag{6.17}\n\\end{equation*}\n$$\n\nThis circuit features three poles, each determined by the total capacitance observed from each node to ground, multiplied by the total resistance seen at the node to ground. Consequently, each pole can be linked to a specific node in the circuit, i.e., $\\omega_{j}=\\tau_{j}^{-1}$, where $\\tau_{j}$ is the product of the capacitance and resistance at node $j$ to ground. From this viewpoint, it can be stated that \"each node in the circuit contributes one pole to the transfer function.\"\nimage_name:Figure 6.10 Cascade of amplifiers\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: M}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: M, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: M, InN: GND, OutP: Out(A1)}\nname: R1, type: Resistor, value: R1, ports: {N1: Out(A1), N2: N}\nname: CN, type: Capacitor, value: CN, ports: {Np: N, Nn: GND}\nname: A2, type: OpAmp, value: A2, ports: {InP: N, InN: GND, Out: Out(A2)}\nname: R2, type: Resistor, value: R2, ports: {N1: Out(A2), N2: P(Vout)}\nname: CP, type: Capacitor, value: CP, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit consists of two cascaded amplifiers, each followed by a resistor-capacitor network, which aids in determining the poles of the transfer function. The input is connected through a resistor and capacitor to the first amplifier, and the output is derived from the second amplifier.\n\nThe aforementioned statement is not universally applicable. For instance, in the circuit shown in Fig. 6.11, the determination of pole locations is complex due to the interaction between $X$ and $Y$ caused by $R_{3}$ and $C_{3}$. Nonetheless, in numerous circuits, associating one pole with each node offers an intuitive method for estimating the transfer function: we simply multiply the total equivalent capacitance by the total incremental (small-signal) resistance (both from the node of interest to ground), thereby obtaining an equivalent time constant and thus a pole frequency.\nimage_name:Figure 6.11 Example of interaction between nodes.\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vin, N2: X}\nname: C1, type: Capacitor, value: C1, ports: {Np: X, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: X, InN: GND, OutP: X3, OutN: GND}\nname: R3, type: Resistor, value: R3, ports: {N1: X, N2: X2}\nname: C3, type: Capacitor, value: C3, ports: {Np: X2, Nn: Y}\nname: R2, type: Resistor, value: R2, ports: {N1: X3, N2: Y}\nname: C2, type: Capacitor, value: C2, ports: {Np: Y, Nn: GND}\n]\nextrainfo:This circuit is a feedback amplifier incorporating an op-amp (A1) and passive components that form a feedback network. The interaction between nodes X and Y is influenced by R3 and C3, affecting the pole locations in the transfer function.\n\n#### Example 6.5\n\nIgnoring channel-length modulation, determine the transfer function of the common-gate stage depicted in Fig. 6.12(a).\nimage_name:Figure 6.12(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: M1, type: NMOS, ports: {S: X, D: Y, G: Vb}\nname: I1, type: CurrentSource, value: I1, ports: {Np: X, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: Y, N2: VDD}\n]\nextrainfo:This circuit is a common-gate amplifier featuring an NMOS transistor (M1) and passive components that form the biasing and feedback network. The input signal is applied to the source of M1, and the output is taken from the drain. Parasitic capacitances influence the pole frequencies at nodes X and Y.\nimage_name:Figure 6.12(b)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: gmV1, type: VoltageControlCurrentSource, value: gmV1, ports: {Np: Vout, Nn: X}\nname: CGD, type: Capacitor, value: CGD, ports: {Np: Vout, Nn: X}\nname: CDB, type: Capacitor, value: CDB, ports: {Np: Vout, Nn: GND}\nname: CGS, type: Capacitor, value: CGS, ports: {Np: X, Nn: GND}\nname: CSB, type: Capacitor, value: CSB, ports: {Np: X, Nn: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with parasitic capacitances at the input and output. The NMOS transistor M1 serves as the amplifying device, with RD as the load resistor. The input is applied at Vin, and the output is taken from Vout. Parasitic capacitances CGD, CDB, CGS, and CSB affect the frequency response of the amplifier.\nFigure 6.12 Common-gate stage with parasitic capacitances.\n\n#### Solution\n\nIn this configuration, the capacitances contributed by $M_{1}$ are connected from the input and output nodes to ground [Fig. 6.12(b)]. At node $X, C_{S}=C_{G S}+C_{S B}$, resulting in a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{i n}=\\left[\\left(C_{G S}+C_{S B}\\right)\\left(R_{S} \\| \\frac{1}{g_{m}+g_{m b}}\\right)\\right]^{-1} \\tag{6.18}\n\\end{equation*}\n$$\n\nSimilarly, at node $Y, C_{D}=C_{D G}+C_{D B}$, producing a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{\\text {out }}=\\left[\\left(C_{D G}+C_{D B}\\right) R_{D}\\right]^{-1} \\tag{6.19}\n\\end{equation*}\n$$\n\nThe overall transfer function is therefore given by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(g_{m}+g_{m b}\\right) R_{D}}{1+\\left(g_{m}+g_{m b}\\right) R_{S}} \\cdot \\frac{1}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)} \\tag{6.20}\n\\end{equation*}\n$$\n\nwhere the first fraction represents the low-frequency gain of the circuit. Note that if $r_{O 1}$ is not neglected, the input and output nodes interact, complicating the calculation of the poles."
},
{
    "text": "Consider the straightforward amplifier cascade illustrated in Fig. 6.10. Here, $A_{1}$ and $A_{2}$ are ideal voltage amplifiers, $R_{1}$ and $R_{2}$ represent the output resistance of each stage, $C_{i n}$ and $C_{N}$ denote the input capacitance of each stage, and $C_{P}$ indicates the load capacitance. The comprehensive transfer function can be expressed as\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{A_{1}}{1+R_{S} C_{\\text {in }} s} \\cdot \\frac{A_{2}}{1+R_{1} C_{N} s} \\cdot \\frac{1}{1+R_{2} C_{P} s} \\tag{6.17}\n\\end{equation*}\n$$\n\nThe circuit features three poles, each determined by the total capacitance observed from each node to ground multiplied by the total resistance seen at that node to ground. Consequently, each pole can be linked to a specific node in the circuit, i.e., $\\omega_{j}=\\tau_{j}^{-1}$, where $\\tau_{j}$ is the product of the capacitance and resistance at node $j$ to ground. From this viewpoint, it can be stated that \"each node in the circuit contributes one pole to the transfer function.\"\n\nimage_name:Figure 6.10 Cascade of amplifiers\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: M}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: M, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: M, InN: GND, OutP: Out(A1)}\nname: R1, type: Resistor, value: R1, ports: {N1: Out(A1), N2: N}\nname: CN, type: Capacitor, value: CN, ports: {Np: N, Nn: GND}\nname: A2, type: OpAmp, value: A2, ports: {InP: N, InN: GND, Out: Out(A2)}\nname: R2, type: Resistor, value: R2, ports: {N1: Out(A2), N2: P(Vout)}\nname: CP, type: Capacitor, value: CP, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit comprises two amplifiers in cascade, each followed by a resistor-capacitor network, which aids in determining the poles of the transfer function. The input is connected through a resistor and capacitor to the first amplifier, and the output is derived from the second amplifier.\n\nThe aforementioned statement is not universally applicable. For instance, in the circuit shown in Fig. 6.11, the determination of pole locations is challenging due to the interaction between $X$ and $Y$ caused by $R_{3}$ and $C_{3}$. Nonetheless, in numerous circuits, associating one pole with each node offers an intuitive method for estimating the transfer function: we simply multiply the total equivalent capacitance by the total incremental (small-signal) resistance (both from the node of interest to ground), thereby obtaining an equivalent time constant and hence a pole frequency.\n\nimage_name:Figure 6.11 Example of interaction between nodes.\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vin, N2: X}\nname: C1, type: Capacitor, value: C1, ports: {Np: X, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: X, InN: GND, OutP: X3, OutN: GND}\nname: R3, type: Resistor, value: R3, ports: {N1: X, N2: X2}\nname: C3, type: Capacitor, value: C3, ports: {Np: X2, Nn: Y}\nname: R2, type: Resistor, value: R2, ports: {N1: X3, N2: Y}\nname: C2, type: Capacitor, value: C2, ports: {Np: Y, Nn: GND}\n]\nextrainfo:This circuit is a feedback amplifier incorporating an op-amp (A1) and passive components forming a feedback network. The interaction between nodes X and Y is influenced by R3 and C3, affecting the pole locations in the transfer function.\n\n#### Example 6.5\n\nIgnoring channel-length modulation, determine the transfer function of the common-gate stage depicted in Fig. 6.12(a).\n\nimage_name:Figure 6.12(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: M1, type: NMOS, ports: {S: X, D: Y, G: Vb}\nname: I1, type: CurrentSource, value: I1, ports: {Np: X, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: Y, N2: VDD}\n]\nextrainfo:This circuit is a common-gate amplifier with an NMOS transistor (M1) and passive components forming the biasing and feedback network. The input signal is applied to the source of M1, and the output is taken from the drain. Parasitic capacitances influence the pole frequencies at nodes X and Y.\n\nimage_name:Figure 6.12(b)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: gmV1, type: VoltageControlCurrentSource, value: gmV1, ports: {Np: Vout, Nn: X}\nname: CGD, type: Capacitor, value: CGD, ports: {Np: Vout, Nn: X}\nname: CDB, type: Capacitor, value: CDB, ports: {Np: Vout, Nn: GND}\nname: CGS, type: Capacitor, value: CGS, ports: {Np: X, Nn: GND}\nname: CSB, type: Capacitor, value: CSB, ports: {Np: X, Nn: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with parasitic capacitances at the input and output. The NMOS transistor M1 serves as the amplifying device, with RD as the load resistor. The input is applied at Vin, and the output is taken from Vout. Parasitic capacitances CGD, CDB, CGS, and CSB affect the frequency response of the amplifier.\n\nFigure 6.12 Common-gate stage with parasitic capacitances.\n\n#### Solution\n\nIn this circuit, the capacitances contributed by $M_{1}$ are connected from the input and output nodes to ground [Fig. 6.12(b)]. At node $X, C_{S}=C_{G S}+C_{S B}$, resulting in a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{i n}=\\left[\\left(C_{G S}+C_{S B}\\right)\\left(R_{S} \\| \\frac{1}{g_{m}+g_{m b}}\\right)\\right]^{-1} \\tag{6.18}\n\\end{equation*}\n$$\n\nSimilarly, at node $Y, C_{D}=C_{D G}+C_{D B}$, producing a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{\\text {out }}=\\left[\\left(C_{D G}+C_{D B}\\right) R_{D}\\right]^{-1} \\tag{6.19}\n\\end{equation*}\n$$\n\nThe overall transfer function is therefore given by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(g_{m}+g_{m b}\\right) R_{D}}{1+\\left(g_{m}+g_{m b}\\right) R_{S}} \\cdot \\frac{1}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)} \\tag{6.20}\n\\end{equation*}\n$$\n\nwhere the first fraction represents the low-frequency gain of the circuit. Note that if $r_{O 1}$ is not neglected, the input and output nodes interact, complicating the calculation of the poles."
},
{
    "text": "Consider the straightforward arrangement of amplifiers illustrated in Fig. 6.10. Here, $A_{1}$ and $A_{2}$ are ideal voltage amplifiers, $R_{1}$ and $R_{2}$ represent the output resistance of each stage, $C_{i n}$ and $C_{N}$ denote the input capacitance of each stage, and $C_{P}$ indicates the load capacitance. The comprehensive transfer function can be expressed as\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{A_{1}}{1+R_{S} C_{\\text {in }} s} \\cdot \\frac{A_{2}}{1+R_{1} C_{N} s} \\cdot \\frac{1}{1+R_{2} C_{P} s} \\tag{6.17}\n\\end{equation*}\n$$\n\nThe circuit features three poles, each determined by the total capacitance visible from each node to ground multiplied by the total resistance observed at the node to ground. Consequently, each pole can be linked to a specific node in the circuit, i.e., $\\omega_{j}=\\tau_{j}^{-1}$, where $\\tau_{j}$ is the product of the capacitance and resistance observed at node $j$ to ground. From this viewpoint, it can be stated that \"each node in the circuit contributes one pole to the transfer function.\"\nimage_name:Figure 6.10 Cascade of amplifiers\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: M}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: M, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: M, InN: GND, OutP: Out(A1)}\nname: R1, type: Resistor, value: R1, ports: {N1: Out(A1), N2: N}\nname: CN, type: Capacitor, value: CN, ports: {Np: N, Nn: GND}\nname: A2, type: OpAmp, value: A2, ports: {InP: N, InN: GND, Out: Out(A2)}\nname: R2, type: Resistor, value: R2, ports: {N1: Out(A2), N2: P(Vout)}\nname: CP, type: Capacitor, value: CP, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit consists of two amplifiers in a cascade, each followed by a resistor-capacitor network, which aids in determining the poles of the transfer function. The input is connected through a resistor and capacitor to the first amplifier, and the output is derived from the second amplifier.\n\nThe aforementioned assertion is not universally applicable. For instance, in the circuit shown in Fig. 6.11, the determination of pole locations is complex due to the interaction between $X$ and $Y$ caused by $R_{3}$ and $C_{3}$. Nonetheless, in numerous circuits, associating one pole with each node offers an intuitive method for estimating the transfer function: we simply multiply the total equivalent capacitance by the total incremental (small-signal) resistance (both from the node of interest to ground), thereby obtaining an equivalent time constant and hence a pole frequency.\nimage_name:Figure 6.11 Example of interaction between nodes.\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vin, N2: X}\nname: C1, type: Capacitor, value: C1, ports: {Np: X, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: X, InN: GND, OutP: X3, OutN: GND}\nname: R3, type: Resistor, value: R3, ports: {N1: X, N2: X2}\nname: C3, type: Capacitor, value: C3, ports: {Np: X2, Nn: Y}\nname: R2, type: Resistor, value: R2, ports: {N1: X3, N2: Y}\nname: C2, type: Capacitor, value: C2, ports: {Np: Y, Nn: GND}\n]\nextrainfo:This circuit is a feedback amplifier featuring an op-amp (A1) and passive components that form a feedback network. The interaction between nodes X and Y is influenced by R3 and C3, impacting the pole locations in the transfer function.\n\n#### Example 6.5\n\nIgnoring channel-length modulation, determine the transfer function of the common-gate stage depicted in Fig. 6.12(a).\nimage_name:Figure 6.12(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: M1, type: NMOS, ports: {S: X, D: Y, G: Vb}\nname: I1, type: CurrentSource, value: I1, ports: {Np: X, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: Y, N2: VDD}\n]\nextrainfo:This circuit is a common-gate amplifier with an NMOS transistor (M1) and passive components forming the biasing and feedback network. The input signal is applied to the source of M1, and the output is taken from the drain. Parasitic capacitances affect the pole frequencies at nodes X and Y.\nimage_name:Figure 6.12(b)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: gmV1, type: VoltageControlCurrentSource, value: gmV1, ports: {Np: Vout, Nn: X}\nname: CGD, type: Capacitor, value: CGD, ports: {Np: Vout, Nn: X}\nname: CDB, type: Capacitor, value: CDB, ports: {Np: Vout, Nn: GND}\nname: CGS, type: Capacitor, value: CGS, ports: {Np: X, Nn: GND}\nname: CSB, type: Capacitor, value: CSB, ports: {Np: X, Nn: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with parasitic capacitances at the input and output. The NMOS transistor M1 is used as the amplifying device, with RD as the load resistor. The input is applied at Vin, and the output is taken from Vout. Parasitic capacitances CGD, CDB, CGS, and CSB affect the frequency response of the amplifier.\nFigure 6.12 Common-gate stage with parasitic capacitances.\n\n#### Solution\n\nIn this configuration, the capacitances contributed by $M_{1}$ are connected from the input and output nodes to ground [Fig. 6.12(b)]. At node $X, C_{S}=C_{G S}+C_{S B}$, resulting in a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{i n}=\\left[\\left(C_{G S}+C_{S B}\\right)\\left(R_{S} \\| \\frac{1}{g_{m}+g_{m b}}\\right)\\right]^{-1} \\tag{6.18}\n\\end{equation*}\n$$\n\nSimilarly, at node $Y, C_{D}=C_{D G}+C_{D B}$, producing a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{\\text {out }}=\\left[\\left(C_{D G}+C_{D B}\\right) R_{D}\\right]^{-1} \\tag{6.19}\n\\end{equation*}\n$$\n\nThe overall transfer function is thus given by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(g_{m}+g_{m b}\\right) R_{D}}{1+\\left(g_{m}+g_{m b}\\right) R_{S}} \\cdot \\frac{1}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)} \\tag{6.20}\n\\end{equation*}\n$$\n\nwhere the first fraction represents the low-frequency gain of the circuit. Note that if $r_{O 1}$ is not neglected, the input and output nodes interact, complicating the calculation of the poles."
},
{
    "text": "Consider the straightforward cascade of amplifiers illustrated in Fig. 6.10. Here, $A_{1}$ and $A_{2}$ are ideal voltage amplifiers, $R_{1}$ and $R_{2}$ represent the output resistance of each stage, $C_{i n}$ and $C_{N}$ denote the input capacitance of each stage, and $C_{P}$ signifies the load capacitance. The overall transfer function can be expressed as\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{A_{1}}{1+R_{S} C_{\\text {in }} s} \\cdot \\frac{A_{2}}{1+R_{1} C_{N} s} \\cdot \\frac{1}{1+R_{2} C_{P} s} \\tag{6.17}\n\\end{equation*}\n$$\n\nThe circuit features three poles, each determined by the total capacitance observed from each node to ground multiplied by the total resistance seen at that node to ground. Consequently, each pole can be associated with a specific node of the circuit, i.e., $\\omega_{j}=\\tau_{j}^{-1}$, where $\\tau_{j}$ is the product of the capacitance and resistance at node $j$ to ground. From this viewpoint, it can be stated that \"each node in the circuit contributes one pole to the transfer function.\"\nimage_name:Figure 6.10 Cascade of amplifiers\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: M}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: M, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: M, InN: GND, OutP: Out(A1)}\nname: R1, type: Resistor, value: R1, ports: {N1: Out(A1), N2: N}\nname: CN, type: Capacitor, value: CN, ports: {Np: N, Nn: GND}\nname: A2, type: OpAmp, value: A2, ports: {InP: N, InN: GND, Out: Out(A2)}\nname: R2, type: Resistor, value: R2, ports: {N1: Out(A2), N2: P(Vout)}\nname: CP, type: Capacitor, value: CP, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit comprises two amplifiers in cascade, each followed by a resistor-capacitor network, which aids in determining the poles of the transfer function. The input is connected through a resistor and capacitor to the first amplifier, and the output is derived from the second amplifier.\n\nThe aforementioned statement is not universally applicable. For instance, in the circuit shown in Fig. 6.11, the determination of pole locations is complex due to the interaction between $X$ and $Y$ caused by $R_{3}$ and $C_{3}$. Nonetheless, in many circuits, associating one pole with each node offers an intuitive method for estimating the transfer function: we simply multiply the total equivalent capacitance by the total incremental (small-signal) resistance (both from the node of interest to ground), thereby obtaining an equivalent time constant and hence a pole frequency.\nimage_name:Figure 6.11 Example of interaction between nodes.\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vin, N2: X}\nname: C1, type: Capacitor, value: C1, ports: {Np: X, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: X, InN: GND, OutP: X3, OutN: GND}\nname: R3, type: Resistor, value: R3, ports: {N1: X, N2: X2}\nname: C3, type: Capacitor, value: C3, ports: {Np: X2, Nn: Y}\nname: R2, type: Resistor, value: R2, ports: {N1: X3, N2: Y}\nname: C2, type: Capacitor, value: C2, ports: {Np: Y, Nn: GND}\n]\nextrainfo:This circuit is a feedback amplifier incorporating an op-amp (A1) and passive components forming a feedback network. The interaction between nodes X and Y is influenced by R3 and C3, affecting the pole locations in the transfer function.\n\n#### Example 6.5\n\nIgnoring channel-length modulation, determine the transfer function of the common-gate stage depicted in Fig. 6.12(a).\nimage_name:Figure 6.12(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: M1, type: NMOS, ports: {S: X, D: Y, G: Vb}\nname: I1, type: CurrentSource, value: I1, ports: {Np: X, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: Y, N2: VDD}\n]\nextrainfo:This circuit is a common-gate amplifier with an NMOS transistor (M1) and passive components forming the biasing and feedback network. The input signal is applied to the source of M1, and the output is taken from the drain. Parasitic capacitances affect the pole frequencies at nodes X and Y.\nimage_name:Figure 6.12(b)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: gmV1, type: VoltageControlCurrentSource, value: gmV1, ports: {Np: Vout, Nn: X}\nname: CGD, type: Capacitor, value: CGD, ports: {Np: Vout, Nn: X}\nname: CDB, type: Capacitor, value: CDB, ports: {Np: Vout, Nn: GND}\nname: CGS, type: Capacitor, value: CGS, ports: {Np: X, Nn: GND}\nname: CSB, type: Capacitor, value: CSB, ports: {Np: X, Nn: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with parasitic capacitances at the input and output. The NMOS transistor M1 is used as the amplifying device, with RD as the load resistor. The input is applied at Vin, and the output is taken from Vout. Parasitic capacitances CGD, CDB, CGS, and CSB affect the frequency response of the amplifier.\nFigure 6.12 Common-gate stage with parasitic capacitances.\n\n#### Solution\n\nIn this configuration, the capacitances contributed by $M_{1}$ are connected from the input and output nodes to ground [Fig. 6.12(b)]. At node $X, C_{S}=C_{G S}+C_{S B}$, resulting in a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{i n}=\\left[\\left(C_{G S}+C_{S B}\\right)\\left(R_{S} \\| \\frac{1}{g_{m}+g_{m b}}\\right)\\right]^{-1} \\tag{6.18}\n\\end{equation*}\n$$\n\nSimilarly, at node $Y, C_{D}=C_{D G}+C_{D B}$, producing a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{\\text {out }}=\\left[\\left(C_{D G}+C_{D B}\\right) R_{D}\\right]^{-1} \\tag{6.19}\n\\end{equation*}\n$$\n\nThe overall transfer function is therefore given by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(g_{m}+g_{m b}\\right) R_{D}}{1+\\left(g_{m}+g_{m b}\\right) R_{S}} \\cdot \\frac{1}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)} \\tag{6.20}\n\\end{equation*}\n$$\n\nwhere the first fraction represents the low-frequency gain of the circuit. Note that if $r_{O 1}$ is not neglected, the input and output nodes interact, complicating the calculation of the poles."
},
{
    "text": "Examine the straightforward amplifier cascade illustrated in Fig. 6.10. In this setup, $A_{1}$ and $A_{2}$ are ideal voltage amplifiers, $R_{1}$ and $R_{2}$ represent the output resistance of each stage, $C_{i n}$ and $C_{N}$ denote the input capacitance of each stage, and $C_{P}$ signifies the load capacitance. The comprehensive transfer function can be expressed as\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{A_{1}}{1+R_{S} C_{\\text {in }} s} \\cdot \\frac{A_{2}}{1+R_{1} C_{N} s} \\cdot \\frac{1}{1+R_{2} C_{P} s} \\tag{6.17}\n\\end{equation*}\n$$\n\nThe circuit features three poles, each determined by the total capacitance observed from each node to ground, multiplied by the total resistance seen at that node to ground. Consequently, each pole can be linked to a specific node in the circuit, i.e., $\\omega_{j}=\\tau_{j}^{-1}$, where $\\tau_{j}$ is the product of the capacitance and resistance at node $j$ to ground. From this viewpoint, it can be stated that \"each node in the circuit contributes one pole to the transfer function.\"\nimage_name:Figure 6.10 Cascade of amplifiers\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: M}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: M, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: M, InN: GND, OutP: Out(A1)}\nname: R1, type: Resistor, value: R1, ports: {N1: Out(A1), N2: N}\nname: CN, type: Capacitor, value: CN, ports: {Np: N, Nn: GND}\nname: A2, type: OpAmp, value: A2, ports: {InP: N, InN: GND, Out: Out(A2)}\nname: R2, type: Resistor, value: R2, ports: {N1: Out(A2), N2: P(Vout)}\nname: CP, type: Capacitor, value: CP, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit comprises two amplifiers in cascade, each followed by a resistor-capacitor network, which aids in determining the poles of the transfer function. The input is connected through a resistor and capacitor to the first amplifier, and the output is derived from the second amplifier.\n\nThe aforementioned assertion is not universally applicable. For instance, in the circuit shown in Fig. 6.11, determining the pole locations is challenging due to the interaction between $X$ and $Y$ caused by $R_{3}$ and $C_{3}$. Nonetheless, in numerous circuits, associating one pole with each node offers an intuitive method for estimating the transfer function: we simply multiply the total equivalent capacitance by the total incremental (small-signal) resistance (both from the node of interest to ground), thereby obtaining an equivalent time constant and hence a pole frequency.\nimage_name:Figure 6.11 Example of interaction between nodes.\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vin, N2: X}\nname: C1, type: Capacitor, value: C1, ports: {Np: X, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: X, InN: GND, OutP: X3, OutN: GND}\nname: R3, type: Resistor, value: R3, ports: {N1: X, N2: X2}\nname: C3, type: Capacitor, value: C3, ports: {Np: X2, Nn: Y}\nname: R2, type: Resistor, value: R2, ports: {N1: X3, N2: Y}\nname: C2, type: Capacitor, value: C2, ports: {Np: Y, Nn: GND}\n]\nextrainfo:This circuit is a feedback amplifier featuring an op-amp (A1) and passive components that form a feedback network. The interaction between nodes X and Y is influenced by R3 and C3, affecting the pole locations in the transfer function.\n\n#### Example 6.5\n\nIgnoring channel-length modulation, determine the transfer function of the common-gate stage depicted in Fig. 6.12(a).\nimage_name:Figure 6.12(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: M1, type: NMOS, ports: {S: X, D: Y, G: Vb}\nname: I1, type: CurrentSource, value: I1, ports: {Np: X, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: Y, N2: VDD}\n]\nextrainfo:This circuit is a common-gate amplifier with an NMOS transistor (M1) and passive components forming the biasing and feedback network. The input signal is applied to the source of M1, and the output is taken from the drain. Parasitic capacitances affect the pole frequencies at nodes X and Y.\nimage_name:Figure 6.12(b)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: gmV1, type: VoltageControlCurrentSource, value: gmV1, ports: {Np: Vout, Nn: X}\nname: CGD, type: Capacitor, value: CGD, ports: {Np: Vout, Nn: X}\nname: CDB, type: Capacitor, value: CDB, ports: {Np: Vout, Nn: GND}\nname: CGS, type: Capacitor, value: CGS, ports: {Np: X, Nn: GND}\nname: CSB, type: Capacitor, value: CSB, ports: {Np: X, Nn: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with parasitic capacitances at the input and output. The NMOS transistor M1 is used as the amplifying device, with RD as the load resistor. The input is applied at Vin, and the output is taken from Vout. Parasitic capacitances CGD, CDB, CGS, and CSB affect the frequency response of the amplifier.\nFigure 6.12 Common-gate stage with parasitic capacitances.\n\n#### Solution\n\nIn this configuration, the capacitances contributed by $M_{1}$ are connected from the input and output nodes to ground [Fig. 6.12(b)]. At node $X, C_{S}=C_{G S}+C_{S B}$, resulting in a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{i n}=\\left[\\left(C_{G S}+C_{S B}\\right)\\left(R_{S} \\| \\frac{1}{g_{m}+g_{m b}}\\right)\\right]^{-1} \\tag{6.18}\n\\end{equation*}\n$$\n\nSimilarly, at node $Y, C_{D}=C_{D G}+C_{D B}$, producing a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{\\text {out }}=\\left[\\left(C_{D G}+C_{D B}\\right) R_{D}\\right]^{-1} \\tag{6.19}\n\\end{equation*}\n$$\n\nThe overall transfer function is therefore given by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(g_{m}+g_{m b}\\right) R_{D}}{1+\\left(g_{m}+g_{m b}\\right) R_{S}} \\cdot \\frac{1}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)} \\tag{6.20}\n\\end{equation*}\n$$\n\nwhere the first fraction represents the low-frequency gain of the circuit. Note that if $r_{O 1}$ is not neglected, the input and output nodes interact, complicating the calculation of the poles."
},
{
    "text": "Examine the straightforward amplifier cascade illustrated in Fig. 6.10. Here, $A_{1}$ and $A_{2}$ are ideal voltage amplifiers, $R_{1}$ and $R_{2}$ represent the output resistance of each stage, $C_{i n}$ and $C_{N}$ denote the input capacitance of each stage, and $C_{P}$ signifies the load capacitance. The comprehensive transfer function can be expressed as\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{A_{1}}{1+R_{S} C_{\\text {in }} s} \\cdot \\frac{A_{2}}{1+R_{1} C_{N} s} \\cdot \\frac{1}{1+R_{2} C_{P} s} \\tag{6.17}\n\\end{equation*}\n$$\n\nThe circuit features three poles, each determined by the total capacitance observed from each node to ground multiplied by the total resistance seen at the node to ground. Consequently, each pole can be linked to a specific node in the circuit, i.e., $\\omega_{j}=\\tau_{j}^{-1}$, where $\\tau_{j}$ is the product of the capacitance and resistance at node $j$ to ground. From this viewpoint, it can be stated that \"each node in the circuit contributes one pole to the transfer function.\"\nimage_name:Figure 6.10 Cascade of amplifiers\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: M}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: M, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: M, InN: GND, OutP: Out(A1)}\nname: R1, type: Resistor, value: R1, ports: {N1: Out(A1), N2: N}\nname: CN, type: Capacitor, value: CN, ports: {Np: N, Nn: GND}\nname: A2, type: OpAmp, value: A2, ports: {InP: N, InN: GND, Out: Out(A2)}\nname: R2, type: Resistor, value: R2, ports: {N1: Out(A2), N2: P(Vout)}\nname: CP, type: Capacitor, value: CP, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit consists of two amplifiers in cascade, each followed by a resistor-capacitor network, which aids in determining the poles of the transfer function. The input is connected through a resistor and capacitor to the first amplifier, and the output is derived from the second amplifier.\n\nThe aforementioned statement is not universally applicable. For instance, in the circuit shown in Fig. 6.11, the determination of pole locations is complex due to the interaction between $X$ and $Y$ caused by $R_{3}$ and $C_{3}$. Nonetheless, in numerous circuits, associating one pole with each node offers an intuitive method for estimating the transfer function: we simply multiply the total equivalent capacitance by the total incremental (small-signal) resistance (both from the node of interest to ground), thereby obtaining an equivalent time constant and thus a pole frequency.\nimage_name:Figure 6.11 Example of interaction between nodes.\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vin, N2: X}\nname: C1, type: Capacitor, value: C1, ports: {Np: X, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: X, InN: GND, OutP: X3, OutN: GND}\nname: R3, type: Resistor, value: R3, ports: {N1: X, N2: X2}\nname: C3, type: Capacitor, value: C3, ports: {Np: X2, Nn: Y}\nname: R2, type: Resistor, value: R2, ports: {N1: X3, N2: Y}\nname: C2, type: Capacitor, value: C2, ports: {Np: Y, Nn: GND}\n]\nextrainfo:This circuit is a feedback amplifier featuring an op-amp (A1) and passive components forming a feedback network. The interaction between nodes X and Y is influenced by R3 and C3, affecting the pole locations in the transfer function.\n\n#### Example 6.5\n\nIgnoring channel-length modulation, determine the transfer function of the common-gate stage depicted in Fig. 6.12(a).\nimage_name:Figure 6.12(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: M1, type: NMOS, ports: {S: X, D: Y, G: Vb}\nname: I1, type: CurrentSource, value: I1, ports: {Np: X, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: Y, N2: VDD}\n]\nextrainfo:This circuit is a common-gate amplifier featuring an NMOS transistor (M1) and passive components forming the biasing and feedback network. The input signal is applied to the source of M1, and the output is taken from the drain. Parasitic capacitances affect the pole frequencies at nodes X and Y.\nimage_name:Figure 6.12(b)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: gmV1, type: VoltageControlCurrentSource, value: gmV1, ports: {Np: Vout, Nn: X}\nname: CGD, type: Capacitor, value: CGD, ports: {Np: Vout, Nn: X}\nname: CDB, type: Capacitor, value: CDB, ports: {Np: Vout, Nn: GND}\nname: CGS, type: Capacitor, value: CGS, ports: {Np: X, Nn: GND}\nname: CSB, type: Capacitor, value: CSB, ports: {Np: X, Nn: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with parasitic capacitances at the input and output. The NMOS transistor M1 is used as the amplifying device, with RD as the load resistor. The input is applied at Vin, and the output is taken from Vout. Parasitic capacitances CGD, CDB, CGS, and CSB influence the frequency response of the amplifier.\nFigure 6.12 Common-gate stage with parasitic capacitances.\n\n#### Solution\n\nIn this circuit, the capacitances contributed by $M_{1}$ are connected from the input and output nodes to ground [Fig. 6.12(b)]. At node $X, C_{S}=C_{G S}+C_{S B}$, resulting in a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{i n}=\\left[\\left(C_{G S}+C_{S B}\\right)\\left(R_{S} \\| \\frac{1}{g_{m}+g_{m b}}\\right)\\right]^{-1} \\tag{6.18}\n\\end{equation*}\n$$\n\nSimilarly, at node $Y, C_{D}=C_{D G}+C_{D B}$, producing a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{\\text {out }}=\\left[\\left(C_{D G}+C_{D B}\\right) R_{D}\\right]^{-1} \\tag{6.19}\n\\end{equation*}\n$$\n\nThe overall transfer function is therefore given by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(g_{m}+g_{m b}\\right) R_{D}}{1+\\left(g_{m}+g_{m b}\\right) R_{S}} \\cdot \\frac{1}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)} \\tag{6.20}\n\\end{equation*}\n$$\n\nwhere the first fraction represents the low-frequency gain of the circuit. Note that if $r_{O 1}$ is not neglected, the input and output nodes interact, complicating the calculation of the poles."
},
{
    "text": "Consider the straightforward arrangement of amplifiers illustrated in Fig. 6.10. Here, $A_{1}$ and $A_{2}$ are ideal voltage amplifiers, $R_{1}$ and $R_{2}$ represent the output resistance of each stage, $C_{i n}$ and $C_{N}$ denote the input capacitance of each stage, and $C_{P}$ signifies the load capacitance. The comprehensive transfer function can be expressed as\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{A_{1}}{1+R_{S} C_{\\text {in }} s} \\cdot \\frac{A_{2}}{1+R_{1} C_{N} s} \\cdot \\frac{1}{1+R_{2} C_{P} s} \\tag{6.17}\n\\end{equation*}\n$$\n\nThe circuit features three poles, each determined by the total capacitance observed from each node to ground multiplied by the total resistance seen at the node to ground. Consequently, each pole can be linked to a specific node of the circuit, i.e., $\\omega_{j}=\\tau_{j}^{-1}$, where $\\tau_{j}$ is the product of the capacitance and resistance observed at node $j$ to ground. From this viewpoint, it can be stated that \"each node in the circuit contributes one pole to the transfer function.\"\nimage_name:Figure 6.10 Cascade of amplifiers\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: M}\nname: Cin, type: Capacitor, value: Cin, ports: {Np: M, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: M, InN: GND, OutP: Out(A1)}\nname: R1, type: Resistor, value: R1, ports: {N1: Out(A1), N2: N}\nname: CN, type: Capacitor, value: CN, ports: {Np: N, Nn: GND}\nname: A2, type: OpAmp, value: A2, ports: {InP: N, InN: GND, Out: Out(A2)}\nname: R2, type: Resistor, value: R2, ports: {N1: Out(A2), N2: P(Vout)}\nname: CP, type: Capacitor, value: CP, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit comprises two amplifiers in a cascade, each followed by a resistor-capacitor network, which aids in determining the poles of the transfer function. The input is connected through a resistor and capacitor to the first amplifier, and the output is derived from the second amplifier.\n\nThe aforementioned statement is not universally applicable. For instance, in the circuit depicted in Fig. 6.11, the determination of pole locations is complicated due to the interaction between $X$ and $Y$ caused by $R_{3}$ and $C_{3}$. Nonetheless, in numerous circuits, associating one pole with each node offers an intuitive method for estimating the transfer function: we simply multiply the total equivalent capacitance by the total incremental (small-signal) resistance (both from the node of interest to ground), thereby obtaining an equivalent time constant and hence a pole frequency.\nimage_name:Figure 6.11 Example of interaction between nodes.\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vin, N2: X}\nname: C1, type: Capacitor, value: C1, ports: {Np: X, Nn: GND}\nname: A1, type: OpAmp, value: A1, ports: {InP: X, InN: GND, OutP: X3, OutN: GND}\nname: R3, type: Resistor, value: R3, ports: {N1: X, N2: X2}\nname: C3, type: Capacitor, value: C3, ports: {Np: X2, Nn: Y}\nname: R2, type: Resistor, value: R2, ports: {N1: X3, N2: Y}\nname: C2, type: Capacitor, value: C2, ports: {Np: Y, Nn: GND}\n]\nextrainfo:This circuit is a feedback amplifier incorporating an op-amp (A1) and passive components that form a feedback network. The interaction between nodes X and Y is influenced by R3 and C3, affecting the pole locations in the transfer function.\n\n#### Example 6.5\n\nIgnoring channel-length modulation, determine the transfer function of the common-gate stage shown in Fig. 6.12(a).\nimage_name:Figure 6.12(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: M1, type: NMOS, ports: {S: X, D: Y, G: Vb}\nname: I1, type: CurrentSource, value: I1, ports: {Np: X, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: Y, N2: VDD}\n]\nextrainfo:This circuit is a common-gate amplifier featuring an NMOS transistor (M1) and passive components that form the biasing and feedback network. The input signal is applied to the source of M1, and the output is taken from the drain. Parasitic capacitances influence the pole frequencies at nodes X and Y.\nimage_name:Figure 6.12(b)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: RS, type: Resistor, value: RS, ports: {N1: Vin, N2: X}\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: gmV1, type: VoltageControlCurrentSource, value: gmV1, ports: {Np: Vout, Nn: X}\nname: CGD, type: Capacitor, value: CGD, ports: {Np: Vout, Nn: X}\nname: CDB, type: Capacitor, value: CDB, ports: {Np: Vout, Nn: GND}\nname: CGS, type: Capacitor, value: CGS, ports: {Np: X, Nn: GND}\nname: CSB, type: Capacitor, value: CSB, ports: {Np: X, Nn: GND}\n]\nextrainfo:This circuit is a common-gate amplifier with parasitic capacitances at the input and output. The NMOS transistor M1 serves as the amplifying device, with RD as the load resistor. The input is applied at Vin, and the output is taken from Vout. Parasitic capacitances CGD, CDB, CGS, and CSB impact the frequency response of the amplifier.\nFigure 6.12 Common-gate stage with parasitic capacitances.\n\n#### Solution\n\nIn this configuration, the capacitances contributed by $M_{1}$ are connected from the input and output nodes to ground [Fig. 6.12(b)]. At node $X, C_{S}=C_{G S}+C_{S B}$, resulting in a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{i n}=\\left[\\left(C_{G S}+C_{S B}\\right)\\left(R_{S} \\| \\frac{1}{g_{m}+g_{m b}}\\right)\\right]^{-1} \\tag{6.18}\n\\end{equation*}\n$$\n\nSimilarly, at node $Y, C_{D}=C_{D G}+C_{D B}$, producing a pole frequency\n\n$$\n\\begin{equation*}\n\\omega_{\\text {out }}=\\left[\\left(C_{D G}+C_{D B}\\right) R_{D}\\right]^{-1} \\tag{6.19}\n\\end{equation*}\n$$\n\nThe overall transfer function is thus given by\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(g_{m}+g_{m b}\\right) R_{D}}{1+\\left(g_{m}+g_{m b}\\right) R_{S}} \\cdot \\frac{1}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)} \\tag{6.20}\n\\end{equation*}\n$$\n\nwhere the first fraction represents the low-frequency gain of the circuit. Note that if $r_{O 1}$ is not neglected, the input and output nodes interact, complicating the calculation of the poles."
},
{
    "text": "The common-source topology is characterized by its high input impedance, voltage gain, and minimal voltage headroom, making it widely used in analog circuits where its frequency response is a key consideration.\n\nFigure 6.13(a) depicts a common-source stage driven by a finite source resistance, $R_S$. The circuit's capacitances are identified, with $C_{GS}$ and $C_{DB}$ grounded and $C_{GD}$ linking the input and output. In practice, the circuit also drives a load capacitance, which can be combined with $C_{DB}$.\n\nThe circuit is a common-source amplifier stage with a finite source resistance and parasitic capacitances $C_{GS}$, $C_{GD}$, and $C_{DB}$. The NMOS transistor $M_1$ operates in saturation, and the circuit drives a load capacitance merged with $C_{DB}$.\n\nFigure 6.13(b) shows a high-frequency model of a common-source amplifier using Miller's approximation. The NMOS transistor $M_1$ operates in saturation, driven by the input voltage $V_{in}$. The output is taken across the load resistor $R_D$. The capacitances $C_{GS}$, $C_{GD}$, and $C_{DB}$ are considered, with the Miller effect applied to $C_{GD}$.\n\nFigure 6.13(a) and (b) illustrate the high-frequency model of a common-source stage and the simplified circuit using Miller's approximation, respectively.\n\nAssuming $\\lambda=0$ and $M_1$ in saturation, the transfer function is estimated by associating one pole with each node. The total capacitance from node $X$ to ground is $C_{GS}$ plus the Miller multiplication of $C_{GD}$, i.e., $C_{GS}+\\left(1-A_v\\right) C_{GD}$, where $A_v=-g_m R_D$. The \"input\" pole magnitude is given by:\n\n$$\n\\omega_{in}=\\frac{1}{R_S\\left[C_{GS}+\\left(1+g_m R_D\\right) C_{GD}\\right]}\n$$\n\nAt the output node, the total capacitance to ground is $C_{DB}$ plus the Miller effect of $C_{GD}$, i.e., $C_{DB}+\\left(1-A_v^{-1}\\right) C_{GD} \\approx C_{DB}+C_{GD}$ (if $A_v \\gg 1$). Thus, the \"output\" pole magnitude is:\n\n$$\n\\omega_{out}=\\frac{1}{R_D\\left(C_{DB}+C_{GD}\\right)}\n$$\n\nFigure 6.14 presents a model for calculating the output impedance, focusing on the Miller effect and output pole approximation. The circuit includes an NMOS transistor $M_1$, a resistor $R_D$, and capacitors $C_{GD}$, $C_{DB}$, and $C_{GS}$. The node labeled 'd1' is the output node connected to the drain of $M_1$ and the resistor $R_D$.\n\nIf $R_S$ is relatively large, another approximation of the output pole can be obtained by simplifying the circuit as shown in Fig. 6.14, neglecting the effect of $R_S$. The reader can prove that:\n\n$$\nZ_X=\\frac{1}{C_{eq} s} \\|\\left(\\frac{C_{GD}+C_{GS}}{C_{GD}} \\cdot \\frac{1}{g_{m1}}\\right)\n$$\n\nwhere $C_{eq}=C_{GD} C_{GS} /\\left(C_{GD}+C_{GS}\\right)$. Thus, the output pole is approximately:\n\n$$\n\\omega_{out}=\\frac{1}{\\left[R_D \\|\\left(\\frac{C_{GD}+C_{GS}}{C_{GD}} \\cdot \\frac{1}{g_{m1}}\\right)\\right]\\left(C_{eq}+C_{DB}\\right)}\n$$\n\nIt should be noted that the signs of $\\omega_{in}$ and $\\omega_{out}$ in the above equations are positive because the denominator of the transfer function is written in the form of $\\left(1+s / \\omega_{in}\\right)\\left(1+s / \\omega_{out}\\right)$; i.e., the denominator vanishes at $s=-\\omega_{in}$ and $s=-\\omega_{out}$. Alternatively, the values of $\\omega_{in}$ and $\\omega_{out}$ could be expressed with a negative sign and hence written as $\\left(1-s / \\omega_{in}\\right)\\left(1-s / \\omega_{out}\\right)$. The former notation is adopted in this book. The transfer function is then surmised as:\n\n$$\n\\frac{V_{out}}{V_{in}}(s)=\\frac{-g_m R_D}{\\left(1+\\frac{s}{\\omega_{in}}\\right)\\left(1+\\frac{s}{\\omega_{out}}\\right)}\n$$\n\nThe primary error in this estimation is the neglect of the existence of zeros in the circuit. Another concern arises from approximating the amplifier's gain by $-g_m R_D$ while, in reality, the gain varies with frequency (e.g., due to the capacitance at the output node).\n\nA direct analysis is now performed to obtain the exact transfer function and investigate the validity of the above approach. Using the equivalent circuit depicted in Fig. 6.15, the currents at each node are summed:\n\n$$\n\\frac{V_X-V_{in}}{R_S}+V_X C_{GS} s+\\left(V_X-V_{out}\\right) C_{GD} s = 0\n$$\n\n$$\n\\left(V_{out}-V_X\\right) C_{GD} s+g_m V_X+V_{out}\\left(\\frac{1}{R_D}+C_{DB} s\\right) = 0\n$$\n\nFrom the second equation, $V_X$ is obtained as:\n\n$$\nV_X=-\\frac{V_{out}\\left(C_{GD} s+\\frac{1}{R_D}+C_{DB} s\\right)}{g_m-C_{GD} s}\n$$\n\nSubstituting this into the first equation yields:\n\n$$\n-V_{out} \\frac{\\left[R_S^{-1}+\\left(C_{GS}+C_{GD}\\right) s\\right]\\left[R_D^{-1}+\\left(C_{GD}+C_{DB}\\right) s\\right]}{g_m-C_{GD} s}-V_{out} C_{GD} s=\\frac{V_{in}}{R_S}\n$$\n\nTherefore, the transfer function is:\n\n$$\n\\frac{V_{out}}{V_{in}}(s)=\\frac{\\left(C_{GD} s-g_m\\right) R_D}{R_S R_D \\xi s^2+\\left[R_S\\left(1+g_m R_D\\right) C_{GD}+R_S C_{GS}+R_D\\left(C_{GD}+C_{DB}\\right)\\right] s+1}\n$$\n\nwhere $\\xi=C_{GS} C_{GD}+C_{GS} C_{DB}+C_{GD} C_{DB}$. Note that the transfer function is of second order even though the circuit contains three capacitors. This is because the capacitors form a \"loop,\" allowing only two independent initial conditions in the circuit and hence yielding a second-order differential equation for the time response."
},
{
    "text": "The common-source configuration is known for its high input impedance and voltage gain capabilities, with a minimal voltage headroom requirement, making it extensively utilized in analog circuits. Its frequency response is a critical aspect of interest.\n\nIn Figure 6.13(a), a common-source stage is depicted, powered by a finite source resistance, denoted as $R_{S}$. We identify the circuit's capacitances, observing that $C_{G S}$ and $C_{D B}$ are grounded, while $C_{G D}$ connects the input to the output. In practical scenarios, the circuit also drives a load capacitance, which can be consolidated with $C_{D B}$.\n\nThe circuit depicted is a common-source amplifier stage that incorporates parasitic capacitances $C_{G S}$, $C_{G D}$, and $C_{D B}$, with the NMOS transistor $M1$ operating in saturation. The circuit drives a load capacitance that is merged with $C_{D B}$.\n\nFigure 6.13(b) presents a high-frequency model of a common-source amplifier utilizing Miller's approximation. Here, the NMOS transistor $M1$ is in saturation, driven by the input voltage $Vin$, with the output measured across the load resistor $RD$. The capacitances $C_{G S}$, $C_{G D}$, and $C_{D B}$ are considered, with the Miller effect applied to $C_{G D}$.\n\nFigures 6.13(a) and (b) illustrate the high-frequency model of a common-source stage and a simplified circuit using Miller's approximation, respectively.\n\nBy assuming $\\lambda=0$ and with $M_{1}$ operating in saturation, we initially estimate the transfer function by attributing one pole to each node. The total capacitance from node $X$ to ground is the sum of $C_{G S}$ and the Miller multiplication of $C_{G D}$, expressed as $C_{G S}+\\left(1-A_{v}\\right) C_{G D}$, where $A_{v}=-g_{m} R_{D}$. This determines the magnitude of the \"input\" pole as follows:\n\n$$\n\\omega_{i n}=\\frac{1}{R_{S}\\left[C_{G S}+\\left(1+g_{m} R_{D}\\right) C_{G D}\\right]}\n$$\n\nAt the output node, the total capacitance to ground is $C_{D B}$ plus the Miller effect of $C_{G D}$, or $C_{D B}+\\left(1-A_{v}^{-1}\\right) C_{G D}$, which approximates to $C_{D B}+C_{G D}$ if $\\left.A_{v} \\gg 1\\right)$. Hence, the output pole is given by:\n\n$$\n\\omega_{\\text {out }}=\\frac{1}{R_{D}\\left(C_{D B}+C_{G D}\\right)}\n$$\n\nFigure 6.14 models the calculation of output impedance, focusing on the Miller effect and output pole approximation. It includes an NMOS transistor $M1$, a resistor $RD$, and capacitors $CGD$, $CDB$, and $CGS$. The node labeled 'd1' is the output node connected to the drain of $M1$ and the resistor $RD$.\n\nIf $R_{S}$ is relatively large, another approximation of the output pole can be derived by simplifying the circuit as shown in Figure 6.14, neglecting the effect of $R_{S}$. The reader can verify that:\n\n$$\nZ_{X}=\\frac{1}{C_{e q} s} \\|\\left(\\frac{C_{G D}+C_{G S}}{C_{G D}} \\cdot \\frac{1}{g_{m 1}}\\right)\n$$\n\nwhere $C_{e q}=C_{G D} C_{G S} /\\left(C_{G D}+C_{G S}\\right)$. Therefore, the output pole is approximately:\n\n$$\n\\omega_{\\text {out }}=\\frac{1}{\\left[R_{D} \\|\\left(\\frac{C_{G D}+C_{G S}}{C_{G D}} \\cdot \\frac{1}{g_{m 1}}\\right)\\right]\\left(C_{e q}+C_{D B}\\right)}\n$$\n\nIt is important to note that the signs of $\\omega_{\\text {in }}$ and $\\omega_{\\text {out }}$ in the equations are positive, as the denominator of the transfer function is expressed as $\\left(1+s / \\omega_{\\text {in }}\\right)\\left(1+s / \\omega_{\\text {out }}\\right)$. Alternatively, the values of $\\omega_{\\text {in }}$ and $\\omega_{\\text {out }}$ could be expressed with a negative sign, leading to a denominator of $\\left(1-s / \\omega_{\\text {in }}\\right)\\left(1-s / \\omega_{\\text {out }}\\right)$. However, this book adopts the former notation. The transfer function is then:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{-g_{m} R_{D}}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)}\n$$\n\nThe primary shortcoming of this estimation is the omission of zeros in the circuit. Another issue arises from approximating the amplifier's gain by $-g_{m} R_{D}$, whereas in reality, the gain varies with frequency, for instance, due to the capacitance at the output node.\n\nFor an exact transfer function analysis, we employ the equivalent circuit shown in Figure 6.15, summing the currents at each node:\n\n$$\n\\begin{align*}\n\\frac{V_{X}-V_{\\text {in }}}{R_{S}}+V_{X} C_{G S} s+\\left(V_{X}-V_{\\text {out }}\\right) C_{G D} s & =0\\\\\n\\left(V_{\\text {out }}-V_{X}\\right) C_{G D} s+g_{m} V_{X}+V_{\\text {out }}\\left(\\frac{1}{R_{D}}+C_{D B} S\\right) & =0\n\\end{align*}\n$$\n\nFrom the second equation, $V_{X}$ is derived as:\n\n$$\nV_{X}=-\\frac{V_{\\text {out }}\\left(C_{G D} s+\\frac{1}{R_{D}}+C_{D B} s\\right)}{g_{m}-C_{G D} s}\n$$\n\nSubstituting this into the first equation yields:\n\n$$\n-V_{\\text {out }} \\frac{\\left[R_{S}^{-1}+\\left(C_{G S}+C_{G D}\\right) s\\right]\\left[R_{D}^{-1}+\\left(C_{G D}+C_{D B}\\right) s\\right]}{g_{m}-C_{G D} s}-V_{\\text {out }} C_{G D} s=\\frac{V_{\\text {in }}}{R_{S}}\n$$\n\nThus, the transfer function is:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(C_{G D} s-g_{m}\\right) R_{D}}{R_{S} R_{D} \\xi s^{2}+\\left[R_{S}\\left(1+g_{m} R_{D}\\right) C_{G D}+R_{S} C_{G S}+R_{D}\\left(C_{G D}+C_{D B}\\right)\\right] s+1}\n$$\n\nwhere $\\xi=C_{G S} C_{G D}+C_{G S} C_{D B}+C_{G D} C_{D B}$. Notably, the transfer function is second order despite the presence of three capacitors, as they form a \"loop,\" allowing only two independent initial conditions and resulting in a second-order differential equation for the time response.\n\n#### Example 6.6\n\nA student considers only $C_{G D}$ in Figure 6.13(a) to achieve a one-pole response, reasoning that the voltage gain decreases by 3 dB (a factor of $\\sqrt{2}$) at the pole frequency. The student suggests a better approximation of the Miller effect by multiplying $C_{G D}$ by $1+g_{m} R_{D} \\sqrt{2}$. Explain the flaw in this reasoning.\n\n#### Solution\n\nBy setting $C_{G S}$ and $C_{D B}$ to zero, we obtain:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(C_{G D} s-g_{m}\\right) R_{D}}{\\frac{s}{\\omega_{0}}+1}\n$$\n\nwhere $\\omega_{0}=R_{S}\\left(1+g_{m} R_{D}\\right) C_{G D}+R_{D} C_{G D}$. We observe that $C_{G D}$ is indeed multiplied by $1+g_{m} R_{D}$ in this exact analysis. The flaw in the student's argument lies in the fact that although the voltage gain in Figure 6.13(a) does fall by $\\sqrt{2}$ at $\\omega_{0}$, this gain refers to the ratio from $V_{\\text {in }}$ to $V_{\\text {out }}$, not the gain observed by $C_{G D}$. The reader can derive the transfer function from node $X$ to $V_{\\text {out }}$ as:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {X}}}(s)=\\frac{\\left(C_{G D} s-g_{m}\\right) R_{D}}{R_{D} C_{G D}+1}\n$$\n\nThis reveals that the gain begins to decrease at a higher frequency, specifically at $1 /\\left(R_{D} C_{G D}\\right)$. Therefore, the multiplication of $C_{G D}$ by $1+g_{m} R_{D}$ remains justified.\n\nFurther analysis of Equation (6.30) reveals several interesting insights about the circuit. Assuming $\\left|\\omega_{p 1}\\right| \\ll\\left|\\omega_{p 2}\\right|$, we can derive intuitive expressions for the two poles, $\\omega_{p 1}$ and $\\omega_{p 2}$, under the \"dominant pole\" approximation. This approximation yields the dominant pole as:\n\n$$\n\\omega_{p 1}=\\frac{1}{R_{S}\\left(1+g_{m} R_{D}\\right) C_{G D}+R_{S} C_{G S}+R_{D}\\left(C_{G D}+C_{D B}\\right)}\n$$\n\nComparing this with the \"input\" pole from Equation (6.21), the only difference arises from the term $R_{D}\\left(C_{G D}+C_{D B}\\right)$, which may be insignificant in some cases. The key takeaway is that the intuitive approach of associating a pole with the input node provides a rough estimate with minimal effort. Additionally, the Miller multiplication of $C_{G D}$ by the low-frequency gain of the amplifier is relatively accurate in this scenario. However, it is crucial to verify that $\\omega_{p 1} \\ll \\omega_{p 2}$ for a given set of values.\n\nOther special cases, such as $C_{G D}=0$ and $R_{D}=\\infty$, are also worth exploring.\n\n#### Example 6.7\n\nThe circuit in Figure 6.16(a) represents a special case where $R_{D} \\rightarrow \\infty$. Calculate the transfer function (with $\\lambda=0$) and explain why the Miller effect diminishes as $C_{D B}$ (or the load capacitance) increases.\n\n#### Solution\n\nUsing Equation (6.30) and letting $R_{D}$ approach infinity, we get:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{C_{G D} s-g_{m}}{R_{S} \\xi s^{2}+\\left[g_{m} R_{S} C_{G D}+\\left(C_{G D}+C_{D B}\\right)\\right] s}\n$$\n\nAs expected, the circuit exhibits two polesone at the origin due to the infinite dc gain [Figure 6.16(b)]. The magnitude of the other pole is:\n\n$$\n\\omega_{p 2} \\approx \\frac{\\left(1+g_{m} R_{S}\\right) C_{G D}+C_{D B}}{R_{S}\\left(C_{G D} C_{G S}+C_{G S} C_{D B}+C_{G D} C_{D B}\\right)}\n$$\n\nFor a large $C_{D B}$, this expression simplifies to:\n\n$$\n\\omega_{p 2} \\approx \\frac{1}{R_{S}\\left(C_{G S}+C_{G D}\\right)}\n$$\n\nindicating that $C_{G D}$ experiences no Miller multiplication. This occurs because, with a large $C_{D B}$, the voltage gain from node $X$ to the output starts to decrease even at low frequencies. Consequently, for frequencies close to $\\left[R_{S}\\left(C_{G S}+C_{G D}\\right)\\right]^{-1}$, the effective gain is quite small, making $C_{G D}\\left(1-A_{v}\\right) \\approx C_{G D}$. This scenario exemplifies a case where the application of the Miller effect using low-frequency gain does not yield a reasonable estimate.\n\nApplying the dominant pole approximation to Equation (6.30), we can estimate the second pole of the CS stage in Figure 6.13(a). Since the coefficient of $s^{2}$ is equal to $\\left(\\omega_{p 1} \\omega_{p 2}\\right)^{-1}$, we have:\n\n$$\n\\omega_{p 2} =\\frac{R_{S}\\left(1+g_{m} R_{D}\\right) C_{G D}+R_{S} C_{G S}+R_{D}\\left(C_{G D}+C_{D B}\\right)}{R_{S} R_{D}\\left(C_{G S} C_{G D}+C_{G S} C_{D B}+C_{G D} C_{D B}\\right)}\n$$\n\nIt is important to emphasize that these results hold only if $\\omega_{p 1} \\ll \\omega_{p 2}$.\n\nIn a special case where $C_{G S} \\gg\\left(1+g_{m} R_{D}\\right) C_{G D}+R_{D}\\left(C_{G D}+C_{D B}\\right) / R_{S}$, we find:\n\n$$\n\\omega_{p 2} \\approx \\frac{1}{R_{D}\\left(C_{G D}+C_{D B}\\right)}\n$$\n\nwhich is the same as Equation (6.22). Hence, the \"output\" pole approach is valid only if $C_{G S}$ dominates the response.\n\nThe transfer function of Equation (6.30) also exhibits a zero given by $\\omega_{z}=+g_{m} / C_{G D}$, an effect not accounted for by Miller's approximation and Equation (6.25). This zero, located in the right half-plane, arises from the direct coupling of the input to the output through $C_{G D}$. As illustrated in Figure 6.17, $C_{G D}$ provides a feedforward path that conducts the input signal to the output at very high frequencies, resulting in a frequency response slope less negative than $-40 \\mathrm{~dB} / \\mathrm{dec}$. However, as explained in Chapter 10, this zero shifts to lower frequencies in cases where a capacitor is deliberately added between the gate and the drain, introducing additional complexities.\n\n#### Example 6.8\n\nWe have seen that signals traveling through two paths within an amplifier may cancel each other at a specific frequency, creating a zero in the transfer function (Figure 6.19). Can this occur if $H_{1}(s)$ and $H_{2}(s)$ are first-order low-pass circuits?\n\n#### Solution\n\nBy modeling $H_{1}(s)$ as $A_{1} /\\left(1+s / \\omega_{p 1}\\right)$ and $H_{2}(s)$ as $A_{2} /\\left(1+s / \\omega_{p 2}\\right)$, we obtain:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(\\frac{A_{1}}{\\omega_{p 2}}+\\frac{A_{2}}{\\omega_{p"
},
{
    "text": "The common-source configuration is known for its high input impedance and voltage amplification capabilities, with minimal voltage overhead. It is extensively used in analog circuits, and its frequency response characteristics are particularly important.\n\nIn Figure 6.13(a), we see a common-source amplifier stage powered by a finite source resistance, \\( R_{S} \\). The circuit's capacitances are identified, with \\( C_{G S} \\) and \\( C_{D B} \\) grounded, and \\( C_{G D} \\) linking the input and output. Additionally, the circuit drives a load capacitance, which is typically combined with \\( C_{D B} \\).\n\nIn a high-frequency model, as shown in Figure 6.13(b), the common-source amplifier stage utilizes Miller's approximation. Here, the NMOS transistor \\( M_{1} \\) operates in saturation, driven by the input voltage \\( V_{in} \\), and the output is measured across the load resistor \\( R_{D} \\). The capacitances \\( C_{G S} \\), \\( C_{G D} \\), and \\( C_{D B} \\) are considered, with the Miller effect applied to \\( C_{G D} \\).\n\nMiller's approximation, assuming \\( \\lambda=0 \\) and \\( M_{1} \\) in saturation, allows us to estimate the transfer function by assigning a pole to each node. The total capacitance from node \\( X \\) to ground is \\( C_{G S} \\) plus the Miller multiplication of \\( C_{G D} \\), resulting in \\( C_{G S}+\\left(1-A_{v}\\right) C_{G D} \\), where \\( A_{v}=-g_{m} R_{D} \\). Thus, the \"input\" pole is given by Equation (6.21).\n\nAt the output node, the total capacitance to ground is \\( C_{D B} \\) plus the Miller effect of \\( C_{G D} \\), which is approximately \\( C_{D B}+C_{G D} \\) for large \\( A_{v} \\). The \"output\" pole is then determined by Equation (6.22).\n\nA model for calculating the output impedance is shown in Figure 6.14, focusing on the Miller effect and output pole approximation. This simplified circuit includes an NMOS transistor \\( M_{1} \\), a resistor \\( R_{D} \\), and capacitors \\( C_{G D} \\), \\( C_{D B} \\), and \\( C_{G S} \\).\n\nWhen \\( R_{S} \\) is relatively large, another approximation of the output pole can be derived by simplifying the circuit, as in Figure 6.14. This leads to Equation (6.23), and the output pole is approximately given by Equation (6.24).\n\nThe transfer function is then derived, considering the circuit's behavior and approximations. The primary error in this estimation is the neglect of zeros in the circuit and the approximation of the amplifier's gain as \\( -g_{m} R_{D} \\), whereas the actual gain varies with frequency due to the output node capacitance.\n\nDirect analysis is performed to obtain the exact transfer function, using the equivalent circuit shown in Figure 6.15. By summing the currents at each node, we derive the transfer function, which includes both poles and a zero. The zero arises from the direct coupling of the input to the output through \\( C_{G D} \\), creating a feedforward path.\n\nSpecial cases, such as \\( C_{G D}=0 \\) and \\( R_{D}=\\infty \\), are also considered. For \\( R_{D} \\rightarrow \\infty \\), the transfer function is calculated, and the Miller effect's diminishing influence as \\( C_{D B} \\) increases is explained. This is due to the lower gain at high frequencies, which suppresses the Miller multiplication of \\( C_{G D} \\).\n\nThe examples provided illustrate the complexities and nuances involved in analyzing the frequency response of common-source amplifier stages. The discussions cover the impact of various circuit elements, such as parasitic capacitances and load conditions, on the transfer function and the frequency response characteristics."
},
{
    "text": "The common-source topology boasts a high input impedance and offers voltage gain while necessitating minimal voltage headroom, making it a popular choice in analog circuits where its frequency response is a crucial factor.\n\nIllustrated in Fig. 6.13(a) is a common-source stage powered by a finite source resistance, $R_{S}$. We identify all the capacitances within the circuit, observing that $C_{G S}$ and $C_{D B}$ are grounded capacitances, whereas $C_{G D}$ is positioned between the input and output. In practice, the circuit also drives a load capacitance, which can be combined with $C_{D B}$.\n\nFig. 6.13(a) depicts a common-source amplifier stage featuring a finite source resistance and incorporating parasitic capacitances $C_{G S}$, $C_{G D}$, and $C_{D B}$. The NMOS transistor $M1$ operates in saturation, and the circuit drives a load capacitance merged with $C_{D B}$.\n\nMiller's Approximation, assuming $\\lambda=0$ and $M_{1}$ in saturation, involves estimating the transfer function by assigning one pole to each node. The total capacitance observed from $X$ to ground is the sum of $C_{G S}$ and the Miller multiplication of $C_{G D}$, i.e., $C_{G S}+\\left(1-A_{v}\\right) C_{G D}$, where $A_{v}=-g_{m} R_{D}$ [Fig. 6.13(b)]. Hence, the magnitude of the \"input\" pole is given by:\n\n$$\n\\omega_{i n}=\\frac{1}{R_{S}\\left[C_{G S}+\\left(1+g_{m} R_{D}\\right) C_{G D}\\right]}\n$$\n\nAt the output node, the total capacitance seen to ground is $C_{D B}$ plus the Miller effect of $C_{G D}$, i.e., $C_{D B}+\\left(1-A_{v}^{-1}\\right) C_{G D} \\approx C_{D B}+C_{G D}$ (if $\\left.A_{v} \\gg 1\\right)$. Therefore:\n\n$$\n\\omega_{\\text {out }}=\\frac{1}{R_{D}\\left(C_{D B}+C_{G D}\\right)}\n$$\n\nFig. 6.14 presents a model for calculating output impedance, focusing on the Miller effect and output pole approximation. It includes an NMOS transistor $M1$, a resistor $RD$, and capacitors $CGD$, $CDB$, and $CGS$. The node labeled 'd1' is the output node connected to the drain of $M1$ and the resistor $RD$.\n\nWhen $R_{S}$ is relatively large, another approximation of the output pole can be obtained. simplifying the circuit as shown in Fig. 6.14, neglecting the effect of $R_{S}$. The reader can verify that:\n\n$$\nZ_{X}=\\frac{1}{C_{e q} s} \\|\\left(\\frac{C_{G D}+C_{G S}}{C_{G D}} \\cdot \\frac{1}{g_{m 1}}\\right)\n$$\n\nwhere $C_{e q}=C_{G D} C_{G S} /\\left(C_{G D}+C_{G S}\\right)$. Consequently, the output pole is approximately:\n\n$$\n\\omega_{\\text {out }}=\\frac{1}{\\left[R_{D} \\|\\left(\\frac{C_{G D}+C_{G S}}{C_{G D}} \\cdot \\frac{1}{g_{m 1}}\\right)\\right]\\left(C_{e q}+C_{D B}\\right)}\n$$\n\nIt is important to note that the signs of $\\omega_{\\text {in }}$ and $\\omega_{\\text {out }}$ in the above equations are positive, as we express the denominator of the transfer function as $\\left(1+s / \\omega_{\\text {in }}\\right)\\left(1+s / \\omega_{\\text {out }}\\right)$; the denominator vanishes at $s=-\\omega_{i n}$ and $s=-\\omega_{\\text {out }}$. Alternatively, we could express $\\omega_{\\text {in }}$ and $\\omega_{\\text {out }}$ with negative signs and write the denominator as $\\left(1-s / \\omega_{\\text {in }}\\right)\\left(1-s / \\omega_{\\text {out }}\\right)$. We adopt the former notation in this book. Based on this, we infer that the transfer function is:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{-g_{m} R_{D}}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)}\n$$\n\nThe primary error in this estimation is the omission of zeros in the circuit. Another concern arises from approximating the amplifier's gain by $-g_{m} R_{D}$, whereas in reality, the gain varies with frequency (e.g., due to the capacitance at the output node).\n\nDirect Analysis now yields the exact transfer function, investigating the validity of the aforementioned approach. Utilizing the equivalent circuit depicted in Fig. 6.15, we can sum the currents at each node:\n\n$$\n\\frac{V_{X}-V_{\\text {in }}}{R_{S}}+V_{X} C_{G S} s+\\left(V_{X}-V_{\\text {out }}\\right) C_{G D} s = 0\n$$\n\n$$\n\\left(V_{\\text {out }}-V_{X}\\right) C_{G D} s+g_{m} V_{X}+V_{\\text {out }}\\left(\\frac{1}{R_{D}}+C_{D B} S\\right) = 0\n$$\n\nFrom (6.27), $V_{X}$ is obtained as:\n\n$$\nV_{X}=-\\frac{V_{\\text {out }}\\left(C_{G D} s+\\frac{1}{R_{D}}+C_{D B} s\\right)}{g_{m}-C_{G D} s}\n$$\n\nSubstituting this into (6.26) yields:\n\n$$\n-V_{\\text {out }} \\frac{\\left[R_{S}^{-1}+\\left(C_{G S}+C_{G D}\\right) s\\right]\\left[R_{D}^{-1}+\\left(C_{G D}+C_{D B}\\right) s\\right]}{g_{m}-C_{G D} s}-V_{\\text {out }} C_{G D} s=\\frac{V_{\\text {in }}}{R_{S}}\n$$\n\nThus:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(C_{G D} s-g_{m}\\right) R_{D}}{R_{S} R_{D} \\xi s^{2}+\\left[R_{S}\\left(1+g_{m} R_{D}\\right) C_{G D}+R_{S} C_{G S}+R_{D}\\left(C_{G D}+C_{D B}\\right)\\right] s+1}\n$$\n\nwhere $\\xi=C_{G S} C_{G D}+C_{G S} C_{D B}+C_{G D} C_{D B}$. Notably, the transfer function is of second order despite the circuit containing three capacitors. This is because the capacitors form a \"loop,\" allowing only two independent initial conditions in the circuit, resulting in a second-order differential equation for the time response."
},
{
    "text": "The common-source topology boasts a notably high input impedance and offers voltage amplification with minimal voltage headroom. Consequently, it is widely utilized in analog circuits, where its frequency response is a subject of interest.\n\nIn Figure 6.13(a), a common-source stage is depicted, powered by a finite source resistance, \\( R_{S} \\). The circuit's capacitances are identified, with \\( C_{G S} \\) and \\( C_{D B} \\) grounded, and \\( C_{G D} \\) bridging the input and output. The circuit is also seen to drive a load capacitance, which is amalgamated with \\( C_{D B} \\).\n\nFigure 6.13(b) presents a high-frequency model of a common-source amplifier utilizing Miller's approximation. The NMOS transistor \\( M1 \\) operates in saturation, driven by the input voltage \\( V_{in} \\), with the output measured across the load resistor \\( R_{D} \\). The capacitances \\( C_{G S} \\), \\( C_{G D} \\), and \\( C_{D B} \\) are considered, with the Miller effect applied to \\( C_{G D} \\).\n\nMiller's approximation assumes \\( \\lambda = 0 \\) and \\( M_{1} \\) in saturation, allowing us to estimate the transfer function by associating one pole with each node. The total capacitance from node \\( X \\) to ground is \\( C_{G S} \\) plus the Miller multiplication of \\( C_{G D} \\), expressed as \\( C_{G S} + (1-A_{v})C_{G D} \\), where \\( A_{v} = -g_{m}R_{D} \\). The \"input\" pole's magnitude is therefore:\n\n$$\n\\omega_{in} = \\frac{1}{R_{S}[C_{G S} + (1+g_{m}R_{D})C_{G D}]}\n$$\n\nAt the output node, the total capacitance to ground is \\( C_{D B} \\) plus the Miller effect of \\( C_{G D} \\), or \\( C_{D B} + (1-A_{v}^{-1})C_{G D} \\approx C_{D B} + C_{G D} \\) if \\( A_{v} \\gg 1 \\). Thus, the \"output\" pole's magnitude is:\n\n$$\n\\omega_{out} = \\frac{1}{R_{D}(C_{D B} + C_{G D})}\n$$\n\nFigure 6.14 models the calculation of output impedance, focusing on the Miller effect and output pole approximation. It includes an NMOS transistor \\( M1 \\), a resistor \\( R_{D} \\), and capacitors \\( C_{G D} \\), \\( C_{D B} \\), and \\( C_{G S} \\).\n\nAnother approximation for the output pole can be derived if \\( R_{S} \\) is relatively large. By simplifying the circuit as shown in Figure 6.14, neglecting the effect of \\( R_{S} \\), the output pole can be expressed as:\n\n$$\nZ_{X} = \\frac{1}{C_{eq}s} \\left(\\frac{C_{G D} + C_{G S}}{C_{G D}} \\cdot \\frac{1}{g_{m1}}\\right)\n$$\n\nwhere \\( C_{eq} = \\frac{C_{G D}C_{G S}}{C_{G D} + C_{G S}} \\). Hence, the output pole is approximately:\n\n$$\n\\omega_{out} = \\frac{1}{\\left[R_{D} \\left(\\frac{C_{G D} + C_{G S}}{C_{G D}} \\cdot \\frac{1}{g_{m1}}\\right)\\right](C_{eq} + C_{D B})}\n$$\n\nThe transfer function, accounting for the Miller effect and parasitic capacitances, can be expressed as:\n\n$$\n\\frac{V_{out}}{V_{in}}(s) = \\frac{-g_{m}R_{D}}{\\left(1+\\frac{s}{\\omega_{in}}\\right)\\left(1+\\frac{s}{\\omega_{out}}\\right)}\n$$\n\nThe primary limitation of this estimation is the neglect of zeros in the circuit and the approximation of the amplifier's gain as \\( -g_{m}R_{D} \\), while in reality, the gain varies with frequency.\n\nFor a more precise analysis, the exact transfer function is derived using the equivalent circuit in Figure 6.15, considering the currents at each node. The transfer function is found to be second-order, reflecting the circuit's two independent initial conditions.\n\nIn special cases, such as \\( C_{G D} = 0 \\) or \\( R_{D} = \\infty \\), the transfer function simplifies, revealing insights into the circuit's behavior. For instance, with \\( R_{D} \\rightarrow \\infty \\), the Miller effect diminishes as \\( C_{D B} \\) (or the load capacitance) increases.\n\nThe transfer function also exhibits a zero, not predicted by Miller's approximation, due to the direct coupling of the input to the output through \\( C_{G D} \\). This zero is located in the right half-plane and arises from the feedforward path through \\( C_{G D} \\).\n\nThe input impedance of the common-source stage, especially in high-speed applications, is also significant. With Miller's approximation, the input impedance is primarily capacitive at high frequencies, with \\( C_{G D} \\) providing a low-impedance path between the gate and the drain of \\( M_{1} \\).\n\nIn summary, the common-source topology's frequency response is influenced by various factors, including parasitic capacitances, Miller effect, and load conditions. These elements interact to shape the transfer function, affecting the amplifier's performance across different frequency ranges."
},
{
    "text": "The common-source configuration features a high input impedance and is known for its voltage gain capabilities, requiring only a minimal voltage overhead. This topology is widely utilized in analog circuits, and its frequency response is particularly significant.\n\nIn Figure 6.13(a), we observe a common-source stage powered by a source resistance, $R_{S}$. The circuit's capacitances are identified, with $C_{G S}$ and $C_{D B}$ grounded and $C_{G D}$ linking the input and output. Additionally, the circuit drives a load capacitance, which is often combined with $C_{D B}$.\n\nFigure 6.13(b) depicts a high-frequency model of a common-source amplifier using Miller's approximation. The NMOS transistor M1 operates in saturation, driven by the input voltage Vin. The output is measured across the load resistor RD, and the capacitances CGS, CGD, and CDB are considered, with the Miller effect applied to CGD.\n\nMiller's approximation assumes that $\\lambda=0$ and $M_{1}$ operates in saturation. We estimate the transfer function by associating one pole with each node. The total capacitance from $X$ to ground is the sum of $C_{G S}$ and the Miller multiplication of $C_{G D}$, expressed as $C_{G S}+\\left(1-A_{v}\\right) C_{G D}$, where $A_{v}=-g_{m} R_{D}$. The magnitude of the \"input\" pole is therefore given by:\n\n$$\n\\omega_{i n}=\\frac{1}{R_{S}\\left[C_{G S}+\\left(1+g_{m} R_{D}\\right) C_{G D}\\right]}\n$$\n\nAt the output node, the total capacitance to ground is $C_{D B}$ plus the Miller effect of $C_{G D}$, i.e., $C_{D B}+\\left(1-A_{v}^{-1}\\right) C_{G D} \\approx C_{D B}+C_{G D}$ (if $\\left.A_{v} \\gg 1\\right)$. Thus:\n\n$$\n\\omega_{\\text {out }}=\\frac{1}{R_{D}\\left(C_{D B}+C_{G D}\\right)}\n$$\n\nFigure 6.14 presents a model for calculating the output impedance, focusing on the Miller effect and output pole approximation. It includes an NMOS transistor M1, a resistor RD, and capacitors CGD, CDB, and CGS.\n\nIf approximation of the output pole can be obtained if $R_{S}$ is relatively large. Simplifying the circuit as shown in Figure 6.14, where the effect of $R_{S}$ is neglected, we can prove\nThe common-source topology is characterized by its high input impedance, voltage gain capabilities with\nThe common-source topology exhibits characterized by its high input impedance and voltage gain, It\nThe common-source configuration\nThe common-source configuration\nThe common-source topology boasts distinguished for its high input impedance and voltage gain capabilities."
},
{
    "text": "The common-source topology is characterized by its high input impedance, voltage gain, and low voltage headroom requirements, making it widely used in analog circuits. Its frequency response is a key area of interest.\n\nIn Fig. 6.13(a), we see a common-source stage with a finite source resistance, $R_{S}$. The circuit's capacitances are identified, with $C_{G S}$ and $C_{D B}$ grounded and $C_{G D}$ between input and output. In practice, the circuit also drives a load capacitance, which can be combined with $C_{D B}$.\n\nThe circuit in Fig. 6.13(b) is a high-frequency model of a common-source amplifier using Miller's approximation. The NMOS transistor M1 operates in saturation, driven by input voltage Vin, with the output taken across load resistor RD. Capacitances CGS, CGD, and CDB are considered, with Miller effect applied to CGD.\n\nFigures 6.13(a) and (b) show the high-frequency model of a common-source stage and the simplified circuit using Miller's approximation, respectively.\n\nAssuming $\\lambda=0$ and $M_{1}$ in saturation, we estimate the transfer function by associating one pole with each node. The total capacitance from $X$ to ground is $C_{G S}$ plus the Miller multiplication of $C_{G D}$, i.e., $C_{G S}+\\left(1-A_{v}\\right) C_{G D}$, where $A_{v}=-g_{m} R_{D}$. The \"input\" pole magnitude is then given by:\n\n$$\n\\omega_{i n}=\\frac{1}{R_{S}\\left[C_{G S}+\\left(1+g_{m} R_{D}\\right) C_{G D}\\right]}\n$$\n\nAt the output node, the total capacitance to ground is $C_{D B}$ plus the Miller effect of $C_{G D}$, i.e., $C_{D B}+\\left(1-A_{v}^{-1}\\right) C_{G D} \\approx C_{D B}+C_{G D}$. Thus:\n\n$$\n\\omega_{\\text {out }}=\\frac{1}{R_{D}\\left(C_{D B}+C_{G D}\\right)}\n$$\n\nFigure 6.14 shows a model for calculating output impedance, focusing on the Miller effect and output pole approximation. It includes an NMOS transistor M1, resistor RD, and capacitors CGD, CDB, and CGS.\n\nIf $R_{S}$ is relatively large, another approximation of the output pole can be obtained by simplifying the circuit as shown in Fig. 6.14. Neglecting the effect of $R_{S}$, we can derive the output pole expression.\n\nThe transfer function is expressed as:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{-g_{m} R_{D}}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)}\n$$\n\nDirect analysis provides the exact transfer function, investigating the validity of the above approach. Using the equivalent circuit in Fig. 6.15, we can sum the currents at each node and derive the transfer function.\n\nThe transfer function exhibits a zero given by $\\omega_{z}=+g_{m} / C_{G D}$, an effect not predicted by Miller's approximation.\n\nSpecial cases, such as $C_{G D}=0$ and $R_{D}=\\infty$, are also analyzed. For example, in the case of $R_{D} \\rightarrow \\infty$, the transfer function is calculated, and the Miller effect's diminishing effect as $C_{D B}$ increases is explained.\n\nThe examples and solutions provided further illustrate the concepts and calculations related to the common-source stage and its frequency response. The analysis considers various scenarios and approximations, highlighting the importance of understanding the circuit's behavior at different frequencies."
},
{
    "text": "The common-source topology boasts a high input impedance, offering voltage gain with minimal voltage headroom, which makes it popular in analog circuits. Its frequency response is particularly noteworthy.\n\nIn Fig. 6.13(a), we see a common-source stage powered by a finite source resistance, \\( R_{S} \\). We identify all the capacitances in the circuit, noting that \\( C_{G S} \\) and \\( C_{D B} \\) are grounded capacitances, while \\( C_{G D} \\) sits between the input and output. The circuit also drives a load capacitance, which can be combined with \\( C_{D B} \\).\n\nFig. 6.13(b) shows a high-frequency model of a common-source amplifier using Miller's approximation. The NMOS transistor \\( M1 \\) operates in saturation, driven by the input voltage \\( V_{in} \\). The output is taken across the load resistor \\( R_{D} \\). Capacitances \\( C_{G S} \\), \\( C_{G D} \\), and \\( C_{D B} \\) are considered, with the Miller effect applied to \\( C_{G D} \\).\n\nMiller's approximation assumes \\( \\lambda=0 \\) and \\( M_{1} \\) operates in saturation. We estimate the transfer function by associating one pole with each node. The total capacitance seen from \\( X \\) to ground is \\( C_{G S} \\) plus the Miller multiplication of \\( C_{G D} \\), i.e., \\( C_{G S}+\\left(1-A_{v}\\right) C_{G D} \\), where \\( A_{v}=-g_{m} R_{D} \\). The magnitude of the \"input\" pole is given by:\n\n$$\n\\omega_{i n}=\\frac{1}{R_{S}\\left[C_{G S}+\\left(1+g_{m} R_{D}\\right) C_{G D}\\right]}\n$$\n\nAt the output node, the total capacitance seen to ground is \\( C_{D B} \\) plus the Miller effect of \\( C_{G D} \\), i.e., \\( C_{D B}+\\left(1-A_{v}^{-1}\\right) C_{G D} \\approx C_{D B}+C_{G D} \\) (if \\( A_{v} \\gg 1 \\)). Thus:\n\n$$\n\\omega_{\\text {out }}=\\frac{1}{R_{D}\\left(C_{D B}+C_{G D}\\right)}\n$$\n\nFig. 6.14 shows a model for calculating output impedance, focusing on the Miller effect and output pole approximation. It includes an NMOS transistor \\( M1 \\), a resistor \\( R_{D} \\), and capacitors \\( C_{G D} \\), \\( C_{D B} \\), and \\( C_{G S} \\).\n\nIf \\( R_{S} \\) is relatively large, another approximation of the output pole can be obtained. Simplifying the circuit as shown in Fig. 6.14, where the effect of \\( R_{S} \\) is neglected, we can prove that:\n\n$$\nZ_{X}=\\frac{1}{C_{e q} s} \\|\\left(\\frac{C_{G D}+C_{G S}}{C_{G D}} \\cdot \\frac{1}{g_{m 1}}\\right)\n$$\n\nwhere \\( C_{e q}=C_{G D} C_{G S} /\\left(C_{G D}+C_{G S}\\right) \\). Thus, the output pole is roughly equal to:\n\n$$\n\\omega_{\\text {out }}=\\frac{1}{\\left[R_{D} \\|\\left(\\frac{C_{G D}+C_{G S}}{C_{G D}} \\cdot \\frac{1}{g_{m 1}}\\right)\\right]\\left(C_{e q}+C_{D B}\\right)}\n$$\n\nThe transfer function is:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{-g_{m} R_{D}}{\\left(1+\\frac{s}{\\omega_{\\text {in }}}\\right)\\left(1+\\frac{s}{\\omega_{\\text {out }}}\\right)}\n$$\n\nThe primary error in this estimation is that we have not considered the existence of zeros in the circuit. Another concern stems from approximating the gain of the amplifier by \\( -g_{m} R_{D} \\) whereas in reality the gain varies with frequency (for example, due to the capacitance at the output node).\n\nUsing the equivalent circuit depicted in Fig. 6.15, we can sum the currents at each node:\n\n$$\n\\begin{align*}\n\\frac{V_{X}-V_{\\text {in }}}{R_{S}}+V_{X} C_{G S} s+\\left(V_{X}-V_{\\text {out }}\\right) C_{G D} s & =0\\\\\n\\left(V_{\\text {out }}-V_{X}\\right) C_{G D} s+g_{m} V_{X}+V_{\\text {out }}\\left(\\frac{1}{R_{D}}+C_{D B} S\\right) & =0\n\\end{align*}\n$$\n\nFrom the second equation, \\( V_{X} \\) is obtained as:\n\n$$\nV_{X}=-\\frac{V_{\\text {out }}\\left(C_{G D} s+\\frac{1}{R_{D}}+C_{D B} s\\right)}{g_{m}-C_{G D} s}\n$$\n\nwhich, upon substitution in the first equation, yields:\n\n$$\n-V_{\\text {out }} \\frac{\\left[R_{S}^{-1}+\\left(C_{G S}+C_{G D}\\right) s\\right]\\left[R_{D}^{-1}+\\left(C_{G D}+C_{D B}\\right) s\\right]}{g_{m}-C_{G D} s}-V_{\\text {out }} C_{G D} s=\\frac{V_{\\text {in }}}{R_{S}}\n$$\n\nThus:\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{\\left(C_{G D} s-g_{m}\\right) R_{D}}{R_{S} R_{D} \\xi s^{2}+\\left[R_{S}\\left(1+g_{m} R_{D}\\right) C_{G D}+R_{S} C_{G S}+R_{D}\\left(C_{G D}+C_{D B}\\right)\\right] s+1}\n$$\n\nwhere \\( \\xi=C_{G S} C_{G D}+C_{G S} C_{D B}+C_{G D} C_{D B} \\). Note that the transfer function is of second order even though the circuit contains three capacitors. This is because the capacitors form a \"loop,\" allowing only two independent initial conditions in the circuit and hence yielding a second-order differential equation for the time response."
},
{
    "text": "Source followers are sometimes used as level shifters or buffers, impacting the overall frequency response. Consider the circuit in Fig. 6.22(a), where \\( C_{L} \\) is the total capacitance at the output node to ground, including \\( C_{S B 1} \\). The strong interaction between nodes \\( X \\) and \\( Y \\) through \\( C_{G S} \\) in Fig. 6.22(a) makes it challenging to associate a pole with each node in a source follower. Ignoring channel-length modulation and body effect for simplicity and using the equivalent circuit in Fig. 6.22(b), we sum the currents at the output node:\n\n\\[\nV_{1} C_{G S} s+g_{m} V_{1}=V_{\\text {out }} C_{L} s \\tag{6.48}\n\\]\n\nobtaining\n\n\\[\nV_{1}=\\frac{C_{L} s}{g_{m}+C_{G S} S} V_{\\text {out }} \\tag{6.49}\n\\]\n\nAlso, noting that the voltage across \\( C_{G D} \\) is equal to \\( V_{1}+V_{\\text {out }} \\) and starting from \\( V_{i n} \\), we add the voltage across \\( R_{S} \\) to \\( V_{1} \\) and \\( V_{\\text {out }} \\) :\n\n\\[\nV_{\\text {in }}=R_{S}\\left[V_{1} C_{G S} s+\\left(V_{1}+V_{\\text {out }}\\right) C_{G D} s\\right]+V_{1}+V_{\\text {out }} \\tag{6.50}\n\\]\n\nSubstituting for \\( V_{1} \\) from (6.49), we have\n\n\\[\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{g_{m}+C_{G S} s}{R_{S}\\left(C_{G S} C_{L}+C_{G S} C_{G D}+C_{G D} C_{L}\\right) s^{2}+\\left(g_{m} R_{S} C_{G D}+C_{L}+C_{G S}\\right) s+g_{m}} \\tag{6.51}\n\\]\n\nInterestingly, the transfer function contains a zero in the left half plane (and near the \\( f_{T} \\)). This is because the signal conducted by \\( C_{G S} \\) at high frequencies adds with the same polarity to the signal produced by the intrinsic transistor. We study some special cases below."
},
{
    "text": "In the context of the given text, source followers are sometimes utilized as level shifters or buffers, which impacts the overall frequency response. Take, for example, the circuit shown in Fig. 6.22(a), where $C_{L}$ denotes the cumulative capacitance at the output node relative to ground, including $C_{S B 1}$. The robust interaction between nodes $X$ and $Y$ via $C_{G S}$ in Fig. 6.22(a) complicates the attribution of a pole to each node within a source follower. For simplicity, channel-length modulation and body effect are disregarded, and the equivalent circuit depicted in Fig. 6.22(b) is utilized. By summing the currents at the output node, we obtain:\n\n$$\nV_{1} C_{G S} s+g_{m} V_{1}=V_{\\text {out }} C_{L} s \\tag{6.48}\n$$\n\nyielding\n\n$$\nV_{1}=\\frac{C_{L} s}{g_{m}+C_{G S} S} V_{\\text {out }} \\tag{6.49}\n$$\n\nMoreover, recognizing that the voltage across $C_{G D}$ is equivalent to $V_{1}+V_{\\text {out }}$ and commencing from $V_{i n}$, we add the voltage across $R_{S}$ to $V_{1}$ and $V_{\\text {out }}$ :\n\n$$\nV_{\\text {in }}=R_{S}\\left[V_{1} C_{G S} s+\\left(V_{1}+V_{\\text {out }}\\right) C_{G D} s\\right]+V_{1}+V_{\\text {out }} \\tag{6.50}\n$$\n\nSubstituting $V_{1}$ from (6.49) leads to\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{g_{m}+C_{G S} s}{R_{S}\\left(C_{G S} C_{L}+C_{G S} C_{G D}+C_{G D} C_{L}\\right) s^{2}+\\left(g_{m} R_{S} C_{G D}+C_{L}+C_{G S}\\right) s+g_{m}} \\tag{6.51}\n$$\n\nIt\nThe original text has been re rephrased while maintaining the original meaning and length. The is the rephrased version:\n\n---\n\n certain applications, source followers are as level shifters or buffers, which in turn affects the overall frequency response. Consider the circuit illustrated in Fig. 6.22(a), where $C_{L}$ signifies the combined capacitance at the output node with respect to ground, encompassing $C_{S B 1}$. The robust interaction between nodes $X$ and $Y$ through $C_{G S}$ in Fig. 6.22(a) complic it challenging to assign a pole to each node within a source follower. To the sake of simplicity, channel by considering channel-length modulation and body effect, we employ the equivalent circuit displayed in Fig. 6.22(b). Sum aggregating the currents at the output node, we derive:\n\n$$\nV_{1} C_{G S} s+g_{m} V_{1}=V_{\\text {out }} C_{L} s \\tag{6.48}\n$$\n\nwhich simplifies to\n\n$$\nV_{1}=\\frac{C_{L} s}{g_{m}+C_{G S} S} V_{\\text {out }} \\tag{6.49}\n$$\n\nFurthermore, observing that the voltage across $C_{G D}$ is the to $V_{1}+V_{\\text {out }}$ and starting from $V_{i n}$, we incorporate\nIn certain applications, source followers function as level shifters or buffers, which\nIn specific applications, source followers serve employed as level shifters or buffers."
},
{
    "text": "Images described: Textual renditions of images linked within the designated [Context Provided] section have been created. A revised version of the text within that section is also required, ensuring the rephrased content mirrors the original meaning while preserving its length."
},
{
    "text": "The role of source followers occasionally extends to functioning as level shifters or buffers, which in turn affects the overall frequency response. Take for instance the circuit illustrated in Fig. 6.22(a), where $C_{L}$ denotes the cumulative capacitance at the output node relative to ground, encompassing $C_{S B 1}$. The robust interaction between nodes $X$ and $Y$ mediated by $C_{G S}$ in Fig. 6.22(a) complicates the attribution of a pole to each node within a source follower. For the sake of simplicity, by disregarding channel-length modulation and body effect and employing the equivalent circuit displayed in Fig. 6.22(b), we aggregate the currents at the output node:\n\n$$\n\\begin{equation*}\nV_{1} C_{G S} s+g_{m} V_{1}=V_{\\text {out }} C_{L} s \\tag{6.48}\n\\end{equation*}\n$$\n\nyielding\n\n$$\n\\begin{equation*}\nV_{1}=\\frac{C_{L} s}{g_{m}+C_{G S} S} V_{\\text {out }} \\tag{6.49}\n\\end{equation*}\n$$\n\nMoreover, considering that the voltage across $C_{G D}$ equals $V_{1}+V_{\\text {out }}$ and initiating from $V_{i n}$, we sum the voltage across $R_{S}$ to $V_{1}$ and $V_{\\text {out }}$ :\n\n$$\n\\begin{equation*}\nV_{\\text {in }}=R_{S}\\left[V_{1} C_{G S} s+\\left(V_{1}+V_{\\text {out }}\\right) C_{G D} s\\right]+V_{1}+V_{\\text {out }} \\tag{6.50}\n\\end{equation*}\n$$\n\nUpon substituting for $V_{1}$ from (6.49), we derive\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{g_{m}+C_{G S} s}{R_{S}\\left(C_{G S} C_{L}+C_{G S} C_{G D}+C_{G D} C_{L}\\right) s^{2}+\\left(g_{m} R_{S} C_{G D}+C_{L}+C_{G S}\\right) s+g_{m}} \\tag{6.51}\n\\end{equation*}\n$$\n\nNotably, the transfer function exhibits a zero in the left half plane (and in proximity to the $f_{T}$). This occurs because the signal conveyed by $C_{G S}$ at elevated frequencies is added with the same polarity to the signal generated by the intrinsic transistor. We will delve into specific cases next."
},
{
    "text": "Source followers can serve as level shifters or buffers, influencing the overall frequency response. Take, for example, the circuit shown in Fig. 6.22(a), where $C_{L}$ denotes the total capacitance at the output node to ground, including $C_{S B 1}$. The strong interaction between nodes $X$ and $Y$ through $C_{G S}$ in Fig. 6.22(a) makes it challenging to associate a pole with each node in a source follower. For simplicity, we neglect channel-length modulation and body effect and use the equivalent circuit shown in Fig. 6.22(b). Summing the currents at the output node yields:\n\n$$\n\\begin{equation*}\nV_{1} C_{G S} s+g_{m} V_{1}=V_{\\text {out }} C_{L} s \\tag{6.48}\n\\end{equation*}\n$$\n\nThus, we obtain:\n\n$$\n\\begin{equation*}\nV_{1}=\\frac{C_{L} s}{g_{m}+C_{G S} S} V_{\\text {out }} \\tag{6.49}\n\\end{equation*}\n$$\n\nAdditionally, noting that the voltage across $C_{G D}$ equals $V_{1}+V_{\\text {out }}$ and starting from $V_{i n}$, we add the voltage across $R_{S}$ to $V_{1}$ and $V_{\\text {out }}$ :\n\n$$\n\\begin{equation*}\nV_{\\text {in }}=R_{S}\\left[V_{1} C_{G S} s+\\left(V_{1}+V_{\\text {out }}\\right) C_{G D} s\\right]+V_{1}+V_{\\text {out }} \\tag{6.50}\n\\end{equation*}\n$$\n\nSubstituting for $V_{1}$ from (6.49), we have:\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{g_{m}+C_{G S} s}{R_{S}\\left(C_{G S} C_{L}+C_{G S} C_{G D}+C_{G D} C_{L}\\right) s^{2}+\\left(g_{m} R_{S} C_{G D}+C_{L}+C_{G S}\\right) s+g_{m}} \\tag{6.51}\n\\end{equation*}\n$$\n\nInterestingly, the transfer function contains a zero in the left half plane (and near the $f_{T}$ ). This is because the signal conducted by $C_{G S}$ at high frequencies adds with the same polarity to the signal produced by the intrinsic transistor. We explore some special cases below.\n\nFigure 6.22 (a) Source follower; (b) high-frequency equivalent circuit.\n\n#### Example 6.11\n\nAnalyze the source follower transfer function if $C_{L}=0$.\n\n#### Solution\n\nWe have:\n\n$$\n\\begin{align*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}} & =\\frac{g_{m}+C_{G S} s}{R_{S} C_{G S} C_{G D} s^{2}+\\left(g_{m} R_{S} C_{G D}+C_{G S}\\right) s+g_{m}}  \\tag{6.52}\\\\\n& =\\frac{g_{m}+C_{G S} s}{\\left(1+R_{S} C_{G D} s\\right)\\left(g_{m}+C_{G S} s\\right)}  \\tag{6.53}\\\\\n& =\\frac{1}{1+R_{S} C_{G D} s} \\tag{6.54}\n\\end{align*}\n$$\n\nThe circuit now has only one pole at the input. Why does $C_{G S}$ disappear here? This is because, in the absence of channel-length modulation and body effect, the voltage gain from the gate to the source is equal to unity. Since a change of $\\Delta V$ at the gate translates to an equal change at the source (Fig. 6.23), no current flows through $C_{G S}$. Consequently, $C_{G S}$ contributes neither a zero nor a pole. We say $C_{G S}$ is \"bootstrapped\" by the source follower. With $\\lambda, \\gamma>0$, the output change is less than $\\Delta V$, requiring some change in the voltage across $C_{G S}$.\n\nFigure 6.23 Bootstrapping of $C_{G S}$ in a source follower.\n\nIf the two poles of (6.51) are assumed far apart, then the lower one has a magnitude of:\n\n$$\n\\begin{align*}\n\\omega_{p 1} & \\approx \\frac{g_{m}}{g_{m} R_{S} C_{G D}+C_{L}+C_{G S}}  \\tag{6.55}\\\\\n& =\\frac{1}{R_{S} C_{G D}+\\frac{C_{L}+C_{G S}}{g_{m}}} \\tag{6.56}\n\\end{align*}\n$$\n\nAlso, if $R_{S}=0$, then $\\omega_{p 1}=g_{m} /\\left(C_{L}+C_{G S}\\right)$ as expected.\n\nLet us now calculate the input impedance of the circuit, noting that $C_{G D}$ simply shunts the input and can be ignored initially. Shown in Fig. 6.24, the equivalent circuit includes body effect, but channel-length modulation can also be added by replacing $1 / g_{m b}$ with $\\left(1 / g_{m b}\\right) \\| r_{O}$. The small-signal gate-source voltage of $M_{1}$ is equal to $I_{X} /\\left(C_{G S} s\\right)$, giving a source current of $g_{m} I_{X} /\\left(C_{G S} s\\right)$. Starting from the input and adding the voltages, we have:\n\n$$\n\\begin{equation*}\nV_{X}=\\frac{I_{X}}{C_{G S} s}+\\left(I_{X}+\\frac{g_{m} I_{X}}{C_{G S} s}\\right)\\left(\\frac{1}{g_{m b}} \\| \\frac{1}{C_{L} s}\\right) \\tag{6.57}\n\\end{equation*}\n$$\n\nthat is:\n\n$$\n\\begin{equation*}\nZ_{i n}=\\frac{1}{C_{G S} S}+\\left(1+\\frac{g_{m}}{C_{G S} S}\\right) \\frac{1}{g_{m b}+C_{L} S} \\tag{6.58}\n\\end{equation*}\n$$\n\nWe consider some special cases. First, if $g_{m b}=0$ and $C_{L}=0$, then $Z_{i n}=\\infty$, because $C_{G S}$ is entirely bootstrapped by the source follower and draws no current from the input. Second, at relatively low frequencies, $g_{m b} \\gg\\left|C_{L} s\\right|$ and:\n\n$$\n\\begin{equation*}\nZ_{i n} \\approx \\frac{1}{C_{G S} S}\\left(1+\\frac{g_{m}}{g_{m b}}\\right)+\\frac{1}{g_{m b}} \\tag{6.59}\n\\end{equation*}\n$$\n\nindicating that the equivalent input capacitance is equal to $C_{G S} g_{m b} /\\left(g_{m}+g_{m b}\\right)$ and hence quite less than $C_{G S}$. In other words, the overall input capacitance is equal to $C_{G D}$ plus a fraction of $C_{G S}$-again because of bootstrapping.\n\n#### Example 6.12\n\nApply Miller's approximation to the above circuit if $C_{L}=0$.\n\n#### Solution\n\nAs illustrated in Fig. 6.25, the low-frequency gain from the gate to the source is equal to $\\left(1 / g_{m b}\\right) /\\left[\\left(1 / g_{m}\\right)+\\right.$ $\\left.\\left(1 / g_{m b}\\right)\\right]=g_{m} /\\left(g_{m}+g_{m b}\\right)$. The Miller multiplication of $C_{G S}$ at the input is thus equal to $C_{G S}\\left[1-g_{m} /\\left(g_{m}+g_{m b}\\right)\\right]=$ $C_{G S} g_{m b} /\\left(g_{m}+g_{m b}\\right)$.\n\nAt high frequencies, $g_{m b} \\ll\\left|C_{L} s\\right|$ and:\n\n$$\n\\begin{equation*}\nZ_{i n} \\approx \\frac{1}{C_{G S} s}+\\frac{1}{C_{L} S}+\\frac{g_{m}}{C_{G S} C_{L} s^{2}} \\tag{6.60}\n\\end{equation*}\n$$\n\nFor a given $s=j \\omega$, the input impedance consists of the series combination of capacitors $C_{G S}$ and $C_{L}$ and a negative resistance equal to $-g_{m} /\\left(C_{G S} C_{L} \\omega^{2}\\right)$ (Fig. 6.26). The negative resistance property can be utilized in oscillators (Chapter 15). It is important to bear in mind that a source follower driving a load capacitance exhibits a negative input resistance, possibly causing instability.\n\nFigure 6.26 Negative resistance seen at the input of a source follower.\n\n#### Example 6.13\n\nNeglecting channel-length modulation and body effect, calculate the transfer function of the circuit shown in Fig. 6.27(a).\n\n#### Solution\n\nLet us first identify all of the capacitances in the circuit. At node $X, C_{G D 1}$ and $C_{D B 2}$ are connected to ground and $C_{G S 1}$ and $C_{G D 2}$ to $Y$. At node $Y, C_{S B 1}, C_{G S 2}$, and $C_{L}$ are connected to ground. Similar to the source follower of Fig. 6.22(b), this circuit has three capacitances in a loop and hence a second-order transfer function. Using the equivalent circuit shown in Fig. 6.27(b), where $C_{X}=C_{G D 1}+C_{D B 2}, C_{X Y}=C_{G S 1}+C_{G D 2}$, and $C_{Y}=C_{S B 1}+C_{G S 2}+C_{L}$, we have $V_{1} C_{X Y} s+g_{m 1} V_{1}=V_{\\text {out }} C_{Y} s$, and hence $V_{1}=V_{\\text {out }} C_{Y} s /\\left(C_{X Y} s+g_{m 1}\\right)$. Also, since $V_{2}=V_{\\text {out }}$, the summation of currents at node $X$ gives:\n\n$$\n\\begin{equation*}\n\\left(V_{1}+V_{\\text {out }}\\right) C_{X} s+g_{m 2} V_{\\text {out }}+V_{1} C_{X Y} s=\\frac{V_{\\text {in }}-V_{1}-V_{\\text {out }}}{R_{S}} \\tag{6.61}\n\\end{equation*}\n$$\n\nSubstituting for $V_{1}$ and simplifying the result, we obtain:\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}(s)=\\frac{g_{m 1}+C_{X Y} s}{R_{S} \\xi s^{2}+\\left[C_{Y}+g_{m 1} R_{S} C_{X}+\\left(1+g_{m 2} R_{S}\\right) C_{X Y}\\right] s+g_{m 1}\\left(1+g_{m 2} R_{S}\\right)} \\tag{6.62}\n\\end{equation*}\n$$\n\nwhere $\\xi=C_{X} C_{Y}+C_{X} C_{X Y}+C_{Y} C_{X Y}$. As expected, (6.62) reduces to a form similar to (6.51) for $g_{m 2}=0$.\n\nThe output impedance of source followers is also of interest. In Fig. 6.22(a), the body effect and $C_{S B}$ simply yield an impedance in parallel with the output. Ignoring this impedance and neglecting $C_{G D}$, we note from the equivalent circuit of Fig. 6.28(a) that $V_{1} C_{G S} s+g_{m} V_{1}=-I_{X}$. Also, $V_{1} C_{G S} s R_{S}+V_{1}=-V_{X}$.\n\nFigure 6.28 Calculation of source follower output impedance.\n\nDividing both sides of these equations gives:\n\n$$\n\\begin{align*}\nZ_{\\text {out }} & =\\frac{V_{X}}{I_{X}}  \\tag{6.63}\\\\\n& =\\frac{R_{S} C_{G S} s+1}{g_{m}+C_{G S} s} \\tag{6.64}\n\\end{align*}\n$$\n\nIt is instructive to examine the magnitude of this impedance as a function of frequency. At low frequencies, $Z_{\\text {out }} \\approx 1 / g_{m}$, as expected. At very high frequencies, $Z_{\\text {out }} \\approx R_{S}$ (because $C_{G S}$ shorts the gate and the source). We therefore surmise that $\\left|Z_{\\text {out }}\\right|$ varies as shown in Figs. 6.28(b) or (c). Which one of these variations is more realistic? Operating as buffers, source followers must lower the output impedance, i.e., $1 / g_{m}<R_{S}$. For this reason, the characteristic shown in Fig. 6.28(c) occurs more commonly than that in Fig. 6.28(b).\n\nThe behavior illustrated in Fig. 6.28(c) reveals an important attribute of source followers. Since the output impedance increases with frequency, we postulate that it contains an inductive component. To confirm this guess, we represent $Z_{\\text {out }}$ by a first-order passive network, noting that $Z_{\\text {out }}$ equals $1 / g_{m}$ at $\\omega=0$ and $R_{S}$ at $\\omega=\\infty$. The network can therefore be realized as shown in Fig. 6.29 because $Z_{1}$ equals $R_{2}$ at $\\omega=0$ and $R_{1}+R_{2}$ at $\\omega=\\infty$. In other words, $Z_{1}=Z_{\\text {out }}$ if three conditions hold: $R_{2}=1 / g_{m}$, $R_{1}=R_{S}-1 / g_{m}$, and $L$ is chosen properly.\n\nFigure 6.29 Equivalent output impedance of a source follower.\n\nTo calculate $L$, we can simply obtain an expression for $Z_{1}$ in terms of the three components in Fig. 6.29 and equate the result to $Z_{\\text {out }}$ found above. Alternatively, since $R_{2}$ is a series component of $Z_{1}$, we can subtract its value from $Z_{\\text {out }}$, thereby obtaining an expression for the parallel combination of $R_{1}$ and $L$ :\n\n$$\n\\begin{equation*}\nZ_{\\text {out }}-\\frac{1}{g_{m}}=\\frac{C_{G S} S\\left(R_{S}-\\frac{1}{g_{m}}\\right)}{g_{m}+C_{G S} s} \\tag{6.65}\n\\end{equation*}\n$$\n\nInverting the result to obtain the admittance of the parallel circuit, we have:\n\n$$\n\\begin{equation*}\n\\frac{1}{Z_{\\text {out }}-\\frac{1}{g_{m}}}=\\frac{1}{R_{S}-\\frac{1}{g_{m}}}+\\frac{1}{\\frac{C_{G S} S}{g_{m}}\\left(R_{S}-\\frac{1}{g_{m}}\\right)} \\tag{6.66}\n\\end{equation*}\n$$\n\nWe can thus identify the first term on the right-hand side as the inverse of $R_{1}$ and the second term as the inverse of an impedance equal to $\\left(C_{G S} s / g_{m}\\right)\\left(R_{S}-1 / g_{m}\\right)$, i.e., an inductor with the value:\n\n$$\n\\begin{equation*}\nL=\\frac{C_{G S}}{g_{m}}\\left(R_{S}-\\frac{1}{g_{m}}\\right) \\tag{6.67}\n\\end{equation*}\n$$\n\nNote that $C_{G S} / g_{m}$ is approximately equal to $\\omega_{T}=2 \\pi f_{T}$.\n\n#### Example 6.14\n\nCan we construct a (two-terminal) inductor from a source follower?\n\n#### Solution\n\nYes, we can. Called an \"active inductor,\" such a structure is shown in Fig. 6.30(a), providing an inductance of $\\left(C_{G S 2} / g_{m 2}\\right)\\left(R_{S}-1 / g_{m 2}\\right)$. But the inductor is not ideal because it also incurs a parallel resistance equal to $R_{1}=$ $R_{S}=1 / g_{m 2}$ and a series resistance equal to $1 /"
}
]