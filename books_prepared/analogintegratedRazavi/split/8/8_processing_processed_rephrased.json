[

{
    "text": "On a serene August morning in 1927, Harold Black was commuting via ferry from New York to New Jersey, where his workplace was Bell Laboratories. Black, along with numerous other researchers, had been tackling the issue of nonlinearity in amplifiers utilized in long-distance telephone systems, in pursuit of a viable solution. As he perused the newspaper on the ferry, inspiration struck him suddenly, prompting him to sketch a diagram on the newspaper itself, which subsequently served as evidence in his patent filing. This breakthrough concept is recognized as the negative-feedback amplifier.\n\nFeedback stands as a potent technique extensively employed in analog circuitry. Specifically, negative feedback facilitates high-precision signal processing, while positive feedback enables the creation of oscillators. Within this chapter, our focus is exclusively on negative feedback, and hence, the term \"feedback\" will be used in that context.\n\nWe initiate with an overarching examination of feedback circuits, highlighting the significant advantages they confer. Subsequently, we delve into four distinct feedback topologies and their respective characteristics. We then address the challenges encountered in analyzing feedback circuits and present the two-port method, Bode's approach, and Blackman's theorem as potential analytical tools."
},
{
    "text": "On a gentle August morning in 1927, Harold Black was commuting on the ferry from New York to New Jersey, where his workplace was Bell Laboratories. Black, along with numerous other researchers, had been tackling the issue of nonlinearity in amplifiers employed in long-distance telephone systems, in pursuit of a feasible resolution. As he perused the newspaper on the ferry, an inspiration suddenly dawned on him, prompting him to sketch a diagram on the newspaper itself, which subsequently served as evidence in his patent filing. This brainstorm is recognized today as the negative-feedback amplifier.\n\nFeedback is a potent method extensively utilized in analog circuitry. Specifically, negative feedback facilitates high-precision signal processing, whereas positive feedback enables the construction of oscillators. In this section, we focus exclusively on negative feedback, using the term \"feedback\" to refer to this specific type.\n\nWe initiate our discussion with an overview of feedback circuits, highlighting the significant advantages they confer. Following this, we examine four distinct feedback configurations and their respective characteristics. Subsequently, we address the challenges encountered in analyzing feedback circuits and present the two-port technique, Bode's method, and Blackman's theorem as potential analytical tools."
},
{
    "text": "On a temperate August morning in 1927, Harold Black was aboard the ferry traveling from New York to New Jersey, where his workplace was Bell Laboratories. Black, along with numerous other researchers, had been tackling the issue of nonlinearity in amplifiers utilized for long-distance telephone networks, in pursuit of a feasible remedy. As he perused the newspaper on the ferry, inspiration suddenly dawned on him, prompting him to sketch a diagram on the newspaper itself, which subsequently served as evidence in his patent filing. This groundbreaking concept is now recognized as the negative-feedback amplifier.\n\nFeedback represents a potent technique extensively employed in analog circuitry. Specifically, negative feedback facilitates high-precision signal processing, whereas positive feedback enables the creation of oscillators. In this section, our focus is exclusively on negative feedback, with the term \"feedback\" henceforth referring to this specific type.\n\nWe initiate our discussion with an overarching examination of feedback circuits, highlighting the significant advantages they confer. Subsequently, we delve into four distinct feedback topologies and their respective characteristics. We then address the challenges inherent in analyzing feedback circuits and present the two-port method, Bode's approach, and Blackman's theorem as potential analytical tools."
},
{
    "text": "On a temperate August morning in 1927, Harold Black was aboard the ferry from New York to New Jersey, heading to his job at Bell Laboratories. Alongside numerous other researchers, Black had been tackling the issue of nonlinearity in amplifiers used for long-distance telephone networks, in pursuit of a viable remedy. As he perused the newspaper on the ferry, a sudden inspiration struck him, prompting him to sketch a diagram on the newspaper—a sketch that would later serve as evidence in his patent application. This concept is now recognized as the negative-feedback amplifier.\n\nFeedback is a robust technique extensively employed in analog circuits. Specifically, negative feedback enables high-precision signal processing, while positive feedback facilitates the construction of oscillators. In this chapter, our focus is solely on negative feedback, and henceforth, the term \"feedback\" will refer to this type.\n\nWe initiate with an overarching examination of feedback circuits, outlining the significant advantages that arise from their use. Subsequently, we delve into four distinct feedback topologies and their respective characteristics. We then address the challenges encountered in analyzing feedback circuits and present the two-port technique, Bode's technique, and Blackman's theorem as potential analytical tools."
},
{
    "text": "On a serene August morning in 1927, Harold Black was aboard the ferry traveling from New York to New Jersey, where his workplace was Bell Laboratories. Black, along with numerous other researchers, had been tackling the issue of nonlinearity in amplifiers utilized for long-distance telephone networks, in pursuit of a viable resolution. As he perused the newspaper on the ferry, inspiration suddenly dawned on him, prompting him to sketch a diagram on the newspaper itself, which would subsequently serve as evidence in his patent filing. This brainstorm is what we now recognize as the negative-feedback amplifier.\n\nFeedback is a potent technique extensively employed in analog circuits. Specifically, negative feedback facilitates high-precision signal processing, while positive feedback enables the creation of oscillators. In this section, we focus exclusively on negative feedback, using the term \"feedback\" to refer to this specific type.\n\nWe initiate our discussion with an overview of feedback circuits, highlighting the significant advantages that arise from their use. Following this, we examine four distinct feedback topologies and their respective characteristics. We then address the challenges encountered in analyzing feedback circuits and present the two-port technique, Bode's method, and Blackman's theorem as potential solutions."
},
{
    "text": "On a temperate August morning in 1927, Harold Black was aboard the ferry traveling from New York to New Jersey, where his workplace was Bell Laboratories. Black, along with numerous other researchers, had been tackling the issue of nonlinearity in amplifiers within long-distance telephone systems, aiming for a feasible resolution. As he perused the newspaper on the ferry, inspiration struck him suddenly, prompting him to sketch a diagram on the newspaper—a sketch that would eventually serve as evidence in his patent filing. This concept is now recognized as the negative-feedback amplifier.\n\nFeedback is a potent technique extensively employed in analog circuitry. Specifically, negative feedback facilitates high-precision signal processing, while positive feedback enables the creation of oscillators. In this section, our focus is solely on negative feedback, and henceforth, the term \"feedback\" will refer to this type.\n\nWe initiate with an overview of feedback circuits, outlining the significant advantages that arise from their use. Subsequently, we examine four distinct feedback topologies and their respective characteristics. Following this, we address the challenges encountered in analyzing feedback circuits and present the two-port method, Bode's approach, and Blackman's theorem as potential analytical tools."
},
{
    "text": "On a temperate August morning in 1927, Harold Black was aboard the ferry traveling from New York to New Jersey, where his workplace was Bell Laboratories. Black, along with numerous other researchers, had been tackling the issue of nonlinearity in amplifiers utilized in long-distance telephone systems, aiming to find a viable solution. As he read the newspaper on the ferry, inspiration suddenly struck him, prompting him to sketch a diagram on the newspaper itself, which would subsequently serve as evidence in his patent application. This brainstorm is what we now recognize as the negative-feedback amplifier.\n\nFeedback is a potent technique extensively employed in analog circuits. Specifically, negative feedback facilitates high-precision signal processing, while positive feedback enables the construction of oscillators. In this section, we focus exclusively on negative feedback, using the term \"feedback\" to refer to this specific type.\n\nWe initiate our discussion with an overview of feedback circuits, highlighting the significant advantages that arise from their use. Following this, we examine four distinct feedback topologies and their respective characteristics. We then address the challenges associated with analyzing feedback circuits and present the two-port technique, Bode's method, and Blackman's theorem as potential analytical tools."
},
{
    "text": "On a calm August morning in 1927, Harold Black was aboard the ferry traveling from New York to New Jersey, where his workplace was Bell Laboratories. Alongside numerous other researchers, Black had been tackling the issue of nonlinearity in amplifiers employed in long-distance telephone systems, striving for a feasible resolution. As he perused the newspaper on the ferry, an idea abruptly came to him, prompting him to sketch a diagram on the newspaper itself, which subsequently served as evidence in his patent filing. This concept is renowned as the negative-feedback amplifier.\n\nFeedback represents a potent technique extensively utilized in analog circuitry. Specifically, negative feedback facilitates high-precision signal processing, whereas positive feedback enables the construction of oscillators. Within this chapter, our focus is solely on negative feedback, with the term \"feedback\" henceforth referring to this specific type.\n\nWe initiate our discussion with an overarching examination of feedback circuits, highlighting the significant advantages that arise from their use. Following this, we delve into four distinct feedback topologies and their respective characteristics. Subsequently, we address the challenges inherent in analyzing feedback circuits and present the two-port technique, Bode's method, and Blackman's theorem as potential analytical tools."
},
{
    "text": "Figure 8.1 illustrates a negative-feedback system, where $H(s)$ and $G(s)$ are termed the feedforward and feedback networks, respectively. Given that the output of $G(s)$ equals $G(s) Y(s)$, the input to $H(s)$, known as the feedback error, is expressed as $X(s) - G(s) Y(s)$. Hence,\n\n$$\n\\begin{equation*}\nY(s) = H(s)[X(s) - G(s) Y(s)] \\tag{8.1}\n\\end{equation*}\n$$\n\nConsequently,\n\n$$\n\\begin{equation*}\n\\frac{Y(s)}{X(s)} = \\frac{H(s)}{1 + G(s) H(s)} \\tag{8.2}\n\\end{equation*}\n$$\n\nimage_name: Figure 8.1 General feedback system\ndescription: The block diagram depicted in Figure 8.1 exemplifies a generic negative-feedback system. It comprises two primary components: the feedforward network, designated as \\( H(s) \\), and the feedback network, designated as \\( G(s) \\).\n\n1. **Main Components:**\n- **\\( H(s) \\):** This block signifies the open-loop transfer function, often an amplifier in various systems. It processes the input signal to produce the output \\( Y(s) \\).\n- **\\( G(s) \\):** This block signifies the feedback network. It captures a portion of the output \\( Y(s) \\) and feeds it back to the input.\n\n2. **Flow of Information or Control:**\n- The input signal \\( X(s) \\) enters the system and merges with the feedback signal from \\( G(s) \\) at a summing junction, forming the feedback error.\n- The feedback error \\( (X(s) - G(s)Y(s)) \\) is then input into the \\( H(s) \\) block.\n- The output of \\( H(s) \\) is \\( Y(s) \\), representing the system's output.\n- A segment of \\( Y(s) \\) is recycled through \\( G(s) \\), establishing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with plus and minus signs, denoting the subtraction of the feedback signal from the input signal.\n- The output of \\( H(s) \\) is labeled \\( Y(s) \\), and the input is labeled \\( X(s) \\).\n\n4. **Overall System Function:**\n- The core function of this system is to regulate the output \\( Y(s) \\) by modulating the impact of the feedback signal. The closed-loop transfer function of the system is expressed as \\( \\frac{H(s)}{1 + G(s)H(s)} \\), illustrating how feedback influences the overall gain and stability. The feedback aids in minimizing errors, enhancing stability, and attaining desired performance traits in the output.\n\nFigure 8.1 General feedback system.\nimage_name: Figure 8.1 General feedback system\ndescription: The block diagram labeled \"Figure 8.1 General feedback system\" portrays a standard feedback control system. Here is a comprehensive description:\n\n1. **Main Components:**\n- **Summing Junction (+/-):** This block serves as the initial point where the input signal merges with the feedback signal, generating an 'error' signal, which is the disparity between the input and the feedback.\n- **H(s) Block:** This denotes the \"open-loop\" transfer function, typically an amplifier within the system. It processes the error signal to yield the system output.\n- **G(s) Block:** This block constitutes the feedback path and is generally a frequency-independent component. It processes a fraction of the output signal for feedback.\n\n2. **Flow of Information or Control:**\n- The input signal enters the system and combines with the feedback signal at the summing junction, producing an error signal.\n- The error signal is then routed to the H(s) block, which amplifies or processes it to generate the output \\( Y(s) \\).\n- A portion of the output \\( Y(s) \\) is fed back into the system via the G(s) block, completing the feedback loop.\n- This feedback loop is pivotal for fine-tuning the system's performance by reducing the error signal.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes annotations such as \"Error\" at the summing junction, highlighting the block's purpose.\n- The output is designated as \\( Y(s) \\), and the feedback path is clearly indicated with directional arrows, emphasizing the signal flow.\n\n4. **Overall System Function:**\n- The primary role of this feedback system is to control the output \\( Y(s) \\) by adjusting the feedback signal's influence. The closed-loop transfer function \\( \\frac{H(s)}{1 + G(s)H(s)} \\) illustrates how feedback impacts the system's gain and stability. The feedback mechanism contributes to error reduction, stability enhancement, and achieving desired output performance characteristics.\n\nFigure 8.2 Similarity between output of feedback network and input signal.\n\nWe refer to $H(s)$ as the \"open-loop\" transfer function and $Y(s) / X(s)$ as the \"closed-loop\" transfer function. In most scenarios discussed in this book, $H(s)$ symbolizes an amplifier and $G(s)$ is a frequency-independent entity. Essentially, a fraction of the output signal is sensed and compared with the input, resulting in an error term. In a well-designed negative-feedback system, this error term is minimized, thereby making the output of $G(s)$ an accurate \"replica\" of the input, and thus the system output a faithful (scaled) version of the input (Fig. 8.2). We also term the input of $H(s)$ a \"virtual ground\" due to the minimal signal amplitude at this point. In subsequent analyses, we substitute $G(s)$ with a frequency-independent quantity $\\beta$, termed the \"feedback factor.\"\n\nIt is beneficial to identify four elements in the feedback system of Fig. 8.1: (1) the feedforward amplifier, (2) a mechanism for sensing the output, (3) the feedback network, and (4) a mechanism for generating the feedback error, i.e., a subtractor (or an adder). These elements are present in every feedback system, though they may not be immediately apparent in simpler configurations like a common-source stage with resistive degeneration."
},
{
    "text": "Figure 8.1 illustrates a negative-feedback system, where $H(s)$ and $G(s)$ are termed the feedforward and feedback networks, respectively. Given that the output of $G(s)$ equals $G(s) Y(s)$, the input to $H(s)$, known as the feedback error, is expressed as $X(s) - G(s) Y(s)$. Consequently,\n\n$$\n\\begin{equation*}\nY(s) = H(s)[X(s) - G(s) Y(s)] \\tag{8.1}\n\\end{equation*}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\n\\frac{Y(s)}{X(s)} = \\frac{H(s)}{1 + G(s) H(s)} \\tag{8.2}\n\\end{equation*}\n$$\n\nimage_name:Figure 8.1 General feedback system\ndescription:The block diagram in Figure 8.1 depicts a general negative-feedback system, comprising two primary components: the feedforward network, designated as \\( H(s) \\), and the feedback network, designated as \\( G(s) \\).\n\n1. **Main Components:**\n- **\\( H(s) \\):** This block signifies the open-loop transfer function, often an amplifier in many systems, processing the input signal to produce the output \\( Y(s) \\).\n- **\\( G(s) \\):** This block represents the feedback network, taking a portion of the output \\( Y(s) \\) and feeding it back to the input.\n\n2. **Flow of Information or Control:**\n- The input signal \\( X(s) \\) enters the system and is combined with the feedback signal from \\( G(s) \\) at a summing junction, forming the feedback error.\n- The feedback error \\( (X(s) - G(s)Y(s)) \\) is then input into the \\( H(s) \\) block.\n- The output of \\( H(s) \\) is \\( Y(s) \\), representing the system's output.\n- A part of \\( Y(s) \\) is fed back through \\( G(s) \\), establishing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with plus and minus signs, indicating the subtraction of the feedback signal from the input signal.\n- The output of \\( H(s) \\) is labeled \\( Y(s) \\), and the input is labeled \\( X(s) \\).\n\n4. **Overall System Function:**\n- The primary role of this system is to regulate the output \\( Y(s) \\) by modulating the impact of the feedback signal. The closed-loop transfer function of the system is given by \\( \\frac{H(s)}{1 + G(s)H(s)} \\), illustrating how feedback influences the system's gain and stability. The feedback aids in reducing errors, enhancing stability, and achieving desired performance traits in the output.\n\nFigure 8.1 General feedback system.\nimage_name:Figure 8.1 General feedback system\ndescription:The block diagram labeled \"Figure 8.1 General feedback system\" portrays a standard feedback control system. Here is a detailed breakdown of the system:\n\n1. **Main Components:**\n- **Summing Junction (+/-):** This block serves as the initial point where the input signal merges with the feedback signal, producing an 'error' signal, which is the difference between the input and the feedback.\n- **H(s) Block:** This represents the \"open-loop\" transfer function, commonly an amplifier in the system, processing the error signal to generate the system output.\n- **G(s) Block:** This block constitutes the feedback path and is typically a frequency-independent component, processing a fraction of the output signal for feedback.\n\n2. **Flow of Information or Control:**\n- The input signal enters the system and combines with the feedback signal at the summing junction, creating an error signal.\n- The error signal is then fed into the H(s) block, which amplifies or processes it to yield the output Y(s).\n- A portion of the output Y(s) is fed back into the system via the G(s) block, completing the feedback loop.\n- This feedback loop is essential for fine-tuning the system's performance by minimizing the error signal.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes annotations such as \"Error\" at the summing junction, highlighting its function.\n- The output is designated as Y(s), and the feedback path is clearly indicated with directional arrows, emphasizing the signal flow.\n\n4. **Overall System Function:**\n- The core function of this feedback system is to control the output Y(s) by adjusting the impact of the feedback signal. The closed-loop transfer function \\( \\frac{H(s)}{1 + G(s)H(s)} \\) demonstrates how feedback affects the system's gain and stability. The feedback mechanism contributes to error reduction, stability enhancement, and achieving desired performance attributes in the output.\n\nFigure 8.2 Similarity between output of feedback network and input signal.\n\nWe refer to $H(s)$ as the \"open-loop\" transfer function and $Y(s) / X(s)$ as the \"closed-loop\" transfer function. In most scenarios discussed in this book, $H(s)$ denotes an amplifier and $G(s)$ is a frequency-independent entity. Essentially, a fraction of the output signal is sensed and compared with the input, generating an error term. In a well-designed negative-feedback system, this error term is minimized, thereby making the output of $G(s)$ an accurate \"copy\" of the input, and thus the system output a faithful (scaled) replica of the input (Fig. 8.2). We also term the input of $H(s)$ a \"virtual ground\" due to the small signal amplitude at this point. In subsequent analyses, we substitute $G(s)$ with a frequency-independent quantity $\\beta$, termed the \"feedback factor.\"\n\nIt is beneficial to identify four elements in the feedback system of Fig. 8.1: (1) the feedforward amplifier, (2) a mechanism for sensing the output, (3) the feedback network, and (4) a means for generating the feedback error, i.e., a subtractor (or an adder). These elements are present in every feedback system, though they may not be immediately apparent in simpler configurations like a common-source stage with resistive degeneration."
},
{
    "text": "Figure 8.1 illustrates a negative-feedback system, where $H(s)$ and $G(s)$ are referred to as the feedforward and feedback networks, respectively. Given that the output of $G(s)$ is $G(s) Y(s)$, the input to $H(s)$, termed the feedback error, is expressed as $X(s) - G(s) Y(s)$. This relationship is defined by\n\n$$\n\\begin{equation*}\nY(s) = H(s)[X(s) - G(s) Y(s)] \\tag{8.1}\n\\end{equation*}\n$$\n\nConsequently,\n\n$$\n\\begin{equation*}\n\\frac{Y(s)}{X(s)} = \\frac{H(s)}{1 + G(s) H(s)} \\tag{8.2}\n\\end{equation*}\n$$\n\nimage_name:Figure 8.1 General feedback system\ndescription:The block diagram depicted in Figure 8.1 exemplifies a general negative-feedback system. It comprises two primary components: the feedforward network, designated as \\( H(s) \\), and the feedback network, designated as \\( G(s) \\).\n\n1. **Main Components:**\n- **\\( H(s) \\):** This block signifies the open-loop transfer function, often an amplifier in various systems. It processes the input signal to produce the output \\( Y(s) \\).\n- **\\( G(s) \\):** This block signifies the feedback network. It captures a portion of the output \\( Y(s) \\) and returns it to the input.\n\n2. **Flow of Information or Control:**\n- The input signal \\( X(s) \\) enters the system and merges with the feedback signal from \\( G(s) \\) at a summing junction, forming the feedback error.\n- The feedback error \\( (X(s) - G(s)Y(s)) \\) is then input into the \\( H(s) \\) block.\n- The output of \\( H(s) \\) is \\( Y(s) \\), representing the system's output.\n- A segment of \\( Y(s) \\) is fed back through \\( G(s) \\), establishing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with plus and minus signs, indicating the subtraction of the feedback signal from the input signal.\n- The output of \\( H(s) \\) is labeled \\( Y(s) \\), and the input is labeled \\( X(s) \\).\n\n4. **Overall System Function:**\n- The core function of this system is to regulate the output \\( Y(s) \\) by modulating the impact of the feedback signal. The closed-loop transfer function of the system is expressed as \\( \\frac{H(s)}{1 + G(s)H(s)} \\), illustrating how feedback influences the overall gain and stability. The feedback aids in minimizing errors, enhancing stability, and attaining desired performance traits in the output.\n\nFigure 8.1 General feedback system.\nimage_name:Figure 8.1 General feedback system\ndescription:The system block diagram labeled \"Figure 8.1 General feedback system\" depicts a standard feedback control system. Here is a detailed breakdown of the system:\n\n1. **Main Components:**\n- **Summing Junction (+/-):** This block serves as the initial point where the input signal is combined with the feedback signal, producing an 'error' signal, which is the difference between the input and the feedback.\n- **H(s) Block:** This represents the \"open-loop\" transfer function, typically an amplifier in the system. It processes the error signal to generate the system output.\n- **G(s) Block:** This block is part of the feedback path and generally acts as a frequency-independent component. It processes a portion of the output signal for feedback.\n\n2. **Flow of Information or Control:**\n- The input signal enters the system and combines with the feedback signal at the summing junction, resulting in an error signal.\n- The error signal is then transmitted to the H(s) block, which amplifies or processes it to yield the output Y(s).\n- A fraction of the output Y(s) is fed back into the system via the G(s) block, completing the feedback loop.\n- This feedback loop is essential for fine-tuning the system's performance by reducing the error signal.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes annotations such as \"Error\" at the summing junction, highlighting the block's purpose.\n- The output is designated as Y(s), and the feedback path is clearly indicated with directional arrows, emphasizing the signal flow.\n\n4. **Overall System Function:**\n- The primary role of this feedback system is to control the output Y(s) by adjusting the influence of the feedback signal. The closed-loop transfer function \\( \\frac{H(s)}{1 + G(s)H(s)} \\) demonstrates how feedback impacts the system's gain and stability. The feedback mechanism assists in reducing errors, enhancing stability, and achieving desired performance attributes in the output.\n\nFigure 8.2 Similarity between output of feedback network and input signal.\n\nWe refer to $H(s)$ as the \"open-loop\" transfer function and $Y(s) / X(s)$ as the \"closed-loop\" transfer function. In most scenarios discussed in this book, $H(s)$ represents an amplifier, and $G(s)$ is a frequency-independent factor. Essentially, a portion of the output signal is sensed and compared with the input, generating an error term. In a well-designed negative-feedback system, this error term is minimized, thereby making the output of $G(s)$ an accurate \"copy\" of the input, and thus the system output a faithful (scaled) replica of the input (Fig. 8.2). We also term the input of $H(s)$ a \"virtual ground\" due to the small signal amplitude at this point. In subsequent analyses, we replace $G(s)$ with a frequency-independent quantity $\\beta$, known as the \"feedback factor.\"\n\nIt is beneficial to identify four elements in the feedback system of Fig. 8.1: (1) the feedforward amplifier, (2) a mechanism for sensing the output, (3) the feedback network, and (4) a mechanism for generating the feedback error, i.e., a subtractor (or an adder). These elements are present in every feedback system, even if they are not immediately apparent, as in the case of a simple common-source stage with resistive degeneration."
},
{
    "text": "Figure 8.1 illustrates a negative-feedback system, where $H(s)$ and $G(s)$ are referred to as the feedforward and feedback networks, respectively. Given that the output of $G(s)$ equals $G(s) Y(s)$, the input to $H(s)$, termed the feedback error, is expressed as $X(s) - G(s) Y(s)$. Consequently,\n\n$$\n\\begin{equation*}\nY(s) = H(s)[X(s) - G(s) Y(s)] \\tag{8.1}\n\\end{equation*}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\n\\frac{Y(s)}{X(s)} = \\frac{H(s)}{1 + G(s) H(s)} \\tag{8.2}\n\\end{equation*}\n$$\n\nimage_name:Figure 8.1 General feedback system\ndescription:The block diagram depicted in Figure 8.1 exemplifies a generic negative-feedback system. It comprises two primary components: the feedforward network, designated as \\( H(s) \\), and the feedback network, designated as \\( G(s) \\).\n\n1. **Main Components:**\n- **\\( H(s) \\):** This block signifies the open-loop transfer function, often an amplifier in various systems. It processes the input signal to produce the output \\( Y(s) \\).\n- **\\( G(s) \\):** This block signifies the feedback network. It takes a portion of the output \\( Y(s) \\) and returns it to the input.\n\n2. **Flow of Information or Control:**\n- The input signal \\( X(s) \\) enters the system and is merged with the feedback signal from \\( G(s) \\) at a summing junction, forming the feedback error.\n- The feedback error \\( (X(s) - G(s)Y(s)) \\) is then input into the \\( H(s) \\) block.\n- The output of \\( H(s) \\) is \\( Y(s) \\), representing the system's output.\n- A part of \\( Y(s) \\) is looped back through \\( G(s) \\) to establish the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with plus and minus signs, denoting the subtraction of the feedback signal from the input signal.\n- The output of \\( H(s) \\) is labeled \\( Y(s) \\), and the input is labeled \\( X(s) \\).\n\n4. **Overall System Function:**\n- The core function of this system is to regulate the output \\( Y(s) \\) by modulating the impact of the feedback signal. The closed-loop transfer function of the system is expressed as \\( \\frac{H(s)}{1 + G(s)H(s)} \\), illustrating how feedback influences the overall gain and stability. The feedback aids in minimizing errors, enhancing stability, and attaining desired performance traits in the output.\n\nFigure 8.1 General feedback system.\nimage_name:Figure 8.1 General feedback system\ndescription:The block diagram labeled \"Figure 8.1 General feedback system\" depicts a standard feedback control system. Here is a comprehensive description of the system:\n\n1. **Main Components:**\n- **Summing Junction (+/-):** This block serves as the initial point where the input signal merges with the feedback signal, producing an 'error' signal, which is the disparity between the input and the feedback.\n- **H(s) Block:** This denotes the \"open-loop\" transfer function, typically an amplifier within the system. It processes the error signal to generate the system output.\n- **G(s) Block:** This block constitutes the feedback path and is generally a frequency-independent component. It processes a segment of the output signal for feedback into the system.\n\n2. **Flow of Information or Control:**\n- The input signal enters the system and combines with the feedback signal at the summing junction, creating an error signal.\n- The error signal is then transmitted to the H(s) block, which amplifies or processes it to yield the output Y(s).\n- A fraction of the output Y(s) is fed back into the system via the G(s) block, completing the feedback loop.\n- This feedback loop is essential for fine-tuning the system's performance by reducing the error signal.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes annotations such as \"Error\" at the summing junction, highlighting the block's purpose.\n- The output is designated as Y(s), and the feedback path is clearly indicated with directional arrows, emphasizing the signal flow.\n\n4. **Overall System Function:**\n- The primary role of this feedback system is to control the output Y(s) by adjusting the influence of the feedback signal. The closed-loop transfer function \\( \\frac{H(s)}{1 + G(s)H(s)} \\) demonstrates how feedback impacts the system's gain and stability. The feedback mechanism contributes to error reduction, stability enhancement, and achieving desired performance attributes in the output.\n\nFigure 8.2 Similarity between output of feedback network and input signal.\n\nWe refer to $H(s)$ as the \"open-loop\" transfer function and $Y(s) / X(s)$ as the \"closed-loop\" transfer function. In most scenarios discussed in this book, $H(s)$ symbolizes an amplifier and $G(s)$ is a frequency-independent entity. In essence, a portion of the output signal is detected and compared with the input, generating an error term. In a well-designed negative-feedback system, this error term is minimized, thereby making the output of $G(s)$ an accurate \"replica\" of the input, and hence the system output a faithful (scaled) version of the input (Fig. 8.2). We also term the input of $H(s)$ a \"virtual ground\" due to the minimal signal amplitude at this point. In subsequent analyses, we replace $G(s)$ with a frequency-independent quantity $\\beta$ and designate it as the \"feedback factor.\"\n\nIt is beneficial to identify four elements in the feedback system of Fig. 8.1: (1) the feedforward amplifier, (2) a mechanism for sensing the output, (3) the feedback network, and (4) a mechanism for generating the feedback error, i.e., a subtractor (or an adder). These elements are present in every feedback system, even though they may not be immediately apparent in simpler configurations, such as a basic common-source stage with resistive degeneration."
},
{
    "text": "Figure 8.1 illustrates a negative-feedback system, where $H(s)$ and $G(s)$ are termed the feedforward and feedback networks, respectively. Given that the output of $G(s)$ equals $G(s) Y(s)$, the input to $H(s)$, known as the feedback error, is expressed as $X(s) - G(s) Y(s)$. Consequently,\n\n$$\n\\begin{equation*}\nY(s) = H(s)[X(s) - G(s) Y(s)] \\tag{8.1}\n\\end{equation*}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\n\\frac{Y(s)}{X(s)} = \\frac{H(s)}{1 + G(s) H(s)} \\tag{8.2}\n\\end{equation*}\n$$\n\nimage_name:Figure 8.1 General feedback system\ndescription:The block diagram in Figure 8.1 depicts a general negative-feedback system, comprising two primary components: the feedforward network, designated as \\( H(s) \\), and the feedback network, designated as \\( G(s) \\).\n\n1. **Main Components:**\n- **\\( H(s) \\):** This block signifies the open-loop transfer function, often an amplifier in various systems. It processes the input signal to produce the output \\( Y(s) \\).\n- **\\( G(s) \\):** This block represents the feedback network, which takes a portion of the output \\( Y(s) \\) and returns it to the input.\n\n2. **Flow of Information or Control:**\n- The input signal \\( X(s) \\) enters the system and is combined with the feedback signal from \\( G(s) \\) at a summing junction, forming the feedback error.\n- The feedback error \\( (X(s) - G(s)Y(s)) \\) is then input into the \\( H(s) \\) block.\n- The output of \\( H(s) \\) is \\( Y(s) \\), representing the system's output.\n- A segment of \\( Y(s) \\) is fed back through \\( G(s) \\), establishing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with plus and minus signs, indicating the subtraction of the feedback signal from the input signal.\n- The output of \\( H(s) \\) is labeled \\( Y(s) \\), and the input is labeled \\( X(s) \\).\n\n4. **Overall System Function:**\n- The primary role of this system is to regulate the output \\( Y(s) \\) by modulating the impact of the feedback signal. The closed-loop transfer function of the system is given by \\( \\frac{H(s)}{1 + G(s)H(s)} \\), illustrating how feedback influences the system's gain and stability. The feedback aids in reducing errors, enhancing stability, and achieving desired performance traits in the output.\n\nFigure 8.1 General feedback system.\nimage_name:Figure 8.1 General feedback system\ndescription:The block diagram labeled \"Figure 8.1 General feedback system\" portrays a standard feedback control system. Here is a detailed breakdown of the system:\n\n1. **Main Components:**\n- **Summing Junction (+/-):** This block serves as the initial point where the input signal merges with the feedback signal, producing an 'error' signal, which is the difference between the input and the feedback.\n- **H(s) Block:** This denotes the \"open-loop\" transfer function, commonly an amplifier in the system, which processes the error signal to generate the system output.\n- **G(s) Block:** This block forms part of the feedback path and is typically a frequency-independent component, processing a portion of the output signal for feedback.\n\n2. **Flow of Information or Control:**\n- The input signal enters the system and combines with the feedback signal at the summing junction, creating an error signal.\n- The error signal is then transmitted to the H(s) block, which amplifies or processes it to yield the output Y(s).\n- A fraction of the output Y(s) is fed back into the system via the G(s) block, completing the feedback loop.\n- This feedback loop is essential for fine-tuning the system's performance by minimizing the error signal.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes annotations such as \"Error\" at the summing junction, highlighting the block's purpose.\n- The output is designated as Y(s), and the feedback path is clearly indicated with directional arrows, emphasizing the signal flow.\n\n4. **Overall System Function:**\n- The main function of this feedback system is to control the output Y(s) by adjusting the influence of the feedback signal. The closed-loop transfer function \\( \\frac{H(s)}{1 + G(s)H(s)} \\) demonstrates how feedback impacts the system's gain and stability. The feedback mechanism contributes to error reduction, stability enhancement, and the attainment of desired performance attributes in the output.\n\nFigure 8.2 Similarity between output of feedback network and input signal.\n\nWe refer to $H(s)$ as the \"open-loop\" transfer function and $Y(s) / X(s)$ as the \"closed-loop\" transfer function. In most scenarios discussed in this book, $H(s)$ acts as an amplifier, and $G(s)$ is a frequency-independent entity. Essentially, a part of the output signal is sensed and compared with the input, generating an error term. In a well-designed negative-feedback system, this error term is minimized, thereby making the output of $G(s)$ an accurate \"copy\" of the input, and thus the system output a faithful (scaled) reproduction of the input (Fig. 8.2). We also term the input of $H(s)$ a \"virtual ground\" due to the small signal amplitude at this point. In subsequent analyses, we replace $G(s)$ with a frequency-independent quantity $\\beta$, known as the \"feedback factor.\"\n\nIt is beneficial to identify four elements in the feedback system of Fig. 8.1: (1) the feedforward amplifier, (2) a mechanism for sensing the output, (3) the feedback network, and (4) a means of generating the feedback error, such as a subtractor (or an adder). These elements are present in every feedback system, though they may not be immediately apparent in simpler configurations like a common-source stage with resistive degeneration."
},
{
    "text": "Figure 8.1 illustrates a negative-feedback system, where $H(s)$ and $G(s)$ are termed the feedforward and feedback networks, respectively. Given that the output of $G(s)$ equals $G(s) Y(s)$, the input to $H(s)$, known as the feedback error, is expressed as $X(s) - G(s) Y(s)$. Consequently,\n\n$$\n\\begin{equation*}\nY(s) = H(s)[X(s) - G(s) Y(s)] \\tag{8.1}\n\\end{equation*}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\n\\frac{Y(s)}{X(s)} = \\frac{H(s)}{1 + G(s) H(s)} \\tag{8.2}\n\\end{equation*}\n$$\n\nimage_name: Figure 8.1 General feedback system\ndescription: The block diagram in Figure 8.1 depicts a general negative-feedback system, comprising two primary components: the feedforward network, designated as \\( H(s) \\), and the feedback network, designated as \\( G(s) \\).\n\n1. **Main Components:**\n- **\\( H(s) \\):** This block signifies the open-loop transfer function, often an amplifier in many systems. It processes the input signal to produce the output \\( Y(s) \\).\n- **\\( G(s) \\):** This block represents the feedback network, which takes a portion of the output \\( Y(s) \\) and feeds it back to the input.\n\n2. **Flow of Information or Control:**\n- The input signal \\( X(s) \\) enters the system and is combined with the feedback signal from \\( G(s) \\) at a summing junction, forming the feedback error.\n- The feedback error \\( (X(s) - G(s)Y(s)) \\) is then input into the \\( H(s) \\) block.\n- The output of \\( H(s) \\) is \\( Y(s) \\), representing the system's output.\n- A fraction of \\( Y(s) \\) is fed back through \\( G(s) \\), completing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with plus and minus signs, indicating the subtraction of the feedback signal from the input signal.\n- The output of \\( H(s) \\) is labeled \\( Y(s) \\), and the input is labeled \\( X(s) \\).\n\n4. **Overall System Function:**\n- The main function of this system is to control the output \\( Y(s) \\) by modulating the impact of the feedback signal. The closed-loop transfer function of the system is \\( \\frac{H(s)}{1 + G(s)H(s)} \\), illustrating how feedback influences the overall gain and stability. The feedback aids in reducing errors, enhancing stability, and achieving desired performance in the output.\n\nFigure 8.1 General feedback system.\nimage_name: Figure 8.1 General feedback system\ndescription: The block diagram labeled \"Figure 8.1 General feedback system\" depicts a standard feedback control system. Here is a detailed breakdown of the system:\n\n1. **Main Components:**\n- **Summing Junction (+/-):** This block is where the input signal merges with the feedback signal, producing an 'error' signal, which is the difference between the input and the feedback.\n- **H(s) Block:** This represents the \"open-loop\" transfer function, typically an amplifier in the system, processing the error signal to generate the system output.\n- **G(s) Block:** This block is part of the feedback path, generally a frequency-independent component, processing a portion of the output signal for feedback.\n\n2. **Flow of Information or Control:**\n- The input signal enters the system and combines with the feedback signal at the summing junction, creating an error signal.\n- The error signal is then processed by the H(s) block, resulting in the output \\( Y(s) \\).\n- A part of the output \\( Y(s) \\) is fed back into the system through the G(s) block, forming the feedback loop.\n- This feedback loop is essential for adjusting the system's performance by minimizing the error signal.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes annotations like \"Error\" at the summing junction, highlighting its function.\n- The output is labeled \\( Y(s) \\), and the feedback path is clearly indicated with directional arrows, emphasizing signal flow.\n\n4. **Overall System Function:**\n- The primary role of this feedback system is to control the output \\( Y(s) \\) by adjusting the feedback signal's influence. The closed-loop transfer function \\( \\frac{H(s)}{1 + G(s)H(s)} \\) shows how feedback affects the system's gain and stability. The feedback mechanism helps reduce errors, improve stability, and ensure desired performance characteristics in the output.\n\nFigure 8.2 Similarity between output of feedback network and input signal.\n\nWe refer to $H(s)$ as the \"open-loop\" transfer function and $Y(s) / X(s)$ as the \"closed-loop\" transfer function. In most cases discussed in this book, $H(s)$ represents an amplifier, and $G(s)$ is a frequency-independent quantity. Essentially, a fraction of the output signal is sensed and compared with the input, generating an error term. In a well-designed negative-feedback system, this error term is minimized, making the output of $G(s)$ an accurate \"copy\" of the input, and thus the system output a faithful (scaled) replica of the input (Fig. 8.2). We also term the input of $H(s)$ a \"virtual ground\" due to the small signal amplitude at this point. In subsequent discussions, we replace $G(s)$ with a frequency-independent quantity $\\beta$, termed the \"feedback factor.\"\n\nIt is beneficial to identify four elements in the feedback system of Fig. 8.1: (1) the feedforward amplifier, (2) a mechanism for sensing the output, (3) the feedback network, and (4) a means for generating the feedback error, such as a subtractor (or adder). These elements are present in every feedback system, even if not immediately apparent, as in a simple common-source stage with resistive degeneration."
},
{
    "text": "```\nFigure 8.1 illustrates a negative-feedback system, where $H(s)$ and $G(s)$ are referred to as the feedforward and feedback networks, respectively. Given that the output of $G(s)$ is $G(s) Y(s)$, the input to $H(s)$, termed the feedback error, is expressed as $X(s) - G(s) Y(s)$. This relationship is represented by\n\n$$\n\\begin{equation*}\nY(s) = H(s)[X(s) - G(s) Y(s)] \\tag{8.1}\n\\end{equation*}\n$$\n\nConsequently,\n\n$$\n\\begin{equation*}\n\\frac{Y(s)}{X(s)} = \\frac{H(s)}{1 + G(s) H(s)} \\tag{8.2}\n\\end{equation*}\n$$\n\nimage_name:Figure 8.1 General feedback system\ndescription:The block diagram depicted in Figure 8.1 exemplifies a generic negative-feedback system. It comprises two primary components: the feedforward network, designated as \\( H(s) \\), and the feedback network, designated as \\( G(s) \\).\n\n1. **Main Components:**\n- **\\( H(s) \\):** This block signifies the open-loop transfer function, often an amplifier in various systems. It processes the input signal to produce the output \\( Y(s) \\).\n- **\\( G(s) \\):** This block denotes the feedback network. It captures a portion of the output \\( Y(s) \\) and returns it to the input.\n\n2. **Flow of Information or Control:**\n- The input signal \\( X(s) \\) enters the system and merges with the feedback signal from \\( G(s) \\) at a summing junction, forming the feedback error.\n- The feedback error \\( (X(s) - G(s)Y(s)) \\) is then input into the \\( H(s) \\) block.\n- The output of \\( H(s) \\) is \\( Y(s) \\), representing the system's output.\n- A segment of \\( Y(s) \\) is recycled through \\( G(s) \\) to establish the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with plus and minus signs, signifying the subtraction of the feedback signal from the input signal.\n- The output of \\( H(s) \\) is labeled \\( Y(s) \\), and the input is labeled \\( X(s) \\).\n\n4. **Overall System Function:**\n- The core function of this system is to regulate the output \\( Y(s) \\) by modulating the impact of the feedback signal. The closed-loop transfer function of the system is expressed as \\( \\frac{H(s)}{1 + G(s)H(s)} \\), illustrating how feedback influences the system's overall gain and stability. The feedback aids in error reduction, stability enhancement, and achieving desired performance traits in the output.\n\nFigure 8.1 General feedback system.\nimage_name:Figure 8.1 General feedback system\ndescription:The block diagram labeled \"Figure 8.1 General feedback system\" portrays a standard feedback control system. Here is a comprehensive description of the system:\n\n1. **Main Components:**\n- **Summing Junction (+/-):** This block serves as the initial point where the input signal is mixed with the feedback signal, generating an 'error' signal, which is the disparity between the input and the feedback.\n- **H(s) Block:** This represents the \"open-loop\" transfer function, commonly an amplifier in the system. It processes the error signal to yield the system output.\n- **G(s) Block:** This block constitutes the feedback path and is typically a frequency-independent component. It processes a fraction of the output signal for feedback into the system.\n\n2. **Flow of Information or Control:**\n- The input signal enters the system and combines with the feedback signal at the summing junction, producing an error signal.\n- The error signal is then transmitted to the H(s) block, which amplifies or processes it to generate the output Y(s).\n- A portion of the output Y(s) is fed back into the system via the G(s) block, completing the feedback loop.\n- This feedback loop is essential for fine-tuning the system's performance by minimizing the error signal.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes annotations such as \"Error\" at the summing junction, highlighting the block's purpose.\n- The output is designated as Y(s), and the feedback path is clearly indicated with directional arrows, emphasizing the signal flow.\n\n4. **Overall System Function:**\n- The primary role of this feedback system is to control the output Y(s) by adjusting the influence of the feedback signal. The closed-loop transfer function \\( \\frac{H(s)}{1 + G(s)H(s)} \\) demonstrates how feedback impacts the system's gain and stability. The feedback mechanism contributes to error reduction, stability improvement, and the attainment of desired performance attributes in the output.\n\nFigure 8.2 Similarity between output of feedback network and input signal.\n\nWe refer to $H(s)$ as the \"open-loop\" transfer function and $Y(s) / X(s)$ as the \"closed-loop\" transfer function. In most scenarios discussed in this book, $H(s)$ symbolizes an amplifier and $G(s)$ is a frequency-independent entity. Essentially, a fraction of the output signal is detected and compared with the input, producing an error term. In a well-designed negative-feedback system, this error term is minimized, thereby rendering the output of $G(s)$ an accurate \"copy\" of the input, and thus the system output becomes a faithful (scaled) reproduction of the input (Fig. 8.2). We also assert that the input of $H(s)$ acts as a \"virtual ground\" due to the small signal amplitude at this point. In subsequent analyses, we substitute $G(s)$ with a frequency-independent quantity $\\beta$ and term it the \"feedback factor.\"\n\nIt is beneficial to identify four elements in the feedback system of Fig. 8.1: (1) the feedforward amplifier, (2) a mechanism for sensing the output, (3) the feedback network, and (4) a means for generating the feedback error, such as a subtractor (or an adder). These elements are present in every feedback system, though they may not be immediately apparent in simpler configurations like a basic common-source stage with resistive degeneration.\n```"
},
{
    "text": "Figure 8.1 illustrates a negative-feedback system, where $H(s)$ and $G(s)$ are termed the feedforward and feedback networks, respectively. Given that the output of $G(s)$ equals $G(s) Y(s)$, the input to $H(s)$, known as the feedback error, is expressed as $X(s) - G(s) Y(s)$. Consequently,\n\n$$\n\\begin{equation*}\nY(s) = H(s)[X(s) - G(s) Y(s)] \\tag{8.1}\n\\end{equation*}\n$$\n\nThus,\n\n$$\n\\begin{equation*}\n\\frac{Y(s)}{X(s)} = \\frac{H(s)}{1 + G(s) H(s)} \\tag{8.2}\n\\end{equation*}\n$$\n\nimage_name: Figure 8.1 General feedback system\ndescription: The block diagram in Figure 8.1 depicts a generic negative-feedback system. It comprises two primary components: the feedforward network, designated as \\( H(s) \\), and the feedback network, designated as \\( G(s) \\).\n\n1. **Main Components:**\n- **\\( H(s) \\):** This block signifies the open-loop transfer function, often an amplifier in many systems. It processes the input signal to produce the output \\( Y(s) \\).\n- **\\( G(s) \\):** This block represents the feedback network. It takes a portion of the output \\( Y(s) \\) and returns it to the input.\n\n2. **Flow of Information or Control:**\n- The input signal \\( X(s) \\) enters the system and combines with the feedback signal from \\( G(s) \\) at a summing junction, forming the feedback error.\n- The feedback error \\( (X(s) - G(s)Y(s)) \\) is then input into the \\( H(s) \\) block.\n- The output of \\( H(s) \\) is \\( Y(s) \\), which is the system's output.\n- A part of \\( Y(s) \\) is fed back through \\( G(s) \\), establishing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with plus and minus signs, indicating the subtraction of the feedback signal from the input signal.\n- The output of \\( H(s) \\) is labeled \\( Y(s) \\), and the input is labeled \\( X(s) \\).\n\n4. **Overall System Function:**\n- The main function of this system is to regulate the output \\( Y(s) \\) by modulating the impact of the feedback signal. The closed-loop transfer function of the system is \\( \\frac{H(s)}{1 + G(s)H(s)} \\), illustrating how feedback influences the overall gain and stability. The feedback aids in minimizing errors, enhancing stability, and attaining desired performance traits in the output.\n\nFigure 8.1 General feedback system.\nimage_name: Figure 8.1 General feedback system\ndescription: The system block diagram labeled \"Figure 8.1 General feedback system\" exemplifies a standard feedback control system. Here is a detailed breakdown of the system:\n\n1. **Main Components:**\n- **Summing Junction (+/-):** This block serves as the initial point where the input signal merges with the feedback signal, producing an 'error' signal, which is the difference between the input and the feedback.\n- **H(s) Block:** This represents the \"open-loop\" transfer function, commonly an amplifier in the system. It processes the error signal to generate the system output.\n- **G(s) Block:** This block is part of the feedback path and typically a frequency-independent component. It processes a segment of the output signal for feedback.\n\n2. **Flow of Information or Control:**\n- The input signal enters the system and combines with the feedback signal at the summing junction, creating an error signal.\n- The error signal is then fed to the H(s) block, which amplifies or processes it to yield the output Y(s).\n- A portion of the output Y(s) is returned to the system through the G(s) block, completing the feedback loop.\n- This feedback loop is essential for fine-tuning the system's performance by reducing the error signal.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The diagram includes key annotations such as \"Error\" at the summing junction, highlighting the block's purpose.\n- The output is marked as Y(s), and the feedback path is clearly indicated with directional arrows, emphasizing the signal flow.\n\n4. **Overall System Function:**\n- The primary role of this feedback system is to control the output Y(s) by adjusting the feedback signal's influence. The closed-loop transfer function \\( \\frac{H(s)}{1 + G(s)H(s)} \\) shows how feedback impacts the system's gain and stability. The feedback mechanism contributes to error reduction, stability enhancement, and achieving desired output performance characteristics.\n\nFigure 8.2 Similarity between output of feedback network and input signal.\n\nWe refer to $H(s)$ as the \"open-loop\" transfer function and $Y(s) / X(s)$ as the \"closed-loop\" transfer function. In most scenarios discussed in this book, $H(s)$ symbolizes an amplifier, and $G(s)$ is a frequency-independent entity. Essentially, a fraction of the output signal is sensed and compared with the input, generating an error term. In a well-designed negative-feedback system, this error term is minimized, making the output of $G(s)$ an accurate \"copy\" of the input, thereby ensuring the system output is a faithful (scaled) reproduction of the input (Fig. 8.2). Additionally, the input of $H(s)$ is termed a \"virtual ground\" due to the small signal amplitude at this point. In further discussions, we substitute $G(s)$ with a frequency-independent quantity $\\beta$, known as the \"feedback factor.\"\n\nIt is beneficial to identify four elements in the feedback system of Fig. 8.1: (1) the feedforward amplifier, (2) a mechanism for sensing the output, (3) the feedback network, and (4) a means of generating the feedback error, such as a subtractor (or adder). These elements are present in every feedback system, though they may not be immediately apparent in simpler configurations like a common-source stage with resistive degeneration."
},
{
    "text": "We will first explore some basic examples that demonstrate the advantages of incorporating negative feedback before diving into the analysis of feedback circuits.\n\n**Gain Gain Desensitization**\n Consider the standard-source amplifier depicted in Fig. 8.3(a), where the voltage gain is expressed as $g_{m1} r_{O1}$. A significant disadvantage\nTo weving into the analysis of feedback circuits, we will first\nBefore delving into the analysis of feedback circuits, we will explore some simple examples to illustrate the advantages of incorporating\nBefore delving into the analysis of feedback circuits, we will explore some fundamental examples to illustrate the advantages of incorporating negative feedback. Consider the common-source stage shown\nBefore delving into the analysis of feedback circuits, we will explore some fundamental examples to illustrate the advantages of incorporating negative feedback. Consider the common-source stage depicted in Fig. 8.3(a), where the voltage gain is given as $g_{m1} r_{O1}$. A significant drawback of this circuit is the poor definition of the gain, as both $g_{m1}$ and $r_{O1}$ are subject to variations with process and temperature. Now, suppose the circuit is configured as in Fig. 8.3(b), where the gate bias of $M_{$ is set by means not shown here (refer to Chapter 13). Let's calculate the overall voltage gain of the circuit at relatively low frequencies, such that $C2$ draws a negligible (small-signal) current from the output node, i.e., $V_{out} / V_{X}=- -g_{m1} r_{O1}$ because the entire drain current flows through $r_{O1}$. Since $(V_{out} - V_{X}) C2 s = (V_{X} - V_{in}) C1 s$, we have:\n\n$$\n\\frac{V_{out}}{V_{in}} = -\\frac{1}{\\left(1+\\frac{1}{g_{m1} r_{O1}}\\right) \\frac{C2}{C1} + \\frac{1}{g_{m1} r_{O1}}} \\tag{8.3}\n$$\n\nIf $g_{m1} r_{O1}$ is sufficiently large, the $1 / (g_{m1} r_{O1})$ terms in the denominator can be neglected, yielding:\n\n$$\n\\frac{V_{out}}{V_{in}} = -\\frac{C1}{C2} \\tag{8.4}\n$$\n\nCompared to $g_{m1} r_{O1}$, this gain can be controlled with much higher accuracy because it is determined by the ratio of two capacitors. If $C1$ and $C2$ are made of the same material, then process and temperature variations do not alter $C1 / C2$.\n\nThe above example demonstrates that negative feedback provides gain \"desensitization,\" meaning the closed-loop gain is less sensitive to device parameters than the open-loop gain. One might also say that negative feedback \"stabilizes\" the gain, thereby \"improving stability.\" However, this terminology may be confused with frequency stability (discussed in Chapter 10), which typically deteriorates as a result of negative feedback. Gain desensitization can be quantified for a more general case as shown in Fig. 8.4:\n\n$$\n\\frac{Y}{X} = \\frac{A}{1+\\beta A} \\tag{8.5}\n$$\n\nAssuming $\\beta A \\gg 1$, we can approximate:\n\n$$\n\\frac{Y}{X} \\approx \\frac{1}{\\beta}\\left(1-\\frac{1}{\\beta A}\\right) \\tag{8.6}\n$$\n\nHere, we note that the closed-loop gain is primarily determined by the feedback factor, $\\beta$. Importantly, even if the open-loop gain, $A$, varies by a factor of, say, 2, $Y / X$ varies by only a small percentage because $1 / (\\beta A) \\ll 1$.\n\nThe \"loop gain,\" denoted as $\\beta A$, plays a crucial role in feedback systems. From equation (8.6), we observe that the higher $\\beta A$ is, the less sensitive $Y / X$ will be to variations in $A$. From another perspective, the accuracy of the closed-loop gain improves by maximizing $\\beta A$. Note that as $\\beta$ increases, the closed-loop gain, $Y / X \\approx 1 / \\beta$, decreases, indicating a trade-off between precision and the closed-loop gain. In other words, we start with a high-gain amplifier and apply feedback to achieve a lower, but less sensitive, closed-loop gain. Another conclusion is that the output of the feedback network is equal to $\\beta Y = X \\cdot \\beta A / (1+\\beta A)$, which approaches $X$ as $\\beta A$ becomes much greater than unity.\n\nThe calculation of the loop gain can be performed as follows. As illustrated in Fig. 8.5, we set the main input to zero, break the loop at some point, inject a test signal in the correct direction, follow the signal around the loop, and obtain the value that returns to the break point. The negative of the transfer function thus derived is the loop gain. Note that the loop gain is a dimensionless quantity.\n\nIn Fig. 8.5, we have $V_t \\beta(-1) A = V_F$ and hence $V_F / V_t = -\\beta A$. Similarly, as depicted in Fig. 8.6 for the simple feedback circuit, we can write $V_X = V_t C2 / (C1 + C2)$ and\n\n$$\nV_t \\frac{C2}{C1 + C2} (-g_{m1} r_{O1}) = V_F \\tag{8.7}\n$$\n\nTherefore,\n\n$$\n\\frac{V_F}{V_t} = -\\frac{C2}{C1 + C2} g_{m1} r_{O1} \\tag{8.8}\n$$\n\nNote that the current drawn by $C2$ from the output is neglected here. This issue will be addressed in Sec. 8.5.\n\n#### Example 8.1\n\nDetermine the loop gain for the feedback common-gate stage shown in Fig. 8.7(a).\n\n#### Solution\n\nTo compute the loop gain, we must first set the main input to zero, arriving at the arrangement shown in Fig. 8.7(b). Redrawing the circuit as in Fig. 8.7(c), we recognize that this topology is identical to the CS stage of Fig. 8.3(b) with $V_{in} = 0$. The loop gain is therefore given by Eq. (8.8).\n\nThe important point here is that, when computing the loop gain, we no longer know where the main input and output terminals are. Thus, seemingly different circuit topologies may have the same loop gain.\n\nWe should emphasize that the desensitization of gain by feedback leads to many other properties of feedback systems. Our examination of Eq. (8.6) indicates that large variations in $A$ affect $Y / X$ negligibly if $\\beta A$ is large. Such variations can arise from different sources: process, temperature, frequency, and loading. For example, if $A$ drops at high frequencies, $Y / X$ varies to a lesser extent, and the bandwidth is increased. Similarly, if $A$ decreases because the amplifier drives a heavy load, $Y / X$ is not affected much. These concepts become clearer below.\n\n#### Terminal Impedance Modification\n\nAs a second example, let us study the circuit shown in Fig. 8.8(a), where a capacitive voltage divider senses the output voltage of a common-gate stage, applying the result to the gate of current source $M2$ and hence returning a signal to the input. Our objective is to compute the input resistance at relatively low frequencies with and without feedback. Neglecting channel-length modulation and the current drawn by $C1$, we break the feedback loop as shown in Fig. 8.8(b) and write:\n\n$$\nR_{in, \\text{open}} = \\frac{1}{g_{m1} + g_{mb1}} \\tag{8.9}\n$$\n\nFor the closed-loop circuit, as depicted in Fig. 8.8(c), we write $V_{out} = (g_{m1} + g_{mb1}) V_X R_D$ and:\n\n$$\nV_P = V_{out} \\frac{C1}{C1 + C2} \\tag{8.10}\n$$\n\n$$\nV_P = (g_{m1} + g_{mb1}) V_X R_D \\frac{C1}{C1 + C2} \\tag{8.11}\n$$\n\nThus, the small-signal drain current of $M2$ equals $g_{m2}(g_{m1} + g_{mb1}) V_X R_D C1 / (C1 + C2)$. Adding this current to the drain current of $M1$ with proper polarity yields $I_X$:\n\n$$\nI_X = (g_{m1} + g_{mb1}) V_X + g_{m2}(g_{m1} + g_{mb1}) \\frac{C1}{C1 + C2} R_D V_X \\tag{8.12}\n$$\n\n$$\nI_X = (g_{m1} + g_{mb1})(1 + g_{m2} R_D \\frac{C1}{C1 + C2}) V_X \\tag{8.13}\n$$\n\nIt follows that:\n\n$$\nR_{in,\\text{closed}} = V_X / I_X \\tag{8.14}\n$$\n\n$$\nR_{in,\\text{closed}} = \\frac{1}{g_{m1} + g_{mb1}} \\frac{1}{1 + g_{m2} R_D \\frac{C1}{C1 + C2}} \\tag{8.15}\n$$\n\nWe therefore conclude that this type of feedback reduces the input resistance by a factor of $1 + g_{m2} R_D C1 / (C1 + C2)$. The reader can prove that the quantity $g_{m2} R_D C1 / (C1 + C2)$ is the loop gain.\n\nLet us now consider the circuit of Fig. 8.9(a) as an example of output impedance modification by feedback. Here $M1, R_S$, and $R_D$ constitute a common-source stage, and $C1, C2$, and $M2$ sense the output voltage, returning a current equal to $[C1 / (C1 + C2)] V_{out} g_{m2}$ to the source of $M1$. The reader can prove that the feedback is indeed negative. To compute the output resistance at relatively low frequencies, we set the input to zero [Fig. 8.9(b)] and write:\n\n$$\nI_{D1} = V_X \\frac{C1}{C1 + C2} g_{m2} \\frac{R_S}{R_S + \\frac{1}{g_{m1} + g_{mb1}}} \\tag{8.16}\n$$\n\nSince $I_X = V_X / R_D + I_{D1}$, we have:\n\n$$\n\\frac{V_X}{I_X} = \\frac{R_D}{1 + \\frac{g_{m2} R_S (g_{m1} + g_{mb1}) R_D}{(g_{m1} + g_{mb1}) R_S + 1} \\frac{C1}{C1 + C2}} \\tag{8.17}\n$$\n\nEquation (8.17) implies that this type of feedback decreases the output resistance. The denominator of (8.17) is indeed equal to one plus the loop gain.\n\n#### Bandwidth Modification\n\nThe next example illustrates the effect of negative feedback on the bandwidth. Suppose the feedforward amplifier has a one-pole transfer function:\n\n$$\nA(s) = \\frac{A_0}{1 + \\frac{s}{\\omega_0}} \\tag{8.18}\n$$\n\nwhere $A_0$ denotes the low-frequency gain and $\\omega_0$ is the 3-dB bandwidth. What is the transfer function of the closed-loop system? From (8.5), we have:\n\n$$\n\\frac{Y}{X}(s) = \\frac{\\frac{A_0}{1 + \\frac{s}{\\omega_0}}}{1 + \\beta \\frac{A_0}{1 + \\frac{s}{\\omega_0}}} \\tag{8.19}\n$$\n\n$$\n\\frac{Y}{X}(s) = \\frac{A_0}{1 + \\beta A_0 + \\frac{s}{\\omega_0}} \\tag{8.20}\n$$\n\n$$\n\\frac{Y}{X}(s) = \\frac{\\frac{A_0}{1 + \\beta A_0}}{1 + \\frac{s}{(1 + \\beta A_0) \\omega_0}} \\tag{8.21}\n$$\n\nThe numerator of (8.21) is simply the closed-loop gain at low frequencies—as predicted by (8.5)—and the denominator reveals a pole at $(1 + \\beta A_0) \\omega_0$. Thus, the 3-dB bandwidth has increased by a factor of $1 + \\beta A_0$, albeit at the cost of a proportional reduction in the gain (Fig. 8.10).\n\nThe increase in the bandwidth fundamentally originates from the gain desensitization property of feedback. Recall from (8.6) that, if $A$ is large enough, the closed-loop gain remains approximately equal to $1 / \\beta$ even if $A$ experiences substantial variations. In the example of Fig. 8.10, $A$ varies with frequency rather than process or temperature, but negative feedback still suppresses the effect of this variation. Of course, at high frequencies, $A$ drops to such low levels that $\\beta A$ becomes comparable with unity, and the closed-loop gain falls below $1 / \\beta$.\n\nEquation (8.21) suggests that the \"gain-bandwidth product\" of a one-pole system is equal to $A_0 \\omega_0$ and does not change much with feedback, making one wonder how feedback improves the speed if a high gain is required. Suppose we need to amplify a 20-MHz square wave by a factor of 100 and maximum bandwidth, but we have only a single-pole amplifier with an open-loop gain of 100 and 3-dB bandwidth of 10 MHz. If the input is applied to the open-loop amplifier, the response appears as shown in Fig. 8.11(a), exhibiting a long risetime and falltime because the time constant is equal to $1 / (2 \\pi f_{3-\\text{dB}}) \\approx 16 \\text{ ns}$.\n\nNow suppose we apply feedback to the amplifier such that the gain and bandwidth are modified to 10 and 100 MHz, respectively. Placing two of these amplifiers in a cascade [Fig. 8.11(b)], we obtain a much faster response with an overall gain of 100. Of course, the cascade consumes twice as much power, but it would be quite difficult to achieve this performance with the original amplifier even if its power dissipation were doubled.\n\n#### Nonlinearity Reduction\n\nAn important property of negative feedback is the reduction of nonlinearity in analog circuits. A nonlinear characteristic is one that departs from a straight line, i.e., one whose slope varies (Fig. 8.12). A familiar example is the input-output characteristic of differential pairs. Note that the slope can be viewed as the small-signal gain. We predict that, even though the gain of an open-loop amplifier varies from $A_1$ to $A_2$ in Fig. 8.12, a closed-loop feedback system incorporating such an amplifier exhibits less gain variation and hence higher linearity. To quantify this effect, we note that the open-loop gain ratio between regions 1 and 2 in Fig. 8.12 is equal to:\n\n$$\nr_{\\text{open}} = \\frac{A_2}{A_1} \\tag{8.22}\n$$\n\nFor example, $r_{\\text{open}} = 0.9$ means that the gain falls by 10% from region 1 to region 2. Assuming $A_2 = A_1 - \\Delta A$, we can write:\n\n$$\nr_{\\text{open}} = 1 - \\frac{\\Delta A}{A_1} \\tag{8.23}\n$$\n\nLet us place this amplifier in a negative-feedback loop. For the closed-loop gain ratio, we have:\n\n$$\nr_{\\text{closed}} = \\frac{\\frac{A_2}{1+\\beta A_2}}{\\frac{A_1}{1+\\beta A_1}} \\tag{8.24}\n$$\n\n$$\nr_{\\text{closed}} = \\frac{1+\\frac{1}{\\beta A_1}}{1+\\frac{1}{\\beta A_2}} \\tag{8.25}\n$$\n\nIt follows that:\n\n$$\nr_{\\text{closed}} \\approx 1 - \\frac{\\frac{1}{\\beta A_2} - \\frac{1}{\\beta A_1}}{1+\\frac{1}{\\beta A_2}} \\tag{8.26}\n$$\n\n$$\nr_{\\text{closed}} \\approx 1 - \\frac{A_1 - A_2}{1+\\beta A_2} \\frac{1}{A_1} \\tag{8.27}\n$$\n\n$$\nr_{\\text{closed}} \\approx 1 - \\frac{\\Delta A}{1+\\beta A_2} \\frac{1}{A_1} \\tag{8.28}\n$$\n\nComparison of (8.23) and (8.28) suggests that the gain ratio is much closer to 1 in the latter if the loop gain, $1+\\beta A_2$, is large.\n\nWe study nonlinearity and its behavior in feedback systems more extensively in Chapter 14."
},
{
    "text": "We explore the advantages of negative feedback through simple examples before diving into the analysis of feedback circuits.\n\nConsider the common-source stage depicted in Fig. 8.3(a), where the voltage gain is given by \\( g_{m1} r_{O1} \\). One major issue with this circuit is the gain's lack of precision, as both \\( g_{m1} \\) and \\( r_{O1} \\) are subject to process and temperature variations. Now, let's examine the circuit in Fig. 8.3(b), where the gate bias of \\( M1 \\) is determined by factors not detailed here (refer to Chapter 13). We'll calculate the circuit's overall voltage gain at frequencies low enough for \\( C2 \\) to draw an insignificant small-signal current from the output node, meaning \\( V_{out} / V_{X} = -g_{m1} r_{O1} \\) since the entire drain current flows through \\( r_{O1} \\). As \\( (V_{out} - V_{X}) C2 s = (V_{X} - V_{in}) C1 s \\), we obtain:\n\n\\[\n\\frac{V_{out}}{V_{in}} = -\\frac{1}{\\left(1+\\frac{1}{g_{m1} r_{O1}}\\right) \\frac{C2}{C1} + \\frac{1}{g_{m1} r_{O1}}} \\tag{8.3}\n\\]\n\nIn the context of Fig. 8.3(a), we have a simple common-source amplifier stage featuring an NMOS transistor (M1) and a current source (I1) as the load. The input is applied to M1's gate, and the output is taken from the drain, which is connected to the current source I1.\n\nIn Fig. 8.3(b), the circuit is a common-source amplifier with feedback, incorporating capacitors C1 and C2 to control the gain by the ratio of the capacitors. The current source I1 provides biasing.\n\nWhen \\( g_{m1} r_{O1} \\) is large enough, the \\( 1/(g_{m1} r_{O1}) \\) terms in the denominator can be ignored, leading to:\n\n\\[\n\\frac{V_{out}}{V_{in}} = -\\frac{C1}{C2} \\tag{8.4}\n\\]\n\nCompared to \\( g_{m1} r_{O1} \\), this gain can be controlled with much higher precision because it is determined by the ratio of two capacitors. If \\( C1 \\) and \\( C2 \\) are made of the same material, then process and temperature variations do not alter \\( C1/C2 \\).\n\nThis example demonstrates that negative feedback offers gain \"desensitization,\" meaning the closed-loop gain is less affected by device parameters than the open-loop gain. Some might say that negative feedback \"stabilizes\" the gain, thus \"improving stability.\" However, this terminology might be misleading, as frequency stability (Chapter 10) often deteriorates due to negative feedback.\n\nGain desensitization is illustrated in a more general case in Fig. 8.4 and can be quantified as follows:\n\n\\[\n\\frac{Y}{X} = \\frac{A}{1+\\beta A} \\tag{8.5}\n\\]\n\\[\n\\approx \\frac{1}{\\beta}\\left(1-\\frac{1}{\\beta A}\\right) \\tag{8.6}\n\\]\n\nwhere we assume \\( \\beta A \\gg 1 \\). We observe that the closed-loop gain is primarily determined by the feedback factor, \\( \\beta \\). Importantly, even if the open-loop gain, \\( A \\), varies significantly, \\( Y/X \\) changes by only a small percentage because \\( 1/(\\beta A) \\ll 1 \\).\n\nIn Fig. 8.4, the block diagram labeled \"Figure 8.4 Simple feedback system\" represents a fundamental feedback control system. It includes the following key components:\n\n1. **Summing Junction (+/-):** This is the starting point where the input signal, X, is introduced. The summing junction combines the input signal X with the feedback signal (with subtraction, indicated by the negative sign) to produce an error signal.\n\n2. **Amplifier (A):** The error signal from the summing junction is fed into an amplifier with gain A. This block amplifies the error signal, and its output is the amplified signal.\n\n3. **Output (Y):** The amplified signal from the amplifier is considered the system's output, Y.\n\n4. **Feedback Path (β):** The output Y is fed back into the system through a feedback path that includes a block with a gain factor β. This feedback path takes a portion of the output signal and returns it to the summing junction, where it is subtracted from the input signal X.\n\n**Flow of Information:**\n- The input signal X enters the summing junction.\n- The feedback signal, derived from the output Y and scaled by β, is subtracted from X at the summing junction.\n- The resulting error signal is amplified by the amplifier with gain A.\n- The amplified signal is the output Y, which is also fed back into the system through the feedback path.\n\n**Overall System Function:**\nThis system exemplifies a negative feedback loop, where the output is fed back into the input to minimize the error signal. The primary function of this system is to stabilize the output Y against variations in the open-loop gain A by adjusting the feedback factor β. This configuration helps maintain a consistent closed-loop gain, making Y/X less sensitive to changes in A, thereby enhancing system accuracy and stability.\n\nCalled the \"loop gain,\" the quantity \\( \\beta A \\) plays a crucial role in feedback systems. We see from (8.6) that the higher \\( \\beta A \\) is, the less sensitive \\( Y/X \\) will be to variations in \\( A \\). From another perspective, maximizing \\( \\beta A \\) improves the accuracy of the closed-loop gain. Note that as \\( \\beta \\) increases, the closed-loop gain, \\( Y/X \\approx 1/\\beta \\), decreases, indicating a trade-off between precision and the closed-loop gain. In other words, we start with a high-gain amplifier and apply feedback to achieve a lower, but less sensitive, closed-loop gain. Another conclusion here is that the output of the feedback network is \\( \\beta Y = X \\cdot \\beta A / (1+\\beta A) \\), approaching X as \\( \\beta A \\) becomes much greater than unity. This result aligns with the illustration in Fig. 8.2.\n\nThe loop gain calculation can proceed as follows. As shown in Fig. 8.5, we set the main input to zero, break the loop at some point, inject a test signal in the \"right direction,\" follow the signal around the loop, and obtain the value that returns to the break point. The negative of the transfer function thus derived is the loop gain. Note that the loop gain is a dimensionless quantity. In Fig. 8.5, we have \\( V_{t} \\beta(-1) A = V_{F} \\) and hence \\( V_{F}/V_{t} = -\\beta A \\). Similarly, as depicted in Fig. 8.6, for the simple feedback circuit, we can write \\( V_{X} = V_{t} C_{2} / (C_{1}+C_{2}) \\) and\n\n\\[\n\\begin{equation*}\nV_{t} \\frac{C_{2}}{C_{1}+C_{2}}(-g_{m1} r_{O1}) = V_{F} \\tag{8.7}\n\\end{equation*}\n\\]\n\nThis implies\n\n\\[\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} = -\\frac{C_{2}}{C_{1}+C_{2}} g_{m1} r_{O1} \\tag{8.8}\n\\end{equation*}\n\\]\n\nIt should be noted that the current drawn by \\( C_{2} \\) from the output is neglected here. This issue will be addressed in Sec. 8.5.\n\n#### Example 8.1\n\nDetermine the loop gain for the feedback common-gate stage shown in Fig. 8.7(a).\n\n(a)\n\nThe circuit is a feedback common-gate stage with an NMOS transistor M1. The feedback voltage is taken across M1, and the loop gain is determined by the capacitors C1 and C2. The input voltage is applied at Vin, and the output is at Vout.\n\n(b)\n\nThe circuit is a feedback common-gate stage with an NMOS transistor M1. The feedback voltage is taken across M1, and the loop gain is determined by the capacitors C1 and C2. The input voltage is applied at Vin, and the output is at Vout.\n\n(c)\n\nFigure 8.7\n\n#### Solution\n\nTo compute the loop gain, we must first set the main input to zero, resulting in the arrangement shown in Fig. 8.7(b). Redrawing the circuit as in Fig. 8.7(c), we recognize that this topology is identical to the CS stage of Fig. 8.3(b) with \\( V_{in} = 0 \\). The loop gain is therefore given by Eq. (8.8).\n\nThe important point here is that, when computing the loop gain, we no longer know where the main input and output terminals are. Thus, seemingly different circuit topologies may have the same loop gain.\n\nWe should emphasize that the desensitization of gain by feedback leads to many other properties of feedback systems. Our examination of Eq. (8.6) indicates that large variations in \\( A \\) affect \\( Y/X \\) negligibly if \\( \\beta A \\) is large. Such variations can arise from different sources: process, temperature, frequency, and loading. For example, if \\( A \\) drops at high frequencies, \\( Y/X \\) varies to a lesser extent, and the bandwidth is increased. Similarly, if \\( A \\) decreases because the amplifier drives a heavy load, \\( Y/X \\) is not affected much. These concepts become clearer below.\n\nTerminal Impedance Modification As a second example, let us study the circuit shown in Fig. 8.8(a), where a capacitive voltage divider senses the output voltage of a common-gate stage, applying the result to the gate of current source \\( M_{2} \\) and hence returning a signal to the input. Our objective is to compute the input resistance at relatively low frequencies with and without feedback. Neglecting channellength modulation and the current drawn by \\( C_{1} \\), we break the feedback loop as shown in Fig. 8.8(b) and write\n\n\\[\n\\begin{equation*}\nR_{in, \\text {open }} = \\frac{1}{g_{m1}+g_{mb1}} \\tag{8.9}\n\\end{equation*}\n\\]\n\nFor the closed-loop circuit, as depicted in Fig. 8.8(c), we write \\( V_{out} = (g_{m1}+g_{mb1}) V_{X} R_{D} \\) and\n\n\\[\nV_{P} = V_{out} \\frac{C_{1}}{C_{1}+C_{2}} \\tag{8.10}\n\\]\n\\[\n= (g_{m1}+g_{mb1}) V_{X} R_{D} \\frac{C_{1}}{C_{1}+C_{2}} \\tag{8.11}\n\\]\n\nThus, the small-signal drain current of \\( M_{2} \\) equals \\( g_{m2}(g_{m1}+g_{mb1}) V_{X} R_{D} C_{1} / (C_{1}+C_{2}) \\). Adding this current to the drain current of \\( M_{1} \\) with proper polarity yields \\( I_{X} \\):\n\n\\[\nI_{X} = (g_{m1}+g_{mb1}) V_{X} + g_{m2}(g_{m1}+g_{mb1}) \\frac{C_{1}}{C_{1}+C_{2}} R_{D} V_{X} \\tag{8.12}\n\\]\n\\[\n= (g_{m1}+g_{mb1})\\left(1+g_{m2} R_{D} \\frac{C_{1}}{C_{1}+C_{2}}\\right) V_{X} \\tag{8.13}\n\\]\n\nIt follows that\n\n\\[\nR_{in, \\text {closed }} = \\frac{V_{X}}{I_{X}} \\tag{8.14}\n\\]\n\\[\n= \\frac{1}{g_{m1}+g_{mb1}} \\frac{1}{1+g_{m2} R_{D} \\frac{C_{1}}{C_{1}+C_{2}}} \\tag{8.15}\n\\]\n\nWe therefore conclude that this type of feedback reduces the input resistance by a factor of \\( 1+g_{m2} R_{D} C_{1} / (C_{1}+C_{2}) \\). The reader can prove that the quantity \\( g_{m2} R_{D} C_{1} / (C_{1}+C_{2}) \\) is the loop gain.\n\nLet us now consider the circuit of Fig. 8.9(a) as an example of output impedance modification by feedback. Here \\( M_{1}, R_{S} \\), and \\( R_{D} \\) constitute a common-source stage, and \\( C_{1}, C_{2} \\), and \\( M_{2} \\) sense the output voltage, returning a current equal to \\( [C_{1} / (C_{1}+C_{2})] V_{out} g_{m2} \\) to the source of \\( M_{1} \\). The reader can prove that the feedback is indeed negative. To compute the output resistance at relatively low frequencies, we set the input to zero [Fig. 8.9(b)] and write\n\n\\[\n\\begin{equation*}\nI_{D1} = V_{X} \\frac{C_{1}}{C_{1}+C_{2}} g_{m2} \\frac{R_{S}}{R_{S}+\\frac{1}{g_{m1}+g_{mb1}}} \\tag{8.16}\n\\end{equation*}\n\\]\n\nSince \\( I_{X} = V_{X} / R_{D} + I_{D1} \\), we have\n\n\\[\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}} = \\frac{R_{D}}{1+\\frac{g_{m2} R_{S}(g_{m1}+g_{mb1}) R_{D}}{(g_{m1}+g_{mb1}) R_{S}+1} \\frac{C_{1}}{C_{1}+C_{2}}} \\tag{8.17}\n\\end{equation*}\n\\]\n\nEquation (8.17) implies that this type of feedback decreases the output resistance. The denominator of (8.17) is indeed equal to one plus the loop gain.\n\nBandwidth Modification. The next example illustrates the effect of negative feedback on the bandwidth. Suppose the feedforward amplifier has a one-pole transfer function:\n\n\\[\n\\begin{equation*}\nA(s) = \\frac{A_{0}}{1+\\frac{s}{\\omega_{0}}} \\tag{8.18}\n\\end{equation*}\n\\]\n\nwhere \\( A_{0} \\) denotes the low-frequency gain and \\( \\omega_{0} \\) is the \\( 3-\\mathrm{dB} \\) bandwidth. What is the transfer function of the closed-loop system? From (8.5), we have\n\n\\[\n\\begin{align*}\n\\frac{Y}{X}(s) & = \\frac{\\frac{A_{0}}{1+\\frac{s}{\\omega_{0}}}}{1+\\beta \\frac{A_{0}}{1+\\frac{s}{\\omega_{0}}}} \\tag{8.19}\\\\\n& = \\frac{A_{0}}{1+\\beta A_{0}+\\frac{s}{\\omega_{0}}} \\tag{8.20}\\\\\n& = \\frac{\\frac{A_{0}}{1+\\beta A_{0}}}{1+\\frac{s}{(1+\\beta A_{0}) \\omega_{0}}} \\tag{8.21}\n\\end{align*}\n\\]\n\nThe numerator of (8.21) is simply the closed-loop gain at low frequencies-as predicted by (8.5)-and the denominator reveals a pole at \\( (1+\\beta A_{0}) \\omega_{0} \\). Thus, the \\( 3-\\mathrm{dB} \\) bandwidth has increased by a factor of \\( 1+\\beta A_{0} \\), albeit at the cost of a proportional reduction in the gain (Fig. 8.10).\n\nThe increase in the bandwidth fundamentally originates from the gain desensitization property of feedback. Recall from (8.6) that, if \\( A \\) is large enough, the closed-loop gain remains approximately equal to \\( 1/\\beta \\) even if \\( A \\) experiences substantial variations. In the example of Fig. 8.10, \\( A \\) varies with frequency rather than process or temperature, but negative feedback still suppresses the effect of this variation. Of course, at high frequencies, \\( A \\) drops to such low levels that \\( \\beta A \\) becomes comparable with unity, and the closed-loop gain falls below \\( 1/\\beta \\).\n\nEquation (8.21) suggests that the \"gain-bandwidth product\" of a one-pole system is equal to \\( A_{0} \\omega_{0} \\) and does not change much with feedback, making the reader wonder how feedback improves the speed if a high gain is required. Suppose we need to amplify a 20-MHz square wave by a factor of 100 and maximum bandwidth, but we have only a single-pole amplifier with an open-loop gain of 100 and \\( 3-\\mathrm{dB} \\) bandwidth of 10 MHz. If the input is applied to the open-loop amplifier, the response appears as shown in Fig. 8.11(a), exhibiting a long risetime and falltime because the time constant is equal to \\( 1/(2 \\pi f_{3-\\mathrm{dB}}) \\approx 16 \\mathrm{~ns} \\).\n\nNow suppose we apply feedback to the amplifier such that the gain and bandwidth are modified to 10 and 100 MHz, respectively. Placing two of these amplifiers in a cascade [Fig. 8.11(b)], we obtain a much faster response with an overall gain"
},
{
    "text": "In exploring the advantages of negative feedback in electronic circuits, we begin by examining simple circuits to illustrate the concept of gain desensitization. Consider a basic common-source amplifier stage, as depicted in Figure 8.3(a), where the voltage gain is expressed as $g_{m1} r_{O1}$. A significant disadvantage of this configuration is the uncertainty in gain due to the variability of both $g_{m1}$ and $r_{O1}$ with process and temperature fluctuations\nTo explore the benefits of negative feedback, we first look at simple circuits that demonstrate gain desensitization. Take, for instance, the common-source amplifier stage shown in Figure 8.3(a), where the voltage gain is given by $g_{m1} r_{O1}$. A major drawback of this setup is the unpredictable nature of the gain, as both $g_{m1}$ and $r_{O1}$ are subject to change with process and temperature fluctuations."
},
{
    "text": "In exploring the principles underlying feedback circuits, we initially examine straightforward examples that elucidate the advantages of incorporating negative feedback. \n\nTo illustrate the concept of gain desensitization, consider the common-source amplifier configuration depicted in Fig. 8.3(a), where the voltage gain is determined by the product of \\( g_{m1} \\) and \\( r_{O1} \\). A significant disadvantage of this setup is the indeterminate nature of the gain, as both \\( g_{m1} \\) and \\( r_{O1} \\) are subject to fluctuations with process variations and temperature changes. Now, consider the modified circuit shown in Fig. 8.3(b), where the gate bias of transistor \\( M1 \\) is stabilized by a method not detailed in this discussion (further explained in Chapter 13). Let's compute the total voltage gain of this circuit at frequencies low enough for capacitor \\( C2 \\) to draw an insignificant small-signal current from the output node, which simplifies to \\( V_{out} / V_{X} = -g_{m1} r_{O1} \\) because the entire drain current flows through \\( r_{O1} \\). Given the relationship \\( (V_{out} - V_{X}) C2 s = (V_{X} - V_{in}) C1 s \\), we derive the expression:\n\n$$\n\\frac{V_{out}}{V_{in}} = -\\frac{1}{\\left(1+\\frac{1}{g_{m1} r_{O1}}\\right) \\frac{C2}{C1} + \\frac{1}{g_{m1} r_{O1}}}\n$$\n\nThe images and their descriptions provided offer a visual representation of the circuits in question, detailing the components and their interconnections.\n\nWhen \\( g_{m1} r_{O1} \\) is sufficiently high, the terms \\( 1 / (g_{m1} r_{O1}) \\) in the denominator can be disregarded, leading to a simplified gain expression:\n\n$$\n\\frac{V_{out}}{V_{in}} = -\\frac{C1}{C2}\n$$\n\nThis gain, determined by the capacitors' ratio, can be adjusted with greater precision compared to \\( g_{m1} r_{O1} \\). If \\( C1 \\) and \\( C2 \\) are fabricated from the same material, variations in process and temperature will not alter the ratio \\( C1 / C2 \\).\n\nThis example demonstrates that negative feedback brings about gain desensitization, meaning the closed-loop gain is less susceptible to fluctuations in device parameters than the open-loop gain. It can also be said that negative feedback stabilizes the gain, thereby enhancing stability. However, this terminology should not be confused with frequency stability, a topic discussed in Chapter 10, as negative feedback typically leads to a decline in frequency stability.\n\nThe block diagram in Fig. 8.4 represents a generalized feedback system, illustrating the flow of information and the system's overall function. It consists of a summing junction, an amplifier, an output, and a feedback path. The loop gain, denoted as \\( \\beta A \\), is a critical factor in feedback systems. A higher \\( \\beta A \\) results in \\( Y / X \\) being less sensitive to variations in \\( A \\). Maxi"
},
{
    "text": "In our exploration of feedback circuits, we first examine straightforward examples to understand the advantages of negative feedback.\n\n**Gain Desensitization**: Consider the common-source stage depicted in Fig. 8.3(a), where the voltage gain is given by \\( g_{m1} r_{O1} \\). A significant issue with this circuit is the uncertain gain definition: both \\( g_{m1} \\) and \\( r_{O1} \\) fluctuate with process and temperature variations. Now, consider the circuit in Fig. 8.3(b), where the gate bias of \\( M1 \\) is set by methods not shown here (refer to Chapter 13). Let's determine the overall voltage gain of the circuit at relatively low frequencies, where \\( C2 \\) draws an insignificant (small-signal) current from the output node, i.e., \\( V_{out} / V_{X} = -g_{m1} r_{O1} \\) because the entire drain current flows through \\( r_{O1} \\). Since \\( (V_{out} - V_{X}) C2 s = (V_{X} - V_{in}) C1 s \\), we derive the equation:\n\n\\[\n\\frac{V_{out}}{V_{in}} = -\\frac{1}{\\left(1+\\frac{1}{g_{m1} r_{O1}}\\right) \\frac{C2}{C1} + \\frac{1}{g_{m1} r_{O1}}}\n\\]\n\n**Figure 8.3 (a) Simple common-source stage; (b) circuit of (a) with feedback.**\n\nIf \\( g_{m1} r_{O1} \\) is sufficiently large, the \\( 1 / (g_{m1} r_{O1}) \\) terms in the denominator can be ignored, resulting in:\n\n\\[\n\\frac{V_{out}}{V_{in}} = -\\frac{C1}{C2}\n\\]\n\nCompared to \\( g_{m1} r_{O1} \\), this gain can be controlled with much higher precision because it is determined by the ratio of two capacitors. If \\( C1 \\) and \\( C2 \\) are made of the same material, then process and temperature variations do not affect \\( C1 / C2 \\).\n\nThis example demonstrates that negative feedback provides gain \"desensitization,\" meaning the closed-loop gain is less sensitive to device parameters than the open-loop gain. One could also argue that negative feedback \"stabilizes\" the gain, thereby \"enhancing stability.\" However, this terminology might be misconstrued with frequency stability (Chapter 10), which typically degrades due to negative feedback. For a more general case illustrated in Fig. 8.4, gain desensitization can be quantified by expressing:\n\n\\[\n\\frac{Y}{X} = \\frac{A}{1+\\beta A} \\approx \\frac{1}{\\beta} \\left(1-\\frac{1}{\\beta A}\\right)\n\\]\n\nassuming \\( \\beta A \\gg 1 \\). We observe that the closed-loop gain is primarily determined by the feedback factor, \\( \\beta \\). Importantly, even if the open-loop gain, \\( A \\), varies by a factor of 2, \\( Y / X \\) varies by only a small percentage because \\( 1 / (\\beta A) \\ll 1 \\).\n\n**Figure 8.4 Simple feedback system.**\n\nThe quantity \\( \\beta A \\), known as the \"loop gain,\" plays a crucial role in feedback systems. We see from the equation that the higher \\( \\beta A \\) is, the less sensitive \\( Y / X \\) will be to variations in \\( A \\). Alternatively, maximizing \\( \\beta A \\) improves the accuracy of the closed-loop gain. However, as \\( \\beta \\) increases, the closed-loop gain, \\( Y / X \\approx 1 / \\beta \\), decreases, indicating a trade-off between precision and closed-loop gain. In other words, we start with a high-gain amplifier and apply feedback to obtain a lower, but less sensitive, closed-loop gain. Another conclusion is that the output of the feedback network equals \\( \\beta Y = X \\cdot \\beta A / (1+\\beta A) \\), approaching \\( X \\) as \\( \\beta A \\) becomes much greater than unity. This result aligns with the illustration in Fig. 8.2.\n\nThe loop gain calculation can be performed as follows. As depicted in Fig. 8.5, we set the main input to zero, break the loop at a specific point, inject a test signal in the correct direction, follow the signal around the loop, and obtain the value that returns to the break point. The negative of the transfer function thus derived is the loop gain. Note that the loop gain is a dimensionless quantity. In Fig. 8.5, we have \\( V_t \\beta (-1) A = V_F \\) and hence \\( V_F / V_t = -\\beta A \\). Similarly, as shown in Fig. 8.6, for the simple feedback circuit, we can write \\( V_X = V_t C2 / (C1+C2) \\) and\n\n\\[\nV_t \\frac{C2}{C1+C2} (-g_{m1} r_{O1}) = V_F\n\\]\n\n**Figure 8.5 Computation of loop gain; Figure 8.6 Computation of loop gain in a simple feedback circuit.**\n\nThus,\n\n\\[\n\\frac{V_F}{V_t} = -\\frac{C2}{C1+C2} g_{m1} r_{O1}\n\\]\n\nWe note that the current drawn by \\( C2 \\) from the output is neglected here. This issue will be addressed in Sec. 8.5.\n\n**Example 8.1**\n\nDetermine the loop gain for the feedback common-gate stage shown in Fig. 8.7(a).\n\n**Figure 8.7 (a) Feedback common-gate stage.**\n\n**Solution**\n\nTo compute the loop gain, we must first set the main input to zero, arriving at the arrangement shown in Fig. 8.7(b). Redrawing the circuit as in Fig. 8.7(c), we recognize that this topology is identical to the CS stage of Fig. 8.3(b) with \\( V_{in} = 0 \\). The loop gain is therefore given by Eq. (8.8).\n\nThe important point here is that, when computing the loop gain, we no longer know where the main input and output terminals are. Thus, seemingly different circuit topologies may have the same loop gain.\n\nWe should emphasize that the desensitization of gain by feedback leads to many other properties of feedback systems. Our examination of Eq. (8.6) indicates that large variations in \\( A \\) affect \\( Y / X \\) negligibly if \\( \\beta A \\) is large. Such variations can arise from different sources: process, temperature, frequency, and loading. For example, if \\( A \\) drops at high frequencies, \\( Y / X \\) varies to a lesser extent, and the bandwidth is increased. Similarly, if \\( A \\) decreases because the amplifier drives a heavy load, \\( Y / X \\) is not affected much. These concepts become clearer below.\n\n**Terminal Impedance Modification**: As a second example, let us study the circuit shown in Fig. 8.8(a), where a capacitive voltage divider senses the output voltage of a common-gate stage, applying the result to the gate of current source \\( M2 \\) and hence returning a signal to the input. Our objective is to compute the input resistance at relatively low frequencies with and without feedback. Neglecting channel-length modulation and the current drawn by \\( C1 \\), we break the feedback loop as shown in Fig. 8.8(b) and write\n\n\\[\nR_{in, \\text{open}} = \\frac{1}{g_{m1}+g_{mb1}}\n\\]\n\n**Figure 8.8 (a) Common-gate circuit with feedback; (b) open-loop circuit; (c) calculation of input resistance.**\n\nFor the closed-loop circuit, as depicted in Fig. 8.8(c), we write \\( V_{out} = (g_{m1}+g_{mb1}) V_X R_D \\) and\n\n\\[\nV_P = V_{out} \\frac{C1}{C1+C2} = (g_{m1}+g_{mb1}) V_X R_D \\frac{C1}{C1+C2}\n\\]\n\nThus, the small-signal drain current of \\( M2 \\) equals \\( g_{m2} (g_{m1}+g_{mb1}) V_X R_D C1 / (C1+C2) \\). Adding this current to the drain current of \\( M1 \\) with proper polarity yields \\( I_X \\):\n\n\\[\nI_X = (g_{m1}+g_{mb1}) V_X + g_{m2} (g_{m1}+g_{mb1}) \\frac{C1}{C1+C2} R_D V_X = (g_{m1}+g_{mb1}) \\left(1+g_{m2} R_D \\frac{C1}{C1+C2}\\right) V_X\n\\]\n\nIt follows that\n\n\\[\nR_{in,closed} = V_X / I_X = \\frac{1}{g_{m1}+g_{mb1}} \\frac{1}{1+g_{m2} R_D \\frac{C1}{C1+C2}}\n\\]\n\nWe therefore conclude that this type of feedback reduces the input resistance by a factor of \\( 1+g_{m2} R_D C1 / (C1+C2) \\). The reader can prove that the quantity \\( g_{m2} R_D C1 / (C1+C2) \\) is the loop gain.\n\nLet us now consider the circuit of Fig. 8.9(a) as an example of output impedance modification by feedback. Here \\( M1, R_S \\), and \\( R_D \\) constitute a common-source stage, and \\( C1, C2 \\), and \\( M2 \\) sense the output voltage, returning a current equal to \\( [C1 / (C1+C2)] V_{out} g_{m2} \\) to the source of \\( M1 \\). The reader can prove that the feedback is indeed negative. To compute the output resistance at relatively low frequencies, we set the input to zero [Fig. 8.9(b)] and write\n\n\\[\nI_{D1} = V_X \\frac{C1}{C1+C2} g_{m2} \\frac{R_S}{R_S+\\frac{1}{g_{m1}+g_{mb1}}}\n\\]\n\n**Figure 8.9 (a) CS stage with feedback; (b) calculation of output resistance.**\n\nSince \\( I_X = V_X / R_D + I_{D1} \\), we have\n\n\\[\n\\frac{V_X}{I_X} = \\frac{R_D}{1+\\frac{g_{m2} R_S (g_{m1}+g_{mb1}) R_D}{(g_{m1}+g_{mb1}) R_S+1} \\frac{C1}{C1+C2}}\n\\]\n\nThis equation implies that this type of feedback decreases the output resistance. The denominator of the equation is indeed equal to one plus the loop gain.\n\n**Bandwidth Modification**: The next example illustrates the effect of negative feedback on the bandwidth. Suppose the feedforward amplifier has a one-pole transfer function:\n\n\\[\nA(s) = \\frac{A_0}{1+\\frac{s}{\\omega_0}}\n\\]\n\nwhere \\( A_0 \\) denotes the low-frequency gain and \\( \\omega_0 \\) is the 3-dB bandwidth. What is the transfer function of the closed-loop system? From the equation, we have\n\n\\[\n\\frac{Y}{X}(s) = \\frac{\\frac{A_0}{1+\\frac{s}{\\omega_0}}}{1+\\beta \\frac{A_0}{1+\\frac{s}{\\omega_0}}} = \\frac{A_0}{1+\\beta A_0+\\frac{s}{\\omega_0}} = \\frac{\\frac{A_0}{1+\\beta A_0}}{1+\\frac{s}{(1+\\beta A_0) \\omega_0}}\n\\]\n\nThe numerator of the equation is simply the closed-loop gain at low frequencies—as predicted by the equation—and the denominator reveals a pole at \\( (1+\\beta A_0) \\omega_0 \\). Thus, the 3-dB bandwidth has increased by a factor of \\( 1+\\beta A_0 \\), albeit at the cost of a proportional reduction in the gain (Fig. 8.10).\n\n**Figure 8.10 Bandwidth modification as a result of feedback.**\n\nThe increase in the bandwidth fundamentally originates from the gain desensitization property of feedback. Recall from the equation that, if \\( A \\) is large enough, the closed-loop gain remains approximately equal to \\( 1 / \\beta \\) even if \\( A \\) experiences substantial variations. In the example of Fig. 8.10, \\( A \\) varies with frequency rather than process or temperature, but negative feedback still suppresses the effect of this variation. Of course, at high frequencies, \\( A \\) drops to such low levels that \\( \\beta A \\) becomes comparable with unity, and the closed-loop gain falls below \\( 1 / \\beta \\).\n\nThe equation suggests that the \"gain-bandwidth product\" of a one-pole system is equal to \\( A_0 \\omega_0 \\) and does not change much with feedback, making the reader wonder how feedback improves the speed if a high gain is required. Suppose we need to amplify a 20-MHz square wave by a factor of 100 and maximum bandwidth, but we have only a single-pole amplifier with an open-loop gain of 100 and 3-dB bandwidth of 10 MHz. If the input is applied to the open-loop amplifier, the response appears as shown in Fig. 8.11(a), exhibiting a long risetime and falltime because the time constant is equal to \\( 1 / (2 \\pi f_{3-\\mathrm{dB}}) \\approx 16 \\mathrm{~ns} \\).\n\nNow suppose we apply feedback to the amplifier such that the gain and bandwidth are modified to 10 and 100 MHz, respectively. Placing two of these amplifiers in a cascade [Fig. 8.11(b)], we obtain a much faster response with an overall gain of 100. Of course, the cascade consumes twice as much power, but it would be quite difficult to achieve this performance with the original amplifier even if its power dissipation were doubled.\n\n**Nonlinearity Reduction**: An important property of negative feedback is the reduction of nonlinearity in analog circuits. A nonlinear characteristic is one that departs from a straight line, i.e., one whose slope varies (Fig. 8.12). A familiar example is the input-output characteristic of differential pairs. Note that the slope can be viewed as the small-signal gain. We predict that, even though the gain of an open-loop amplifier varies from \\( A_1 \\) to \\( A_2 \\) in Fig. 8.12, a closed-loop feedback system incorporating such an amplifier exhibits less gain variation and hence a higher linearity. To quantify this effect, we note that the open-loop gain ratio between regions 1 and 2 in Fig. 8.12 is equal to\n\n\\[\nr_{\\text{open}} = \\frac{A_2}{A_1}\n\\]\n\nFor example, \\( r_{\\text{open}} = 0.9 \\) means that the gain falls by 10% from region 1 to region 2. Assuming \\( A_2 = A_1 - \\Delta A \\), we can write\n\n\\[\nr_{\\text{open}} = 1 - \\frac{\\Delta A}{A_1}\n\\]\n\nLet us place this amplifier in a negative-feedback loop. For the closed-loop gain ratio, we have\n\n\\[\nr_{\\text{closed}} = \\frac{\\frac{A_2}{1+\\beta A_2}}{\\frac{A_1}{1+\\beta A_1}} = \\frac{1+\\frac{1}{\\beta A_1}}{1+\\frac{1}{\\beta A_2}}\n\\]\n\nIt follows that\n\n\\[\nr_{\\text{closed}} \\approx 1 - \\frac{\\frac{1}{\\beta A_2} - \\frac{1}{\\beta A_1}}{1+\\frac{1}{\\beta A_2}} \\approx 1 - \\frac{A_1 - A_2}{1+\\beta A_2} \\frac{1}{A_1}\n\\]\n\nComparison of the equations suggests that the gain ratio is much closer to 1 in the latter if the loop gain, \\( 1+\\beta A_2 \\), is large.\n\nWe study nonlinearity and its behavior in feedback systems more extensively in Chapter 14.\n\n**Figure 8.11 Amplification of a 20-MHz square wave by (a) a 10-MHz amplifier and (b) a cascade of two \\( 100-\\mathrm{MHz} \\) feedback amplifiers; Figure 8.12 Input-output characteristic of a nonlinear amplifier (a) before and (b) after applying feedback.**"
},
{
    "text": "To explore the advantages of negative feedback, we first examine straightforward examples before delving into the analysis of feedback circuits. Consider the common-source stage depicted in Fig. 8.3(a), where the voltage gain is expressed as $g_{m 1} r_{O 1}$. A significant issue with this circuit is the indeterminate gain, as both $g_{m 1}$ and $r_{O 1}$ are subject to fluctuations with process and temperature variations. \n\nNow, if the circuit is configured as shown in Fig. 8.3(b), with the gate bias of $M_{1}$ adjusted by means not depicted here (to be discussed in Chapter 13), we can calculate the overall voltage gain at low frequencies where the capacitor $C_{2}$ draws an insignificant small-signal current from the output node. This implies that $V_{o u t} / V_{X}=-g_{m 1} r_{O 1}$ because the entire drain current flows through $r_{O 1}$. Given that $\\left(V_{\\text {out }}-V_{X}\\right) C_{2} s=\\left(V_{X}-V_{\\text {in }}\\right) C_{1} s$, we derive\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}=-\\frac{1}{\\left(1+\\frac{1}{g_{m 1} r_{O 1}}\\right) \\frac{C_{2}}{C_{1}}+\\frac{1}{g_{m 1} r_{O 1}}} \\tag{8.3}\n\\end{equation*}\n$$\n\nFor the circuit illustrations:\n\n- **Figure 8.3 (a)** represents a basic common-source stage.\n- **Figure 8.3 (b)** shows the circuit from (a) with feedback incorporated.\n\nIf $g_{m 1} r_{O 1}$ is sufficiently large, the terms $1 /\\left(g_{m 1} r_{O 1}\\right)$ in the denominator can be disregarded, leading to\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}=-\\frac{C_{1}}{C_{2}} \\tag{8.4}\n\\end{equation*}\n$$\n\nThis gain, determined by the ratio of two capacitors, can be managed with greater precision than $g_{m 1} r_{O 1}$, and if $C_{1}$ and $C_{2}$ are composed of the same material, process and temperature fluctuations will not alter the ratio $C_{1} / C_{2}$.\n\nThis example demonstrates that negative feedback enhances gain stability, making the closed-loop gain less susceptible to variations in device parameters than the open-loop gain. However, it's important to distinguish this from frequency stability, which can be negatively impacted by negative feedback, as discussed in Chapter 10. \n\nIn the context of a more general case illustrated in Fig. 8.4, the stability of gain can be quantified as follows:\n\n$$\n\\begin{align*}\n\\frac{Y}{X} & =\\frac{A}{1+\\beta A}  \\tag{8.5}\\\\\n& \\approx \\frac{1}{\\beta}\\left(1-\\frac{1}{\\beta A}\\right) \\tag{8.6}\n\\end{align*}\n$$\n\nwhere the assumption is that $\\beta A \\gg 1$. The closed-loop gain is primarily determined by the feedback factor, $\\beta$. Even if the open-loop gain, $A$, fluctuates significantly, $Y / X$ will only vary slightly because $1 /(\\beta A) \\ll 1$.\n\n**Figure 8.4** illustrates a simple feedback system with a summing junction, amplifier, output, and feedback path, showcasing the flow of information and the system's function in stabilizing the output against variations in the open-loop gain by adjusting the feedback factor.\n\nThe \"loop gain,\" represented by $\\beta A$, is a critical aspect of feedback systems. The higher $\\beta A$ is, the less $Y / X$ will be affected by changes in $A$. Maximizing $\\beta A$ enhances the precision of the closed-loop gain, although it may reduce the overall gain. This illustrates a trade-off between precision and gain, where a high-gain amplifier is adjusted with feedback to achieve a lower but more stable closed-loop gain.\n\nCalculating the loop gain involves setting the main input to zero, breaking the loop, introducing a test signal, and determining the value that returns to the break point. The negative of the derived transfer function is the loop gain. For the circuit in Fig. 8.5, we find $V_{t} \\beta(-1) A=V_{F}$ and hence $V_{F} / V_{t}=-\\beta A$. Similarly, for the simple feedback circuit depicted in Fig. 8.6, we can write\n\n$$\n\\begin{equation*}\nV_{t} \\frac{C_{2}}{C_{1}+C_{2}}\\left(-g_{m 1} r_{O 1}\\right)=V_{F} \\tag{8.7}\n\\end{equation*}\n$$\n\nThese examples highlight the benefits of negative feedback, such as gain desensitization, terminal impedance modification, bandwidth enhancement, and nonlinearity reduction. Each of these properties is essential for understanding and designing robust feedback systems in various applications, including analog circuits and signal processing."
},
{
    "text": "We first examine simple examples to understand the advantages of negative feedback before delving into the analysis of feedback circuits.\n\nConsider the common-source stage depicted in Fig. 8.3(a), where the voltage gain is expressed as $g_{m1} r_{O1}$. A significant disadvantage of this circuit is the vague definition of its gain, as both $g_{m1}$ and $r_{O1}$ are subject to variations with process and temperature changes. Now, let's consider the circuit configuration shown in Fig. 8.3(b), where the gate bias of $M1$ is set by means not depicted here (refer to Chapter 13). We calculate the overall voltage gain of the circuit at relatively low frequencies, where $C2$ draws an insignificant small-signal current from the output node, i.e., $V_{out} / V_{X}=-g_{m1} r_{O1}$, because the entire drain current flows through $r_{O1}$. Since $(V_{out} - V_{X}) C2 s = (V_{X} - V_{in}) C1 s$, we have:\n\n$$\n\\frac{V_{out}}{V_{in}} = -\\frac{1}{\\left(1+\\frac{1}{g_{m1} r_{O1}}\\right) \\frac{C2}{C1} + \\frac{1}{g_{m1} r_{O1}}} \\tag{8.3}\n$$\n\nWhen $g_{m1} r_{O1}$ is sufficiently large, the $1/(g_{m1} r_{O1})$ terms in the denominator can be disregarded, leading to:\n\n$$\n\\frac{V_{out}}{V_{in}} = -\\frac{C1}{C2} \\tag{8.4}\n$$\n\nThis gain, compared to $g_{m1} r_{O1}$, can be controlled with much higher precision because it is determined by the ratio of two capacitors. If $C1$ and $C2$ are made of the same material, then process and temperature variations do not alter $C1 / C2$.\n\nThis example demonstrates that negative feedback offers gain desensitization, meaning the closed-loop gain is less affected by device parameters than the open-loop gain. It can also be said that negative feedback stabilizes the gain, thereby enhancing stability. However, this terminology might be confused with frequency stability (refer to Chapter 10), which typically deteriorates due to negative feedback. Gain desensitization, illustrated for a more general case in Fig. 8.4, can be quantified by expressing:\n\n$$\n\\frac{Y}{X} = \\frac{A}{1+\\beta A} \\tag{8.5}\n$$\n\nand\n\n$$\n\\frac{Y}{X} \\approx \\frac{1}{\\beta} \\left(1-\\frac{1}{\\beta A}\\right) \\tag{8.6}\n$$\n\nwhere we assume $\\beta A \\gg 1$. We observe that the closed-loop gain is primarily determined by the feedback factor, $\\beta$. Importantly, even if the open-loop gain, $A$, varies by a factor of, for instance, 2, $Y/X$ changes by only a small percentage because $1/(\\beta A) \\ll 1$.\n\nThe quantity $\\beta A$, known as the loop gain, plays a crucial role in feedback systems. We see from (8.6) that the higher $\\beta A$ is, the less sensitive $Y/X$ will be to variations in $A$. From another perspective, maximizing $\\beta A$ improves the accuracy of the closed-loop gain. Note that as $\\beta$ increases, the closed-loop gain, $Y/X \\approx 1/\\beta$, decreases, indicating a trade-off between precision and the closed-loop gain. In other words, we start with a high-gain amplifier and apply feedback to achieve a lower, but less sensitive, closed-loop gain. Another conclusion here is that the output of the feedback network equals $\\beta Y = X \\cdot \\beta A/(1+\\beta A)$, approaching $X$ as $\\beta A$ becomes much greater than one. This result aligns with the illustration in Fig. 8.2.\n\nThe loop gain calculation can be performed as follows. As shown in Fig. 8.5, we set the main input to zero, break the loop at a certain point, inject a test signal in the correct direction, follow the signal around the loop, and obtain the value that returns to the break point. The negative of the transfer function thus derived is the loop gain. Note that the loop gain is a dimensionless quantity. In Fig. 8.5, we have $V_t \\beta(-1) A = V_F$ and hence $V_F/V_t = -\\beta A$. Similarly, as depicted in Fig. 8.6, for the simple feedback circuit, we can write $V_X = V_t C2/(C1+C2)$ and\n\n$$\nV_t \\frac{C2}{C1+C2}(-g_{m1} r_{O1}) = V_F \\tag{8.7}\n$$\n\nIt follows that\n\n$$\n\\frac{V_F}{V_t} = -\\frac{C2}{C1+C2} g_{m1} r_{O1} \\tag{8.8}\n$$\n\nNote that the current drawn by $C2$ from the output is neglected here. This issue will be addressed in Sec. 8.5.\n\n#### Example 8.1\n\nDetermine the loop gain for the feedback common-gate stage shown in Fig. 8.7(a).\n\n(a)\n\nThe circuit is a feedback common-gate stage with an NMOS transistor M1. The feedback voltage is taken across M1, and the loop gain is determined by the capacitors C1 and C2. The input voltage is applied at Vin, and the output is at Vout.\n\n(b)\n\nThe circuit is a feedback common-gate stage with an NMOS transistor M1. The feedback voltage is taken across M1, and the loop gain is determined by the capacitors C1 and C2. The input voltage is applied at Vin, and the output is at Vout.\n\n(c)\n\nFigure 8.7\n\n#### Solution\n\nTo compute the loop gain, we must first set the main input to zero, arriving at the arrangement shown in Fig. 8.7(b). Redrawing the circuit as in Fig. 8.7(c), we recognize that this topology is identical to the CS stage of Fig. 8.3(b) with $V_{in}=0$. The loop gain is therefore given by Eq. (8.8).\n\nThe important point here is that, when computing the loop gain, we no longer know where the main input and output terminals are. Thus, seemingly different circuit topologies may have the same loop gain.\n\nWe should emphasize that the desensitization of gain by feedback leads to many other properties of feedback systems. Our examination of Eq. (8.6) indicates that large variations in $A$ affect $Y/X$ negligibly if $\\beta A$ is large. Such variations can arise from different sources: process, temperature, frequency, and loading. For example, if $A$ drops at high frequencies, $Y/X$ varies to a lesser extent, and the bandwidth is increased. Similarly, if $A$ decreases because the amplifier drives a heavy load, $Y/X$ is not affected much. These concepts become clearer below.\n\nTerminal Impedance Modification As a second example, let us study the circuit shown in Fig. 8.8(a), where a capacitive voltage divider senses the output voltage of a common-gate stage, applying the result to the gate of current source $M2$ and hence returning a signal to the input. Our objective is to compute the input resistance at relatively low frequencies with and without feedback. Neglecting channellength modulation and the current drawn by $C1$, we break the feedback loop as shown in Fig. 8.8(b) and write\n\n$$\nR_{in, \\text{open}} = \\frac{1}{g_{m1}+g_{mb1}} \\tag{8.9}\n$$\n\nFor the closed-loop circuit, as depicted in Fig. 8.8(c), we write $V_{out} = (g_{m1}+g_{mb1}) V_X R_D$ and\n\n$$\nV_P = V_{out} \\frac{C1}{C1+C2} \\tag{8.10}\n$$\n\nand\n\n$$\nV_P = (g_{m1}+g_{mb1}) V_X R_D \\frac{C1}{C1+C2} \\tag{8.11}\n$$\n\nThus, the small-signal drain current of $M2$ equals $g_{m2}(g_{m1}+g_{mb1}) V_X R_D C1/(C1+C2)$. Adding this current to the drain current of $M1$ with proper polarity yields $I_X$:\n\n$$\nI_X = (g_{m1}+g_{mb1}) V_X + g_{m2}(g_{m1}+g_{mb1}) \\frac{C1}{C1+C2} R_D V_X \\tag{8.12}\n$$\n\nand\n\n$$\nI_X = (g_{m1}+g_{mb1})\\left(1+g_{m2} R_D \\frac{C1}{C1+C2}\\right) V_X \\tag{8.13}\n$$\n\nIt follows that\n\n$$\nR_{in,\\text{closed}} = V_X / I_X \\tag{8.14}\n$$\n\nand\n\n$$\nR_{in,\\text{closed}} = \\frac{1}{g_{m1}+g_{mb1}} \\frac{1}{1+g_{m2} R_D \\frac{C1}{C1+C2}} \\tag{8.15}\n$$\n\nWe therefore conclude that this type of feedback reduces the input resistance by a factor of $1+g_{m2} R_D C1/(C1+C2)$. The reader can prove that the quantity $g_{m2} R_D C1/(C1+C2)$ is the loop gain.\n\nLet us now consider the circuit of Fig. 8.9(a) as an example of output impedance modification by feedback. Here $M1, R_S$, and $R_D$ constitute a common-source stage and $C1, C2$, and $M2$ sense the output voltage, returning a current equal to $[C1/(C1+C2)] V_{out} g_{m2}$ to the source of $M1$. The reader can prove that the feedback is indeed negative. To compute the output resistance at relatively low frequencies, we set the input to zero [Fig. 8.9(b)] and write\n\n$$\nI_{D1} = V_X \\frac{C1}{C1+C2} g_{m2} \\frac{R_S}{R_S+\\frac{1}{g_{m1}+g_{mb1}}} \\tag{8.16}\n$$\n\nSince $I_X = V_X/R_D + I_{D1}$, we have\n\n$$\n\\frac{V_X}{I_X} = \\frac{R_D}{1+\\frac{g_{m2} R_S(g_{m1}+g_{mb1}) R_D}{(g_{m1}+g_{mb1}) R_S+1} \\frac{C1}{C1+C2}} \\tag{8.17}\n$$\n\nEquation (8.17) implies that this type of feedback decreases the output resistance. The denominator of (8.17) is indeed equal to one plus the loop gain.\n\nBandwidth Modification. The next example illustrates the effect of negative feedback on the bandwidth. Suppose the feedforward amplifier has a one-pole transfer function:\n\n$$\nA(s) = \\frac{A_0}{1+\\frac{s}{\\omega_0}} \\tag{8.18}\n$$\n\nwhere $A_0$ denotes the low-frequency gain and $\\omega_0$ is the 3-dB bandwidth. What is the transfer function of the closed-loop system? From (8.5), we have\n\n$$\n\\frac{Y}{X}(s) = \\frac{\\frac{A_0}{1+\\frac{s}{\\omega_0}}}{1+\\beta \\frac{A_0}{1+\\frac{s}{\\omega_0}}} \\tag{8.19}\n$$\n\nand\n\n$$\n\\frac{Y}{X}(s) = \\frac{A_0}{1+\\beta A_0+\\frac{s}{\\omega_0}} \\tag{8.20}\n$$\n\nand\n\n$$\n\\frac{Y}{X}(s) = \\frac{\\frac{A_0}{1+\\beta A_0}}{1+\\frac{s}{(1+\\beta A_0) \\omega_0}} \\tag{8.21}\n$$\n\nThe numerator of (8.21) is simply the closed-loop gain at low frequencies-as predicted by (8.5)-and the denominator reveals a pole at $(1+\\beta A_0) \\omega_0$. Thus, the 3-dB bandwidth has increased by a factor of $1+\\beta A_0$, albeit at the cost of a proportional reduction in the gain (Fig. 8.10).\n\nThe increase in the bandwidth fundamentally originates from the gain desensitization property of feedback. Recall from (8.6) that, if $A$ is large enough, the closed-loop gain remains approximately equal to $1/\\beta$ even if $A$ experiences substantial variations. In the example of Fig. 8.10, $A$ varies with frequency rather than process or temperature, but negative feedback still suppresses the effect of this variation. Of course, at high frequencies, $A$ drops to such low levels that $\\beta A$ becomes comparable with unity and the closed-loop gain falls below $1/\\beta$.\n\nEquation (8.21) suggests that the \"gain-bandwidth product\" of a one-pole system is equal to $A_0 \\omega_0$ and does not change much with feedback, making the reader wonder how feedback improves the speed if a high gain is required. Suppose we need to amplify a 20-MHz square wave by a factor of 100 and maximum bandwidth, but we have only a single-pole amplifier with an open-loop gain of 100 and 3-dB bandwidth of 10 MHz. If the input is applied to the open-loop amplifier, the response appears as shown in Fig. 8.11(a), exhibiting a long risetime and falltime because the time constant is equal to $1/(2 \\pi f_{3-\\mathrm{dB}}) \\approx 16 \\mathrm{~ns}$.\n\nNow suppose we apply feedback to the amplifier such that the gain and bandwidth are modified to 10 and 100 MHz, respectively. Placing two of these amplifiers in a cascade [Fig. 8.11(b)], we obtain a much faster response with an overall gain of 100. Of course, the cascade consumes twice as much power, but it would be quite difficult to achieve this performance with the original amplifier even if its power dissipation were doubled.\n\nNonlinearity Reduction An important property of negative feedback is the reduction of nonlinearity in analog circuits. A nonlinear characteristic is one that departs from a straight line, i.e., one whose slope varies (Fig. 8.12). A familiar example is the input-output characteristic of differential pairs. Note that the slope can be viewed as the small-signal gain. We predict that, even though the gain of an open-loop amplifier varies from $A_1$ to $A_2$ in Fig. 8.12, a closed-loop feedback system incorporating such an amplifier exhibits less gain variation and hence a higher linearity. To quantify this effect, we note that the open-loop gain ratio between regions 1 and 2 in Fig. 8.12 is equal to\n\n$$\nr_{\\text{open}} = \\frac{A_2}{A_1} \\tag{8.22}\n$$\n\nFor example, $r_{\\text{open}} = 0.9$ means that the gain falls by 10% from region 1 to region 2. Assuming $A_2 = A_1 - \\Delta A$, we can write\n\n$$\nr_{\\text{open}} = 1-\\frac{\\Delta A}{A_1} \\tag{8.23}\n$$\n\nLet us place this amplifier in a negative-feedback loop. For the closed-loop gain ratio, we have\n\n$$\nr_{\\text{closed}} = \\frac{\\frac{A_2}{1+\\beta A_2}}{\\frac{A_1}{1+\\beta A_1}} \\tag{8.24}\n$$\n\nand\n\n$$\nr_{\\text{closed}} = \\frac{1+\\frac{1}{\\beta A_1}}{1+\\frac{1}{\\beta A_2}} \\tag{8.25}\n$$\n\nIt follows that\n\n$$\nr_{\\text{closed}} \\approx 1-\\frac{\\frac{1}{\\beta A_2}-\\frac{1}{\\beta A_1}}{1+\\frac{1}{\\beta A_2}} \\tag{8.26}\n$$\n\nand\n\n$$\nr_{\\text{closed}} \\approx 1-\\frac{A_1-A_2}{1+\\beta A_2} \\frac{1}{A_1} \\tag{8.27}\n$$\n\nComparison of (8.23) and (8.28) suggests that the gain ratio is much closer to 1 in the latter if the loop gain, $1+\\beta A_2$, is large.\n\nWe study nonlinearity and its behavior in feedback systems more extensively in Chapter 14."
},
{
    "text": "We begin our exploration of feedback circuits by examining straightforward examples that elucidate the advantages of negative feedback. Consider the common-source stage depicted in Fig. 8.3(a), where the voltage gain is expressed as $g_{m1} r_{O1}$. A significant shortcoming of this setup is the ambiguity in gain definition: both $g_{m1}$ and $r_{O1}$ are subject to fluctuations with process and temperature variations. Now, imagine the circuit arranged as shown in Fig. 8.3(b), where the gate bias of $M1$ is established through methods not detailed here (refer to Chapter 13). We proceed to calculate the circuit's overall voltage gain at frequencies low enough for $C2$ to draw an insignificant small-signal current from the output node, which leads to $V_{out} / V_{X}=-g_{m1} r_{O1}$, since the entire drain current flows through $r_{O1}$. Given that $(V_{out} - V_{X}) C2 s = (V_{X} - V_{in}) C1 s$, we derive the following:\n\n$$\n\\begin{equation*}\n\\frac{V_{out}}{V_{in}} = -\\frac{1}{\\left(1+\\frac{1}{g_{m1} r_{O1}}\\right) \\frac{C2}{C1} + \\frac{1}{g_{m1} r_{O1}}} \\tag{8.3}\n\\end{equation*}\n$$\n\nIn scenarios where $g_{m1} r_{O1}$ is adequately substantial, the $1 / (g_{m1} r_{O1})$ terms in the denominator can be disregarded, simplifying to:\n\n$$\n\\begin{equation*}\n\\frac{V_{out}}{V_{in}} = -\\frac{C1}{C2} \\tag{8.4}\n\\end{equation*}\n$$\n\nThis gain, determined by the ratio of two capacitors, offers greater precision than $g_{m1} r_{O1}$. If $C1$ and $C2$ are composed of the same material, then variations in process and temperature do not alter the ratio $C1 / C2$.\n\nThis example underscores how negative feedback leads to gain desensitization; that is, the closed-loop gain exhibits reduced sensitivity to device parameters compared to the open-loop gain. One could also assert that negative feedback stabilizes the gain, thereby enhancing stability. However, this terminology may lead to confusion with frequency stability, a topic explored in Chapter 10, which often deteriorates due to negative feedback.\n\nGain desensitization, as depicted in a more general case in Fig. 8.4, can be quantitatively expressed as:\n\n$$\n\\begin{align*}\n\\frac{Y}{X} & = \\frac{A}{1+\\beta A} \\tag{8.5} \\\\\n& \\approx \\frac{1}{\\beta} \\left(1-\\frac{1}{\\beta A}\\right) \\tag{8.6}\n\\end{align*}\n$$\n\nHere, we assume that $\\beta A \\gg 1$. We observe that the closed-loop gain is primarily dictated by the feedback factor, $\\beta$. Importantly, even if the open-loop gain, $A$, fluctuates substantially, $Y / X$ changes by a minimal percentage because $1 / (\\beta A) \\ll 1$.\n\nThe loop gain, denoted as $\\beta A$, plays a pivotal role in feedback systems. It is evident from Eq. (8.6) that a higher $\\beta A$ results in $Y / X$ being less susceptible to variations in $A$. From another viewpoint, maximizing $\\beta A$ enhances the accuracy of the closed-loop gain. However, as $\\beta$ increases, the closed-loop gain, $Y / X \\approx 1 / \\beta$, diminishes, signifying a trade-off between precision and closed-loop gain. In essence, we commence with a high-gain amplifier and employ feedback to achieve a lower, but more stable, closed-loop gain.\n\nTo calculate the loop gain, we follow the procedure outlined in Fig. 8.5. We set the primary input to zero, sever the loop at a designated point, introduce a test signal, trace the signal around the loop, and determine the value that returns to the break point. The negative of the derived transfer function constitutes the loop gain. It is important to note that the loop gain is a dimensionless quantity.\n\nAs depicted in Fig. 8.6, for the simple feedback circuit, we can express $V_{X} = V_{t} C_{2} / (C_{1} + C_{2})$ and derive:\n\n$$\n\\begin{equation*}\nV_{t} \\frac{C_{2}}{C_{1} + C_{2}} (-g_{m1} r_{O1}) = V_{F} \\tag{8.7}\n\\end{equation*}\n$$\n\nThis leads to:\n\n$$\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} = -\\frac{C_{2}}{C_{1} + C_{2}} g_{m1} r_{O1} \\tag{8.8}\n\\end{equation*}\n$$\n\nThe current drawn by $C_{2}$ from the output is neglected in this analysis, a matter that will be addressed in Sec. 8.5.\n\nThe gain desensitization achieved through feedback spawns numerous other attributes of feedback systems. By examining Eq. (8.6), we understand that substantial fluctuations in $A$ have a negligible impact on $Y / X$ if $\\beta A$ is large. Such variations can stem from various sources: process, temperature, frequency, and loading. For instance, if $A$ diminishes at high frequencies, $Y / X$ experiences a minimal change, and the bandwidth expands. Similarly, if $A$ decreases due to the amplifier driving a heavy load, $Y / X$ remains largely unaffected. These concepts will be further elucidated below.\n\nWe continue by exploring the impact of feedback on terminal impedance. Consider the circuit illustrated in Fig. 8.8(a), where a capacitive voltage divider detects the output voltage of a common-gate stage and applies the result to the gate of current source $M2$, thereby injecting a signal back into the input. Our objective is to compute the input resistance at frequencies low enough to ignore the current drawn by $C1$. By severing the feedback loop as depicted in Fig. 8.8(b), we derive:\n\n$$\n\\begin{equation*}\nR_{in, \\text{open}} = \\frac{1}{g_{m1} + g_{mb1}} \\tag{8.9}\n\\end{equation*}\n$$\n\nFor the closed-loop circuit, as shown in Fig. 8.8(c), we write $V_{out} = (g_{m1} + g_{mb1}) V_{X} R_{D}$ and proceed to calculate the input resistance with feedback.\n\nWe also analyze the effect of feedback on output impedance by examining the circuit in Fig. 8.9(a). Here, $M1$, $R_{S}$, and $R_{D}$ form a common-source stage, while $C1$, $C2$, and $M2$ sense the output voltage and inject a current equal to $[C1 / (C1 + C2)] V_{out} g_{m2}$ back into the source of $M1$. To compute the output resistance at frequencies low enough to disregard the current drawn by $C1$, we set the input to zero and derive:\n\n$$\n\\begin{equation*}\nI_{D1} = V_{X} \\frac{C1}{C1 + C2} g_{m2} \\frac{R_{S}}{R_{S} + \\frac{1}{g_{m1} + g_{mb1}}} \\tag{8.16}\n\\end{equation*}\n$$\n\nThis analysis demonstrates that this type of feedback diminishes the output resistance. The denominator of the derived equation corresponds to one plus the loop gain.\n\nNext, we investigate the effect of negative feedback on bandwidth. Assume the feedforward amplifier possesses a single-pole transfer function:\n\n$$\n\\begin{equation*}\nA(s) = \\frac{A_{0}}{1+\\frac{s}{\\omega_{0}}} \\tag{8.18}\n\\end{equation*}\n$$\n\nwhere $A_{0}$ signifies the low-frequency gain, and $\\omega_{0}$ denotes the $3-\\mathrm{dB}$ bandwidth. The transfer function of the closed-loop system can be derived as:\n\n$$\n\\begin{align*}\n\\frac{Y}{X}(s) & = \\frac{\\frac{A_{0}}{1+\\frac{s}{\\omega_{0}}}}{1+\\beta \\frac{A_{0}}{1+\\frac{s}{\\omega_{0}}}} \\tag{8.19} \\\\\n& = \\frac{A_{0}}{1+\\beta A_{0}+\\frac{s}{\\omega_{0}}} \\tag{8.20} \\\\\n& = \\frac{\\frac{A_{0}}{1+\\beta A_{0}}}{1+\\frac{s}{(1+\\beta A_{0}) \\omega_{0}}} \\tag{8.21}\n\\end{align*}\n$$\n\nThe numerator of Eq. (8.21) represents the closed-loop gain at low frequencies, in alignment with Eq. (8.5), while the denominator reveals a pole at $(1+\\beta A_{0}) \\omega_{0}$. Consequently, the $3-\\mathrm{dB}$ bandwidth is augmented by a factor of $1+\\beta A_{0}$, albeit at the expense of a proportional reduction in gain (refer to Fig. 8.10).\n\nThe bandwidth enhancement is fundamentally rooted in the gain desensitization attribute of feedback. As indicated in Eq. (8.6), if $A$ is sufficiently large, the closed-loop gain hovers around $1 / \\beta$ despite significant variations in $A$. In the example of Fig. 8.10, $A$ fluctuates with frequency rather than process or temperature, yet negative feedback still mitigates the impact of this variation. Naturally, at high frequencies, $A$ diminishes to such an extent that $\\beta A$ approaches unity, causing the closed-loop gain to dip below $1 / \\beta$.\n\nEq. (8.21) suggests that the \"gain-bandwidth product\" of a single-pole system is $A_{0} \\omega_{0}$ and remains relatively constant with feedback. This prompts the question of how feedback enhances speed when high gain is necessary. Suppose we aim to amplify a 20-MHz square wave by a factor of 100 with maximum bandwidth, but we only have a single-pole amplifier with an open-loop gain of 100 and a $3-\\mathrm{dB}$ bandwidth of 10 MHz. Applying the input to the open-loop amplifier yields the response shown in Fig. 8.11(a), characterized by extended rise and fall times due to a time constant of $1 / (2 \\pi f_{3-\\mathrm{dB}}) \\approx 16 \\mathrm{~ns}$.\n\nNow, consider employing feedback to modify the amplifier's gain and bandwidth to 10 and 100 MHz, respectively. Cascading two such amplifiers, as shown in Fig. 8.11(b), yields a much faster response with an overall gain of 100. While this cascade configuration consumes more power, achieving this performance with the original amplifier, even with doubled power dissipation, would be highly challenging.\n\nAn essential property of negative feedback is the mitigation of nonlinearity in analog circuits. A nonlinear characteristic deviates from a straight line, meaning its slope changes (refer to Fig. 8.12). A classic example is the input-output characteristic of differential pairs. We predict that, despite the gain fluctuations from $A_{1}$ to $A_{2}$ in an open-loop amplifier (Fig. 8.12), a closed-loop feedback system incorporating such an amplifier will exhibit reduced gain variation and, consequently, increased linearity. To quantify this effect, we note that the open-loop gain ratio between regions 1 and 2 in Fig. 8.12 is:\n\n$$\n\\begin{equation*}\nr_{\\text{open}} = \\frac{A_{2}}{A_{1}} \\tag{8.22}\n\\end{equation*}\n$$\n\nFor instance, $r_{\\text{open}} = 0.9$ indicates a 10% gain reduction from region 1 to region 2. Assuming $A_{2} = A_{1} - \\Delta A$, we can write:\n\n$$\n\\begin{equation*}\nr_{\\text{open}} = 1 - \\frac{\\Delta A}{A_{1}} \\tag{8.23}\n\\end{equation*}\n$$\n\nIntroducing this amplifier into a negative-feedback loop, we derive the closed-loop gain ratio as:\n\n$$\n\\begin{align*}\nr_{\\text{closed}} & = \\frac{\\frac{A_{2}}{1+\\beta A_{2}}}{\\frac{A_{1}}{1+\\beta A_{1}}} \\tag{8.24} \\\\\n& = \\frac{1+\\frac{1}{\\beta A_{1}}}{1+\\frac{1}{\\beta A_{2}}} \\tag{8.25}\n\\end{align*}\n$$\n\nSimplifying further, we obtain:\n\n$$\n\\begin{align*}\nr_{\\text{closed}} & \\approx 1 - \\frac{\\frac{1}{\\beta A_{2}} - \\frac{1}{\\beta A_{1}}}{1+\\frac{1}{\\beta A_{2}}} \\tag{8.26} \\\\\n& \\approx 1 - \\frac{A_{1} - A_{2}}{1+\\beta A_{2}} \\frac{1}{A_{1}} \\tag{8.27} \\\\\n& \\approx 1 - \\frac{\\Delta A}{1+\\beta A_{2}} \\frac{1}{A_{1}} \\tag{8.28}\n\\end{align*}\n$$\n\nComparing Eqs. (8.23) and (8.28), we conclude that the gain ratio is much closer to 1 in the latter if the loop gain, $1+\\beta A_{2}$, is large.\n\nWe delve deeper into nonlinearity and its behavior in feedback systems in Chapter 14."
},
{
    "text": "The circuits analyzed to date are largely categorized as \"voltage amplifiers\" due to their function of detecting a voltage at the input and generating a voltage at the output. Nonetheless, there are three additional amplifier types that can either detect or produce currents. Figure 8.13 presents these four configurations, each with distinct characteristics: (1) circuits that sense voltage require a high input impedance, akin to a voltmeter that measures voltage with minimal impact, whereas those sensing current need a low input impedance, similar to a current meter that should minimally disrupt the current when inserted in a circuit; (2) circuits that produce voltage must have a low output impedance, acting like a voltage source, whereas those producing current should offer a high output impedance, resembling a current source. The gains of transimpedance and transconductance amplifiers are measured in units of resistance and conductance, respectively. For instance, a transimpedance amplifier might have a gain of 2 kΩ, implying that it generates a 2-V output for a 1-mA input. Additionally, the sign conventions in Fig. 8.13 are employed; for example, the transimpedance \\( R_{0} \\) is \\( V_{\\text {out }} / I_{\\text {in }} \\) if \\( I_{\\text {in }} \\) flows into the amplifier.\n\nThe circuit diagrams provided include various amplifier configurations, each with specific components and connections. The extra information describes the purpose and function of each component within the circuit, such as inverters, voltage-controlled voltage sources, and current sources. These components work together to achieve amplification, either converting voltage to voltage, current to voltage, voltage to current, or current to current.\n\nThe diagrams also illustrate idealized models of amplifiers, highlighting the flow of information or control, labels, annotations, and overall system function. These models help in understanding the operation and behavior of different amplifier types, such as common-source, common-gate, transimpedance, and transconductance amplifiers.\n\nNonideal amplifier models are also presented, which account for real-world factors such as finite input and output impedances. These models are essential for designing and analyzing amplifiers in practical applications. The reader is encouraged to examine and understand these models to gain a comprehensive insight into amplifier behavior and performance."
},
{
    "text": "To date, the majority of analyzed circuits fall under the category of \"voltage amplifiers,\" as they detect an input voltage and generate an output voltage. Nonetheless, three additional amplifier types can be designed to detect or generate currents. As illustrated in Fig. 8.13, these four configurations exhibit distinct characteristics: (1) circuits that detect a voltage require a high input impedance (a voltmeter measures a voltage with minimal loading), whereas those detecting a current need a low input impedance (a current meter inserted in a wire should minimally disrupt the current); (2) circuits that generate a voltage require a low output impedance (acting as a voltage source), while those generating a current need a high output impedance (acting as a current source). The gains of transimpedance and transconductance amplifiers have dimensions of resistance and conductance, respectively. For instance, a transimpedance amplifier may have a gain of $2 \\mathrm{k} \\Omega$, meaning it produces a $2-\\mathrm{V}$ output in response to a $1-\\mathrm{mA}$ input. Additionally, we adhere to the sign conventions depicted in Fig. 8.13; for example, the transimpedance $R_{0}=V_{\\text {out }} / I_{\\text {in }}$ if $I_{\\text {in }}$ flows into the amplifier.\n\nThe circuit diagrams represent various amplifier configurations:\n\n- A voltage amplifier with an inverter configuration, where the input voltage source Vin is connected to the inverter's input, and the output is taken from Vout. Both Vin and Vout are referenced to the ground.\n\n- A transimpedance amplifier configuration, which includes an inverter and a voltage-controlled voltage source, both connected between Vin and Vout, with GND as the common reference node. The inverter and voltage-controlled voltage source indicate a feedback mechanism for transimpedance amplification.\n\n- A transconductance amplifier configuration, consisting of an inverter connected between the input voltage source Vin and the output voltage source Vout. The circuit is grounded.\n\n- A current amplifier configuration, utilizing a voltage-controlled current source and a current source to amplify the input current Iin to produce the output current Iout.\n\nThe diagrams also illustrate the different amplifier configurations and their idealized models:\n\n- A simple amplifier block with an input labeled \\( I_{in} \\) and an output labeled \\( I_{out} \\), symbolizing a generic amplifier that takes an input current and produces an output current.\n\n- A more detailed configuration with a current source symbol and grounding symbols, including an input \\( I_{in} \\) and an output \\( I_{out} \\), with the current source connected between the input and output paths.\n\n- A transconductance amplifier diagram, consisting of two main components: a triangular amplifier symbol and a current source symbol. The amplifier is responsible for converting an input voltage (Vin) into an output current (Iout), while the current source symbol reinforces the transconductance function.\n\n- A current amplifier configuration, utilizing a voltage-controlled current source and a current source, both controlled by the input voltage Vin, to provide the output current Iout.\n\nThe diagrams also depict simple implementations of four types of amplifiers:\n\n- A common-source stage sensing and producing voltages.\n\n- A common-gate circuit serving as a transimpedance amplifier, converting the source current to a voltage at the drain.\n\n- A common-source transistor operating as a transconductance amplifier (also called a $V / I$ converter), generating an output current in response to an input voltage.\n\n- A common-gate device sensing and producing currents.\n\nThe circuits in Fig. 8.14 may not provide adequate performance in many applications. For example, the circuits of Figs. 8.14(a) and (b) suffer from a relatively high output impedance. Figure 8.15 depicts modifications that alter the output impedance or increase the gain.\n\nThe diagrams also illustrate the different amplifier configurations with improved performance:\n\n- A transconductance amplifier with NMOS transistors M1 and M2, a resistor RD, and a current source I1. The node d1g2 is a common node connecting the drain of M1, the source of M2, and one terminal of RD. The bias voltage Vb is applied to the gate of M2.\n\n- A modified amplifier with improved output impedance, using two NMOS transistors M1 and M2, a resistor RD, and a current source I1. The gain is defined by the transconductance and output impedance.\n\n- A transconductance amplifier with improved performance, featuring two NMOS transistors and a resistor to adjust output impedance and gain. The gain is defined as Gm = Iout / Vin.\n\n- A modified amplifier with NMOS transistors M1 and M2. The load current source is connected at the output to improve performance. The gain is defined by the transconductance and output impedance.\n\nThe diagrams also illustrate the nonideal amplifier models:\n\n- A nonideal voltage amplifier with input impedance Zin and output impedance Zout. The voltage source AvVin models the voltage gain of the amplifier.\n\n- A nonideal transimpedance amplifier with finite input and output impedances. The input impedance Zin is in series with the input current Iin, and the output impedance Zout is in series with the output voltage Vout. The voltage-controlled voltage source RoIin provides the output voltage based on the input current.\n\n- A nonideal transimpedance amplifier model with finite input and output impedances. It converts an input voltage to an output current.\n\n- A nonideal transimpedance amplifier with an input current source and a current-controlled current source. It includes input and output impedances."
},
{
    "text": "The circuits we've examined are primarily categorized as \"voltage amplifiers,\" which detect a voltage at the input and generate a voltage at the output. Nonetheless, there are three additional amplifier types that can be designed to detect or generate currents. As depicted in Fig. 8.13, these four configurations exhibit distinct characteristics: (1) circuits that sense voltage require a high input impedance (a voltmeter measures voltage with minimal loading), whereas those sensing current must have a low input impedance (a current meter inserted in a wire should barely affect the current); (2) circuits that produce voltage must have a low output impedance (acting as a voltage source), while those producing current must provide a high output impedance (acting as a current source). It's important to note that the gains of transimpedance and transconductance amplifiers are measured in units of resistance and conductance, respectively. For instance, a transimpedance amplifier might have a gain of \\(2 \\mathrm{k} \\Omega\\), indicating it produces a \\(2-\\mathrm{V}\\) output in response to a \\(1-\\mathrm{mA}\\) input. Additionally, we adhere to the sign conventions shown in Fig. 8.13; for example, the transimpedance \\(R_{0}=V_{\\text {out }} / I_{\\text {in }}\\) if \\(I_{\\text {in }}\\) flows into the amplifier.\n\nThe provided circuit diagrams represent various amplifier configurations with specific components and connections. For example, the voltage amplifier with an inverter configuration has an input voltage source (Vin) connected to the inverter's input, and the output is taken from Vout. Both Vin and Vout are referenced to the ground.\n\nThe transimpedance amplifier configuration includes an inverter and a voltage-controlled voltage source, both connected between Vin and Vout, with GND as the common reference node. This configuration indicates a feedback mechanism for transimpedance amplification.\n\nThe transconductance amplifier consists of an inverter connected between the input voltage source (Vin) and the output voltage source (Vout), with the circuit grounded.\n\nThe current amplifier configuration includes a voltage-controlled current source and a current source, both controlled by the input voltage (Vin), to provide the output current (Iout).\n\nThe diagrams also illustrate the idealized models of amplifiers, including the flow of information or control, labels, annotations, and key indicators. The overall system function of these amplifiers is to convert input signals (voltage or current) into amplified output signals (voltage or current) with specific impedance characteristics.\n\nThe circuits in Fig. 8.14 demonstrate simple implementations of each amplifier type. For example, a common-source stage senses and produces voltages, while a common-gate circuit acts as a transimpedance amplifier, converting source current to voltage at the drain. A common-source transistor can operate as a transconductance amplifier (also known as a \\(V / I\\) converter), generating output current in response to input voltage, and a common-gate device can sense and produce currents.\n\nHowever, the circuits in Fig. 8.14 may not offer sufficient performance in many applications due to their relatively high output impedance. Fig. 8.15 shows modifications that can alter the output impedance or increase the gain.\n\nFigures 8.16 depict nonideal amplifier models, which account for factors like finite input and output impedances and internal feedback. These models help in understanding the real-world behavior of amplifiers and are essential for designing circuits that can handle nonideal conditions effectively."
},
{
    "text": "Thus far, the majority of circuits examined can be classified as \"voltage amplifiers,\" which detect a voltage at the input and generate a voltage at the output. However, there are three additional types of amplifiers that can be designed to either detect or generate currents. As depicted in Fig. 8.13, these four configurations possess distinct characteristics: (1) circuits that sense voltage must have a high input impedance (a voltmeter measures voltage with minimal loading), whereas those that sense current must have a low input impedance (a current meter placed in a wire should minimally disrupt the current); (2) circuits that generate voltage must have a low output impedance (acting as a voltage source), while those that generate current must have a high output impedance (acting as a current source). It is important to note that the gains of transimpedance and transconductance amplifiers have dimensions of resistance and conductance, respectively. For instance, a transimpedance amplifier may have a gain of $2 \\mathrm{k} \\Omega$, implying it produces a $2-\\mathrm{V}$ output in response to a $1-\\mathrm{mA}$ input. Additionally, we utilize the sign conventions shown in Fig. 8.13; for example, the transimpedance $R_{0}=V_{\\text {out }} / I_{\\text {in }}$ if $I_{\\text {in }}$ flows into the amplifier.\n\nThe circuit diagrams depict various amplifier configurations, including voltage amplifiers with inverters, transimpedance amplifiers with inverters and voltage-controlled voltage sources, transconductance amplifiers with inverters, and current amplifiers with voltage-controlled voltage sources. These diagrams illustrate the amplifier configurations and their idealized models, highlighting the conversion of input signals to output signals with amplification.\n\nThe primary function of these amplifiers is to convert input signals (voltage or current) into amplified output signals (voltage or current) with specific characteristics, such as high input impedance, low output impedance, and gain. These amplifiers find applications in various electronic circuits, including optical fiber receivers, where transimpedance amplifiers are essential for converting photodiode currents to processible voltages."
},
{
    "text": "Amplifier circuits studied to date are predominantly \"voltage amplifiers,\" which detect an input voltage and generate an output voltage. Nonetheless, three other amplifier types can be designed to detect or generate currents. Figure 8.13 illustrates the four configurations, each with distinct characteristics: (1) voltage-sensing circuits must have a high input impedance (a voltmeter measures voltage with minimal loading), whereas current-sensing circuits must have a low input impedance (a current meter inserted in a wire should minimally disrupt the current); (2) voltage-generating circuits must have a low output impedance (acting as a voltage source), while current-generating circuits must have a high output impedance (acting as a current source). The gains of transimpedance and transconductance amplifiers have dimensions of resistance and conductance, respectively. For instance, a transimpedance amplifier may have a gain of $2 \\mathrm{k} \\Omega$, meaning it produces a $2-\\mathrm{V}$ output in response to a $1-\\mathrm{mA}$ input. Additionally, we use the sign conventions shown in Fig. 8.13; for example, the transimpedance $R_{0}=V_{\\text {out }} / I_{\\text {in }}$ if $I_{\\text {in }}$ flows into the amplifier."
},
{
    "text": "So far, the majority of examined circuits are classified as \"voltage amplifiers,\" functioning by detecting a voltage at the input and generating a voltage at the output. Nonetheless, there are three additional amplifier varieties that can be designed to detect or generate currents. Figure 8.13 illustrates four configurations with distinct characteristics: (1) voltage-sensing circuits must present a high input impedance (similar to a voltmeter measuring voltage with minimal loading), whereas current-sensing circuits must offer a low input impedance (like a current meter in a wire that barely affects the current); (2) voltage-producing circuits must show a low output impedance (like a voltage source), whereas current-producing circuits must provide a high output impedance (like a current source). It's important to note that the gains of transimpedance and transconductance amplifiers are measured in units of resistance and conductance, respectively. For instance, a transimpedance amplifier might have a gain of $2 \\mathrm{k} \\Omega$, which implies that it yields a $2-\\mathrm{V}$ output for a $1-\\mathrm{mA}$ input. Additionally, the sign conventions depicted in Fig. 8.13 are adopted; for instance, the transimpedance $R_{0}=V_{\\text {out }} / I_{\\text {in }}$ applies if $I_{\\text {in }}$ flows into the amplifier.\n\nRegarding the circuit diagrams:\n\n1. **Voltage Amplifier Configuration**: The circuit diagram represents a voltage amplifier using an inverter configuration. The input voltage source (Vin) is connected to the inverter's input, and the output is taken from (Vout). Both Vin and Vout are referenced to the ground.\n\n2. **Transimpedance Amplifier Configuration**: The diagram represents a transimpedance amplifier setup. It incorporates an inverter and a voltage-controlled voltage source, both linked between Vin and Vout, with GND serving as the shared reference node. The inverter and voltage-controlled voltage source suggest a feedback mechanism for transimpedance amplification.\n\n3. **Transconductance Amplifier Configuration**: The circuit diagram shows a transconductance amplifier. It consists solely of an inverter connected between the input voltage source (Vin) and the output voltage source (Vout), with the circuit grounded.\n\n4. **Current Amplifier Configuration**: The circuit diagram illustrates a current amplifier setup. The inverter is connected between Vin and Vout, and a voltage-controlled voltage source is also present, denoting a feedback mechanism for amplification.\n\n5. **NMOS Amplifier Configuration**: The circuit diagram depicts a simple NMOS amplifier configuration using an NMOS transistor to amplify the input voltage (Vin) to generate the output voltage (Vout). A resistor (RD) serves as a load resistor, and VDD provides the supply voltage.\n\n6. **Common-Gate NMOS Amplifier Configuration**: The circuit diagram portrays a common-gate NMOS amplifier setup. The input voltage (Vin) is applied to the gate of the NMOS transistor, and the output voltage (Vout) is taken from the drain, which is linked to a diode functioning as a load.\n\n7. **Modified Amplifier Configurations**: Figure 8.15 illustrates modified amplifier configurations that alter the output impedance or increase the gain. These configurations use NMOS transistors and additional components like resistors and current sources to enhance performance.\n\n8. **Nonideal Amplifier Models**: The diagrams represent nonideal amplifier models with finite input and output impedances, showing how real amplifiers differ from ideal models by considering factors like input current draw and output impedance.\n\nThese descriptions and configurations outline the various types of amplifiers and their idealized models, highlighting their functions and the components involved in their operation."
},
{
    "text": "The analysis of the amplifiers under consideration reveals that they predominantly function as \"voltage amplifiers,\" detecting a voltage at the input and generating a voltage at the output. Nonetheless, three additional amplifier types can be configured to detect or generate currents. The four configurations, as depicted in Fig. 8.13, exhibit distinct characteristics: (1) those detecting voltage require a high input impedance (similar to a voltmeter measuring voltage with minimal loading), whereas those detecting current necessitate a low input impedance (akin to a current meter in a wire barely affecting the current flow); (2) those generating voltage must have a low output impedance (like a voltage source), while those generating current must offer a high output impedance (like a current source). The gains of transimpedance and transconductance amplifiers are measured in units of resistance and conductance, respectively. For instance, a transimpedance amplifier might have a gain of \\(2 \\mathrm{k} \\Omega\\), meaning it outputs \\(2-\\mathrm{V}\\) for a \\(1-\\mathrm{mA}\\) input. Additionally, the sign conventions in Fig. 8.13 are adopted; for example, the transimpedance \\(R_{0}=V_{\\text {out }} / I_{\\text {in }}\\) if \\(I_{\\text {in }}\\) flows into the amplifier.\n\nThe circuits depicted include configurations for voltage amplifiers, transimpedance amplifiers, transconductance amplifiers, and current amplifiers, each with specific components such as inverters, voltage-controlled voltage sources, and current sources, all interconnected in specific ways to achieve amplification with particular input and output characteristics. These configurations are further detailed with descriptions of their components, connections, and functions, highlighting the differences between them and how they convert input signals (voltage or current) into amplified output signals (voltage or current).\n\nThe diagrams also show modifications to the basic amplifier circuits to enhance performance, such as adjusting output impedance or increasing gain. These modifications involve additional components like resistors and current sources, and their placement relative to the amplifying transistors to optimize the amplifier's functionality.\n\nThe text also provides examples of calculations for gain in specific amplifier configurations and discussions on nonideal amplifier models, which account for factors like finite input and output impedances and the potential for internal feedback. These discussions aim to provide a more comprehensive understanding of amplifier behavior and performance in practical applications."
},
{
    "text": "The majority of circuits analyzed to date function as \"voltage amplifiers,\" detecting a voltage at the input and generating a voltage at the output. Nevertheless, three alternative amplifier types can be designed to either detect or generate currents. As illustrated in Fig. 8.13, these four configurations possess distinct characteristics: (1) circuits that detect voltage must present a high input impedance (similar to a voltmeter, which measures voltage with minimal loading), whereas those detecting current must offer a low input impedance (like a current meter placed in a wire, which barely affects the current flow); (2) circuits that generate voltage must have a low output impedance (acting as a voltage source), while those generating current must provide a high output impedance (acting as a current source). It's important to note that the gains of transimpedance and transconductance amplifiers are measured in units of resistance and conductance, respectively. For instance, a transimpedance amplifier may have a gain of 2 kΩ, meaning it produces a 2-V output in response to a 1-mA input. Additionally, we adhere to the sign conventions shown in Fig. 8.13; for example, the transimpedance is \\( R_0 = V_{\\text{out}} / I_{\\text{in}} \\) if \\( I_{\\text{in}} \\) flows into the amplifier.\n\nThe voltage amplifier circuit diagram features an inverter configuration. Here, the input voltage source Vin is connected to the inverter's input, with the output taken from Vout. Both Vin and Vout are referenced to the ground.\n\nThe transimpedance amplifier configuration includes an inverter and a voltage-controlled voltage source, both linked between Vin and Vout, with GND as the shared reference node. This setup indicates a feedback mechanism for transimpedance amplification.\n\nThe transconductance amplifier circuit consists solely of an inverter connected between the input voltage source Vin and the output voltage source Vout, with the circuit grounded.\n\nThe current amplifier circuit\nCertainly\nThe provided text:\n```\nMost of the circuits studied thus far can be considered \"voltage amplifiers\" because they sense a voltage at the input and produce a voltage at the output. However, three other types of amplifiers can also be constructed such that they sense or produce currents. Shown in Fig. 8.13, the four configurations have quite different properties: (1) circuits sensing a voltage must exhibit a high input impedance (a voltmeter measures a voltage with minimal loading) whereas those sensing a current must provide a low input impedance (a current meter inserted in a wire must negligibly disturb the current); (2) circuits generating a voltage must exhibit a low output impedance (as a voltage source) while those generating a current must provide a high output impedance (as a current source). Note that the gains of transimpedance and transconductance amplifiers have a dimension of resistance and conductance, respectively. For example, a transimpedance amplifier may have a gain of $2 \\mathrm{k} \\Omega$, which means that it produces a $2-\\mathrm{V}$ output in response to a $1-\\mathrm{mA}$ input. Also, we use the sign conventions depicted in Fig. 8.13; for example, the transimpedance $R_{0}=V_{\\text {out }} / I_{\\text {in }}$ if $I_{\\text {in }}$ flows into the amplifier.\n```\n\nRephrased text:\n```\nThus far, the majority of analyzed circuits are classified as \"voltage amplifiers,\" as they detect an input voltage and generate an output voltage. Nonetheless, it is possible to design three additional types of amplifiers that can detect or generate currents. As depicted in Fig. 8.13, these four configurations possess distinct characteristics: (1) voltage-sensing circuits must have a high input impedance (similar to a voltmeter, which measures voltage with minimal loading), while current-sensing circuits must have a low input impedance (like a current meter placed in a wire, which barely affects the current flow); (2) voltage-generating circuits must have a low output impedance (acting as a voltage source), while current-generating circuits must have a high output impedance (acting as a current source). It's important to note that the gains of transimpedance and transconductance amplifiers are measured in units of resistance and conductance, respectively. For instance, a transimpedance amplifier may have a gain of 2 kΩ, meaning it produces a 2-V output in response to a 1-mA input. Additionally, we adhere to the sign conventions shown in Fig. 8.13; for example, the transimpedance is \\( R_0 = V_{\\text{out}} / I_{\\text{in}} \\) if \\( I_{\\text{in}} \\) flows into the amplifier.\n```"
},
{
    "text": "To incorporate a circuit into a feedback loop, it's necessary to detect the output signal and feed back a portion of it to the input summing node. Considering voltage or current as the input and output signals, we can categorize feedback into four types: voltage-voltage, voltage-current, current-current, and current-voltage. In these categories, the first term indicates the output quantity measured, and the second term specifies the signal type returned to the input. ${ }^{6}$\n\nReviewing the techniques for sensing and summing voltages or currents is insightful. For voltage sensing, a voltmeter is placed in parallel with the relevant port [Fig. 8.17(a)], ideally without causing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit where a voltmeter is connected in parallel with the output voltage source Vout, ensuring no loading on the circuit.\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts a current sensing arrangement with a current meter in series with a load resistor RL, through which the current Iout flows.\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a current sensing setup using a small resistor R_S to measure the current I_out flowing through the load resistor R_L. The voltage source V_S detects the current by measuring the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage with a voltmeter; (b) current with a current meter; (c) current with a small resistor.\n\n[^48]In feedback systems, this sensing method is also known as \"shunt feedback,\" regardless of the signal type returned to the input.\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence termed \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, they are connected in series if they are voltages and in parallel if they are currents (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates the addition of two voltages, Vin and VF, connected in series.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo visualize the methods in Figs. 8.17 and 8.18, we examine several practical implementations. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the addition of two currents, Iin and IF, connected in parallel. The output voltage Vout is measured across resistors R1 and R2. This diagram is part of a series illustrating methods for sensing and adding voltages and currents.\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) illustrates a setup for adding two voltages, Vin and VF, using NMOS transistors M1 and M2. The output voltage Vout is connected to resistors R1 and R2, and a current source I1 injects current into the input node Vin.\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition circuit using an operational amplifier and feedback resistors R1 and R2. The input voltages Vin and VF are summed, and the output is taken across R1.\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram represents a method for subtracting two voltages using a differential pair of NMOS transistors (M1 and M2). The current source I1 provides a bias current to the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at the output node Vout. This configuration allows the subtraction of the voltages Vin and VF, with the resulting voltage difference influencing the output voltage Vout.\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows a voltage subtraction using an NMOS transistor (M1) where the output voltage Vout is derived from the difference between Vin and VF. Resistors R1 and R2 are connected to the output to form a voltage divider.\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) shows a voltage subtraction using an NMOS transistor. The NMOS transistor M1 subtracts the voltage VF from Vin, resulting in Vout. Resistors R1 and R2 form a voltage divider at the output.\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram represents the addition of two currents, Iin and IF, connected in parallel, feeding into an operational amplifier through a resistor RF.\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram represents the addition of two currents, Iin and IF, connected in parallel. An NMOS transistor (M3) controls the output voltage (Vout) based on the input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f) because $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be achieved as illustrated in Fig. 8.19(g) or (h). Note that in voltage subtraction, the input and feedback signals are applied to separate nodes, whereas in current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, in reality, it introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "To incorporate a circuit into a feedback loop, it is necessary to detect the output signal and feed back a portion of it to the input summing node. With voltage or current as the input and output signals, four types of feedback can be identified: voltage-voltage, voltage-current, current-current, and current-voltage. In each case, the first term indicates the output quantity measured, and the second term denotes the input signal type returned. ${ }^{6}$\n\nReviewing the methods for sensing and summing voltages or currents is insightful. To measure voltage, a voltmeter is placed in parallel with the relevant port [Fig. 8.17(a)], ideally without introducing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit with a voltmeter connected in parallel to the output voltage source Vout, ensuring no circuit loading.\n\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts a current sensing setup with a current meter in series with the load resistor RL, through which the current Iout flows.\n\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a current sensing setup using a small resistor R_S to measure the current I_out through the load resistor R_L. The voltage source V_S detects the current via the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage with a voltmeter; (b) current with a current meter; (c) current with a small resistor.\n\n[^48]In feedback systems, this sensing method is also known as \"shunt feedback\" (irrespective of the input signal type).\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence termed \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, voltages are connected in series and currents in parallel (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates the addition of two voltages, Vin and VF, connected in series.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo visualize the methods in Figs. 8.17 and 8.18, various practical implementations are considered. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the addition of two currents, Iin and IF, in parallel. The output voltage Vout is measured across resistors R1 and R2, illustrating methods for sensing and adding voltages and currents.\n\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) depicts a setup for adding two voltages, Vin and VF, using NMOS transistors M1 and M2. The output voltage Vout connects to resistors R1 and R2, with current source I1 injecting current into the input node Vin.\n\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition circuit using an operational amplifier and feedback resistors R1 and R2. Input voltages Vin and VF are summed, with the output taken across R1.\n\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates a method for subtracting two voltages using a differential pair of NMOS transistors (M1 and M2). Current source I1 provides bias current to the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at the output node Vout, enabling the subtraction of voltages Vin and VF, influencing the output voltage Vout.\n\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows voltage subtraction using an NMOS transistor (M1), where the output voltage Vout results from the difference between Vin and VF. Resistors R1 and R2 are connected to the output, forming a voltage divider.\n\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) represents voltage subtraction using an NMOS transistor. NMOS transistor M1 subtracts voltage VF from Vin, resulting in Vout. Resistors R1 and R2 create a voltage divider at the output.\n\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, in parallel, feeding into an operational amplifier through resistor RF.\n\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram represents the addition of two currents, Iin and IF, in parallel. An NMOS transistor (M3) controls the output voltage (Vout) based on the input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent can be sensed by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. Voltage subtraction can be achieved using a differential pair [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f), since $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be realized as depicted in Figs. 8.19(g) and (h). Note that for voltage subtraction, the input and feedback signals are applied to separate nodes, whereas for current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, in reality, it introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "To integrate a circuit into a feedback loop, it's essential to detect the output signal and feed back a portion of it to the input summing node. With voltage or current as the input and output signals, we can categorize feedback into four types: voltage-voltage, voltage-current, current-current, and current-voltage. In these terms, the first denotes the output signal type sensed, and the second indicates the signal type returned to the input. ${ }^{6}$\n\nReviewing voltage and current sensing methods is beneficial. For voltage sensing, a voltmeter is placed in parallel with the relevant port [Fig. 8.17(a)], ideally without causing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing setup with a voltmeter in parallel with the output voltage source Vout, ensuring no circuit loading.\n\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts current sensing using a current meter in series with a load resistor RL, with current Iout flowing through RL.\n\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit (c) shows current sensing using a small resistor R_S to measure current I_out through load resistor R_L. Voltage source V_S detects current via the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage with a voltmeter; (b) current with a current meter; (c) current via a small resistor.\n\n[^48]In feedback systems, this sensing method is also termed \"shunt feedback,\" regardless of the signal type returned to the input.\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence also known as \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, they are placed in series if they are voltages and in parallel if they are currents (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The diagram shows the addition of two voltages, Vin and VF, connected in series.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The diagram illustrates the addition of two currents, Iin and IF, connected in parallel.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo visualize the methods in Figs. 8.17 and 8.18, various practical implementations are considered. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit (a) shows the addition of two currents, Iin and IF, in parallel, with output voltage Vout across resistors R1 and R2.\n\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit (b) adds two voltages, Vin and VF, using NMOS transistors M1 and M2, with output voltage Vout and current source I1.\n\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit (c) adds voltages Vin and VF using an operational amplifier and feedback resistors R1 and R2, with output taken across R1.\n\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit (d) subtracts two voltages using a differential pair of NMOS transistors (M1 and M2) with current source I1 and resistors R1 and R2 forming a voltage divider at Vout.\n\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit (e) subtracts voltages using an NMOS transistor (M1), with output voltage Vout derived from Vin and VF, and resistors R1 and R2 forming a voltage divider.\n\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit (f) subtracts voltages using an NMOS transistor (M1), with Vout resulting from Vin minus VF, and resistors R1 and R2 forming a voltage divider.\n\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit (g) adds two currents, Iin and IF, in parallel, feeding into an operational amplifier through resistor RF.\n\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit (h) adds two currents, Iin and IF, in parallel, with an NMOS transistor (M3) controlling output voltage Vout based on Vin.\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent can be sensed by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f) because $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be achieved as illustrated in Figs. 8.19(g) and (h). Note that in voltage subtraction, the input and feedback signals are applied to separate nodes, whereas in current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, in reality, it introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "To incorporate a circuit into a feedback loop, the output signal must be detected and a portion of it redirected to the input's summing node. Given that voltage or current serve as the input and output signals, we can categorize feedback into four types: voltage-voltage, voltage-current, current-current, and current-voltage. In these pairs, the first term indicates the output quantity measured, while the second specifies the signal type fed back to the input. ${ }^{6}$\n\nUnderstanding the techniques for sensing and summing voltages or currents is crucial. To measure voltage, a voltmeter is positioned in parallel with the relevant port [Fig. 8.17(a)], ideally without introducing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:Diagram (a) illustrates a voltage sensing setup where a voltmeter is paralleled with the output voltage source Vout, ensuring no circuit loading.\n\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:This diagram depicts current sensing with a current meter in series with load resistor RL, through which current Iout flows.\n\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:In diagram (c), a small resistor R_S measures current I_out through load resistor R_L. Voltage source V_S detects the current via the voltage drop across R_S.\n\nFigure 8.17 Sensing methods: (a) voltage via voltmeter; (b) current via current meter; (c) current via small resistor.\n\n[^48]In feedback systems, this sensing method is also termed \"shunt feedback,\" irrespective of the feedback signal type.\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence also known as \"series feedback.\" Practically, a small resistor substitutes the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, they are connected in series if voltages and in parallel if currents (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:This circuit diagram shows the series addition of voltages Vin and VF.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:This diagram illustrates the parallel addition of currents Iin and IF.\n\n(b)\n\nFigure 8.18 Addition methods for (a) voltages and (b) currents.\n\nTo visualize the techniques in Figs. 8.17 and 8.18, various practical implementations are considered. Voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:Figure (a) shows a current addition circuit with Iin and IF in parallel. The output voltage Vout is measured across resistors R1 and R2, illustrating voltage and current sensing and addition methods.\n\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:Diagram (b) illustrates voltage addition using NMOS transistors M1 and M2. The output voltage Vout connects to resistors R1 and R2, with current source I1 injecting current into Vin.\n\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:This diagram (c) shows a voltage addition circuit using an operational amplifier with feedback resistors R1 and R2. Input voltages Vin and VF are summed, and the output is taken across R1.\n\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:This circuit diagram uses a differential pair of NMOS transistors (M1 and M2) for voltage subtraction. Current source I1 biases the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at Vout, enabling the subtraction of Vin and VF.\n\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:Diagram (e) shows voltage subtraction using an NMOS transistor (M1), where Vout results from the difference between Vin and VF. Resistors R1 and R2 form a voltage divider at the output.\n\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:Diagram (f) illustrates voltage subtraction using an NMOS transistor. M1 subtracts VF from Vin, producing Vout. Resistors R1 and R2 create a voltage divider at the output.\n\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:This diagram shows current addition with Iin and IF in parallel, feeding into an operational amplifier through resistor RF.\n\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:This diagram represents the parallel addition of currents Iin and IF. An NMOS transistor (M3) controls the output voltage (Vout) based on Vin.\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can achieve voltage subtraction as shown in Figs. 8.19(e) and (f) since $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be realized as shown in Fig. 8.19(g) or (h). Note that in voltage subtraction, the input and feedback signals are applied to separate nodes, whereas in current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, it does introduce loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "Implementing a feedback loop for a circuit involves detecting the output signal and feeding a portion of it back to the input summing node. With voltage or current as the input and output signals, four feedback types can be identified: voltage-voltage, voltage-current, current-current, and current-voltage. Here, the first term indicates the output signal type sensed, and the second denotes the signal type returned to the input. ${ }^{6}$\n\nReviewing voltage and current sensing methods is beneficial. To measure voltage, a voltmeter is connected in parallel with the relevant port [Fig. 8.17(a)], ideally without introducing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit using a voltmeter in parallel with the output voltage source Vout, ensuring no circuit loading.\n\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts a current sensing setup with a current meter in series with a load resistor RL, through which the current Iout flows.\n\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a current sensing setup using a small resistor R_S to measure the current I_out through the load resistor R_L. The voltage source V_S detects the current via the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage with a voltmeter; (b) current with a current meter; (c) current via a small resistor.\n\n[^48]In feedback systems, this sensing method is also termed \"shunt feedback,\" regardless of the returned signal type.\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence termed \"series feedback.\" Practically, a small resistor substitutes the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. Series connection is used for adding voltages, while parallel connection is for adding currents (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two voltages, Vin and VF, connected in series.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo illustrate the methods in Figs. 8.17 and 8.18, various practical implementations are considered. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the addition of two currents, Iin and IF, in parallel. The output voltage Vout is across resistors R1 and R2, part of a series on sensing and adding voltages and currents.\n\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) shows a setup for adding two voltages, Vin and VF, using NMOS transistors M1 and M2. The output voltage Vout connects to resistors R1 and R2, with current source I1 injecting current into input node Vin.\n\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition circuit using an operational amplifier and feedback resistors R1 and R2. Input voltages Vin and VF are added, with the output taken across R1.\n\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram shows voltage subtraction using a differential pair of NMOS transistors (M1 and M2). Current source I1 provides bias current to the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at output node Vout, allowing subtraction of voltages Vin and VF, influencing the output voltage Vout.\n\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows voltage subtraction using an NMOS transistor (M1), where output voltage Vout is derived from the difference between Vin and VF. Resistors R1 and R2 are connected to the output, forming a voltage divider.\n\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) shows voltage subtraction using an NMOS transistor. NMOS transistor M1 subtracts voltage VF from Vin, resulting in Vout. Resistors R1 and R2 form a voltage divider at the output.\n\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, in parallel, feeding into an operational amplifier through resistor RF.\n\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, in parallel. An NMOS transistor (M3) controls the output voltage (Vout) based on the input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent can be sensed by inserting a small resistor in series and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f), since $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be achieved as shown in Figs. 8.19(g) and (h). Note that for voltage subtraction, the input and feedback signals are applied to separate nodes, whereas for current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, it inevitably introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "To incorporate a circuit into a feedback loop, it is necessary to detect the output signal and feed back a portion of it to the input summing node. With voltage or current as the input and output signals, we can categorize feedback into four types: voltage-voltage, voltage-current, current-current, and current-voltage. In each case, the first term indicates the output quantity measured, and the second term specifies the signal type returned to the input. ${ }^{6}$\n\nReviewing the techniques for sensing and summing voltages or currents is beneficial. To measure a voltage, a voltmeter is connected in parallel with the relevant port [Fig. 8.17(a)], ideally without causing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit where a voltmeter is paralleled with the output voltage source Vout, enabling voltage measurement without loading the circuit.\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts a current sensing arrangement with a current meter in series with the load resistor RL, through which the current Iout flows.\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a current sensing setup using a small resistor R_S to measure the current I_out through the load resistor R_L. The voltage source V_S detects the current by measuring the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage with a voltmeter; (b) current with a current meter; (c) current with a small resistor.\n\n[^48]In feedback systems, this sensing method is also known as \"shunt feedback\" (irrespective of the signal type returned to the input).\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence also termed \"series feedback.\" Practically, a small resistor substitutes the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, they are connected in series if they are voltages and in parallel if they are currents (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates the addition of two voltages, Vin and VF, connected in series.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo visualize the methods depicted in Figs. 8.17 and 8.18, we examine various practical implementations. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the addition of two currents, Iin and IF, in parallel. The output voltage Vout is taken across resistors R1 and R2. This diagram is part of a series illustrating methods for sensing and adding voltages and currents.\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) depicts a setup for adding two voltages, Vin and VF, using NMOS transistors M1 and M2. The output voltage Vout is connected to resistors R1 and R2, and the current source I1 injects current into the input node Vin.\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition circuit using an operational amplifier with feedback resistors R1 and R2. The input voltages Vin and VF are summed, and the output is taken across R1.\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates a method for subtracting two voltages using a differential pair of NMOS transistors (M1 and M2). The current source I1 provides a bias current to the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at the output node Vout, allowing the subtraction of voltages Vin and VF, with the resulting voltage difference affecting the output voltage Vout.\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows a voltage subtraction using an NMOS transistor (M1), where the output voltage Vout is derived from the difference between Vin and VF. Resistors R1 and R2 are connected to the output to form a voltage divider.\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) represents a voltage subtraction using an NMOS transistor. The NMOS transistor M1 subtracts the voltage VF from Vin, resulting in Vout. Resistors R1 and R2 form a voltage divider at the output.\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, in parallel, feeding into an operational amplifier through a resistor RF.\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram represents the addition of two currents, Iin and IF, in parallel. An NMOS transistor (M3) controls the output voltage (Vout) based on the input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f) because $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be achieved as shown in Fig. 8.19(g) or (h). Note that in voltage subtraction, the input and feedback signals are applied to different nodes, whereas in current subtraction, they are applied to the same node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, in reality, it introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "To incorporate a circuit into a feedback loop, the output signal must be sensed and a portion of it returned to the input's summing node. With voltage or current as the input and output signals, we can categorize feedback into four types: voltage-voltage, voltage-current, current-current, and current-voltage. In these categories, the first term indicates the output quantity sensed, and the second term denotes the signal type returned to the input. ${ }^{6}$\n\nReviewing the methods for sensing and summing voltages or currents is insightful. To measure a voltage, a voltmeter is placed in parallel with the relevant port [Fig. 8.17(a)], ideally without introducing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit where a voltmeter is connected in parallel with the output voltage source Vout, ensuring no loading on the circuit.\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts a current sensing setup with a current meter in series with a load resistor RL, through which the current Iout flows.\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a current sensing setup using a small resistor R_S to measure the current I_out flowing through the load resistor R_L. The voltage source V_S detects the current by measuring the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage with a voltmeter; (b) current with a current meter; (c) current with a small resistor.\n\n[^48]In feedback systems, this sensing method is also termed \"shunt feedback,\" regardless of the returned signal type.\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence termed \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, voltages are placed in series and currents in parallel (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates the addition of two voltages, Vin and VF, connected in series.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo visualize the techniques in Figs. 8.17 and 8.18, we examine various practical implementations. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the addition of two currents, Iin and IF, connected in parallel. The output voltage Vout is measured across resistors R1 and R2. This diagram is part of a series illustrating methods for sensing and adding voltages and currents.\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) depicts a configuration for adding two voltages, Vin and VF, using NMOS transistors M1 and M2. The output voltage Vout is connected to resistors R1 and R2, with current source I1 injecting current into the input node Vin.\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition circuit using an operational amplifier and feedback resistors R1 and R2. The input voltages Vin and VF are summed, and the output is taken across R1.\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates a method for subtracting two voltages using a differential pair of NMOS transistors (M1 and M2). The current source I1 provides a bias current to the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at the output node Vout, enabling the subtraction of voltages Vin and VF, with the resulting voltage difference affecting the output voltage Vout.\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows a voltage subtraction using an NMOS transistor (M1), where the output voltage Vout is derived from the difference between Vin and VF. Resistors R1 and R2 are connected to the output to form a voltage divider.\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) illustrates a voltage subtraction using an NMOS transistor. The NMOS transistor M1 subtracts the voltage VF from Vin, resulting in Vout. Resistors R1 and R2 form a voltage divider at the output.\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel, feeding into an operational amplifier through a resistor RF.\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram represents the addition of two currents, Iin and IF, connected in parallel. An NMOS transistor (M3) controls the output voltage (Vout) based on the input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f) because $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be achieved as shown in Figs. 8.19(g) and (h). Note that for voltage subtraction, the input and feedback signals are applied to different nodes, whereas for current subtraction, they are applied to the same node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, it inevitably introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "Incorporating a circuit into a feedback loop entails detecting the output signal and feeding back a portion of it to the input summing node. With voltage or current as the input and output signals, four feedback types can be identified: voltage-voltage, voltage-current, current-current, and current-voltage. In each case, the first term indicates the output quantity sensed, and the second denotes the signal type returned to the input. ${ }^{6}$\n\nReviewing the techniques for sensing and summing voltages or currents is beneficial. To measure a voltage, a voltmeter is placed in parallel with the relevant port [Fig. 8.17(a)], ideally without introducing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit with a voltmeter connected in parallel to the output voltage source Vout, ensuring no loading on the circuit.\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts a current sensing configuration with a current meter in series with a load resistor RL, through which the current Iout flows.\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a current sensing setup using a small resistor R_S to measure the current I_out flowing through the load resistor R_L. The voltage source V_S detects the current by measuring the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage with a voltmeter; (b) current with a current meter; (c) current with a small resistor.\n\n[^48]In feedback systems, this sensing method is also termed \"shunt feedback\" (irrespective of the returned signal type).\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence also known as \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, voltages are connected in series and currents in parallel (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two voltages, Vin and VF, connected in series.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates the addition of two currents, Iin and IF, connected in parallel.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo visualize the methods in Figs. 8.17 and 8.18, various practical implementations are considered. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the addition of two currents, Iin and IF, connected in parallel. The output voltage Vout is taken across resistors R1 and R2, illustrating methods for sensing and adding voltages and currents.\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) illustrates a setup for adding two voltages, Vin and VF, using NMOS transistors M1 and M2. The output voltage Vout connects to resistors R1 and R2, with current source I1 injecting current into the input node Vin.\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition circuit using an operational amplifier and feedback resistors R1 and R2. Input voltages Vin and VF are summed, and the output is taken across R1.\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram shows a voltage subtraction method using a differential pair of NMOS transistors (M1 and M2). Current source I1 provides bias current to the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at the output node Vout, allowing subtraction of voltages Vin and VF, influencing the output voltage Vout.\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows voltage subtraction using an NMOS transistor (M1), where the output voltage Vout is derived from the difference between Vin and VF. Resistors R1 and R2 are connected to the output, forming a voltage divider.\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) illustrates voltage subtraction using an NMOS transistor. NMOS transistor M1 subtracts voltage VF from Vin, resulting in Vout. Resistors R1 and R2 form a voltage divider at the output.\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel, feeding into an operational amplifier through resistor RF.\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram represents the addition of two currents, Iin and IF, connected in parallel. An NMOS transistor (M3) controls the output voltage (Vout) based on the input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent can be sensed by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f) due to $I_{D 1}$ being a function of $V_{i n}-V_{F}$. Current subtraction can be achieved as depicted in Figs. 8.19(g) and (h). Note that in voltage subtraction, the input and feedback signals are applied to separate nodes, whereas in current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nWhile ideally the feedback network should not affect the open-loop amplifier's operation, it inevitably introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "Implementing a feedback loop for a circuit involves detecting the output signal and feeding a portion of it back to the input summing node. With voltage or current as the input and output signals, four feedback types can be identified: voltage-voltage, voltage-current, current-current, and current-voltage. Here, the first term indicates the output signal sensed, and the second denotes the signal type returned to the input. ${ }^{6}$\n\nReviewing voltage and current sensing methods is beneficial. To measure voltage, a voltmeter is connected in parallel with the relevant port [Fig. 8.17(a)], ideally without causing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit with a voltmeter in parallel with the output voltage source Vout, ensuring no loading on the circuit.\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts a current sensing setup with a current meter in series with a load resistor RL, through which the current Iout flows.\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a current sensing setup using a small resistor R_S to measure the current I_out through the load resistor R_L. The voltage source V_S detects the current by measuring the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage with a voltmeter; (b) current with a current meter; (c) current with a small resistor.\n\n[^48]In feedback systems, this sensing method is also termed \"shunt feedback,\" regardless of the signal type returned to the input.\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence also known as \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, voltages are connected in series and currents in parallel (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two voltages, Vin and VF, connected in series.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo visualize the methods in Figs. 8.17 and 8.18, various practical implementations are considered. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the addition of two currents, Iin and IF, connected in parallel. The output voltage Vout is across resistors R1 and R2. This diagram is part of a series illustrating voltage and current sensing and addition methods.\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) illustrates a setup for adding two voltages, Vin and VF, using NMOS transistors M1 and M2. The output voltage Vout connects to resistors R1 and R2, with current source I1 injecting current into the input node Vin.\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition circuit using an operational amplifier and feedback resistors R1 and R2. Input voltages Vin and VF are summed, with the output taken across R1.\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates a method for subtracting two voltages using a differential pair of NMOS transistors (M1 and M2). Current source I1 provides bias current to the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at the output node Vout, allowing the subtraction of voltages Vin and VF, influencing the output voltage Vout.\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows voltage subtraction using an NMOS transistor (M1), where the output voltage Vout is derived from the difference between Vin and VF. Resistors R1 and R2 are connected to the output, forming a voltage divider.\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) shows voltage subtraction using an NMOS transistor. NMOS transistor M1 subtracts voltage VF from Vin, resulting in Vout. Resistors R1 and R2 form a voltage divider at the output.\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel, feeding into an operational amplifier through resistor RF.\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel. An NMOS transistor (M3) controls the output voltage (Vout) based on the input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent can be sensed by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f) due to $I_{D 1}$ being dependent on $V_{i n}-V_{F}$. Current subtraction can be achieved as shown in Figs. 8.19(g) and (h). Note that for voltage subtraction, the input and feedback signals are applied to separate nodes, whereas for current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, it does introduce loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "To incorporate a circuit into a feedback loop, it is necessary to detect the output signal and feed a portion of it back to the input summing node. When the input and output signals are either voltage or current, we can categorize feedback into four types: voltage-voltage, voltage-current, current-current, and current-voltage. In these categories, the first term indicates the output signal being sensed, and the second term denotes the signal type returned to the input. ${ }^{6}$\n\nReviewing the methods for sensing and summing voltages or currents is beneficial. To measure a voltage, a voltmeter is connected in parallel with the relevant port [Fig. 8.17(a)], ideally without introducing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit where a voltmeter is paralleled with the output voltage source Vout, ensuring no loading on the circuit.\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts a current sensing configuration with a current meter in series with a load resistor RL, through which the current Iout flows.\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a current sensing setup using a small resistor R_S to measure the current I_out through the load resistor R_L. The voltage source V_S detects the current by measuring the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage via a voltmeter; (b) current via a current meter; (c) current via a small resistor.\n\n[^48]In feedback systems, this sensing method is also known as \"shunt feedback\" (irrespective of the signal type returned to the input).\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence also termed \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, they are connected in series if they are voltages and in parallel if they are currents (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram depicts the addition of two voltages, Vin and VF, connected in series.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo illustrate the methods from Figs. 8.17 and 8.18, various practical implementations are considered. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the addition of two currents, Iin and IF, connected in parallel. The output voltage Vout is measured across resistors R1 and R2. This diagram is part of a series illustrating methods for sensing and adding voltages and currents.\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) illustrates a setup for adding two voltages, Vin and VF, using NMOS transistors M1 and M2. The output voltage Vout is connected to resistors R1 and R2, and the current source I1 injects current into the input node Vin.\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition circuit using an operational amplifier and feedback resistors R1 and R2. The input voltages Vin and VF are summed, and the output is taken across R1.\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram shows a method for subtracting two voltages using a differential pair of NMOS transistors (M1 and M2). The current source I1 provides a bias current to the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at the output node Vout. This setup allows the subtraction of voltages Vin and VF, with the resulting voltage difference affecting the output voltage Vout.\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows a voltage subtraction using an NMOS transistor (M1), where the output voltage Vout is derived from the difference between Vin and VF. Resistors R1 and R2 are connected to the output to form a voltage divider.\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) shows a voltage subtraction using an NMOS transistor. The NMOS transistor M1 subtracts the voltage VF from Vin, resulting in Vout. Resistors R1 and R2 form a voltage divider at the output.\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel, feeding into an operational amplifier through a resistor RF.\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram shows the addition of two currents, Iin and IF, connected in parallel. An NMOS transistor (M3) controls the output voltage (Vout) based on the input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent can be sensed by inserting a small resistor in series with the conductor and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as demonstrated in Figs. 8.19(e) and (f) because $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be achieved as shown in Figs. 8.19(g) and (h). Note that in voltage subtraction, the input and feedback signals are applied to separate nodes, whereas in current subtraction, they are applied to a common node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, in reality, it introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "To incorporate a circuit into a feedback loop, it's essential to detect the output signal and feed back a portion of it to the input summing node. When voltage or current serve as input and output signals, four feedback types can be identified: voltage-voltage, voltage-current, current-current, and current-voltage. Here, the first term in each pair indicates the output quantity measured, and the second denotes the signal type returned to the input. ${ }^{6}$\n\nReviewing the techniques for sensing and combining voltages or currents is beneficial. For voltage sensing, a voltmeter is placed in parallel with the relevant port [Fig. 8.17(a)], ideally without causing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo: Diagram (a) illustrates a voltage sensing setup with a voltmeter paralleled to the output voltage source Vout, ensuring no circuit loading.\n\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo: This diagram depicts current sensing with a current meter in series with load resistor RL, through which current Iout flows.\n\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo: Circuit (c) shows current sensing using resistor R_S to measure current I_out through load resistor R_L, with voltage source V_S detecting the current via the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage via voltmeter; (b) current via current meter; (c) current via small resistor.\n\n[^48]In feedback systems, this sensing method is also termed \"shunt feedback,\" regardless of the signal type returned to the input.\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence also known as \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, voltages are connected in series and currents in parallel (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo: This circuit diagram illustrates the series connection of two voltages, Vin and VF, for addition.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo: This diagram shows the parallel connection of two currents, Iin and IF, for addition.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo visualize the methods in Figs. 8.17 and 8.18, various practical implementations are considered. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo: Diagram (a) shows current addition (Iin and IF) in parallel, with output voltage Vout across resistors R1 and R2, part of a series on voltage and current sensing and addition.\n\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo: Diagram (b) illustrates voltage addition (Vin and VF) using NMOS transistors M1 and M2, with output voltage Vout connected to resistors R1 and R2, and current source I1 injecting current into Vin.\n\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo: Diagram (c) shows a voltage addition circuit using an op-amp and feedback resistors R1 and R2, adding input voltages Vin and VF, with output taken across R1.\n\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo: This diagram shows voltage subtraction using a differential pair of NMOS transistors (M1 and M2), with current source I1 providing bias current to the gates. Resistors R1 and R2 form a voltage divider at Vout, allowing subtraction of Vin and VF.\n\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo: Diagram (e) illustrates voltage subtraction using an NMOS transistor (M1), with output voltage Vout derived from the difference between Vin and VF. Resistors R1 and R2 form a voltage divider at the output.\n\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo: Diagram (f) shows voltage subtraction using an NMOS transistor. NMOS M1 subtracts VF from Vin, resulting in Vout. Resistors R1 and R2 form a voltage divider at the output.\n\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo: This diagram represents current addition (Iin and IF) in parallel, feeding into an op-amp through resistor RF.\n\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo: This diagram shows current addition (Iin and IF) in parallel, with an NMOS transistor (M3) controlling output voltage Vout based on input voltage Vin.\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent can be sensed by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f), since $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be achieved as depicted in Figs. 8.19(g) and (h). Note that in voltage subtraction, the input and feedback signals are applied to separate nodes, whereas in current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, in reality, it introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "Incorporating a circuit into a feedback loop involves detecting the output signal and feeding a portion of it back to the input summing node. With voltage or current serving as input and output signals, four feedback types can be identified: voltage-voltage, voltage-current, current-current, and current-voltage. Here, the first term in each pair indicates the output signal measured, and the second term denotes the signal type returned to the input. ${ }^{6}$\n\nReviewing the techniques for sensing and summing voltages or currents is beneficial. To measure voltage, a voltmeter is connected in parallel with the relevant port [Fig. 8.17(a)], ideally without introducing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit where a voltmeter is paralleled with the output voltage source Vout, ensuring no circuit loading.\n\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram shows a current sensing configuration with a current meter in series with load resistor RL, through which current Iout flows.\n\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) depicts current sensing using a small resistor R_S to measure current I_out through load resistor R_L. Voltage source V_S detects the current via the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage via a voltmeter; (b) current via a current meter; (c) current via a small resistor.\n\n[^48]In feedback systems, this sensing method is also termed \"shunt feedback,\" irrespective of the signal type returned to the input.\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence also known as \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, they are connected in series if they are voltages and in parallel if they are currents (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram shows the series connection of two voltages, Vin and VF, for addition.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram depicts the parallel connection of two currents, Iin and IF, for addition.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo illustrate the methods in Figs. 8.17 and 8.18, several practical implementations are considered. Voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the parallel addition of two currents, Iin and IF, with output voltage Vout across resistors R1 and R2. This is part of a series illustrating voltage and current sensing and addition methods.\n\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) illustrates voltage addition using NMOS transistors M1 and M2. Voltages Vin and VF are added, with output Vout connected to resistors R1 and R2, and current source I1 injecting current into input node Vin.\n\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition circuit using an operational amplifier with feedback resistors R1 and R2. Input voltages Vin and VF are summed, and the output is taken across R1.\n\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram depicts voltage subtraction using a differential pair of NMOS transistors (M1 and M2). Current source I1 provides bias current to the transistor gates. Resistors R1 and R2 form a voltage divider at output node Vout, allowing subtraction of voltages Vin and VF.\n\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows voltage subtraction using an NMOS transistor (M1), with output voltage Vout derived from the difference between Vin and VF. Resistors R1 and R2 form a voltage divider at the output.\n\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) illustrates voltage subtraction using an NMOS transistor. NMOS transistor M1 subtracts voltage VF from Vin, resulting in Vout. Resistors R1 and R2 create a voltage divider at the output.\n\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram shows the parallel addition of two currents, Iin and IF, feeding into an operational amplifier through resistor RF.\n\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram shows the parallel addition of two currents, Iin and IF. An NMOS transistor (M3) controls the output voltage (Vout) based on input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent can be sensed by inserting a small resistor in series with the wire and measuring the voltage across it [Figs. 8.19(b) and (c)]. Voltage subtraction can be achieved using a differential pair [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f) because $I_{D 1}$ depends on $V_{i n}-V_{F}$. Current subtraction can be realized as shown in Fig. 8.19(g) or (h). Note that for voltage subtraction, the input and feedback signals are applied to separate nodes, whereas for current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, it inevitably introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "Implementing a circuit within a feedback loop entails detecting the output signal and feeding back a portion of it to the input summing node. With voltage or current as the input and output signals, four feedback types can be identified: voltage-voltage, voltage-current, current-current, and current-voltage. Here, the first term in each pair indicates the output signal being sensed, and the second denotes the signal type returned to the input. ${ }^{6}$\n\nReviewing the techniques for sensing and summing voltages or currents is beneficial. To measure a voltage, a voltmeter is connected in parallel with the relevant port [Fig. 8.17(a)], ideally without causing any loading.\nimage_name:(a)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: Voltmeter, type: Other, ports: {N1: Vout, N2: GND}\n]\nextrainfo:The diagram (a) illustrates a voltage sensing circuit where a voltmeter is paralleled with the output voltage source Vout, ensuring no circuit loading during voltage measurement.\nimage_name:(b)\ndescription:\n[\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Vout, Nn: GND}\nname: RL, type: Resistor, value: RL, ports: {N1: Iout, N2: GND}\n]\nextrainfo:The diagram depicts a current sensing configuration with a current meter in series with the load resistor RL, through which the current Iout flows.\nimage_name:(c)\ndescription:\n[\nname: V_out, type: VoltageSource, value: V_out, ports: {Np: I_out, Nn: GND}\nname: R_L, type: Resistor, value: R_L, ports: {N1: I_out, N2: GND}\nname: R_S, type: Resistor, value: R_S, ports: {N1: GND, N2: V_S}\nname: V_S, type: VoltageSource, value: V_S, ports: {Np: V_S, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a current sensing setup using a small resistor R_S to measure the current I_out through the load resistor R_L. The voltage source V_S detects the current by measuring the voltage drop across R_S.\n\nFigure 8.17 Sensing (a) voltage via a voltmeter; (b) current via a current meter; (c) current via a small resistor.\n\n[^48]In feedback systems, this sensing method is also termed \"shunt feedback,\" irrespective of the feedback signal type.\n\nFor current sensing, a current meter is placed in series with the signal [Fig. 8.17(b)], ideally with zero series resistance, hence also known as \"series feedback.\" Practically, a small resistor replaces the current meter [Fig. 8.17(c)], with the voltage drop across it indicating the output current.\n\nThe combination of feedback and input signals can occur in either the voltage or current domain. To sum two quantities, voltages are connected in series and currents in parallel (Fig. 8.18).\nimage_name:Figure 8.18 Addition of (a) voltages\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: VF}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates the series connection of two voltages, Vin and VF, for addition.\n\n(a)\nimage_name:(b)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram shows the parallel connection of two currents, Iin and IF, for addition.\n\n(b)\n\nFigure 8.18 Addition of (a) voltages and (b) currents.\n\nTo visualize the techniques in Figs. 8.17 and 8.18, various practical implementations are considered. A voltage can be sensed using a resistive (or capacitive) divider in parallel with the port [Fig. 8.19(a)] and a\nimage_name:(a)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram in figure (a) shows the parallel addition of two currents, Iin and IF, with the output voltage Vout across resistors R1 and R2. This diagram is part of a series illustrating voltage and current sensing and addition methods.\nimage_name:(b)\ndescription:\n[\nname: Vin, type: VoltageSource, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, ports: {Np: Vout, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: GND}\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: VF}\nname: I1, type: CurrentSource, value: I1, ports: {Np: Vin, Nn: GND}\n]\nextrainfo:The circuit diagram (b) illustrates a voltage addition configuration using NMOS transistors M1 and M2. The output voltage Vout connects to resistors R1 and R2, and current source I1 injects current into the input node Vin.\nimage_name:(c)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: GND}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: Iout, type: CurrentSource, value: Iout, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit diagram (c) shows a voltage addition setup using an operational amplifier with feedback resistors R1 and R2. Input voltages Vin and VF are summed, and the output is taken across R1.\nimage_name:(d)\ndescription:\n[\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\nname: M1, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: VF, G: P}\nname: I1, type: CurrentSource, value: I1, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit diagram illustrates voltage subtraction using a differential pair of NMOS transistors (M1 and M2). Current source I1 provides bias current to the gates of the NMOS transistors. Resistors R1 and R2 form a voltage divider at the output node Vout, enabling the subtraction of voltages Vin and VF, influencing the output voltage Vout.\nimage_name:(e)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: G1}\n]\nextrainfo:The circuit diagram (e) shows voltage subtraction using an NMOS transistor (M1), where the output voltage Vout is derived from the difference between Vin and VF. Resistors R1 and R2 form a voltage divider at the output.\nimage_name:(f)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: VF, D: Vout, G: Vin}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: GND}\nname: R2, type: Resistor, value: R2, ports: {N1: Vout, N2: VF}\n]\nextrainfo:The circuit diagram (f) shows voltage subtraction using an NMOS transistor. NMOS transistor M1 subtracts voltage VF from Vin, resulting in Vout. Resistors R1 and R2 form a voltage divider at the output.\nimage_name:(g)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Iin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Iin, Nn: GND}\nname: RF, type: Resistor, value: RF, ports: {N1: Iin, N2: OpAmpIn}\n]\nextrainfo:The circuit diagram shows the parallel addition of two currents, Iin and IF, feeding into an operational amplifier through resistor RF.\nimage_name:(h)\ndescription:\n[\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: Vin, Nn: GND}\nname: IF, type: CurrentSource, value: IF, ports: {Np: Vin, Nn: GND}\nname: M3, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\n]\nextrainfo:The circuit diagram shows the parallel addition of two currents, Iin and IF. An NMOS transistor (M3) controls the output voltage (Vout) based on the input voltage (Vin).\n\nFigure 8.19 Practical methods for sensing and adding voltages and currents.\ncurrent can be sensed by inserting a small resistor in series with the conductor and measuring the voltage across it [Figs. 8.19(b) and (c)]. For voltage subtraction, a differential pair can be employed [Fig. 8.19(d)]. Alternatively, a single transistor can perform voltage subtraction as shown in Figs. 8.19(e) and (f) due to $I_{D 1}$ being dependent on $V_{i n}-V_{F}$. Current subtraction can be achieved as illustrated in Figs. 8.19(g) and (h). Note that in voltage subtraction, the input and feedback signals are applied to separate nodes, whereas in current subtraction, they are applied to a single node. This distinction aids in identifying the feedback type.\n\nAlthough ideally the feedback network should not affect the open-loop amplifier's operation, in reality, it introduces loading effects that must be considered. This topic is discussed in Sec. 8.5."
},
{
    "text": "In this section, we examine four \"canonical\" topologies that arise from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The central amplifier is referred to as the \"feedforward\" or simply the \"forward\" amplifier, to which feedback is applied to enhance performance.\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The diagram portrays a canonical feedback system comprising two primary components: the Forward Amplifier and the Feedback Network.\n\n1. **Primary Components:**\n- **Forward Amplifier (H(s))**: This block signifies the main amplifier in the system, tasked with amplifying the input signal. The function H(s) represents the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This block is tasked with returning a part of the output signal to the input. The transfer function G(s) describes how the feedback network handles the signal.\n\n2. **Information or Control Flow:**\n- The input signal, labeled X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) is output as Y(s), which serves as the system's output.\n- A fraction of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with '+' and '−' signs to signify the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly delineating the path from input to output and back through the feedback loop.\n\n4. **System Function Overview:**\n- The core function of this feedback system is to enhance the performance of the Forward Amplifier by utilizing feedback to regulate its behavior. This can involve stabilizing gain, minimizing distortion, and controlling bandwidth. The feedback loop aids in adjusting the system's response to input changes or disturbances, making it vital for achieving desired performance attributes.\n\nFigure 8.20 Canonical feedback system.\n\nIt is important to note that some feedback circuits do not align with the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are fundamental to analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies that arise from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The principal amplifier, known as the \"feedforward\" or simply the \"forward\" amplifier, is surrounded by feedback to enhance its performance.\n\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The illustration depicts a canonical feedback system comprising two primary elements: the Forward Amplifier and the Feedback Network.\n\n1. **Primary Elements:**\n- **Forward Amplifier (H(s))**: This block signifies the main amplifier in the system, tasked with amplifying the input signal. The function H(s) represents the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This block is tasked with returning a portion of the output signal to the input. The transfer function G(s) describes how the feedback network handles the signal.\n\n2. **Information or Control Flow:**\n- The input signal, represented as X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) is output as Y(s), which serves as the system's output.\n- A segment of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with '+' and '−' signs to signify the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly delineating the path from input to output and back through the feedback loop.\n\n4. **System Function Overview:**\n- The core function of this feedback system is to enhance the performance of the Forward Amplifier by utilizing feedback to regulate its behavior. This can involve stabilizing gain, minimizing distortion, and managing bandwidth. The feedback loop aids in adjusting the system's response to input changes or disturbances, making it vital for achieving desired performance traits.\n\nFigure 8.20 Canonical feedback system.\n\nIt is important to note that some feedback circuits do not adhere to the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are indispensable to analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies derived from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The central amplifier is referred to as the \"feedforward\" or simply the \"forward\" amplifier, to which feedback is applied to enhance performance.\n\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The diagram portrays a canonical feedback system comprising two primary components: the Forward Amplifier and the Feedback Network.\n\n1. **Primary Components:**\n- **Forward Amplifier (H(s))**: This block symbolizes the main amplifier in the system, tasked with amplifying the input signal. The function H(s) signifies the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This block is tasked with returning a portion of the output signal to the input. The transfer function G(s) describes how the feedback network processes the signal.\n\n2. **Information or Control Flow:**\n- The input signal, labeled as X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) is output as Y(s), representing the system's output.\n- A segment of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Markers:**\n- The summing junction is designated with '+' and '−' signs to signify the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly delineating the path from input to output and back through the feedback loop.\n\n4. **System Function Overview:**\n- The core function of this feedback system is to enhance the performance of the Forward Amplifier by utilizing feedback to regulate its behavior. This can involve stabilizing the gain, minimizing distortion, and controlling bandwidth. The feedback loop aids in adjusting the system's response to input changes or disturbances, making it pivotal for achieving desired performance traits.\n\nFigure 8.20 Canonical feedback system.\n\nIt is important to note that certain feedback circuits do not align with the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are fundamental to analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies derived from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The primary amplifier, termed the \"feedforward\" or simply the \"forward\" amplifier, is surrounded by feedback to enhance its performance.\n\nimage_name: Figure 8.20 Canonical feedback system\ndescription: The diagram portrays a canonical feedback system comprising two principal components: the Forward Amplifier and the Feedback Network.\n\n1. **Principal Components:**\n- **Forward Amplifier (H(s))**: This block signifies the main amplifier in the system, tasked with amplifying the input signal. The function H(s) represents the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This block is tasked with returning a part of the output signal to the input. The transfer function G(s) describes how the feedback network processes the signal.\n\n2. **Information or Control Flow:**\n- The input signal, designated as X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) is output as Y(s), representing the system's output.\n- A segment of Y(s) is directed back through the Feedback Network G(s) to the summing junction, completing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with '+' and '−' signs to denote the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly showing the path from input to output and back through the feedback loop.\n\n4. **Overall System Function:**\n- The main function of this feedback system is to enhance the performance of the Forward Amplifier by utilizing feedback to regulate its behavior. This can involve stabilizing the gain, minimizing distortion, and controlling bandwidth. The feedback loop aids in adjusting the system's response to input changes or disturbances, making it vital for achieving desired performance traits.\n\nFigure 8.20 Canonical feedback system.\n\nIt is important to note that some feedback circuits do not align with the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are crucial to analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies derived from placing each of the four amplifier types in a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The primary amplifier, known as the \"feedforward\" or simply the \"forward\" amplifier, is surrounded by feedback to enhance its performance.\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The diagram depicts a canonical feedback system comprising two principal components: the Forward Amplifier and the Feedback Network.\n\n1. **Principal Components:**\n- **Forward Amplifier (H(s))**: This block signifies the main amplifier in the system, tasked with amplifying the input signal. The function H(s) represents the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This block is tasked with returning a portion of the output signal to the input. The transfer function G(s) describes how the feedback network handles the signal.\n\n2. **Information or Control Flow:**\n- The input signal, designated as X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) is output as Y(s), representing the system's output.\n- A fraction of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with '+' and '−' signs to signify the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly delineating the path from input to output and back through the feedback loop.\n\n4. **Overall System Function:**\n- The main function of this feedback system is to enhance the performance of the Forward Amplifier by utilizing feedback to regulate its behavior. This can involve stabilizing the gain, minimizing distortion, and controlling bandwidth. The feedback loop aids in adjusting the system's response to input changes or disturbances, making it a vital element in achieving the desired performance attributes.\n\nFigure 8.20 Canonical feedback system.\n\nIt is important to note that some feedback circuits do not align with the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are crucial for analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies that arise from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The principal amplifier, termed the \"feedforward\" or simply the \"forward\" amplifier, is surrounded by feedback to enhance its performance.\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The diagram illustrates a canonical feedback system comprising two primary components: the Forward Amplifier and the Feedback Network.\n\n1. **Primary Components:**\n- **Forward Amplifier (H(s))**: This block symbolizes the main amplifier in the system, tasked with amplifying the input signal. The function H(s) represents the amplifier's transfer function, depicting its behavior in the frequency domain.\n- **Feedback Network (G(s))**: This block is tasked with returning a portion of the output signal to the input. The transfer function G(s) describes how the feedback network processes the signal.\n\n2. **Information or Control Flow:**\n- The input signal, designated as X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) emerges as Y(s), which serves as the system's output.\n- A fraction of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with '+' and '−' signs to denote the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly delineating the path from input to output and back through the feedback loop.\n\n4. **System Function Overview:**\n- The core function of this feedback system is to enhance the performance of the Forward Amplifier by utilizing feedback to regulate its behavior. This can involve stabilizing the gain, minimizing distortion, and controlling bandwidth. The feedback loop aids in adjusting the system's response to input changes or disturbances, making it a vital element in achieving the desired performance attributes.\n\nFigure 8.20 Canonical feedback system.\n\nIt is important to note that some feedback circuits do not align with the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are fundamental to analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies that arise from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The primary amplifier, referred to as the \"feedforward\" or simply the \"forward\" amplifier, is the central component around which feedback is applied to enhance performance.\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The illustration portrays a canonical feedback system comprising two principal elements: the Forward Amplifier and the Feedback Network.\n\n1. **Principal Elements:**\n- **Forward Amplifier (H(s))**: This block signifies the main amplifier in the system, tasked with amplifying the input signal. The function H(s) represents the amplifier's transfer function, depicting its frequency-domain behavior.\n- **Feedback Network (G(s))**: This block is tasked with returning a part of the output signal to the input. The transfer function G(s) defines how the feedback network handles the signal.\n\n2. **Information or Control Flow:**\n- The input signal, represented as X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) is emitted as Y(s), which serves as the system's output.\n- A segment of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Markers:**\n- The summing junction is designated with '+' and '−' signs to signify the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly delineating the path from input to output and back through the feedback loop.\n\n4. **System Function Overview:**\n- The core function of this feedback system is to refine the performance of the Forward Amplifier by utilizing feedback to regulate its behavior. This can encompass stabilizing gain, minimizing distortion, and managing bandwidth. The feedback loop aids in adjusting the system's response to input variations or disturbances, making it pivotal for achieving the desired performance traits.\n\nFigure 8.20 Canonical feedback system.\n\nIt is worth noting that certain feedback circuits do not adhere to the four canonical topologies. We will revisit this point later in the chapter, but the insights derived from analyzing these topologies are fundamental to analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies derived from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The central amplifier is termed the \"feedforward\" or simply the \"forward\" amplifier, to which feedback is applied to enhance performance.\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The illustration depicts a canonical feedback system comprising two primary elements: the Forward Amplifier and the Feedback Network.\n\n1. **Primary Elements:**\n- **Forward Amplifier (H(s))**: This segment denotes the main amplifier in the system, tasked with amplifying the input signal. The function H(s) signifies the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This component is responsible for returning a portion of the output signal to the input. The transfer function G(s) describes how the feedback network handles the signal.\n\n2. **Information or Control Flow:**\n- The input signal, represented as X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The signal amplified by H(s) is output as Y(s), which serves as the system's output.\n- A segment of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is designated with '+' and '−' signs to signify the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly delineating the path from input to output and back through the feedback loop.\n\n4. **System Function Overview:**\n- The core function of this feedback system is to enhance the performance of the Forward Amplifier by utilizing feedback to regulate its behavior. This can involve stabilizing gain, minimizing distortion, and managing bandwidth. The feedback loop aids in adjusting the system's response to input changes or disturbances, making it vital for achieving desired performance attributes.\n\nFigure 8.20 Canonical feedback system.\n\nIt is important to note that certain feedback circuits do not adhere to the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are crucial for analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies that arise from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The central amplifier, referred to as the \"feedforward\" or simply the \"forward\" amplifier, is surrounded by feedback to enhance its performance.\n\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The illustration portrays a canonical feedback system comprising two primary elements: the Forward Amplifier and the Feedback Network.\n\n1. **Primary Elements:**\n- **Forward Amplifier (H(s))**: This block symbolizes the main amplifier in the system, tasked with amplifying the input signal. The function H(s) signifies the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This block is tasked with returning a portion of the output signal to the input. The transfer function G(s) defines how the feedback network handles the signal.\n\n2. **Information or Control Flow:**\n- The input signal, labeled X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) emerges as Y(s), which is the system's output.\n- A segment of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Symbols:**\n- The summing junction is marked with '+' and '−' signs to signify the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly delineating the path from input to output and back through the feedback loop.\n\n4. **System's Fundamental Function:**\n- The core function of this feedback system is to enhance the performance of the Forward Amplifier by employing feedback to regulate its behavior. This can encompass stabilizing gain, minimizing distortion, and managing bandwidth. The feedback loop aids in adjusting the system's response to input changes or disturbances, making it vital for achieving the desired performance attributes.\n\nFigure 8.20 Canonical feedback system.\n\nIt is important to note that some feedback circuits do not adhere to the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are fundamental to analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies derived from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The central amplifier, known as the \"feedforward\" or simply the \"forward\" amplifier, is surrounded by feedback to enhance its performance.\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The diagram depicts a canonical feedback system comprising two primary components: the Forward Amplifier and the Feedback Network.\n\n1. **Primary Components:**\n- **Forward Amplifier (H(s))**: This block symbolizes the main amplifier in the system, tasked with amplifying the input signal. The function H(s) represents the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This block is tasked with returning a portion of the output signal to the input. The transfer function G(s) describes how the feedback network handles the signal.\n\n2. **Information or Control Flow:**\n- The input signal, represented as X(s), enters the system and is initially processed by a summing junction.\n- At this junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) is output as Y(s), which constitutes the system's output.\n- A segment of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Markers:**\n- The summing junction is indicated with '+' and '−' signs to signify the addition of the input signal and the subtraction of the feedback signal.\n- Arrows denote the direction of signal flow, clearly outlining the path from input to output and back through the feedback loop.\n\n4. **System Function Overview:**\n- The main purpose of this feedback system is to enhance the performance of the Forward Amplifier by employing feedback to regulate its behavior. This can involve stabilizing the gain, minimizing distortion, and managing bandwidth. The feedback loop aids in adjusting the system's response to input variations or disturbances, making it vital for achieving the desired performance attributes.\n\nFigure 8.20 Canonical feedback system.\n\nIt is worth noting that certain feedback circuits do not align with the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are indispensable for analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies that arise from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The central amplifier, known as the \"feedforward\" or simply the \"forward\" amplifier, is surrounded by feedback to enhance its performance.\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The diagram portrays a canonical feedback system comprising two primary components: the Forward Amplifier and the Feedback Network.\n\n1. **Key Components:**\n- **Forward Amplifier (H(s))**: This block stands for the main amplifier in the system, tasked with amplifying the input signal. The function H(s) signifies the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This block handles the return of a portion of the output signal to the input. The transfer function G(s) defines how the feedback network manipulates the signal.\n\n2. **Signal Flow and Control:**\n- The input signal, identified as X(s), enters the system and is initially processed by a summing junction.\n- At this junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The signal amplified by H(s) is emitted as Y(s), which serves as the system's output.\n- A segment of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Markings and Annotations:**\n- The summing junction is labeled with '+' and '−' signs to signify the addition of the input signal and the subtraction of the feedback signal.\n- Arrows denote the direction of signal flow, clearly mapping the path from input to output and back through the feedback loop.\n\n4. **System Functionality:**\n- The core function of this feedback system is to refine the performance of the Forward Amplifier by employing feedback to regulate its behavior. This can involve stabilizing gain, minimizing distortion, and managing bandwidth. The feedback loop aids in adjusting the system's reaction to input variations or disturbances, making it vital for achieving the desired performance traits.\n\nFigure 8.20 Canonical feedback system.\n\nIt is worth noting that certain feedback circuits do not adhere to these four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are indispensable for analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "In this section, we examine four \"canonical\" topologies that arise from incorporating each of the four amplifier types into a negative-feedback loop. As illustrated in Fig. 8.20, $X$ and $Y$ can represent either current or voltage quantities. The central amplifier is referred to as the \"feedforward\" or simply the \"forward\" amplifier, to which feedback is applied to enhance performance.\n\nimage_name:Figure 8.20 Canonical feedback system\ndescription:The diagram depicts a canonical feedback system comprising two primary components: the Forward Amplifier and the Feedback Network.\n\n1. **Primary Components:**\n- **Forward Amplifier (H(s))**: This block signifies the main amplifier in the system, tasked with amplifying the input signal. The function H(s) represents the amplifier's transfer function, depicting its frequency domain behavior.\n- **Feedback Network (G(s))**: This block is tasked with returning a portion of the output signal to the input. The transfer function G(s) describes how the feedback network processes the signal.\n\n2. **Information or Control Flow:**\n- The input signal, represented as X(s), enters the system and is initially processed by a summing junction.\n- At the summing junction, the feedback signal is subtracted from the input signal, generating an error signal that is then fed into the Forward Amplifier H(s).\n- The amplified signal from H(s) is output as Y(s), which serves as the system's output.\n- A fraction of Y(s) is directed back through the Feedback Network G(s) to the summing junction, thus completing the feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n- The summing junction is marked with '+' and '−' signs to denote the addition of the input signal and the subtraction of the feedback signal.\n- Arrows indicate the direction of signal flow, clearly illustrating the path from input to output and back through the feedback loop.\n\n4. **Overall System Function:**\n- The main purpose of this feedback system is to enhance the performance of the Forward Amplifier by utilizing feedback to regulate its behavior. This can involve stabilizing the gain, minimizing distortion, and controlling bandwidth. The feedback loop aids in adjusting the system's response to input changes or disturbances, making it vital for achieving desired performance traits.\n\nFigure 8.20 Canonical feedback system.\n\nIt is important to note that some feedback circuits do not adhere to the four canonical topologies. We will revisit this point later in the chapter, but the insights gained from analyzing these topologies are crucial for analog design. For instance, understanding that one type of feedback decreases output impedance while another increases it is highly beneficial."
},
{
    "text": "The given topology detects the output voltage and returns a voltage as the feedback signal. As shown in Figs. 8.17 and 8.18, the feedback network is connected in parallel to the output and in series with the input (Fig. 8.21). An ideal feedback network in this scenario has infinite input impedance and zero output impedance because it senses a voltage and generates a voltage. Therefore, we can write \\( V_F = \\beta V_{\\text{out}} \\), \\( V_e = V_{\\text{in}} - V_F \\), \\( V_{\\text{out}} = A_0 (V_{\\text{in}} - \\beta V_{\\text{out}}) \\), and hence:\n\n\\[\n\\frac{V_{\\text{out}}}{V_{\\text{in}}} = \\frac{A_0}{1 + \\beta A_0} \\tag{8.31}\n\\]\n\nWe recognize that \\( \\beta A_0 \\) is the loop gain and that the overall gain has decreased by \\( 1 + \\beta A_0 \\). Note that here both \\( A_0 \\) and \\( \\beta \\) are dimensionless quantities.\n\nAs a simple example of voltage-voltage feedback, consider using a differential voltage amplifier with a single-ended output as the feedforward amplifier and a resistive divider as the feedback network.\n\nFigure 8.21 Voltage-voltage feedback illustrates a voltage-voltage feedback amplifier configuration. The system block diagram, labeled \"Figure 8.21 Voltage-voltage feedback,\" depicts the main components and their interactions:\n\n1. **Main Components:**\n   - **Feedforward Amplifier (A₀):** This block is the primary amplifier in the system, which amplifies the input signal. It is characterized by a gain denoted as A₀.\n   - **Feedback Network (β):** A resistive divider network that samples the output voltage and provides a portion of it back to the input to form a feedback loop. The feedback factor is represented by β.\n\n2. **Flow of Information or Control:**\n   - **Input (V_in):** The input voltage is fed into the system at the left side of the diagram.\n   - **Error Signal (V_e):** The difference between the input voltage (V_in) and the feedback voltage (V_F) is the error signal (V_e), which is input to the feedforward amplifier.\n   - **Output (V_out):** The amplified output is taken from the feedforward amplifier and is also the point from which feedback is derived.\n   - **Feedback Path:** The output voltage (V_out) is sampled by the feedback network, which reduces it by a factor of β and feeds it back to the input to form the feedback voltage (V_F).\n   - **Feedback Loop:** The feedback loop is closed by connecting the output of the feedback network back to the input, influencing the error signal and thus controlling the overall gain of the system.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - **Low R_out and High R_in:** These indicate that the system is designed to have a low output impedance and a high input impedance, which are desirable traits for voltage amplifiers.\n   - **A₀ and β:** These are key parameters in determining the system's gain and stability, with A₀ being the open-loop gain and β being the feedback factor.\n\n4. **Overall System Function:**\n   - The primary function of this system is to provide stable voltage amplification with feedback control. The feedback reduces the overall gain by a factor of (1 + βA₀), enhancing stability and bandwidth while reducing distortion. The system is designed to maintain a low output impedance and high input impedance, making it suitable for driving loads and accepting signals from various sources.\n\nFigure 8.21 Voltage-voltage feedback.\nThe circuit is a voltage-voltage feedback amplifier with an operational amplifier A0. It uses resistors R1 and R2 to form a feedback network that senses the output voltage. The feedback reduces the overall gain to enhance stability and bandwidth while reducing distortion.\n\n(a)\nThe circuit is a voltage-voltage feedback amplifier with an operational amplifier A0. It uses resistors R1 and R2 to form a feedback network that senses the output voltage. The feedback reduces the overall gain to enhance stability and bandwidth while reducing distortion. A current named I_in(A0) flows into the negative input of the operational amplifier.\n\n(b)\n\nFigure 8.22 (a) Amplifier with output sensed by a resistive divider; (b) voltage-voltage feedback amplifier.\nThe block diagram in Figure 8.23 represents a voltage-voltage feedback amplifier system. Here are the key components and their interactions:\n\n1. **Main Components:**\n   - **Operational Amplifier (A0):** This is the central component of the system, amplifying the input signal. It has a gain represented by \\( A_0 \\) and receives the error voltage \\( V_e \\) as input.\n   - **Feedback Network (β):** This block senses the output voltage \\( V_{out} \\) and produces a feedback voltage \\( V_F \\), which is a fraction of the output. The feedback network is characterized by the feedback factor \\( β \\).\n   - **Output Load (R_L):** This resistor represents the load connected to the output of the amplifier.\n   - **Output Resistance (R_out):** This is the inherent resistance at the output of the operational amplifier.\n\n2. **Flow of Information or Control:**\n   - The input voltage \\( V_{in} \\) is applied to the non-inverting terminal of the operational amplifier.\n   - The output voltage \\( V_{out} \\) is fed back through the feedback network \\( β \\) to produce \\( V_F \\), which is subtracted from the input voltage \\( V_{in} \\) to generate the error voltage \\( V_e \\).\n   - The error voltage \\( V_e \\) is then amplified by the operational amplifier \\( A_0 \\) to produce the amplified output.\n   - The output voltage \\( V_{out} \\) is sensed across the load \\( R_L \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n   - \\( V_{in}^+ \\) and \\( V_{in}^- \\) indicate the positive and negative input terminals of the amplifier.\n   - \\( V_{out}^+ \\) and \\( V_{out}^- \\) mark the positive and negative output terminals.\n   - The feedback voltage \\( V_F \\) is derived using the feedback factor \\( β \\).\n\n4. **Overall System Function:**\n   - The primary function of this system is to provide stable amplification of the input voltage \\( V_{in} \\) with reduced distortion and improved bandwidth. The feedback loop, formed by the feedback network (β), reduces the effective gain of the amplifier, thereby enhancing stability and reducing output impedance. This feedback mechanism ensures that any deviation in the output voltage is corrected by adjusting the input to the amplifier, maintaining the desired performance characteristics.\n\nFigure 8.23 Effect of voltage-voltage feedback on output resistance.\n[Fig. 8.22(a)]. The divider senses the output voltage, producing a fraction thereof as the feedback signal \\( V_F \\). Following the block diagram of Fig. 8.21, we place \\( V_F \\) in series with the input of the amplifier to perform subtraction of voltages [Fig. 8.22(b)].\n\nHow does voltage-voltage feedback modify the input and output impedances? Let us first consider the output impedance. Recall that a negative-feedback system attempts to make the output an accurate (scaled) replica of the input. Now suppose, as shown in Fig. 8.23, we load the output by a resistor \\( R_L \\), gradually decreasing its value. While in the open-loop configuration, the output would simply drop in proportion to \\( R_L / (R_L + R_{\\text{out}}) \\), in the feedback system, \\( V_{\\text{out}} \\) is maintained as a reasonable replica of \\( V_{\\text{in}} \\) even though \\( R_L \\) decreases. That is, so long as the loop gain remains much greater than unity, \\( V_{\\text{out}} / V_{\\text{in}} \\approx 1 / \\beta \\), regardless of the value of \\( R_L \\). From another point of view, since the circuit stabilizes (\"regulates\") the output voltage amplitude despite load variations, it behaves as a voltage source, thus exhibiting a low output impedance. This property fundamentally originates from the gain desensitization provided by feedback.\n\nIn order to formally prove that voltage feedback lowers the output impedance, we consider the simple model in Fig. 8.24, where \\( R_{\\text{out}} \\) represents the output impedance of the feedforward amplifier. Setting the input to zero and applying a voltage at the output, we write \\( V_F = \\beta V_X \\), \\( V_e = -\\beta V_X \\), \\( V_M = -\\beta A_0 V_X \\),\nand hence \\( I_X = [V_X - (-\\beta A_0 V_X)] / R_{\\text{out}} \\) (if the current drawn by the feedback network is neglected). It follows that:\n\n\\[\n\\frac{V_X}{I_X} = \\frac{R_{\\text{out}}}{1 + \\beta A_0} \\tag{8.32}\n\\]\n\nThus, the output impedance and the gain are lowered by the same factor. In the circuit of Fig. 8.22(b), for example, the output impedance is lowered by \\( 1 + A_0 R_2 / (R_1 + R_2) \\).\n\n#### Example 8.4\n\nThe circuit shown in Fig. 8.25(a) is an implementation of the feedback configuration depicted in Fig. 8.22(b), but with the resistors replaced by capacitors. (The bias network of \\( M_2 \\) is not shown.) Calculate the closed-loop gain and output resistance of the amplifier at relatively low frequencies.\nThe circuit is a simple operational amplifier with a differential input and a single-ended output. It utilizes NMOS and PMOS transistors in a complementary configuration. Capacitors C1 and C2 are used for frequency compensation, and a current source Iss provides biasing. The power supply is connected to VDD, and the output is taken from Vout.\nThe circuit is a simple operational amplifier with NMOS and PMOS transistors. It uses capacitive feedback with C1 and C2 to control the frequency response. The circuit is powered by a VDD voltage source and has a current source Iss for biasing.\nThe circuit in diagram (c) is a simple operational amplifier configuration with feedback capacitors C1 and C2. The NMOS transistors M1 and M2 form a differential pair, while PMOS transistors M3 and M4 act as a current mirror load. The circuit is powered by a voltage source VDD, and a current source Iss is used for biasing. The feedback network includes capacitors C1 and C2, which are connected to the voltage source Vt for loop gain calculation.\n\nFigure 8.25\n\n#### Solution\n\nAt low frequencies, \\( C_1 \\) and \\( C_2 \\) draw a negligible current from the output node. To find the open-loop voltage gain, we break the feedback loop as shown in Fig. 8.25(b), grounding the top plate of \\( C_1 \\) to ensure zero voltage feedback. The open-loop gain is thus equal to \\( g_{m1}(r_{O2} \\| r_{O4}) \\).\n\nWe must also compute the loop gain, \\( \\beta A_0 \\). With the aid of Fig. 8.25(c), we have:\n\n\\[\nV_F = -V_t \\frac{C_1}{C_1 + C_2} g_{m1}(r_{O2} \\| r_{O4}) \\tag{8.33}\n\\]\n\nThat is:\n\n\\[\n\\beta A_0 = \\frac{C_1}{C_1 + C_2} g_{m1}(r_{O2} \\| r_{O4}) \\tag{8.34}\n\\]\n\nand hence:\n\n\\[\nA_{\\text{closed}} = \\frac{g_{m1}(r_{O2} \\| r_{O4})}{1 + \\frac{C_1}{C_1 + C_2} g_{m1}(r_{O2} \\| r_{O4})} \\tag{8.35}\n\\]\n\nAs expected, if \\( \\beta A_0 \\gg 1 \\), then \\( A_{\\text{closed}} \\approx 1 + C_2 / C_1 \\).\nThe open-loop output resistance of the circuit is equal to \\( r_{O2} \\| r_{O4} \\) (Chapter 5). It follows that:\n\n\\[\nR_{\\text{out, closed}} = \\frac{r_{O2} \\| r_{O4}}{1 + \\frac{C_1}{C_1 + C_2} g_{m1}(r_{O2} \\| r_{O4})} \\tag{8.36}\n\\]\n\nIt is interesting to note that if \\( \\beta A_0 \\gg 1 \\), then:\n\n\\[\nR_{\\text{out, closed}} \\approx \\left(1 + \\frac{C_2}{C_1}\\right) \\frac{1}{g_{m1}} \\tag{8.37}\n\\]\n\nIn other words, even if the open-loop amplifier suffers from a high output resistance, the closed-loop output resistance is independent of \\( r_{O2} \\| r_{O4} \\), simply because the open-loop gain scales with \\( r_{O2} \\| r_{O4} \\) as well.\n\n#### Example 8.5\n\nFigure 8.26(a) shows an inverting amplifier using an op amp, and Fig. 8.26(b) illustrates a circuit implementation incorporating capacitors rather than resistors for the feedback network. Determine the loop gain and output impedance of the latter at low frequencies.\nThe circuit diagram (a) is an inverting amplifier using an op-amp with resistors R1 and R2 forming the feedback network. The input voltage is Vin and the output voltage is Vout.\nThe circuit in (b) is an inverting amplifier using capacitors for feedback. It includes an op-amp and a combination of NMOS and PMOS transistors. The gain is determined by the ratio of C2 to C1, and the topology affects the loop gain and output impedance.\n\nFigure 8.26\n\n#### Solution\n\nWith \\( V_{in} \\) set to zero, this circuit becomes indistinguishable from that in Fig. 8.25(a). Thus, the loop gain is given by (8.34) and the output impedance by (8.36).\n\nThe circuits in Figs. 8.25(a) and 8.26(b) appear similar, but provide different closed-loop gains, approximately \\( 1 + C_2 / C_1 \\) and \\( -C_2 / C_1 \\), respectively. Thus, for a gain of, say, 4, \\( C_2 / C_1 \\approx 3 \\) in the former and \\( C_2 / C_1 \\approx 4 \\) in the latter. Which topology exhibits a higher loop gain in this case?\n\nVoltage-voltage feedback also modifies the input impedance. Comparing the configurations in Fig. 8.27, we note that the input impedance of the feedforward amplifier sustains the entire input voltage in Fig. 8.27(a), but only a fraction of \\( V_{in} \\) in Fig. 8.27(b). As a result, the current drawn by \\( R_{in} \\) in the feedback topology is less than that in the open-loop system, suggesting that returning a voltage quantity to the input increases the input impedance.\nThe circuit uses a voltage-voltage feedback configuration to increase input impedance. The input voltage is applied across Rin, and the controlled source AoVe provides amplification. Rout is connected to the output, Vout.\nThe circuit in diagram (b) is a voltage amplifier with feedback. The voltage feedback is taken from the output and fed back to the input through a factor β. This feedback increases the input impedance and reduces the output impedance. The circuit consists of an input voltage source Vin, an input resistor Rin, an output resistor Rout, and a load resistor RL. The feedback loop is used to control the gain and stability of the amplifier.\n\nFigure 8.27 Effect of voltage-voltage feedback on input resistance.\nThe foregoing observation can be confirmed analytically with the aid of Fig. 8.28. Since \\( V_e = I_X R_{in} \\) and \\( V_F = \\beta A_0 I_X R_{in} \\), we have \\( V_e = V_X - V_F = V_X - \\beta A_0 I_X R_{in} \\). Thus, \\( I_X R_{in} = V_X - \\beta A_0 I_X R_{in} \\), and:\n\n\\[\n\\frac{V_X}{I_X} = R_{in}(1 + \\beta A_0) \\tag{8.38}\n\\]\n\nThe input impedance therefore increases by the ubiquitous factor \\( 1 + \\beta A_0 \\), bringing the circuit closer to an ideal voltage amplifier.\nThe circuit is a voltage-voltage feedback configuration with an input impedance that increases by a factor of 1+βA0. It features a voltage source Vx, a current source Ix, a resistor Rin, and an operational amplifier A0. The feedback is controlled by the factor β.\n\nFigure 8.28 Calculation of input impedance of a voltage-voltage feedback circuit.\n\n#### Example 8.6\n\nFigure 8.29(a) shows a common-gate topology placed in a voltage-voltage feedback configuration. Note that the summation of the feedback voltage and the input voltage is accomplished by applying the former to the gate and the latter to the source. Calculate the input resistance at low frequencies if channel-length modulation is negligible.\n\n#### Solution\n\nBreaking the loop as depicted in Fig. 8.29(b), we recognize that the open-loop input resistance is equal to \\( (g_{m1} + g_{mb1})^{-1} \\). To find the loop gain, we set the input to zero and inject a test signal into the loop [Fig. 8.29(c)], obtaining \\( V_F / V_t = -g_{m1} R_D C_1 / (C_1 + C_2) \\). The closed-loop input impedance is then equal to:\n\n\\[\nR_{\\text{in, closed}} = \\frac{1}{g_{m1} + g_{mb1}}\\left(1 + \\frac{C_1}{C_1 + C_2} g_{m1} R_D\\right) \\tag{8.39}\n\\]\n\nThe circuit is a common-source amplifier with an NMOS transistor M1. The input is at node Vin, and the output is at node Vout. The circuit uses a current source ISS as a biasing element. Capacitors C1 and C2 are connected in parallel to node P, providing AC coupling. The resistor"
},
{
    "text": "Image Descriptions: Textual representations of images referenced in the provided context have been transformed. You are also required to rephrase the text within the [Context Provided] Section, ensuring the rephrased version retains the original meaning and length. Please present only the rephrased text below."
},
{
    "text": "This topology detects the output voltage and returns a feedback signal as a voltage. ${ }^{7}$ Based on the conceptual illustrations of Figs. 8.17 and 8.18, we observe that the feedback network is connected in parallel with the output and in series with the input port (Fig. 8.21). In this case, an ideal feedback network has infinite input impedance and zero output impedance because it senses a voltage and generates a voltage. Therefore, we can write $V_{F}=\\beta V_{\\text {out }}, V_{e}=V_{\\text {in }}-V_{F}, V_{\\text {out }}=A_{0}\\left(V_{\\text {in }}-\\beta V_{\\text {out }}\\right)$, and hence\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}=\\frac{A_{0}}{1+\\beta A_{0}} \\tag{8.31}\n\\end{equation*}\n$$\n\nWe recognize that $\\beta A_{0}$ is the loop gain and that the overall gain has decreased by $1+\\beta A_{0}$. Note that here both $A_{0}$ and $\\beta$ are dimensionless quantities.\n\nAs a simple example of voltage-voltage feedback, suppose we use a differential voltage amplifier with single-ended output as the feedforward amplifier and a resistive divider as the feedback network\n\n[^49]image_name:Figure 8.21 Voltage-voltage feedback\ndescription: The system block diagram, labeled \"Figure 8.21 Voltage-voltage feedback,\" illustrates a voltage-voltage feedback amplifier configuration.\n\n1. **Main Components:**\n- **Feedforward Amplifier (A₀):** This block is the primary amplifier in the system, which amplifies the input signal. It is characterized by a gain denoted as A₀.\n- **Feedback Network (β):** A resistive divider network that samples the output voltage and provides a portion of it back to the input to form a feedback loop. The feedback factor is represented by β.\n\n2. **Flow of Information or Control:**\n- **Input (V_in):** The input voltage is fed into the system at the left side of the diagram.\n- **Error Signal (V_e):** The difference between the input voltage (V_in) and the feedback voltage (V_F) is the error signal (V_e), which is input to the feedforward amplifier.\n- **Output (V_out):** The amplified output is taken from the feedforward amplifier and is also the point from which feedback is derived.\n- **Feedback Path:** The output voltage (V_out) is sampled by the feedback network, which reduces it by a factor of β and feeds it back to the input to form the feedback voltage (V_F).\n- **Feedback Loop:** The feedback loop is closed by connecting the output of the feedback network back to the input, influencing the error signal and thus controlling the overall gain of the system.\n\n3. **Labels, Annotations, and Key Indicators:**\n- **Low R_out and High R_in:** These indicate that the system is designed to have a low output impedance and a high input impedance, which are desirable traits for voltage amplifiers.\n- **A₀ and β:** These are key parameters in determining the system's gain and stability, with A₀ being the open-loop gain and β being the feedback factor.\n\n4. **Overall System Function:**\n- The primary function of this system is to provide stable voltage amplification with feedback control. The feedback reduces the overall gain by a factor of (1 + βA₀), enhancing stability and bandwidth while reducing distortion. The system is designed to maintain a low output impedance and high input impedance, making it suitable for driving loads and accepting signals from various sources.\n\nFigure 8.21 Voltage-voltage feedback.\nimage_name:Figure 8.21 Voltage-voltage feedback\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: Vin, InN: X1, Out: Vout}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: X1}\nname: R2, type: Resistor, value: R2, ports: {N1: X1, N2: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: X1, Nn: GND}\n]\nextrainfo: The circuit is a voltage-voltage feedback amplifier with an operational amplifier A0. It uses resistors R1 and R2 to form a feedback network that senses the output voltage. The feedback reduces the overall gain to enhance stability and bandwidth while reducing distortion.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: Vin, InN: X1, OutP: Vout, OutN: '}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: X1}\nname: R2, type: Resistor, value: R2, ports: {N1: X1, N2: GND'}\n]\nextrainfo: The circuit is a voltage-voltage feedback amplifier with an operational amplifier A0. It uses resistors R1 and R2 to form a feedback network that senses the output voltage. The feedback reduces the overall gain to enhance stability and bandwidth while reducing distortion. A current named I_in(A0) flows into the negative input of the operational amplifier.\n\n(b)\n\nFigure 8.22 (a) Amplifier with output sensed by a resistive divider; (b) voltage-voltage feedback amplifier.\nimage_name:Figure 8.23\ndescription: The block diagram in Figure 8.23 represents a voltage-voltage feedback amplifier system. Here are the key components and their interactions:\n\n1. **Main Components:**\n- **Operational Amplifier (A0):** This is the central component of the system, amplifying the input signal. It has a gain represented by \\( A_0 \\) and receives the error voltage \\( V_e \\) as input.\n- **Feedback Network (β):** This block senses the output voltage \\( V_{out} \\) and produces a feedback voltage \\( V_F \\), which is a fraction of the output. The feedback network is characterized by the feedback factor \\( β \\).\n- **Output Load (R_L):** This resistor represents the load connected to the output of the amplifier.\n- **Output Resistance (R_out):** This is the inherent resistance at the output of the operational amplifier.\n\n2. **Flow of Information or Control:**\n- The input voltage \\( V_{in} \\) is applied to the non-inverting terminal of the operational amplifier.\n- The output voltage \\( V_{out} \\) is fed back through the feedback network \\( β \\) to produce \\( V_F \\), which is subtracted from the input voltage \\( V_{in} \\) to generate the error voltage \\( V_e \\).\n- The error voltage \\( V_e \\) is then amplified by the operational amplifier \\( A_0 \\) to produce the amplified output.\n- The output voltage \\( V_{out} \\) is sensed across the load \\( R_L \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n- \\( V_{in}^+ \\) and \\( V_{in}^- \\) indicate the positive and negative input terminals of the amplifier.\n- \\( V_{out}^+ \\) and \\( V_{out}^- \\) mark the positive and negative output terminals.\n- The feedback voltage \\( V_F \\) is derived using the feedback factor \\( β \\).\n\n4. **Overall System Function:**\n- The primary function of this system is to provide stable amplification of the input voltage \\( V_{in} \\) with reduced distortion and improved bandwidth. The feedback loop, formed by the feedback network (β), reduces the effective gain of the amplifier, thereby enhancing stability and reducing output impedance. This feedback mechanism ensures that any deviation in the output voltage is corrected by adjusting the input to the amplifier, maintaining the desired performance characteristics.\n\nFigure 8.23 Effect of voltage-voltage feedback on output resistance.\n[Fig. 8.22(a)]. The divider senses the output voltage, producing a fraction thereof as the feedback signal $V_{F}$. Following the block diagram of Fig. 8.21, we place $V_{F}$ in series with the input of the amplifier to perform subtraction of voltages [Fig. 8.22(b)].\n\nHow does voltage-voltage feedback modify the input and output impedances? Let us first consider the output impedance. Recall that a negative-feedback system attempts to make the output an accurate (scaled) replica of the input. Now suppose, as shown in Fig. 8.23, we load the output by a resistor $R_{L}$, gradually decreasing its value. While in the open-loop configuration, the output would simply drop in proportion to $R_{L} /\\left(R_{L}+R_{\\text {out }}\\right)$, in the feedback system, $V_{\\text {out }}$ is maintained as a reasonable replica of $V_{\\text {in }}$ even though $R_{L}$ decreases. That is, so long as the loop gain remains much greater than unity, $V_{\\text {out }} / V_{\\text {in }} \\approx 1 / \\beta$, regardless of the value of $R_{L}$. From another point of view, since the circuit stabilizes (\"regulates\") the output voltage amplitude despite load variations, it behaves as a voltage source, thus exhibiting a low output impedance. This property fundamentally originates from the gain desensitization provided by feedback.\n\nIn order to formally prove that voltage feedback lowers the output impedance, we consider the simple model in Fig. 8.24, where $R_{\\text {out }}$ represents the output impedance of the feedforward amplifier. Setting the input to zero and applying a voltage at the output, we write $V_{F}=\\beta V_{X}, V_{e}=-\\beta V_{X}, V_{M}=-\\beta A_{0} V_{X}$,\nimage_name:Figure 8.24\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: VF, InN: Ve, OutP: VM, OutN: '}\nname: Rout, type: Resistor, value: Rout, ports: {N1: VM, N2: Vx}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Vx, Nn: GND'}\n]\nextrainfo: The circuit illustrates a voltage-voltage feedback system where the output impedance is reduced by feedback. The feedback factor is represented by β, and the output impedance Rout is modified by the gain factor A0. The feedback voltage VF is derived from the output voltage Vx.\n\nFigure 8.24 Calculation of output resistance of a voltage-voltage feedback circuit.\nand hence $I_{X}=\\left[V_{X}-\\left(-\\beta A_{0} V_{X}\\right)\\right] / R_{\\text {out }}$ (if the current drawn by the feedback network is neglected). It follows that\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=\\frac{R_{\\text {out }}}{1+\\beta A_{0}} \\tag{8.32}\n\\end{equation*}\n$$\n\nThus, the output impedance and the gain are lowered by the same factor. In the circuit of Fig. 8.22(b), for example, the output impedance is lowered by $1+A_{0} R_{2} /\\left(R_{1}+R_{2}\\right)$.\n\n#### Example 8.4\n\nThe circuit shown in Fig. 8.25(a) is an implementation of the feedback configuration depicted in Fig. 8.22(b), but with the resistors replaced by capacitors. (The bias network of $M_{2}$ is not shown.) Calculate the closed-loop gain and output resistance of the amplifier at relatively low frequencies.\nimage_name:(a)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: p}\nname: M3, type: PMOS, ports: {S: VDD, D: Vout, G: x1}\nname: M4, type: PMOS, ports: {S: VDD, D: x1, G: x1}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: X}\nname: C2, type: Capacitor, value: C2, ports: {Np: X, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: The circuit is a simple operational amplifier with a differential input and a single-ended output. It utilizes NMOS and PMOS transistors in a complementary configuration. Capacitors C1 and C2 are used for frequency compensation, and a current source Iss provides biasing. The power supply is connected to VDD, and the output is taken from Vout.\nimage_name:(b)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: p, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: p, D: Vout, G: X1}\nname: M3, type: PMOS, ports: {S: VDD, D: X1, G: X1}\nname: M4, type: PMOS, ports: {S: VDD, D: Vout, G: X1}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: X}\nname: C2, type: Capacitor, value: C2, ports: {Np: X, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: The circuit is a simple operational amplifier with NMOS and PMOS transistors. It uses capacitive feedback with C1 and C2 to control the frequency response. The circuit is powered by a VDD voltage source and has a current source Iss for biasing.\nimage_name:(c)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: p, D: x, G: Vin}\nname: M2, type: NMOS, ports: {S: p, D: Vout, G: VF}\nname: M3, type: PMOS, ports: {S: VDD, D: x1, G: x}\nname: M4, type: PMOS, ports: {S: VDD, D: Vout, G: x}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: x}\nname: C2, type: Capacitor, value: C2, ports: {Np: x, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: The circuit in diagram (c) is a simple operational amplifier configuration with feedback capacitors C1 and C2. The NMOS transistors M1 and M2 form a differential pair, while PMOS transistors M3 and M4 act as a current mirror load. The circuit is powered by a voltage source VDD, and a current source Iss is used for biasing. The feedback network includes capacitors C1 and C2, which are connected to the voltage source Vt for loop gain calculation.\n\nFigure 8.25\n\n#### Solution\n\nAt low frequencies, $C_{1}$ and $C_{2}$ draw a negligible current from the output node. To find the open-loop voltage gain, we break the feedback loop as shown in Fig. 8.25(b), grounding the top plate of $C_{1}$ to ensure zero voltage feedback. The open-loop gain is thus equal to $g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)$.\n\nWe must also compute the loop gain, $\\beta A_{0}$. With the aid of Fig. 8.25(c), we have\n\n$$\n\\begin{equation*}\nV_{F}=-V_{t} \\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right) \\tag{8.33}\n\\end{equation*}\n$$\n\nThat is\n\n$$\n\\begin{equation*}\n\\beta A_{0}=\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right) \\tag{8.34}\n\\end{equation*}\n$$\n\nand hence\n\n$$\n\\begin{equation*}\nA_{\\text {closed }}=\\frac{g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)} \\tag{8.35}\n\\end{equation*}\n$$\n\nAs expected, if $\\beta A_{0} \\gg 1$, then $A_{\\text {closed }} \\approx 1+C_{2} / C_{1}$.\nThe open-loop output resistance of the circuit is equal to $r_{O 2} \\| r_{O 4}$ (Chapter 5). It follows that\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\frac{r_{O 2} \\| r_{O 4}}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)} \\tag"
},
{
    "text": "This topology detects the output voltage and converts the feedback signal into a voltage. As depicted in Figs. 8.17 and 8.18, the feedback network is linked in parallel to the output and in series with the input port (Fig. 8.21). In this scenario, an ideal feedback network demonstrates infinite input impedance and zero output impedance because it detects a voltage and produces a voltage. Therefore, we can express $V_{F}=\\beta V_{\\text {out }}, V_{e}=V_{\\text {in }}-V_{F}, V_{\\text {out }}=A_{0}\\left(V_{\\text {in }}-\\beta V_{\\text {out }}\\right)$, and subsequently\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}=\\frac{A_{0}}{1+\\beta A_{0}} \\tag{8.31}\n\\end{equation*}\n$$\n\nWe recognize that $\\beta A_{0}$ is the loop gain and that the overall gain has decreased by $1+\\beta A_{0}$. It's important to note that both $A_{0}$ and $\\beta$ are dimensionless quantities.\n\nAs a simple illustration of voltage-voltage feedback, let's consider a differential voltage amplifier with a single-ended output serving as the feedforward amplifier and a resistive divider as the feedback network.\n\n[^49]image_name:Figure 8.21 Voltage-voltage feedback\ndescription: The system block diagram, labeled \"Figure 8.21 Voltage-voltage feedback,\" depicts a voltage-voltage feedback amplifier configuration.\n\n1. **Main Components:**\n- **Feedforward Amplifier (A₀):** This block acts as the primary amplifier in the system, amplifying the input signal. It is defined by a gain indicated as A₀.\n- **Feedback Network (β):** A resistive divider network that samples the output voltage and supplies a portion of it back to the input to create a feedback loop. The feedback factor is denoted by β.\n\n2. **Flow of Information or Control:**\n- **Input (V_in):** The input voltage is introduced into the system at the left side of the diagram.\n- **Error Signal (V_e):** The distinction between the input voltage (V_in) and the feedback voltage (V_F) is the error signal (V_e), which is fed into the feedforward amplifier.\n- **Output (V_out):** The amplified output is derived from the feedforward amplifier and also serves as the source of feedback.\n- **Feedback Path:** The output voltage (V_out) is sampled by the feedback network, which diminishes it by a factor of β and feeds it back to the input to generate the feedback voltage (V_F).\n- **Feedback Loop:** The feedback loop is closed by connecting the output of the feedback network back to the input, affecting the error signal and thus governing the overall gain of the system.\n\n3. **Labels, Annotations, and Key Indicators:**\n- **Low R_out and High R_in:** These indicate that the system is designed to possess a low output impedance and a high input impedance, which are desirable attributes for voltage amplifiers.\n- **A₀ and β:** These are pivotal parameters in determining the system's gain and stability, with A₀ being the open-loop gain and β being the feedback factor.\n\n4. **Overall System Function:**\n- The primary function of this system is to deliver stable voltage amplification with feedback control. The feedback diminishes the overall gain by a factor of (1 + βA₀), enhancing stability and bandwidth while reducing distortion. The system is designed to preserve a low output impedance and high input impedance, making it appropriate for driving loads and accepting signals from diverse sources.\n\nFigure 8.21 Voltage-voltage feedback.\nimage_name:Figure 8.21 Voltage-voltage feedback\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: Vin, InN: X1, Out: Vout}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: X1}\nname: R2, type: Resistor, value: R2, ports: {N1: X1, N2: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: X1, Nn: GND}\n]\nextrainfo: The circuit represents a voltage-voltage feedback amplifier with an operational amplifier A0. It employs resistors R1 and R2 to form a feedback network that detects the output voltage. The feedback diminishes the overall gain to enhance stability and bandwidth while reducing distortion.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: Vin, InN: X1, OutP: Vout, OutN: '}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: X1}\nname: R2, type: Resistor, value: R2, ports: {N1: X1, N2: GND'}\n]\nextrainfo: The circuit represents a voltage-voltage feedback amplifier with an operational amplifier A0. It employs resistors R1 and R2 to form a feedback network that detects the output voltage. The feedback diminishes the overall gain to enhance stability and bandwidth while reducing distortion. A current named I_in(A0) flows into the negative input of the operational amplifier.\n\n(b)\n\nFigure 8.22 (a) Amplifier with output sensed by a resistive divider; (b) voltage-voltage feedback amplifier.\nimage_name:Figure 8.23\ndescription: The block diagram in Figure 8.23 signifies a voltage-voltage feedback amplifier system. Here are the key components and their interactions:\n\n1. **Main Components:**\n- **Operational Amplifier (A0):** This is the central component of the system, amplifying the input signal. It has a gain denoted by \\( A_0 \\) and receives the error voltage \\( V_e \\) as input.\n- **Feedback Network (β):** This block detects the output voltage \\( V_{out} \\) and generates a feedback voltage \\( V_F \\), which is a fraction of the output. The feedback network is characterized by the feedback factor \\( β \\).\n- **Output Load (R_L):** This resistor signifies the load connected to the output of the amplifier.\n- **Output Resistance (R_out):** This is the inherent resistance at the output of the operational amplifier.\n\n2. **Flow of Information or Control:**\n- The input voltage \\( V_{in} \\) is applied to the non-inverting terminal of the operational amplifier.\n- The output voltage \\( V_{out} \\) is fed back through the feedback network \\( β \\) to produce \\( V_F \\), which is subtracted from the input voltage \\( V_{in} \\) to generate the error voltage \\( V_e \\).\n- The error voltage \\( V_e \\) is then amplified by the operational amplifier \\( A_0 \\) to generate the amplified output.\n- The output voltage \\( V_{out} \\) is sensed across the load \\( R_L \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n- \\( V_{in}^+ \\) and \\( V_{in}^- \\) indicate the positive and negative input terminals of the amplifier.\n- \\( V_{out}^+ \\) and \\( V_{out}^- \\) mark the positive and negative output terminals.\n- The feedback voltage \\( V_F \\) is derived using the feedback factor \\( β \\).\n\n4. **Overall System Function:**\n- The primary function of this system is to provide stable amplification of the input voltage \\( V_{in} \\) with reduced distortion and improved bandwidth. The feedback loop, formed by the feedback network (β), diminishes the effective gain of the amplifier, thereby enhancing stability and reducing output impedance. This feedback mechanism ensures that any deviation in the output voltage is corrected by adjusting the input to the amplifier, maintaining the desired performance characteristics.\n\nFigure 8.23 Effect of voltage-voltage feedback on output resistance.\n[Fig. 8.22(a)]. The divider detects the output voltage, generating a fraction thereof as the feedback signal $V_{F}$. Following the block diagram of Fig. 8.21, we position $V_{F}$ in series with the input of the amplifier to perform subtraction of voltages [Fig. 8.22(b)].\n\nHow does voltage-voltage feedback alter the input and output impedances? Let's first examine the output impedance. Remember that a negative-feedback system endeavors to make the output an accurate (scaled) replica of the input. Now consider, as shown in Fig. 8.23, we load the output by a resistor $R_{L}$, progressively decreasing its value. While in the open-loop configuration, the output would simply drop in proportion to $R_{L} /\\left(R_{L}+R_{\\text {out }}\\right)$, in the feedback system, $V_{\\text {out }}$ is preserved as a reasonable replica of $V_{\\text {in }}$ despite the decrease in $R_{L}$. That is, so long as the loop gain remains much greater than unity, $V_{\\text {out }} / V_{\\text {in }} \\approx 1 / \\beta$, irrespective of the value of $R_{L}$. From another perspective, since the circuit stabilizes (\"regulates\") the output voltage amplitude despite load variations, it behaves as a voltage source, thereby exhibiting a low output impedance. This attribute fundamentally stems from the gain desensitization provided by feedback.\n\nTo formally demonstrate that voltage feedback reduces the output impedance, we consider the simple model in Fig. 8.24, where $R_{\\text {out }}$ represents the output impedance of the feedforward amplifier. Setting the input to zero and applying a voltage at the output, we write $V_{F}=\\beta V_{X}, V_{e}=-\\beta V_{X}, V_{M}=-\\beta A_{0} V_{X}$,\nimage_name:Figure 8.24\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: VF, InN: Ve, OutP: VM, OutN: '}\nname: Rout, type: Resistor, value: Rout, ports: {N1: VM, N2: Vx}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Vx, Nn: GND'}\n]\nextrainfo: The circuit illustrates a voltage-voltage feedback system where the output impedance is reduced by feedback. The feedback factor is represented by β, and the output impedance Rout is modified by the gain factor A0. The feedback voltage VF is derived from the output voltage Vx.\n\nFigure 8.24 Calculation of output resistance of a voltage-voltage feedback circuit.\nand hence $I_{X}=\\left[V_{X}-\\left(-\\beta A_{0} V_{X}\\right)\\right] / R_{\\text {out }}$ (if the current drawn by the feedback network is neglected). It follows that\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=\\frac{R_{\\text {out }}}{1+\\beta A_{0}} \\tag{8.32}\n\\end{equation*}\n$$\n\nThus, the output impedance and the gain are reduced by the same factor. In the circuit of Fig. 8.22(b), for example, the output impedance is reduced by $1+A_{0} R_{2} /\\left(R_{1}+R_{2}\\right)$.\n\n#### Example 8.4\n\nThe circuit depicted in Fig. 8.25(a) is an implementation of the feedback configuration depicted in Fig. 8.22(b), but with the resistors replaced by capacitors. (The bias network of $M_{2}$ is not shown.) Calculate the closed-loop gain and output resistance of the amplifier at relatively low frequencies.\nimage_name:(a)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: p}\nname: M3, type: PMOS, ports: {S: VDD, D: Vout, G: x1}\nname: M4, type: PMOS, ports: {S: VDD, D: x1, G: x1}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: X}\nname: C2, type: Capacitor, value: C2, ports: {Np: X, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: The circuit is a simple operational amplifier with a differential input and a single-ended output. It utilizes NMOS and PMOS transistors in a complementary configuration. Capacitors C1 and C2 are used for frequency compensation, and a current source Iss provides biasing. The power supply is connected to VDD, and the output is taken from Vout.\nimage_name:(b)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: p, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: p, D: Vout, G: X1}\nname: M3, type: PMOS, ports: {S: VDD, D: X1, G: X1}\nname: M4, type: PMOS, ports: {S: VDD, D: Vout, G: X1}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: X}\nname: C2, type: Capacitor, value: C2, ports: {Np: X, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: The circuit is a simple operational amplifier with NMOS and PMOS transistors. It uses capacitive feedback with C1 and C2 to control the frequency response. The circuit is powered by a VDD voltage source and has a current source Iss for biasing.\nimage_name:(c)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: p, D: x, G: Vin}\nname: M2, type: NMOS, ports: {S: p, D: Vout, G: VF}\nname: M3, type: PMOS, ports: {S: VDD, D: x1, G: x}\nname: M4, type: PMOS, ports: {S: VDD, D: Vout, G: x}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: x}\nname: C2, type: Capacitor, value: C2, ports: {Np: x, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: The circuit in diagram (c) is a simple operational amplifier configuration with feedback capacitors C1 and C2. The NMOS transistors M1 and M2 form a differential pair, while PMOS transistors M3 and M4 act as a current mirror load. The circuit is powered by a voltage source VDD, and a current source Iss is used for biasing. The feedback network includes capacitors C1 and C2, which are connected to the voltage source Vt for loop gain calculation.\n\nFigure 8.25\n\n#### Solution\n\nAt low frequencies, $C_{1}$ and $C_{2}$ draw a negligible current from the output node. To determine the open-loop voltage gain, we break the feedback loop as shown in Fig. 8.25(b), grounding the top plate of $C_{1}$ to ensure zero voltage feedback. The open-loop gain is thus equal to $g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)$.\n\nWe must also compute the loop gain, $\\beta A_{0}$. With the aid of Fig. 8.25(c), we have\n\n$$\n\\begin{equation*}\nV_{F}=-V_{t} \\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right) \\tag{8.33}\n\\end{equation*}\n$$\n\nThat is\n\n$$\n\\begin{equation*}\n\\beta A_{0}=\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right) \\tag{8.34}\n\\end{equation*}\n$$\n\nand hence\n\n$$\n\\begin{equation*}\nA_{\\text {closed }}=\\frac{g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)} \\tag{8.35}\n\\end{equation*}\n$$\n\nAs expected, if $\\beta A_{0} \\gg 1$, then $A_{\\text {closed }} \\approx 1+C_{2} / C_{1}$.\nThe open-loop output resistance of the circuit is equal to $r_{O 2} \\| r_{O 4}$ (Chapter 5). It follows that\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\frac{r_{O 2} \\| r_{O 4}}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)} \\tag{8.36}\n"
},
{
    "text": "The text provided outlines the operation and effects of a voltage-voltage feedback topology within amplifier circuits. It begins by describing how the topology senses the output voltage, generating a feedback signal that is proportional to the output voltage and then fed back to the input in series, forming a closed-loop system. The ideal feedback network in this topology has an infinite input impedance and zero output impedance, leading to equations that describe the relationship between the input voltage, output voltage, and feedback voltage.\n\nThe text mentions the loop gain, which is the product of the open-loop gain \\( A_0 \\) and the feedback factor \\( \\beta \\), and how it affects the overall gain of the system. It then proceeds to describe a simple example of a voltage-voltage feedback circuit using a differential voltage amplifier and a resistive divider as the feedback network.\n\nKey components and their interactions are explained, such as the feedforward amplifier characterized by \\( A_0 \\), the feedback network characterized by \\( \\beta \\), and the flow of the input and output signals. The system's function is to provide stable voltage amplification with reduced distortion and improved bandwidth, maintaining a low output impedance and high input impedance.\n\nThe text also includes a description of a block diagram illustrating the voltage-voltage feedback amplifier configuration, detailing the main components, flow of information, labels, annotations, and the overall system function. Additionally, the effects of voltage-voltage feedback on output and input impedances are discussed, explaining how the feedback mechanism can stabilize the output voltage and increase the input impedance.\n\nFurthermore, the text provides examples and calculations for the closed-loop gain and output resistance of amplifiers with capacitive feedback networks at low frequencies. It also discusses how voltage-voltage feedback modifies the input impedance, increasing it and bringing the circuit closer to an ideal voltage amplifier.\n\nLastly\nThe provided text describes\nThe provided text discusses\nThe provided text"
},
{
    "text": "This topology detects the output voltage and returns a feedback signal in the form of a voltage. As depicted in Figs. 8.17 and 8.18, the feedback network is connected in parallel with the output and in series with the input port (Fig. 8.21). An ideal feedback network in this scenario would have infinite input impedance and zero output impedance because it senses a voltage and generates a voltage. Therefore, we can write $V_{F}=\\beta V_{\\text {out }}, V_{e}=V_{\\text {in }}-V_{F}, V_{\\text {out }}=A_{0}\\left(V_{\\text {in }}-\\beta V_{\\text {out }}\\right)$, and hence\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}=\\frac{A_{0}}{1+\\beta A_{0}} \\tag{8.31}\n\\end{equation*}\n$$\n\nWe recognize that $\\beta A_{0}$ is the loop gain and that the overall gain has dropped by $1+\\beta A_{0}$. Note that here both $A_{0}$ and $\\beta$ are dimensionless quantities.\n\nAs a simple example of voltage-voltage feedback, suppose we employ a differential voltage amplifier with single-ended output as the feedforward amplifier and a resistive divider as the feedback network.\n\n[^49]image_name:Figure 8.21 Voltage-voltage feedback\ndescription: The system block diagram, labeled \"Figure 8.21 Voltage-voltage feedback,\" illustrates a voltage-voltage feedback amplifier configuration.\n\n1. **Main Components:**\n- **Feedforward Amplifier (A₀):** This block is the primary amplifier in the system, which amplifies the input signal. It is characterized by a gain denoted as A₀.\n- **Feedback Network (β):** A resistive divider network that samples the output voltage and provides a portion of it back to the input to form a feedback loop. The feedback factor is represented by β.\n\n2. **Flow of Information or Control:**\n- **Input (V_in):** The input voltage is fed into the system at the left side of the diagram.\n- **Error Signal (V_e):** The difference between the input voltage (V_in) and the feedback voltage (V_F) is the error signal (V_e), which is input to the feedforward amplifier.\n- **Output (V_out):** The amplified output is taken from the feedforward amplifier and is also the point from which feedback is derived.\n- **Feedback Path:** The output voltage (V_out) is sampled by the feedback network, which reduces it by a factor of β and feeds it back to the input to form the feedback voltage (V_F).\n- **Feedback Loop:** The feedback loop is closed by connecting the output of the feedback network back to the input, influencing the error signal and thus controlling the overall gain of the system.\n\n3. **Labels, Annotations, and Key Indicators:**\n- **Low R_out and High R_in:** These indicate that the system is designed to have a low output impedance and a high input impedance, which are desirable traits for voltage amplifiers.\n- **A₀ and β:** These are key parameters in determining the system's gain and stability, with A₀ being the open-loop gain and β being the feedback factor.\n\n4. **Overall System Function:**\n- The primary function of this system is to provide stable voltage amplification with feedback control. The feedback reduces the overall gain by a factor of (1 + βA₀), enhancing stability and bandwidth while reducing distortion. The system is designed to maintain a low output impedance and high input impedance, making it suitable for driving loads and accepting signals from various sources.\n\nFigure 8.21 Voltage-voltage feedback.\nimage_name:Figure 8.21 Voltage-voltage feedback\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: Vin, InN: X1, Out: Vout}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: X1}\nname: R2, type: Resistor, value: R2, ports: {N1: X1, N2: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: X1, Nn: GND}\n]\nextrainfo: The circuit is a voltage-voltage feedback amplifier with an operational amplifier A0. It uses resistors R1 and R2 to form a feedback network that senses the output voltage. The feedback reduces the overall gain to enhance stability and bandwidth while reducing distortion.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: Vin, InN: X1, OutP: Vout, OutN: '}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: X1}\nname: R2, type: Resistor, value: R2, ports: {N1: X1, N2: GND'}\n]\nextrainfo: The circuit is a voltage-voltage feedback amplifier with an operational amplifier A0. It uses resistors R1 and R2 to form a feedback network that senses the output voltage. The feedback reduces the overall gain to enhance stability and bandwidth while reducing distortion. A current named I_in(A0) flows into the negative input of the operational amplifier.\n\n(b)\n\nFigure 8.22 (a) Amplifier with output sensed by a resistive divider; (b) voltage-voltage feedback amplifier.\nimage_name:Figure 8.23\ndescription: The block diagram in Figure 8.23 represents a voltage-voltage feedback amplifier system. Here are the key components and their interactions:\n\n1. **Main Components:**\n- **Operational Amplifier (A0):** This is the central component of the system, amplifying the input signal. It has a gain represented by \\( A_0 \\) and receives the error voltage \\( V_e \\) as input.\n- **Feedback Network (β):** This block senses the output voltage \\( V_{out} \\) and produces a feedback voltage \\( V_F \\), which is a fraction of the output. The feedback network is characterized by the feedback factor \\( β \\).\n- **Output Load (R_L):** This resistor represents the load connected to the output of the amplifier.\n- **Output Resistance (R_out):** This is the inherent resistance at the output of the operational amplifier.\n\n2. **Flow of Information or Control:**\n- The input voltage \\( V_{in} \\) is applied to the non-inverting terminal of the operational amplifier.\n- The output voltage \\( V_{out} \\) is fed back through the feedback network \\( β \\) to produce \\( V_F \\), which is subtracted from the input voltage \\( V_{in} \\) to generate the error voltage \\( V_e \\).\n- The error voltage \\( V_e \\) is then amplified by the operational amplifier \\( A_0 \\) to produce the amplified output.\n- The output voltage \\( V_{out} \\) is sensed across the load \\( R_L \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n- \\( V_{in}^+ \\) and \\( V_{in}^- \\) indicate the positive and negative input terminals of the amplifier.\n- \\( V_{out}^+ \\) and \\( V_{out}^- \\) mark the positive and negative output terminals.\n- The feedback voltage \\( V_F \\) is derived using the feedback factor \\( β \\).\n\n4. **Overall System Function:**\n- The primary function of this system is to provide stable amplification of the input voltage \\( V_{in} \\) with reduced distortion and improved bandwidth. The feedback loop, formed by the feedback network (β), reduces the effective gain of the amplifier, thereby enhancing stability and reducing output impedance. This feedback mechanism ensures that any deviation in the output voltage is corrected by adjusting the input to the amplifier, maintaining the desired performance characteristics.\n\nFigure 8.23 Effect of voltage-voltage feedback on output resistance.\n[Fig. 8.22(a)]. The divider senses the output voltage, producing a fraction thereof as the feedback signal $V_{F}$. Following the block diagram of Fig. 8.21, we place $V_{F}$ in series with the input of the amplifier to perform subtraction of voltages [Fig. 8.22(b)].\n\nHow does voltage-voltage feedback modify the input and output impedances? Let us first consider the output impedance. Recall that a negative-feedback system attempts to make the output an accurate (scaled) replica of the input. Now suppose, as shown in Fig. 8.23, we load the output by a resistor $R_{L}$, gradually decreasing its value. While in the open-loop configuration, the output would simply drop in proportion to $R_{L} /\\left(R_{L}+R_{\\text {out }}\\right)$, in the feedback system, $V_{\\text {out }}$ is maintained as a reasonable replica of $V_{\\text {in }}$ even though $R_{L}$ decreases. That is, so long as the loop gain remains much greater than unity, $V_{\\text {out }} / V_{\\text {in }} \\approx 1 / \\beta$, regardless of the value of $R_{L}$. From another point of view, since the circuit stabilizes (\"regulates\") the output voltage amplitude despite load variations, it behaves as a voltage source, thus exhibiting a low output impedance. This property fundamentally originates from the gain desensitization provided by feedback.\n\nIn order to formally prove that voltage feedback lowers the output impedance, we consider the simple model in Fig. 8.24, where $R_{\\text {out }}$ represents the output impedance of the feedforward amplifier. Setting the input to zero and applying a voltage at the output, we write $V_{F}=\\beta V_{X}, V_{e}=-\\beta V_{X}, V_{M}=-\\beta A_{0} V_{X}$,\nimage_name:Figure 8.24\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: VF, InN: Ve, OutP: VM, OutN: '}\nname: Rout, type: Resistor, value: Rout, ports: {N1: VM, N2: Vx}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Vx, Nn: GND'}\n]\nextrainfo: The circuit illustrates a voltage-voltage feedback system where the output impedance is reduced by feedback. The feedback factor is represented by β, and the output impedance Rout is modified by the gain factor A0. The feedback voltage VF is derived from the output voltage Vx.\n\nFigure 8.24 Calculation of output resistance of a voltage-voltage feedback circuit.\nand hence $I_{X}=\\left[V_{X}-\\left(-\\beta A_{0} V_{X}\\right)\\right] / R_{\\text {out }}$ (if the current drawn by the feedback network is neglected). It follows that\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=\\frac{R_{\\text {out }}}{1+\\beta A_{0}} \\tag{8.32}\n\\end{equation*}\n$$\n\nThus, the output impedance and the gain are lowered by the same factor. In the circuit of Fig. 8.22(b), for example, the output impedance is lowered by $1+A_{0} R_{2} /\\left(R_{1}+R_{2}\\right)$.\n\n#### Example 8.4\n\nThe circuit shown in Fig. 8.25(a) is an implementation of the feedback configuration depicted in Fig. 8.22(b), but with the resistors replaced by capacitors. (The bias network of $M_{2}$ is not shown.) Calculate the closed-loop gain and output resistance of the amplifier at relatively low frequencies.\nimage_name:(a)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: p}\nname: M3, type: PMOS, ports: {S: VDD, D: Vout, G: x1}\nname: M4, type: PMOS, ports: {S: VDD, D: x1, G: x1}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: X}\nname: C2, type: Capacitor, value: C2, ports: {Np: X, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: The circuit is a simple operational amplifier with a differential input and a single-ended output. It utilizes NMOS and PMOS transistors in a complementary configuration. Capacitors C1 and C2 are used for frequency compensation, and a current source Iss provides biasing. The power supply is connected to VDD, and the output is taken from Vout.\nimage_name:(b)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: p, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: p, D: Vout, G: X1}\nname: M3, type: PMOS, ports: {S: VDD, D: X1, G: X1}\nname: M4, type: PMOS, ports: {S: VDD, D: Vout, G: X1}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: X}\nname: C2, type: Capacitor, value: C2, ports: {Np: X, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: The circuit is a simple operational amplifier with NMOS and PMOS transistors. It uses capacitive feedback with C1 and C2 to control the frequency response. The circuit is powered by a VDD voltage source and has a current source Iss for biasing.\nimage_name:(c)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: p, D: x, G: Vin}\nname: M2, type: NMOS, ports: {S: p, D: Vout, G: VF}\nname: M3, type: PMOS, ports: {S: VDD, D: x1, G: x}\nname: M4, type: PMOS, ports: {S: VDD, D: Vout, G: x}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: x}\nname: C2, type: Capacitor, value: C2, ports: {Np: x, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: The circuit in diagram (c) is a simple operational amplifier configuration with feedback capacitors C1 and C2. The NMOS transistors M1 and M2 form a differential pair, while PMOS transistors M3 and M4 act as a current mirror load. The circuit is powered by a voltage source VDD, and a current source Iss is used for biasing. The feedback network includes capacitors C1 and C2, which are connected to the voltage source Vt for loop gain calculation.\n\nFigure 8.25\n\n#### Solution\n\nAt low frequencies, $C_{1}$ and $C_{2}$ draw a negligible current from the output node. To find the open-loop voltage gain, we break the feedback loop as shown in Fig. 8.25(b), grounding the top plate of $C_{1}$ to ensure zero voltage feedback. The open-loop gain is thus equal to $g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)$.\n\nWe must also compute the loop gain, $\\beta A_{0}$. With the aid of Fig. 8.25(c), we have\n\n$$\n\\begin{equation*}\nV_{F}=-V_{t} \\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right) \\tag{8.33}\n\\end{equation*}\n$$\n\nThat is\n\n$$\n\\begin{equation*}\n\\beta A_{0}=\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right) \\tag{8.34}\n\\end{equation*}\n$$\n\nand hence\n\n$$\n\\begin{equation*}\nA_{\\text {closed }}=\\frac{g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)} \\tag{8.35}\n\\end{equation*}\n$$\n\nAs expected, if $\\beta A_{0} \\gg 1$, then $A_{\\text {closed }} \\approx 1+C_{2} / C_{1}$.\nThe open-loop output resistance of the circuit is equal to $r_{O 2} \\| r_{O 4}$ (Chapter 5). It follows that\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\frac{r_{O 2} \\| r_{O 4}}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)} \\tag{8.36}\n\\end{"
},
{
    "text": "The described topology measures the output voltage and returns a voltage feedback signal. According to the conceptual diagrams of Figures 8.17 and 8.18, it's observed that the feedback network is connected in parallel to the output and in series with the input port (Figure 8.21). An ideal feedback network in this scenario has infinite input impedance and zero output impedance since it senses and generates a voltage. Thus, we can express $V_{F}=\\beta V_{\\text {out }}, V_{e}=V_{\\text {in }}-V_{F}, V_{\\text {out }}=A_{0}\\left(V_{\\text {in }}-\\beta V_{\\text {out }}\\right)$, leading to\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}=\\frac{A_{0}}{1+\\beta A_{0}} \\tag{8.31}\n$$\n\nWe acknowledge that $\\beta A_{0}$ represents the loop gain and that the overall gain is reduced by a factor of $1+\\beta A_{0}$. It $A_{0}$ and $\\beta$ are dimensionless quantities.\n\nAs a straightforward example of voltage-voltage feedback, consider employing a differential voltage amplifier with a single-ended output as the feedforward amplifier and a resistive divider as the feedback network.[^49]image\nThe the text provided, the rephrased text is asThe topology measures\nThis topology in question detects the output voltage and provides a feedback as as a voltage. In line with the conceptual illustrations of Figures 8.17 and 8.18, it is observed that the feedback network is connected in parallel to the output and in series with the input port ( as shown in Figure 8.21. An an scenario, an ideal feedback network would infinite input impedance and zero output impedance due to its function in sensing and producing a\nThe\nThe topology monitors the output voltage and returns the feedback signal as a voltage. As line with the conceptual illustrations of Figures 8.17 and 8.18, it is observed that the feedback network is connected in parallel to the output and in series with the input port, as shown\nThis topology detects the output voltage and converts\nThis topology monitors the output voltage and returns the feedback signal in the form of a voltage. Consistent with the conceptual diagrams in Figures 8.17 and 8.18, it is be observed that the feedback network is connected in parallel with the output and in series with the input port, as depicted in Figure 8.21."
},
{
    "text": "The given text describes the principles and effects of voltage-voltage feedback in amplifier circuits. Here is a rephrased version of the text:\n\nThis topology detects the output voltage and sends back a feedback signal in the form of voltage. As depicted in Figs. 8.17 and 8.18, the feedback network is connected in parallel with the output and in series with the input (Fig. 8.21). An ideal feedback network in this scenario has infinite input impedance and zero output impedance since it detects a voltage and produces a voltage. Therefore, we can write $V_{F}=\\beta V_{\\text {out }}, V_{e}=V_{\\text {in }}-V_{F}, V_{\\text {out }}=A_{0}\\left(V_{\\text {in }}-\\beta V_{\\text {out }}\\right)$, leading to\n\n$$\n\\frac{V_{\\text {out }}}{V_{\\text {in }}}=\\frac{A_{0}}{1+\\beta A_{0}} \\tag{8.31}\n$$\n\nHere, $\\beta A_{0}$ is the loop gain, and the overall gain is reduced by $1+\\beta A_{0}$. Note that both $A_{0}$ and $\\beta$ are dimensionless.\n\nFor a simple example of voltage-voltage feedback, consider a differential voltage amplifier with a single-ended output as the feedforward amplifier and a resistive divider as the feedback network.\n\n[^49]Figure 8.21 Voltage-voltage feedback\ndescription:Figure 8.21 Voltage-voltage feedback shows a block diagram of a voltage-voltage feedback amplifier configuration.\n\n1. **Main Components:**\n- **Feedforward Amplifier (A₀):** This is the primary amplifier in the system, amplifying the input signal. It is characterized by a gain denoted as A₀.\n- **Feedback Network (β):** A resistive divider network that samples the output voltage and provides a portion of it back to the input to form a feedback loop. The feedback factor is represented by β.\n\n2. **Flow of Information or Control:**\n- **Input (V_in):** The input voltage is fed into the system at the left side of the diagram.\n- **Error Signal (V_e):** The difference between the input voltage (V_in) and the feedback voltage (V_F) is the error signal (V_e), which is input to the feedforward amplifier.\n- **Output (V_out):** The amplified output is taken from the feedforward amplifier and is also the point from which feedback is derived.\n- **Feedback Path:** The output voltage (V_out) is sampled by the feedback network, which reduces it by a factor of β and feeds it back to the input to form the feedback voltage (V_F).\n- **Feedback Loop:** The feedback loop is closed by connecting the output of the feedback network back to the input, influencing the error signal and thus controlling the overall gain of the system.\n\n3. **Labels, Annotations, and Key Indicators:**\n- **Low R_out and High R_in:** These indicate that the system is designed to have a low output impedance and a high input impedance, which are desirable traits for voltage amplifiers.\n- **A₀ and β:** These are key parameters in determining the system's gain and stability, with A₀ being the open-loop gain and β being the feedback factor.\n\n4. **Overall System Function:**\n- The primary function of this system is to provide stable voltage amplification with feedback control. The feedback reduces the overall gain by a factor of (1 + βA₀), enhancing stability and bandwidth while reducing distortion. The system is designed to maintain a low output impedance and high input impedance, making it suitable for driving loads and accepting signals from various sources.\n\nFigure 8.21 Voltage-voltage feedback.\nimage_name:Figure 8.21 Voltage-voltage feedback\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: Vin, InN: X1, Out: Vout}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: X1}\nname: R2, type: Resistor, value: R2, ports: {N1: X1, N2: GND}\nname: VF, type: VoltageSource, value: VF, ports: {Np: X1, Nn: GND}\n]\nextrainfo:The circuit is a voltage-voltage feedback amplifier with an operational amplifier A0. It uses resistors R1 and R2 to form a feedback network that senses the output voltage. The feedback reduces the overall gain to enhance stability and bandwidth while reducing distortion.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: Vin, InN: X1, OutP: Vout, OutN: '}\nname: R1, type: Resistor, value: R1, ports: {N1: Vout, N2: X1}\nname: R2, type: Resistor, value: R2, ports: {N1: X1, N2: GND'}\n]\nextrainfo:The circuit is a voltage-voltage feedback amplifier with an operational amplifier A0. It uses resistors R1 and R2 to form a feedback network that senses the output voltage. The feedback reduces the overall gain to enhance stability and bandwidth while reducing distortion. A current named I_in(A0) flows into the negative input of the operational amplifier.\n\n(b)\n\nFigure 8.22 (a) Amplifier with output sensed by a resistive divider; (b) voltage-voltage feedback amplifier.\nimage_name:Figure 8.23\ndescription:The block diagram in Figure 8.23 represents a voltage-voltage feedback amplifier system. Here are the key components and their interactions:\n\n1. **Main Components:**\n- **Operational Amplifier (A0):** This is the central component of the system, amplifying the input signal. It has a gain represented by \\( A_0 \\) and receives the error voltage \\( V_e \\) as input.\n- **Feedback Network (β):** This block senses the output voltage \\( V_{out} \\) and produces a feedback voltage \\( V_F \\), which is a fraction of the output. The feedback network is characterized by the feedback factor \\( β \\).\n- **Output Load (R_L):** This resistor represents the load connected to the output of the amplifier.\n- **Output Resistance (R_out):** This is the inherent resistance at the output of the operational amplifier.\n\n2. **Flow of Information or Control:**\n- The input voltage \\( V_{in} \\) is applied to the non-inverting terminal of the operational amplifier.\n- The output voltage \\( V_{out} \\) is fed back through the feedback network \\( β \\) to produce \\( V_F \\), which is subtracted from the input voltage \\( V_{in} \\) to generate the error voltage \\( V_e \\).\n- The error voltage \\( V_e \\) is then amplified by the operational amplifier \\( A_0 \\) to produce the amplified output.\n- The output voltage \\( V_{out} \\) is sensed across the load \\( R_L \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n- \\( V_{in}^+ \\) and \\( V_{in}^- \\) indicate the positive and negative input terminals of the amplifier.\n- \\( V_{out}^+ \\) and \\( V_{out}^- \\) mark the positive and negative output terminals.\n- The feedback voltage \\( V_F \\) is derived using the feedback factor \\( β \\).\n\n4. **Overall System Function:**\n- The primary function of this system is to provide stable amplification of the input voltage \\( V_{in} \\) with reduced distortion and improved bandwidth. The feedback loop, formed by the feedback network (β), reduces the effective gain of the amplifier, thereby enhancing stability and reducing output impedance. This feedback mechanism ensures that any deviation in the output voltage is corrected by adjusting the input to the amplifier, maintaining the desired performance characteristics.\n\nFigure 8.23 Effect of voltage-voltage feedback on output resistance.\n[Fig. 8.22(a)]. The divider senses the output voltage, producing a fraction thereof as the feedback signal $V_{F}$. Following the block diagram of Fig. 8.21, we place $V_{F}$ in series with the input of the amplifier to perform subtraction of voltages [Fig. 8.22(b)].\n\nHow does voltage-voltage feedback modify the input and output impedances? Let us first consider the output impedance. Recall that a negative-feedback system attempts to make the output an accurate (scaled) replica of the input. Now suppose, as shown in Fig. 8.23, we load the output by a resistor $R_{L}$, gradually decreasing its value. While in the open-loop configuration, the output would simply drop in proportion to $R_{L} /\\left(R_{L}+R_{\\text {out }}\\right)$, in the feedback system, $V_{\\text {out }}$ is maintained as a reasonable replica of $V_{\\text {in }}$ even though $R_{L}$ decreases. That is, so long as the loop gain remains much greater than unity, $V_{\\text {out }} / V_{\\text {in }} \\approx 1 / \\beta$, regardless of the value of $R_{L}$. From another point of view, since the circuit stabilizes (\"regulates\") the output voltage amplitude despite load variations, it behaves as a voltage source, thus exhibiting a low output impedance. This property fundamentally originates from the gain desensitization provided by feedback.\n\nIn order to formally prove that voltage feedback lowers the output impedance, we consider the simple model in Fig. 8.24, where $R_{\\text {out }}$ represents the output impedance of the feedforward amplifier. Setting the input to zero and applying a voltage at the output, we write $V_{F}=\\beta V_{X}, V_{e}=-\\beta V_{X}, V_{M}=-\\beta A_{0} V_{X}$,\nimage_name:Figure 8.24\ndescription:\n[\nname: A0, type: OpAmp, value: A0, ports: {InP: VF, InN: Ve, OutP: VM, OutN: '}\nname: Rout, type: Resistor, value: Rout, ports: {N1: VM, N2: Vx}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Vx, Nn: GND'}\n]\nextrainfo:The circuit illustrates a voltage-voltage feedback system where the output impedance is reduced by feedback. The feedback factor is represented by β, and the output impedance Rout is modified by the gain factor A0. The feedback voltage VF is derived from the output voltage Vx.\n\nFigure 8.24 Calculation of output resistance of a voltage-voltage feedback circuit.\nand hence $I_{X}=\\left[V_{X}-\\left(-\\beta A_{0} V_{X}\\right)\\right] / R_{\\text {out }}$ (if the current drawn by the feedback network is neglected). It follows that\n\n$$\n\\frac{V_{X}}{I_{X}}=\\frac{R_{\\text {out }}}{1+\\beta A_{0}} \\tag{8.32}\n$$\n\nThus, the output impedance and the gain are lowered by the same factor. In the circuit of Fig. 8.22(b), for example, the output impedance is lowered by $1+A_{0} R_{2} /\\left(R_{1}+R_{2}\\right)$.\n\n#### Example 8.4\n\nThe circuit shown in Fig. 8.25(a) is an implementation of the feedback configuration depicted in Fig. 8.22(b), but with the resistors replaced by capacitors. (The bias network of $M_{2}$ is not shown.) Calculate the closed-loop gain and output resistance of the amplifier at relatively low frequencies.\nimage_name:(a)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: GND, D: Vout, G: p}\nname: M3, type: PMOS, ports: {S: VDD, D: Vout, G: x1}\nname: M4, type: PMOS, ports: {S: VDD, D: x1, G: x1}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: X}\nname: C2, type: Capacitor, value: C2, ports: {Np: X, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit is a simple operational amplifier with a differential input and a single-ended output. It utilizes NMOS and PMOS transistors in a complementary configuration. Capacitors C1 and C2 are used for frequency compensation, and a current source Iss provides biasing. The power supply is connected to VDD, and the output is taken from Vout.\nimage_name:(b)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: p, D: Vout, G: Vin}\nname: M2, type: NMOS, ports: {S: p, D: Vout, G: X1}\nname: M3, type: PMOS, ports: {S: VDD, D: X1, G: X1}\nname: M4, type: PMOS, ports: {S: VDD, D: Vout, G: X1}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: X}\nname: C2, type: Capacitor, value: C2, ports: {Np: X, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit is a simple operational amplifier with NMOS and PMOS transistors. It uses capacitive feedback with C1 and C2 to control the frequency response. The circuit is powered by a VDD voltage source and has a current source Iss for biasing.\nimage_name:(c)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: p, D: x, G: Vin}\nname: M2, type: NMOS, ports: {S: p, D: Vout, G: VF}\nname: M3, type: PMOS, ports: {S: VDD, D: x1, G: x}\nname: M4, type: PMOS, ports: {S: VDD, D: Vout, G: x}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: x}\nname: C2, type: Capacitor, value: C2, ports: {Np: x, Nn: GND}\nname: Iss, type: CurrentSource, value: Iss, ports: {Np: p, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit in diagram (c) is a simple operational amplifier configuration with feedback capacitors C1 and C2. The NMOS transistors M1 and M2 form a differential pair, while PMOS transistors M3 and M4 act as a current mirror load. The circuit is powered by a voltage source VDD, and a current source Iss is used for biasing. The feedback network includes capacitors C1 and C2, which are connected to the voltage source Vt for loop gain calculation.\n\nFigure 8.25\n\n#### Solution\n\nAt low frequencies, $C_{1}$ and $C_{2}$ draw a negligible current from the output node. To find the open-loop voltage gain, we break the feedback loop as shown in Fig. 8.25(b), grounding the top plate of $C_{1}$ to ensure zero voltage feedback. The open-loop gain is thus equal to $g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)$.\n\nWe must also compute the loop gain, $\\beta A_{0}$. With the aid of Fig. 8.25(c), we have\n\n$$\nV_{F}=-V_{t} \\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right) \\tag{8.33}\n$$\n\nThat is\n\n$$\n\\beta A_{0}=\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right) \\tag{8.34}\n$$\n\nand hence\n\n$$\nA_{\\text {closed }}=\\frac{g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)} \\tag{8.35}\n$$\n\nAs expected, if $\\beta A_{0} \\gg 1$, then $A_{\\text {closed }} \\approx 1+C_{2} / C_{1}$.\nThe open-loop output resistance of the circuit is equal to $r_{O 2} \\| r_{O 4}$ (Chapter 5). It follows that\n\n$$\nR_{\\text {out }, \\text { closed }}=\\frac{r_{O 2} \\| r_{O 4}}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1}\\left(r_{O 2} \\| r_{O 4}\\right)} \\tag{8.36}\n$$\n\nIt is interesting to note that if $\\beta A_{0} \\gg 1$, then\n\n$$\nR_{\\text {out }, \\text { closed }} \\approx\\left(1+\\frac{C_{2}}{C_{1}}\\right) \\frac{1}{g_{m 1}} \\tag{8."
},
{
    "text": "In certain circuits, it is preferable or simpler to detect the output current for feedback purposes. This detection is achieved by inserting a small resistor in series with the output and utilizing the voltage drop across this resistor as the feedback signal. This voltage can also serve as the return signal that is directly subtracted from the input.\n\n**Figure 8.30 Current-voltage feedback:**\nThe system block diagram titled \"Figure 8.30 Current-voltage feedback\" illustrates a current-voltage feedback system designed to control the output of a feedforward amplifier. The primary components of this system are the Feedforward Amplifier, the Feedback Network, and the Load Impedance (ZL).\n\n1. **Key Components:**\n- **Feedforward Amplifier (Gm):** This block amplifies the input signal (Vin) and generates an output current (Iout) based on the input voltage (Ve), which is the error voltage.\n- **Feedback Network:** This block detects the output current (Iout) and converts it into a feedback voltage (VF). The feedback network has a feedback factor, RF, which is a resistance value.\n- **Load Impedance (ZL):** This represents the impedance to which the output current is delivered. It must be finite to ensure the proper functioning of the Gm stage.\n\n2. **Information and Control Flow:**\n- The input voltage (Vin) is applied to the system, and the error voltage (Ve) is calculated by subtracting the feedback voltage (VF) from Vin.\n- The feedforward amplifier amplifies the error voltage (Ve) to produce the output current (Iout).\n- The output current (Iout) is delivered to the load impedance (ZL), and a portion of this current is sensed by the feedback network.\n- The feedback network converts the sensed current into a feedback voltage (VF), which is used to adjust the input to the feedforward amplifier, thereby creating a feedback loop.\n\n3. **Labels and Key Indicators:**\n- The diagram includes annotations for key signals such as Vin, Ve, VF, and Iout.\n- The feedback factor is labeled as RF, and the load impedance is labeled as ZL.\n- The diagram indicates that both the input and output have low resistances (Low Rin and Low Rout).\n\n4. **System Functionality:**\n- The main function of this system is to regulate the output current delivered to the load impedance using a current-voltage feedback mechanism. By sensing the output current and feeding back a proportional voltage, the system can adjust the input to the feedforward amplifier, ensuring stable operation and desired output characteristics. This setup is particularly beneficial for systems requiring precise control of output current despite changes in load conditions or input signals.\n\n**Figure 8.30 Current-voltage feedback.**\n\nLet's examine the general current-voltage feedback system depicted in Fig. 8.30. Since the feedback network senses the output current and returns a voltage, its feedback factor, $\\beta$, is a resistance and is denoted by $R_{F}$. It is crucial to note that a $G_{m}$ stage must be loaded (\"terminated\") by a finite impedance, $Z_{L}$, to ensure it can deliver its output current. If $Z_{L}=\\infty$, an ideal $G_{m}$ stage would produce an infinite output voltage. We express $V_{F}=R_{F} I_{\\text {out }}$, $V_{e}=V_{\\text {in }}-R_{F} I_{\\text {out }}$, and hence $I_{\\text {out }}=G_{m}\\left(V_{\\text {in }}-R_{F} I_{\\text {out }}\\right)$. Consequently,\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{I_{\\text {out }}}{V_{\\text {in }}}=\\frac{G_{m}}{1+G_{m} R_{F}} \\tag{8.40}\n\\end{equation*}\n$$\n\n\\$\\$\n\nAn ideal feedback network in this scenario has zero input and output impedances.\nIt is instructive to verify that $G_{m} R_{F}$ is indeed the loop gain. As shown in Fig. 8.31, we set the input voltage to zero and break the loop by disconnecting the feedback network from the output and replacing it with a short at the output (if the feedback network is ideal). We then inject the test signal $I_{t}$, resulting in $V_{F}=R_{F} I_{t}$, and hence $I_{\\text {out }}=-G_{m} R_{F} I_{t}$. Thus, the loop gain is $G_{m} R_{F}$, and the transconductance of the amplifier is reduced by $1+G_{m} R_{F}$ when feedback is applied.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback:**\nThe circuit diagram illustrates the calculation of loop gain for current-voltage feedback. The loop gain is given by Gm*RF. The feedback network is disconnected, and a test current It is injected to determine the loop gain.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback.**\n\nIs it realistic to assume that the input impedance of the feedback network is zero? Why use a test current instead of a test voltage? Does the type of test source affect loop gain calculations? These questions are addressed later in this chapter.\n\nDetecting the current at the output of a feedback system increases the output impedance. This occurs because the system aims to make the output current a faithful replica of the input signal (with a proportionality factor if the input is a voltage). Consequently, the system delivers the same current waveform as the load varies, effectively behaving like an ideal current source and thus exhibiting high output impedance.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier:**\nThe circuit is a current-voltage feedback amplifier used to calculate the output resistance. It includes a voltage-controlled current source (Gm), resistors (Rout and RF), and voltage sources (Vx and VF). The feedback network produces a voltage VF proportional to IX, and the current generated by Gm equals -RF * IX * Gm.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier.**\n\nTo validate the above result, we consider the current-voltage feedback topology shown in Fig. 8.32, where $R_{\\text {out }}$ represents the finite output impedance of the feedforward amplifier. The feedback network generates a voltage $V_{F}$ proportional to $I_{X}: V_{F}=R_{F} I_{X}$, and the current produced by $G_{m}$ equals $-R_{F} I_{X} G_{m}$. As a result,\n\\$\\$\n\n$$\n\\begin{equation*}\n-R_{F} I_{X} G_{m}=I_{X}-V_{X} / R_{\\text {out }}\n\\end{equation*}\n$$\n\nyielding\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{\\text {out }}\\left(1+G_{m} R_{F}\\right) \\tag{8.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nThe output impedance thus increases by a factor of $1+G_{m} R_{F}$.\n\n#### Example 8.7\n\nRechargeable batteries must be charged with a constant current (rather than a constant voltage) to prevent damage. The battery charger must therefore generate a constant current from a reference voltage, $V_{R E F}$. As shown in Fig. 8.33(a), a small resistor $r$ can be inserted in the output current path, the voltage across $r$ can be applied to an amplifier $A_{1}$, and the output of $A_{1}$ can be subtracted from $V_{R E F}$. Calculate the output current and impedance of this circuit, assuming $\\left|Z_{L}\\right| \\ll r_{O}$ (the output resistance of $M_{1}$).\n\n**Figure 8.33(a):**\nThe circuit diagram represents a constant current battery charger. The operational amplifier A1 is used to maintain the output current Iout by comparing the reference voltage VREF with the voltage across the resistor r. The NMOS transistor M1 controls the output current path. The circuit ensures that the rechargeable battery receives a constant current, crucial for safe and efficient charging.\n\n**Figure 8.33(b):**\nThis circuit is designed for generating a constant current for a rechargeable battery. It uses an op-amp (A1) to maintain the current across a resistor (r) and an NMOS transistor (M1) to control the current flow. The output current is determined by the reference voltage (VREF) and the gain of the op-amp. The load impedance (ZL) is connected in series with the output.\n\n**Figure 8.33**\n\n#### Solution\n\nWith a high loop gain, the output voltage of $A_{1}$ is approximately equal to $V_{R E F}$, hence $I_{\\text {out }}=\\left(V_{R E F} / A_{1}\\right) / r$. Using the circuit of Fig. 8.33(b) to determine the loop gain, we have\n\n$$\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} \\approx-g_{m} r A_{1} \\tag{8.42}\n\\end{equation*}\n$$\n\nThus, the open-loop output impedance seen by $Z_{L}$ is multiplied by $1+g_{m} r A_{1}$, resulting in\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\left(1+g_{m} r A_{1}\\right)\\left(r_{O}+r\\right) \\tag{8.43}\n\\end{equation*}\n$$\n\nWe observe that $Z_{L}$ is now driven by a more effective current source.\n\nAs with voltage-voltage feedback, current-voltage feedback increases the input impedance by a factor equal to one plus the loop gain. As illustrated in Fig. 8.34, we have $I_{X} R_{\\text {in }} G_{m}=I_{\\text {out }}$. Thus, $V_{e}=$ $V_{X}-G_{m} R_{F} I_{X} R_{i n}$ and\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{i n}\\left(1+G_{m} R_{F}\\right) \\tag{8.44}\n\\end{equation*}\n$$\n\nThe reader can demonstrate that the loop gain is indeed $G_{m} R_{F}$.\nIn summary, current-voltage feedback increases both the input and output impedances while decreasing the feedforward transconductance. As explained in Chapter 9, the high output impedance is particularly useful in high-gain op amps.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier:**\nThe circuit is a current-voltage feedback amplifier. The input current Ix flows through the voltage source Vx and resistor Rin, while the output current Iout is controlled by the voltage-controlled current source Gm. The feedback loop includes the voltage source Vf and resistor Rf.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier.**"
},
{
    "text": "In certain circuits, it is preferable or simpler to detect the output current for feedback purposes. This detection is achieved by inserting a small resistor in series with the output and utilizing the voltage drop across this resistor as the feedback signal. This voltage can also serve as the return signal that is directly subtracted from the input.\n\n**Image Description: Figure 8.30 Current-voltage feedback**\nThe block diagram titled \"Figure 8.30 Current-voltage feedback\" illustrates a current-voltage feedback system designed to control the output of a feedforward amplifier. The primary components of this system are the Feedforward Amplifier, the Feedback Network, and the Load Impedance (ZL).\n\n1. **Key Components:**\n- **Feedforward Amplifier (Gm):** This block amplifies the input signal (Vin) and generates an output current (Iout) based on the error voltage (Ve).\n- **Feedback Network:** This block detects the output current (Iout) and converts it into a feedback voltage (VF). The feedback factor, denoted as RF, has the dimension of resistance.\n- **Load Impedance (ZL):** This represents the impedance to which the output current is delivered, and it must be finite for the proper functioning of the Gm stage.\n\n2. **Information and Control Flow:**\n- The input voltage (Vin) is applied, and the error voltage (Ve) is calculated by subtracting the feedback voltage (VF) from Vin.\n- The feedforward amplifier amplifies the error voltage (Ve) to produce the output current (Iout).\n- The output current (Iout) is delivered to the load impedance (ZL), and a portion of this current is sensed by the feedback network.\n- The feedback network converts the sensed current into a feedback voltage (VF), which is used to adjust the input to the feedforward amplifier, forming a feedback loop.\n\n3. **Labels and Annotations:**\n- The diagram includes key signals such as Vin, Ve, VF, and Iout.\n- The feedback factor is labeled as RF, and the load impedance as ZL.\n- The diagram indicates low input and output resistances (Low Rin and Low Rout).\n\n4. **System Function:**\n- The main function of this system is to regulate the output current delivered to the load impedance using a current-voltage feedback mechanism. By sensing the output current and feeding back a proportional voltage, the system can adjust the input to the feedforward amplifier, ensuring stable operation and desired output characteristics. This setup is particularly beneficial for systems requiring precise control of output current despite variations in load conditions or input signals.\n\n**Figure 8.30 Current-voltage feedback.**\n\nLet's examine the general current-voltage feedback system depicted in Fig. 8.30. Since the feedback network senses the output current and returns a voltage, its feedback factor, $\\beta$, has the dimension of resistance and is denoted by $R_{F}$. It is crucial to note that a $G_{m}$ stage must be loaded by a finite impedance, $Z_{L}$, to ensure it can deliver its output current. If $Z_{L}=\\infty$, an ideal $G_{m}$ stage would produce an infinite output voltage. We express $V_{F}=R_{F} I_{\\text {out }}$, $V_{e}=V_{\\text {in }}-R_{F} I_{\\text {out }}$, and hence $I_{\\text {out }}=G_{m}\\left(V_{\\text {in }}-R_{F} I_{\\text {out }}\\right)$. Consequently,\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{I_{\\text {out }}}{V_{\\text {in }}}=\\frac{G_{m}}{1+G_{m} R_{F}} \\tag{8.40}\n\\end{equation*}\n$$\n\n\\$\\$\n\nAn ideal feedback network in this scenario exhibits zero input and output impedances.\nIt is instructive to confirm that $G_{m} R_{F}$ is indeed the loop gain. As shown in Fig. 8.31, we set the input voltage to zero and break the loop by disconnecting the feedback network from the output and replacing it with a short at the output (if the feedback network is ideal). We then inject the test signal $I_{t}$, resulting in $V_{F}=R_{F} I_{t}$, and hence $I_{\\text {out }}=-G_{m} R_{F} I_{t}$. Thus, the loop gain is $G_{m} R_{F}$, and the transconductance of the amplifier is reduced by $1+G_{m} R_{F}$ when feedback is applied.\n\n**Image Description: Figure 8.31 Calculation of loop gain for current-voltage feedback**\n[\nname: Gm, type: VoltageControlledCurrentSource, ports: {Np: +, Nn: -}\nname: RF, type: Resistor, value: RF, ports: {N1: +, N2: -}\nname: ZL, type: Resistor, value: ZL, ports: {N1: Iout, N2: Short}\nname: It, type: CurrentSource, value: It, ports: {Np: Short, Nn: -}\n]\nThe circuit demonstrates the calculation of loop gain for current-voltage feedback. The loop gain is given by Gm*RF. The feedback network is disconnected, and a test current It is injected to determine the loop gain.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback.**\n\nIs it realistic to assume that the input impedance of the feedback network is zero? Why use a test current instead of a test voltage? Does the type of test source affect loop gain calculations? These questions are addressed later in this chapter.\n\nSensing the current at the output of a feedback system increases the output impedance. This occurs because the system aims to make the output current a faithful replica of the input signal (with a proportionality factor if the input is a voltage quantity). As a result, the system delivers the same current waveform despite load variations, essentially behaving like an ideal current source and thus exhibiting high output impedance.\n\n**Image Description: Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier**\n[\nname: Gm, type: VoltageControlledCurrentSource, value: Gm, ports: {Np: +, Nn: -}\nname: Rout, type: Resistor, value: Rout, ports: {N1: +, N2: Vx}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Vx, Nn: -}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: -}\nname: RF, type: Resistor, value: RF, ports: {N1: VF, N2: Gm}\n]\nThe circuit is a current-voltage feedback amplifier used to calculate the output resistance. It includes a voltage-controlled current source (Gm), resistors (Rout and RF), and voltage sources (Vx and VF). The feedback network produces a voltage VF proportional to IX, and the current generated by Gm equals -RF * IX * Gm.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier.**\n\nTo validate the above result, consider the current-voltage feedback topology shown in Fig. 8.32, where $R_{\\text {out }}$ represents the finite output impedance of the feedforward amplifier. The feedback network generates a voltage $V_{F}$ proportional to $I_{X}: V_{F}=R_{F} I_{X}$, and the current produced by $G_{m}$ equals $-R_{F} I_{X} G_{m}$. Consequently, $-R_{F} I_{X} G_{m}=I_{X}-V_{X} / R_{\\text {out }}$, yielding\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{\\text {out }}\\left(1+G_{m} R_{F}\\right) \\tag{8.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nThe output impedance thus increases by a factor of $1+G_{m} R_{F}$.\n\n#### Example 8.7\n\nRechargeable batteries must be charged with a constant current (rather than a constant voltage) to prevent damage. The battery charger must therefore generate a constant current from a reference voltage, $V_{R E F}$. As shown in Fig. 8.33(a), a small resistor $r$ can be placed in the output current path, and the voltage across $r$ can be applied to an amplifier $A_{1}$, which subtracts its output from $V_{R E F}$. Calculate the output current and impedance of this circuit, assuming $\\left|Z_{L}\\right| \\ll r_{O}$ (the output resistance of $M_{1}$).\n\n**Image Description: (a)**\n[\nname: VREF, type: VoltageSource, value: VREF, ports: {Np: VREF, Nn: GND}\nname: A1, type: OpAmp, ports: {InP: VREF, InN: g1, OutP: d1, OutN: '}\nname: M1, type: NMOS, ports: {S: GND, D: d1, G: g1}\nname: ZL, type: Resistor, value: ZL, ports: {N1: x1, N2: d1}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND'}\n]\nThe circuit diagram represents a constant current battery charger. The operational amplifier A1 maintains the output current Iout by comparing the reference voltage VREF with the voltage across the resistor r. The NMOS transistor M1 controls the output current path. This setup ensures the rechargeable battery receives a constant current, crucial for safe and efficient charging.\n\n**Image Description: (b)**\n[\nname: A1, type: OpAmp, ports: {InP: x1, InN: VF, OutP: g1, OutN: GND}\nname: M1, type: NMOS, ports: {S: GND, D: d1, G: g1}\nname: VREF, type: VoltageSource, value: VREF, ports: {Np: VREF, Nn: GND}\nname: ZL, type: Resistor, ports: {N1: x1, N2: d1}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nThis circuit is designed for generating a constant current for a rechargeable battery. It uses an op-amp (A1) to maintain the current across a resistor (r) and an NMOS transistor (M1) to control the current flow. The output current is determined by the reference voltage (VREF) and the gain of the op-amp. The load impedance (ZL) is connected in series with the output.\n\n**Figure 8.33**\n\n#### Solution\n\nWith a high loop gain, the output voltage of $A_{1}$ is approximately equal to $V_{R E F}$, and thus $I_{\\text {out }}=\\left(V_{R E F} / A_{1}\\right) / r$. Using the circuit of Fig. 8.33(b) to determine the loop gain, we have\n\n$$\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} \\approx-g_{m} r A_{1} \\tag{8.42}\n\\end{equation*}\n$$\n\nThus, the open-loop output impedance seen by $Z_{L}$ is multiplied by $1+g_{m} r A_{1}$, resulting in\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\left(1+g_{m} r A_{1}\\right)\\left(r_{O}+r\\right) \\tag{8.43}\n\\end{equation*}\n$$\n\nWe observe that $Z_{L}$ is now driven by a more effective current source.\n\nAs with voltage-voltage feedback, current-voltage feedback increases the input impedance by a factor equal to one plus the loop gain. As illustrated in Fig. 8.34, we have $I_{X} R_{\\text {in }} G_{m}=I_{\\text {out }}$. Thus, $V_{e}=$ $V_{X}-G_{m} R_{F} I_{X} R_{i n}$ and\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{i n}\\left(1+G_{m} R_{F}\\right) \\tag{8.44}\n\\end{equation*}\n$$\n\nThe reader can verify that the loop gain is indeed $G_{m} R_{F}$.\nIn summary, current-voltage feedback enhances both the input and output impedances while reducing the feedforward transconductance. As explained in Chapter 9, the high output impedance is particularly useful in high-gain op amps.\n\n**Image Description: Figure 8.34**\n[\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Vx+, Nn: Ve+}\nname: Ve, type: VoltageSource, value: Ve, ports: {Np: Ve+, Nn: Ve-}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Ve-, N2: Gm+}\nname: Gm, type: VoltageControlledCurrentSource, value: Gm, ports: {Np: Gm+, Nn: Gm-}\nname: Vf, type: VoltageSource, value: Vf, ports: {Np: Vout, Nn: Rf+}\nname: Rf, type: Resistor, value: Rf, ports: {N1: Rf+, N2: Rf-}\n]\nThe circuit is a current-voltage feedback amplifier. The input current Ix flows through the voltage source Vx and resistor Rin, while the output current Iout is controlled by the voltage-controlled current source Gm. The feedback loop includes the voltage source Vf and resistor Rf.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier.**"
},
{
    "text": "In certain circuits, it is either preferable or simpler to detect the output current for feedback purposes. This detection is achieved by inserting a small resistor in series with the output and utilizing the voltage drop across this resistor as the feedback signal. This voltage can also serve as the return signal that is directly subtracted from the input.\n\n**Figure 8.30 Current-voltage feedback Description:**\nThe system block diagram titled \"Figure 8.30 Current-voltage feedback\" illustrates a current-voltage feedback system designed to control the output of a feedforward amplifier. The primary components of this system are the Feedforward Amplifier, the Feedback Network, and the Load Impedance (ZL).\n\n1. **Main Components:**\n   - **Feedforward Amplifier (Gm):** This block amplifies the input signal (Vin) and generates an output current (Iout) based on the input voltage (Ve), which is the error voltage.\n   - **Feedback Network:** This block detects the output current (Iout) and converts it into a feedback voltage (VF). The feedback network has a feedback factor, RF, which is a resistance.\n   - **Load Impedance (ZL):** This represents the impedance to which the output current is delivered. It must be finite to ensure the proper functioning of the Gm stage.\n\n2. **Flow of Information or Control:**\n   - The input voltage (Vin) is applied to the system, and the error voltage (Ve) is calculated by subtracting the feedback voltage (VF) from Vin.\n   - The feedforward amplifier amplifies the error voltage (Ve) to produce the output current (Iout).\n   - The output current (Iout) is delivered to the load impedance (ZL), and a portion of this current is sensed by the feedback network.\n   - The feedback network converts the sensed current into a feedback voltage (VF), which is used to adjust the input to the feedforward amplifier, thereby creating a feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The diagram includes key signals such as Vin, Ve, VF, and Iout.\n   - The feedback factor is labeled as RF, and the load impedance is labeled as ZL.\n   - The diagram indicates that both the input and output have low resistances (Low Rin and Low Rout).\n\n4. **Overall System Function:**\n   - The main function of this system is to regulate the output current delivered to the load impedance using a current-voltage feedback mechanism. By sensing the output current and feeding back a proportional voltage, the system can adjust the input to the feedforward amplifier, ensuring stable operation and desired output characteristics. This setup is particularly beneficial for systems requiring precise control of output current despite changes in load conditions or input signals.\n\n**Figure 8.30 Current-voltage feedback.**\n\nLet us examine the general current-voltage feedback system depicted in Fig. 8.30. Since the feedback network senses the output current and returns a voltage, its feedback factor, $\\beta$, is a resistance denoted by $R_{F}$. It is crucial to note that a $G_{m}$ stage must be loaded (\"terminated\") by a finite impedance, $Z_{L}$, to ensure it can deliver its output current. If $Z_{L}=\\infty$, an ideal $G_{m}$ stage would produce an infinite output voltage. We express $V_{F}=R_{F} I_{\\text {out }}$, $V_{e}=V_{\\text {in }}-R_{F} I_{\\text {out }}$, and hence $I_{\\text {out }}=G_{m}\\left(V_{\\text {in }}-R_{F} I_{\\text {out }}\\right)$. Therefore,\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{I_{\\text {out }}}{V_{\\text {in }}}=\\frac{G_{m}}{1+G_{m} R_{F}} \\tag{8.40}\n\\end{equation*}\n$$\n\n\\$\\$\n\nAn ideal feedback network in this scenario has zero input and output impedances.\nIt is instructive to verify that $G_{m} R_{F}$ is indeed the loop gain. As shown in Fig. 8.31, we set the input voltage to zero and break the loop by disconnecting the feedback network from the output and replacing it with a short at the output (assuming the feedback network is ideal). We then inject the test signal $I_{t}$, resulting in $V_{F}=R_{F} I_{t}$, and hence $I_{\\text {out }}=-G_{m} R_{F} I_{t}$. Thus, the loop gain is $G_{m} R_{F}$, and the transconductance of the amplifier is reduced by $1+G_{m} R_{F}$ when feedback is applied.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback Description:**\n[\nname: Gm, type: VoltageControlledCurrentSource, ports: {Np: +, Nn: -}\nname: RF, type: Resistor, value: RF, ports: {N1: +, N2: -}\nname: ZL, type: Resistor, value: ZL, ports: {N1: Iout, N2: Short}\nname: It, type: CurrentSource, value: It, ports: {Np: Short, Nn: -}\n]\nextrainfo: The circuit demonstrates the calculation of loop gain for current-voltage feedback. The loop gain is given by Gm*RF. The feedback network is disconnected, and a test current It is injected to determine the loop gain.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback.**\n\nIs it realistic to assume that the input impedance of the feedback network is zero? Why use a test current instead of a test voltage? Does the type of test source affect loop gain calculations? These questions are addressed later in this chapter.\n\nDetecting the current at the output of a feedback system increases the output impedance. This occurs because the system aims to make the output current a faithful replica of the input signal (with a proportionality factor if the input is a voltage). Consequently, the system delivers the same current waveform as the load varies, effectively behaving like an ideal current source and thus exhibiting high output impedance.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier Description:**\n[\nname: Gm, type: VoltageControlledCurrentSource, value: Gm, ports: {Np: +, Nn: -}\nname: Rout, type: Resistor, value: Rout, ports: {N1: +, N2: Vx}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Vx, Nn: -}\nname: VF, type: VoltageSource, value: VF, ports: {Np: VF, Nn: -}\nname: RF, type: Resistor, value: RF, ports: {N1: VF, N2: Gm}\n]\nextrainfo: The circuit is a current-voltage feedback amplifier used to calculate the output resistance. It includes a voltage-controlled current source (Gm), resistors (Rout and RF), and voltage sources (Vx and VF). The feedback network produces a voltage VF proportional to IX, and the current generated by Gm equals -RF * IX * Gm.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier.**\n\nTo validate the above result, we consider the current-voltage feedback topology shown in Fig. 8.32, where $R_{\\text {out }}$ represents the finite output impedance of the feedforward amplifier. The feedback network generates a voltage $V_{F}$ proportional to $I_{X}: V_{F}=R_{F} I_{X}$, and the current produced by $G_{m}$ equals $-R_{F} I_{X} G_{m}$. Consequently, $-R_{F} I_{X} G_{m}=I_{X}-V_{X} / R_{\\text {out }}$, yielding\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{\\text {out }}\\left(1+G_{m} R_{F}\\right) \\tag{8.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nThe output impedance thus increases by a factor of $1+G_{m} R_{F}$.\n\n#### Example 8.7\n\nRechargeable batteries must be charged with a constant current (rather than a constant voltage) to prevent damage. Therefore, the battery charger must generate a constant current from a reference voltage, $V_{R E F}$. As depicted in Fig. 8.33(a), a small resistor $r$ can be placed in the output current path, and the voltage across $r$ can be applied to an amplifier $A_{1}$, which subtracts its output from $V_{R E F}$. Calculate the output current and impedance of this circuit, assuming $\\left|Z_{L}\\right| \\ll r_{O}$ (the output resistance of $M_{1}$).\n\n**Figure 8.33(a) Description:**\n[\nname: VREF, type: VoltageSource, value: VREF, ports: {Np: VREF, Nn: GND}\nname: A1, type: OpAmp, ports: {InP: VREF, InN: g1, OutP: d1, OutN: '}\nname: M1, type: NMOS, ports: {S: GND, D: d1, G: g1}\nname: ZL, type: Resistor, value: ZL, ports: {N1: x1, N2: d1}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND'}\n]\nextrainfo: The circuit diagram represents a constant current battery charger. The operational amplifier A1 is used to maintain the output current Iout by comparing the reference voltage VREF with the voltage across the resistor r. The NMOS transistor M1 controls the output current path. This setup ensures that the rechargeable battery receives a constant current, which is essential for safe and efficient charging.\n\n**Figure 8.33(b) Description:**\n[\nname: A1, type: OpAmp, ports: {InP: x1, InN: VF, OutP: g1, OutN: GND}\nname: M1, type: NMOS, ports: {S: GND, D: d1, G: g1}\nname: VREF, type: VoltageSource, value: VREF, ports: {Np: VREF, Nn: GND}\nname: ZL, type: Resistor, ports: {N1: x1, N2: d1}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo: This circuit is designed for generating a constant current for a rechargeable battery. It uses an op-amp (A1) to maintain the current across a resistor (r) and an NMOS transistor (M1) to control the current flow. The output current is determined by the reference voltage (VREF) and the gain of the op-amp. The load impedance (ZL) is connected in series with the output.\n\n**Figure 8.33**\n\n#### Solution\n\nWith a high loop gain, the output voltage of $A_{1}$ is approximately equal to $V_{R E F}$, thus $I_{\\text {out }}=\\left(V_{R E F} / A_{1}\\right) / r$. Using the circuit in Fig. 8.33(b) to determine the loop gain, we have\n\n$$\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} \\approx-g_{m} r A_{1} \\tag{8.42}\n\\end{equation*}\n$$\n\nThus, the open-loop output impedance seen by $Z_{L}$ is multiplied by $1+g_{m} r A_{1}$, resulting in\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\left(1+g_{m} r A_{1}\\right)\\left(r_{O}+r\\right) \\tag{8.43}\n\\end{equation*}\n$$\n\nWe observe that $Z_{L}$ is now driven by a more effective current source.\n\nAs with voltage-voltage feedback, current-voltage feedback increases the input impedance by a factor equal to one plus the loop gain. As shown in Fig. 8.34, we have $I_{X} R_{\\text {in }} G_{m}=I_{\\text {out }}$. Therefore, $V_{e}=$ $V_{X}-G_{m} R_{F} I_{X} R_{i n}$ and\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{i n}\\left(1+G_{m} R_{F}\\right) \\tag{8.44}\n\\end{equation*}\n$$\n\nThe reader can verify that the loop gain is indeed $G_{m} R_{F}$.\nIn summary, current-voltage feedback increases both the input and output impedances while reducing the feedforward transconductance. As explained in Chapter 9, the high output impedance is particularly useful in high-gain op amps.\n\n**Figure 8.34 Description:**\n[\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Vx+, Nn: Ve+}\nname: Ve, type: VoltageSource, value: Ve, ports: {Np: Ve+, Nn: Ve-}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Ve-, N2: Gm+}\nname: Gm, type: VoltageControlledCurrentSource, value: Gm, ports: {Np: Gm+, Nn: Gm-}\nname: Vf, type: VoltageSource, value: Vf, ports: {Np: Vout, Nn: Rf+}\nname: Rf, type: Resistor, value: Rf, ports: {N1: Rf+, N2: Rf-}\n]\nextrainfo: The circuit is a current-voltage feedback amplifier. The input current Ix flows through the voltage source Vx and resistor Rin, while the output current Iout is controlled by the voltage-controlled current source Gm. The feedback loop includes the voltage source Vf and resistor Rf.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier.**"
},
{
    "text": "In certain circuits, it is either preferable or simpler to detect the output current for feedback purposes. This detection is achieved by inserting a small resistor in series with the output and utilizing the voltage drop across this resistor as the feedback signal. This voltage can also serve as the return signal, which is directly subtracted from the input.\n\n**Figure 8.30 Current-voltage feedback**\n\nThe system block diagram titled \"Figure 8.30 Current-voltage feedback\" depicts a current-voltage feedback system designed to control the output of a feedforward amplifier. The primary components of this system are:\n\n1. **Main Components:**\n   - **Feedforward Amplifier (Gm):** This block amplifies the input signal (Vin) and generates an output current (Iout) based on the error voltage (Ve).\n   - **Feedback Network:** This block detects the output current (Iout) and converts it into a feedback voltage (VF). The feedback factor, denoted as RF, has units of resistance.\n   - **Load Impedance (ZL):** This represents the impedance to which the output current is delivered and must be finite to ensure proper operation of the Gm stage.\n\n2. **Flow of Information or Control:**\n   - The input voltage (Vin) is applied, and the error voltage (Ve) is determined by subtracting the feedback voltage (VF) from Vin.\n   - The feedforward amplifier amplifies the error voltage (Ve) to produce the output current (Iout).\n   - The output current (Iout) is delivered to the load impedance (ZL), and a portion is sensed by the feedback network.\n   - The feedback network converts the sensed current to a feedback voltage (VF), which adjusts the input to the feedforward amplifier, forming a feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The diagram includes key signals such as Vin, Ve, VF, and Iout.\n   - The feedback factor is labeled as RF, and the load impedance as ZL.\n   - The diagram indicates low resistances for both input and output (Low Rin and Low Rout).\n\n4. **Overall System Function:**\n   - The main function of this system is to regulate the output current delivered to the load impedance using a current-voltage feedback mechanism. By sensing the output current and feeding back a proportional voltage, the system adjusts the input to the feedforward amplifier, ensuring stable operation and desired output characteristics. This setup is particularly beneficial for systems requiring precise output current control despite variations in load conditions or input signals.\n\n**Figure 8.30 Current-voltage feedback.**\n\nConsidering the general current-voltage feedback system shown in Fig. 8.30, since the feedback network senses the output current and returns a voltage, its feedback factor, $\\beta$, has the dimension of resistance and is denoted by $R_{F}$. It is crucial to note that a $G_{m}$ stage must be loaded by a finite impedance, $Z_{L}$, to deliver its output current effectively. If $Z_{L}=\\infty$, an ideal $G_{m}$ stage would produce an infinite output voltage. We express $V_{F}=R_{F} I_{\\text {out }}$, $V_{e}=V_{\\text {in }}-R_{F} I_{\\text {out }}$, and hence $I_{\\text {out }}=G_{m}\\left(V_{\\text {in }}-R_{F} I_{\\text {out }}\\right)$. Therefore,\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{I_{\\text {out }}}{V_{\\text {in }}}=\\frac{G_{m}}{1+G_{m} R_{F}} \\tag{8.40}\n\\end{equation*}\n$$\n\n\\$\\$\n\nAn ideal feedback network in this case exhibits zero input and output impedances. It is instructive to confirm that $G_{m} R_{F}$ is indeed the loop gain. As shown in Fig. 8.31, we set the input voltage to zero, disconnect the feedback network from the output, and replace it with a short at the output (assuming an ideal feedback network). We then inject a test signal $I_{t}$, resulting in $V_{F}=R_{F} I_{t}$, and hence $I_{\\text {out }}=-G_{m} R_{F} I_{t}$. Thus, the loop gain is $G_{m} R_{F}$, and the transconductance of the amplifier is reduced by $1+G_{m} R_{F}$ when feedback is applied.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback**\n\nThe circuit illustrates the calculation of loop gain for current-voltage feedback. The loop gain is given by Gm*RF. The feedback network is disconnected, and a test current It is injected to determine the loop gain.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback.**\n\nIs it realistic to assume that the input impedance of the feedback network is zero? Why use a test current instead of a test voltage? Does the type of test source affect loop gain calculations? These questions are addressed later in this chapter.\n\nSensing the current at the output of a feedback system increases the output impedance. This occurs because the system aims to make the output current a faithful replica of the input signal (with a proportionality factor if the input is a voltage). Consequently, the system delivers the same current waveform despite load variations, effectively behaving like an ideal current source and thus exhibiting high output impedance.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier**\n\nThe circuit is a current-voltage feedback amplifier used to calculate the output resistance. It includes a voltage-controlled current source (Gm), resistors (Rout and RF), and voltage sources (Vx and VF). The feedback network produces a voltage VF proportional to IX, and the current generated by Gm equals -RF * IX * Gm.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier.**\n\nTo prove this result, we consider the current-voltage feedback topology in Fig. 8.32, where $R_{\\text {out }}$ represents the finite output impedance of the feedforward amplifier. The feedback network produces a voltage $V_{F}$ proportional to $I_{X}: V_{F}=R_{F} I_{X}$, and the current generated by $G_{m}$ equals $-R_{F} I_{X} G_{m}$. Consequently, $-R_{F} I_{X} G_{m}=I_{X}-V_{X} / R_{\\text {out }}$, yielding\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{\\text {out }}\\left(1+G_{m} R_{F}\\right) \\tag{8.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nThe output impedance thus increases by a factor of $1+G_{m} R_{F}$.\n\n#### Example 8.7\n\nRechargeable batteries require constant current charging to prevent damage. The battery charger must generate a constant current from a reference voltage, $V_{R E F}$. As shown in Fig. 8.33(a), a small resistor $r$ can be placed in the output current path, and the voltage across $r$ can be applied to an amplifier $A_{1}$, which subtracts its output from $V_{R E F}$. Calculate the output current and impedance of this circuit, assuming $\\left|Z_{L}\\right| \\ll r_{O}$ (the output resistance of $M_{1}$).\n\n**Figure 8.33(a)**\n\nThe circuit diagram represents a constant current battery charger. The operational amplifier A1 maintains the output current Iout by comparing the reference voltage VREF with the voltage across the resistor r. The NMOS transistor M1 controls the output current path. This setup ensures the rechargeable battery receives a constant current, crucial for safe and efficient charging.\n\n**Figure 8.33(b)**\n\nThis circuit is designed to generate a constant current for a rechargeable battery. It uses an op-amp (A1) to maintain the current across a resistor (r) and an NMOS transistor (M1) to control the current flow. The output current is determined by the reference voltage (VREF) and the op-amp's gain. The load impedance (ZL) is connected in series with the output.\n\n**Figure 8.33**\n\n#### Solution\n\nWith high loop gain, the output voltage of $A_{1}$ is approximately equal to $V_{R E F}$, resulting in $I_{\\text {out }}=\\left(V_{R E F} / A_{1}\\right) / r$. Using Fig. 8.33(b) to determine the loop gain, we have\n\n$$\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} \\approx-g_{m} r A_{1} \\tag{8.42}\n\\end{equation*}\n$$\n\nThus, the open-loop output impedance seen by $Z_{L}$ is multiplied by $1+g_{m} r A_{1}$, yielding\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\left(1+g_{m} r A_{1}\\right)\\left(r_{O}+r\\right) \\tag{8.43}\n\\end{equation*}\n$$\n\nWe observe that $Z_{L}$ is now driven by a more effective current source.\n\nSimilar to voltage-voltage feedback, current-voltage feedback increases the input impedance by a factor equal to one plus the loop gain. As shown in Fig. 8.34, we have $I_{X} R_{\\text {in }} G_{m}=I_{\\text {out }}$. Thus, $V_{e}=$ $V_{X}-G_{m} R_{F} I_{X} R_{i n}$ and\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{i n}\\left(1+G_{m} R_{F}\\right) \\tag{8.44}\n\\end{equation*}\n$$\n\nThe reader can confirm that the loop gain is indeed $G_{m} R_{F}$. In summary, current-voltage feedback increases both input and output impedances while decreasing the feedforward transconductance. As explained in Chapter 9, the high output impedance is beneficial in high-gain op amps.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier**\n\nThe circuit is a current-voltage feedback amplifier. The input current Ix flows through the voltage source Vx and resistor Rin, while the output current Iout is controlled by the voltage-controlled current source Gm. The feedback loop includes the voltage source Vf and resistor Rf.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier.**"
},
{
    "text": "In certain circuits, it is preferable or simpler to monitor the output current for feedback purposes. This is achieved by inserting a small resistor in series with the output and using the voltage drop across this resistor as the feedback signal. This voltage can also function as the return signal that is directly subtracted from the input.\n\n**Figure 8.30 Current-voltage feedback**\n\n**Description:**\nThe system block diagram titled \"Figure 8.30 Current-voltage feedback\" illustrates a current-voltage feedback system designed to control the output of a feedforward amplifier. The key components of this system are:\n\n1. **Main Components:**\n   - **Feedforward Amplifier (Gm):** This block amplifies the input signal (Vin) and generates an output current (Iout) based on the error voltage (Ve).\n   - **Feedback Network:** This block detects the output current (Iout) and converts it into a feedback voltage (VF). The feedback factor, denoted as RF, is a resistance.\n   - **Load Impedance (ZL):** This represents the impedance to which the output current is delivered, and it must be finite to ensure proper operation of the Gm stage.\n\n2. **Flow of Information or Control:**\n   - The input voltage (Vin) is applied, and the error voltage (Ve) is determined by subtracting the feedback voltage (VF) from Vin.\n   - The feedforward amplifier amplifies Ve to produce Iout.\n   - Iout is delivered to ZL, and a portion is sensed by the feedback network.\n   - The feedback network converts the sensed current to VF, which adjusts the input to the feedforward amplifier, forming a feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The diagram includes key signals such as Vin, Ve, VF, and Iout.\n   - The feedback factor is labeled RF, and the load impedance is ZL.\n   - The diagram indicates low input and output resistances (Low Rin and Low Rout).\n\n4. **Overall System Function:**\n   - The primary function is to regulate the output current delivered to ZL using a current-voltage feedback mechanism. By sensing the output current and feeding back a proportional voltage, the system adjusts the input to the feedforward amplifier, ensuring stable operation and desired output characteristics. This setup is particularly useful for precise output current control despite variations in load conditions or input signals.\n\n**Figure 8.30 Current-voltage feedback.**\n\nConsider the general current-voltage feedback system depicted in Fig. 8.30. Since the feedback network senses the output current and returns a voltage, its feedback factor, $\\beta$, is a resistance denoted by $R_{F}$. It is crucial that the Gm stage is loaded by a finite impedance, $Z_{L}$, to deliver its output current. If $Z_{L}=\\infty$, an ideal Gm stage would produce an infinite output voltage. We express $V_{F}=R_{F} I_{\\text {out }}$, $V_{e}=V_{\\text {in }}-R_{F} I_{\\text {out }}$, and hence $I_{\\text {out }}=G_{m}\\left(V_{\\text {in }}-R_{F} I_{\\text {out }}\\right)$. Consequently,\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{I_{\\text {out }}}{V_{\\text {in }}}=\\frac{G_{m}}{1+G_{m} R_{F}} \\tag{8.40}\n\\end{equation*}\n$$\n\n\\$\\$\n\nAn ideal feedback network in this scenario has zero input and output impedances. Confirming that $G_{m} R_{F}$ is the loop gain is instructive. As shown in Fig. 8.31, setting the input voltage to zero and breaking the loop by disconnecting the feedback network from the output and replacing it with a short, we inject a test signal $I_{t}$, resulting in $V_{F}=R_{F} I_{t}$ and $I_{\\text {out }}=-G_{m} R_{F} I_{t}$. Thus, the loop gain is $G_{m} R_{F}$, and the transconductance of the amplifier is reduced by $1+G_{m} R_{F}$ when feedback is applied.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback**\n\n**Description:**\nThe circuit illustrates the calculation of loop gain for current-voltage feedback. The loop gain is given by Gm*RF. The feedback network is disconnected, and a test current It is injected to determine the loop gain.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback.**\n\nIs it realistic to assume the feedback network's input impedance is zero? Why use a test current instead of a test voltage? Does the type of test source affect loop gain calculations? These questions are addressed later in this chapter.\n\nSensing the current at the output of a feedback system increases the output impedance. This occurs because the system aims to make the output current a faithful replica of the input signal (with a proportionality factor if the input is a voltage). Thus, the system delivers the same current waveform despite load variations, effectively behaving like an ideal current source and exhibiting high output impedance.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier**\n\n**Description:**\nThe circuit is a current-voltage feedback amplifier used to calculate the output resistance. It includes a voltage-controlled current source (Gm), resistors (Rout and RF), and voltage sources (Vx and VF). The feedback network produces a voltage VF proportional to IX, and the current generated by Gm equals -RF * IX * Gm.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier.**\n\nTo prove this, consider the current-voltage feedback topology in Fig. 8.32, where $R_{\\text {out }}$ represents the finite output impedance of the feedforward amplifier. The feedback network produces a voltage $V_{F}$ proportional to $I_{X}: V_{F}=R_{F} I_{X}$, and the current generated by $G_{m}$ equals $-R_{F} I_{X} G_{m}$. Consequently, $-R_{F} I_{X} G_{m}=I_{X}-V_{X} / R_{\\text {out }}$, yielding\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{\\text {out }}\\left(1+G_{m} R_{F}\\right) \\tag{8.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nThe output impedance thus increases by a factor of $1+G_{m} R_{F}$.\n\n#### Example 8.7\n\nRechargeable batteries require constant current charging to prevent damage. The battery charger must generate a constant current from a reference voltage, $V_{R E F}$. As shown in Fig. 8.33(a), inserting a small resistor $r$ in the output current path, applying the voltage across $r$ to an amplifier $A_{1}$, and subtracting $A_{1}$'s output from $V_{R E F}$ achieves this. Calculate the output current and impedance of this circuit, assuming $\\left|Z_{L}\\right| \\ll r_{O}$ (the output resistance of $M_{1}$).\n\n**Figure 8.33(a)**\n\n**Description:**\nThe circuit diagram represents a constant current battery charger. The operational amplifier A1 maintains the output current Iout by comparing the reference voltage VREF with the voltage across the resistor r. The NMOS transistor M1 controls the output current path. The circuit ensures the rechargeable battery receives a constant current, crucial for safe and efficient charging.\n\n**Figure 8.33(b)**\n\n**Description:**\nThis circuit generates a constant current for a rechargeable battery. It uses an op-amp (A1) to maintain the current across a resistor (r) and an NMOS transistor (M1) to control the current flow. The output current is determined by the reference voltage (VREF) and the op-amp's gain. The load impedance (ZL) is connected in series with the output.\n\n**Figure 8.33**\n\n#### Solution\n\nWith high loop gain, $A_{1}$'s output voltage approximates $V_{R E F}$, so $I_{\\text {out }}=\\left(V_{R E F} / A_{1}\\right) / r$. Using Fig. 8.33(b) to determine the loop gain, we have\n\n$$\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} \\approx-g_{m} r A_{1} \\tag{8.42}\n\\end{equation*}\n$$\n\nThus, the open-loop output impedance seen by $Z_{L}$ is multiplied by $1+g_{m} r A_{1}$, resulting in\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\left(1+g_{m} r A_{1}\\right)\\left(r_{O}+r\\right) \\tag{8.43}\n\\end{equation*}\n$$\n\nWe observe that $Z_{L}$ is driven by a more effective current source.\n\nLike voltage-voltage feedback, current-voltage feedback increases the input impedance by a factor equal to one plus the loop gain. As shown in Fig. 8.34, $I_{X} R_{\\text {in }} G_{m}=I_{\\text {out }}$. Thus, $V_{e}=$ $V_{X}-G_{m} R_{F} I_{X} R_{i n}$ and\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{i n}\\left(1+G_{m} R_{F}\\right) \\tag{8.44}\n\\end{equation*}\n$$\n\nThe reader can verify that the loop gain equals $G_{m} R_{F}$. In summary, current-voltage feedback increases both input and output impedances while decreasing the feedforward transconductance. As explained in Chapter 9, the high output impedance is beneficial in high-gain op amps.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier**\n\n**Description:**\nThe circuit is a current-voltage feedback amplifier. The input current Ix flows through the voltage source Vx and resistor Rin, while the output current Iout is controlled by the voltage-controlled current source Gm. The feedback loop includes the voltage source Vf and resistor Rf.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier.**"
},
{
    "text": "In certain circuits, it is either desirable or simpler to monitor the output current for feedback purposes. This is achieved by inserting a small resistor in series with the output and using the voltage drop across this resistor as the feedback signal. This voltage can also serve as the return signal, directly subtracted from the input.\n\n**Figure 8.30 Current-voltage feedback**\n\nThe block diagram titled \"Figure 8.30 Current-voltage feedback\" illustrates a current-voltage feedback system designed to control the output of a feedforward amplifier. The key components of this system are:\n\n1. **Main Components:**\n   - **Feedforward Amplifier (Gm):** This block amplifies the input signal (Vin) and generates an output current (Iout) based on the error voltage (Ve).\n   - **Feedback Network:** This block detects the output current (Iout) and converts it into a feedback voltage (VF). The feedback factor, denoted as RF, has units of resistance.\n   - **Load Impedance (ZL):** This represents the impedance to which the output current is delivered. It must be finite to ensure proper operation of the Gm stage.\n\n2. **Flow of Information or Control:**\n   - The input voltage (Vin) is applied, and the error voltage (Ve) is determined by subtracting the feedback voltage (VF) from Vin.\n   - The feedforward amplifier amplifies Ve to produce Iout.\n   - Iout is delivered to ZL, and a portion is sensed by the feedback network.\n   - The feedback network converts the sensed current to VF, which adjusts the input to the feedforward amplifier, forming a feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The diagram includes key signals such as Vin, Ve, VF, and Iout.\n   - The feedback factor is labeled RF, and the load impedance is labeled ZL.\n   - The diagram indicates low input and output resistances (Low Rin and Low Rout).\n\n4. **Overall System Function:**\n   - The system's primary function is to regulate the output current delivered to ZL using a current-voltage feedback mechanism. By sensing the output current and feeding back a proportional voltage, the system adjusts the input to the feedforward amplifier, ensuring stable operation and desired output characteristics. This setup is particularly useful for precise output current control despite variations in load conditions or input signals.\n\n**Figure 8.30 Current-voltage feedback.**\n\nConsider the general current-voltage feedback system depicted in Fig. 8.30. Since the feedback network senses the output current and returns a voltage, its feedback factor, $\\beta$, has units of resistance and is denoted by $R_{F}$. It is crucial to note that the Gm stage must be loaded by a finite impedance, $Z_{L}$, to deliver its output current effectively. If $Z_{L}=\\infty$, an ideal Gm stage would produce an infinite output voltage. We express $V_{F}=R_{F} I_{\\text {out }}$, $V_{e}=V_{\\text {in }}-R_{F} I_{\\text {out }}$, and hence $I_{\\text {out }}=G_{m}(V_{\\text {in }}-R_{F} I_{\\text {out }})$. This leads to:\n$$\n\\begin{equation*}\n\\frac{I_{\\text {out }}}{V_{\\text {in }}}=\\frac{G_{m}}{1+G_{m} R_{F}} \\tag{8.40}\n\\end{equation*}\n$$\n\nAn ideal feedback network in this case exhibits zero input and output impedances. Confirming that $G_{m} R_{F}$ is the loop gain, as shown in Fig. 8.31, we set Vin to zero, disconnect the feedback network from the output, and replace it with a short. Injecting a test signal $I_{t}$ results in $V_{F}=R_{F} I_{t}$ and $I_{\\text {out }}=-G_{m} R_{F} I_{t}$. Thus, the loop gain is $G_{m} R_{F}$, and the amplifier's transconductance decreases by $1+G_{m} R_{F}$ when feedback is applied.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback**\n\nThe circuit in Fig. 8.31 illustrates the loop gain calculation for current-voltage feedback. The loop gain is given by Gm*RF. The feedback network is disconnected, and a test current It is injected to determine the loop gain.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback.**\n\nIs it realistic to assume the feedback network's input impedance is zero? Why use a test current instead of a test voltage? Does the type of test source affect loop gain calculations? These questions are addressed later in this chapter.\n\nSensing the current at the output of a feedback system increases the output impedance. This occurs because the system aims to make the output current a faithful replica of the input signal (with a proportionality factor if the input is a voltage). Consequently, the system delivers the same current waveform despite load variations, effectively behaving like an ideal current source and exhibiting high output impedance.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier**\n\nThe circuit in Fig. 8.32 is used to calculate the output resistance of a current-voltage feedback amplifier. It includes a voltage-controlled current source (Gm), resistors (Rout and RF), and voltage sources (Vx and VF). The feedback network produces a voltage VF proportional to IX, and the current generated by Gm equals -RF * IX * Gm.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier.**\n\nTo prove this, consider the current-voltage feedback topology in Fig. 8.32, where $R_{\\text {out }}$ represents the finite output impedance of the feedforward amplifier. The feedback network produces a voltage $V_{F}$ proportional to $I_{X}: V_{F}=R_{F} I_{X}$, and the current generated by $G_{m}$ equals $-R_{F} I_{X} G_{m}$. Thus, $-R_{F} I_{X} G_{m}=I_{X}-V_{X} / R_{\\text {out }}$, yielding:\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{\\text {out }}\\left(1+G_{m} R_{F}\\right) \\tag{8.41}\n\\end{equation*}\n$$\n\nThe output impedance therefore increases by a factor of $1+G_{m} R_{F}$.\n\n#### Example 8.7\n\nRechargeable batteries require constant current charging to prevent damage. The charger must generate a constant current from a reference voltage, $V_{R E F}$. As shown in Fig. 8.33(a), a small resistor $r$ is placed in the output current path, and the voltage across $r$ is applied to an amplifier $A_{1}$, which subtracts its output from $V_{R E F}$. Calculate the output current and impedance of this circuit, assuming $\\left|Z_{L}\\right| \\ll r_{O}$ (the output resistance of $M_{1}$).\n\n**Figure 8.33(a)**\n\nThe circuit diagram represents a constant current battery charger. The operational amplifier A1 maintains the output current Iout by comparing the reference voltage VREF with the voltage across the resistor r. The NMOS transistor M1 controls the output current path. The circuit ensures the rechargeable battery receives a constant current for safe and efficient charging.\n\n**Figure 8.33(b)**\n\nThis circuit generates a constant current for a rechargeable battery using an op-amp (A1) to maintain the current across a resistor (r) and an NMOS transistor (M1) to control the current flow. The output current is determined by the reference voltage (VREF) and the op-amp's gain. The load impedance (ZL) is connected in series with the output.\n\n**Figure 8.33**\n\n#### Solution\n\nWith high loop gain, the output voltage of $A_{1}$ approximates $V_{R E F}$, thus $I_{\\text {out }}=\\left(V_{R E F} / A_{1}\\right) / r$. Using Fig. 8.33(b) to determine the loop gain:\n$$\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} \\approx-g_{m} r A_{1} \\tag{8.42}\n\\end{equation*}\n$$\n\nThe open-loop output impedance seen by $Z_{L}$ is multiplied by $1+g_{m} r A_{1}$, resulting in:\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\left(1+g_{m} r A_{1}\\right)\\left(r_{O}+r\\right) \\tag{8.43}\n\\end{equation*}\n$$\n\nWe observe that $Z_{L}$ is driven by a more effective current source.\n\nLike voltage-voltage feedback, current-voltage feedback increases the input impedance by a factor of one plus the loop gain. As shown in Fig. 8.34, $I_{X} R_{\\text {in }} G_{m}=I_{\\text {out }}$. Thus, $V_{e}=V_{X}-G_{m} R_{F} I_{X} R_{i n}$ and:\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{i n}\\left(1+G_{m} R_{F}\\right) \\tag{8.44}\n\\end{equation*}\n$$\n\nThe reader can verify that the loop gain equals $G_{m} R_{F}$. In summary, current-voltage feedback increases both input and output impedances while decreasing the feedforward transconductance. As explained in Chapter 9, high output impedance is beneficial in high-gain op amps.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier**\n\nThe circuit in Fig. 8.34 is a current-voltage feedback amplifier. The input current Ix flows through the voltage source Vx and resistor Rin, while the output current Iout is controlled by the voltage-controlled current source Gm. The feedback loop includes the voltage source Vf and resistor Rf."
},
{
    "text": "In certain circuits, it is preferable or simpler to detect the output current for feedback purposes. This detection is achieved by inserting a small resistor in series with the output and utilizing the voltage drop across this resistor as the feedback signal. This voltage can also serve as the return signal that is directly subtracted from the input.\n\n**Figure 8.30 Current-voltage feedback**\n\nThe system block diagram titled \"Figure 8.30 Current-voltage feedback\" illustrates a current-voltage feedback system designed to control the output of a feedforward amplifier. The primary components of this system are:\n\n1. **Main Components:**\n   - **Feedforward Amplifier (Gm):** This block amplifies the input signal (Vin) and generates an output current (Iout) based on the error voltage (Ve).\n   - **Feedback Network:** This block detects the output current (Iout) and converts it into a feedback voltage (VF). The feedback factor, denoted as RF, has units of resistance.\n   - **Load Impedance (ZL):** This represents the impedance to which the output current is delivered, and it must be finite to ensure proper functioning of the Gm stage.\n\n2. **Flow of Information or Control:**\n   - The input voltage (Vin) is applied to the system, and the error voltage (Ve) is determined by subtracting the feedback voltage (VF) from Vin.\n   - The feedforward amplifier amplifies the error voltage (Ve) to produce the output current (Iout).\n   - The output current (Iout) is delivered to the load impedance (ZL), and a portion of this current is sensed by the feedback network.\n   - The feedback network converts the sensed current into a feedback voltage (VF), which is used to adjust the input to the feedforward amplifier, thereby forming a feedback loop.\n\n3. **Labels, Annotations, and Key Indicators:**\n   - The diagram includes key signals such as Vin, Ve, VF, and Iout.\n   - The feedback factor is labeled as RF, and the load impedance is labeled as ZL.\n   - The diagram indicates that both the input and output have low resistances (Low Rin and Low Rout).\n\n4. **Overall System Function:**\n   - The main function of this system is to regulate the output current delivered to the load impedance using a current-voltage feedback mechanism. By sensing the output current and feeding back a proportional voltage, the system can adjust the input to the feedforward amplifier, ensuring stable operation and desired output characteristics. This setup is particularly beneficial for systems requiring precise control of output current despite variations in load conditions or input signals.\n\n**Figure 8.30 Current-voltage feedback.**\n\nLet us examine the general current-voltage feedback system depicted in Fig. 8.30. Since the feedback network senses the output current and returns a voltage, its feedback factor, $\\beta$, has units of resistance and is represented by $R_{F}$. It is crucial to note that a Gm stage must be loaded (\"terminated\") by a finite impedance, $Z_{L}$, to ensure it can deliver its output current. If $Z_{L}=\\infty$, an ideal Gm stage would sustain an infinite output voltage. We express $V_{F}=R_{F} I_{\\text {out }}$, $V_{e}=V_{\\text {in }}-R_{F} I_{\\text {out }}$, and hence $I_{\\text {out }}=G_{m}\\left(V_{\\text {in }}-R_{F} I_{\\text {out }}\\right)$. Consequently,\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{I_{\\text {out }}}{V_{\\text {in }}}=\\frac{G_{m}}{1+G_{m} R_{F}} \\tag{8.40}\n\\end{equation*}\n$$\n\n\\$\\$\n\nAn ideal feedback network in this scenario exhibits zero input and output impedances. It is instructive to confirm that $G_{m} R_{F}$ is indeed the loop gain. As shown in Fig. 8.31, we set the input voltage to zero and break the loop by disconnecting the feedback network from the output and replacing it with a short at the output (if the feedback network is ideal). We then inject the test signal $I_{t}$, resulting in $V_{F}=R_{F} I_{t}$, and hence $I_{\\text {out }}=-G_{m} R_{F} I_{t}$. Thus, the loop gain is equal to $G_{m} R_{F}$, and the transconductance of the amplifier is reduced by $1+G_{m} R_{F}$ when feedback is applied.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback**\n\nThe circuit diagram in Fig. 8.31 illustrates the calculation of loop gain for current-voltage feedback. The loop gain is given by Gm*RF. The feedback network is disconnected, and a test current It is injected to determine the loop gain.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback.**\n\nIs it realistic to assume that the input impedance of the feedback network is zero? Why do we use a test current rather than a test voltage? Does the type of test source affect the loop gain calculations? These questions are addressed later in this chapter.\n\nSensing the current at the output of a feedback system increases the output impedance. This occurs because the system aims to make the output current a faithful replica of the input signal (with a proportionality factor if the input is a voltage quantity). As a result, the system delivers the same current waveform as the load varies, essentially behaving like an ideal current source and thus exhibiting a high output impedance.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier**\n\nThe circuit in Fig. 8.32 is used to calculate the output resistance of a current-voltage feedback amplifier. It includes a voltage-controlled current source (Gm), resistors (Rout and RF), and voltage sources (Vx and VF). The feedback network produces a voltage VF proportional to IX, and the current generated by Gm equals -RF * IX * Gm.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier.**\n\nTo validate the above result, we consider the current-voltage feedback topology shown in Fig. 8.32, where $R_{\\text {out }}$ represents the finite output impedance of the feedforward amplifier. The feedback network produces a voltage $V_{F}$ proportional to $I_{X}: V_{F}=R_{F} I_{X}$, and the current generated by $G_{m}$ equals $-R_{F} I_{X} G_{m}$. Consequently, $-R_{F} I_{X} G_{m}=I_{X}-V_{X} / R_{\\text {out }}$, yielding\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{\\text {out }}\\left(1+G_{m} R_{F}\\right) \\tag{8.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nThe output impedance thus increases by a factor of $1+G_{m} R_{F}$.\n\n#### Example 8.7\n\nRechargeable batteries must be charged with a constant current (rather than a constant voltage) to prevent damage. Therefore, the battery charger must generate a constant current from a reference voltage, $V_{R E F}$. As shown in Fig. 8.33(a), a small resistor $r$ can be inserted in the output current path, and the voltage across $r$ can be applied to an amplifier $A_{1}$, which subtracts its output from $V_{R E F}$. Calculate the output current and impedance of this circuit, assuming $\\left|Z_{L}\\right| \\ll r_{O}$ (the output resistance of $M_{1}$).\n\n**Figure 8.33(a)**\n\nThe circuit diagram represents a constant current battery charger. The operational amplifier A1 maintains the output current Iout by comparing the reference voltage VREF with the voltage across the resistor r. The NMOS transistor M1 controls the output current path. This setup ensures that the rechargeable battery receives a constant current, essential for safe and efficient charging.\n\n**Figure 8.33(b)**\n\nThis circuit is designed for generating a constant current for a rechargeable battery. It employs an op-amp (A1) to maintain the current across a resistor (r) and an NMOS transistor (M1) to control the current flow. The output current is determined by the reference voltage (VREF) and the gain of the op-amp. The load impedance (ZL) is connected in series with the output.\n\n**Figure 8.33**\n\n#### Solution\n\nWith a high loop gain, the output voltage of $A_{1}$ is approximately equal to $V_{R E F}$, and thus $I_{\\text {out }}=\\left(V_{R E F} / A_{1}\\right) / r$. Using the circuit in Fig. 8.33(b) to determine the loop gain, we have\n\n$$\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} \\approx-g_{m} r A_{1} \\tag{8.42}\n\\end{equation*}\n$$\n\nTherefore, the open-loop output impedance seen by $Z_{L}$ is multiplied by $1+g_{m} r A_{1}$, resulting in\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\left(1+g_{m} r A_{1}\\right)\\left(r_{O}+r\\right) \\tag{8.43}\n\\end{equation*}\n$$\n\nWe observe that $Z_{L}$ is now driven by a more effective current source.\n\nAs with voltage-voltage feedback, current-voltage feedback increases the input impedance by a factor equal to one plus the loop gain. As shown in Fig. 8.34, we have $I_{X} R_{\\text {in }} G_{m}=I_{\\text {out }}$. Thus, $V_{e}=$ $V_{X}-G_{m} R_{F} I_{X} R_{i n}$ and\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{i n}\\left(1+G_{m} R_{F}\\right) \\tag{8.44}\n\\end{equation*}\n$$\n\nThe reader can demonstrate that the loop gain is indeed equal to $G_{m} R_{F}$. In summary, current-voltage feedback increases both the input and output impedances while decreasing the feedforward transconductance. As discussed in Chapter 9, the high output impedance is particularly useful in high-gain op amps.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier**\n\nThe circuit in Fig. 8.34 is a current-voltage feedback amplifier. The input current Ix flows through the voltage source Vx and resistor Rin, while the output current Iout is controlled by the voltage-controlled current source Gm. The feedback loop includes the voltage source Vf and resistor Rf."
},
{
    "text": "In certain circuits, it is preferable or simpler to detect the output current for feedback purposes. This detection is achieved by inserting a small resistor in series with the output and utilizing the voltage drop across this resistor as the feedback signal. This voltage can also act as the return signal that is directly subtracted from the input.\n\n**Figure 8.30 Current-voltage feedback:**\nThe system block diagram titled \"Figure 8.30 Current-voltage feedback\" illustrates a current-voltage feedback system designed to control the output of a feedforward amplifier. The key components of this system are the Feedforward Amplifier, the Feedback Network, and the Load Impedance (ZL).\n\n1. **Key Components:**\n   - **Feedforward Amplifier (Gm):** This block amplifies the input signal (Vin) and generates an output current (Iout) based on the error voltage (Ve).\n   - **Feedback Network:** This block detects the output current (Iout) and converts it into a feedback voltage (VF). The feedback factor, denoted as RF, has units of resistance.\n   - **Load Impedance (ZL):** This represents the impedance to which the output current is delivered and must be finite to ensure proper operation of the Gm stage.\n\n2. **Information and Control Flow:**\n   - The input voltage (Vin) is applied, and the error voltage (Ve) is determined by subtracting the feedback voltage (VF) from Vin.\n   - The feedforward amplifier amplifies Ve to produce Iout.\n   - Iout is delivered to ZL, and a portion is sensed by the feedback network.\n   - The feedback network converts the sensed current to VF, which adjusts the input to the feedforward amplifier, forming a feedback loop.\n\n3. **Labels and Annotations:**\n   - The diagram includes key signals such as Vin, Ve, VF, and Iout.\n   - The feedback factor is labeled RF, and the load impedance is labeled ZL.\n   - The diagram indicates low input and output resistances (Low Rin and Low Rout).\n\n4. **System Function:**\n   - The primary function is to regulate the output current to ZL using current-voltage feedback. By sensing the output current and feeding back a proportional voltage, the system maintains stable operation and desired output characteristics, making it suitable for precise current control despite load or input variations.\n\n**Figure 8.30 Current-voltage feedback.**\n\nConsidering the general current-voltage feedback system in Fig. 8.30, the feedback network senses the output current and returns a voltage, with its feedback factor, $\\beta$, having the dimension of resistance and denoted by $R_{F}$. It is crucial that the Gm stage is loaded by a finite impedance, $Z_{L}$, to deliver its output current. If $Z_{L}=\\infty$, an ideal Gm stage would produce an infinite output voltage. We express $V_{F}=R_{F} I_{\\text {out }}$, $V_{e}=V_{\\text {in }}-R_{F} I_{\\text {out }}$, and hence $I_{\\text {out }}=G_{m}\\left(V_{\\text {in }}-R_{F} I_{\\text {out }}\\right)$, leading to\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{I_{\\text {out }}}{V_{\\text {in }}}=\\frac{G_{m}}{1+G_{m} R_{F}} \\tag{8.40}\n\\end{equation*}\n$$\n\n\\$\\$\n\nAn ideal feedback network in this scenario has zero input and output impedances. Confirming that $G_{m} R_{F}$ is the loop gain, as shown in Fig. 8.31, we set Vin to zero, disconnect the feedback network, and replace it with a short at the output. Injecting a test signal $I_{t}$ results in $V_{F}=R_{F} I_{t}$ and $I_{\\text {out }}=-G_{m} R_{F} I_{t}$, confirming the loop gain as $G_{m} R_{F}$, reducing the amplifier's transconductance by $1+G_{m} R_{F}$ when feedback is applied.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback:**\nThe circuit illustrates the loop gain calculation for current-voltage feedback, with the loop gain given by Gm*RF. The feedback network is disconnected, and a test current It is injected to determine the loop gain.\n\n**Figure 8.31 Calculation of loop gain for current-voltage feedback.**\n\nIs it realistic to assume the feedback network's input impedance is zero? Why use a test current instead of a test voltage? Does the type of test source affect loop gain calculations? These questions are addressed later in the chapter.\n\nSensing the output current in a feedback system increases the output impedance, as the system aims to replicate the input signal's current waveform (with a proportionality factor if the input is a voltage). Thus, the system delivers consistent current despite load variations, behaving like an ideal current source and exhibiting high output impedance.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier:**\nThe circuit includes a voltage-controlled current source (Gm), resistors (Rout and RF), and voltage sources (Vx and VF). The feedback network produces VF proportional to IX, and the current generated by Gm equals -RF * IX * Gm.\n\n**Figure 8.32 Calculation of output resistance of a current-voltage feedback amplifier.**\n\nTo prove this, consider the current-voltage feedback topology in Fig. 8.32, where $R_{\\text {out }}$ represents the feedforward amplifier's finite output impedance. The feedback network produces $V_{F}$ proportional to $I_{X}: V_{F}=R_{F} I_{X}$, and the current generated by $G_{m}$ equals $-R_{F} I_{X} G_{m}$. Consequently,\n\\$\\$\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{\\text {out }}\\left(1+G_{m} R_{F}\\right) \\tag{8.41}\n\\end{equation*}\n$$\n\n\\$\\$\n\nThe output impedance thus increases by a factor of $1+G_{m} R_{F}$.\n\n#### Example 8.7\n\nRechargeable batteries require constant current charging to prevent damage. The charger must generate a constant current from a reference voltage, $V_{R E F}$. As shown in Fig. 8.33(a), a small resistor $r$ is placed in the output current path, and the voltage across $r$ is applied to amplifier $A_{1}$, subtracting its output from $V_{R E F}$. Calculate the output current and impedance, assuming $\\left|Z_{L}\\right| \\ll r_{O}$ (the output resistance of $M_{1}$).\n\n**Figure 8.33(a):**\nThe circuit diagram represents a constant current battery charger. Op-amp A1 maintains the output current Iout by comparing VREF with the voltage across resistor r. NMOS transistor M1 controls the current flow, ensuring the battery receives a constant current for safe charging.\n\n**Figure 8.33(b):**\nThis circuit generates a constant current for a rechargeable battery using an op-amp (A1) to maintain current across resistor (r) and an NMOS transistor (M1) to control the current. The output current is determined by VREF and the op-amp's gain, with ZL connected in series with the output.\n\n**Figure 8.33**\n\n#### Solution\n\nWith high loop gain, A1's output voltage approximates $V_{R E F}$, so $I_{\\text {out }}=\\left(V_{R E F} / A_{1}\\right) / r$. Using Fig. 8.33(b) to determine the loop gain, we get\n\n$$\n\\begin{equation*}\n\\frac{V_{F}}{V_{t}} \\approx-g_{m} r A_{1} \\tag{8.42}\n\\end{equation*}\n$$\n\nThus, the open-loop output impedance seen by ZL is multiplied by $1+g_{m} r A_{1}$, yielding\n\n$$\n\\begin{equation*}\nR_{\\text {out }, \\text { closed }}=\\left(1+g_{m} r A_{1}\\right)\\left(r_{O}+r\\right) \\tag{8.43}\n\\end{equation*}\n$$\n\nZL is now driven by a more effective current source.\n\nLike voltage-voltage feedback, current-voltage feedback increases input impedance by a factor of one plus the loop gain. As shown in Fig. 8.34, $I_{X} R_{\\text {in }} G_{m}=I_{\\text {out }}$, so $V_{e}=V_{X}-G_{m} R_{F} I_{X} R_{i n}$, and\n\n$$\n\\begin{equation*}\n\\frac{V_{X}}{I_{X}}=R_{i n}\\left(1+G_{m} R_{F}\\right) \\tag{8.44}\n\\end{equation*}\n$$\n\nThe reader can confirm that the loop gain equals $G_{m} R_{F}$. In summary, current-voltage feedback raises both input and output impedances while decreasing the feedforward transconductance. As discussed in Chapter 9, high output impedance is beneficial in high-gain op amps.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier:**\nThe circuit includes a voltage source Vx, voltage source Ve, resistor Rin, voltage-controlled current source Gm, voltage source Vf, and resistor Rf. The input current Ix flows through Vx and Rin, while the output current Iout is controlled by Gm. The feedback loop includes Vf and Rf.\n\n**Figure 8.34 Calculation of input resistance of a current-voltage feedback amplifier.**"
},
{
    "text": "In the feedback mechanism discussed, the output voltage is monitored, and a corresponding current is fed back to the input summing point. This setup includes a feedforward path that utilizes a transimpedance amplifier with a gain represented by \\( R_0 \\), and the feedback factor is measured in conductance.\n\nThe voltage-current feedback topology is depicted in Fig. 8.35. It senses the voltage and generates a proportional current, with the feedback network being defined by a transconductance \\( g_{mF} \\). Ideally, this network has infinite input and output impedances. Given that \\( I_F = g_{mF} V_{\\text{out}} \\) and \\( I_e = I_{\\text{in}} - I_F \\), the relationship \\( V_{\\text{out}} = R_0 I_e = R_0 (I_{\\text{in}} - g_{mF} V_{\\text{out}}) \\) holds. This leads to the equation:\n\n\\[\n\\frac{V_{\\text{out}}}{I_{\\text{in}}} = \\frac{R_0}{1 + g_{mF} R_0}\n\\]\n\nIt can be demonstrated that \\( g_{mF} R_0 \\) represents the loop gain, and this feedback configuration reduces the transimpedance by a factor of one plus the loop gain.\n\nThe block diagram labeled \"Figure 8.35 Voltage-current feedback\" presents a system involving a feedforward amplifier and a feedback network. The key components include:\n\n1. **Feedforward Amplifier:** This element amplifies the error current \\( I_e \\) and has an output resistance denoted \\( R_0 \\). It takes in \\( I_e \\) and produces an output voltage \\( V_{\\text{out}} \\).\n2. **Feedback Network:** This network converts the output voltage \\( V_{\\text{out}} \\) into a feedback current \\( I_F \\), characterized by a transconductance \\( g_{mF} \\) and high input and output resistances \\( R_{in} \\) and \\( R_{out} \\), respectively.\n\nThe flow of information or control involves the input current \\( I_{\\text{in}} \\) splitting into two paths: one directly to the feedforward amplifier as \\( I_e \\), and the other to the feedback network, resulting in \\( I_F \\). The feedforward amplifier processes \\( I_e \\) to generate \\( V_{\\text{out}} \\), while the feedback network senses \\( V_{\\text{out}} \\), uses its transconductance \\( g_{mF} \\) to convert it into \\( I_F \\), and feeds it back to adjust \\( I_{\\text{in}} \\), thereby controlling \\( I_e \\).\n\nThe system's primary function is to implement voltage-current feedback to manage the transimpedance \\( \\frac{V_{\\text{out}}}{I_{\\text{in}}} \\). By feeding back a portion of the output voltage as a current \\( I_F \\) to be subtracted from the input current \\( I_{\\text{in}} \\), the system effectively reduces the transimpedance. This feedback mechanism decreases the transimpedance by a factor of \\( 1 + g_{mF} R_0 \\), thereby improving the stability and performance of the amplifier system.\n\nFurther discussions and calculations are provided for various circuit configurations and their corresponding input and output impedances, demonstrating the impact of feedback on these parameters. The application of such amplifiers with low input impedance is crucial in fiber optic receivers, where the conversion of light to current by a photodiode is subsequently amplified and processed. The use of a transimpedance amplifier (TIA) in the feedback topology enhances the bandwidth of the system."
},
{
    "text": "In this type of feedback, the output voltage is detected, and a proportional current is returned to the summing point at the input. The feedforward path includes a transimpedance amplifier with gain \\( R_{0} \\), and the feedback factor has a dimension of conductance.\n\nA voltage-current feedback topology is depicted in Fig. 8.35. It senses a voltage and produces a current, with the feedback network characterized by a transconductance \\( g_{m F} \\), ideally exhibiting infinite input and output impedances. Since \\( I_{F}=g_{m F} V_{\\text {out }} \\) and \\( I_{e}=I_{\\text {in }}-I_{F} \\), we have \\( V_{\\text {out }}=R_{0} I_{e}=R_{0}\\left(I_{\\text {in }}-g_{m F} V_{\\text {out }}\\right) \\). It follows that:\n\n\\[\n\\frac{V_{\\text {out }}}{I_{\\text {in }}}=\\frac{R_{0}}{1+g_{m F} R_{0}}\n\\]\n\nThe reader can prove that \\( g_{m F} R_{0} \\) is indeed the loop gain, concluding that this type of feedback lowers the transimpedance by a factor equal to one plus the loop gain.\n\n---\n\nFigure 8.35 Voltage-current feedback illustrates a feedback mechanism involving a feedforward amplifier and a feedback network. Here's a detailed breakdown:\n\n1. **Main Components:**\n- **Feedforward Amplifier:** This block amplifies the error current \\( I_e \\) and has an output resistance labeled \\( R_0 \\). It receives an input current \\( I_e \\) and outputs a voltage \\( V_{out} \\).\n- **Feedback Network:** This block processes the output voltage \\( V_{out} \\) to generate a feedback current \\( I_F \\). It is characterized by a transconductance \\( g_{mF} \\) and has high input and output resistances \\( R_{in} \\) and \\( R_{out} \\), respectively.\n\n2. **Flow of Information or Control:**\n- The input current \\( I_{in} \\) is split into two paths: one goes directly to the feedforward amplifier as \\( I_e \\), while the other is directed to the feedback network, resulting in the feedback current \\( I_F \\).\n- The feedforward amplifier processes \\( I_e \\) and produces the output voltage \\( V_{out} \\).\n- The feedback network senses \\( V_{out} \\), converts it into \\( I_F \\) using its transconductance \\( g_{mF} \\), and feeds it back to subtract from \\( I_{in} \\), effectively controlling \\( I_e \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n- \\( R_0 \\): Represents the output resistance of the feedforward amplifier.\n- \\( g_{mF} \\): Represents the transconductance of the feedback network.\n- High \\( R_{in} \\) and High \\( R_{out} \\): Indicate high input and output resistances of the feedback network, ensuring minimal loading effects.\n\n4. **Overall System Function:**\n- The primary function of this system is to implement voltage-current feedback to control the transimpedance \\( \\frac{V_{out}}{I_{in}} \\). By feeding back a portion of the output voltage as a current \\( I_F \\) to subtract from the input current \\( I_{in} \\), the system reduces the effective transimpedance. This feedback mechanism lowers the transimpedance by a factor of \\( 1 + g_{mF} R_0 \\), thus enhancing the stability and performance of the amplifier system.\n\n---\n\n#### Example 8.8\n\nCalculate the transimpedance, \\( V_{\\text {out }} / I_{\\text {in }} \\), of the circuit shown in Fig. 8.36(a) at relatively low frequencies. Assume that \\( \\lambda=0 \\). (The bias network of \\( M_{1} \\) is not shown.)\n\n#### Solution\n\nIn this circuit, the capacitive divider \\( C_{1}-C_{2} \\) senses the output voltage, applying the result to the gate of \\( M_{1} \\) and producing a current that is subtracted from \\( I_{i n} \\). The open-loop transimpedance equals that of the core common-gate stage, \\( R_{D} \\). The loop gain is obtained by setting \\( I_{i n} \\) to zero and breaking the loop at the output [Fig. 8.36(b)]:\n\n\\[\n-V_{t} \\frac{C_{1}}{C_{1}+C_{2}} g_{m 1} R_{D}=V_{F}\n\\]\n\n[^53]\n\n---\n\n#### Example 8.9\n\nWe know from the previous example that\n\n\\[\nR_{i n}=\\frac{1}{g_{m 2}} \\frac{1}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1} R_{D}}\n\\]\n\nA student repeats the analysis, but with the input driven by a voltage source, concluding that the loop gain is zero and the input impedance is not affected by the feedback loop. Explain the flaw in the student's argument.\n\n#### Solution\n\nConsider the arrangement shown in Fig. 8.37(a). We know that \\( R_{i n} \\) is affected by the feedback because \\( M_{1} \\) generates a current in response to \\( V_{i n} \\). On the other hand, it appears from Fig. 8.37(b) that the loop gain is zero in this case. How do we reconcile these two views?\n\n---\n\n#### Example 8.10\n\nCalculate the input and output impedances of the circuit shown in Fig. 8.39(a). For simplicity, assume that \\( R_{F} \\gg R_{D} \\).\n\n#### Solution\n\nIn this circuit, \\( R_{F} \\) senses the output voltage and returns a current to the input. Breaking the loop as depicted in Fig. 8.39(b), we calculate the loop gain as \\( g_{m} R_{D} \\). Thus, the open-loop input impedance, \\( R_{F} \\), is divided by \\( 1+g_{m} R_{D} \\) :\n\n\\[\nR_{\\text {in, closed }}=\\frac{R_{F}}{1+g_{m} R_{D}}\n\\]\n\nSimilarly,\n\n\\[\nR_{\\text {out }, \\text { closed }} =\\frac{R_{D}}{1+g_{m} R_{D}}\n\\]\n\nNote that \\( R_{\\text {out,closed }} \\) is in fact the parallel combination of a diode-connected transistor and \\( R_{D} \\). The reduction of the input impedance agrees with Miller's prediction: since the voltage gain from the gate of \\( M_{1} \\) to its drain is approximately equal to \\( -g_{m} R_{D} \\), the feedback resistor equivalently produces a grounded resistance at the input equal to \\( R_{F} /\\left(1+g_{m} R_{D}\\right) \\).\n\n---\n\nAn important application of amplifiers with low input impedance is in fiber optic receivers, where light received through a fiber is converted to a current by a reverse-biased photodiode. This current is typically converted to a voltage for further amplification and processing. Shown in Fig. 8.40(a), such conversion can be accomplished by a simple resistor, but at the cost of bandwidth because the diode suffers from a relatively large junction capacitance. For this reason, the feedback topology of Fig. 8.40(b) is usually employed, where \\( R_{1} \\) is placed around the voltage amplifier \\( A \\) to form a \"transimpedance amplifier\" (TIA). The input impedance is \\( R_{1} /(1+A) \\) and the output voltage is approximately \\( -R_{1} I_{D 1} \\). The bandwidth thus increases from \\( 1 /\\left(2 \\pi R_{1} C_{D 1}\\right) \\) to \\( (1+A) /\\left(2 \\pi R_{1} C_{D 1}\\right) \\) if \\( A \\) itself is a wideband amplifier."
},
{
    "text": "In this form of feedback, the output voltage is detected and a proportional current is fed back to the summing junction at the input. The feedforward path includes a transimpedance amplifier with gain \\( R_{0} \\), and the feedback factor is measured in units of conductance.\n\nFigure 8.35 displays a voltage-current feedback topology. The feedback network, which senses voltage and generates current, is defined by a transconductance \\( g_{mF} \\) and ideally presents infinite input and output impedances. Given that \\( I_{F}=g_{mF} V_{\\text{out}} \\) and \\( I_{e}=I_{\\text{in}}-I_{F} \\), it follows that \\( V_{\\text{out}}=R_{0} I_{e}=R_{0}(I_{\\text{in}}-g_{mF} V_{\\text{out}}) \\). Therefore,\n\n\\[\n\\frac{V_{\\text{out}}}{I_{\\text{in}}}=\\frac{R_{0}}{1+g_{mF} R_{0}}\n\\]\n\nIt can be demonstrated that \\( g_{mF} R_{0} \\) is indeed the loop gain, indicating that this feedback mechanism reduces the transimpedance by a factor equal to one plus the loop gain.\n\nThe system block diagram labeled as \"Figure 8.35 Voltage-current feedback\" depicts a feedback scheme involving a feedforward amplifier and a feedback network. Here's a detailed analysis:\n\n1. **Main Components:**\n   - **Feedforward Amplifier:** This component amplifies the error current \\( I_e \\) and has an output resistance denoted as \\( R_0 \\). It accepts an input current \\( I_e \\) and produces an output voltage \\( V_{\\text{out}} \\).\n   - **Feedback Network:** This component processes the output voltage \\( V_{\\text{out}} \\) to create a feedback current \\( I_F \\). It is characterized by a transconductance \\( g_{mF} \\) and possesses high input and output resistances \\( R_{in} \\) and \\( R_{out} \\), respectively.\n\n2. **Information or Control Flow:**\n   - The input current \\( I_{in} \\) is divided into two paths: one directly reaches the feedforward amplifier as \\( I_e \\), while the other is directed towards the feedback network, resulting in the feedback current \\( I_F \\).\n   - The feedforward amplifier processes \\( I_e \\) to generate the output voltage \\( V_{\\text{out}} \\).\n   - The feedback network detects \\( V_{\\text{out}} \\), transforms it into \\( I_F \\) using its transconductance \\( g_{mF} \\), and feeds it back to subtract from \\( I_{in} \\), effectively regulating \\( I_e \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n   - \\( R_0 \\): Signifies the output resistance of the feedforward amplifier.\n   - \\( g_{mF} \\): Signifies the transconductance of the feedback network.\n   - High \\( R_{in} \\) and High \\( R_{out} \\): Denote high input and output resistances of the feedback network, ensuring minimal loading effects.\n\n4. **Overall System Function:**\n   - The primary role of this system is to implement voltage-current feedback to govern the transimpedance \\( \\frac{V_{\\text{out}}}{I_{\\text{in}}} \\). By feeding back a fraction of the output voltage as a current \\( I_F \\) to subtract from the input current \\( I_{in} \\), the system diminishes the effective transimpedance. This feedback mechanism reduces the transimpedance by a factor of \\( 1 + g_{mF} R_0 \\), thereby enhancing the stability and performance of the amplifier system.\n\nFigure 8.35 Voltage-current feedback.\n\n#### Example 8.8\n\nDetermine the transimpedance, \\( V_{\\text{out}} / I_{\\text{in}} \\), of the circuit depicted in Fig. 8.36(a) at relatively low frequencies. Assume that \\( \\lambda=0 \\). (The bias network of \\( M_{1} \\) is not shown.)\n\n#### Solution\n\nIn this circuit, the capacitive divider \\( C_{1}-C_{2} \\) detects the output voltage, applying the result to the gate of \\( M_{1} \\) and generating a current that is subtracted from \\( I_{in} \\). The open-loop transimpedance equals that of the core common-gate stage, \\( R_{D} \\). The loop gain is determined by setting \\( I_{in} \\) to zero and breaking the loop at the output [Fig. 8.36(b)]:\n\n\\[\n-V_{t} \\frac{C_{1}}{C_{1}+C_{2}} g_{m1} R_{D}=V_{F}\n\\]\n\n[^53]image_name:(a)\ndescription:\n[\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: M2, type: NMOS, ports: {S: d1s2, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: d1s2, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\n]\nextrainfo:This circuit is a common-gate transimpedance amplifier with capacitive feedback. It employs a capacitive divider (C1, C2) to sense the output voltage and govern the current through M1, which is subtracted from the input current Iin. The overall transimpedance is determined by the resistor RD and the capacitive feedback.\nimage_name:(b)\ndescription:\n[\nname: M2, type: NMOS, ports: {S: d1s2, D: VDD, G: Vb}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit diagram (b) is a feedback network with a capacitive divider formed by C1 and C2, which senses the output voltage. The transimpedance is determined by the resistor RD and the loop gain is influenced by the capacitive divider and the transconductance of M1.\n\nFigure 8.36\nThus, the overall transimpedance is equal to\n\n\\[\nR_{tot}=\\frac{R_{D}}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m1} R_{D}}\n\\]\n\n#### Example 8.9\n\nWe know from the previous example that\n\n\\[\nR_{in}=\\frac{1}{g_{m2}} \\frac{1}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m1} R_{D}}\n\\]\n\nA student repeats the analysis, but with the input driven by a voltage source, concluding that the loop gain is zero and the input impedance is not affected by the feedback loop. Explain the flaw in the student's argument.\n\n#### Solution\n\nConsider the arrangement shown in Fig. 8.37(a). We know that \\( R_{in} \\) is affected by the feedback because \\( M_{1} \\) generates a current in response to \\( V_{in} \\). On the other hand, it appears from Fig. 8.37(b) that the loop gain is zero in this case. How do we reconcile these two perspectives?\nimage_name:Figure 8.37(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Vin, N2: Vin}\nname: M1, type: NMOS, ports: {S: GND, D: Vin, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. The input voltage Vin is applied across Rin. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, and RD is connected to VDD. The output voltage is taken across Vout.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: P, G: VF}\nname: M2, type: NMOS, ports: {S: P, D: VF, G: Vb}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, with RD connected to VDD. The output voltage is taken across Vout.\n\n(b)\n\nFigure 8.37\nWe must recall that returning current to the input assumes that the circuit is driven by a current source; i.e., our generic negative-feedback system requires that the returned quantity and the input have the same dimension. In other words, the circuit of Fig. 8.37(a) does not correspond to our canonical feedback system because it returns a current but is driven by a voltage. We therefore cannot compute the loop gain by setting the input voltage to zero and breaking the loop. Of course, the input impedance is still given by Eq. (8.48). We will return to this circuit in Sec. 8.6.4 and apply Blackman's theorem to it.\n\nFollowing our reasoning for the other two types of feedback studied above, we infer that voltagecurrent feedback decreases both the input and the output impedances. As shown in Fig. 8.38(a) and noted in Example 8.3, the input resistance of \\( R_{0} \\) appears in series with its input port. We write \\( I_{F}=I_{X}-V_{X} / R_{in} \\) and \\( (V_{X} / R_{in}) R_{0} g_{mF}=I_{F} \\). Thus,\n\n\\[\n\\frac{V_{X}}{I_{X}}=\\frac{R_{in}}{1+g_{mF} R_{0}}\n\\]\n\nimage_name:(a)\ndescription:\n[\nname: Ix, type: CurrentSource, ports: {Np: GND, Nn: Node1}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Node1, N2: Node2}\nname: OpAmp, type: OpAmp, ports: {InP: Node2, InN: GND, OutP: Node3, OutN: GND}\nname: R0, type: Resistor, value: R0, ports: {N1: Node3, N2: Vout}\nname: gmF, type: VoltageControlledCurrentSource, ports: {Np: Node1, Nn: GND}\nname: Vx, type: VoltageSource, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit is a voltage-current feedback amplifier with decreased input and output impedances. It uses a feedback loop involving a voltage-controlled current source (gmF) to achieve the desired impedance characteristics.\nimage_name:(b)\ndescription:\n[\nname: Ix, type: CurrentSource, ports: {Np: GND, Nn: Node1}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Node1, N2: Node2}\nname: R0, type: Resistor, value: R0, ports: {N1: Node2, N2: Node3}\nname: gmF, type: VoltageControlledCurrentSource, value: gmF, ports: {Np: Node4, Nn: GND}\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Node5, Nn: GND}\nname: Rout, type: Resistor, value: Rout, ports: {N1: Node3, N2: Node6}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Node6, Nn: GND}\n]\nextrainfo:The circuit in diagram (b) is a voltage-current feedback amplifier. It includes a voltage-controlled current source with transconductance gmF, and resistors Rin, R0, and Rout. The current source Ix is connected to ground. The output voltage Vx is measured across Rout with respect to ground.\n\nFigure 8.38 Calculation of (a) input and (b) output impedance of a voltage-current feedback amplifier.\nSimilarly, from Fig. 8.38(b), we have \\( I_{F}=V_{X} g_{mF} \\), \\( I_{e}=-I_{F} \\), and \\( V_{M}=-R_{0} g_{mF} V_{X} \\). Neglecting the input current of the feedback network, we write \\( I_{X}=(V_{X}-V_{M}) / R_{\\text{out}}=(V_{X}+g_{mF} R_{0} V_{X}) / R_{\\text{out}} \\). That is\n\n\\[\n\\frac{V_{X}}{I_{X}}=\\frac{R_{\\text{out}}}{1+g_{mF} R_{0}}\n\\]\n\n#### Example 8.10\n\nCalculate the input and output impedances of the circuit shown in Fig. 8.39(a). For simplicity, assume that \\( R_{F} \\gg R_{D} \\).\nimage_name:Fig. 8.39(a)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: g1}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Vout}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: GND, Nn: g1}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: g1, Nn: Vt}\n]\nextrainfo:The circuit in Fig. 8.39(a) features an NMOS transistor M1 with its source connected to ground and its drain connected to the output node Vout. A feedback resistor RF connects the gate of M1 to Vout. The circuit is powered by a voltage source VDD through a resistor RD connected to Vout. The input current source Iin is connected from ground to the gate of M1, and a voltage source Vt is connected across the feedback resistor RF in Fig. 8.39(b).\nimage_name:Fig. 8.39(b)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: VF, G: g1}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Vt}\nname: RD, type: Resistor, value: RD, ports: {N1: VF, N2: VDD}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: g1}\n]\nextrainfo:The circuit in Fig. 8.39(b) includes an NMOS transistor M1, with its source connected to ground, drain connected to node VF, and gate connected to node g1. The resistor RF connects node g1 to node Vt, and the resistor RD connects node VF to the power supply VDD. The voltage source Vt is connected between nodes Vt and g1.\n\nFigure 8.39\n\n#### Solution\n\nIn this circuit, \\( R_{F} \\) detects the output voltage and returns a current to the input. Breaking the loop as illustrated in Fig. 8.39(b), we calculate the loop gain as \\( g_{m} R_{D} \\). Thus, the open-loop input impedance, \\( R_{F} \\), is divided by \\( 1+g_{m} R_{"
},
{
    "text": "This feedback mechanism involves sensing the output voltage and returning a proportional current to the input summing point. The feedforward path includes a transimpedance amplifier with a gain of \\( R_{0} \\), and the feedback factor is measured in conductance.\n\nThe voltage-current feedback topology, as depicted in Fig. 8.35, senses voltage and generates current, with the feedback network characterized by a transconductance \\( g_{mF} \\), ideally displaying infinite input and output impedances. Since \\( I_{F}=g_{mF} V_{\\text {out }} \\) and \\( I_{e}=I_{\\text {in }}-I_{F} \\), it follows that \\( V_{\\text {out }}=R_{0} I_{e}=R_{0}\\left(I_{\\text {in }}-g_{mF} V_{\\text {out }}\\right) \\). Consequently,\n\n\\[\n\\frac{V_{\\text {out }}}{I_{\\text {in }}}=\\frac{R_{0}}{1+g_{mF} R_{0}} \\tag{8.45}\n\\]\n\nOne can demonstrate that \\( g_{mF} R_{0} \\) is the loop gain, indicating that this feedback type reduces the transimpedance by a factor equal to one plus the loop gain.\n\n---\n\nFigure 8.35 Voltage-current feedback.\n\n#### Example 8.8\n\nDetermine the transimpedance \\( V_{\\text {out }} / I_{\\text {in }} \\) for the circuit shown in Fig. 8.36(a) at relatively low frequencies, assuming \\( \\lambda=0 \\).\n\n#### Solution\n\nIn this circuit, the capacitive divider \\( C_{1}-C_{2} \\) senses the output voltage, feeding it to the gate of \\( M_{1} \\) and generating a current subtracted from \\( I_{i n} \\). The open-loop transimpedance is that of the core common-gate stage, \\( R_{D} \\). The loop gain is determined by setting \\( I_{i n} \\) to zero and breaking the loop at the output [Fig. 8.36(b)]:\n\n\\[\n-V_{t} \\frac{C_{1}}{C_{1}+C_{2}} g_{m 1} R_{D}=V_{F} \\tag{8.46}\n\\]\n\n[^53]image_name:(a)\ndescription:\n[\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: M2, type: NMOS, ports: {S: d1s2, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: d1s2, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\n]\nextrainfo:This circuit is a common-gate transimpedance amplifier with capacitive feedback. It uses a capacitive divider (C1, C2) to sense the output voltage and control the current through M1, which is subtracted from the input current Iin. The overall transimpedance is determined by the resistor RD and the capacitive feedback.\nimage_name:(b)\ndescription:\n[\nname: M2, type: NMOS, ports: {S: d1s2, D: VDD, G: Vb}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit diagram (b) is a feedback network with a capacitive divider formed by C1 and C2, which senses the output voltage. The transimpedance is determined by the resistor RD and the loop gain is influenced by the capacitive divider and the transconductance of M1.\n\nFigure 8.36\nThus, the overall transimpedance is equal to\n\n\\[\nR_{t o t}=\\frac{R_{D}}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1} R_{D}} \\tag{8.47}\n\\]\n\n#### Example 8.9\n\nFrom the previous example, we have\n\n\\[\nR_{i n}=\\frac{1}{g_{m 2}} \\frac{1}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1} R_{D}} \\tag{8.48}\n\\]\n\nA student reanalyzes the circuit with the input driven by a voltage source and concludes that the loop gain is zero and the input impedance is unaffected by the feedback loop. Identify the flaw in the student's argument.\n\n#### Solution\n\nConsider the setup in Fig. 8.37(a). \\( R_{i n} \\) is affected by the feedback because \\( M_{1} \\) generates a current in response to \\( V_{i n} \\). However, Fig. 8.37(b) suggests that the loop gain is zero in this case. How do we reconcile these two perspectives?\nimage_name:Figure 8.37(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Vin, N2: Vin}\nname: M1, type: NMOS, ports: {S: GND, D: Vin, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. The input voltage Vin is applied across Rin. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, and RD is connected to VDD. The output voltage is taken across Vout.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: P, G: VF}\nname: M2, type: NMOS, ports: {S: P, D: VF, G: Vb}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, with RD connected to VDD. The output voltage is taken across Vout.\n\n(b)\n\nFigure 8.37\nWe must recall that current current to the input assumes the circuit is driven by a current source; i.e., our generic negative-feedback system requires that the returned quantity and the input have the same dimension. In other words, the circuit of Fig. 8.37(a) does not map to our canonical feedback system because it returns a current but is driven by a voltage. We therefore cannot compute the loop gain by setting the input voltage to zero and breaking the loop. Of course, the input impedance is still given by Eq. (8.48). We will revisit this circuit in Sec. 8.6.4 and apply Blackman's theorem to it.\n\nFollowing our reasoning for the other two types of feedback studied above, we ded\nIn feedback approach\nThis feedback mechanism operates by detecting the output voltage and feeding a proportional current to the input summing junction. The feedforward path incorporates a transimpedance amplifier with a gain of \\( R_{0} \\), and the feedback factor is measured in conductance.\n\nThe voltage-current feedback topology, depicted depicted in Fig. 8.35, senses\nThis feedback mechanism works\nThis feedback mechanism works the output voltage and returns a proportional current to the input summing point. The feedforward path incorporates a transimpedance amplifier with a gain of \\( R_{0} \\), and the feedback factor is measured in conductance.\n\nThe voltage-current feedback topology, as depicted in Fig. 8.35, senses voltage and generates current, with the feedback network characterized by a transconductance \\( g_{mF} \\), ideally displaying infinite input and output impedances. Since \\( I_{F}=g_{mF} V_{\\text {out }} \\) and \\( I_{e}=I_{\\text {in }}-I_{F} \\), it follows that \\( V_{\\text {out }}=R_{0} I_{e}=R_{0}\\left(I_{\\text {in }}-g_{mF} V_{\\text {out }}\\right) \\). Consequently,\n\n\\[\n\\frac{V_{\\text {out }}}{I_{\\text {in }}}=\\frac{R_{0}}{1+g_{mF} R_{0}} \\tag{8.45}\n\\]\n\nIt can be demonstrated that \\( g_{mF} R_{0} \\) is the loop gain, indicating that this feedback type reduces the transimpedance by a factor equal to one plus the loop gain.\n\n---\n\nFigure 8.35 Voltage-current feedback.\n\n#### Example 8.8\n\nDetermine the transimpedance \\( V_{\\text {out }} / I_{\\text {in }} \\) for the circuit shown in Fig. 8.36(a) at relatively low frequencies, assuming \\( \\lambda=0 \\).\n\n#### Solution\n\nIn this circuit, the capacitive divider \\( C_{1}-C_{2} \\) senses the output voltage, feeding it to the gate of \\( M_{1} \\) and generating a current subtracted from \\( I_{i n} \\). The open-loop transimpedance is that of the core common-gate stage, \\( R_{D} \\). The loop gain is determined by setting \\( I_{i n} \\) to zero and breaking the loop at the output [Fig. 8.36(b)]:\n\n\\[\n-V_{t} \\frac{C_{1}}{C_{1}+C_{2}} g_{m 1} R_{D}=V_{F} \\tag{8.46}\n\\]\n\n[^53]image_name:(a)\ndescription:\n[\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: M2, type: NMOS, ports: {S: d1s2, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: d1s2, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\n]\nextrainfo:This circuit is a common-gate transimpedance amplifier with capacitive feedback. It uses a capacitive divider (C1, C2) to sense the output voltage and control the current through M1, which is subtracted from the input current Iin. The overall transimpedance is determined by the resistor RD and the capacitive feedback.\nimage_name:(b)\ndescription:\n[\nname: M2, type: NMOS, ports: {S: d1s2, D: VDD, G: Vb}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit diagram (b) is a feedback network with a capacitive divider formed by C1 and C2, which senses the output voltage. The transimpedance is determined by the resistor RD and the loop gain is influenced by the capacitive divider and the transconductance of M1.\n\nFigure 8.36\nThus, the overall transimpedance is equal to\n\n\\[\nR_{t o t}=\\frac{R_{D}}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1} R_{D}} \\tag{8.47}\n\\]\n\n#### Example 8.9\n\nFrom the previous example, we have\n\n\\[\nR_{i n}=\\frac{1}{g_{m 2}} \\frac{1}{1+\\frac{C_{1}}{C_{1}+C_{2}} g_{m 1} R_{D}} \\tag{8.48}\n\\]\n\nA student reanalyzes the circuit with the input driven by a voltage source and concludes that the loop gain is zero and the input impedance is unaffected by the feedback loop. Identify the flaw in the student's argument.\n\n#### Solution\n\nConsider the setup in Fig. 8.37(a). \\( R_{i n} \\) is affected by the feedback because \\( M_{1} \\) generates a current in response to \\( V_{i n} \\). However, Fig. 8.37(b) suggests that the loop gain is zero in this case. How do we reconcile these two perspectives?\nimage_name:Figure 8.37(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Vin, N2: Vin}\nname: M1, type: NMOS, ports: {S: GND, D: Vin, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. The input voltage Vin is applied across Rin. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, and RD is connected to VDD. The output voltage is taken across Vout.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: P, G: VF}\nname: M2, type: NMOS, ports: {S: P, D: VF, G: Vb}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, with RD connected to VDD. The output voltage is taken across Vout.\n\n(b)\n\nFigure 8.37\nWe must recall that returning current to the input assumes the circuit is driven by a current source; i.e., our generic negative-feedback system requires that the returned quantity and the input have the same dimension. In other words, the circuit of Fig. 8.37(a) does not correspond to our canonical feedback system because it returns a current but is driven by"
},
{
    "text": "This feedback mechanism involves sensing the output voltage and feeding back a current that is proportional to it to the input summing point. The feedforward path includes a transimpedance amplifier with a gain of \\( R_0 \\), and the feedback factor is measured in conductance.\n\nA voltage-current feedback topology is depicted in Fig. 8.35. It senses the voltage and produces a current, with the feedback network featuring a transconductance \\( g_{mF} \\), ideally showing infinite input and output impedances. Since \\( I_F = g_{mF} V_{\\text{out}} \\) and \\( I_e = I_{\\text{in}} - I_F \\), we derive \\( V_{\\text{out}} = R_0 I_e = R_0 (I_{\\text{in}} - g_{mF} V_{\\text{out}}) \\). Consequently,\n\n\\[\n\\frac{V_{\\text{out}}}{I_{\\text{in}}} = \\frac{R_0}{1 + g_{mF} R_0} \\tag{8.45}\n\\]\n\nIt can be demonstrated that \\( g_{mF} R_0 \\) is the loop gain, indicating that this feedback type reduces the transimpedance by a factor equal to one plus the loop gain.\n\nThe block diagram labeled \"Figure 8.35 Voltage-current feedback\" presents a feedback system incorporating a feedforward amplifier and a feedback network. Here's a detailed breakdown:\n\n1. **Main Components:**\n   - **Feedforward Amplifier:** This block amplifies the error current \\( I_e \\) and has an output resistance labeled \\( R_0 \\). It receives an input current \\( I_e \\) and outputs a voltage \\( V_{\\text{out}} \\).\n   - **Feedback Network:** This block processes the output voltage \\( V_{\\text{out}} \\) to generate a feedback current \\( I_F \\). It is characterized by a transconductance \\( g_{mF} \\) and has high input and output resistances \\( R_{in} \\) and \\( R_{out} \\), respectively.\n\n2. **Flow of Information or Control:**\n   - The input current \\( I_{\\text{in}} \\) is split into two paths: one directly to the feedforward amplifier as \\( I_e \\), and the other to the feedback network, resulting in the feedback current \\( I_F \\).\n   - The feedforward amplifier processes \\( I_e \\) and produces the output voltage \\( V_{\\text{out}} \\).\n   - The feedback network senses \\( V_{\\text{out}} \\), converts it into \\( I_F \\) using its transconductance \\( g_{mF} \\), and feeds it back to subtract from \\( I_{\\text{in}} \\), effectively controlling \\( I_e \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n   - \\( R_0 \\): Represents the output resistance of the feedforward amplifier.\n   - \\( g_{mF} \\): Represents the transconductance of the feedback network.\n   - High \\( R_{in} \\) and High \\( R_{out} \\): Indicate high input and output resistances of the feedback network, ensuring minimal loading effects.\n\n4. **Overall System Function:**\n   - The primary function of this system is to implement voltage-current feedback to control the transimpedance \\( \\frac{V_{\\text{out}}}{I_{\\text{in}}} \\). By feeding back a portion of the output voltage as a current \\( I_F \\) to subtract from the input current \\( I_{\\text{in}} \\), the system reduces the effective transimpedance. This feedback mechanism lowers the transimpedance by a factor of \\( 1 + g_{mF} R_0 \\), thus enhancing the stability and performance of the amplifier system.\n\nFigure 8.35 Voltage-current feedback.\n\n#### Example 8.8\n\nCalculate the transimpedance, \\( V_{\\text{out}} / I_{\\text{in}} \\), of the circuit shown in Fig. 8.36(a) at relatively low frequencies. Assume that \\( \\lambda = 0 \\). (The bias network of \\( M_1 \\) is not shown.)\n\n#### Solution\n\nIn this circuit, the capacitive divider \\( C_1 - C_2 \\) senses the output voltage, applying the result to the gate of \\( M_1 \\) and producing a current that is subtracted from \\( I_{\\text{in}} \\). The open-loop transimpedance equals that of the core common-gate stage, \\( R_D \\). The loop gain is obtained by setting \\( I_{\\text{in}} \\) to zero and breaking the loop at the output [Fig. 8.36(b)]:\n\n\\[\n-V_t \\frac{C_1}{C_1 + C_2} g_{m1} R_D = V_F \\tag{8.46}\n\\]\n\n[^53]image_name:(a)\ndescription:\n[\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: M2, type: NMOS, ports: {S: d1s2, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: d1s2, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\n]\nextrainfo:This circuit is a common-gate transimpedance amplifier with capacitive feedback. It uses a capacitive divider (C1, C2) to sense the output voltage and control the current through M1, which is subtracted from the input current Iin. The overall transimpedance is determined by the resistor RD and the capacitive feedback.\nimage_name:(b)\ndescription:\n[\nname: M2, type: NMOS, ports: {S: d1s2, D: VDD, G: Vb}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit diagram (b) is a feedback network with a capacitive divider formed by C1 and C2, which senses the output voltage. The transimpedance is determined by the resistor RD and the loop gain is influenced by the capacitive divider and the transconductance of M1.\n\nFigure 8.36\nThus, the overall transimpedance is equal to\n\n\\[\nR_{tot} = \\frac{R_D}{1 + \\frac{C_1}{C_1 + C_2} g_{m1} R_D} \\tag{8.47}\n\\]\n\n#### Example 8.9\n\nWe know from the previous example that\n\n\\[\nR_{in} = \\frac{1}{g_{m2}} \\frac{1}{1 + \\frac{C_1}{C_1 + C_2} g_{m1} R_D} \\tag{8.48}\n\\]\n\nA student repeats the analysis, but with the input driven by a voltage source, concluding that the loop gain is zero and the input impedance is not affected by the feedback loop. Explain the flaw in the student's argument.\n\n#### Solution\n\nConsider the arrangement shown in Fig. 8.37(a). We know that \\( R_{in} \\) is affected by the feedback because \\( M_1 \\) generates a current in response to \\( V_{in} \\). On the other hand, it appears from Fig. 8.37(b) that the loop gain is zero in this case. How do we reconcile these two views?\nimage_name:Figure 8.37(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Vin, N2: Vin}\nname: M1, type: NMOS, ports: {S: GND, D: Vin, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. The input voltage Vin is applied across Rin. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, and RD is connected to VDD. The output voltage is taken across Vout.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: P, G: VF}\nname: M2, type: NMOS, ports: {S: P, D: VF, G: Vb}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, with RD connected to VDD. The output voltage is taken across Vout.\n\n(b)\n\nFigure 8.37\nWe must recall that returning current to the input assumes that the circuit is driven by a current source; i.e., our generic negative-feedback system requires that the returned quantity and the input have the same dimension. In other words, the circuit of Fig. 8.37(a) does not map to our canonical feedback system because it returns a current but is driven by a voltage. We therefore cannot compute the loop gain by setting the input voltage to zero and breaking the loop. Of course, the input impedance is still given by Eq. (8.48). We will return to this circuit in Sec. 8.6.4 and apply Blackman's theorem to it.\n\nFollowing our reasoning for the other two types of feedback studied above, we surmise that voltagecurrent feedback decreases both the input and the output impedances. As shown in Fig. 8.38(a) and noted in Example 8.3, the input resistance of \\( R_0 \\) appears in series with its input port. We write \\( I_F = I_X - V_X / R_{in} \\) and \\( (V_X / R_{in}) R_0 g_{mF} = I_F \\). Thus,\n\n\\[\n\\frac{V_X}{I_X} = \\frac{R_{in}}{1 + g_{mF} R_0} \\tag{8.49}\n\\]\n\nimage_name:(a)\ndescription:\n[\nname: Ix, type: CurrentSource, ports: {Np: GND, Nn: Node1}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Node1, N2: Node2}\nname: OpAmp, type: OpAmp, ports: {InP: Node2, InN: GND, OutP: Node3, OutN: GND}\nname: R0, type: Resistor, value: R0, ports: {N1: Node3, N2: Vout}\nname: gmF, type: VoltageControlledCurrentSource, ports: {Np: Node1, Nn: GND}\nname: Vx, type: VoltageSource, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit is a voltage-current feedback amplifier with decreased input and output impedances. It uses a feedback loop involving a voltage-controlled current source (gmF) to achieve the desired impedance characteristics.\nimage_name:(b)\ndescription:\n[\nname: Ix, type: CurrentSource, ports: {Np: GND, Nn: Node1}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Node1, N2: Node2}\nname: R0, type: Resistor, value: R0, ports: {N1: Node2, N2: Node3}\nname: gmF, type: VoltageControlledCurrentSource, value: gmF, ports: {Np: Node4, Nn: GND}\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Node5, Nn: GND}\nname: Rout, type: Resistor, value: Rout, ports: {N1: Node3, N2: Node6}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Node6, Nn: GND}\n]\nextrainfo:The circuit in diagram (b) is a voltage-current feedback amplifier. It includes a voltage-controlled current source with transconductance gmF, and resistors Rin, R0, and Rout. The current source Ix is connected to ground. The output voltage Vx is measured across Rout with respect to ground.\n\nFigure 8.38 Calculation of (a) input and (b) output impedance of a voltage-current feedback amplifier.\nSimilarly, from Fig. 8.38(b), we have \\( I_F = V_X g_{mF} \\), \\( I_e = -I_F \\), and \\( V_M = -R_0 g_{mF} V_X \\). Neglecting the input current of the feedback network, we write \\( I_X = (V_X - V_M) / R_{\\text{out}} = (V_X + g_{mF} R_0 V_X) / R_{\\text{out}} \\). That is\n\n\\[\n\\frac{V_X}{I_X} = \\frac{R_{\\text{out}}}{1 + g_{mF} R_0} \\tag{8.50}\n\\]\n\n#### Example 8.10\n\nCalculate the input and output impedances of the circuit shown in Fig. 8.39(a). For simplicity, assume that \\( R_F \\gg R_D \\).\nimage_name:Fig. 8.39(a)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: g1}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Vout}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: GND, Nn: g1}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: g1, Nn: Vt}\n]\nextrainfo:The circuit in Fig. 8.39(a) features an NMOS transistor M1 with its source connected to ground and its drain connected to the output node Vout. A feedback resistor RF connects the gate of M1 to Vout. The circuit is powered by a voltage source VDD through a resistor RD connected to Vout. The input current source Iin is connected from ground to the gate of M1, and a voltage source Vt is connected across the feedback resistor RF in Fig. 8.39(b).\nimage_name:Fig. 8.39(b)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: VF, G: g1}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Vt}\nname: RD, type: Resistor, value: RD, ports: {N1: VF, N2: VDD}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: g1}\n]\nextrainfo:The circuit in Fig. 8.39(b) includes an NMOS transistor M1, with its source connected to ground, drain connected to node VF, and gate connected to node g1. The resistor RF connects node g1 to node Vt, and the resistor RD connects node VF to the power supply VDD. The voltage source Vt is connected between nodes Vt and g1.\n\nFigure 8.39\n\n#### Solution\n\nIn this circuit, \\( R_F \\) senses the output voltage and returns a current to the input. Breaking the loop as depicted in Fig. 8.39(b), we calculate the loop gain as \\( g_m R_D \\). Thus, the open-loop input impedance, \\( R_F \\), is divided by \\( 1 + g_m R_D \\) :\n\n\\[\nR_{\\text{in, closed}} = \\frac{R_F}{1"
},
{
    "text": "In this particular feedback mechanism, the output voltage is monitored, and a corresponding current is then fed back to the input summing point. This process includes a feedforward path that features a transimpedance amplifier with a gain of \\( R_0 \\), and the feedback component has dimensions of conductance.\n\nFigure 8.35 depicts a voltage-current feedback topology. It involves sensing the voltage and generating a current, with the feedback network being defined by a transconductance \\( g_{mF} \\), ideally having infinite input and output impedances. Considering \\( I_F = g_{mF} V_{\\text{out}} \\) and \\( I_e = I_{\\text{in}} - I_F \\), we derive \\( V_{\\text{out}} = R_0 I_e = R_0(I_{\\text{in}} - g_{mF} V_{\\text{out}}) \\). This leads to the following relationship:\n\n\\[\n\\frac{V_{\\text{out}}}{I_{\\text{in}}} = \\frac{R_0}{1 + g_{mF} R_0} \\tag{8.45}\n\\]\n\nIt can be demonstrated that \\( g_{mF} R_0 \\) represents the loop gain, concluding that this feedback topology reduces the transimpedance by a factor that equals one plus the loop gain.\n\nThe block diagram \"Figure 8.35 Voltage-current feedback\" illustrates a feedback system composed of a feedforward amplifier and a feedback network. Here's a detailed analysis:\n\n1. **Key Components:**\n   - **Feedforward Amplifier:** This component amplifies the error current \\( I_e \\) and has an output resistance denoted as \\( R_0 \\). It accepts an input current \\( I_e \\) and produces an output voltage \\( V_{\\text{out}} \\).\n   - **Feedback Network:** This network processes the output voltage \\( V_{\\text{out}} \\) to create a feedback current \\( I_F \\). It is defined by a transconductance \\( g_{mF} \\) and has high input and output resistances, \\( R_{in} \\) and \\( R_{out} \\), respectively.\n\n2. **Data Flow and Control:**\n   - The input current \\( I_{in} \\) splits into two paths: one directly goes to the feedforward amplifier as \\( I_e \\), and the other is directed towards the feedback network, resulting in the feedback current \\( I_F \\).\n   - The feedforward amplifier processes \\( I_e \\) and yields the output voltage \\( V_{\\text{out}} \\).\n   - The feedback network detects \\( V_{\\text{out}} \\), converts it into \\( I_F \\) via its transconductance \\( g_{mF} \\), and returns it to subtract from \\( I_{in} \\), thereby controlling \\( I_e \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n   - \\( R_0 \\): Signifies the output resistance of the feedforward amplifier.\n   - \\( g_{mF} \\): Signifies the transconductance of the feedback network.\n   - High \\( R_{in} \\) and High \\( R_{out} \\): Denote the high input and output resistances of the feedback network, minimizing loading effects.\n\n4. **Overall System Operation:**\n   - The primary objective\nThe block diagram \"Figure 8.35 Voltage-current feedback\" illustrates a feedback system incorporating of a feedforward amplifier and a feedback network. Here's a detailed analysis:\n\n1. **Key Components:**\n   - **Feedforward Amplifier:** This component amplifies the error current \\( I_e \\) and has an output resistance denoted as \\( R_0 \\). It accepts an input current \\( I_e \\) and produces an output voltage \\( V_{\\text{out}} \\).\n   - **Feedback Network:** This network processes the output voltage \\( V_{\\text{out}} \\) to create a feedback current \\( I_F \\). It is defined by a transconductance \\( g_{mF} \\) and has high input and output resistances, \\( R_{in} \\) and \\( R_{out} \\), respectively.\n\n2. **Data Flow and Control:**\n   - The input current \\( I_{in} \\) splits into two paths: one directly goes to the feedforward amplifier as \\( I_e \\), and the other is directed towards the feedback network, resulting in the feedback current \\( I_F \\).\n   - The feedforward amplifier processes \\( I_e \\) and yields the output voltage \\( V_{\\text{out}} \\).\n   - The feedback network detects \\( V_{\\text{out}} \\), converts it into \\( I_F \\) via its transconductance \\( g_{mF} \\), and returns it to subtract from \\( I_{in} \\), thereby controlling \\( I_e \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n   - \\( R_0 \\): Signifies the output resistance of the feedforward amplifier.\n   - \\( g_{mF} \\): Signifies the transconductance of the feedback network.\n   - High \\( R_{in} \\) and High \\( R_{out} \\): Denote the high input and output resistances of the feedback network, minimizing loading effects.\n\n4. **Overall System Operation:**\n   - The primary function of this system is to implement voltage-current feedback to control the transimpedance \\( \\frac{V_{\\text{out}}}{I_{\\text{in}}} \\). By feeding back a portion of the output voltage as a current \\( I_F \\) to subtract from the input current \\( I_{in} \\), the system reduces the effective transimpedance. This feedback mechanism lowers the transimpedance by a factor of \\( 1 + g_{mF} R_0 \\), thus enhancing the stability and performance of the amplifier system.\n\nFigure 8.35 Voltage-current feedback.\n\n#### Example 8.8\n\nCalculate the transimpedance, \\( V_{\\text{out}} / I_{\\text{in}} \\), of the circuit shown in Figure 8.36(a) at relatively low frequencies. Assume that \\( \\lambda = 0 \\). (The bias network of \\( M_1 \\) is not shown.)\n\n#### Solution\n\nIn this circuit, the capacitive divider \\( C_1 - C_2 \\) senses the output voltage, applying the result to the gate of \\( M_1 \\) and producing a current that is subtracted from \\( I_{in} \\). The open-loop transimpedance equals that of the core common-gate stage, \\( R_D \\). The loop gain is obtained by setting \\( I_{in} \\) to zero and breaking the loop at the output [Figure 8.36(b)]:\n\n\\[\n-V_t \\frac{C_1}{C_1 + C_2} g_{m1} R_D = V_F \\tag{8.46}\n\\]\n\n[^53]image_name:(a)\ndescription:\n[\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: M2, type: NMOS, ports: {S: d1s2, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: d1s2, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\n]\nextrainfo:This circuit is a common-gate transimpedance amplifier with capacitive feedback. It uses a capacitive divider (C1, C2) to sense the output voltage and control the current through M1, which is subtracted from the input current Iin. The overall transimpedance is determined by the resistor RD and the capacitive feedback.\nimage_name:(b)\ndescription:\n[\nname: M2, type: NMOS, ports: {S: d1s2, D: VDD, G: Vb}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit diagram (b) is a feedback network with a capacitive divider formed by C1 and C2, which senses the output voltage. The transimpedance is determined by the resistor RD and the loop gain is influenced by the capacitive divider and the transconductance of M1.\n\nFigure 8.36\nThus, the overall transimpedance is equal to\n\n\\[\nR_{tot} = \\frac{R_D}{1 + \\frac{C_1}{C_1 + C_2} g_{m1} R_D} \\tag{8.47}\n\\]\n\n#### Example 8.9\n\nWe know from the previous example that\n\n\\[\nR_{in} = \\frac{1}{g_{m2}} \\frac{1}{1 + \\frac{C_1}{C_1 + C_2} g_{m1} R_D} \\tag{8.48}\n\\]\n\nA student repeats the analysis, but with the input driven by a voltage source, concluding that the loop gain is zero and the input impedance is not affected by the feedback loop. Explain the flaw in the student's argument.\n\n#### Solution\n\nConsider the arrangement shown in Figure 8.37(a). We know that \\( R_{in} \\) is affected by the feedback because \\( M_1 \\) generates a current in response to \\( V_{in} \\). On the other hand, it appears from Figure 8.37(b) that the loop gain is zero in this case. How do we reconcile these two views?\nimage_name:Figure 8.37(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Vin, N2: Vin}\nname: M1, type: NMOS, ports: {S: GND, D: Vin, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. The input voltage Vin is applied across Rin. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, and RD is connected to VDD. The output voltage is taken across Vout.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: P, G: VF}\nname: M2, type: NMOS, ports: {S: P, D: VF, G: Vb}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, with RD connected to VDD. The output voltage is taken across Vout.\n\n(b)\n\nFigure 8.37\nWe must recall that returning current to the input assumes that the circuit is driven by a current source; i.e., our generic negative-feedback system requires that the returned quantity and the input have the same dimension. In other words, the circuit of Figure 8.37(a) does not map to our canonical feedback system because it returns a current but is driven by a voltage. We therefore cannot compute the loop gain by setting the input voltage to zero and breaking the loop. Of course, the input impedance is still given by Equation (8.48). We will return to this circuit in Section 8.6.4 and apply Blackman's theorem to it.\n\nFollowing our reasoning for the other two types of feedback studied above, we surmise that voltagecurrent feedback decreases both the input and the output impedances. As shown in Figure 8.38(a) and noted in Example 8.3, the input resistance of \\( R_0 \\) appears in series with its input port. We write \\( I_F = I_X - V_X / R_{in} \\) and \\( (V_X / R_{in}) R_0 g_{mF} = I_F \\). Thus,\n\n\\[\n\\frac{V_X}{I_X} = \\frac{R_{in}}{1 + g_{mF} R_0} \\tag{8.49}\n\\]\n\nimage_name:(a)\ndescription:\n[\nname: Ix, type: CurrentSource, ports: {Np: GND, Nn: Node1}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Node1, N2: Node2}\nname: OpAmp, type: OpAmp, ports: {InP: Node2, InN: GND, OutP: Node3, OutN: GND}\nname: R0, type: Resistor, value: R0, ports: {N1: Node3, N2: Vout}\nname: gmF, type: VoltageControlledCurrentSource, ports: {Np: Node1, Nn: GND}\nname: Vx, type: VoltageSource, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit is a voltage-current feedback amplifier with decreased input and output impedances. It uses a feedback loop involving a voltage-controlled current source (gmF) to achieve the desired impedance characteristics.\nimage_name:(b)\ndescription:\n[\nname: Ix, type: CurrentSource, ports: {Np: GND, Nn: Node1}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Node1, N2: Node2}\nname: R0, type: Resistor, value: R0, ports: {N1: Node2, N2: Node3}\nname: gmF, type: VoltageControlledCurrentSource, value: gmF, ports: {Np: Node4, Nn: GND}\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Node5, Nn: GND}\nname: Rout, type: Resistor, value: Rout, ports: {N1: Node3, N2: Node6}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Node6, Nn: GND}\n]\nextrainfo:The circuit in diagram (b) is a voltage-current feedback amplifier. It includes a voltage-controlled current source with transconductance gmF, and resistors Rin, R0, and Rout. The current source Ix is connected to ground. The output voltage Vx is measured across Rout with respect to ground.\n\nFigure 8.38 Calculation of (a) input and (b) output impedance of a voltage-current feedback amplifier.\nSimilarly, from Figure 8.38(b), we have \\( I_F = V_X g_{mF} \\), \\( I_e = -I_F \\), and \\( V_M = -R_0 g_{mF} V_X \\). Neglecting the input current of the feedback network, we write \\( I_X = (V_X - V_M) / R_{out} = (V_X + g_{mF} R_0 V_X) / R_{out} \\). That is\n\n\\[\n\\frac{V_X}{I_X} = \\frac{R_{out}}{1 + g_{mF} R_0} \\tag{8.50}\n\\]\n\n#### Example 8.10\n\nCalculate the input and output impedances of the circuit shown in Figure 8.39(a). For simplicity, assume that \\( R_F \\gg R_D \\).\nimage_name:Fig. 8.39(a)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: g1}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Vout}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: GND, Nn: g1}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: g1, Nn: Vt}\n]\nextrainfo:The circuit in Fig. 8.39(a) features an NMOS transistor M1 with its source connected to ground and its drain connected to the output node Vout. A feedback resistor RF connects the gate of M1 to V"
},
{
    "text": "In this form of feedback, the output voltage is monitored, and a corresponding current is routed back to the input summing junction. ${ }^{11}$ It's worth noting that the feedforward route includes a transimpedance amplifier with a gain of $R_{0}$, and the feedback factor is measured in conductance.\n\nA voltage-current feedback circuit is depicted in Fig. 8.35. This circuit senses voltage and generates current, with the feedback network being defined by a transconductance $g_{m F}$, ideally showing infinite input and output impedances. Given that $I_{F}=g_{m F} V_{\\text {out }}$ and $I_{e}=I_{\\text {in }}-I_{F}$, the equation $V_{\\text {out }}=R_{0} I_{e}=R_{0}\\left(I_{\\text {in }}-g_{m F} V_{\\text {out }}\\right)$ holds true. Consequently,\n\n$$\n\\begin{equation*}\n\\frac{V_{\\text {out }}}{I_{\\text {in }}}=\\frac{R_{0}}{1+g_{m F} R_{0}} \\tag{8.45}\n\\end{equation*}\n$$\n\nIt can be demonstrated that $g_{m F} R_{0}$ is indeed the loop gain, signifying that this feedback mechanism reduces the transimpedance by a factor equal to one plus the loop gain."
},
{
    "text": "In this feedback mechanism, the output voltage is monitored, and a corresponding current is fed back to the input summing junction. It is worth noting that the feedforward path includes a transimpedance amplifier with a gain of \\( R_0 \\), and the feedback factor is measured in terms of conductance.\n\nThe voltage-current feedback configuration is depicted in Fig. 8.35. This setup involves sensing the voltage and generating a current, with the feedback network featuring a transconductance \\( g_{mF} \\) and ideally having infinite input and output impedances. Given that \\( I_F = g_{mF} V_{\\text{out}} \\) and \\( I_e = I_{\\text{in}} - I_F \\), the relationship \\( V_{\\text{out}} = R_0 I_e = R_0 (I_{\\text{in}} - g_{mF} V_{\\text{out}}) \\) holds true. Consequently,\n\n\\[\n\\frac{V_{\\text{out}}}{I_{\\text{in}}} = \\frac{R_0}{1 + g_{mF} R_0} \\tag{8.45}\n\\]\n\nIt can be demonstrated that \\( g_{mF} R_0 \\) represents the loop gain, indicating that this feedback type diminishes the transimpedance by a factor of one plus the loop gain.\n\nThe block diagram labeled \"Figure 8.35 Voltage-current feedback\" portrays a feedback system incorporating a feedforward amplifier and a feedback network. Here's a detailed breakdown:\n\n1. **Main Components:**\n   - **Feedforward Amplifier:** This component amplifies the error current \\( I_e \\) and has an output resistance denoted as \\( R_0 \\). It accepts an input current \\( I_e \\) and produces an output voltage \\( V_{\\text{out}} \\).\n   - **Feedback Network:** This component processes the output voltage \\( V_{\\text{out}} \\) to create a feedback current \\( I_F \\). It is defined by a transconductance \\( g_{mF} \\) and possesses high input and output resistances \\( R_{in} \\) and \\( R_{out} \\), respectively.\n\n2. **Flow of Information or Control:**\n   - The input current \\( I_{\\text{in}} \\) is divided into two streams: one directly feeds the feedforward amplifier as \\( I_e \\), and the other is directed towards the feedback network, generating the feedback current \\( I_F \\).\n   - The feedforward amplifier processes \\( I_e \\) and yields the output voltage \\( V_{\\text{out}} \\).\n   - The feedback network detects \\( V_{\\text{out}} \\), transforms it into \\( I_F \\) via its transconductance \\( g_{mF} \\), and feeds it back to subtract from \\( I_{\\text{in}} \\), thereby regulating \\( I_e \\).\n\n3. **Labels, Annotations, and Key Indicators:**\n   - \\( R_0 \\): Signifies the output resistance of the feedforward amplifier.\n   - \\( g_{mF} \\): Denotes the transconductance of the feedback network.\n   - High \\( R_{in} \\) and High \\( R_{out} \\): Suggest high input and output resistances of the feedback network, minimizing loading effects.\n\n4. **Overall System Function:**\n   - The primary role of this system is to execute voltage-current feedback to govern the transimpedance \\( \\frac{V_{\\text{out}}}{I_{\\text{in}}} \\). By feeding back a segment of the output voltage as a current \\( I_F \\) to deduct from the input current \\( I_{\\text{in}} \\), the system lessens the effective transimpedance. This feedback process reduces the transimpedance by a factor of \\( 1 + g_{mF} R_0 \\), thereby enhancing the stability and performance of the amplifier system.\n\nFigure 8.35 Voltage-current feedback.\n\n#### Example 8.8\n\nDetermine the transimpedance, \\( V_{\\text{out}} / I_{\\text{in}} \\), of the circuit depicted in Fig. 8.36(a) at relatively low frequencies. Assume that \\( \\lambda = 0 \\). (The bias network of \\( M_1 \\) is not shown.)\n\n#### Solution\n\nIn this circuit, the capacitive divider \\( C_1 - C_2 \\) detects the output voltage, feeding the result to the gate of \\( M_1 \\) and generating a current that is subtracted from \\( I_{\\text{in}} \\). The open-loop transimpedance matches that of the core common-gate stage, \\( R_D \\). The loop gain is derived by setting \\( I_{\\text{in}} \\) to zero and severing the loop at the output [Fig. 8.36(b)]:\n\n\\[\n-V_t \\frac{C_1}{C_1 + C_2} g_{m1} R_D = V_F \\tag{8.46}\n\\]\n\n[^53]image_name:(a)\ndescription:\n[\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: M2, type: NMOS, ports: {S: d1s2, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: d1s2, Nn: GND}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\n]\nextrainfo:This circuit is a common-gate transimpedance amplifier with capacitive feedback. It employs a capacitive divider (C1, C2) to sense the output voltage and regulate the current through M1, which is subtracted from the input current Iin. The overall transimpedance is dictated by the resistor RD and the capacitive feedback.\nimage_name:(b)\ndescription:\n[\nname: M2, type: NMOS, ports: {S: d1s2, D: VDD, G: Vb}\nname: M1, type: NMOS, ports: {S: GND, D: d1s2, G: P}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vt, Nn: P}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit diagram (b) represents a feedback network with a capacitive divider composed of C1 and C2, which senses the output voltage. The transimpedance is determined by the resistor RD and the loop gain is influenced by the capacitive divider and the transconductance of M1.\n\nFigure 8.36\nThus, the overall transimpedance is equal to\n\n\\[\nR_{tot} = \\frac{R_D}{1 + \\frac{C_1}{C_1 + C_2} g_{m1} R_D} \\tag{8.47}\n\\]\n\n#### Example 8.9\n\nWe know from the previous example that\n\n\\[\nR_{in} = \\frac{1}{g_{m2}} \\frac{1}{1 + \\frac{C_1}{C_1 + C_2} g_{m1} R_D} \\tag{8.48}\n\\]\n\nA student repeats the analysis, but with the input driven by a voltage source, concluding that the loop gain is zero and the input impedance is not affected by the feedback loop. Explain the flaw in the student's argument.\n\n#### Solution\n\nConsider the setup shown in Fig. 8.37(a). We understand that \\( R_{in} \\) is influenced by the feedback because \\( M_1 \\) generates a current in response to \\( V_{in} \\). Conversely, it appears from Fig. 8.37(b) that the loop gain is zero in this scenario. How do we reconcile these two perspectives?\nimage_name:Figure 8.37(a)\ndescription:\n[\nname: Vin, type: VoltageSource, value: Vin, ports: {Np: Vin, Nn: GND}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Vin, N2: Vin}\nname: M1, type: NMOS, ports: {S: GND, D: Vin, G: P}\nname: M2, type: NMOS, ports: {S: Vin, D: Vout, G: Vb}\nname: RD, type: Resistor, value: RD, ports: {N1: Vout, N2: VDD}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. The input voltage Vin is applied across Rin. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, and RD is connected to VDD. The output voltage is taken across Vout.\n\n(a)\nimage_name:(a)\ndescription:\n[\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: VF}\nname: C1, type: Capacitor, value: C1, ports: {Np: Vout, Nn: Vb}\nname: C2, type: Capacitor, value: C2, ports: {Np: P, Nn: GND}\nname: M1, type: NMOS, ports: {S: GND, D: P, G: VF}\nname: M2, type: NMOS, ports: {S: P, D: VF, G: Vb}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: GND}\n]\nextrainfo:The circuit is a feedback amplifier with NMOS transistors M1 and M2. M1 is configured as a common source amplifier, and M2 is connected in a cascode configuration. The circuit has capacitive coupling through C1 and C2, with RD connected to VDD. The output voltage is taken across Vout.\n\n(b)\n\nFigure 8.37\nWe must recall that the return of current to the input presumes that the circuit is powered by a current source; i.e., our generic negative-feedback system necessitates that the returned quantity and the input share the same dimension. In other words, the circuit of Fig. 8.37(a) does not correspond to our canonical feedback system because it returns a current but is driven by a voltage. Therefore, we cannot compute the loop gain by setting the input voltage to zero and breaking the loop. Of course, the input impedance is still given by Eq. (8.48). We will revisit this circuit in Sec. 8.6.4 and apply Blackman's theorem to it.\n\nFollowing our reasoning for the other two types of feedback examined above, we deduce that voltage-current feedback reduces both the input and the output impedances. As shown in Fig. 8.38(a) and noted in Example 8.3, the input resistance of \\( R_0 \\) appears in series with its input port. We write \\( I_F = I_X - V_X / R_{in} \\) and \\( (V_X / R_{in}) R_0 g_{mF} = I_F \\). Thus,\n\n\\[\n\\frac{V_X}{I_X} = \\frac{R_{in}}{1 + g_{mF} R_0} \\tag{8.49}\n\\]\n\nimage_name:(a)\ndescription:\n[\nname: Ix, type: CurrentSource, ports: {Np: GND, Nn: Node1}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Node1, N2: Node2}\nname: OpAmp, type: OpAmp, ports: {InP: Node2, InN: GND, OutP: Node3, OutN: GND}\nname: R0, type: Resistor, value: R0, ports: {N1: Node3, N2: Vout}\nname: gmF, type: VoltageControlledCurrentSource, ports: {Np: Node1, Nn: GND}\nname: Vx, type: VoltageSource, ports: {Np: Vout, Nn: GND}\n]\nextrainfo:The circuit is a voltage-current feedback amplifier with decreased input and output impedances. It utilizes a feedback loop involving a voltage-controlled current source (gmF) to achieve the desired impedance characteristics.\nimage_name:(b)\ndescription:\n[\nname: Ix, type: CurrentSource, ports: {Np: GND, Nn: Node1}\nname: Rin, type: Resistor, value: Rin, ports: {N1: Node1, N2: Node2}\nname: R0, type: Resistor, value: R0, ports: {N1: Node2, N2: Node3}\nname: gmF, type: VoltageControlledCurrentSource, value: gmF, ports: {Np: Node4, Nn: GND}\nname: Vout, type: VoltageSource, value: Vout, ports: {Np: Node5, Nn: GND}\nname: Rout, type: Resistor, value: Rout, ports: {N1: Node3, N2: Node6}\nname: Vx, type: VoltageSource, value: Vx, ports: {Np: Node6, Nn: GND}\n]\nextrainfo:The circuit in diagram (b) is a voltage-current feedback amplifier. It includes a voltage-controlled current source with transconductance gmF, and resistors Rin, R0, and Rout. The current source Ix is connected to ground. The output voltage Vx is measured across Rout with respect to ground.\n\nFigure 8.38 Calculation of (a) input and (b) output impedance of a voltage-current feedback amplifier.\nSimilarly, from Fig. 8.38(b), we have \\( I_F = V_X g_{mF} \\), \\( I_e = -I_F \\), and \\( V_M = -R_0 g_{mF} V_X \\). Disregarding the input current of the feedback network, we write \\( I_X = (V_X - V_M) / R_{\\text{out}} = (V_X + g_{mF} R_0 V_X) / R_{\\text{out}} \\). That is\n\n\\[\n\\frac{V_X}{I_X} = \\frac{R_{\\text{out}}}{1 + g_{mF} R_0} \\tag{8.50}\n\\]\n\n#### Example 8.10\n\nCompute the input and output impedances of the circuit depicted in Fig. 8.39(a). For simplicity, assume that \\( R_F \\gg R_D \\).\nimage_name:Fig. 8.39(a)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: Vout, G: g1}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Vout}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: Vout}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: GND, Nn: g1}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: g1, Nn: Vt}\n]\nextrainfo:The circuit in Fig. 8.39(a) features an NMOS transistor M1 with its source connected to ground and its drain connected to the output node Vout. A feedback resistor RF connects the gate of M1 to Vout. The circuit is powered by a voltage source VDD through a resistor RD connected to Vout. The input current source Iin is connected from ground to the gate of M1, and a voltage source Vt is connected across the feedback resistor RF in Fig. 8.39(b).\nimage_name:Fig. 8.39(b)\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: VF, G: g1}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Vt}\nname: RD, type: Resistor, value: RD, ports: {N1: VF, N2: VDD}\nname: VDD, type: VoltageSource, value: VDD, ports: {Np: VDD, Nn: GND}\nname: Vt, type: VoltageSource, value: Vt, ports: {Np: Vt, Nn: g1}\n]\nextrainfo:The circuit in Fig. 8.39(b) includes an NMOS transistor M1, with its source connected to ground, drain connected to node VF, and gate connected to node g1. The resistor RF connects node g1 to node Vt, and the resistor RD connects node VF to the power supply VDD. The voltage source Vt is connected between nodes Vt and g1.\n\nFigure 8.39\n\n#### Solution\n\nIn this circuit, \\( R_F \\) detects the output voltage and returns a current to the input. Severing the loop as illustrated in Fig. 8.39(b), we calculate the loop gain as \\( g_m R_D \\). Thus, the open-loop input impedance, \\( R_F \\), is divided by \\( 1 + g_m"
},
{
    "text": "Figure 8.41 depicts this form of feedback. ${ }^{12}$ In this setup, the feedforward amplifier is defined by a current gain, $A_{I}$, and the feedback network by a current ratio, $\\beta$. Following a method akin to earlier derivations, one can readily demonstrate that the closed-loop current gain is $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is enhanced by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram labeled \"Figure 8.41 Current-current feedback\" shows a system utilizing current-current feedback. The main elements of this system include a feedforward amplifier with a current gain, denoted as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Main Components:**\n1. **Feedforward Amplifier:** This unit amplifies the input current \\( I_{in} \\). It has a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This component takes a part of the output current \\( I_{out} \\) and returns a current \\( I_F \\) to the system's input. The feedback network is defined by the current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Flow of Information or Control:**\n- The input current \\( I_{in} \\) enters the system.\n- The feedforward amplifier processes this input current and amplifies it, resulting in \\( I_{out} \\).\n- A portion of \\( I_{out} \\) is routed back through the feedback network as \\( I_F \\), affecting the input to the feedforward amplifier.\n- The feedback loop is governed by the current ratio \\( \\beta \\), which dictates the amount of output current fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) represents the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**Overall System Function:**\nThe main purpose of this system is to provide current amplification with a feedback mechanism that enhances stability and control over the gain. The closed-loop current gain is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback decreases the overall gain but improves stability. The input impedance is reduced, and the output impedance is increased by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications needing current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit employs a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 presents an example of current-current feedback. In this scenario, since the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
},
{
    "text": "Figure 8.41 depicts this kind of feedback. ${ }^{12}$ In this setup, the feedforward amplifier is defined by a current gain, $A_{I}$, while the feedback network is defined by a current ratio, $\\beta$. Following a method akin to earlier derivations, one can readily demonstrate that the closed-loop current gain is $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is increased by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram labeled \"Figure 8.41 Current-current feedback\" shows a system utilizing current-current feedback. The main components of this system include a feedforward amplifier with a current gain, denoted as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Main Components:**\n1. **Feedforward Amplifier:** This block amplifies the input current \\( I_{in} \\). It has a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This block takes a portion of the output current \\( I_{out} \\) and returns a current \\( I_F \\) to the system's input. The feedback network is defined by a current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Flow of Information or Control:**\n- The input current \\( I_{in} \\) is introduced into the system.\n- The feedforward amplifier amplifies this input current, resulting in an output current \\( I_{out} \\).\n- A part of \\( I_{out} \\) is fed back through the feedback network as \\( I_F \\), influencing the input to the feedforward amplifier.\n- The feedback loop is characterized by the current ratio \\( \\beta \\), which determines the amount of output current fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) represents the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**Overall System Function:**\nThe main function of this system is to provide current amplification with a feedback mechanism that stabilizes and controls the gain. The closed-loop current gain of the system is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback reduces the overall gain but enhances stability. The input impedance is decreased, and the output impedance is increased by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications requiring current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit implements a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 exemplifies current-current feedback. Here, given that the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
},
{
    "text": "Figure 8.41 depicts this kind of feedback. ${ }^{12}$ In this scenario, the feedforward amplifier is defined by a current gain, $A_{I}$, while the feedback network is defined by a current ratio, $\\beta$. Following a method akin to earlier derivations, one can readily demonstrate that the closed-loop current gain is $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is augmented by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram labeled \"Figure 8.41 Current-current feedback\" showcases a system utilizing current-current feedback. The main components of this system are a feedforward amplifier with a current gain, designated as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Main Components:**\n1. **Feedforward Amplifier:** This unit amplifies the input current \\( I_{in} \\). It possesses a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This segment receives a part of the output current \\( I_{out} \\) and returns a feedback current \\( I_F \\) to the system's input. The network is defined by a current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Flow of Information or Control:**\n- The input current \\( I_{in} \\) is introduced into the system.\n- The feedforward amplifier processes this input current, resulting in an amplified output current \\( I_{out} \\).\n- A fraction of \\( I_{out} \\) is fed back through the feedback network as \\( I_F \\), influencing the input to the feedforward amplifier.\n- The feedback loop is governed by the current ratio \\( \\beta \\), which dictates the proportion of output current fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) represents the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**Overall System Function:**\nThe system's primary role is to provide current amplification with a feedback mechanism that enhances stability and control over the gain. The closed-loop current gain is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback reduces the gain but improves stability. The input impedance is decreased, and the output impedance is increased by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications requiring current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit employs a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 presents an instance of current-current feedback. Here, given that the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
},
{
    "text": "Figure 8.41 depicts this form of feedback. ${ }^{12}$ In this setup, the feedforward amplifier is defined by a current gain, $A_{I}$, while the feedback network is defined by a current ratio, $\\beta$. Following a method akin to earlier derivations, one can readily demonstrate that the closed-loop current gain is $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is increased by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram labeled \"Figure 8.41 Current-current feedback\" shows a system utilizing current-current feedback. The main components of this system include a feedforward amplifier with a current gain, denoted as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Main Components:**\n1. **Feedforward Amplifier:** This block amplifies the input current \\( I_{in} \\). It has a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This block takes a part of the output current \\( I_{out} \\) and returns a current \\( I_F \\) to the system's input. The feedback network is defined by a current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Flow of Information or Control:**\n- The input current \\( I_{in} \\) enters the system.\n- The feedforward amplifier amplifies this input current, resulting in an output current \\( I_{out} \\).\n- A portion of \\( I_{out} \\) is fed back through the feedback network as \\( I_F \\), affecting the input to the feedforward amplifier.\n- The feedback loop is characterized by the current ratio \\( \\beta \\), which dictates the amount of output current fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) represents the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**Overall System Function:**\nThe main function of this system is to provide current amplification with a feedback mechanism that enhances stability and control. The closed-loop current gain of the system is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback reduces the gain but improves stability. The input impedance is decreased, and the output impedance is increased by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications needing current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit employs a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 presents an instance of current-current feedback. Here, given that the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
},
{
    "text": "Figure 8.41 depicts this feedback mechanism. ${ }^{12}$ In this setup, the feedforward amplifier is defined by a current gain, $A_{I}$, while the feedback network is characterized by a current ratio, $\\beta$. Following a method similar to earlier derivations, one can readily demonstrate that the closed-loop current gain is $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is enhanced by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram labeled \"Figure 8.41 Current-current feedback\" shows a system utilizing current-current feedback. The key components of this system include a feedforward amplifier with a current gain, denoted as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Main Components:**\n1. **Feedforward Amplifier:** This unit amplifies the input current \\( I_{in} \\). It has a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This section takes a part of the output current \\( I_{out} \\) and returns a feedback current \\( I_F \\) to the system's input. It is defined by the current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Flow of Information or Control:**\n- The input current \\( I_{in} \\) is introduced into the system.\n- The feedforward amplifier amplifies this input current, resulting in \\( I_{out} \\).\n- A portion of \\( I_{out} \\) is fed back through the feedback network as \\( I_F \\), affecting the input to the feedforward amplifier.\n- The feedback loop is defined by the current ratio \\( \\beta \\), which governs the amount of output current fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) represents the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**Overall System Function:**\nThe main function of this system is to provide current amplification with a feedback mechanism that stabilizes and controls the gain. The closed-loop current gain is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback reduces the gain but enhances stability. The input impedance is decreased, and the output impedance is increased by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications requiring current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit employs a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 presents an instance of current-current feedback. Here, given that the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
},
{
    "text": "Figure 8.41 depicts this form of feedback. ${ }^{12}$ In this scenario, the feedforward amplifier is defined by a current gain, $A_{I}$, while the feedback network is defined by a current ratio, $\\beta$. Following a method akin to earlier derivations, one can readily demonstrate that the closed-loop current gain is $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is augmented by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram labeled \"Figure 8.41 Current-current feedback\" shows a system utilizing current-current feedback. The main components of this system include a feedforward amplifier with a current gain, denoted as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Main Components:**\n1. **Feedforward Amplifier:** This block amplifies the input current \\( I_{in} \\). It has a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This block takes a portion of the output current \\( I_{out} \\) and returns a feedback current \\( I_F \\) to the system's input. The feedback network is defined by a current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Flow of Information or Control:**\n- The input current \\( I_{in} \\) enters the system.\n- The feedforward amplifier amplifies this input current, resulting in an output current \\( I_{out} \\).\n- A fraction of \\( I_{out} \\) is fed back through the feedback network as \\( I_F \\), influencing the input to the feedforward amplifier.\n- The feedback loop is characterized by the current ratio \\( \\beta \\), which dictates the amount of output current fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) represents the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**Overall System Function:**\nThe system's primary role is to provide current amplification with a feedback mechanism that enhances stability and control over the gain. The closed-loop current gain is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback reduces the gain but improves stability. The input impedance is decreased, and the output impedance is increased by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications needing current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit employs a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 exemplifies current-current feedback. Here, given that the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
},
{
    "text": "Figure 8.41 demonstrates this feedback type. ${ }^{12}$ In this setup, the feedforward amplifier is defined by a current gain, $A_{I}$, while the feedback network is characterized by a current ratio, $\\beta$. Following a method similar to earlier derivations, it can be readily shown that the closed-loop current gain equals $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is increased by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram titled \"Figure 8.41 Current-current feedback\" depicts a system using current-current feedback. The main elements of this system include a feedforward amplifier with a current gain, represented as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Key Components:**\n1. **Feedforward Amplifier:** This unit amplifies the input current \\( I_{in} \\). It possesses a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This section takes a part of the output current \\( I_{out} \\) and returns a current \\( I_F \\) to the system's input. The network is defined by a current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Information or Control Flow:**\n- The input current \\( I_{in} \\) is introduced into the system.\n- The feedforward amplifier processes this input current, resulting in an output current \\( I_{out} \\).\n- A fraction of \\( I_{out} \\) is fed back via the feedback network as \\( I_F \\), affecting the input to the feedforward amplifier.\n- The feedback loop is governed by the current ratio \\( \\beta \\), which dictates the amount of output current fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) signifies the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**System Function Overview:**\nThe core function of this system is to provide current amplification with a feedback mechanism that enhances stability and control over the gain. The system's closed-loop current gain is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback reduces the overall gain but improves stability. The input impedance is decreased, and the output impedance is elevated by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications needing current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit employs a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 presents an instance of current-current feedback. Here, given that the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
},
{
    "text": "Figure 8.41 depicts this form of feedback. ${ }^{12}$ In this scenario, the feedforward amplifier is defined by a current gain, $A_{I}$, while the feedback network is defined by a current ratio, $\\beta$. Following a method akin to prior derivations, one can readily demonstrate that the closed-loop current gain equals $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is augmented by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram labeled \"Figure 8.41 Current-current feedback\" depicts a system utilizing current-current feedback. The main components of this system include a feedforward amplifier with a current gain, designated as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Main Components:**\n1. **Feedforward Amplifier:** This unit amplifies the input current \\( I_{in} \\). It possesses a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This unit receives a part of the output current \\( I_{out} \\) and returns a feedback current \\( I_F \\) to the system's input. The feedback network is characterized by a current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Flow of Information or Control:**\n- The input current \\( I_{in} \\) is introduced into the system.\n- The feedforward amplifier processes this input current, resulting in an amplified output current \\( I_{out} \\).\n- A fraction of \\( I_{out} \\) is routed back through the feedback network as \\( I_F \\), influencing the input to the feedforward amplifier.\n- The feedback loop is governed by the current ratio \\( \\beta \\), which dictates the proportion of the output current that is fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) represents the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**Overall System Function:**\nThe main purpose of this system is to provide current amplification with a feedback mechanism that enhances stability and control over the gain. The system's closed-loop current gain is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback reduces the overall gain but improves stability. The input impedance is decreased, and the output impedance is increased by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications requiring current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit implements a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 presents an instance of current-current feedback. Here, given that the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
},
{
    "text": "Figure 8.41 depicts this form of feedback. ${ }^{12}$ In this setup, the feedforward amplifier is defined by a current gain, $A_{I}$, while the feedback network is defined by a current ratio, $\\beta$. Following a method similar to earlier derivations, it can be readily demonstrated that the closed-loop current gain is $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is increased by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram labeled \"Figure 8.41 Current-current feedback\" shows a system utilizing current-current feedback. The main components of this system include a feedforward amplifier with a current gain, denoted as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Main Components:**\n1. **Feedforward Amplifier:** This block amplifies the input current \\( I_{in} \\). It has a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This block takes a portion of the output current \\( I_{out} \\) and returns a current \\( I_F \\) to the system's input. The feedback network is defined by a current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Flow of Information or Control:**\n- The input current \\( I_{in} \\) is introduced into the system.\n- The feedforward amplifier amplifies this input current, resulting in an output current \\( I_{out} \\).\n- A part of \\( I_{out} \\) is fed back through the feedback network as \\( I_F \\), influencing the input to the feedforward amplifier.\n- The feedback loop is characterized by the current ratio \\( \\beta \\), which dictates the amount of output current fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) represents the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**Overall System Function:**\nThe main function of this system is to provide current amplification with a feedback mechanism that enhances stability and control of the gain. The closed-loop current gain of the system is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback reduces the overall gain but improves stability. The input impedance is decreased, and the output impedance is increased by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications requiring current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit implements a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 presents an example of current-current feedback. Here, given that the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
},
{
    "text": "Figure 8.41 depicts this form of feedback. ${ }^{12}$ In this setup, the feedforward amplifier is defined by a current gain, $A_{I}$, while the feedback network is characterized by a current ratio, $\\beta$. Following a method akin to prior derivations, one can readily demonstrate that the closed-loop current gain is $A_{I} /\\left(1+\\beta A_{I}\\right)$, the input impedance is reduced by $1+\\beta A_{I}$, and the output impedance is increased by $1+\\beta A_{I}$.\n\n[^54]image_name:Figure 8.41 Current-current feedback\ndescription:The diagram labeled \"Figure 8.41 Current-current feedback\" shows a system utilizing current-current feedback. The main components of this system include a feedforward amplifier with a current gain, represented as \\( A_I \\), and a feedback network with a current ratio, \\( \\beta \\).\n\n**Key Components:**\n1. **Feedforward Amplifier:** This block amplifies the input current \\( I_{in} \\). It has a current gain \\( A_I \\) and produces an output current \\( I_{out} \\).\n2. **Feedback Network:** This block takes a part of the output current \\( I_{out} \\) and returns a feedback current \\( I_F \\) to the system's input. The feedback network is defined by a current ratio \\( \\beta \\).\n3. **Load Impedance \\( Z_L \\):** The output current \\( I_{out} \\) is delivered to a load with impedance \\( Z_L \\).\n\n**Information or Control Flow:**\n- The input current \\( I_{in} \\) enters the system.\n- The feedforward amplifier amplifies this input current, resulting in an output current \\( I_{out} \\).\n- A portion of \\( I_{out} \\) is fed back through the feedback network as \\( I_F \\), affecting the input to the feedforward amplifier.\n- The feedback loop is defined by the current ratio \\( \\beta \\), which dictates the amount of output current fed back.\n\n**Labels, Annotations, and Key Indicators:**\n- \\( I_e \\) represents the current entering the feedforward amplifier.\n- The feedback network is noted for its high output impedance \\( R_{out} \\) and low input impedance \\( R_{in} \\).\n- The feedback factor \\( \\beta \\) is essential for determining the feedback current \\( I_F \\).\n\n**System Function Overview:**\nThe main function of this system is to provide current amplification with a feedback mechanism that enhances stability and control. The closed-loop current gain of the system is expressed as \\( A_I / (1 + \\beta A_I) \\), indicating that feedback reduces the overall gain but improves stability. The input impedance is decreased, and the output impedance is increased by the factor \\( 1 + \\beta A_I \\), which is advantageous for applications requiring current control and stability.\n\nFigure 8.41 Current-current feedback.\nimage_name:Figure 8.42\ndescription:\n[\nname: M1, type: NMOS, ports: {S: GND, D: X, G: g1}\nname: M2, type: NMOS, ports: {S: X, D: Y, G: g1}\nname: RD, type: Resistor, value: RD, ports: {N1: VDD, N2: X}\nname: RF, type: Resistor, value: RF, ports: {N1: g1, N2: Y}\nname: RS, type: Resistor, value: RS, ports: {N1: Y, N2: GND}\nname: Iin, type: CurrentSource, value: Iin, ports: {Np: g1, Nn: GND}\n]\nextrainfo:The circuit employs a current-current feedback mechanism using NMOS transistors M1 and M2. Resistor RF provides feedback from the output node Y to the gate of M1. Resistor RS monitors the output current. The design aims to stabilize and control the current gain.\n\nFigure 8.42\n\nFigure 8.42 presents an example of current-current feedback. In this case, since the source and drain currents of $M_{2}$ are equal (at low frequencies), resistor $R_{S}$ is placed in the source network to monitor the output current. Resistor $R_{F}$ serves the same function as in Fig. 8.39."
}
]