[

{
    "text": "The operational amplifier, a key electronic circuit, has gained significant importance. However, a thorough analysis of this circuit necessitates an understanding of electronic components like diodes and transistors. You might question why we introduce this circuit before discussing its electronic components. There are several reasons for this approach. Firstly, by focusing on the terminal behavior of the operational amplifier, you can appreciate its role as a fundamental circuit building block without needing to fully grasp the internal workings of its electronic components. Secondly, the circuit model of the operational amplifier involves the use of a dependent source, providing an opportunity to apply this type of source in a practical context rather than as an abstract concept. Thirdly, combining the operational amplifier with resistors enables the performance of various useful functions, such as scaling, summing, sign changing, and subtracting. Finally, after introducing inductors and capacitors in Chapter 6, we can demonstrate how to use the operational amplifier to design integrating and differentiating circuits.\n\nOur emphasis on the terminal behavior of the operational amplifier involves adopting a black box approach; that is, we are not concerned with the internal structure of the amplifier or the currents and voltages within it. The crucial point to remember is that the internal behavior of the amplifier dictates the voltage and current constraints at the terminals. (For now, we ask you to accept these constraints without detailed explanation.)\n\nPractical Perspective\n\nStrain Gages\n\nHow can you measure the bending of a metal bar, like the one illustrated, without direct contact? One method involves using a strain gage. A strain gage is a type of transducer, which is a device that converts a measured quantity into a more manageable form. The quantity we aim to measure in the metal bar is the bending angle, but direct measurement is challenging and potentially hazardous. Instead, we attach a strain gage (pictured in the line drawing) to the metal bar. A strain gage consists of a grid of thin wires whose resistance changes when the wires are stretched or compressed:\n\n$$\n\\Delta R=2 R \\frac{\\Delta L}{L}\n$$\n\nwhere $R$ is the resistance of the gage at rest, $\\Delta L / L$ is the fractional change in length (defining \"strain\"), the constant 2 is typical of the manufacturer's gage factor, and $\\Delta R$ is the resistance change due to the bar's bending. Typically, pairs of strain gages are attached to opposite sides of the bar. When the bar bends, the wires in one pair lengthen and thin, increasing resistance, while the wires in the other pair shorten and thicken, decreasing resistance.\n\nBut how is this change in resistance measured? One method is using an ohmmeter. However, the resistance change in a strain gage is usually too small for accurate ohmmeter measurement. Typically, pairs of strain gages are configured in a Wheatstone bridge, and the voltage difference between two bridge legs is measured. To accurately measure this voltage difference, we use an operational amplifier circuit to amplify it. After introducing the operational amplifier and key circuits that utilize it, we will present the circuit used with strain gages to measure the bending of a metal bar.\n\nThe operational amplifier circuit initially emerged as a basic building block in analog computers. It was termed \"operational\" because it executed mathematical operations like integration, differentiation, addition, sign changing, and scaling. In recent years, its applications have expanded beyond these operations, but the original name remains. Engineers and technicians often create technical terminology; thus, the operational amplifier is widely known as the op amp.\n\nimage_name:Figure 5.1\ndescription:The image shows a graphical representation of a cylindrical object, likely a cable or pipe, overlaid with flexible, layered sheets. These sheets, in light blue, appear to bend or flex along with the cylinder. The black cylinder suggests it might be an insulated wire or conduit.\n\n1. **Identification of Components and Structure:**\n- **Cylinder:** A long, black cylindrical object is central, appearing solid and consistent in diameter, possibly representing a wire or pipe.\n- **Flexible Sheets:** Multiple light blue sheets are aligned along the cylinder, seeming to move or flex with it.\n\n2. **Connections and Interactions:**\n- The sheets can bend with the cylinder, indicating they are either attached or designed to move with its curvature.\n- Red arrows indicate the direction of the sheets' flexibility as the cylinder bends.\n\n3. **Labels, Annotations, and Key Features:**\n- **Red Arrows:** Highlight the direction of movement or flexibility of the sheets.\n- No specific labels or annotations, but the visual elements emphasize flexibility and adaptability.\n\nimage_name:Ron Chapple/Corbis\ndescription:The image shows part of an electrical substation against a sunset or sunrise sky. The substation includes several key components:\n\n1. **Identification of Components and Structure:**\n- **High Voltage Transmission Lines:** At the top, supported by tall metal lattice structures, part of the power distribution network.\n- **Insulators:** Mounted on the metal structures, appearing as stacked discs or cylinders, crucial for preventing electrical grounding.\n- **Metal Framework:** Complex metal structures supporting electrical equipment and transmission lines.\n\n2. **Connections and Interactions:**\n- High voltage lines interconnect through the metal framework for power distribution and regulation. Insulators prevent current from grounding through supports.\n- No visible control or feedback loops, but internal control systems likely manage power flow.\n\n3. **Labels, Annotations, and Key Features:**\n- No specific labels or annotations. The silhouetted view highlights structural complexity and the importance of insulators.\n- The setting sun or rising sun adds drama, emphasizing the substation's silhouette.\n\nRon Chapple/Corbis\nimage_name:Figure 5.1\ndescription:\"Figure 5.1\" illustrates an eight-lead Dual In-line Package (DIP) from a top view. This package is common for integrated circuits. The diagram shows the pin arrangement and labeling, crucial for understanding connections and functionalities.\n\n1. **Identification of Components and Structure:**\n- The DIP package is a rectangular block with eight metal leads extending from its sides for electrical connections.\n- Leads are numbered 1 to 8, starting from the top left and continuing counterclockwise.\n\n2. **Connections and Interactions:**\n- Each lead is labeled with its function:\n- Pin 1: Offset null\n- Pin 2: Inverting input\n- Pin 3: Noninverting input\n- Pin 4: V- (negative power supply)\n- Pin 5: Offset null\n- Pin 6: Output\n- Pin 7: V+ (positive power supply)\n- Pin 8: NC (No Connection)\n- Inverting and noninverting inputs for signal input, output pin for amplified signal.\n- Offset null pins adjust the offset voltage to zero.\n- V+ and V- pins for power supply connections.\n\n3. **Labels, Annotations, and Key Features:**\n- Each pin is clearly labeled with its function, aiding identification and connection in a circuit.\n- The diagram emphasizes the role of each pin in the device's operation, particularly power supply and signal processing.\n\nFigure 5.1 $\\triangle$ The eight-lead DIP package (top view).\nimage_name:Figure 5.2 - The circuit symbol for an operational amplifier (op amp)\ndescription:\n[\n'name': 'OpAmp1', 'type': 'OpAmp', 'value': 'OpAmp1', 'ports': {'InP': 'Noninverting input', 'InN': 'Inverting input', 'OutP': 'Output', 'Vdd': 'Positive power supply', '-Vdd': 'Negative power supply'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.2 - The circuit symbol for an operational amplifier (op amp).\nimage_name:Figure 5.3\ndescription:\n[\n'name': 'OpAmp', 'type': 'OpAmp', 'ports': {'InP': 'N1', 'InN': 'N2', 'OutP': 'N3', 'OutN': 'N4', 'Vdd': 'V+', '-Vdd': 'V-'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.3 A A simplified circuit symbol for an op amp.\nimage_name:Figure 5.4\ndescription:\n[\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'Vp', 'InN': 'Vn', 'OutP': 'Vo',  'Vdd': 'V+', '-Vdd': 'V-'\n'name': 'VCC1', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'V+', 'Nn': 'GND'\n'name': 'VCC2', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'GND', 'Nn': 'V-'\n]\nextrainfo:The circuit diagram represents an operational amplifier with positive and negative power supply connections. The op amp has noninverting (Vp) and inverting (Vn) inputs, and an output (Vo). It is powered by a positive voltage source (V+) and a negative voltage source (V-), both referenced to a common ground (GND). The VCC voltage source is also connected between VCC and GND.\n\nFigure 5.4 A Terminal voltage variables."
},
{
    "text": "The operational amplifier, a key electronic circuit, has grown in significance. However, a thorough analysis necessitates understanding electronic components like diodes and transistors. You might question why we introduce this circuit before discussing its components. There are several reasons. First, focusing on the terminal behavior of the operational amplifier helps appreciate its use as a circuit building block, without needing to fully grasp the underlying components. Second, the circuit model involves a dependent source, allowing practical application of this source. Third, combining the operational amplifier with resistors enables useful functions like scaling, summing, sign changing, and subtracting. Finally, after introducing inductors and capacitors in Chapter 6, we'll demonstrate how to use it for integrating and differentiating circuits.\n\nOur emphasis on terminal behavior adopts a black box approach, disregarding the internal structure and its currents and voltages. The crucial point is that internal behavior dictates the terminal voltage and current constraints. (For now, we ask you to accept these constraints without proof.)\n\nPractical Perspective\n\nStrain Gages\n\nHow can you measure the bending of a metal bar, like the one in the figure, without direct contact? One method is using a strain gage, a type of transducer. A transducer converts a quantity into a more measurable form. Measuring the bending angle directly is challenging and potentially dangerous. Instead, a strain gage (shown in the line drawing) is attached to the bar. This gage, a grid of thin wires, changes resistance when the wires lengthen or shorten:\n\n$$\n\\Delta R=2 R \\frac{\\Delta L}{L}\n$$\n\nHere, $R$ is the gage's resting resistance, $\\Delta L / L$ is the strain (fractional lengthening), 2 is the typical gage factor, and $\\Delta R$ is the resistance change due to bending. Typically, pairs of strain gages are attached to opposite sides of the bar. When bent, one pair's wires lengthen and thin, increasing resistance, while the other's shorten and thicken, decreasing resistance.\n\nMeasuring this resistance change is challenging. An ohmmeter isn't precise enough. Usually, the gage pairs form a Wheatstone bridge, and the voltage difference between bridge legs is measured. An operational amplifier circuit amplifies this voltage difference for accurate measurement. After discussing operational amplifiers and key circuits, we'll present the circuit used with strain gages to measure bar bending.\n\nThe operational amplifier circuit originated as a fundamental building block in analog computers, named \"operational\" for its role in mathematical operations like integration, differentiation, addition, sign changing, and scaling. Though its applications have expanded, the original name persists. Engineers and technicians often create technical jargon, hence the term \"op amp.\"\n\nimage_name:Figure 5.1\ndescription:A graphical representation of a cylindrical object, likely a cable or pipe, overlaid with flexible, layered sheets. The black cylinder suggests it might be an insulated wire or conduit. The light blue sheets align along the cylinder, appearing to bend with it. Red arrows indicate the sheets' flexibility.\n\n1. **Identification of Components and Structure:**\n- **Cylinder:** A solid, black cylindrical object, possibly a wire or pipe.\n- **Flexible Sheets:** Light blue, layered sheets aligned with the cylinder, capable of bending.\n\n2. **Connections and Interactions:**\n- Sheets bend with the cylinder, suggesting attachment or coordinated movement.\n- Red arrows show the direction of sheet flexibility.\n\n3. **Labels, Annotations, and Key Features:**\n- Red arrows emphasize sheet flexibility.\n- No specific labels, but the image highlights flexibility and adaptability.\n\nimage_name:Ron Chapple/Corbis\ndescription:An electrical substation silhouetted against a sunrise or sunset sky, featuring high voltage transmission lines, insulators, and a metal framework.\n\n1. **Identification of Components and Structure:**\n- **High Voltage Transmission Lines:** Supported by tall metal structures.\n- **Insulators:** Mounted on structures, preventing current grounding.\n- **Metal Framework:** Complex framework supporting equipment and lines.\n\n2. **Connections and Interactions:**\n- Lines interconnect through the framework for power distribution.\n- Insulators ensure safety and efficiency.\n\n3. **Labels, Annotations, and Key Features:**\n- No specific labels, but the image emphasizes structural complexity and insulator importance.\n- Scenic backdrop highlights the substation's silhouette.\n\nimage_name:Figure 5.1\ndescription:An eight-lead Dual In-line Package (DIP) from a top view, used for integrated circuits. The diagram shows pin arrangement and labeling.\n\n1. **Identification of Components and Structure:**\n- Rectangular DIP with eight metal leads for electrical connections.\n- Pins numbered 1 to 8 counterclockwise from the top left.\n\n2. **Connections and Interactions:**\n- Each lead is labeled with its function:\n  - Pin 1: Offset null\n  - Pin 2: Inverting input\n  - Pin 3: Noninverting input\n  - Pin 4: V- (negative power supply)\n  - Pin 5: Offset null\n  - Pin 6: Output\n  - Pin 7: V+ (positive power supply)\n  - Pin 8: NC (No Connection)\n- Pins for signal input, output, and power supply.\n\n3. **Labels, Annotations, and Key Features:**\n- Clear labeling of each pin function.\n- Emphasis on the role of each pin in device operation.\n\nFigure 5.1 $\\triangle$ The eight-lead DIP package (top view).\nimage_name:Figure 5.2 - The circuit symbol for an operational amplifier (op amp)\ndescription:Typical operational amplifier symbol with labeled inputs and power supply connections. Noninverting input labeled with a plus sign, inverting input with a minus sign, and connections for positive and negative power supply and output.\n\nFigure 5.2 - The circuit symbol for an operational amplifier (op amp).\nimage_name:Figure 5.3\ndescription:Typical operational amplifier symbol with labeled inputs and power supply connections. Noninverting input labeled with a plus sign, inverting input with a minus sign, and connections for positive and negative power supply and output.\n\nFigure 5.3 A A simplified circuit symbol for an op amp.\nimage_name:Figure 5.4\ndescription:Circuit diagram of an operational amplifier with positive and negative power supply connections. Noninverting (Vp) and inverting (Vn) inputs, and an output (Vo). Powered by positive (V+) and negative (V-) voltage sources referenced to a common ground (GND). VCC voltage source connected between VCC and GND.\n\nFigure 5.4 A Terminal voltage variables."
},
{
    "text": "The operational amplifier, a crucial electronic circuit, has gained significant importance. However, a thorough analysis of this circuit necessitates an understanding of electronic components like diodes and transistors. You might question why we introduce this circuit before delving into its electronic components. There are several reasons for this approach. First, by focusing on the terminal behavior of the operational amplifier, you can appreciate its use as a fundamental circuit building block without needing a complete understanding of the underlying electronic components. Second, the circuit model of the operational amplifier involves a dependent source, providing an opportunity to apply this type of source in a practical context rather than as an abstract concept. Third, combining the operational amplifier with resistors enables the performance of various useful functions, such as scaling, summing, sign changing, and subtraction. Finally, after introducing inductors and capacitors in Chapter 6, we will demonstrate how to use the operational amplifier to design integrating and differentiating circuits.\n\nOur emphasis on the terminal behavior of the operational amplifier adopts a black box approach; that is, we are not concerned with the internal structure of the amplifier or the currents and voltages within it. The key point to remember is that the internal behavior of the amplifier determines the voltage and current constraints at the terminals. (For now, we ask you to accept these constraints without detailed explanation.)\n\nPractical Perspective\n\nStrain Gages\n\nHow can you measure the bending of a metal bar, as shown in the figure, without physical contact? One method involves using a strain gage. A strain gage is a type of transducer, which is a device that measures a quantity by converting it into a more manageable form. The quantity we aim to measure in the metal bar is the bending angle, but direct measurement is challenging and potentially hazardous. Instead, we attach a strain gage (illustrated in the line drawing) to the metal bar. A strain gage consists of a grid of thin wires whose resistance changes when the wires are stretched or compressed:\n\n$$\n\\Delta R=2 R \\frac{\\Delta L}{L}\n$$\n\nwhere $R$ is the resistance of the gage at rest, $\\Delta L / L$ is the fractional lengthening of the gage (defining \"strain\"), the constant 2 is typical of the manufacturer's gage factor, and $\\Delta R$ is the resistance change due to the bar's bending. Typically, pairs of strain gages are attached to opposite sides of the bar. When the bar bends, the wires in one pair lengthen and thin, increasing resistance, while the wires in the other pair shorten and thicken, decreasing resistance.\n\nBut how is the resistance change measured? One method is using an ohmmeter. However, the resistance change in a strain gage is usually too small for accurate ohmmeter measurement. Typically, pairs of strain gages are connected to form a Wheatstone bridge, and the voltage difference between two bridge legs is measured. To accurately measure this voltage difference, we use an operational amplifier circuit to amplify the voltage. After introducing the operational amplifier and key circuits using these devices, we will present the circuit used with strain gages to measure the bending of a metal bar.\n\nThe operational amplifier circuit originated as a basic building block in analog computers, termed \"operational\" because it executed mathematical operations like integration, differentiation, addition, sign changing, and scaling. Although its applications have expanded beyond these operations, the original name persists. Engineers and technicians often create technical jargon, hence the widespread use of the term \"op amp.\"\n\nimage_name:Figure 5.1\ndescription:The image shows a graphical representation of a cylindrical object, likely a cable or pipe, overlaid with flexible, layered sheets. These sheets, in light blue, appear to bend or flex along with the cylinder. The black cylinder suggests it might be an insulated wire or conduit.\n\n1. **Identification of Components and Structure:**\n- **Cylinder:** A long, black cylindrical object is central, appearing solid and consistent in diameter, possibly representing a wire or pipe.\n- **Flexible Sheets:** Multiple layered sheets in light blue align along the cylinder, seemingly capable of movement or flexing.\n\n2. **Connections and Interactions:**\n- The sheets are depicted as bending with the cylinder, indicating attachment or design for tandem movement.\n- Red arrows indicate the directional flexibility of the sheets as the cylinder bends.\n\n3. **Labels, Annotations, and Key Features:**\n- **Red Arrows:** Highlight the sheets' directional movement or flexibility, emphasizing their adaptability to the cylinder's shape.\n- No specific labels or annotations, but the visual elements focus on flexibility and adaptability.\n\nimage_name:Ron Chapple/Corbis\ndescription:The image depicts part of an electrical substation against a sunset or sunrise sky, featuring several key components:\n\n1. **Identification of Components and Structure:**\n- **High Voltage Transmission Lines:** At the top, supported by tall metal lattice structures, part of the power distribution network.\n- **Insulators:** Mounted on metal structures, appearing as stacked discs or cylinders, crucial for preventing electrical grounding.\n- **Metal Framework:** Complex metal structures supporting electrical equipment and transmission lines.\n\n2. **Connections and Interactions:**\n- High voltage lines interconnect through the metal framework for power distribution and regulation. Insulators prevent current grounding, ensuring safety and efficiency.\n- No visible control or feedback loops, but internal control systems likely manage power flow.\n\n3. **Labels, Annotations, and Key Features:**\n- No specific labels or annotations, but the silhouetted view highlights structural complexity and the importance of insulators.\n- The scenic backdrop emphasizes the substation's silhouette.\n\nRon Chapple/Corbis\nimage_name:Figure 5.1\ndescription:\"Figure 5.1\" illustrates an eight-lead Dual In-line Package (DIP) from a top view, commonly used for integrated circuits. The diagram highlights pin arrangement and labeling, crucial for understanding connections and functionalities.\n\n1. **Identification of Components and Structure:**\n- The DIP package is a rectangular block with eight metal leads extending from its sides for electrical connections.\n- Leads are numbered 1 to 8, starting from the top left and continuing counterclockwise.\n\n2. **Connections and Interactions:**\n- Each lead is labeled with its function:\n- Pin 1: Offset null\n- Pin 2: Inverting input\n- Pin 3: Noninverting input\n- Pin 4: V- (negative power supply)\n- Pin 5: Offset null\n- Pin 6: Output\n- Pin 7: V+ (positive power supply)\n- Pin 8: NC (No Connection)\n- Inverting and noninverting inputs for signal input, output pin for amplified signal.\n- Offset null pins adjust the operational amplifier's offset voltage to zero.\n- V+ and V- pins for connecting positive and negative power supplies.\n\n3. **Labels, Annotations, and Key Features:**\n- Each pin is clearly labeled with its function, aiding in identification and connection within a circuit.\n- The depiction emphasizes the role of each pin in the device's operation, particularly power supply and signal processing.\n\nFigure 5.1 $\\triangle$ The eight-lead DIP package (top view).\nimage_name:Figure 5.2 - The circuit symbol for an operational amplifier (op amp)\ndescription:\n[\n'name': 'OpAmp1', 'type': 'OpAmp', 'value': 'OpAmp1', 'ports': {'InP': 'Noninverting input', 'InN': 'Inverting input', 'OutP': 'Output', 'Vdd': 'Positive power supply', '-Vdd': 'Negative power supply'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.2 - The circuit symbol for an operational amplifier (op amp).\nimage_name:Figure 5.3\ndescription:\n[\n'name': 'OpAmp', 'type': 'OpAmp', 'ports': {'InP': 'N1', 'InN': 'N2', 'OutP': 'N3', 'OutN': 'N4', 'Vdd': 'V+', '-Vdd': 'V-'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.3 A A simplified circuit symbol for an op amp.\nimage_name:Figure 5.4\ndescription:\n[\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'Vp', 'InN': 'Vn', 'OutP': 'Vo',  'Vdd': 'V+', '-Vdd': 'V-'\n'name': 'VCC1', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'V+', 'Nn': 'GND'\n'name': 'VCC2', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'GND', 'Nn': 'V-'\n]\nextrainfo:The circuit diagram represents an operational amplifier with positive and negative power supply connections. The op amp has noninverting (Vp) and inverting (Vn) inputs, and an output (Vo). It is powered by a positive voltage source (V+) and a negative voltage source (V-), both referenced to a common ground (GND). The VCC voltage source is also connected between VCC and GND.\n\nFigure 5.4 A Terminal voltage variables."
},
{
    "text": "The operational amplifier, a key electronic circuit, has gained significant importance. However, a thorough analysis of this circuit necessitates an understanding of electronic components like diodes and transistors. You might question why we introduce this circuit before delving into its electronic components. There are several justifications. Firstly, by focusing on its terminal behavior, you can appreciate the operational amplifier's role as a circuit building block. At an introductory level, a deep understanding of the underlying electronic components is not essential. Secondly, the circuit model of the operational amplifier involves a dependent source, providing an opportunity to use this source in a practical context rather than as an abstract concept. Thirdly, combining the operational amplifier with resistors enables various useful functions, such as scaling, summing, sign changing, and subtracting. Finally, after introducing inductors and capacitors in Chapter 6, we will demonstrate how to use the operational amplifier to design integrating and differentiating circuits.\n\nOur emphasis on the terminal behavior of the operational amplifier adopts a black box approach; we are not concerned with the internal structure or the currents and voltages within it. The crucial point is that the internal behavior dictates the voltage and current constraints at the terminals. (For now, we ask you to accept these constraints without detailed explanation.)\n\nPractical Perspective\n\nStrain Gages\n\nHow can you measure the bending of a metal bar, like the one in the figure, without direct contact? One approach is using a strain gage. A strain gage is a type of transducer, which converts a measured quantity into a more manageable form. The quantity to measure in the metal bar is the bending angle, but direct measurement is challenging and potentially hazardous. Instead, a strain gage (illustrated in the line drawing) is attached to the bar. A strain gage consists of a grid of thin wires whose resistance changes with their length:\n\n$$\n\\Delta R=2 R \\frac{\\Delta L}{L}\n$$\n\nHere, $R$ is the gage's resting resistance, $\\Delta L / L$ is the fractional length change (strain), the constant 2 represents the manufacturer's gage factor, and $\\Delta R$ is the resistance change due to bending. Typically, pairs of strain gages are attached to opposite sides of the bar. When bent, one pair's wires lengthen and thin, increasing resistance, while the other pair's wires shorten and thicken, decreasing resistance.\n\nMeasuring this resistance change is crucial. An ohmmeter could be used, but the change is often too small for accurate measurement. Usually, the strain gage pairs form a Wheatstone bridge, and the voltage difference between two bridge legs is measured. To accurately measure this voltage difference, an operational amplifier circuit is used to amplify it. After introducing the operational amplifier and key circuits, we will present the circuit used with strain gages to measure metal bar bending.\n\nThe operational amplifier circuit originated as a fundamental building block in analog computers, named \"operational\" for its role in mathematical operations like integration, differentiation, addition, sign changing, and scaling. Recently, its applications have expanded beyond these operations, but the original name remains. Engineers and technicians often create technical jargon, hence the widespread use of \"op amp.\"\n\nimage_name:Figure 5.1\ndescription:The image shows a graphical representation of a cylindrical object, likely a cable or pipe, overlaid with flexible, layered sheets. These light blue sheets can bend or flex along the cylinder. The black cylinder suggests it might be an insulated wire or conduit.\n\n1. **Identification of Components and Structure:**\n- **Cylinder:** A long, black cylindrical object is central, appearing solid and consistent in diameter, possibly a wire or pipe.\n- **Flexible Sheets:** Multiple light blue sheets align along the cylinder, capable of movement or flexing.\n\n2. **Connections and Interactions:**\n- The sheets can bend with the cylinder, indicating attachment or design for tandem movement.\n- Red arrows indicate the directional flexibility of the sheets.\n\n3. **Labels, Annotations, and Key Features:**\n- **Red Arrows:** Highlight the sheets' flexibility and conformity to the cylinder's shape.\n- No specific labels or annotations, but the focus is on material flexibility.\n\nimage_name:Ron Chapple/Corbis\ndescription:The image shows part of an electrical substation against a sunset or sunrise sky, featuring key components:\n\n1. **Identification of Components and Structure:**\n- **High Voltage Transmission Lines:** Supported by tall metal lattice structures at the top.\n- **Insulators:** Mounted on the structures, appearing as stacked discs or cylinders.\n- **Metal Framework:** Complex metal frameworks support electrical equipment and transmission lines.\n\n2. **Connections and Interactions:**\n- High voltage lines interconnect through the framework, enabling power distribution and regulation.\n- Insulators prevent electrical grounding through the supports.\n\n3. **Labels, Annotations, and Key Features:**\n- No specific labels or annotations, but the silhouette emphasizes structural complexity and insulator importance.\n- The scenic backdrop adds a dramatic effect.\n\nRon Chapple/Corbis\nimage_name:Figure 5.1\ndescription:\"Figure 5.1\" illustrates an eight-lead Dual In-line Package (DIP) from a top view, commonly used for integrated circuits. The diagram shows pin arrangement and labeling, crucial for understanding connections and functionalities.\n\n1. **Identification of Components and Structure:**\n- The DIP package is a rectangular block with eight metal leads.\n- Leads are numbered 1 to 8, starting from the top left counterclockwise.\n\n2. **Connections and Interactions:**\n- Each lead is labeled with its function:\n- Pin 1: Offset null\n- Pin 2: Inverting input\n- Pin 3: Noninverting input\n- Pin 4: V- (negative power supply)\n- Pin 5: Offset null\n- Pin 6: Output\n- Pin 7: V+ (positive power supply)\n- Pin 8: NC (No Connection)\n- Inverting and noninverting inputs for signal input, output for amplified signal.\n- Offset null pins adjust the offset voltage to zero.\n- V+ and V- for power supply connections.\n\n3. **Labels, Annotations, and Key Features:**\n- Clear labeling of each pin function aids identification and connection.\n- Emphasizes the importance of each pin in device operation.\n\nFigure 5.1 $\\triangle$ The eight-lead DIP package (top view).\nimage_name:Figure 5.2 - The circuit symbol for an operational amplifier (op amp)\ndescription:\n[\n'name': 'OpAmp1', 'type': 'OpAmp', 'value': 'OpAmp1', 'ports': {'InP': 'Noninverting input', 'InN': 'Inverting input', 'OutP': 'Output', 'Vdd': 'Positive power supply', '-Vdd': 'Negative power supply'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp includes connections for positive and negative power supplies and an output.\n\nFigure 5.2 - The circuit symbol for an operational amplifier (op amp).\nimage_name:Figure 5.3\ndescription:\n[\n'name': 'OpAmp', 'type': 'OpAmp', 'ports': {'InP': 'N1', 'InN': 'N2', 'OutP': 'N3', 'OutN': 'N4', 'Vdd': 'V+', '-Vdd': 'V-'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp includes connections for positive and negative power supplies and an output.\n\nFigure 5.3 A A simplified circuit symbol for an op amp.\nimage_name:Figure 5.4\ndescription:\n[\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'Vp', 'InN': 'Vn', 'OutP': 'Vo',  'Vdd': 'V+', '-Vdd': 'V-'\n'name': 'VCC1', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'V+', 'Nn': 'GND'\n'name': 'VCC2', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'GND', 'Nn': 'V-'\n]\nextrainfo:The circuit diagram represents an operational amplifier with positive and negative power supply connections. The op amp has noninverting (Vp) and inverting (Vn) inputs, and an output (Vo). It is powered by a positive voltage source (V+) and a negative voltage source (V-), both referenced to a common ground (GND). The VCC voltage source is also connected between VCC and GND.\n\nFigure 5.4 A Terminal voltage variables."
},
{
    "text": "The operational amplifier, a pivotal electronic circuit, has gained significant importance. However, a comprehensive analysis of this circuit necessitates an understanding of electronic components like diodes and transistors. You might question why we introduce this circuit before delving into its electronic components. There are several justifications. Firstly, by concentrating on its terminal behavior, you can appreciate the operational amplifier's role as a fundamental circuit building block. At an introductory level, a deep understanding of the underlying electronic components is not essential. Secondly, the circuit model of the operational amplifier involves a dependent source, providing an opportunity to apply this source in a practical context rather than as an abstract concept. Thirdly, combining the operational amplifier with resistors enables various useful functions, such as scaling, summing, sign changing, and subtraction. Lastly, after introducing inductors and capacitors in Chapter 6, we will demonstrate how to use the operational amplifier to design integrating and differentiating circuits.\n\nFocusing on the terminal behavior of the operational amplifier means adopting a black box approach; we are not concerned with the internal structure or the currents and voltages within it. The key point is that the internal behavior dictates the voltage and current constraints at the terminals. (For now, we ask you to accept these constraints without detailed explanation.)\n\nPractical Perspective\n\nStrain Gages\n\nHow can you measure the bending of a metal bar, like the one illustrated, without direct contact? One approach is using a strain gage. A strain gage is a type of transducer, which converts a physical quantity into a more manageable form. The quantity to measure in the metal bar is the bending angle, but direct measurement is challenging and potentially hazardous. Instead, a strain gage (pictured in the line drawing) is attached to the bar. A strain gage consists of a grid of thin wires whose resistance changes with length alterations:\n\n$$\n\\Delta R=2 R \\frac{\\Delta L}{L}\n$$\n\nHere, $R$ is the gage's resting resistance, $\\Delta L / L$ is the fractional length change (strain), 2 is a typical manufacturer's gage factor, and $\\Delta R$ is the resistance change due to bending. Usually, pairs of strain gages are attached to opposite sides of the bar. When bent, one pair's wires lengthen and thin, increasing resistance, while the other pair's wires shorten and thicken, decreasing resistance.\n\nBut how is this resistance change measured? An ohmmeter could be used, but the resistance change is often too small for accurate measurement. Typically, the strain gage pairs form a Wheatstone bridge, and the voltage difference between two bridge legs is measured. To accurately measure this voltage difference, an operational amplifier circuit is used to amplify it. After introducing the operational amplifier and key circuits involving it, we will present the circuit used with strain gages to measure metal bar bending.\n\nThe operational amplifier circuit originated as a basic building block in analog computers, named \"operational\" for its role in mathematical operations like integration, differentiation, addition, sign changing, and scaling. Although its applications have expanded beyond these operations, the original name remains. Engineers and technicians often create technical terminology, hence the widespread use of \"op amp.\"\n\nimage_name:Figure 5.1\ndescription:The image shows a graphical representation of a cylindrical object, likely a cable or pipe, overlaid with flexible, layered sheets. These light blue sheets can bend or flex along with the black cylinder, suggesting they are either attached or designed to move with its curvature. Red arrows indicate the directional flexibility of the sheets as the cylinder bends. The image emphasizes flexibility and adaptability without specific labels or annotations.\n\nimage_name:Ron Chapple/Corbis\ndescription:The image portrays a section of an electrical substation against a sunset or sunrise sky. Key components include high voltage transmission lines supported by metal lattice structures, insulators mounted on these structures, and a complex metal framework. The lines are part of the power distribution network, with insulators preventing current grounding. The image highlights the substation's structural complexity and the importance of insulators, enhanced by the dramatic backdrop.\n\nimage_name:Figure 5.1\ndescription:\"Figure 5.1\" illustrates an eight-lead Dual In-line Package (DIP) from a top view, commonly used for integrated circuits. The diagram shows the arrangement and labeling of pins crucial for understanding connections and functionalities. The rectangular DIP has eight metal leads numbered 1 to 8 counterclockwise. Each lead is labeled with its function: Pin 1 (Offset null), Pin 2 (Inverting input), Pin 3 (Noninverting input), Pin 4 (V-), Pin 5 (Offset null), Pin 6 (Output), Pin 7 (V+), and Pin 8 (NC). The diagram emphasizes the role of each pin in the operational amplifier's operation.\n\nFigure 5.1 $\\triangle$ The eight-lead DIP package (top view).\n\nimage_name:Figure 5.2 - The circuit symbol for an operational amplifier (op amp)\ndescription:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.2 - The circuit symbol for an operational amplifier (op amp).\n\nimage_name:Figure 5.3\ndescription:The diagram depicts a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.3 A A simplified circuit symbol for an op amp.\n\nimage_name:Figure 5.4\ndescription:The circuit diagram represents an operational amplifier with positive and negative power supply connections. The op amp has noninverting (Vp) and inverting (Vn) inputs, and an output (Vo). It is powered by a positive voltage source (V+) and a negative voltage source (V-), both referenced to a common ground (GND). The VCC voltage source is also connected between VCC and GND.\n\nFigure 5.4 A Terminal voltage variables."
},
{
    "text": "The operational amplifier, a key electronic circuit, has gained significant importance. However, a thorough analysis of this circuit necessitates an understanding of electronic components like diodes and transistors. You might question why we introduce this circuit before discussing its components. There are several reasons for this approach. Firstly, by focusing on the terminal behavior of the operational amplifier, you can appreciate its use as a fundamental circuit building block without needing to fully grasp the operation of its internal components. Secondly, the circuit model of the operational amplifier involves a dependent source, allowing you to apply this type of source in a practical context rather than as an abstract concept. Thirdly, combining the operational amplifier with resistors enables the performance of various useful functions, such as scaling, summing, sign changing, and subtracting. Finally, after introducing inductors and capacitors in Chapter 6, we will demonstrate how to use the operational amplifier to design integrating and differentiating circuits.\n\nOur emphasis on the terminal behavior of the operational amplifier involves adopting a black box approach; that is, we are not concerned with the internal structure of the amplifier or the currents and voltages within it. The crucial point is that the internal behavior of the amplifier determines the voltage and current constraints at its terminals. (For now, we ask you to accept these constraints without detailed explanation.)\n\nPractical Perspective\n\nStrain Gages\n\nHow can you measure the bending of a metal bar, like the one illustrated, without physical contact? One method involves using a strain gage. A strain gage is a type of transducer, which is a device that converts a measured quantity into a more manageable form. The quantity we aim to measure in the metal bar is the bending angle, but direct measurement is challenging and potentially hazardous. Instead, we attach a strain gage (depicted in the line drawing) to the bar. A strain gage consists of a grid of thin wires whose resistance changes with their length:\n\n$$\n\\Delta R=2 R \\frac{\\Delta L}{L}\n$$\n\nHere, $R$ is the gage's resistance at rest, $\\Delta L / L$ represents the fractional lengthening of the gage (defining \"strain\"), the constant 2 is typical of the manufacturer's gage factor, and $\\Delta R$ is the resistance change due to the bar's bending. Typically, pairs of strain gages are attached to opposite sides of the bar. When the bar bends, the wires in one pair lengthen and thin, increasing resistance, while the wires in the other pair shorten and thicken, decreasing resistance.\n\nBut how is this resistance change measured? One method is using an ohmmeter. However, the resistance change in a strain gage is often too small for accurate ohmmeter measurement. Usually, the pairs of strain gages are connected to form a Wheatstone bridge, and the voltage difference between two bridge legs is measured. To accurately measure this voltage difference, an operational amplifier circuit is used to amplify it. After introducing the operational amplifier and key circuits employing it, we will present the circuit used with strain gages to measure the bending of a metal bar.\n\nThe operational amplifier circuit originated as a basic building block in analog computers, termed \"operational\" because it executed mathematical operations like integration, differentiation, addition, sign changing, and scaling. Recently, its applications have expanded beyond these operations, but the original name persists. Engineers and technicians often create technical terminology, hence the widespread use of \"op amp\" for the operational amplifier.\nimage_name:Figure 5.1\ndescription:The image shows a graphical representation of a cylindrical object, likely a cable or pipe, overlaid with flexible, layered sheets. These sheets, in light blue, appear to bend or flex along with the cylinder. The black cylinder suggests it might be an insulated wire or conduit.\n\n1. **Identification of Components and Structure:**\n- **Cylinder:** A long, black cylindrical object is central, appearing solid and consistent in diameter, possibly a wire or pipe.\n- **Flexible Sheets:** Multiple light blue sheets are aligned along the cylinder, seemingly able to move or flex.\n\n2. **Connections and Interactions:**\n- The sheets can bend with the cylinder, indicating they are either attached or designed to move with its curvature.\n- Red arrows indicate the directional flexibility of the sheets as the cylinder bends.\n\n3. **Labels, Annotations, and Key Features:**\n- **Red Arrows:** Highlight the sheets' ability to conform to the cylinder's shape during bending.\n- No specific labels or annotations, but the focus is on flexibility and adaptability of the materials.\n\nimage_name:Ron Chapple/Corbis\ndescription:The image shows a portion of an electrical substation against a sunset or sunrise sky, comprising several key components:\n\n1. **Identification of Components and Structure:**\n- **High Voltage Transmission Lines:** At the top, supported by tall metal lattice structures, part of the power distribution network.\n- **Insulators:** Mounted on the metal structures, appearing as stacked discs or cylinders, crucial for preventing electrical grounding.\n- **Metal Framework:** Complex metal structures supporting electrical equipment and transmission lines.\n\n2. **Connections and Interactions:**\n- High voltage lines interconnect through the metal framework for power distribution and regulation. Insulators prevent current from grounding through supports.\n- No visible control or feedback loops, but internal control systems likely manage power flow.\n\n3. **Labels, Annotations, and Key Features:**\n- No specific labels or annotations, but the silhouetted view highlights structural complexity and the importance of insulators.\n- The scenic backdrop emphasizes the substation's silhouette against the sky.\n\nRon Chapple/Corbis\nimage_name:Figure 5.1\ndescription:The image labeled \"Figure 5.1\" shows an eight-lead Dual In-line Package (DIP) from a top view. This package is common for integrated circuits, highlighting the arrangement and labeling of pins crucial for understanding connections and functionalities.\n\n1. **Identification of Components and Structure:**\n- The DIP package is a rectangular block with eight metal leads extending from its sides for electrical connections.\n- Leads are numbered 1 to 8, starting from the top left and continuing counterclockwise.\n\n2. **Connections and Interactions:**\n- Each lead is labeled with its function:\n- Pin 1: Offset null\n- Pin 2: Inverting input\n- Pin 3: Noninverting input\n- Pin 4: V- (negative power supply)\n- Pin 5: Offset null\n- Pin 6: Output\n- Pin 7: V+ (positive power supply)\n- Pin 8: NC (No Connection)\n- Inverting and noninverting inputs for signal input, output pin for amplified signal.\n- Offset null pins adjust the offset voltage to zero.\n- V+ and V- pins for connecting positive and negative power supplies.\n\n3. **Labels, Annotations, and Key Features:**\n- Each pin is clearly labeled with its function, aiding in identification and connection within a circuit.\n- The depiction emphasizes the importance of each pin's role in the device's operation.\n\nFigure 5.1 $\\triangle$ The eight-lead DIP package (top view).\nimage_name:Figure 5.2 - The circuit symbol for an operational amplifier (op amp)\ndescription:\n[\n'name': 'OpAmp1', 'type': 'OpAmp', 'value': 'OpAmp1', 'ports': {'InP': 'Noninverting input', 'InN': 'Inverting input', 'OutP': 'Output', 'Vdd': 'Positive power supply', '-Vdd': 'Negative power supply'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.2 - The circuit symbol for an operational amplifier (op amp).\nimage_name:Figure 5.3\ndescription:\n[\n'name': 'OpAmp', 'type': 'OpAmp', 'ports': {'InP': 'N1', 'InN': 'N2', 'OutP': 'N3', 'OutN': 'N4', 'Vdd': 'V+', '-Vdd': 'V-'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.3 A A simplified circuit symbol for an op amp.\nimage_name:Figure 5.4\ndescription:\n[\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'Vp', 'InN': 'Vn', 'OutP': 'Vo',  'Vdd': 'V+', '-Vdd': 'V-'\n'name': 'VCC1', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'V+', 'Nn': 'GND'\n'name': 'VCC2', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'GND', 'Nn': 'V-'\n]\nextrainfo:The circuit diagram represents an operational amplifier with positive and negative power supply connections. The op amp has noninverting (Vp) and inverting (Vn) inputs, and an output (Vo). It is powered by a positive voltage source (V+) and a negative voltage source (V-), both referenced to a common ground (GND). The VCC voltage source is also connected between VCC and GND.\n\nFigure 5.4 A Terminal voltage variables."
},
{
    "text": "The operational amplifier, a key electronic circuit, has grown in significance. However, a thorough analysis of this circuit necessitates an understanding of electronic components like diodes and transistors. You might question why we introduce this circuit before discussing its electronic components. There are several reasons for this. Firstly, by focusing on its terminal behavior, you can appreciate how the operational amplifier serves as a fundamental circuit building block. At an introductory level, a deep understanding of the internal electronic components is not essential. Secondly, the circuit model of the operational amplifier involves a dependent source, allowing you to apply this type of source in a practical context rather than as an abstract concept. Thirdly, combining the operational amplifier with resistors enables various useful functions, such as scaling, summing, sign changing, and subtraction. Finally, after introducing inductors and capacitors in Chapter 6, we will demonstrate how to use the operational amplifier to design integrating and differentiating circuits.\n\nOur emphasis on the terminal behavior of the operational amplifier adopts a black box approach; we are not concerned with the internal structure or the currents and voltages within it. The crucial point is that the internal behavior dictates the voltage and current constraints at the terminals. (For now, we ask you to accept these constraints without detailed explanation.)\n\nPractical Perspective\n\nStrain Gages\n\nHow can you measure the bending of a metal bar, like the one illustrated, without direct contact? One approach is using a strain gage. A strain gage is a type of transducer, which converts a measured quantity into a more manageable form. The quantity to measure in the metal bar is the bending angle, but direct measurement is challenging and potentially hazardous. Instead, a strain gage (pictured in the line drawing) is attached to the bar. A strain gage consists of a grid of thin wires whose resistance changes with their length:\n\n$$\n\\Delta R=2 R \\frac{\\Delta L}{L}\n$$\n\nHere, $R$ is the gage's resting resistance, $\\Delta L / L$ represents the fractional length change (strain), the constant 2 is typical of the manufacturer's gage factor, and $\\Delta R$ is the resistance change due to bending. Typically, pairs of strain gages are mounted on opposite sides of the bar. When the bar bends, one pair's wires lengthen and thin, increasing resistance, while the other pair's wires shorten and thicken, decreasing resistance.\n\nBut how is this resistance change measured? An ohmmeter could be used, but the resistance change is often too small for accurate measurement. Usually, the strain gage pairs form a Wheatstone bridge, and the voltage difference between two bridge legs is measured. To accurately measure this voltage difference, an operational amplifier circuit is used to amplify it. After introducing the operational amplifier and key circuits involving these devices, we will present the circuit used with strain gages to measure metal bar bending.\n\nThe operational amplifier circuit originated as a basic building block in analog computers, termed \"operational\" because it executed mathematical operations like integration, differentiation, addition, sign changing, and scaling. Recently, its applications have expanded beyond these operations, but the original name remains. Engineers and technicians often create technical jargon, hence the widespread use of \"op amp\" for the operational amplifier.\n\nimage_name:Figure 5.1\ndescription:The image shows a graphical representation of a cylindrical object, likely a cable or pipe, overlaid with flexible, layered sheets. These sheets, in light blue, appear to bend or flex along with the cylinder, which is depicted in black, suggesting it might be an insulated wire or conduit.\n\n1. **Identification of Components and Structure:**\n- **Cylinder:** A long, black cylindrical object is central, appearing solid and consistent in diameter, possibly representing a wire or pipe.\n- **Flexible Sheets:** Multiple light blue sheets are aligned along the cylinder, seemingly able to move or flex.\n\n2. **Connections and Interactions:**\n- The sheets are shown bending with the cylinder, indicating they are either attached or designed to move with its curvature.\n- Red arrows indicate the directional flexibility of the sheets as the cylinder bends.\n\n3. **Labels, Annotations, and Key Features:**\n- **Red Arrows:** Highlight the sheets' movement or flexibility, emphasizing their ability to conform to the cylinder's shape.\n- No specific labels or annotations, but the visual elements suggest a focus on material flexibility and adaptability.\n\nimage_name:Ron Chapple/Corbis\ndescription:The image features a portion of an electrical substation against a sunset or sunrise sky, comprising several key components:\n\n1. **Identification of Components and Structure:**\n- **High Voltage Transmission Lines:** At the top, supported by tall metal lattice structures, part of the power distribution network.\n- **Insulators:** Mounted on the metal structures, appearing as stacked discs or cylinders, crucial for preventing electrical grounding.\n- **Metal Framework:** Complex metal structures supporting electrical equipment and transmission lines.\n\n2. **Connections and Interactions:**\n- High voltage lines interconnect through the metal framework, enabling power distribution and regulation. Insulators prevent electrical conduction to the supports, ensuring safety and efficiency.\n- No visible control or feedback loops, but internal control systems likely manage power flow.\n\n3. **Labels, Annotations, and Key Features:**\n- The image lacks specific labels or annotations, but the silhouetted view highlights structural complexity and the importance of insulators.\n- The scenic backdrop adds a dramatic effect, emphasizing the substation's silhouette.\n\nRon Chapple/Corbis\nimage_name:Figure 5.1\ndescription:\"Figure 5.1\" illustrates an eight-lead Dual In-line Package (DIP) from a top view, commonly used for integrated circuits. The diagram highlights the pin arrangement and labeling, essential for understanding device connections and functions.\n\n1. **Identification of Components and Structure:**\n- The DIP package is a rectangular block with eight metal leads extending from its sides for electrical connections.\n- Leads are numbered 1 to 8, starting from the top left and continuing counterclockwise.\n\n2. **Connections and Interactions:**\n- Each lead is labeled with its function:\n- Pin 1: Offset null\n- Pin 2: Inverting input\n- Pin 3: Noninverting input\n- Pin 4: V- (negative power supply)\n- Pin 5: Offset null\n- Pin 6: Output\n- Pin 7: V+ (positive power supply)\n- Pin 8: NC (No Connection)\n- Inverting and noninverting inputs for signal input, output pin for amplified signal.\n- Offset null pins adjust the amplifier's offset voltage to zero.\n- V+ and V- pins for connecting positive and negative power supplies.\n\n3. **Labels, Annotations, and Key Features:**\n- Each pin is clearly labeled with its function, aiding in identification and connection within a circuit.\n- The depiction emphasizes the role of each pin in the device's operation, particularly power supply and signal processing.\n\nFigure 5.1 $\\triangle$ The eight-lead DIP package (top view).\nimage_name:Figure 5.2 - The circuit symbol for an operational amplifier (op amp)\ndescription:\n[\n'name': 'OpAmp1', 'type': 'OpAmp', 'value': 'OpAmp1', 'ports': {'InP': 'Noninverting input', 'InN': 'Inverting input', 'OutP': 'Output', 'Vdd': 'Positive power supply', '-Vdd': 'Negative power supply'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.2 - The circuit symbol for an operational amplifier (op amp).\nimage_name:Figure 5.3\ndescription:\n[\n'name': 'OpAmp', 'type': 'OpAmp', 'ports': {'InP': 'N1', 'InN': 'N2', 'OutP': 'N3', 'OutN': 'N4', 'Vdd': 'V+', '-Vdd': 'V-'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.3 A A simplified circuit symbol for an op amp.\nimage_name:Figure 5.4\ndescription:\n[\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'Vp', 'InN': 'Vn', 'OutP': 'Vo',  'Vdd': 'V+', '-Vdd': 'V-'\n'name': 'VCC1', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'V+', 'Nn': 'GND'\n'name': 'VCC2', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'GND', 'Nn': 'V-'\n]\nextrainfo:The circuit diagram represents an operational amplifier with positive and negative power supply connections. The op amp has noninverting (Vp) and inverting (Vn) inputs, and an output (Vo). It is powered by a positive voltage source (V+) and a negative voltage source (V-), both referenced to a common ground (GND). The VCC voltage source is also connected between VCC and GND.\n\nFigure 5.4 A Terminal voltage variables."
},
{
    "text": "The operational amplifier, a key electronic circuit, has gained significant importance. However, a thorough analysis of this circuit necessitates an understanding of electronic components like diodes and transistors. You might question why we introduce this circuit before discussing its components. There are several reasons for this. First, by focusing on its terminal behavior, you can appreciate the operational amplifier's role as a fundamental circuit building block. At an introductory level, a deep understanding of the underlying electronic components is not essential. Second, the circuit model of the operational amplifier involves a dependent source, allowing you to apply this source in a practical context rather than as an abstract concept. Third, combining the operational amplifier with resistors enables various useful functions, such as scaling, summing, sign changing, and subtraction. Finally, after introducing inductors and capacitors in Chapter 6, we will demonstrate how to use the operational amplifier to design integrating and differentiating circuits.\n\nOur emphasis on the terminal behavior of the operational amplifier adopts a black box approach; we are not concerned with the internal structure or the currents and voltages within it. The crucial point is that the internal behavior dictates the voltage and current constraints at the terminals. (For now, we ask you to accept these constraints without detailed explanation.)\n\nPractical Perspective\n\nStrain Gages\n\nHow can you measure the bending of a metal bar, as shown in the figure, without direct contact? One method involves using a strain gage. A strain gage is a type of transducer, which converts a physical quantity into a more manageable form. The quantity to measure in the metal bar is the bending angle, but direct measurement is challenging and potentially hazardous. Instead, a strain gage (illustrated in the line drawing) is attached to the bar. This gage consists of a grid of thin wires whose resistance changes with their length:\n\n$$\n\\Delta R=2 R \\frac{\\Delta L}{L}\n$$\n\nHere, $R$ is the gage's resting resistance, $\\Delta L / L$ represents the fractional length change (strain), the constant 2 is typical of the manufacturer's gage factor, and $\\Delta R$ is the resistance change due to bending. Typically, pairs of strain gages are attached to opposite sides of the bar. When bent, one pair's wires lengthen and thin, increasing resistance, while the other pair's wires shorten and thicken, decreasing resistance.\n\nBut how is this resistance change measured? An ohmmeter could be used, but the resistance change is often too small for accurate measurement. Usually, the gage pairs form a Wheatstone bridge, and the voltage difference between two bridge legs is measured. To accurately measure this voltage difference, an operational amplifier circuit is used to amplify it. After introducing the operational amplifier and key circuits, we will present the circuit used with strain gages to measure bar bending.\n\nThe operational amplifier circuit originated as a basic building block in analog computers, named \"operational\" for its role in mathematical operations like integration, differentiation, addition, sign changing, and scaling. Although its applications have expanded, the original name remains. Engineers and technicians often create technical terms, hence the widespread use of \"op amp.\"\n\nimage_name:Figure 5.1\ndescription:The image shows a graphical representation of a cylindrical object, likely a cable or pipe, overlaid with flexible, layered sheets. These sheets, in light blue, appear to bend with the cylinder, which is depicted in black, suggesting it might be an insulated wire or conduit.\n\n1. **Identification of Components and Structure:**\n- **Cylinder:** A long, black cylindrical object is central, appearing solid and consistent in diameter, possibly a wire or pipe.\n- **Flexible Sheets:** Multiple light blue sheets align along the cylinder, seeming to flex with its curvature.\n\n2. **Connections and Interactions:**\n- The sheets are shown bending with the cylinder, indicating attachment or designed movement.\n- Red arrows indicate the sheets' directional flexibility.\n\n3. **Labels, Annotations, and Key Features:**\n- **Red Arrows:** Highlight the sheets' movement with the cylinder's bending.\n- No specific labels, but the visual elements emphasize flexibility and adaptability.\n\nimage_name:Ron Chapple/Corbis\ndescription:The image features part of an electrical substation against a sunset or sunrise sky, comprising key components:\n\n1. **Identification of Components and Structure:**\n- **High Voltage Transmission Lines:** At the top, supported by tall metal lattice structures, part of the power distribution network.\n- **Insulators:** Mounted on metal structures, appearing as stacked discs or cylinders, crucial for preventing grounding.\n- **Metal Framework:** Complex metal structures support electrical equipment and transmission lines.\n\n2. **Connections and Interactions:**\n- High voltage lines interconnect through the metal framework for power distribution and regulation. Insulators prevent current grounding.\n- No visible control loops, but internal systems likely manage power flow.\n\n3. **Labels, Annotations, and Key Features:**\n- No specific labels, but the silhouetted view highlights structural complexity and insulator importance.\n- The scenic backdrop adds a dramatic effect.\n\nRon Chapple/Corbis\nimage_name:Figure 5.1\ndescription:\"Figure 5.1\" illustrates an eight-lead Dual In-line Package (DIP) from a top view, commonly used for integrated circuits. The diagram details the pin arrangement and labeling, crucial for understanding connections and functions.\n\n1. **Identification of Components and Structure:**\n- The DIP package is a rectangular block with eight metal leads extending from its sides for electrical connections.\n- Leads are numbered 1 to 8, starting from the top left and continuing counterclockwise.\n\n2. **Connections and Interactions:**\n- Each lead is labeled with its function:\n- Pin 1: Offset null\n- Pin 2: Inverting input\n- Pin 3: Noninverting input\n- Pin 4: V- (negative power supply)\n- Pin 5: Offset null\n- Pin 6: Output\n- Pin 7: V+ (positive power supply)\n- Pin 8: NC (No Connection)\n- The inverting and noninverting inputs handle signal input, with the output providing the amplified signal.\n- Offset null pins adjust the offset voltage to zero.\n- V+ and V- pins connect the power supplies.\n\n3. **Labels, Annotations, and Key Features:**\n- Each pin is clearly labeled with its function, aiding identification and connection.\n- The depiction emphasizes the importance of each pin in the device's operation.\n\nFigure 5.1 $\\triangle$ The eight-lead DIP package (top view).\nimage_name:Figure 5.2 - The circuit symbol for an operational amplifier (op amp)\ndescription:\n[\n'name': 'OpAmp1', 'type': 'OpAmp', 'value': 'OpAmp1', 'ports': {'InP': 'Noninverting input', 'InN': 'Inverting input', 'OutP': 'Output', 'Vdd': 'Positive power supply', '-Vdd': 'Negative power supply'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.2 - The circuit symbol for an operational amplifier (op amp).\nimage_name:Figure 5.3\ndescription:\n[\n'name': 'OpAmp', 'type': 'OpAmp', 'ports': {'InP': 'N1', 'InN': 'N2', 'OutP': 'N3', 'OutN': 'N4', 'Vdd': 'V+', '-Vdd': 'V-'\n]\nextrainfo:The diagram shows a typical operational amplifier symbol with labeled inputs and power supply connections. The noninverting input is marked with a plus sign, and the inverting input with a minus sign. The op amp has connections for positive and negative power supplies and an output.\n\nFigure 5.3 A A simplified circuit symbol for an op amp.\nimage_name:Figure 5.4\ndescription:\n[\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'Vp', 'InN': 'Vn', 'OutP': 'Vo',  'Vdd': 'V+', '-Vdd': 'V-'\n'name': 'VCC1', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'V+', 'Nn': 'GND'\n'name': 'VCC2', 'type': 'VoltageSource', 'value': 'VCC', 'ports': {'Np': 'GND', 'Nn': 'V-'\n]\nextrainfo:The circuit diagram shows an operational amplifier with positive and negative power supply connections. The op amp has noninverting (Vp) and inverting (Vn) inputs, and an output (Vo). It is powered by a positive voltage source (V+) and a negative voltage source (V-), both referenced to a common ground (GND). The VCC voltage source is also connected between VCC and GND.\n\nFigure 5.4 A Terminal voltage variables."
},
{
    "text": "Given our focus on the terminal behavior of operational amplifiers (op amps), we start by examining the terminals of a widely-used commercial device. In 1968, Fairchild Semiconductor launched an op amp that gained extensive popularity: the $\\mu \\mathrm{A} 741$. (The $\\mu \\mathrm{A}$ prefix denotes Fairchild's microcircuit fabrication of the amplifier.) This amplifier comes in various package types, but for our purposes, we consider an eight-lead DIP. ${ }^{1}$ Figure 5.1 presents a top view of this package, with terminal labels adjacent to each terminal. The key terminals are:\n\n- inverting input,\n- noninverting input,\n- output,\n- positive power supply $\\left(V^{+}\\right)$,\n- negative power supply $\\left(V^{-}\\right)$.\n\nThe other three terminals are generally less significant. The offset null terminals can be employed in auxiliary circuits to mitigate performance decline due to aging and imperfections. However, such decline is often minimal, rendering the offset terminals frequently unused and of secondary importance in circuit analysis. Terminal 8 is irrelevant as it is an unused terminal; NC denotes no connection, indicating it is not linked to the amplifier circuit.\n\nFigure 5.2 illustrates a commonly used circuit symbol for an op amp, highlighting the five primary terminals. Labeling terminals with words is impractical in circuit diagrams, so we adopt a simplified notation. The noninverting input is marked with a plus $(+)$, and the inverting input with a minus $(-)$. The power supply terminals, always depicted outside the triangle, are labeled $V^{+}$ and $V^{-}$. The terminal at the triangle's apex is consistently recognized as the output terminal. Figure 5.3 encapsulates these simplified designations."
},
{
    "text": "Given our focus on the terminal behavior of operational amplifiers (op amps), we start by examining the terminals on a commonly used commercial device. In 1968, Fairchild Semiconductor introduced the $\\mu \\mathrm{A} 741$ op amp, which gained extensive popularity. (The $\\mu \\mathrm{A}$ prefix denotes Fairchild's microcircuit fabrication of the amplifier.) This amplifier comes in various packages, but for our purposes, we consider an eight-lead DIP. ${ }^{1}$ Figure 5.1 provides a top view of this package, with terminal labels adjacent to each terminal. The key terminals are:\n\n- inverting input,\n- noninverting input,\n- output,\n- positive power supply $\\left(V^{+}\\right)$,\n- negative power supply $\\left(V^{-}\\right)$.\n\nThe other three terminals are generally less significant. The offset null terminals can be utilized in auxiliary circuits to mitigate performance decline due to aging and imperfections. However, such decline is often minimal, rendering the offset terminals frequently unused and secondary in circuit analysis. Terminal 8 is irrelevant as it is an unused terminal; NC denotes no connection, indicating it is not linked to the amplifier circuit.\n\nFigure 5.2 illustrates a prevalent circuit symbol for an op amp, highlighting the five primary terminals. Labeling terminals with words is impractical in circuit diagrams, so we adopt a simplified approach. The noninverting input is marked with a plus $(+)$, and the inverting input with a minus $(-)$. The power supply terminals, consistently placed outside the triangle, are labeled $V^{+}$ and $V^{-}$. The terminal at the triangle's apex is universally recognized as the output terminal. Figure 5.3 encapsulates these simplified labels."
},
{
    "text": "Focusing on the terminal behavior of operational amplifiers (op amps), we start by examining the terminals on a widely used commercial device. In 1968, Fairchild Semiconductor introduced the $\\mu \\mathrm{A} 741$ op amp, which gained extensive acceptance. (The $\\mu \\mathrm{A}$ prefix denotes Fairchild's microcircuit fabrication of the amplifier.) This amplifier comes in various packages; for our purposes, we consider an eight-lead DIP. ${ }^{1}$ Figure 5.1 depicts a top view of the package, with terminal labels adjacent to each terminal. The key terminals are:\n\n- inverting input,\n- noninverting input,\n- output,\n- positive power supply $\\left(V^{+}\\right)$,\n- negative power supply $\\left(V^{-}\\right)$.\n\nThe other three terminals are generally less significant. The offset null terminals can be employed in auxiliary circuits to mitigate performance decline due to aging and imperfections. However, such decline is often minimal, rendering these terminals frequently unused and secondary in circuit analysis. Terminal 8 is irrelevant as it is designated NC (no connection), indicating it is not linked to the amplifier circuit.\n\nFigure 5.2 presents a commonly used circuit symbol for an op amp, highlighting the five primary terminals. Labeling terminals with words is impractical in circuit diagrams, so we adopt a simplified approach. The noninverting input is marked with a plus $(+)$, and the inverting input with a minus $(-)$. The power supply terminals, always depicted outside the triangle, are labeled $V^{+}$ and $V^{-}$. The terminal at the triangle's apex is universally recognized as the output. Figure 5.3 encapsulates these simplified labels."
},
{
    "text": "Given our focus on the terminal behavior of operational amplifiers (op amps), we start by examining the terminals on a commonly used device. In 1968, Fairchild Semiconductor launched an op amp that gained extensive popularity: the $\\mu \\mathrm{A} 741$. (The $\\mu \\mathrm{A}$ prefix denotes Fairchild's microcircuit fabrication of the amplifier.) This amplifier comes in various packages, but for our purposes, we consider an eight-lead DIP. ${ }^{1}$ Figure 5.1 illustrates a top view of the package, with terminal labels adjacent to each terminal. The key terminals are:\n\n- inverting input,\n- noninverting input,\n- output,\n- positive power supply $\\left(V^{+}\\right)$,\n- negative power supply $\\left(V^{-}\\right)$.\n\nThe other three terminals are generally insignificant. The offset null terminals can be employed in a supplementary circuit to mitigate performance decline due to aging and imperfections. However, such decline is usually minor, rendering the offset terminals often unused and secondary in circuit analysis. Terminal 8 is irrelevant as it is an unused terminal; NC denotes no connection, indicating it is not linked to the amplifier circuit.\n\nFigure 5.2 presents a commonly employed circuit symbol for an op amp, featuring the five primary terminals. Labeling terminals with words is impractical in circuit diagrams, so we adopt a simplified approach. The noninverting input is marked with a plus $(+)$, and the inverting input with a minus $(-)$. The power supply terminals, always depicted outside the triangle, are labeled $V^{+}$ and $V^{-}$. The terminal at the triangle's peak is universally recognized as the output terminal. Figure 5.3 encapsulates these simplified labels."
},
{
    "text": "Focusing on the terminal behavior of operational amplifiers (op amps), we start by examining the terminals of a widely-used commercial device. In 1968, Fairchild Semiconductor launched the $\\mu \\mathrm{A} 741$ op amp, which gained extensive popularity. (The $\\mu \\mathrm{A}$ prefix denotes Fairchild's microcircuit fabrication of the amplifier.) This amplifier comes in various packages, but for our purposes, we consider an eight-lead DIP. ${ }^{1}$ Figure 5.1 presents a top view of this package, with terminal labels adjacent to each terminal. The key terminals are:\n\n- inverting input,\n- noninverting input,\n- output,\n- positive power supply $\\left(V^{+}\\right)$,\n- negative power supply $\\left(V^{-}\\right)$.\n\nThe other three terminals are generally insignificant. The offset null terminals can be employed in auxiliary circuits to counteract performance decline due to aging and imperfections. However, such decline is usually minor, rendering these offset terminals often unused and secondary in circuit analysis. Terminal 8 is irrelevant as it is an unused terminal; NC denotes no connection, indicating it is not linked to the amplifier circuit.\n\nFigure 5.2 illustrates a commonly used circuit symbol for an op amp, highlighting the five primary terminals. Labeling terminals with words is impractical in circuit diagrams, so we adopt simplified designations. The noninverting input is marked with a plus $(+)$, and the inverting input with a minus $(-)$. The power supply terminals, always depicted outside the triangle, are labeled $V^{+}$ and $V^{-}$. The terminal at the triangle's apex is universally recognized as the output terminal. Figure 5.3 consolidates these simplified labels."
},
{
    "text": "Focusing on the terminal behavior of operational amplifiers (op amps), we start by examining the terminals of a widely used commercial device. In 1968, Fairchild Semiconductor introduced the $\\mu \\mathrm{A} 741$ op amp, which gained extensive popularity. (The $\\mu \\mathrm{A}$ prefix denotes Fairchild's microcircuit fabrication of the amplifier.) This amplifier comes in various packages, but we will consider the eight-lead DIP for our discussion. ${ }^{1}$ Figure 5.1 depicts a top view of this package, with terminal labels adjacent to each terminal. The key terminals are:\n\n- inverting input,\n- noninverting input,\n- output,\n- positive power supply $\\left(V^{+}\\right)$,\n- negative power supply $\\left(V^{-}\\right)$.\n\nThe other three terminals are generally insignificant. The offset null terminals can be utilized in auxiliary circuits to mitigate performance decline due to aging and imperfections. However, such decline is usually minimal, rendering these offset terminals often unused and secondary in circuit analysis. Terminal 8 is irrelevant as it is an unused terminal; NC denotes no connection, indicating it is not linked to the amplifier circuit.\n\nFigure 5.2 illustrates a commonly employed circuit symbol for an op amp, highlighting the five primary terminals. Labeling terminals with words is impractical in circuit diagrams, so we adopt a simplified approach. The noninverting input is marked with a plus $(+)$, and the inverting input with a minus $(-)$. The power supply terminals, always depicted outside the triangle, are labeled $V^{+}$ and $V^{-}$. The terminal at the triangle's apex is universally recognized as the output terminal. Figure 5.3 consolidates these simplified designations."
},
{
    "text": "Given our focus on the terminal behavior of operational amplifiers (op amps), we start by examining the terminals on a widely used commercial device. In 1968, Fairchild Semiconductor introduced the $\\mu \\mathrm{A} 741$ op amp, which gained extensive popularity. (The $\\mu \\mathrm{A}$ prefix denotes Fairchild's microcircuit fabrication of the amplifier.) This amplifier comes in various package types, but for our purposes, we consider an eight-lead DIP. ${ }^{1}$ Figure 5.1 depicts a top view of this package, with terminal labels adjacent to each terminal. The key terminals include:\n\n- inverting input,\n- noninverting input,\n- output,\n- positive power supply $\\left(V^{+}\\right)$,\n- negative power supply $\\left(V^{-}\\right)$.\n\nThe other three terminals are generally less significant. The offset null terminals can be utilized in auxiliary circuits to mitigate performance decline due to aging and imperfections. However, such decline is often minimal, rendering these offset terminals frequently unused and secondary in circuit analysis. Terminal 8 is irrelevant as it is an unused terminal; NC denotes no connection, indicating it is not linked to the amplifier circuit.\n\nFigure 5.2 illustrates a commonly employed circuit symbol for an op amp, highlighting the five primary terminals. Using textual labels for these terminals in circuit diagrams is impractical, so we adopt simplified designations. The noninverting input is marked with a plus $(+)$, and the inverting input with a minus $(-)$. The power supply terminals, always depicted outside the triangle, are labeled $V^{+}$ and $V^{-}$. The terminal at the triangle's apex is universally recognized as the output terminal. Figure 5.3 consolidates these simplified labels."
},
{
    "text": "Given our focus on the terminal behavior of operational amplifiers (op amps), we initiate our discussion with the terminals of a widely adopted commercial device. In 1968, Fairchild Semiconductor launched the $\\mu \\mathrm{A} 741$ op amp, which gained extensive recognition. (The $\\mu \\mathrm{A}$ prefix denotes Fairchild's microcircuit fabrication of the amplifier.) This amplifier comes in various package types, but for our purposes, we consider the eight-lead DIP. ${ }^{1}$ Figure 5.1 depicts a top-down view of this package, with terminal labels adjacent to each terminal. The key terminals are:\n\n- inverting input,\n- noninverting input,\n- output,\n- positive power supply $\\left(V^{+}\\right)$,\n- negative power supply $\\left(V^{-}\\right)$.\n\nThe other three terminals are generally insignificant. The offset null terminals can be employed in auxiliary circuits to mitigate performance decline due to aging and imperfections. However, such decline is often minimal, rendering these offset terminals typically unused and secondary in circuit analysis. Terminal 8 is irrelevant as it is an unused terminal; NC signifies no connection, indicating it is not linked to the amplifier circuit.\n\nFigure 5.2 illustrates a commonly used circuit symbol for an op amp, highlighting the five principal terminals. Labeling terminals with words is cumbersome in circuit diagrams, so we adopt a simplified notation. The noninverting input is marked with a plus $(+)$, and the inverting input with a minus $(-)$. The power supply terminals, always depicted outside the triangle, are labeled $V^{+}$ and $V^{-}$. The terminal at the triangle's peak is universally recognized as the output terminal. Figure 5.3 encapsulates these simplified designations."
},
{
    "text": "We are set to discuss the terminal voltages and currents employed to depict the operational amplifier's behavior. Voltage measurements are taken relative to a common reference node, as depicted in Figure 5.4, which illustrates these voltage variables along with their respective polarities.\n\nAccording to the node-voltage analysis methodology, all voltages are perceived as increments from the common node. A positive supply voltage (\\(V_{CC}\\)) is linked between \\(V^{+}\\) and the common node, while a negative supply voltage (\\(-V_{CC}\\)) is connected between \\(V^{-}\\) and the common node. The voltage between the inverting input terminal and the common node is denoted as \\(v_n\\), between the non-inverting input terminal and the common node as \\(v_p\\), and between the output terminal and the common node as \\(v_o\\).\n\nFigure 5.5 delineates the current variables with their respective reference directions. It's important to note that all current reference directions point towards the operational amplifier's terminals: \\(i_n\\) is the current into the inverting input terminal, \\(i_p\\) into the non-inverting input terminal, and \\(i_o\\) into the output terminal. \\(i_{c^{+}}\\) is the current into the positive power supply terminal, and \\(i_{c^{-}}\\) into the negative power supply terminal.\n\nThe operational amplifier's terminal behavior as a linear circuit element is defined by limitations on the input voltages and currents. The voltage constraint is inferred from the operational amplifier integrated circuit's voltage transfer characteristic, as shown in Figure 5.6.\n\nThe voltage transfer characteristic delineates how the output voltage fluctuates as a function of the input voltages, that is, how voltage is conveyed from input to output. It's noteworthy that the operational amplifier's output voltage is a function of the input voltage difference, \\(v_p - v_n\\). The equation for the voltage transfer characteristic is given by Equation 5.1.\n\nAs depicted in Figure 5.6 and defined by Equation 5.1, the operational amplifier exhibits three distinct operational regions. When the input voltage difference magnitude (\\(|v_p - v_n|\\)) is minimal, the operational amplifier acts linearly, with the output voltage being a linear function of the input voltages. Beyond this linear region, the operational amplifier's output saturates, and it behaves nonlinearly since the output voltage is no longer linearly dependent on the input voltages. In its linear operation, the operational amplifier's output voltage is equivalent to the input voltage difference multiplied by the gain, \\(A\\).\n\nWhen restricting the operational amplifier to its linear operational region, a constraint is imposed on the input voltages, \\(v_p\\) and \\(v_n\\). This constraint is grounded in typical \\(V_{CC}\\) and \\(A\\) values as per Equation 5.1. For most operational amplifiers, the recommended direct current power supply voltages rarely exceed 20 V, and the gain, \\(A\\), is seldom less than 10,000 or \\(10^4\\). As indicated in Figure 5.6 and Equation 5.1, within the linear region, the input voltage difference magnitude (\\(|v_p - v_n|\\)) must be less than \\(20 / 10^4\\) or 2 mV.\n\nOrdinarily, node voltages in the circuits under study are significantly greater than 2 mV. Hence, a voltage difference of less than 2 mV suggests that the two voltages are essentially equal. Thus, when an operational amplifier is confined to its linear operational region and the node voltages are much larger than 2 mV, the constraint on the operational amplifier's input voltages is given by Equation 5.2.\n\nEquation 5.2 defines the relationship between the input voltages for an ideal operational amplifierone with an infinite \\(A\\) value. This input voltage constraint is known as the virtual short condition at the operational amplifier's input. The mechanism ensuring the virtual short at the input when the operational amplifier is integrated into a circuit, thereby guaranteeing linear operation, is the feedback signal from the output terminal to the inverting input terminal. This arrangement is known as negative feedback since the feedback signal reduces the input signal. Negative feedback diminishes the input voltage difference, and because the output voltage is proportional to this difference, the output voltage is reduced, keeping the operational amplifier in its linear region.\n\nWithout a negative feedback path from the operational amplifier's output to its inverting input in a circuit containing an operational amplifier, the operational amplifier will typically saturate. The input signal difference must be exceedingly small to prevent saturation without negative feedback. However, even with a negative feedback path, linear operation is not guaranteed. We verify whether the operational amplifier operates in its linear region by assuming linear operation, conducting the circuit analysis, and subsequently checking for contradictions.\n\nFor instance, if we assume that an operational amplifier in a circuit operates linearly and calculate its output voltage to be 10 V, but upon examining the circuit, we find that \\(V_{CC}\\) is 6 V, a contradiction arises because the operational amplifier's output voltage cannot exceed \\(V_{CC}\\). Hence, our assumption of linear operation is erroneous, and the operational amplifier's output must be saturated at 6 V.\n\nThe input voltage constraint in Equation 5.2 is predicated on the operational amplifier integrated circuit's voltage transfer characteristic, the supposition that the operational amplifier is limited to its linear operational region, and typical \\(V_{CC}\\) and \\(A\\) values. Equation 5.2 delineates the voltage constraint for an ideal operational amplifier, i.e., one with an infinite \\(A\\) value.\n\nOur focus now shifts to the constraint on the input currents. An analysis of the operational amplifier integrated circuit reveals that the equivalent resistance perceived by the input terminals is exceedingly high, usually \\(1 \\mathrm{M}\\Omega\\) or more. Ideally, this equivalent input resistance is infinite, leading to the current constraint in Equation 5.3.\n\nThis current constraint is not predicated on the assumption that the operational amplifier is confined to its linear operational region, unlike the voltage constraint. Equations 5.2 and 5.3 collectively define the terminal behavior constraints characterizing our ideal operational amplifier model.\n\nFrom Kirchhoff's current law, we discern that the sum of the currents entering the operational amplifier is zero, as expressed in Equation 5.4. Substituting the constraint from Equation 5.3 into Equation 5.4 yields Equation 5.5. Equation 5.5's significance lies in the fact that, despite negligible current at the input terminals, the output terminal may still exhibit significant current.\n\nBefore delving into the analysis of circuits containing operational amplifiers, let's further streamline the circuit symbol. When we ascertain that the amplifier operates within its linear region, the direct current voltages \\(\\pm V_{CC}\\) are irrelevant to the circuit equations.\n\nUnder these circumstances, we can eliminate the power supply terminals from the symbol and the direct current power supplies from the circuit, as demonstrated in Figure 5.7. A word of caution: The omission of the power supply terminals from the symbol might mislead one to infer that \\(i_p + i_n + i_o = 0\\). However, as previously mentioned, this is not the case; the correct relation is \\(i_p + i_n + i_o + i_{c^{+}} + i_{c^{-}} = 0\\). In other words, the ideal operational amplifier model's constraint \\(i_p = i_n = 0\\) does not imply \\(i_o = 0\\).\n\nIt's important to note that the positive and negative power supply voltages need not be of equal magnitude. In the linear operational region, \\(v_o\\) must lie between the two supply voltages. For instance, if \\(V^{+} = 15 \\mathrm{~V}\\) and \\(V^{-} = -10 \\mathrm{~V}\\), then \\(-10 \\mathrm{~V} \\leq v_o \\leq 15 \\mathrm{~V}\\). Additionally, be mindful that the \\(A\\) value is not constant under all operating conditions. For the time being, however, we assume it to be constant. A detailed discussion of how and why the \\(A\\) value can fluctuate must be deferred until after you have examined the electronic devices and components used in amplifier fabrication.\n\nExample 5.1 showcasesifies the judicious application of Equations 5.2 and 5.3. When these\nWe apologize\nThe apologize, the confusion earlier. Here is the rephrased text as maintaining the original meaning and length:\n\n requested:\n\nWe are poised\nWe, here is the rephrased text:\n\nWe are poised to delve into the terminal voltages and currents that deline the operational amplifier's behavior. These voltage readings are taken\nWe are poised to delve the terminal voltages and currents that define the operational amplifier's operation. These voltage readings\nWe are set to discuss the terminal voltages and currents that define the operational amplifier's behavior. These voltage"
},
{
    "text": "We are set to discuss the terminal voltages and currents, which are essential in describing the operational amplifier's (op amp) behavior. Voltage measurements are taken with respect to a common reference node, as depicted in Figure 5.4, which illustrates these voltage variables alongside their reference polarities.\n\nAccording to the convention, similar to the node-voltage analysis method, all voltages are understood as the rise from the common node. A positive supply voltage ($V_{CC}$) is linked between the $V^{+}$ terminal and the common node, whereas a negative supply voltage ($-V_{CC}$) is connected between the $V^{-}$ terminal and the common node. The voltage measured from the inverting input terminal to the common node is labeled as $v_{n}$, and the voltage from the noninverting input terminal to the common node is marked as $v_{p}$. Lastly, the voltage from the output terminal to the common node is denoted by $v_{o}$.\n\nFigure 5.5 presents the current variables and their respective reference directions. It is important to note that all current directions are into the op amp's terminals: $i_{n}$ represents the current flowing into the inverting input terminal; $i_{p}$ is the current entering the noninverting input terminal; $i_{o}$ is the current heading into the output terminal; $i_{c^{+}}$ is the current going into the positive power supply terminal; and $i_{c^{-}}$ is the current moving into the negative power supply terminal.\n\nThe linear circuit behavior of the op amp is defined by constraints on the input voltages and currents. The voltage constraint arises from the op amp integrated circuit's voltage transfer characteristic, as shown in Figure 5.6.\n\nThis characteristic illustrates how the output voltage ($v_{o}$) changes in response to the input voltages' difference ($v_{p}-v_{n}$). For the op amp, the output voltage is dependent on this differential input voltage. The equation for the voltage transfer characteristic is expressed in Equation 5.1.\n\nIt is evident from Figure 5.6 and Equation 5.1 that the op amp operates in three distinct regions. When the difference in input voltages is small, the op amp acts as a linear device since the output voltage is directly proportional to the input voltages. Beyond this linear range, the op amp's output saturates, behaving nonlinearly, as the output voltage is no longer a linear function of the input voltages. In linear operation, the op amp's output voltage is the product of the input voltage difference and the amplification constant, or gain, $A$.\n\nLimiting the op amp to its linear region imposes constraints on the input voltages, $v_{p}$ and $v_{n}$. Based on typical values for $V_{CC}$ and $A$, this constraint dictates that for most op amps, the recommended direct current (dc) power supply voltages rarely exceed 20 V, and the gain, $A$, is usually not less than 10,000 or $10^{4}$. Therefore, in the linear region, the magnitude of the input voltage difference must be less than $20 / 10^{4}$, which is 2 mV.\n\nGiven that node voltages in the circuits we examine are often significantly greater than 2 mV, a voltage difference of less than 2 mV implies that the two voltages are essentially equal. Consequently, when an op amp is restricted to its linear operating region and the node voltages are much larger than 2 mV, the constraint on the input voltages of the op amp becomes $v_{p}=v_{n}$, as stated in Equation 5.2.\n\nThis equation represents the relationship between the input voltages for an ideal op amp, one with an infinite value of $A$. The input voltage constraint in Equation 5.2 is referred to as the virtual short condition at the op amp's input.\n\nIt is logical to question how the virtual short is sustained at the input of the op amp when integrated into a circuit, thus ensuring linear operation. The mechanism involves feeding back a signal from the output terminal to the inverting input terminal, creating a configuration known as negative feedback. This negative feedback reduces the input voltage difference, and since the output voltage is proportional to this difference, it too decreases, allowing the op amp to function linearly.\n\nIn circuits without a negative feedback path from the op amp output to the inverting input, the op amp will typically saturate. For saturation to be avoided without negative feedback, the input signals' difference must be exceedingly small. However, even with a negative feedback path, linear operation is not guaranteed. We determine whether the op amp is operating linearly by assuming linear operation, conducting the circuit analysis, and subsequently checking for contradictions. For instance, if we assume an op amp in a circuit is operating linearly and calculate an output voltage of 10 V, but upon examining the circuit, we find that $V_{CC}$ is only 6 V, we encounter a contradiction because the op amp's output voltage cannot exceed $V_{CC}$. Thus, our assumption of linear operation is incorrect, and the op amp's output must be saturated at 6 V.\n\nThe input voltage constraint in Equation 5.2 is based on the op amp integrated circuit's voltage transfer characteristic and the assumption of linear operation within typical values for $V_{CC}$ and $A$. This equation characterizes the voltage constraint for an ideal op amp, implying an infinite $A$ value.\n\nNow, let's consider the constraint on the input currents. The analysis of the op amp integrated circuit reveals that the equivalent resistance seen at the input terminals is very high, typically $1 \\mathrm{M} \\Omega$ or greater. Ideally, this equivalent input resistance is infinite, leading to the current constraint expressed in Equation 5.3, $i_{p}=i_{n}=0$.\n\nIt is important to note that the current constraint is not derived from the assumption of the op amp being restricted to its linear operating region, unlike the voltage constraint. Equations 5.2 and 5.3 together form the terminal behavior constraints that define our ideal op amp model.\n\nKirchhoff's current law tells us that the sum of the currents entering the operational amplifier is zero, as shown in Equation 5.4. Substituting the current constraint from Equation 5.3 into Equation 5.4 yields Equation 5.5, which indicates that even though the current at the input terminals is negligible, there may still be a significant current at the output terminal.\n\nBefore analyzing circuits containing op amps, we simplify the circuit symbol further. When we are certain that the amplifier is operating within its linear region, the dc voltages $\\pm V_{CC}$ do not factor into the circuit equations. In such cases, we can omit the power supply terminals from the symbol and remove the dc power supplies from the circuit, as shown in Figure 5.7. However, it is crucial to remember that the absence of power supply terminals in the symbol does not imply that $i_{p}+i_{n}+i_{o}=0$. As previously stated, the ideal op amp model constraint that $i_{p}=i_{n}=0$ does not mean that $i_{o}=0$.\n\nIt is also important to realize that the positive and negative power supply voltages need not be of equal magnitude. In the linear operating region, $v_{o}$ must remain between the two supply voltages. For example, if $V^{+}=15 \\mathrm{~V}$ and $V^{-}=-10 \\mathrm{~V}$, then $-10 \\mathrm{~V} \\leq v_{o} \\leq 15 \\mathrm{~V}$. Furthermore, the value of $A$ is not constant under all operating conditions, but for the purposes of our current discussion, we assume it remains constant. A detailed explanation of the factors influencing the value of $A$ will be provided after studying the electronic devices and components used to construct amplifiers.\n\nExample 5.1 demonstrates the application of Equations 5.2 and 5.3 in predicting the behavior of a circuit containing an op amp. When using these equations, we are essentially employing an ideal model of the device to analyze the circuit.\n\n#### Example 5.1: Analyzing an Op Amp Circuit\n\nThe op amp in the circuit depicted in Figure 5.8 is considered ideal.\n\na) Calculate $v_{o}$ if $v_{\\mathrm{a}}=1 \\mathrm{~V}$ and $v_{\\mathrm{b}}=0 \\mathrm{~V}$.\n\nb) Repeat the calculation for $v_{\\mathrm{a}}=1 \\mathrm{~V}$ and $v_{\\mathrm{b}}=2 \\mathrm{~V}$.\n\nc) If $v_{\\mathrm{a}}=1.5 \\mathrm{~V}$, specify the range of $v_{\\mathrm{b}}$ that avoids amplifier saturation.\n\nFigure 5.8 illustrates the circuit for Example 5.1.\n\n#### Solution\n\na) Given the presence of a negative feedback path from the op amp's output to its inverting input through the $100 \\mathrm{k} \\Omega$ resistor, we assume the op amp operates within its linear region. We can write a node-voltage equation at the inverting input terminal. The voltage at the inverting input terminal is 0, as $v_{p}=v_{\\mathrm{b}}=0$ from the connected voltage source, and $v_{n}=v_{p}$ from the voltage constraint Equation 5.2. The node-voltage equation at $v_{n}$ is therefore:\n\n$$\ni_{25}=i_{100}=i_{n}\n$$\n\nUsing Ohm's law, we have:\n\n$$\n\\begin{aligned}\ni_{25} & =\\left(v_{\\mathrm{a}}-v_{n}\\right) / 25=\\frac{1}{25} \\mathrm{~mA} \\\\\ni_{100} & =\\left(v_{o}-v_{n}\\right) / 100=v_{o} / 100 \\mathrm{~mA}\n\\end{aligned}\n$$\n\nThe current constraint dictates that $i_{n}=0$. Substituting the values for the three currents into the node-voltage equation, we find:\n\n$$\n\\frac{1}{25}+\\frac{v_{o}}{100}=0\n$$\n\nHence, $v_{o}$ is -4 V. Note that because $v_{o}$ lies between $\\pm 10 \\mathrm{~V}$, the op amp is in its linear region of operation.\n\nb) Following the same process as in part (a), we obtain:\n\n$$\n\\begin{aligned}\nv_{p} & =v_{\\mathrm{b}}=v_{n}=2 \\mathrm{~V} \\\\\ni_{25} & =\\frac{v_{\\mathrm{a}}-v_{n}}{25}=\\frac{1-2}{25}=-\\frac{1}{25} \\mathrm{~mA} \\\\\ni_{100} & =\\frac{v_{o}-v_{n}}{100}=\\frac{v_{o}-2}{100} \\mathrm{~mA} \\\\\ni_{25} & =-i_{100}\n\\end{aligned}\n$$\n\nThus, $v_{o}=6 \\mathrm{~V}$. Once again, $v_{o}$ remains within $\\pm 10 \\mathrm{~V}$.\n\nc) With $v_{n}=v_{p}=v_{\\mathrm{b}}$ and $i_{25}=-i_{100}$, and considering $v_{\\mathrm{a}}=1.5 \\mathrm{~V}$, we have:\n\n$$\n\\frac{1.5-v_{\\mathrm{b}}}{25}=-\\frac{v_{o}-v_{\\mathrm{b}}}{100}\n$$\n\nSolving for $v_{\\mathrm{b}}$ in terms of $v_{o}$ gives:\n\n$$\nv_{\\mathrm{b}}=\\frac{1}{5}\\left(6+v_{o}\\right)\n$$\n\nSubstituting the limits on $v_{o}$ into the expression for $v_{\\mathrm{b}}$, we find that $v_{\\mathrm{b}}$ is constrained to:\n\n$$\n-0.8 \\mathrm{~V} \\leq v_{\\mathrm{b}} \\leq 3.2 \\mathrm{~V}\n$$\n\nGiven that the amplifier operates within the linear region, $-10 \\mathrm{~V} \\leq v_{o} \\leq 10 \\mathrm{~V}$.\n\n#### Assessment Problem\n\nObjective 1: Utilize voltage and current constraints in an ideal op amp.\n\n5.1 Assume that the op amp in the circuit shown is ideal.\n\na) Calculate $v_{o}$ for the following values of $v_{s}$: $0.4, 2.0, 3.5, -0.6, -1.6$, and -2.4 V.\n\nb) Specify the range of $v_{s}$ required to prevent amplifier saturation.\n\nFigure X presents the circuit for this assessment problem.\n\n#### Answer\n\na) The calculated values for $v_{o}$ are: -2, -10, -15, 3, 8, and 10 V.\n\nb) The range of $v_{s}$ to avoid saturation is $-2 \\mathrm{~V} \\leq v_{s} \\leq 3 \\mathrm{~V}$.\n\n#### Additional Problems\n\nNote: Also try Chapter Problems 5.1, 5.4, and 5.5.\n\nFigure 5.9 shows another inverting-amplifier circuit for further analysis."
},
{
    "text": "We are set to delineate the terminal voltages and currents that depict the operational amplifier's conduct. These voltage measurementsoriginate from a shared reference node. As depicted in Figure 5.4, the voltage variables and their respective polarities are illustrated.\n\nIt is understood that all voltages are measured as they ascend from the common node. This practice aligns with the node-voltage analysis methodology. A positive supply voltage ($V_{CC}$) is linked between the non-inverting input ($V^{+}$) and the common node, whereas a negative supply voltage ($-V_{CC}$) is linked between the inverting input ($V^{-}$) and the common node. The voltage measured between the inverting input terminal and the common node is denoted as $v_{n}$. The voltage between the non-inverting input terminal and the common node is indicated as $v_{p}$. Lastly, the voltage between the output terminal and the common node is denoted as $v_{o}$.\n\nFigure 5.5 exhibits the current variables along with their respective reference directions. It's important to note that all current reference directions point towards the operational amplifier's terminals: $i_{n}$ signifies the current flowing into the inverting input terminal; $i_{p}$ is the current into the non-inverting input terminal; $i_{o}$ is the current into the output terminal; $i_{c^{+}}$ represents the current into the positive power supply terminal; and $i_{c^{-}}$ is the current into the negative power supply terminal.\n\nThe operational amplifier's terminal behavior as a linear circuit element is defined by limitations on both the input voltages and input input currents. These voltage constraint is inferred from the operational amplifier's voltage transfer characteristic, as presented in Figure 5.6.\n\nThis voltage transfer characteristic delineates how the output voltage transforms in relation to the input voltages' that other words, it describes the manner in which voltage is conveyed from the input to the output. It is essential that, for the operational amplifier, the output voltage is dependent on the differential\ndifference terminal\nCertainly voltages and currents are now to understanding\nWe the operational voltages and currents is crucial for describing the operational amplifier's behavior. Voltage voltage measurements are taken with respect to a common reference node, Figure shown in Figure 5.4, the voltage variables and depicted along with their reference polarities.\n\nIn voltages are considered\nWe are now\nprepared, to delve the terminal voltages and currents that characterize the operational amplifier's behavior. with voltage measurements referenced from a shared reference node. Figure illustrated in Figure 5.4, the voltage variables and their reference\nWe're set to delve into the terminal voltages and currents that which are fundamental for characterizing the operational amplifier's behavior. These voltages are measured relative to a common reference node, Figure 5.4 illustrates the voltage variables along their respective reference\nWe are set to explore\nWe the terminal voltages and currents that which are fundamental\nWe are poised\nSet\nSet are poised\nNow\nSet to"
},
{
    "text": "We are prepared to introduce the terminal voltages and currents used to describe the behavior of the op amp. The voltage variables are measured from a common reference node. Figure 5.4 shows the voltage variables with their reference polarities.\n\nAll voltages are considered as voltage rises from the common node. This convention is the same as that used in the node-voltage method of analysis. A positive supply voltage (V_CC) is connected between V+ and the common node. A negative supply voltage (-V_CC) is connected between V- and the common node. The voltage between the inverting input terminal and the common node is denoted v_n. The voltage between the noninverting input terminal and the common node is designated as v_p. The voltage between the output terminal and the common node is denoted v_o.\n\nFigure 5.5 shows the current variables with their reference directions. Note that all the current reference directions are into the terminals of the operational amplifier: i_n is the current into the inverting input terminal; i_p is the current into the noninverting input terminal; i_o is the current into the output terminal; i_c+ is the current into the positive power supply terminal; and i_c- is the current into the negative power supply terminal.\n\nThe terminal behavior of the op amp as a linear circuit element is characterized by constraints on the input voltages and the input currents. The voltage constraint is derived from the voltage transfer characteristic of the op amp integrated circuit and is pictured in Fig. 5.6.\n\nThe voltage transfer characteristic describes how the output voltage varies as a function of the input voltages; that is, how voltage is transferred from the input to the output. Note that for the op amp, the output voltage is a function of the difference between the input voltages, v_p - v_n. The equation for the voltage transfer characteristic is:\n\nv_o = \n\\begin{cases}\n-V_{CC} & A(v_p-v_n) < -V_{CC} \\\\\nA(v_p-v_n) & -V_{CC} \\leq A(v_p-v_n) \\leq +V_{CC} \\\\\n+V_{CC} & A(v_p-v_n) > +V_{CC}\n\\end{cases}\n\nWe see from Fig. 5.6 and Eq. 5.1 that the op amp has three distinct regions of operation. When the magnitude of the input voltage difference (|v_p-v_n|) is small, the op amp behaves as a linear device, as the output voltage is a linear function of the input voltages. Outside this linear region, the output of the op amp saturates, and the op amp behaves as a nonlinear device, because the output voltage is no longer a linear function of the input voltages. When it is operating linearly, the op amp's output voltage is equal to the difference in its input voltages times the multiplying constant, or gain, A.\n\nWhen we confine the op amp to its linear operating region, a constraint is imposed on the input voltages, v_p and v_n. The constraint is based on typical numerical values for V_CC and A in Eq. 5.1. For most op amps, the recommended dc power supply voltages seldom exceed 20 V, and the gain, A, is rarely less than 10,000, or 10^4. We see from both Fig. 5.6 and Eq. 5.1 that in the linear region, the magnitude of the input voltage difference (|v_p-v_n|) must be less than 20 / 10^4, or 2 mV.\n\nTypically, node voltages in the circuits we study are much larger than 2 mV, so a voltage difference of less than 2 mV means the two voltages are essentially equal. Thus, when an op amp is constrained to its linear operating region and the node voltages are much larger than 2 mV, the constraint on the input voltages of the op amp is:\n\nv_p = v_n\n\nNote that Eq. 5.2 characterizes the relationship between the input voltages for an ideal op amp; that is, an op amp whose value of A is infinite.\n\nThe input voltage constraint in Eq. 5.2 is called the virtual short condition at the input of the op amp. It is natural to ask how the virtual short is maintained at the input of the op amp when the op amp is embedded in a circuit, thus ensuring linear operation. The answer is that a signal is fed back from the output terminal to the inverting input terminal. This configuration is known as negative feedback because the signal fed back from the output subtracts from the input signal. The negative feedback causes the input voltage difference to decrease. Because the output voltage is proportional to the input voltage difference, the output voltage is also decreased, and the op amp operates in its linear region.\n\nIf a circuit containing an op amp does not provide a negative feedback path from the op amp output to the inverting input, then the op amp will normally saturate. The difference in the input signals must be extremely small to prevent saturation with no negative feedback. But even if the circuit provides a negative feedback path for the op amp, linear operation is not ensured. So how do we know whether the op amp is operating in its linear region?\n\nThe answer is, we don't! We deal with this dilemma by assuming linear operation, performing the circuit analysis, and then checking our results for contradictions. For example, suppose we assume that an op amp in a circuit is operating in its linear region, and we compute the output voltage of the op amp to be 10 V. On examining the circuit, we discover that V_CC is 6 V, resulting in a contradiction, because the op amp's output voltage can be no larger than V_CC. Thus our assumption of linear operation was invalid, and the op amp output must be saturated at 6 V.\n\nWe have identified a constraint on the input voltages that is based on the voltage transfer characteristic of the op amp integrated circuit, the assumption that the op amp is restricted to its linear operating region and to typical values for V_CC and A. Equation 5.2 represents the voltage constraint for an ideal op amp, that is, with a value of A that is infinite.\n\nWe now turn our attention to the constraint on the input currents. Analysis of the op amp integrated circuit reveals that the equivalent resistance seen by the input terminals of the op amp is very large, typically 1 M or more. Ideally, the equivalent input resistance is infinite, resulting in the current constraint:\n\ni_p = i_n = 0\n\nNote that the current constraint is not based on assuming the op amp is confined to its linear operating region as was the voltage constraint. Together, Eqs. 5.2 and 5.3 form the constraints on terminal behavior that define our ideal op amp model.\n\nFrom Kirchhoff's current law we know that the sum of the currents entering the operational amplifier is zero, or:\n\ni_p + i_n + i_o + i_c+ + i_c- = 0\n\nSubstituting the constraint given by Eq. 5.3 into Eq. 5.4 gives:\n\ni_o = -(i_c+ + i_c-)\n\nThe significance of Eq. 5.5 is that, even though the current at the input terminals is negligible, there may still be appreciable current at the output terminal.\n\nBefore we start analyzing circuits containing op amps, let's further simplify the circuit symbol. When we know that the amplifier is operating within its linear region, the dc voltages V_CC do not enter into the circuit equations.\n\nIn this case, we can remove the power supply terminals from the symbol and the dc power supplies from the circuit, as shown in Fig. 5.7. A word of caution: Because the power supply terminals have been omitted, there is a danger of inferring from the symbol that i_p + i_n + i_o = 0. We have already noted that such is not the case; that is, i_p + i_n + i_o + i_c+ + i_c- = 0. In other words, the ideal op amp model constraint that i_p = i_n = 0 does not imply that i_o = 0.\n\nNote that the positive and negative power supply voltages do not have to be equal in magnitude. In the linear operating region, v_o must lie between the two supply voltages. For example, if V+ = 15 V and V- = -10 V, then -10 V  v_o  15 V. Be aware also that the value of A is not constant under all operating conditions. For now, however, we assume that it is. A discussion of how and why the value of A can change must be delayed until after you have studied the electronic devices and components used to fabricate an amplifier.\n\nExample 5.1 illustrates the judicious application of Eqs. 5.2 and 5.3. When we use these equations to predict the behavior of a circuit containing an op amp, in effect we are using an ideal model of the device.\n\nFigure 5.7 A The op amp symbol with the power supply terminals removed.\n\n#### Example 5.1 Analyzing an Op Amp Circuit\n\nThe op amp in the circuit shown in Fig. 5.8 is ideal.\n\na) Calculate v_o if v_a = 1 V and v_b = 0 V.\n\nb) Repeat (a) for v_a = 1 V and v_b = 2 V.\n\nc) If v_a = 1.5 V, specify the range of v_b that avoids amplifier saturation.\n\nFigure 5.8  The circuit for Example 5.1.\n\n#### Solution\n\na) Because a negative feedback path exists from the op amp's output to its inverting input through the 100 k resistor, let's assume the op amp is confined to its linear operating region. We can write a node-voltage equation at the inverting input terminal. The voltage at the inverting input terminal is 0, as v_p = v_b = 0 from the connected voltage source, and v_n = v_p from the voltage constraint Eq. 5.2. The node-voltage equation at v_n is thus:\n\ni_{25} = i_{100} = i_n\n\nFrom Ohm's law:\n\n\\begin{aligned}\ni_{25} & = (v_a - v_n) / 25 = \\frac{1}{25} \\text{ mA} \\\\\ni_{100} & = (v_o - v_n) / 100 = v_o / 100 \\text{ mA}\n\\end{aligned}\n\nThe current constraint requires i_n = 0. Substituting the values for the three currents into the node-voltage equation, we obtain:\n\n\\frac{1}{25} + \\frac{v_o}{100} = 0\n\nHence, v_o is -4 V. Note that because v_o lies between 10 V, the op amp is in its linear region of operation.\n\nb) Using the same process as in (a), we get:\n\n\\begin{aligned}\nv_p & = v_b = v_n = 2 \\text{ V} \\\\\ni_{25} & = \\frac{v_a - v_n}{25} = \\frac{1 - 2}{25} = -\\frac{1}{25} \\text{ mA} \\\\\ni_{100} & = \\frac{v_o - v_n}{100} = \\frac{v_o - 2}{100} \\text{ mA} \\\\\ni_{25} & = -i_{100}\n\\end{aligned}\n\nTherefore, v_o = 6 V. Again, v_o lies within 10 V.\n\nc) As before, v_n = v_p = v_b, and i_{25} = -i_{100}. Because v_a = 1.5 V,\n\n\\frac{1.5 - v_b}{25} = -\\frac{v_o - v_b}{100}\n\nSolving for v_b as a function of v_o gives:\n\nv_b = \\frac{1}{5}(6 + v_o)\n\nSubstituting these limits on v_o into the expression for v_b, we see that v_b is limited to:\n\n-0.8 V  v_b  3.2 V\n\nNow, if the amplifier is to be within the linear region of operation, -10 V  v_o  10 V.\n\n#### ASSESSMENT PROBLEM\n\nObjective 1-Use voltage and current constraints in an ideal op amp\n\n5.1 Assume that the op amp in the circuit shown is ideal.\n\na) Calculate v_o for the following values of v_s: 0.4, 2.0, 3.5, -0.6, -1.6, and -2.4 V.\n\nb) Specify the range of v_s required to avoid amplifier saturation.\n\nAnswer: (a) -2, -10, -15, 3, 8, and 10 V; (b) -2 V  v_s  3 V.\n\nFigure 5.9  An inverting-amplifier circuit."
},
{
    "text": "We are set to delve into the voltages and currents at the terminals, which are pivotal in depicting the operational amplifier's behavior. These voltages are gauged from a standard reference node. As illustrated in Figure 5.4, the voltages and their respective polarities are depicted.\n\nAll voltages are perceived as increases from the common node, adhering to the node-voltage analysis convention. A positive supply voltage (\\(V_{CC}\\)) is linked between \\(V^{+}\\) and the common node, while a negative supply voltage (\\(-V_{CC}\\)) connects \\(V^{-}\\) to the common node. The voltage across the inverting input terminal and the common node is indicated as \\(v_{n}\\). Between the non-inverting input terminal and the common node, the voltage is marked as \\(v_{p}\\). The voltage from the output terminal to the common node is denoted as \\(v_{o}\\).\n\nFigure 5.5 presents the currents at the terminals along with their directional references. It's important to note that the directional references for all currents are towards the operational amplifier's terminals: \\(i_{n}\\) signifies the current into the inverting input terminal, \\(i_{p}\\) into the non-inverting input terminal, \\(i_{o}\\) into the output terminal, \\(i_{c^{+}}\\) into the positive power supply terminal, and \\(i_{c^{-}}\\) into the negative power supply terminal.\n\nThe operational amplifier's terminal behavior as a linear circuit element is defined by limitations on the input voltages and currents. The voltage constraint arises from the op amp's voltage transfer characteristics, as depicted in Figure 5.6.\n\nThis characteristic describes how the output voltage varies depending on the input voltages; in other words, it illustrates the transfer of voltage from input to output. For an op amp, the output voltage depends on the input voltage difference (\\(v_{p} - v_{n}\\)). The equation for the voltage transfer characteristic is expressed as:\n\n\\[\nv_{o} = \n\\begin{cases}\n-V_{CC} & A(v_{p} - v_{n}) < -V_{CC} \\\\\nA(v_{p} - v_{n}) & -V_{CC} \\leq A(v_{p} - v_{n}) \\leq +V_{CC} \\\\\n+V_{CC} & A(v_{p} - v_{n}) > +V_{CC}\n\\end{cases}\n\\]\n\nFrom Figure 5.6 and Equation 5.1, it is evident that the op amp exhibits three distinct operational regions. When the input voltage difference (\\(|v_{p} - v_{n}|\\)) is minimal, the op amp behaves linearly, with the output voltage being a direct function of the input voltages. Beyond this linear range, the output saturates, indicating non-linear behavior as the output voltage is no longer directly proportional to the input voltages. In linear operation, the output voltage is the product of the input voltage difference and the gain \\(A\\).\n\nWhen restricting the op amp to its linear region, constraints on the input voltages (\\(v_{p}\\) and \\(v_{n}\\)) arise. Based on typical values for \\(V_{CC}\\) and \\(A\\) in Equation 5.1, for most op amps, the recommended DC power supply voltages are usually not more than 20 V, and the gain \\(A\\) is rarely less than 10,000 or \\(10^{4}\\). In the linear region, as depicted in Figure 5.6 and Equation 5.1, the input voltage difference magnitude (\\(|v_{p} - v_{n}|\\)) must be less than \\(20 / 10^{4}\\) or 2 mV.\n\nOrdinarily, the node voltages in the circuits under study are much greater than 2 mV, rendering a voltage difference of less than 2 mV negligible, implying the two voltages are essentially the same. Hence, when the op amp is confined to its linear region and node voltages significantly exceed 2 mV, the constraint on the input voltages of the op amp simplifies to:\n\n\\[\nv_{p} = v_{n}\n\\]\n\nThis equation characterizes the relationship between the input voltages for an ideal op ampone with an infinite \\(A\\) value.\n\nThe input voltage constraint in Equation 5.2 is referred to as the virtual short condition at the input of the op amp. The maintenance of this virtual short at the input of an op amp within a circuit ensures linear operation, achieved through a feedback signal from the output terminal to the inverting input terminal. This setup is known as negative feedback since the feedback signal reduces the input signal. Negative feedback diminishes the input voltage difference, causing a proportional decrease in the output voltage and keeping the op amp in its linear region.\n\nLack of a negative feedback path from the op amp output to the inverting input usually leads to saturation. An extremely small input signal difference is necessary to prevent saturation without negative feedback. Even with a negative feedback path, linear operation is not guaranteed. Determining whether the op amp operates in its linear region involves assuming linear operation, conducting a circuit analysis, and subsequently checking for inconsistencies.\n\nIf we assume an op amp operates linearly and calculate an output voltage exceeding the power supply voltage, our assumption is flawed, and the op amp must be saturated at the supply voltage level.\n\nThe current constraint arises from the op amp's high equivalent input resistance, typically \\(1 \\mathrm{M} \\Omega\\) or more. Ideally, this resistance is infinite, leading to the current constraint:\n\n\\[\ni_{p} = i_{n} = 0\n\\]\n\nThis constraint is independent of the assumption of linear operation. Equations 5.2 and 5.3 together define the terminal behavior constraints that characterize our ideal op amp model.\n\nAccording to Kirchhoff's current law, the sum of the currents entering the operational amplifier is zero:\n\n\\[\ni_{p} + i_{n} + i_{o} + i_{c^{+}} + i_{c^{-}} = 0\n\\]\n\nSubstituting Equation 5.3 into Equation 5.4 yields:\n\n\\[\ni_{o} = - (i_{c^{+}} + i_{c^{-}})\n\\]\n\nThis indicates that while the input currents are negligible, the output current may be significant.\n\nFor circuits with op amps operating within their linear region, the DC voltages \\(\\pm V_{CC}\\) can be omitted from the equations. The power supply terminals can be removed from the symbol, simplifying the circuit representation, as shown in Figure 5.7. However, it's crucial to remember that the absence of the power supply terminals doesn't imply \\(i_{p} + i_{n} + i_{o} = 0\\). The ideal op amp model constraint \\(i_{p} = i_{n} = 0\\) doesn't mean \\(i_{o} = 0\\).\n\nIn the linear operating region, \\(v_{o}\\) must remain between the supply voltages. For example, if \\(V^{+} = 15 \\mathrm{~V}\\) and \\(V^{-} = -10 \\mathrm{~V}\\), then \\(-10 \\mathrm{~V} \\leq v_{o} \\leq 15 \\mathrm{~V}\\). Additionally, the value of \\(A\\) may vary under different operating conditions, but for now, we assume it remains constant.\n\nExample 5.1 showcases the application of Equations 5.2 and 5.3 in predicting the behavior of a circuit containing an op amp, effectively using an ideal model of the device.\n\n#### Example 5.1 Analyzing an Op Amp Circuit\n\nThe op amp in the circuit of Figure 5.8 is ideal.\na) Calculate \\(v_{o}\\) if \\(v_{\\mathrm{a}} = 1 \\mathrm{~V}\\) and \\(v_{\\mathrm{b}} = 0 \\mathrm{~V}\\).\nb) Repeat (a) for \\(v_{\\mathrm{a}} = 1 \\mathrm{~V}\\) and \\(v_{\\mathrm{b}} = 2 \\mathrm{~V}\\).\nc) If \\(v_{\\mathrm{a}} = 1.5 \\mathrm{~V}\\), specify the range of \\(v_{\\mathrm{b}}\\) that avoids amplifier saturation.\n\nFigure 5.8 shows the circuit for Example 5.1.\n\n#### Solution\n\na) Given the negative feedback through the \\(100 \\mathrm{k} \\Omega\\) resistor, we assume the op amp operates linearly. The voltage at the inverting input terminal (\\(v_{n}\\)) is 0, as \\(v_{p} = v_{\\mathrm{b}} = 0\\) and \\(v_{n} = v_{p}\\) from Equation 5.2. The node-voltage equation at \\(v_{n}\\) is:\n\n\\[\ni_{25} = i_{100} = i_{n}\n\\]\n\nUsing Ohm's law:\n\n\\[\n\\begin{aligned}\ni_{25} & = \\frac{v_{\\mathrm{a}} - v_{n}}{25} = \\frac{1}{25} \\mathrm{~mA} \\\\\ni_{100} & = \\frac{v_{o} - v_{n}}{100} = \\frac{v_{o}}{100} \\mathrm{~mA}\n\\end{aligned}\n\\]\n\nThe current constraint requires \\(i_{n} = 0\\). Substituting the current values into the node-voltage equation yields:\n\n\\[\n\\frac{1}{25} + \\frac{v_{o}}{100} = 0\n\\]\n\nHence, \\(v_{o} = -4 \\mathrm{~V}\\). Since \\(v_{o}\\) is between \\(\\pm 10 \\mathrm{~V}\\), the op amp operates in its linear region.\nb) Following the same process as in (a):\n\n\\[\n\\begin{aligned}\nv_{p} & = v_{\\mathrm{b}} = v_{n} = 2 \\mathrm{~V} \\\\\ni_{25} & = \\frac{v_{\\mathrm{a}} - v_{n}}{25} = \\frac{1 - 2}{25} = -\\frac{1}{25} \\mathrm{~mA} \\\\\ni_{100} & = \\frac{v_{o} - v_{n}}{100} = \\frac{v_{o} - 2}{100} \\mathrm{~mA} \\\\\ni_{25} & = -i_{100}\n\\end{aligned}\n\\]\n\nTherefore, \\(v_{o} = 6 \\mathrm{~V}\\), which is within the \\(\\pm 10 \\mathrm{~V}\\) range.\nc) With \\(v_{n} = v_{p} = v_{\\mathrm{b}}\\) and \\(i_{25} = -i_{100}\\), and \\(v_{\\mathrm{a}} = 1.5 \\mathrm{~V}\\):\n\n\\[\n\\frac{1.5 - v_{\\mathrm{b}}}{25} = -\\frac{v_{o} - v_{\\mathrm{b}}}{100}\n\\]\n\nSolving for \\(v_{\\mathrm{b}}\\) in terms of \\(v_{o}\\) gives:\n\n\\[\nv_{\\mathrm{b}} = \\frac{1}{5}(6 + v_{o})\n\\]\n\nGiven the limits on \\(v_{o}\\), \\(v_{\\mathrm{b}}\\) is constrained to:\n\n\\[\n-0.8 \\mathrm{~V} \\leq v_{\\mathrm{b}} \\leq 3.2 \\mathrm{~V}\n\\]\n\nTo ensure the amplifier operates linearly, \\(-10 \\mathrm{~V} \\leq v_{o} \\leq 10 \\mathrm{~V}\\).\n\n#### Assessment Problem\n\nObjective 1: Utilize voltage and current constraints in an ideal op amp.\n5.1 Assume the op amp in the circuit shown is ideal.\na) Calculate \\(v_{o}\\) for the following \\(v_{s}\\) values: \\(0.4, 2.0, 3.5, -0.6, -1.6\\), and \\(-2.4 \\mathrm{~V}\\).\nb) Specify the range of \\(v_{s}\\) required to prevent amplifier saturation.\n\nAnswer: (a) \\(-2, -10, -15, 3, 8\\), and \\(10 \\mathrm{~V}\\);\n(b) \\(-2 \\mathrm{~V} \\leq v_{s} \\leq 3 \\mathrm{~V}\\).\n\nFigure X (not specified in the context provided) would show an inverting amplifier circuit.\n\nPlease note that additional figures and details may be referenced that were not described in the provided context."
},
{
    "text": "We are now prepared to present the terminal voltages and currents that define the operational amplifier's (op amp) behavior. Voltage measurements are taken with respect to a common reference node. Figure 5.4 depicts these voltage variables along with their respective polarities.\n\nIt is understood that voltages are measured as increases from the common node, adhering to the same convention as the node-voltage analysis method. A positive supply voltage ($V_{CC}$) is linked between the non-inverting input ($V^{+}$) and the common node, whereas a negative supply voltage ($-V_{CC}$) is connected between the inverting input ($V^{-}$) and the common node. The voltage at the inverting input terminal relative to the common node is denoted as $v_{n}$, while the voltage at the non-inverting input terminal relative to the common node is indicated as $v_{p}$. The voltage across the output terminal and the common node is represented by $v_{o}$.\n\nFigure 5.5 illustrates the current variables with their respective reference directions. It is important to note that all current directions are towards the op amp's terminals: $i_{n}$ represents the current entering the inverting input terminal; $i_{p}$, the current entering the non-inverting input terminal; $i_{o}$, the current entering the output terminal; $i_{c^{+}}$, the current entering the positive power supply terminal; and $i_{c^{-}}$, the current entering the negative power supply terminal.\n\nThe linear circuit behavior of the op amp is defined by constraints on its input voltages and currents. The voltage constraint stems from the op amp's voltage transfer characteristic, as shown in Figure 5.6.\n\nThis characteristic illustrates how the output voltage changes in response to the input voltages' difference, that is, how the voltage is transferred from input to output. For the op amp, the output voltage depends on the difference between the input voltages, $v_{p} - v_{n}$. The equation representing the voltage transfer characteristic is:\n\n$$\nv_{o}= \\begin{cases}-V_{CC} & A(v_{p}-v_{n})<-V_{CC}  \\tag{5.1}\\\\ A(v_{p}-v_{n}) & -V_{CC} \\leq A(v_{p}-v_{n}) \\leq+V_{CC} \\\\ +V_{CC} & A(v_{p}-v_{n})>+V_{CC}\\end{cases}\n$$\n\nAs depicted in Figure 5.6 and defined by Equation 5.1, the op amp operates in three distinct regions. When the input voltage difference's magnitude is small, the op amp acts linearly, with the output voltage being a direct function of the input voltages. Beyond this linear range, the op amp's output saturates, behaving nonlinearly, as the output voltage is no longer directly proportional to the input voltages. In linear operation, the output voltage equals the input voltage difference multiplied by the gain, $A$.\n\nConfining the op amp to its linear region imposes constraints on the input voltages, $v_{p}$ and $v_{n}$. These constraints are based on typical values for $V_{CC}$ and $A$. For most op amps, the recommended power supply voltages do not exceed 20 V, and the gain, $A$, is usually at least 10,000 or $10^{4}$. In the linear region, the input voltage difference's magnitude must be less than $20 / 10^{4}$, or 2 mV.\n\nConsidering that node voltages in typical circuits are much greater than 2 mV, a voltage difference of less than 2 mV implies the voltages are essentially equal. Thus, when the op amp operates linearly and the node voltages are significantly larger than 2 mV, the constraint on the input voltages becomes:\n\n$$\n\\begin{equation*}\nv_{p}=v_{n} \\tag{5.2}\n\\end{equation*}\n$$\n\nThis equation describes the relationship between input voltages for an ideal op amp, where the gain, $A$, is infinite.\n\nThis input voltage constraint, as stated in Equation 5.2, is known as the virtual short condition at the op amp's input. The mechanism maintaining this virtual short in a circuit is negative feedback, where a portion of the output signal is fed back to the inverting input terminal. This feedback reduces the input voltage difference, and since the output voltage is proportional to this difference, the output voltage decreases, keeping the op amp in its linear region.\n\nWithout a negative feedback path, an op amp in a circuit will generally saturate, and only an extremely small input voltage difference can prevent saturation in the absence of feedback. Even with feedback, linear operation isn't guaranteed. We assume linear operation, perform the analysis, and then verify for consistency. For instance, if we assume an op amp operates linearly in a circuit and calculate an output voltage of 10 V, but the power supply voltage $V_{CC}$ is only 6 V, there is a contradiction, indicating the op amp's output must be saturated at 6 V.\n\nThe input voltage constraint in Equation 5.2 is derived from the op amp's voltage transfer characteristic, assuming linear operation and typical values for $V_{CC}$ and $A$. This equation defines the voltage constraint for an ideal op amp.\n\nWe now consider the constraint on the input currents. The op amp's equivalent input resistance, as revealed by its circuit analysis, is very high, often $1 \\mathrm{M} \\Omega$ or more. Ideally, this resistance is infinite, leading to the current constraint:\n\n$$\n\\begin{equation*}\ni_{p}=i_{n}=0 \\tag{5.3}\n\\end{equation*}\n$$\n\nUnlike the voltage constraint, the current constraint is not dependent on the assumption of linear operation. Equations 5.2 and 5.3 together define the terminal behavior constraints of our ideal op amp model.\n\nFrom Kirchhoff's current law, the sum of currents entering the op amp is zero:\n\n$$\n\\begin{equation*}\ni_{p}+i_{n}+i_{o}+i_{c^{+}}+i_{c^{-}}=0 \\tag{5.4}\n\\end{equation*}\n$$\n\nSubstituting the constraint from Equation 5.3 into Equation 5.4 yields:\n\n$$\n\\begin{equation*}\ni_{o}=-\\left(i_{c^{+}}+i_{c^{-}}\\right) \\tag{5.5}\n\\end{equation*}\n$$\n\nEquation 5.5 shows that even though the input currents are negligible, there may still be significant current at the output terminal.\n\nWhen analyzing circuits with op amps operating linearly, we can simplify the circuit diagram by omitting the power supply terminals, as depicted in Figure 5.7. It is important to remember that this simplification does not imply that $i_{p}+i_{n}+i_{o}=0$. As stated earlier, the ideal op amp model's constraint $i_{p}=i_{n}=0$ does not mean $i_{o}=0$.\n\nThe power supply voltages do not need to be of equal magnitude. In the linear region, $v_{o}$ must remain between the supply voltages. For instance, if $V^{+}=15 \\mathrm{~V}$ and $V^{-}=-10 \\mathrm{~V}$, then $-10 \\mathrm{~V} \\leq v_{o} \\leq 15 \\mathrm{~V}$. It's also crucial to note that the gain, $A$, may not be constant under all conditions, but for now, we assume it is.\n\nThe ideal op amp model is used to predict circuit behavior, as demonstrated in Example 5.1. This model is based on Equations 5.2 and 5.3, which are applied to circuits containing op amps.\n\nExample 5.1 shows the application of these equations. Assuming the op amp operates linearly, we use node-voltage equations to calculate the output voltage. The input currents are negligible due to the high input resistance, and the output current is determined by the circuit configuration and the op amp's linear response to the input voltage difference.\n\nIn summary, the ideal op amp model is a powerful tool for analyzing circuits. It simplifies the analysis by assuming linear operation and using the virtual short and zero-input-current constraints. This model allows us to predict the behavior of op amps in various circuit configurations, facilitating the design and troubleshooting of electronic systems."
},
{
    "text": "We are now prepared to discuss the terminal voltages and currents that describe the operational amplifier's behavior. Voltage measurements are taken with respect to a common reference node. Figure 5.4 depicts these voltage variables along with their reference polarities.\n\nAll voltages are regarded as increases from the common node, adhering to the same convention used in the node-voltage analysis method. A positive supply voltage ($V_{CC}$) is linked between $V^{+}$ and the common node, while a negative supply voltage ($-V_{CC}$) connects $V^{-}$ to the common node. The voltage across the inverting input terminal and the common node is denoted as $v_{n}$. The voltage between the non-inverting input terminal and the common node is labeled $v_{p}$. The voltage from the output terminal to the common node is represented by $v_{o}$.\n\nFigure 5.5 illustrates the current variables along with their reference directions. It is important to note that all current reference directions point towards the operational amplifier's terminals: $i_{n}$ indicates the current into the inverting input terminal, $i_{p}$ is the current into the non-inverting input terminal, $i_{o}$ is the current into the output terminal, $i_{c^{+}}$ is the current into the positive power supply terminal, and $i_{c^{-}}$ is the current into the negative power supply terminal.\n\nThe operational amplifier's terminal behavior as a linear circuit element is defined by limitations on the input voltages and currents. The voltage constraint stems from the operational amplifier's voltage transfer characteristic, as shown in Figure 5.6.\n\nThe voltage transfer characteristic outlines how the output voltage changes in response to the input voltages; in other words, it describes how voltage is transferred from the input to the output. For the operational amplifier, the output voltage depends on the difference between the input voltages, $v_{p} - v_{n}$. The equation for the voltage transfer characteristic is given by:\n\n$$\nv_{o}= \\begin{cases}\n-V_{C C} & A\\left(v_{p}-v_{n}\\right)<-V_{C C}  \\tag{5.1}\\\\\nA\\left(v_{p}-v_{n}\\right) & -V_{C C} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{C C} \\\\\n+V_{C C} & A\\left(v_{p}-v_{n}\\right)>+V_{C C}\n\\end{cases}\n$$\n\nAs observed in Figure 5.6 and Equation 5.1, the operational amplifier has three distinct operating regions. When the input voltage difference magnitude ($|v_{p}-v_{n}|$) is small, the operational amplifier acts linearly, with the output voltage being a direct function of the input voltages. Beyond this linear region, the operational amplifier's output saturates, and it behaves non-linearly since the output voltage is no longer directly proportional to the input voltages. When operating linearly, the operational amplifier's output voltage equals the product of the input voltage difference and the gain constant, $A$.\n\nRestricting the operational amplifier to its linear operating region imposes a constraint on the input voltages, $v_{p}$ and $v_{n}$. This constraint is based on typical values for $V_{CC}$ and $A$ from Equation 5.1. For most operational amplifiers, the recommended direct current power supply voltages rarely exceed 20 V, and the gain, $A$, is usually not less than 10,000 or $10^{4}$. As indicated in Figure 5.6 and Equation 5.1, within the linear region, the input voltage difference magnitude ($|v_{p}-v_{n}|$) must be less than $20 / 10^{4}$, or 2 mV.\n\nTypically, node voltages in the circuits we analyze are much larger than 2 mV. Therefore, a voltage difference of less than 2 mV implies that the two voltages are essentially equal. Thus, when an operational amplifier is confined to its linear operating region and the node voltages are significantly greater than 2 mV, the constraint on the input voltages of the operational amplifier is:\n\n$$\n\\begin{equation*}\nv_{p}=v_{n} \\tag{5.2}\n\\end{equation*}\n$$\n\nThis constraint in Equation 5.2 characterizes the relationship between the input voltages for an ideal operational amplifier; that is, an operational amplifier with an infinite value of $A$.\n\nThe input voltage constraint in Equation 5.2 is known as the virtual short condition at the operational amplifier's input. It is natural to inquire how the virtual short is sustained at the input of the operational amplifier when it is part of a larger circuit, thereby ensuring linear operation. The response is that a signal is fed back from the output terminal to the inverting input terminal. This arrangement is referred to as negative feedback because the feedback signal subtracts from the input signal. The negative feedback reduces the input voltage difference. As the output voltage is proportional to the input voltage difference, the output voltage decreases as well, keeping the operational amplifier within its linear region.\n\nIf a circuit with an operational amplifier lacks a negative feedback path from the output to the inverting input, the operational amplifier will typically saturate. The input signals' difference must be extremely small to prevent saturation without negative feedback. However, even if the circuit includes a negative feedback path for the operational amplifier, linear operation is not guaranteed. So, how do we determine whether the operational amplifier is operating in its linear region?\n\nThe answer is that we cannot be certain! We handle this uncertainty by assuming linear operation, performing the circuit analysis, and then verifying our results for consistency. For instance, suppose we assume that an operational amplifier in a circuit is operating in its linear region and calculate the output voltage to be 10 V. Upon examining the circuit, we find that $V_{C C}$ is 6 V, leading to a contradiction since the operational amplifier's output voltage cannot exceed $V_{C C}$. Thus, our assumption of linear operation was incorrect, and the operational amplifier's output must be saturated at 6 V.\n\nWe have identified a constraint on the input voltages based on the operational amplifier's voltage transfer characteristic and the assumption that the operational amplifier is restricted to its linear operating region with typical values for $V_{C C}$ and $A$. Equation 5.2 represents the voltage constraint for an ideal operational amplifier, meaning one with an infinite value of $A$.\n\nWe now turn our attention to the constraint on the input currents. Analysis of the operational amplifier integrated circuit reveals that the equivalent resistance seen by the input terminals is very high, typically $1 \\mathrm{M} \\Omega$ or more. Ideally, the equivalent input resistance is infinite, leading to the current constraint:\n\n$$\n\\begin{equation*}\ni_{p}=i_{n}=0 \\tag{5.3}\n\\end{equation*}\n$$\n\nNote that the current constraint is not dependent on assuming the operational amplifier is confined to its linear operating region, unlike the voltage constraint. Together, Equations 5.2 and 5.3 establish the constraints on terminal behavior that define our ideal operational amplifier model.\n\nFrom Kirchhoff's current law, we know that the sum of the currents entering the operational amplifier is zero, or:\n\n$$\n\\begin{equation*}\ni_{p}+i_{n}+i_{o}+i_{c^{+}}+i_{c^{-}}=0 \\tag{5.4}\n\\end{equation*}\n$$\n\nSubstituting the constraint from Equation 5.3 into Equation 5.4 yields:\n\n$$\n\\begin{equation*}\ni_{o}=-\\left(i_{c^{+}}+i_{c^{-}}\\right) \\tag{5.5}\n\\end{equation*}\n$$\n\nThe significance of Equation 5.5 is that, even though the current at the input terminals is negligible, there may still be a significant current at the output terminal.\n\nBefore we proceed to analyze circuits containing operational amplifiers, let's further simplify the circuit symbol. When we know that the amplifier is operating within its linear region, the direct current voltages $\\pm V_{C C}$ do not factor into the circuit equations.\n\nIn such cases, we can omit the power supply terminals from the symbol and the direct current power supplies from the circuit, as depicted in Figure 5.7. A word of caution: Since the power supply terminals have been removed, there is a risk of inferring from the symbol that $i_{p}+i_{n}+i_{o}=0$. However, as previously mentioned, this is not the case; that is, $i_{p}+i_{n}+i_{o}+i_{c^{+}}+i_{c^{-}}=0$. In other words, the ideal operational amplifier model constraint that $i_{p}=i_{n}=0$ does not imply that $i_{o}=0$.\n\nIt is important to note that the positive and negative power supply voltages do not need to be equal in magnitude. In the linear operating region, $v_{o}$ must fall between the two supply voltages. For example, if $V^{+}=15 \\mathrm{~V}$ and $V^{-}=-10 \\mathrm{~V}$, then $-10 \\mathrm{~V} \\leq v_{o} \\leq 15 \\mathrm{~V}$. Additionally, be aware that the value of $A$ is not constant under all operating conditions. For now, however, we assume that it is constant. A discussion of how and why the value of $A$ can change must be deferred until after studying the electronic devices and components used to construct an amplifier.\n\nExample 5.1 demonstrates the judicious application of Equations 5.2 and 5.3. When we use these equations to predict the behavior of a circuit containing an operational amplifier, we are effectively using an ideal model of the device."
},
{
    "text": "We are set to discuss the terminal voltages and currents, which are pivotal in depicting the operational amplifier's (op amp) behavior. The voltage measurements are referenced from a standard node. Figure 5.4 delineates these voltage variables alongside their reference polarities.\n\nAll voltages are regarded as ascending from the shared node, paralleling the node-voltage analysis methodology. A positive supply voltage, \\(V_{CC}\\), bridges \\(V^{+}\\) and the communal node, while a negative supply voltage, \\(-V_{CC}\\), connects \\(V^{-}\\) with the same node. The voltage drop across the inverting input terminal and the shared node is denoted as \\(v_{n}\\). The potential difference between the noninverting input terminal and the shared node is marked as \\(v_{p}\\). The voltage between the output terminal and the shared node is denoted \\(v_{o}\\).\n\nFigure 5.5 illustrates the current variables and their respective reference directions. It's important to note that all current reference directions point towards the op amp's terminals: \\(i_{n}\\) signifies the current flowing into the inverting input terminal; \\(i_{p}\\) is the current entering the noninverting input terminal; \\(i_{o}\\) is the current into the output terminal; \\(i_{c^{+}}\\) is the current into the positive power supply terminal; and \\(i_{c^{-}}\\) is the current into the negative power supply terminal.\n\nThe linear circuit element characteristics of the op amp are defined by the limitations on its input voltages and currents. The voltage constraint originates from the op amp's integrated circuit voltage transfer characteristic, as depicted in Figure 5.6.\n\nThe voltage transfer characteristic portrays how the output voltage fluctuates in response to the input voltages, illustrating the conversion of voltage from input to output. For the op amp, the output voltage is a direct function of the input voltage differential, \\(v_{p}-v_{n}\\). The formulation for the voltage transfer characteristic is expressed as:\n\n\\[\nv_{o}= \n\\begin{cases}\n-V_{CC} & A\\left(v_{p}-v_{n}\\right)<-V_{CC}  \\\\\nA\\left(v_{p}-v_{n}\\right) & -V_{CC} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{CC} \\\\\n+V_{CC} & A\\left(v_{p}-v_{n}\\right)>+V_{CC}\n\\end{cases}\n\\]\n\nInspecting Figure 5.6 and Equation 5.1, we discern three operational zones of the op amp. When the input voltage differential magnitude is minute, the op amp behaves linearly, with the output voltage being a direct function of the input voltages. Beyond this linear domain, the op amp's output saturates, adopting a nonlinear comportment since the output voltage is no longer directly proportional to the input voltages. Within the linear domain, the op amp's output voltage is equivalent to the input voltage differential multiplied by the gain, \\(A\\).\n\nRestricting the op amp to its linear operational domain imposes constraints on the input voltages, \\(v_{p}\\) and \\(v_{n}\\). These constraints are founded on typical \\(V_{CC}\\) and \\(A\\) values in Equation 5.1. For the majority of op amps, the recommended direct current (dc) power supply voltages seldom surpass 20 V, and the gain, \\(A\\), is infrequently less than 10,000, or \\(10^{4}\\). As deduced from Figure 5.6 and Equation 5.1, within the linear domain, the input voltage differential magnitude must be less than \\(20 / 10^{4}\\), or 2 mV.\n\nConsequently, when the op amp is confined to its linear operational domain and the node voltages significantly exceed 2 mV, the constraint on the input voltages of the op amp is:\n\n\\[\nv_{p}=v_{n}\n\\]\n\nThis equation typifies the relationship between the input voltages of an ideal op amp, where \\(A\\) is infinite.\n\nThe input voltage constraint in Equation 5.2 is known as the virtual short condition at the op amp's input. The mechanism by which the virtual short is sustained at the input of the op amp within a circuit, thereby ensuring linear operation, is through a feedback loop from the output terminal to the inverting input terminal. This setup is referred to as negative feedback due to the signal feedback that reduces the input voltage difference. Since the output voltage is proportional to the input voltage difference, it too diminishes, thus maintaining the op amp's linear operation.\n\nWithout a negative feedback loop from the op amp's output to its inverting input, the op amp will typically saturate. An exceedingly small input signal differential is necessary to avert saturation in the absence of negative feedback. Even with a negative feedback path, linear operation is not guaranteed. To ascertain whether the op amp operates in its linear region, we hypothesize linear operation, conduct the circuit analysis, and subsequently verify our findings for inconsistencies. If we postulate that an op amp in a circuit operates linearly and calculate an output voltage exceeding the supply voltage, we identify a contradiction, invalidating our assumption of linear operation.\n\nThe input voltage constraint in Equation 5.2 is premised on the op amp's voltage transfer characteristic, the supposition that the op amp is restricted to its linear operational domain, and typical \\(V_{CC}\\) and \\(A\\) values. Equation 5.2 encapsulates the voltage constraint for an ideal op amp, where \\(A\\) is infinite.\n\nThe constraint on the input currents is next considered. Op amp integrated circuit analysis indicates that the equivalent resistance perceived by the input terminals is substantial, commonly \\(1 \\mathrm{M} \\Omega\\) or greater. Ideally, this equivalent resistance is infinite, leading to the current constraint:\n\n\\[\ni_{p}=i_{n}=0\n\\]\n\nThis current constraint is not predicated on the assumption that the op amp is confined to its linear operational domain, unlike the voltage constraint. Equations 5.2 and 5.3 collectively delineate the terminal behavior constraints that define our ideal op amp model.\n\nAccording to Kirchhoff's current law, the algebraic sum of the currents entering the operational amplifier is zero:\n\n\\[\ni_{p}+i_{n}+i_{o}+i_{c^{+}}+i_{c^{-}}=0\n\\]\n\nSubstituting the constraint from Equation 5.3 into Equation 5.4 yields:\n\n\\[\ni_{o}=-\\left(i_{c^{+}}+i_{c^{-}}\\right)\n\\]\n\nThe implication of Equation 5.5 is that, despite negligible current at the input terminals, the output terminal may still experience significant current flow.\n\nWhen analyzing circuits containing op amps and knowing that the amplifier operates within its linear region, the dc voltages \\(\\pm V_{CC}\\) are irrelevant to the circuit equations. Thus, the power supply terminals can be removed from the symbol, and the dc power supplies can be omitted from the circuit, as depicted in Figure 5.7. Caution is advised as the omitted power supply terminals might incorrectly suggest that \\(i_{p}+i_{n}+i_{o}=0\\). However, as previously stated, \\(i_{p}+i_{n}+i_{o}+i_{c^{+}}+i_{c^{-}}=0\\). In other words, the ideal op amp model constraint \\(i_{p}=i_{n}=0\\) does not imply \\(i_{o}=0\\).\n\nIt's important to recognize that the positive and negative power supply voltages need not be of equal magnitude. Within the linear operating region, \\(v_{o}\\) must reside between the two supply voltages. For instance, if \\(V^{+}=15 \\mathrm{~V}\\) and \\(V^{-}=-10 \\mathrm{~V}\\), then \\(-10 \\mathrm{~V} \\leq v_{o} \\leq 15 \\mathrm{~V}\\). Furthermore, the value of \\(A\\) is not invariant under all operating conditions, but for the present discussion, it is considered constant.\n\nExample 5.1 exemplifies the judicious application of Equations 5.2 and 5.3. When employing these equations to forecast the behavior of a circuit containing an op amp, we effectively utilize an ideal model of the device."
},
{
    "text": "We are prepared to delve into the functioning of several pivotal op amp circuits, utilizing Eqs. 5.2 and 5.3 to depict the device's behavior. Figure 5.9 illustrates an inverting-amplifier configuration. We presume the op amp is functioning within its linear range. Note that the circuit comprises, in addition to the op amp, two resistors ($R_{f}$ and $R_{s}$), a voltage signal source ($v_{s}$), and a short circuit linking the noninverting input terminal to the common node.\n\nWe proceed to analyze this circuit under the assumption of an ideal op amp. Our objective is to derive an expression for the output voltage, $v_{o}$, as a function of the source voltage, $v_{s}$. We apply a single node-voltage equation at the inverting terminal of the op amp, expressed as\n\n$$\n\\begin{equation*}\ni_{s}+i_{f}=i_{n} \\tag{5.6}\n\\end{equation*}\n$$\n\nThe voltage constraint from Eq. 5.2 sets $v_{n}=0$, due to $v_{p}=0$. Consequently,\n\n$$\n\\begin{align*}\ni_{s} & =\\frac{v_{s}}{R_{s}}  \\tag{5.7}\\\\\ni_{f} & =\\frac{v_{o}}{R_{f}} \\tag{5.8}\n\\end{align*}\n$$\n\nNext, we apply the constraint from Eq. 5.3, which states\n\n$$\n\\begin{equation*}\ni_{n}=0 \\tag{5.9}\n\\end{equation*}\n$$\n\nSubstituting Eqs. 5.7-5.9 into Eq. 5.6 yields the desired result:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-R_{f}}{R_{s}} v_{s} \\tag{5.10}\n\\end{equation*}\n$$\n\nNote that the output voltage is an inverted, scaled version of the input. The sign inversion from input to output is the basis for calling this circuit an inverting amplifier. The scaling factor, or gain, is the ratio $R_{f} / R_{s}$.\n\nThe result in Eq. 5.10 holds true only if the op amp in Fig. 5.9 is ideal, meaning $A$ is infinite and the input resistance is infinite. For a real op amp, Eq. 5.10 is an approximation, typically a reliable one. (Further discussion on this follows later.) Eq. 5.10 is significant because it indicates that if the op amp gain $A$ is substantial, the gain of the inverting amplifier can be set using the external resistors $R_{f}$ and $R_{s}$. The upper limit on the gain, $R_{f} / R_{s}$, is dictated by the power supply voltages and the signal voltage $v_{s}$. Assuming equal power supply voltages, i.e., $V^{+}=-V^{-}=V_{C C}$, we get\n\n$$\n\\begin{equation*}\n\\left|v_{o}\\right| \\leq V_{C C}, \\quad\\left|\\frac{R_{f}}{R_{s}} v_{s}\\right| \\leq V_{C C}, \\quad \\frac{R_{f}}{R_{s}} \\leq\\left|\\frac{V_{C C}}{v_{s}}\\right| \\tag{5.11}\n\\end{equation*}\n$$\n\nFor instance, if $V_{C C}=15 \\mathrm{~V}$ and $v_{s}=10 \\mathrm{mV}$, the ratio $R_{f} / R_{s}$ must be less than 1500.\n\nIn the inverting amplifier circuit depicted in Fig. 5.9, the resistor $R_{f}$ provides the negative feedback connection, linking the output terminal to the inverting input terminal. If $R_{f}$ is removed, the feedback path is open, and the amplifier operates in an open-loop configuration. Figure 5.10 shows this open-loop operation.\n\nOpening the feedback path significantly alters the circuit's behavior. Initially, the output voltage becomes\n\n$$\n\\begin{equation*}\nv_{o}=-A v_{n} \\tag{5.12}\n\\end{equation*}\n$$\n\nassuming $V^{+}=-V^{-}=V_{C C}$; thus, $\\left|v_{n}\\right|<V_{C C} / A$ for linear operation. Since the inverting input current is nearly zero, the voltage drop across $R_{s}$ is minimal, and the inverting input voltage closely matches the signal voltage, $v_{s}$; that is, $v_{n} \\approx v_{s}$. Hence, the op amp can operate in the linear mode open loop only if $\\left|v_{s}\\right|<V_{C C} / A$. If $\\left|v_{s}\\right|>V_{C C} / A$, the op amp saturates. Specifically, if $v_{s}<-V_{C C} / A$, the op amp saturates at $+V_{C C}$, and if $v_{s}>V_{C C} / A$, it saturates at $-V_{C C}$. Because Eq. 5.12 applies when no feedback path exists, $A$ is often termed the open-loop gain of the op amp.\n\nExample 5.2 employs the inverting-amplifier equation to design an inverting amplifier using practical resistor values.\n\n#### Example 5.2 Designing an Inverting Amplifier\n\na) Design an inverting amplifier (refer to Fig. 5.9) with a gain of 12. Use $\\pm 15 \\mathrm{~V}$ power supplies and an ideal op amp.\nb) Determine the range of input voltages, $v_{s}$, that keeps the op amp in this design within its linear operating region.\n\n#### Solution\n\na) We need to select two resistors with a ratio of 12 from the practical resistor values listed in Appendix H. Numerous options exist, but let's choose $R_{s}=1 \\mathrm{k} \\Omega$ and $R_{f}=12 \\mathrm{k} \\Omega$. Verify the design using the inverting-amplifier equation (Eq. 5.10):\n\n$$\nv_{o}=-\\frac{R_{f}}{R_{s}} v_{s}=-\\frac{12,000}{1000} v_{s}=-12 v_{s}\n$$\n\nThus, we have an inverting amplifier with a gain of 12, as shown in Fig. 5.11.\nimage_name:Figure 5.11\ndescription:\n[\n'name': 'Vs', 'type': 'VoltageSource', 'value': 'Vs', 'ports': {'Np': 'Vs', 'Nn': 'GND'\n'name': '1 k', 'type': 'Resistor', 'value': '1 k', 'ports': {'N1': 'Vs', 'N2': 'InN'\n'name': '12 k', 'type': 'Resistor', 'value': '12 k', 'ports': {'N1': 'InN', 'N2': 'Vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN', 'OutP': 'Vo', 'Vdd':'+15V', '-Vdd':'-15V'\n]\nextrainfo:The circuit is an inverting amplifier with a gain of 12. Input voltage Vs is connected through a 1 k resistor to the inverting input of the op-amp A0, and feedback is provided by a 12 k resistor from the output to the inverting input. The non-inverting input is grounded, and the op-amp is powered by 15V supplies.\n\n\nFigure 5.11 $\\triangle$ Inverting amplifier for Example 5.2.\nb) Solve the inverting-amplifier equation for $v_{s}$ using $v_{o}=+15 \\mathrm{~V}$ and then $v_{o}=-15 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n15 & =-12 v_{s} \\text { so } \\quad v_{s}=-1.25 \\mathrm{~V} \\\\\n-15 & =-12 v_{s} \\text { so } \\quad v_{s}=1.25 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, if the input voltage is between -1.25 V and +1.25 V, the op amp in the inverting amplifier will remain in its linear operating region.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.2 In the circuit from Assessment Problem 5.1, the source voltage $v_{s}$ is -640 mV. The $80 \\mathrm{k} \\Omega$ feedback resistor is replaced by a variable resistor $R_{x}$. What range of $R_{x}$ allows the inverting amplifier to operate in its linear region?\n\nAnswer: $0 \\leq R_{x} \\leq 250 \\mathrm{k} \\Omega$.\n\nNOTE: Also consider Chapter Problems 5.9 and 5.11.\nimage_name:Figure 5.12\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'vD'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'vb', 'N2': 'vD'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vc', 'N2': 'vD'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'vD', 'N2': 'vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'vD', 'OutP': 'vo','Vdd':'+VCC', '-Vdd':'-VCC'\n]\nextrainfo:This is a summing amplifier circuit with three input voltages va, vb, and vc. The output voltage vo is an inverted, scaled sum of these input voltages. The op-amp is powered by VCC and -VCC.\n\n\nFigure $5.12 \\triangle$ A summing amplifier.\n\nInverting-summing amplifier equation"
},
{
    "text": "We are prepared to delve into the functionality of key operational amplifier circuits, utilizing Eqs. 5.2 and 5.3 to depict the behavior of the device. Figure 5.9 illustrates an inverting-amplifier configuration. We presume the op amp functions within its linear range. Note that alongside the op amp, the circuit comprises two resistors $\\left(R_{f}\\right.$ and $\\left.R_{s}\\right)$, a voltage signal source $\\left(v_{s}\\right)$, and a short circuit linking the noninverting input terminal to the common node.\n\nWe proceed to analyze this circuit under the assumption of an ideal op amp. Our objective is to derive an expression for the output voltage, $v_{o}$, in terms of the source voltage, $v_{s}$. We apply a single node-voltage equation at the inverting terminal of the op amp, expressed as\n\n$$\n\\begin{equation*}\ni_{s}+i_{f}=i_{n} \\tag{5.6}\n\\end{equation*}\n$$\n\nThe voltage constraint from Eq. 5.2 sets $v_{n}=0$ due to $v_{p}=0$. Consequently,\n\n$$\n\\begin{align*}\ni_{s} & =\\frac{v_{s}}{R_{s}}  \\tag{5.7}\\\\\ni_{f} & =\\frac{v_{o}}{R_{f}} \\tag{5.8}\n\\end{align*}\n$$\n\nNext, we apply the constraint from Eq. 5.3, which states\n\n$$\n\\begin{equation*}\ni_{n}=0 \\tag{5.9}\n\\end{equation*}\n$$\n\nSubstituting Eqs. 5.7-5.9 into Eq. 5.6 yields the desired result:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-R_{f}}{R_{s}} v_{s} \\tag{5.10}\n\\end{equation*}\n$$\n\nNote that the output voltage is an inverted, scaled version of the input. The sign inversion from input to output is why the circuit is termed an inverting amplifier. The scaling factor, or gain, is the ratio $R_{f} / R_{s}$.\n\nEq. 5.10 holds true only if the op amp in Fig. 5.9 is ideal, meaning $A$ is infinite and the input resistance is infinite. For a real op amp, Eq. 5.10 is an approximation, typically a reliable one. (Further discussion on this follows later.) Eq. 5.10 is significant because it indicates that if the op amp gain $A$ is substantial, the gain of the inverting amplifier can be set using external resistors $R_{f}$ and $R_{s}$. The upper limit on the gain, $R_{f} / R_{s}$, is dictated by the power supply voltages and the signal voltage $v_{s}$. Assuming equal power supply voltages, i.e., $V^{+}=-V^{-}=V_{C C}$, we obtain\n\n$$\n\\begin{equation*}\n\\left|v_{o}\\right| \\leq V_{C C}, \\quad\\left|\\frac{R_{f}}{R_{s}} v_{s}\\right| \\leq V_{C C}, \\quad \\frac{R_{f}}{R_{s}} \\leq\\left|\\frac{V_{C C}}{v_{s}}\\right| \\tag{5.11}\n\\end{equation*}\n$$\n\nFor instance, if $V_{C C}=15 \\mathrm{~V}$ and $v_{s}=10 \\mathrm{mV}$, the ratio $R_{f} / R_{s}$ must be below 1500.\n\nIn the inverting amplifier circuit shown in Fig. 5.9, resistor $R_{f}$ provides the negative feedback connection, linking the output terminal to the inverting input terminal. Removing $R_{f}$ opens the feedback path, and the amplifier is said to operate in an open-loop configuration. Figure 5.10 depicts this open-loop operation.\n\nOpening the feedback path significantly alters the circuit's behavior. Initially, the output voltage becomes\n\n$$\n\\begin{equation*}\nv_{o}=-A v_{n} \\tag{5.12}\n\\end{equation*}\n$$\n\nassuming $V^{+}=-V^{-}=V_{C C}$; thus, $\\left|v_{n}\\right|<V_{C C} / A$ for linear operation. Since the inverting input current is nearly zero, the voltage drop across $R_{s}$ is almost zero, making the inverting input voltage nearly equal to the signal voltage, $v_{s}$; that is, $v_{n} \\approx v_{s}$. Hence, the op amp can operate in the linear mode open-loop only if $\\left|v_{s}\\right|<V_{C C} / A$. If $\\left|v_{s}\\right|>V_{C C} / A$, the op amp saturates. Specifically, if $v_{s}<-V_{C C} / A$, the op amp saturates at $+V_{C C}$, and if $v_{s}>V_{C C} / A$, it saturates at $-V_{C C}$. Because Eq. 5.12 applies when no feedback path exists, $A$ is often termed the open-loop gain of the op amp.\n\nExample 5.2 demonstrates using the inverting-amplifier equation to design an inverting amplifier with practical resistor values.\n\n#### Example 5.2 Designing an Inverting Amplifier\n\na) Design an inverting amplifier (refer to Fig. 5.9) with a gain of 12, using $\\pm 15 \\mathrm{~V}$ power supplies and an ideal op amp.\nb) Determine the range of input voltages, $v_{s}$, that keeps the op amp in this design within its linear operating region.\n\n#### Solution\n\na) We need to select two resistors with a ratio of 12 from the practical values listed in Appendix H. Numerous options exist, but let's opt for $R_{s}=1 \\mathrm{k} \\Omega$ and $R_{f}=12 \\mathrm{k} \\Omega$. Verify the design using the inverting-amplifier equation (Eq. 5.10):\n\n$$\nv_{o}=-\\frac{R_{f}}{R_{s}} v_{s}=-\\frac{12,000}{1000} v_{s}=-12 v_{s}\n$$\n\nThus, we achieve an inverting amplifier with a gain of 12, as shown in Fig. 5.11.\nimage_name:Figure 5.11\ndescription:\n[\n'name': 'Vs', 'type': 'VoltageSource', 'value': 'Vs', 'ports': {'Np': 'Vs', 'Nn': 'GND'\n'name': '1 k', 'type': 'Resistor', 'value': '1 k', 'ports': {'N1': 'Vs', 'N2': 'InN'\n'name': '12 k', 'type': 'Resistor', 'value': '12 k', 'ports': {'N1': 'InN', 'N2': 'Vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN', 'OutP': 'Vo', 'Vdd':'+15V', '-Vdd':'-15V'\n]\nextrainfo:The circuit is an inverting amplifier with a gain of 12. Input voltage Vs is connected through a 1 k resistor to the inverting input of the op-amp A0, and feedback is provided by a 12 k resistor from the output to the inverting input. The non-inverting input is grounded, and the op-amp is powered by 15V supplies.\n\n\nFigure 5.11 $\\triangle$ Inverting amplifier for Example 5.2.\nb) Solve the inverting-amplifier equation for $v_{s}$ using $v_{o}=+15 \\mathrm{~V}$ and then $v_{o}=-15 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n15 & =-12 v_{s} \\text { so } \\quad v_{s}=-1.25 \\mathrm{~V} \\\\\n-15 & =-12 v_{s} \\text { so } \\quad v_{s}=1.25 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, for input voltages between -1.25 V and +1.25 V, the op amp in the inverting amplifier remains in its linear operating region.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.2 In the circuit from Assessment Problem 5.1, the source voltage $v_{s}$ is -640 mV. The $80 \\mathrm{k} \\Omega$ feedback resistor is replaced by a variable resistor $R_{x}$. Determine the range of $R_{x}$ that allows the inverting amplifier to operate linearly.\n\nAnswer: $0 \\leq R_{x} \\leq 250 \\mathrm{k} \\Omega$.\n\nNOTE: Also attempt Chapter Problems 5.9 and 5.11.\nimage_name:Figure 5.12\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'vD'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'vb', 'N2': 'vD'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vc', 'N2': 'vD'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'vD', 'N2': 'vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'vD', 'OutP': 'vo','Vdd':'+VCC', '-Vdd':'-VCC'\n]\nextrainfo:This is a summing amplifier circuit with three input voltages va, vb, and vc. The output voltage vo is an inverted, scaled sum of these input voltages. The op-amp is powered by VCC and -VCC.\n\n\nFigure $5.12 \\triangle$ A summing amplifier.\n\nInverting-summing amplifier equation\n```"
},
{
    "text": "We are now prepared to delve into the functioning of several key operational amplifier (op amp) circuits, utilizing Eqs. 5.2 and 5.3 to depict the behavior of the device. Figure 5.9 illustrates an inverting-amplifier circuit. We presume that the op amp is functioning within its linear range. Note that the circuit comprises, in addition to the op amp, two resistors ($R_{f}$ and $R_{s}$), a voltage signal source ($v_{s}$), and a short circuit linking the noninverting input terminal to the common node.\n\nWe proceed to analyze this circuit under the assumption of an ideal op amp. Our objective is to derive an expression for the output voltage, $v_{o}$, as a function of the source voltage, $v_{s}$. We apply a single node-voltage equation at the inverting terminal of the op amp, expressed as\n\n$$\n\\begin{equation*}\ni_{s}+i_{f}=i_{n} \\tag{5.6}\n\\end{equation*}\n$$\n\nThe voltage constraint of Eq. 5.2 sets the voltage at $v_{n}=0$, due to the voltage at $v_{p}=0$. Consequently,\n\n$$\n\\begin{align*}\ni_{s} & =\\frac{v_{s}}{R_{s}}  \\tag{5.7}\\\\\ni_{f} & =\\frac{v_{o}}{R_{f}} \\tag{5.8}\n\\end{align*}\n$$\n\nNext, we apply the constraint from Eq. 5.3, which states\n\n$$\n\\begin{equation*}\ni_{n}=0 \\tag{5.9}\n\\end{equation*}\n$$\n\nSubstituting Eqs. 5.7-5.9 into Eq. 5.6 yields the desired result:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-R_{f}}{R_{s}} v_{s} \\tag{5.10}\n\\end{equation*}\n$$\n\nNote that the output voltage is an inverted, scaled version of the input. The sign inversion from input to output is the reason this circuit is termed an inverting amplifier. The scaling factor, or gain, is the ratio $R_{f} / R_{s}$.\n\nThe result in Eq. 5.10 holds true only if the op amp in Fig. 5.9 is ideal; that is, if the gain $A$ is infinite and the input resistance is infinite. For a practical op amp, Eq. 5.10 is an approximation, generally a reliable one. (Further details will be provided later.) Equation 5.10 is significant because it indicates that if the op amp gain $A$ is substantial, the gain of the inverting amplifier can be determined by the external resistors $R_{f}$ and $R_{s}$. The upper limit on the gain, $R_{f} / R_{s}$, is governed by the power supply voltages and the signal voltage $v_{s}$. Assuming equal power supply voltages, i.e., $V^{+}=-V^{-}=V_{C C}$, we obtain\n\n$$\n\\begin{equation*}\n\\left|v_{o}\\right| \\leq V_{C C}, \\quad\\left|\\frac{R_{f}}{R_{s}} v_{s}\\right| \\leq V_{C C}, \\quad \\frac{R_{f}}{R_{s}} \\leq\\left|\\frac{V_{C C}}{v_{s}}\\right| \\tag{5.11}\n\\end{equation*}\n$$\n\nFor instance, if $V_{C C}=15 \\mathrm{~V}$ and $v_{s}=10 \\mathrm{mV}$, the ratio $R_{f} / R_{s}$ must be less than 1500.\n\nIn the inverting amplifier circuit depicted in Fig. 5.9, the resistor $R_{f}$ provides the negative feedback connection, linking the output terminal to the inverting input terminal. If $R_{f}$ is removed, the feedback path is opened, and the amplifier is said to be operating in an open-loop configuration. Figure 5.10 shows this open-loop operation.\n\nOpening the feedback path significantly alters the circuit's behavior. Initially, the output voltage is now\n\n$$\n\\begin{equation*}\nv_{o}=-A v_{n} \\tag{5.12}\n\\end{equation*}\n$$\n\nassuming, as before, that $V^{+}=-V^{-}=V_{C C}$; thus, $\\left|v_{n}\\right|<V_{C C} / A$ for linear operation. Since the inverting input current is nearly zero, the voltage drop across $R_{s}$ is almost zero, and the inverting input voltage closely matches the signal voltage, $v_{s}$; that is, $v_{n} \\approx v_{s}$. Hence, the op amp can operate in open-loop linear mode only if $\\left|v_{s}\\right|<V_{C C} / A$. If $\\left|v_{s}\\right|>V_{C C} / A$, the op amp saturates. Specifically, if $v_{s}<-V_{C C} / A$, the op amp saturates at $+V_{C C}$, and if $v_{s}>V_{C C} / A$, it saturates at $-V_{C C}$. Because Eq. 5.12 applies when there is no feedback path, the value of $A$ is often referred to as the open-loop gain of the op amp.\n\nExample 5.2 demonstrates the use of the inverting-amplifier equation to design an inverting amplifier with realistic resistor values.\n\n#### Example 5.2 Designing an Inverting Amplifier\n\na) Design an inverting amplifier (refer to Fig. 5.9) with a gain of 12, using $\\pm 15 \\mathrm{~V}$ power supplies and an ideal op amp.\nb) Determine the range of input voltages, $v_{s}$, that allows the op amp in this design to remain in its linear operating region.\n\n#### Solution\n\na) We need to select two resistors whose ratio is 12 from the realistic resistor values listed in Appendix H. Numerous options exist, but let's choose $R_{s}=1 \\mathrm{k} \\Omega$ and $R_{f}=12 \\mathrm{k} \\Omega$. Verify the design using the inverting-amplifier equation (Eq. 5.10):\n\n$$\nv_{o}=-\\frac{R_{f}}{R_{s}} v_{s}=-\\frac{12,000}{1000} v_{s}=-12 v_{s}\n$$\n\nThus, we have an inverting amplifier with a gain of 12, as shown in Fig. 5.11.\nimage_name:Figure 5.11\ndescription:\n[\n'name': 'Vs', 'type': 'VoltageSource', 'value': 'Vs', 'ports': {'Np': 'Vs', 'Nn': 'GND'\n'name': '1 k', 'type': 'Resistor', 'value': '1 k', 'ports': {'N1': 'Vs', 'N2': 'InN'\n'name': '12 k', 'type': 'Resistor', 'value': '12 k', 'ports': {'N1': 'InN', 'N2': 'Vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN', 'OutP': 'Vo', 'Vdd':'+15V', '-Vdd':'-15V'\n]\nextrainfo:The circuit is an inverting amplifier with a gain of 12. Input voltage Vs is connected through a 1 k resistor to the inverting input of the op-amp A0, and feedback is provided by a 12 k resistor from the output to the inverting input. The non-inverting input is grounded, and the op-amp is powered by 15V supplies.\n\n\nFigure 5.11 $\\triangle$ Inverting amplifier for Example 5.2.\nb) Solve the inverting-amplifier equation for $v_{s}$ using $v_{o}=+15 \\mathrm{~V}$ and then $v_{o}=-15 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n15 & =-12 v_{s} \\text { so } \\quad v_{s}=-1.25 \\mathrm{~V} \\\\\n-15 & =-12 v_{s} \\text { so } \\quad v_{s}=1.25 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, if the input voltage is between -1.25 V and +1.25 V, the op amp in the inverting amplifier will remain in its linear operating region.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.2 In the circuit from Assessment Problem 5.1, the source voltage $v_{s}$ is -640 mV. The $80 \\mathrm{k} \\Omega$ feedback resistor is replaced by a variable resistor $R_{x}$. What range of $R_{x}$ allows the inverting amplifier to operate in its linear region?\n\nAnswer: $0 \\leq R_{x} \\leq 250 \\mathrm{k} \\Omega$.\n\nNOTE: Also consider Chapter Problems 5.9 and 5.11.\nimage_name:Figure 5.12\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'vD'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'vb', 'N2': 'vD'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vc', 'N2': 'vD'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'vD', 'N2': 'vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'vD', 'OutP': 'vo','Vdd':'+VCC', '-Vdd':'-VCC'\n]\nextrainfo:This is a summing amplifier circuit with three input voltages va, vb, and vc. The output voltage vo is an inverted, scaled sum of these input voltages. The op-amp is powered by VCC and -VCC.\n\n\nFigure $5.12 \\triangle$ A summing amplifier.\n\nInverting-summing amplifier equation"
},
{
    "text": "We are prepared to delve into the functionality of key operational amplifier (op amp) circuits, utilizing Eqs. 5.2 and 5.3 to model the device's behavior. Figure 5.9 illustrates an inverting-amplifier circuit. It is assumed that the op amp operates within its linear range. Note that aside from the op amp, the circuit comprises two resistors ($R_{f}$ and $R_{s}$), a voltage signal source ($v_{s}$), and a short circuit linking the noninverting input terminal to the common node.\n\nWe proceed to analyze this circuit under the assumption of an ideal op amp. Our objective is to derive an expression for the output voltage, $v_{o}$, as a function of the source voltage, $v_{s}$. We apply a single node-voltage equation at the inverting terminal of the op amp, expressed as\n\n$$\n\\begin{equation*}\ni_{s}+i_{f}=i_{n} \\tag{5.6}\n\\end{equation*}\n$$\n\nThe voltage constraint from Eq. 5.2 sets $v_{n}=0$ due to $v_{p}=0$. Consequently,\n\n$$\n\\begin{align*}\ni_{s} & =\\frac{v_{s}}{R_{s}}  \\tag{5.7}\\\\\ni_{f} & =\\frac{v_{o}}{R_{f}} \\tag{5.8}\n\\end{align*}\n$$\n\nNext, we apply the constraint from Eq. 5.3, which states\n\n$$\n\\begin{equation*}\ni_{n}=0 \\tag{5.9}\n\\end{equation*}\n$$\n\nSubstituting Eqs. 5.7-5.9 into Eq. 5.6 yields the desired result:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-R_{f}}{R_{s}} v_{s} \\tag{5.10}\n\\end{equation*}\n$$\n\nNote that the output voltage is an inverted, scaled version of the input. The sign inversion from input to output is the basis for naming the circuit an inverting amplifier. The scaling factor, or gain, is the ratio $R_{f} / R_{s}$.\n\nThe result in Eq. 5.10 holds true only if the op amp in Fig. 5.9 is ideal, meaning $A$ is infinite and the input resistance is infinite. For a real op amp, Eq. 5.10 is an approximation, typically a reliable one. (Further details will be provided later.) Eq. 5.10 is significant because it indicates that with a high op amp gain $A$, the inverting amplifier's gain can be set using external resistors $R_{f}$ and $R_{s}$. The upper limit on the gain, $R_{f} / R_{s}$, is dictated by the power supply voltages and the signal voltage $v_{s}$. Assuming equal power supply voltages, $V^{+}=-V^{-}=V_{C C}$, we get\n\n$$\n\\begin{equation*}\n\\left|v_{o}\\right| \\leq V_{C C}, \\quad\\left|\\frac{R_{f}}{R_{s}} v_{s}\\right| \\leq V_{C C}, \\quad \\frac{R_{f}}{R_{s}} \\leq\\left|\\frac{V_{C C}}{v_{s}}\\right| \\tag{5.11}\n\\end{equation*}\n$$\n\nFor instance, if $V_{C C}=15 \\mathrm{~V}$ and $v_{s}=10 \\mathrm{mV}$, the ratio $R_{f} / R_{s}$ must be less than 1500.\n\nIn the inverting amplifier circuit shown in Fig. 5.9, the resistor $R_{f}$ provides the negative feedback connection, linking the output terminal to the inverting input terminal. Removing $R_{f}$ opens the feedback path, resulting in open-loop operation, as depicted in Fig. 5.10.\n\nOpening the feedback path significantly alters the circuit's behavior. Firstly, the output voltage now becomes\n\n$$\n\\begin{equation*}\nv_{o}=-A v_{n} \\tag{5.12}\n\\end{equation*}\n$$\n\nassuming $V^{+}=-V^{-}=V_{C C}$; thus, $\\left|v_{n}\\right|<V_{C C} / A$ for linear operation. Since the inverting input current is nearly zero, the voltage drop across $R_{s}$ is almost zero, making the inverting input voltage nearly equal to the signal voltage, $v_{s}$; that is, $v_{n} \\approx v_{s}$. Hence, the op amp can operate in open-loop linear mode only if $\\left|v_{s}\\right|<V_{C C} / A$. If $\\left|v_{s}\\right|>V_{C C} / A$, the op amp saturates. Specifically, if $v_{s}<-V_{C C} / A$, the op amp saturates at $+V_{C C}$, and if $v_{s}>V_{C C} / A$, it saturates at $-V_{C C}$. The value of $A$ in Eq. 5.12, occurring without a feedback path, is often termed the open-loop gain of the op amp.\n\nExample 5.2 demonstrates the use of the inverting-amplifier equation to design an inverting amplifier with realistic resistor values.\n\n#### Example 5.2 Designing an Inverting Amplifier\n\na) Design an inverting amplifier (refer to Fig. 5.9) with a gain of 12, using $\\pm 15 \\mathrm{~V}$ power supplies and an ideal op amp.\nb) Determine the range of input voltages, $v_{s}$, that keeps the op amp in its linear operating region for this design.\n\n#### Solution\n\na) We need to select two resistors with a ratio of 12 from the realistic values listed in Appendix H. Numerous options exist, but let's opt for $R_{s}=1 \\mathrm{k} \\Omega$ and $R_{f}=12 \\mathrm{k} \\Omega$. Using the inverting-amplifier equation (Eq. 5.10) to verify:\n\n$$\nv_{o}=-\\frac{R_{f}}{R_{s}} v_{s}=-\\frac{12,000}{1000} v_{s}=-12 v_{s}\n$$\n\nThus, we achieve an inverting amplifier with a gain of 12, as shown in Fig. 5.11.\nimage_name:Figure 5.11\ndescription:\n[\n'name': 'Vs', 'type': 'VoltageSource', 'value': 'Vs', 'ports': {'Np': 'Vs', 'Nn': 'GND'\n'name': '1 k', 'type': 'Resistor', 'value': '1 k', 'ports': {'N1': 'Vs', 'N2': 'InN'\n'name': '12 k', 'type': 'Resistor', 'value': '12 k', 'ports': {'N1': 'InN', 'N2': 'Vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN', 'OutP': 'Vo', 'Vdd':'+15V', '-Vdd':'-15V'\n]\nextrainfo:The circuit is an inverting amplifier with a gain of 12. Input voltage Vs is connected through a 1 k resistor to the inverting input of the op-amp A0, and feedback is provided by a 12 k resistor from the output to the inverting input. The non-inverting input is grounded, and the op-amp is powered by 15V supplies.\n\n\nFigure 5.11 $\\triangle$ Inverting amplifier for Example 5.2.\nb) Solve the inverting-amplifier equation for $v_{s}$ using $v_{o}=+15 \\mathrm{~V}$ and then $v_{o}=-15 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n15 & =-12 v_{s} \\text { so } \\quad v_{s}=-1.25 \\mathrm{~V} \\\\\n-15 & =-12 v_{s} \\text { so } \\quad v_{s}=1.25 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, for the input voltage to keep the op amp in its linear operating region, it must be between -1.25 V and +1.25 V.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.2 In the circuit from Assessment Problem 5.1, the source voltage $v_{s}$ is -640 mV. The $80 \\mathrm{k} \\Omega$ feedback resistor is replaced by a variable resistor $R_{x}$. Determine the range of $R_{x}$ that allows the inverting amplifier to operate linearly.\n\nAnswer: $0 \\leq R_{x} \\leq 250 \\mathrm{k} \\Omega$.\n\nNOTE: Also consider Chapter Problems 5.9 and 5.11.\nimage_name:Figure 5.12\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'vD'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'vb', 'N2': 'vD'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vc', 'N2': 'vD'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'vD', 'N2': 'vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'vD', 'OutP': 'vo','Vdd':'+VCC', '-Vdd':'-VCC'\n]\nextrainfo:This is a summing amplifier circuit with three input voltages va, vb, and vc. The output voltage vo is an inverted, scaled sum of these input voltages. The op-amp is powered by VCC and -VCC.\n\n\nFigure $5.12 \\triangle$ A summing amplifier.\n\nInverting-summing amplifier equation"
},
{
    "text": "We are prepared to explore the functionality of several key operational amplifier (op amp) circuits, utilizing Eqs. 5.2 and 5.3 to model the device's behavior. Figure 5.9 illustrates an inverting-amplifier circuit. We presume the op amp is functioning within its linear range. Note that the circuit comprises, in addition to the op amp, two resistors ($R_{f}$ and $R_{s}$), a voltage signal source ($v_{s}$), and a short circuit linking the noninverting input terminal to the common node.\n\nNext, we analyze this circuit under the assumption of an ideal op amp. Our objective is to derive an expression for the output voltage, $v_{o}$, as a function of the source voltage, $v_{s}$. We apply a single node-voltage equation at the inverting terminal of the op amp, expressed as\n\n$$\n\\begin{equation*}\ni_{s}+i_{f}=i_{n} \\tag{5.6}\n\\end{equation*}\n$$\n\nThe voltage constraint from Eq. 5.2 sets $v_{n}=0$, due to $v_{p}=0$. Consequently,\n\n$$\n\\begin{align*}\ni_{s} & =\\frac{v_{s}}{R_{s}}  \\tag{5.7}\\\\\ni_{f} & =\\frac{v_{o}}{R_{f}} \\tag{5.8}\n\\end{align*}\n$$\n\nWe now apply the constraint from Eq. 5.3, which states\n\n$$\n\\begin{equation*}\ni_{n}=0 \\tag{5.9}\n\\end{equation*}\n$$\n\nSubstituting Eqs. 5.7-5.9 into Eq. 5.6 yields the desired result:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-R_{f}}{R_{s}} v_{s} \\tag{5.10}\n\\end{equation*}\n$$\n\nNote that the output voltage is an inverted, scaled version of the input. The sign inversion from input to output is why the circuit is termed an inverting amplifier. The scaling factor, or gain, is the ratio $R_{f} / R_{s}$.\n\nThe result in Eq. 5.10 is valid only if the op amp in Fig. 5.9 is ideal, meaning $A$ is infinite and the input resistance is infinite. For a real op amp, Eq. 5.10 is an approximation, typically a reliable one. (Further discussion on this follows later.) Eq. 5.10 is significant because it indicates that if the op amp gain $A$ is large, the gain of the inverting amplifier can be determined by the external resistors $R_{f}$ and $R_{s}$. The upper limit on the gain, $R_{f} / R_{s}$, is dictated by the power supply voltages and the signal voltage $v_{s}$. Assuming equal power supply voltages, $V^{+}=-V^{-}=V_{C C}$, we obtain\n\n$$\n\\begin{equation*}\n\\left|v_{o}\\right| \\leq V_{C C}, \\quad\\left|\\frac{R_{f}}{R_{s}} v_{s}\\right| \\leq V_{C C}, \\quad \\frac{R_{f}}{R_{s}} \\leq\\left|\\frac{V_{C C}}{v_{s}}\\right| \\tag{5.11}\n\\end{equation*}\n$$\n\nFor instance, if $V_{C C}=15 \\mathrm{~V}$ and $v_{s}=10 \\mathrm{mV}$, the ratio $R_{f} / R_{s}$ must be less than 1500.\n\nIn the inverting amplifier circuit of Fig. 5.9, the resistor $R_{f}$ provides the negative feedback connection, linking the output terminal to the inverting input terminal. If $R_{f}$ is removed, the feedback path is open, and the amplifier operates in an open-loop configuration. Figure 5.10 depicts this open-loop operation.\n\nOpening the feedback path significantly alters the circuit's behavior. Initially, the output voltage becomes\n\n$$\n\\begin{equation*}\nv_{o}=-A v_{n} \\tag{5.12}\n\\end{equation*}\n$$\n\nassuming $V^{+}=-V^{-}=V_{C C}$; thus, $\\left|v_{n}\\right|<V_{C C} / A$ for linear operation. Since the inverting input current is nearly zero, the voltage drop across $R_{s}$ is minimal, and the inverting input voltage closely matches the signal voltage, $v_{s}$; that is, $v_{n} \\approx v_{s}$. Hence, the op amp can operate in the linear mode open loop only if $\\left|v_{s}\\right|<V_{C C} / A$. If $\\left|v_{s}\\right|>V_{C C} / A$, the op amp saturates. Specifically, if $v_{s}<-V_{C C} / A$, the op amp saturates at $+V_{C C}$, and if $v_{s}>V_{C C} / A$, it saturates at $-V_{C C}$. Because Eq. 5.12 applies when no feedback path exists, $A$ is often termed the open-loop gain of the op amp.\n\nExample 5.2 demonstrates the use of the inverting-amplifier equation to design an inverting amplifier with realistic resistor values.\n\n#### Example 5.2 Designing an Inverting Amplifier\n\na) Design an inverting amplifier (refer to Fig. 5.9) with a gain of 12, using $\\pm 15 \\mathrm{~V}$ power supplies and an ideal op amp.\nb) Determine the range of input voltages, $v_{s}$, that keeps the op amp in this design within its linear operating region.\n\n#### Solution\n\na) We need to select two resistors with a ratio of 12 from the realistic values listed in Appendix H. Numerous combinations are possible, but let's choose $R_{s}=1 \\mathrm{k} \\Omega$ and $R_{f}=12 \\mathrm{k} \\Omega$. Verify the design using the inverting-amplifier equation (Eq. 5.10):\n\n$$\nv_{o}=-\\frac{R_{f}}{R_{s}} v_{s}=-\\frac{12,000}{1000} v_{s}=-12 v_{s}\n$$\n\nThus, we have an inverting amplifier with a gain of 12, as shown in Fig. 5.11.\nimage_name:Figure 5.11\ndescription:\n[\n'name': 'Vs', 'type': 'VoltageSource', 'value': 'Vs', 'ports': {'Np': 'Vs', 'Nn': 'GND'\n'name': '1 k', 'type': 'Resistor', 'value': '1 k', 'ports': {'N1': 'Vs', 'N2': 'InN'\n'name': '12 k', 'type': 'Resistor', 'value': '12 k', 'ports': {'N1': 'InN', 'N2': 'Vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN', 'OutP': 'Vo', 'Vdd':'+15V', '-Vdd':'-15V'\n]\nextrainfo:The circuit is an inverting amplifier with a gain of 12. Input voltage Vs is connected through a 1 k resistor to the inverting input of the op-amp A0, and feedback is provided by a 12 k resistor from the output to the inverting input. The non-inverting input is grounded, and the op-amp is powered by 15V supplies.\n\n\nFigure 5.11 $\\triangle$ Inverting amplifier for Example 5.2.\nb) Solve the inverting-amplifier equation for $v_{s}$ using $v_{o}=+15 \\mathrm{~V}$ and then $v_{o}=-15 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n15 & =-12 v_{s} \\text { so } \\quad v_{s}=-1.25 \\mathrm{~V} \\\\\n-15 & =-12 v_{s} \\text { so } \\quad v_{s}=1.25 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, for input voltages between -1.25 V and +1.25 V, the op amp in the inverting amplifier remains in its linear operating region.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.2 Given a source voltage $v_{s}$ of -640 mV in the circuit from Assessment Problem 5.1, with the $80 \\mathrm{k} \\Omega$ feedback resistor replaced by a variable resistor $R_{x}$, what range of $R_{x}$ allows the inverting amplifier to operate linearly?\n\nAnswer: $0 \\leq R_{x} \\leq 250 \\mathrm{k} \\Omega$.\n\nNOTE: Also consider Chapter Problems 5.9 and 5.11.\nimage_name:Figure 5.12\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'vD'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'vb', 'N2': 'vD'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vc', 'N2': 'vD'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'vD', 'N2': 'vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'vD', 'OutP': 'vo','Vdd':'+VCC', '-Vdd':'-VCC'\n]\nextrainfo:This is a summing amplifier circuit with three input voltages va, vb, and vc. The output voltage vo is an inverted, scaled sum of these input voltages. The op-amp is powered by VCC and -VCC.\n\n\nFigure $5.12 \\triangle$ A summing amplifier.\n\nInverting-summing amplifier equation"
},
{
    "text": "We are prepared to delve into the functionality of several significant op amp circuits, utilizing Eqs. 5.2 and 5.3 to depict the behavior of the device. Figure 5.9 illustrates an inverting-amplifier circuit. We presume the op amp functions within its linear range. Note that, aside from the op amp, the circuit comprises two resistors ($R_{f}$ and $R_{s}$), a voltage signal source ($v_{s}$), and a short circuit linking the noninverting input terminal to the common node.\n\nWe proceed to analyze this circuit under the assumption of an ideal op amp. Our objective is to derive an expression for the output voltage, $v_{o}$, as a function of the source voltage, $v_{s}$. We apply a single node-voltage equation at the inverting terminal of the op amp, expressed as\n\n$$\n\\begin{equation*}\ni_{s}+i_{f}=i_{n} \\tag{5.6}\n\\end{equation*}\n$$\n\nThe voltage constraint from Eq. 5.2 sets $v_{n}=0$, due to $v_{p}=0$. Consequently,\n\n$$\n\\begin{align*}\ni_{s} & =\\frac{v_{s}}{R_{s}}  \\tag{5.7}\\\\\ni_{f} & =\\frac{v_{o}}{R_{f}} \\tag{5.8}\n\\end{align*}\n$$\n\nNext, we apply the constraint from Eq. 5.3, which states\n\n$$\n\\begin{equation*}\ni_{n}=0 \\tag{5.9}\n\\end{equation*}\n$$\n\nSubstituting Eqs. 5.7-5.9 into Eq. 5.6 yields the desired result:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-R_{f}}{R_{s}} v_{s} \\tag{5.10}\n\\end{equation*}\n$$\n\nNote that the output voltage is an inverted, scaled version of the input. The sign inversion from input to output is why the circuit is termed an inverting amplifier. The scaling factor, or gain, is the ratio $R_{f} / R_{s}$.\n\nEq. 5.10 holds true only if the op amp in Fig. 5.9 is ideal, meaning $A$ is infinite and the input resistance is infinite. For a real op amp, Eq. 5.10 is an approximation, typically a reliable one. (Further details will be provided later.) Eq. 5.10 is crucial as it indicates that with a high op amp gain $A$, the inverting amplifier's gain can be set using external resistors $R_{f}$ and $R_{s}$. The upper limit on the gain, $R_{f} / R_{s}$, is dictated by the power supply voltages and the signal voltage $v_{s}$. Assuming equal power supply voltages, $V^{+}=-V^{-}=V_{C C}$, we obtain\n\n$$\n\\begin{equation*}\n\\left|v_{o}\\right| \\leq V_{C C}, \\quad\\left|\\frac{R_{f}}{R_{s}} v_{s}\\right| \\leq V_{C C}, \\quad \\frac{R_{f}}{R_{s}} \\leq\\left|\\frac{V_{C C}}{v_{s}}\\right| \\tag{5.11}\n\\end{equation*}\n$$\n\nFor instance, if $V_{C C}=15 \\mathrm{~V}$ and $v_{s}=10 \\mathrm{mV}$, the ratio $R_{f} / R_{s}$ must be under 1500.\n\nIn the inverting amplifier circuit of Fig. 5.9, resistor $R_{f}$ provides the negative feedback connection, linking the output terminal to the inverting input terminal. Removing $R_{f}$ opens the feedback path, causing the amplifier to operate in an open-loop configuration. Figure 5.10 depicts this open-loop operation.\n\nOpening the feedback path significantly alters the circuit's behavior. Initially, the output voltage becomes\n\n$$\n\\begin{equation*}\nv_{o}=-A v_{n} \\tag{5.12}\n\\end{equation*}\n$$\n\nassuming $V^{+}=-V^{-}=V_{C C}$; thus, $\\left|v_{n}\\right|<V_{C C} / A$ for linear operation. Since the inverting input current is nearly zero, the voltage drop across $R_{s}$ is minimal, and the inverting input voltage closely matches the signal voltage, $v_{s}$; that is, $v_{n} \\approx v_{s}$. Hence, the op amp can operate in the linear mode open-loop only if $\\left|v_{s}\\right|<V_{C C} / A$. If $\\left|v_{s}\\right|>V_{C C} / A$, the op amp saturates. Specifically, if $v_{s}<-V_{C C} / A$, the op amp saturates at $+V_{C C}$, and if $v_{s}>V_{C C} / A$, it saturates at $-V_{C C}$. The value of $A$ in Eq. 5.12, occurring without a feedback path, is often termed the open-loop gain of the op amp.\n\nExample 5.2 employs the inverting-amplifier equation to design an inverting amplifier using practical resistor values.\n\n#### Example 5.2 Designing an Inverting Amplifier\n\na) Design an inverting amplifier (refer to Fig. 5.9) with a gain of 12, using $\\pm 15 \\mathrm{~V}$ power supplies and an ideal op amp.\nb) Determine the range of input voltages, $v_{s}$, that keeps the op amp in this design within its linear operating region.\n\n#### Solution\n\na) We need to identify two resistors with a ratio of 12 from the practical resistor values listed in Appendix H. Numerous options exist, but let's select $R_{s}=1 \\mathrm{k} \\Omega$ and $R_{f}=12 \\mathrm{k} \\Omega$. Verify the design using the inverting-amplifier equation (Eq. 5.10):\n\n$$\nv_{o}=-\\frac{R_{f}}{R_{s}} v_{s}=-\\frac{12,000}{1000} v_{s}=-12 v_{s}\n$$\n\nThus, we have an inverting amplifier with a gain of 12, as shown in Fig. 5.11.\nimage_name:Figure 5.11\ndescription:\n[\n'name': 'Vs', 'type': 'VoltageSource', 'value': 'Vs', 'ports': {'Np': 'Vs', 'Nn': 'GND'\n'name': '1 k', 'type': 'Resistor', 'value': '1 k', 'ports': {'N1': 'Vs', 'N2': 'InN'\n'name': '12 k', 'type': 'Resistor', 'value': '12 k', 'ports': {'N1': 'InN', 'N2': 'Vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN', 'OutP': 'Vo', 'Vdd':'+15V', '-Vdd':'-15V'\n]\nextrainfo:The circuit is an inverting amplifier with a gain of 12. Input voltage Vs is connected through a 1 k resistor to the inverting input of the op-amp A0, and feedback is provided by a 12 k resistor from the output to the inverting input. The non-inverting input is grounded, and the op-amp is powered by 15V supplies.\n\n\nFigure 5.11 $\\triangle$ Inverting amplifier for Example 5.2.\nb) Solve the inverting-amplifier equation for $v_{s}$ using $v_{o}=+15 \\mathrm{~V}$ and then $v_{o}=-15 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n15 & =-12 v_{s} \\text { so } \\quad v_{s}=-1.25 \\mathrm{~V} \\\\\n-15 & =-12 v_{s} \\text { so } \\quad v_{s}=1.25 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, if the input voltage is between -1.25 V and +1.25 V, the op amp in the inverting amplifier will remain in its linear operating region.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.2 In the circuit from Assessment Problem 5.1, the source voltage $v_{s}$ is -640 mV. The $80 \\mathrm{k} \\Omega$ feedback resistor is replaced by a variable resistor $R_{x}$. Determine the range of $R_{x}$ that allows the inverting amplifier to operate linearly.\n\nAnswer: $0 \\leq R_{x} \\leq 250 \\mathrm{k} \\Omega$.\n\nNOTE: Also consider Chapter Problems 5.9 and 5.11.\nimage_name:Figure 5.12\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'vD'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'vb', 'N2': 'vD'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vc', 'N2': 'vD'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'vD', 'N2': 'vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'vD', 'OutP': 'vo','Vdd':'+VCC', '-Vdd':'-VCC'\n]\nextrainfo:This is a summing amplifier circuit with three input voltages va, vb, and vc. The output voltage vo is an inverted, scaled sum of these input voltages. The op-amp is powered by VCC and -VCC.\n\n\nFigure $5.12 \\triangle$ A summing amplifier.\n\nInverting-summing amplifier equation"
},
{
    "text": "We are now prepared to delve into the functioning of several significant operational amplifier (op amp) circuits, utilizing Eqs. 5.2 and 5.3 to model the behavior of the device. Figure 5.9 illustrates an inverting-amplifier circuit. It is assumed that the op amp is operating within its linear range. Note that, aside from the op amp, the circuit comprises two resistors ($R_{f}$ and $R_{s}$), a voltage signal source ($v_{s}$), and a short circuit linking the noninverting input terminal to the common node.\n\nWe proceed to analyze this circuit under the assumption of an ideal op amp. The objective is to derive an expression for the output voltage, $v_{o}$, as a function of the source voltage, $v_{s}$. We apply a single node-voltage equation at the inverting terminal of the op amp, expressed as\n\n$$\n\\begin{equation*}\ni_{s}+i_{f}=i_{n} \\tag{5.6}\n\\end{equation*}\n$$\n\nThe voltage constraint from Eq. 5.2 sets the voltage at $v_{n}=0$, due to the voltage at $v_{p}=0$. Consequently,\n\n$$\n\\begin{align*}\ni_{s} & =\\frac{v_{s}}{R_{s}}  \\tag{5.7}\\\\\ni_{f} & =\\frac{v_{o}}{R_{f}} \\tag{5.8}\n\\end{align*}\n$$\n\nNext, we apply the constraint from Eq. 5.3, which states\n\n$$\n\\begin{equation*}\ni_{n}=0 \\tag{5.9}\n\\end{equation*}\n$$\n\nSubstituting Eqs. 5.7-5.9 into Eq. 5.6 yields the desired result:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-R_{f}}{R_{s}} v_{s} \\tag{5.10}\n\\end{equation*}\n$$\n\nNote that the output voltage is an inverted, scaled version of the input. The sign inversion from input to output is the reason the circuit is termed an inverting amplifier. The scaling factor, or gain, is the ratio $R_{f} / R_{s}$.\n\nThe result given by Eq. 5.10 holds true only if the op amp in the circuit shown in Fig. 5.9 is ideal; that is, if the gain $A$ is infinite and the input resistance is infinite. For a real op amp, Eq. 5.10 is an approximation, typically a reliable one. (Further discussion on this follows later.) Equation 5.10 is significant because it indicates that if the op amp gain $A$ is large, the gain of the inverting amplifier can be determined by the external resistors $R_{f}$ and $R_{s}$. The upper limit on the gain, $R_{f} / R_{s}$, is dictated by the power supply voltages and the signal voltage $v_{s}$. Assuming equal power supply voltages, i.e., $V^{+}=-V^{-}=V_{C C}$, we obtain\n\n$$\n\\begin{equation*}\n\\left|v_{o}\\right| \\leq V_{C C}, \\quad\\left|\\frac{R_{f}}{R_{s}} v_{s}\\right| \\leq V_{C C}, \\quad \\frac{R_{f}}{R_{s}} \\leq\\left|\\frac{V_{C C}}{v_{s}}\\right| \\tag{5.11}\n\\end{equation*}\n$$\n\nFor instance, if $V_{C C}=15 \\mathrm{~V}$ and $v_{s}=10 \\mathrm{mV}$, the ratio $R_{f} / R_{s}$ must be less than 1500.\n\nIn the inverting amplifier circuit depicted in Fig. 5.9, the resistor $R_{f}$ provides the negative feedback connection, linking the output terminal to the inverting input terminal. If $R_{f}$ is removed, the feedback path is open, and the amplifier is said to be operating in an open-loop configuration. Figure 5.10 shows this open-loop operation.\n\nOpening the feedback path significantly alters the circuit's behavior. Firstly, the output voltage now becomes\n\n$$\n\\begin{equation*}\nv_{o}=-A v_{n} \\tag{5.12}\n\\end{equation*}\n$$\n\nassuming, as before, that $V^{+}=-V^{-}=V_{C C}$; then $\\left|v_{n}\\right|<V_{C C} / A$ for linear operation. Since the inverting input current is nearly zero, the voltage drop across $R_{s}$ is almost negligible, and the inverting input voltage closely approximates the signal voltage, $v_{s}$; that is, $v_{n} \\approx v_{s}$. Hence, the op amp can operate in the linear mode open loop only if $\\left|v_{s}\\right|<V_{C C} / A$. If $\\left|v_{s}\\right|>V_{C C} / A$, the op amp simply saturates. Specifically, if $v_{s}<-V_{C C} / A$, the op amp saturates at $+V_{C C}$, and if $v_{s}>V_{C C} / A$, it saturates at $-V_{C C}$. Because Eq. 5.12 describes the behavior without a feedback path, the value of $A$ is often referred to as the open-loop gain of the op amp.\n\nExample 5.2 demonstrates the use of the inverting-amplifier equation to design an inverting amplifier with realistic resistor values.\n\n#### Example 5.2 Designing an Inverting Amplifier\n\na) Design an inverting amplifier (refer to Fig. 5.9) with a gain of 12. Utilize $\\pm 15 \\mathrm{~V}$ power supplies and an ideal op amp.\nb) Determine the range of input voltages, $v_{s}$, that allows the op amp in this design to remain in its linear operating region.\n\n#### Solution\n\na) We need to select two resistors whose ratio is 12 from the realistic resistor values listed in Appendix H. Numerous combinations are possible, but let's opt for $R_{s}=1 \\mathrm{k} \\Omega$ and $R_{f}=12 \\mathrm{k} \\Omega$. Verify the design using the inverting-amplifier equation (Eq. 5.10):\n\n$$\nv_{o}=-\\frac{R_{f}}{R_{s}} v_{s}=-\\frac{12,000}{1000} v_{s}=-12 v_{s}\n$$\n\nThus, we have an inverting amplifier with a gain of 12, as shown in Fig. 5.11.\nimage_name:Figure 5.11\ndescription:\n[\n'name': 'Vs', 'type': 'VoltageSource', 'value': 'Vs', 'ports': {'Np': 'Vs', 'Nn': 'GND'\n'name': '1 k', 'type': 'Resistor', 'value': '1 k', 'ports': {'N1': 'Vs', 'N2': 'InN'\n'name': '12 k', 'type': 'Resistor', 'value': '12 k', 'ports': {'N1': 'InN', 'N2': 'Vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN', 'OutP': 'Vo', 'Vdd':'+15V', '-Vdd':'-15V'\n]\nextrainfo:The circuit is an inverting amplifier with a gain of 12. Input voltage Vs is connected through a 1 k resistor to the inverting input of the op-amp A0, and feedback is provided by a 12 k resistor from the output to the inverting input. The non-inverting input is grounded, and the op-amp is powered by 15V supplies.\n\n\nFigure 5.11 $\\triangle$ Inverting amplifier for Example 5.2.\nb) Solve the inverting-amplifier equation for $v_{s}$ using $v_{o}=+15 \\mathrm{~V}$ and then $v_{o}=-15 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n15 & =-12 v_{s} \\text { so } \\quad v_{s}=-1.25 \\mathrm{~V} \\\\\n-15 & =-12 v_{s} \\text { so } \\quad v_{s}=1.25 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, if the input voltage is between -1.25 V and +1.25 V, the op amp in the inverting amplifier will remain in its linear operating region.\n\nASSESSMENT PROBLEM\n\nObjective 2-Be able to analyze simple circuits containing ideal op amps\n5.2 In the circuit from Assessment Problem 5.1, the source voltage $v_{s}$ is -640 mV. The $80 \\mathrm{k} \\Omega$ feedback resistor is replaced by a variable resistor $R_{x}$. Determine the range of $R_{x}$ that allows the inverting amplifier to operate in its linear region.\n\nAnswer: $0 \\leq R_{x} \\leq 250 \\mathrm{k} \\Omega$.\n\nNOTE: Also try Chapter Problems 5.9 and 5.11.\nimage_name:Figure 5.12\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'vD'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'vb', 'N2': 'vD'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vc', 'N2': 'vD'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'vD', 'N2': 'vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'vD', 'OutP': 'vo','Vdd':'+VCC', '-Vdd':'-VCC'\n]\nextrainfo:This is a summing amplifier circuit with three input voltages va, vb, and vc. The output voltage vo is an inverted, scaled sum of these input voltages. The op-amp is powered by VCC and -VCC.\n\n\nFigure $5.12 \\triangle$ A summing amplifier.\n\nInverting-summing amplifier equation"
},
{
    "text": "We are prepared to explore the functionality of several significant op amp circuits, utilizing Eqs. 5.2 and 5.3 to model the device's behavior. Figure 5.9 illustrates an inverting-amplifier circuit. We presume the op amp is functioning within its linear range. Note that, aside from the op amp, the circuit comprises two resistors ($R_{f}$ and $R_{s}$), a voltage signal source ($v_{s}$), and a short circuit linking the noninverting input terminal to the common node.\n\nWe now examine this circuit under the assumption of an ideal op amp. Our objective is to derive an expression for the output voltage, $v_{o}$, as a function of the source voltage, $v_{s}$. We apply a single node-voltage equation at the inverting terminal of the op amp, expressed as\n\n$$\n\\begin{equation*}\ni_{s}+i_{f}=i_{n} \\tag{5.6}\n\\end{equation*}\n$$\n\nThe voltage constraint of Eq. 5.2 sets $v_{n}=0$, due to $v_{p}=0$. Consequently,\n\n$$\n\\begin{align*}\ni_{s} & =\\frac{v_{s}}{R_{s}}  \\tag{5.7}\\\\\ni_{f} & =\\frac{v_{o}}{R_{f}} \\tag{5.8}\n\\end{align*}\n$$\n\nNext, we apply the constraint from Eq. 5.3, which states\n\n$$\n\\begin{equation*}\ni_{n}=0 \\tag{5.9}\n\\end{equation*}\n$$\n\nSubstituting Eqs. 5.7-5.9 into Eq. 5.6 yields the desired result:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-R_{f}}{R_{s}} v_{s} \\tag{5.10}\n\\end{equation*}\n$$\n\nNote that the output voltage is an inverted, scaled version of the input. The sign inversion from input to output is why the circuit is termed an inverting amplifier. The scaling factor, or gain, is the ratio $R_{f} / R_{s}$.\n\nEq. 5.10 is valid only if the op amp in Fig. 5.9 is ideal, meaning $A$ is infinite and the input resistance is infinite. For a real op amp, Eq. 5.10 is an approximation, typically a good one. (Further discussion on this follows later.) Eq. 5.10 is crucial because it indicates that if the op amp gain $A$ is large, the inverting amplifier's gain can be set using external resistors $R_{f}$ and $R_{s}$. The upper limit on the gain, $R_{f} / R_{s}$, is dictated by the power supply voltages and the signal voltage $v_{s}$. Assuming equal power supply voltages, $V^{+}=-V^{-}=V_{C C}$, we get\n\n$$\n\\begin{equation*}\n\\left|v_{o}\\right| \\leq V_{C C}, \\quad\\left|\\frac{R_{f}}{R_{s}} v_{s}\\right| \\leq V_{C C}, \\quad \\frac{R_{f}}{R_{s}} \\leq\\left|\\frac{V_{C C}}{v_{s}}\\right| \\tag{5.11}\n\\end{equation*}\n$$\n\nFor instance, if $V_{C C}=15 \\mathrm{~V}$ and $v_{s}=10 \\mathrm{mV}$, the ratio $R_{f} / R_{s}$ must be less than 1500.\n\nIn the inverting amplifier circuit of Fig. 5.9, resistor $R_{f}$ provides the negative feedback connection, linking the output terminal to the inverting input terminal. Removing $R_{f}$ opens the feedback path, resulting in open-loop operation, as depicted in Fig. 5.10.\n\nOpen-loop operation significantly alters the circuit's behavior. Firstly, the output voltage now is\n\n$$\n\\begin{equation*}\nv_{o}=-A v_{n} \\tag{5.12}\n\\end{equation*}\n$$\n\nassuming $V^{+}=-V^{-}=V_{C C}$; thus, $\\left|v_{n}\\right|<V_{C C} / A$ for linear operation. Since the inverting input current is nearly zero, the voltage drop across $R_{s}$ is minimal, making the inverting input voltage almost equal to the signal voltage, $v_{s}$; that is, $v_{n} \\approx v_{s}$. Hence, the op amp can operate in the linear mode open-loop only if $\\left|v_{s}\\right|<V_{C C} / A$. If $\\left|v_{s}\\right|>V_{C C} / A$, the op amp saturates. Specifically, if $v_{s}<-V_{C C} / A$, the op amp saturates at $+V_{C C}$, and if $v_{s}>V_{C C} / A$, it saturates at $-V_{C C}$. The value of $A$ in Eq. 5.12, occurring without feedback, is termed the open-loop gain of the op amp.\n\nExample 5.2 demonstrates the use of the inverting-amplifier equation to design an inverting amplifier with practical resistor values.\n\n#### Example 5.2 Designing an Inverting Amplifier\n\na) Design an inverting amplifier (refer to Fig. 5.9) with a gain of 12, using $\\pm 15 \\mathrm{~V}$ power supplies and an ideal op amp.\nb) Determine the range of input voltages, $v_{s}$, that keeps the op amp in its linear operating region for this design.\n\n#### Solution\n\na) We need to select two resistors with a ratio of 12 from the practical values listed in Appendix H. Numerous options exist, but let's choose $R_{s}=1 \\mathrm{k} \\Omega$ and $R_{f}=12 \\mathrm{k} \\Omega$. Verify the design using the inverting-amplifier equation (Eq. 5.10):\n\n$$\nv_{o}=-\\frac{R_{f}}{R_{s}} v_{s}=-\\frac{12,000}{1000} v_{s}=-12 v_{s}\n$$\n\nThus, we have an inverting amplifier with a gain of 12, as shown in Fig. 5.11.\nimage_name:Figure 5.11\ndescription:\n[\n'name': 'Vs', 'type': 'VoltageSource', 'value': 'Vs', 'ports': {'Np': 'Vs', 'Nn': 'GND'\n'name': '1 k', 'type': 'Resistor', 'value': '1 k', 'ports': {'N1': 'Vs', 'N2': 'InN'\n'name': '12 k', 'type': 'Resistor', 'value': '12 k', 'ports': {'N1': 'InN', 'N2': 'Vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN', 'OutP': 'Vo', 'Vdd':'+15V', '-Vdd':'-15V'\n]\nextrainfo:The circuit is an inverting amplifier with a gain of 12. Input voltage Vs is connected through a 1 k resistor to the inverting input of the op-amp A0, and feedback is provided by a 12 k resistor from the output to the inverting input. The non-inverting input is grounded, and the op-amp is powered by 15V supplies.\n\n\nFigure 5.11 $\\triangle$ Inverting amplifier for Example 5.2.\nb) Solve the inverting-amplifier equation for $v_{s}$ using $v_{o}=+15 \\mathrm{~V}$ and then $v_{o}=-15 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n15 & =-12 v_{s} \\text { so } \\quad v_{s}=-1.25 \\mathrm{~V} \\\\\n-15 & =-12 v_{s} \\text { so } \\quad v_{s}=1.25 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, for the input voltage to keep the op amp in its linear operating region, it must be between -1.25 V and +1.25 V.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits with ideal op amps\n5.2 In Assessment Problem 5.1, the source voltage $v_{s}$ is -640 mV. The $80 \\mathrm{k} \\Omega$ feedback resistor is replaced by a variable resistor $R_{x}$. What range of $R_{x}$ allows the inverting amplifier to operate linearly?\n\nAnswer: $0 \\leq R_{x} \\leq 250 \\mathrm{k} \\Omega$.\n\nNOTE: Also attempt Chapter Problems 5.9 and 5.11.\nimage_name:Figure 5.12\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'vD'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'vb', 'N2': 'vD'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vc', 'N2': 'vD'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'vD', 'N2': 'vo'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'vD', 'OutP': 'vo','Vdd':'+VCC', '-Vdd':'-VCC'\n]\nextrainfo:This is a summing amplifier circuit with three input voltages va, vb, and vc. The output voltage vo is an inverted, scaled sum of these input voltages. The op-amp is powered by VCC and -VCC.\n\n\nFigure $5.12 \\triangle$ A summing amplifier.\n\nInverting-summing amplifier equation"
},
{
    "text": "The output voltage of a summing amplifier is the inverted, scaled sum of the voltages applied to its input. Figure 5.12 illustrates a summing amplifier with three input voltages.\n\nWe derive the relationship between the output voltage \\( v_{o} \\) and the three input voltages, \\( v_{\\mathrm{a}}, v_{\\mathrm{b}}, \\) and \\( v_{\\mathrm{c}} \\), by summing the currents flowing away from the inverting input terminal:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{\\mathrm{b}}}{R_{\\mathrm{b}}}+\\frac{v_{n}-v_{\\mathrm{c}}}{R_{\\mathrm{c}}}+\\frac{v_{n}-v_{o}}{R_{f}}+i_{n}=0 \\tag{5.13}\n\\end{equation*}\n$$\n\nFor an ideal op amp, using voltage and current constraints along with the ground reference at \\( v_{p} \\) imposed by the circuit, we find \\( v_{n}=v_{p}=0 \\) and \\( i_{n}=0 \\). This simplifies Eq. 5.13 to\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(\\frac{R_{f}}{R_{\\mathrm{a}}} v_{\\mathrm{a}}+\\frac{R_{f}}{R_{\\mathrm{b}}} v_{\\mathrm{b}}+\\frac{R_{f}}{R_{\\mathrm{c}}} v_{\\mathrm{c}}\\right) \\tag{5.14}\n\\end{equation*}\n$$\n\nEquation 5.14 indicates that the output voltage is an inverted, scaled sum of the three input voltages.\n\nIf \\( R_{\\mathrm{a}}=R_{\\mathrm{b}}=R_{\\mathrm{c}}=R_{s} \\), Eq. 5.14 simplifies to\n\n$$\n\\begin{equation*}\nv_{o}=-\\frac{R_{f}}{R_{s}}\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.15}\n\\end{equation*}\n$$\n\nFurthermore, if \\( R_{f}=R_{s} \\), the output voltage becomes merely the inverted sum of the input voltages:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.16}\n\\end{equation*}\n$$\n\nAlthough the example illustrates a summing amplifier with three input signals, the number of input voltages can be expanded as required. For instance, summing 16 individual audio signals to create a single audio signal is possible. The summing amplifier in Fig. 5.12 can incorporate 16 different input resistor values, allowing each input audio track to appear in the output with varying amplification factors. Thus, the summing amplifier functions as an audio mixer. Similar to inverting-amplifier circuits, the scaling factors in summing-amplifier circuits are governed by the external resistors \\( R_{f}, R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}, \\ldots, R_{n} \\).\n\nASSESSMENT PROBLEM\n\nObjective 2: Ability to analyze simple circuits containing ideal op amps\n5.3 a) Determine \\( v_{o} \\) in the given circuit when \\( v_{\\mathrm{a}}=0.1 \\mathrm{~V} \\) and \\( v_{\\mathrm{b}}=0.25 \\mathrm{~V} \\).\nb) If \\( v_{\\mathrm{b}}=0.25 \\mathrm{~V} \\), what is the maximum allowable \\( v_{\\mathrm{a}} \\) before the op amp saturates?\nc) If \\( v_{\\mathrm{a}}=0.10 \\mathrm{~V} \\), what is the maximum allowable \\( v_{\\mathrm{b}} \\) before the op amp saturates?\nd) Repeat (a), (b), and (c) with the polarity of \\( v_{\\mathrm{b}} \\) reversed.\n\nAnswer: (a) -7.5 V;\n(b) 0.15 V;\n\nNOTE: Also attempt Chapter Problems 5.12-5.14.\n(c) 0.5 V;\n(d) -2.5, 0.25, and 2 V.\n\nImage Description:\n- Voltage Source \\( V_{a} \\) connected between \\( V_{a} \\) and GND\n- Voltage Source \\( V_{b} \\) connected between \\( V_{b} \\) and GND\n- Resistor \\( 5 \\text{k} \\) connected between \\( V_{a} \\) and InN(A0)\n- Resistor \\( 25 \\text{k} \\) connected between \\( V_{b} \\) and InN(A0)\n- Resistor \\( 250 \\text{k} \\) connected between \\( V_{o} \\) and InP(A0)\n- Op Amp \\( A0 \\) with ports InP grounded, InN connected to InN(A0), OutP connected to \\( V_{o} \\), powered by +15V and -10V\n\nExtra Info: This circuit is a non-inverting amplifier with feedback. The op-amp is powered by a dual supply of +15V and -10V. The input voltages are \\( V_{a} \\) and \\( V_{b} \\), and the output voltage is \\( V_{o} \\). The resistors form a voltage divider network for the op-amp input."
},
{
    "text": "The output voltage of a summing amplifier is an inverted, scaled sum of the voltages applied to its input. Figure 5.12 illustrates a summing amplifier with three input voltages.\n\nWe derive the relationship between the output voltage $v_{o}$ and the three input voltages, $v_{\\mathrm{a}}, v_{\\mathrm{b}}$, and $v_{\\mathrm{c}}$, by summing the currents flowing away from the inverting input terminal:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{\\mathrm{b}}}{R_{\\mathrm{b}}}+\\frac{v_{n}-v_{\\mathrm{c}}}{R_{\\mathrm{c}}}+\\frac{v_{n}-v_{o}}{R_{f}}+i_{n}=0 \\tag{5.13}\n\\end{equation*}\n$$\n\nFor an ideal op amp, using voltage and current constraints along with the ground reference at $v_{p}$, we find $v_{n}=v_{p}=0$ and $i_{n}=0$. This simplifies Eq. 5.13 to:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(\\frac{R_{f}}{R_{\\mathrm{a}}} v_{\\mathrm{a}}+\\frac{R_{f}}{R_{\\mathrm{b}}} v_{\\mathrm{b}}+\\frac{R_{f}}{R_{\\mathrm{c}}} v_{\\mathrm{c}}\\right) \\tag{5.14}\n\\end{equation*}\n$$\n\nEquation 5.14 indicates that the output voltage is an inverted, scaled sum of the three input voltages.\n\nIf $R_{\\mathrm{a}}=R_{\\mathrm{b}}=R_{\\mathrm{c}}=R_{s}$, Eq. 5.14 simplifies to:\n\n$$\n\\begin{equation*}\nv_{o}=-\\frac{R_{f}}{R_{s}}\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.15}\n\\end{equation*}\n$$\n\nFurthermore, if $R_{f}=R_{s}$, the output voltage becomes merely the inverted sum of the input voltages:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.16}\n\\end{equation*}\n$$\n\nWhile the example demonstrates a summing amplifier with three inputs, the number of input voltages can be expanded as required. For instance, summing 16 individual audio signals to create a single audio signal is possible. The configuration in Fig. 5.12 can incorporate 16 different input resistors, allowing each audio track to contribute to the output with a distinct amplification factor. Thus, the summing amplifier functions as an audio mixer. Similar to inverting-amplifier circuits, the scaling factors in summing-amplifier circuits are governed by the external resistors $R_{f}, R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}, \\ldots, R_{n}$.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits with ideal op amps\n5.3 a) Determine $v_{o}$ for the given circuit if $v_{\\mathrm{a}}=0.1 \\mathrm{~V}$ and $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$.\nb) If $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$, what is the maximum $v_{\\mathrm{a}}$ before op amp saturation?\nc) If $v_{\\mathrm{a}}=0.10 \\mathrm{~V}$, what is the maximum $v_{\\mathrm{b}}$ before op amp saturation?\nd) Repeat (a), (b), and (c) with the polarity of $v_{\\mathrm{b}}$ reversed.\n\nAnswer: (a) -7.5 V;\n(b) 0.15 V;\n\nNOTE: Also consider Chapter Problems 5.12-5.14.\n(c) 0.5 V;\n(d) -2.5, 0.25, and 2 V.\nimage_name:Figure\ndescription:\n[\n'name': 'Va', 'type': 'VoltageSource', 'value': 'Va', 'ports': {'Np': 'Va', 'Nn': 'GND'\n'name': 'Vb', 'type': 'VoltageSource', 'value': 'Vb', 'ports': {'Np': 'Vb', 'Nn': 'GND'\n'name': '5 k', 'type': 'Resistor', 'value': '5 k', 'ports': {'N1': 'Va', 'N2': 'InN(A0)'\n'name': '25 k', 'type': 'Resistor', 'value': '25 k', 'ports': {'N1': 'Vb', 'N2': 'InN(A0)'\n'name': '250 k', 'type': 'Resistor', 'value': '250 k', 'ports': {'N1': 'Vo', 'N2': 'InP(A0)'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd':'15V','-Vdd':'-10V'\n]\nextrainfo:This circuit is a non-inverting amplifier with feedback. The op-amp is powered by a dual supply of +15V and -10V. The input voltages are Va and Vb, and the output voltage is Vo. The resistors form a voltage divider network for the op-amp input."
},
{
    "text": "The rephrased text:\n\n```\nThe output voltage of a summing amplifier is a scaled and inverted sum of the voltages applied to its input. Figure 5.12 illustrates a summing amplifier with three input voltages.\n\nWe derive the relationship between the output voltage $v_{o}$ and the three input voltages, $v_{\\mathrm{a}}, v_{\\mathrm{b}}$, and $v_{\\mathrm{c}}$, by summing the currents flowing away from the inverting input terminal:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{\\mathrm{b}}}{R_{\\mathrm{b}}}+\\frac{v_{n}-v_{\\mathrm{c}}}{R_{\\mathrm{c}}}+\\frac{v_{n}-v_{o}}{R_{f}}+i_{n}=0 \\tag{5.13}\n\\end{equation*}\n$$\n\nFor an ideal op amp, applying voltage and current constraints along with the ground condition at $v_{p}$ set by the circuit, we find $v_{n}=v_{p}=0$ and $i_{n}=0$. This simplifies Eq. 5.13 to\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(\\frac{R_{f}}{R_{\\mathrm{a}}} v_{\\mathrm{a}}+\\frac{R_{f}}{R_{\\mathrm{b}}} v_{\\mathrm{b}}+\\frac{R_{f}}{R_{\\mathrm{c}}} v_{\\mathrm{c}}\\right) \\tag{5.14}\n\\end{equation*}\n$$\n\nEquation 5.14 indicates that the output voltage is an inverted, scaled sum of the three input voltages.\n\nIf $R_{\\mathrm{a}}=R_{\\mathrm{b}}=R_{\\mathrm{c}}=R_{s}$, Eq. 5.14 simplifies to\n\n$$\n\\begin{equation*}\nv_{o}=-\\frac{R_{f}}{R_{s}}\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.15}\n\\end{equation*}\n$$\n\nFurthermore, if $R_{f}=R_{s}$, the output voltage becomes simply the inverted sum of the input voltages:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.16}\n\\end{equation*}\n$$\n\nAlthough the example shows a summing amplifier with three input signals, the number of input voltages can be expanded as required. For instance, summing 16 individual audio signals to create a single audio signal is possible. The summing amplifier in Fig. 5.12 can incorporate 16 different input resistor values, allowing each audio track to contribute to the output with a distinct amplification factor. Thus, the summing amplifier functions as an audio mixer. Similar to inverting-amplifier circuits, the scaling factors in summing-amplifier circuits are governed by the external resistors $R_{f}, R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}, \\ldots, R_{n}$.\n\nASSESSMENT PROBLEM\n\nObjective 2: Ability to analyze simple circuits with ideal op amps\n5.3 a) Determine $v_{o}$ in the given circuit when $v_{\\mathrm{a}}=0.1 \\mathrm{~V}$ and $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$.\nb) If $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$, what is the maximum value of $v_{\\mathrm{a}}$ before the op amp saturates?\nc) If $v_{\\mathrm{a}}=0.10 \\mathrm{~V}$, what is the maximum value of $v_{\\mathrm{b}}$ before the op amp saturates?\nd) Repeat parts (a), (b), and (c) with the polarity of $v_{\\mathrm{b}}$ reversed.\n\nAnswer: (a) -7.5 V;\n(b) 0.15 V;\n\nNOTE: Also consider Chapter Problems 5.12-5.14.\n(c) 0.5 V;\n(d) $-2.5, 0.25$, and 2 V.\n\nImage Description:\n- **Components**:\n  - **Va**: Voltage source, value 'Va', connected from Va to GND.\n  - **Vb**: Voltage source, value 'Vb', connected from Vb to GND.\n  - **5 k Resistor**: Connected from Va to InN(A0).\n  - **25 k Resistor**: Connected from Vb to InN(A0).\n  - **250 k Resistor**: Connected from Vo to InP(A0).\n  - **A0**: Op-amp, ports InP connected to GND, InN to InN(A0), OutP to Vo, powered by +15V and -10V.\n\n- **Additional Info**: This circuit is a non-inverting amplifier with feedback. The op-amp is powered by a dual supply of +15V and -10V. Input voltages are Va and Vb, and the output voltage is Vo. Resistors form a voltage divider network for the op-amp input.\n```"
},
{
    "text": "The rephrased text:\n\n```\nThe output voltage of a summing amplifier is an inverted, scaled sum of the voltages applied to its input. Figure 5.12 illustrates a summing amplifier with three input voltages.\n\nWe derive the relationship between the output voltage $v_{o}$ and the three input voltages, $v_{\\mathrm{a}}, v_{\\mathrm{b}}$, and $v_{\\mathrm{c}}$, by summing the currents flowing away from the inverting input terminal:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{\\mathrm{b}}}{R_{\\mathrm{b}}}+\\frac{v_{n}-v_{\\mathrm{c}}}{R_{\\mathrm{c}}}+\\frac{v_{n}-v_{o}}{R_{f}}+i_{n}=0 \\tag{5.13}\n\\end{equation*}\n$$\n\nAssuming an ideal operational amplifier, we apply the voltage and current constraints along with the ground condition at $v_{p}$ imposed by the circuit, leading to $v_{n}=v_{p}=0$ and $i_{n}=0$. This simplifies Eq. 5.13 to\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(\\frac{R_{f}}{R_{\\mathrm{a}}} v_{\\mathrm{a}}+\\frac{R_{f}}{R_{\\mathrm{b}}} v_{\\mathrm{b}}+\\frac{R_{f}}{R_{\\mathrm{c}}} v_{\\mathrm{c}}\\right) \\tag{5.14}\n\\end{equation*}\n$$\n\nEquation 5.14 indicates that the output voltage is an inverted, scaled sum of the three input voltages.\n\nIf $R_{\\mathrm{a}}=R_{\\mathrm{b}}=R_{\\mathrm{c}}=R_{s}$, Eq. 5.14 simplifies to\n\n$$\n\\begin{equation*}\nv_{o}=-\\frac{R_{f}}{R_{s}}\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.15}\n\\end{equation*}\n$$\n\nFurthermore, if $R_{f}=R_{s}$, the output voltage becomes merely the inverted sum of the input voltages:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.16}\n\\end{equation*}\n$$\n\nAlthough the example demonstrates a summing amplifier with three input signals, the number of input voltages can be expanded as necessary. For instance, summing 16 individual audio signals to create a single audio signal is feasible. The summing amplifier configuration in Fig. 5.12 can incorporate 16 distinct input resistor values, allowing each input audio track to appear in the output with a unique amplification factor. Thus, the summing amplifier functions as an audio mixer. Similar to inverting-amplifier circuits, the scaling factors in summing-amplifier circuits are dictated by the external resistors $R_{f}, R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}, \\ldots, R_{n}$.\n\nASSESSMENT PROBLEM\n\nObjective 2: Ability to analyze simple circuits containing ideal operational amplifiers\n5.3 a) Determine $v_{o}$ in the given circuit when $v_{\\mathrm{a}}=0.1 \\mathrm{~V}$ and $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$.\nb) If $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$, what is the maximum allowable $v_{\\mathrm{a}}$ before the op amp saturates?\nc) If $v_{\\mathrm{a}}=0.10 \\mathrm{~V}$, what is the maximum allowable $v_{\\mathrm{b}}$ before the op amp saturates?\nd) Repeat parts (a), (b), and (c) with the polarity of $v_{\\mathrm{b}}$ reversed.\n\nAnswer: (a) -7.5 V;\n(b) 0.15 V;\n\nNOTE: Also attempt Chapter Problems 5.12-5.14.\n(c) 0.5 V;\n(d) -2.5 V, 0.25 V, and 2 V.\n\nImage Description:\n- 'Va': Voltage source connected to ground.\n- 'Vb': Voltage source connected to ground.\n- '5 k': Resistor between Va and the inverting input of A0.\n- '25 k': Resistor between Vb and the inverting input of A0.\n- '250 k': Resistor between Vo and the non-inverting input of A0.\n- 'A0': Operational amplifier with non-inverting input grounded, inverting input connected to the resistors, and output Vo. Powered by +15V and -10V supplies.\n\nAdditional Info: This circuit is a non-inverting amplifier with feedback. The op-amp is powered by a dual supply of +15V and -10V. The input voltages are Va and Vb, and the output voltage is Vo. The resistors form a voltage divider network for the op-amp input.\n```"
},
{
    "text": "The output voltage of a summing amplifier is the inverted, scaled sum of the voltages applied to its inputs. Figure 5.12 illustrates a summing amplifier with three input voltages.\n\nTo derive the relationship between the output voltage $v_{o}$ and the three input voltages, $v_{\\mathrm{a}}, v_{\\mathrm{b}}$, and $v_{\\mathrm{c}}$, we sum the currents flowing away from the inverting input terminal:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{\\mathrm{b}}}{R_{\\mathrm{b}}}+\\frac{v_{n}-v_{\\mathrm{c}}}{R_{\\mathrm{c}}}+\\frac{v_{n}-v_{o}}{R_{f}}+i_{n}=0 \\tag{5.13}\n\\end{equation*}\n$$\n\nFor an ideal op amp, applying voltage and current constraints along with the ground condition at $v_{p}$ imposed by the circuit, we find that $v_{n}=v_{p}=0$ and $i_{n}=0$. This simplifies Eq. 5.13 to\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(\\frac{R_{f}}{R_{\\mathrm{a}}} v_{\\mathrm{a}}+\\frac{R_{f}}{R_{\\mathrm{b}}} v_{\\mathrm{b}}+\\frac{R_{f}}{R_{\\mathrm{c}}} v_{\\mathrm{c}}\\right) \\tag{5.14}\n\\end{equation*}\n$$\n\nEquation 5.14 indicates that the output voltage is an inverted, scaled sum of the three input voltages.\n\nIf $R_{\\mathrm{a}}=R_{\\mathrm{b}}=R_{\\mathrm{c}}=R_{s}$, Eq. 5.14 simplifies to\n\n$$\n\\begin{equation*}\nv_{o}=-\\frac{R_{f}}{R_{s}}\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.15}\n\\end{equation*}\n$$\n\nFurthermore, if $R_{f}=R_{s}$, the output voltage becomes simply the inverted sum of the input voltages:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.16}\n\\end{equation*}\n$$\n\nWhile the example shows a summing amplifier with three input signals, the number of input voltages can be expanded as required. For instance, summing 16 individual audio signals to create a single audio signal is possible. The summing amplifier in Fig. 5.12 can incorporate 16 different input resistor values, allowing each audio track to contribute to the output with a distinct amplification factor. Thus, the summing amplifier functions as an audio mixer. As with inverting-amplifier circuits, the scaling factors in summing-amplifier circuits are dictated by the external resistors $R_{f}, R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}, \\ldots, R_{n}$.\n\nASSESSMENT PROBLEM\n\nObjective 2-Be able to analyze simple circuits containing ideal op amps\n5.3 a) Determine $v_{o}$ in the circuit depicted when $v_{\\mathrm{a}}=0.1 \\mathrm{~V}$ and $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$.\nb) If $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$, what is the maximum value of $v_{\\mathrm{a}}$ before the op amp saturates?\nc) If $v_{\\mathrm{a}}=0.10 \\mathrm{~V}$, what is the maximum value of $v_{\\mathrm{b}}$ before the op amp saturates?\nd) Repeat (a), (b), and (c) with the polarity of $v_{\\mathrm{b}}$ reversed.\n\nAnswer: (a) -7.5 V;\n(b) 0.15 V ;\n\nNOTE: Also try Chapter Problems 5.12-5.14.\n(c) 0.5 V ;\n(d) $-2.5,0.25$, and 2 V .\n\nimage_name:Figure\ndescription:\n[\n'name': 'Va', 'type': 'VoltageSource', 'value': 'Va', 'ports': {'Np': 'Va', 'Nn': 'GND'\n'name': 'Vb', 'type': 'VoltageSource', 'value': 'Vb', 'ports': {'Np': 'Vb', 'Nn': 'GND'\n'name': '5 k', 'type': 'Resistor', 'value': '5 k', 'ports': {'N1': 'Va', 'N2': 'InN(A0)'\n'name': '25 k', 'type': 'Resistor', 'value': '25 k', 'ports': {'N1': 'Vb', 'N2': 'InN(A0)'\n'name': '250 k', 'type': 'Resistor', 'value': '250 k', 'ports': {'N1': 'Vo', 'N2': 'InP(A0)'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN(A0)', 'OutP': 'Vo''Vdd':'15V','-Vdd':'-10V'\n]\nextrainfo:This circuit is a non-inverting amplifier with feedback. The op-amp is powered by a dual supply of +15V and -10V. The input voltages are Va and Vb, and the output voltage is Vo. The resistors form a voltage divider network for the op-amp input."
},
{
    "text": "The rephrased text:\n\n```\nThe output voltage of a summing amplifier is an inverted, scaled sum of the voltages applied to its input. Figure 5.12 illustrates a summing amplifier with three input voltages.\n\nWe derive the relationship between the output voltage $v_{o}$ and the three input voltages, $v_{\\mathrm{a}}, v_{\\mathrm{b}}$, and $v_{\\mathrm{c}}$, by summing the currents flowing away from the inverting input terminal:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{\\mathrm{b}}}{R_{\\mathrm{b}}}+\\frac{v_{n}-v_{\\mathrm{c}}}{R_{\\mathrm{c}}}+\\frac{v_{n}-v_{o}}{R_{f}}+i_{n}=0 \\tag{5.13}\n\\end{equation*}\n$$\n\nAssuming an ideal operational amplifier, we apply the voltage and current constraints, along with the ground condition at $v_{p}$ imposed by the circuit, to conclude that $v_{n}=v_{p}=0$ and $i_{n}=0$. This simplifies Eq. 5.13 to\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(\\frac{R_{f}}{R_{\\mathrm{a}}} v_{\\mathrm{a}}+\\frac{R_{f}}{R_{\\mathrm{b}}} v_{\\mathrm{b}}+\\frac{R_{f}}{R_{\\mathrm{c}}} v_{\\mathrm{c}}\\right) \\tag{5.14}\n\\end{equation*}\n$$\n\nEquation 5.14 indicates that the output voltage is an inverted, scaled sum of the three input voltages.\n\nIf $R_{\\mathrm{a}}=R_{\\mathrm{b}}=R_{\\mathrm{c}}=R_{s}$, Eq. 5.14 simplifies to\n\n$$\n\\begin{equation*}\nv_{o}=-\\frac{R_{f}}{R_{s}}\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.15}\n\\end{equation*}\n$$\n\nFurthermore, if $R_{f}=R_{s}$, the output voltage becomes simply the inverted sum of the input voltages, expressed as\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.16}\n\\end{equation*}\n$$\n\nAlthough we demonstrated the summing amplifier with three input signals, the number of input voltages can be expanded as necessary. For instance, you might need to combine 16 individual audio signals into a single audio signal. The summing amplifier configuration in Fig. 5.12 could incorporate 16 distinct input resistor values, allowing each input audio track to appear in the output signal with a different amplification factor. Thus, the summing amplifier functions as an audio mixer. Similar to inverting-amplifier circuits, the scaling factors in summing-amplifier circuits are determined by the external resistors $R_{f}, R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}, \\ldots, R_{n}$.\n\nASSESSMENT PROBLEM\n\nObjective 2: Ability to analyze simple circuits containing ideal op amps\n5.3 a) Determine $v_{o}$ in the given circuit when $v_{\\mathrm{a}}=0.1 \\mathrm{~V}$ and $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$.\nb) If $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$, what is the maximum value of $v_{\\mathrm{a}}$ before the op amp saturates?\nc) If $v_{\\mathrm{a}}=0.10 \\mathrm{~V}$, what is the maximum value of $v_{\\mathrm{b}}$ before the op amp saturates?\nd) Repeat parts (a), (b), and (c) with the polarity of $v_{\\mathrm{b}}$ reversed.\n\nAnswer: (a) -7.5 V;\n(b) 0.15 V ;\n\nNOTE: Also attempt Chapter Problems 5.12-5.14.\n(c) 0.5 V ;\n(d) $-2.5,0.25$, and 2 V .\nimage_name: Figure\ndescription:\n[\n'name': 'Va', 'type': 'VoltageSource', 'value': 'Va', 'ports': {'Np': 'Va', 'Nn': 'GND'}\n'name': 'Vb', 'type': 'VoltageSource', 'value': 'Vb', 'ports': {'Np': 'Vb', 'Nn': 'GND'}\n'name': '5 k', 'type': 'Resistor', 'value': '5 k', 'ports': {'N1': 'Va', 'N2': 'InN(A0)'}\n'name': '25 k', 'type': 'Resistor', 'value': '25 k', 'ports': {'N1': 'Vb', 'N2': 'InN(A0)'}\n'name': '250 k', 'type': 'Resistor', 'value': '250 k', 'ports': {'N1': 'Vo', 'N2': 'InP(A0)'}\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'GND', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd':'15V','-Vdd':'-10V'}\n]\nextrainfo: This circuit is a non-inverting amplifier with feedback. The op-amp is powered by a dual supply of +15V and -10V. The input voltages are Va and Vb, and the output voltage is Vo. The resistors form a voltage divider network for the op-amp input.\n```"
},
{
    "text": "The output voltage of a summing amplifier is the inverted, scaled sum of the voltages applied to its inputs. Figure 5.12 depicts a summing amplifier with three input voltages.\n\nTo derive the relationship between the output voltage $v_{o}$ and the three input voltages $v_{\\mathrm{a}}, v_{\\mathrm{b}}$, and $v_{\\mathrm{c}}$, we sum the currents flowing away from the inverting input terminal:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{\\mathrm{b}}}{R_{\\mathrm{b}}}+\\frac{v_{n}-v_{\\mathrm{c}}}{R_{\\mathrm{c}}}+\\frac{v_{n}-v_{o}}{R_{f}}+i_{n}=0 \\tag{5.13}\n\\end{equation*}\n$$\n\nAssuming an ideal operational amplifier, we apply the voltage and current constraints, along with the ground reference at $v_{p}$ imposed by the circuit, leading to $v_{n}=v_{p}=0$ and $i_{n}=0$. This simplifies Eq. 5.13 to:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(\\frac{R_{f}}{R_{\\mathrm{a}}} v_{\\mathrm{a}}+\\frac{R_{f}}{R_{\\mathrm{b}}} v_{\\mathrm{b}}+\\frac{R_{f}}{R_{\\mathrm{c}}} v_{\\mathrm{c}}\\right) \\tag{5.14}\n\\end{equation*}\n$$\n\nEquation 5.14 indicates that the output voltage is an inverted, scaled sum of the three input voltages.\n\nIf $R_{\\mathrm{a}}=R_{\\mathrm{b}}=R_{\\mathrm{c}}=R_{s}$, Eq. 5.14 simplifies to:\n\n$$\n\\begin{equation*}\nv_{o}=-\\frac{R_{f}}{R_{s}}\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.15}\n\\end{equation*}\n$$\n\nFurthermore, if $R_{f}=R_{s}$, the output voltage becomes merely the inverted sum of the input voltages:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.16}\n\\end{equation*}\n$$\n\nWhile the example illustrates a summing amplifier with three input signals, the number of input voltages can be expanded as required. For instance, summing 16 individual audio signals to create a single audio signal is possible. The summing amplifier configuration in Fig. 5.12 can incorporate 16 distinct input resistor values, allowing each input audio track to contribute to the output signal with a different amplification factor. Thus, the summing amplifier functions as an audio mixer. Similar to inverting-amplifier circuits, the scaling factors in summing-amplifier circuits are determined by the external resistors $R_{f}, R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}, \\ldots, R_{n}$.\n\nASSESSMENT PROBLEM\n\nObjective 2: Ability to analyze simple circuits containing ideal op amps\n5.3 a) Determine $v_{o}$ for the given circuit if $v_{\\mathrm{a}}=0.1 \\mathrm{~V}$ and $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$.\nb) If $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$, what is the maximum allowable $v_{\\mathrm{a}}$ before the op amp saturates?\nc) If $v_{\\mathrm{a}}=0.10 \\mathrm{~V}$, what is the maximum allowable $v_{\\mathrm{b}}$ before the op amp saturates?\nd) Repeat parts (a), (b), and (c) with the polarity of $v_{\\mathrm{b}}$ reversed.\n\nAnswer: (a) -7.5 V;\n(b) 0.15 V;\n\nNOTE: Also consider Chapter Problems 5.12-5.14.\n(c) 0.5 V;\n(d) -2.5 V, 0.25 V, and 2 V.\n\nImage Description:\n- Voltage Source 'Va' connected between 'Va' and ground.\n- Voltage Source 'Vb' connected between 'Vb' and ground.\n- Resistor of 5 k connected between 'Va' and the inverting input of op-amp 'A0'.\n- Resistor of 25 k connected between 'Vb' and the inverting input of op-amp 'A0'.\n- Resistor of 250 k connected between the output 'Vo' and the non-inverting input of op-amp 'A0'.\n- Op-amp 'A0' with non-inverting input grounded, inverting input connected to the resistors, output 'Vo', and powered by +15V and -10V supplies.\n\nAdditional Info: This circuit is a non-inverting amplifier with feedback. The op-amp is powered by a dual supply of +15V and -10V. The input voltages are Va and Vb, and the output voltage is Vo. The resistors form a voltage divider network for the op-amp input."
},
{
    "text": "The rephrased text:\n\nThe output voltage of a summing amplifier is an inverted, scaled sum of the voltages applied to its inputs. Figure 5.12 illustrates a summing amplifier with three input voltages.\n\nWe derive the relationship between the output voltage $v_{o}$ and the three input voltages, $v_{\\mathrm{a}}, v_{\\mathrm{b}}$, and $v_{\\mathrm{c}}$, by summing the currents flowing away from the inverting input terminal:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{\\mathrm{b}}}{R_{\\mathrm{b}}}+\\frac{v_{n}-v_{\\mathrm{c}}}{R_{\\mathrm{c}}}+\\frac{v_{n}-v_{o}}{R_{f}}+i_{n}=0 \\tag{5.13}\n\\end{equation*}\n$$\n\nAssuming an ideal operational amplifier, we apply the voltage and current constraints along with the ground condition at $v_{p}$ imposed by the circuit, leading to $v_{n}=v_{p}=0$ and $i_{n}=0$. This simplifies Eq. 5.13 to\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(\\frac{R_{f}}{R_{\\mathrm{a}}} v_{\\mathrm{a}}+\\frac{R_{f}}{R_{\\mathrm{b}}} v_{\\mathrm{b}}+\\frac{R_{f}}{R_{\\mathrm{c}}} v_{\\mathrm{c}}\\right) \\tag{5.14}\n\\end{equation*}\n$$\n\nEquation 5.14 indicates that the output voltage is an inverted, scaled sum of the three input voltages.\n\nIf $R_{\\mathrm{a}}=R_{\\mathrm{b}}=R_{\\mathrm{c}}=R_{s}$, Eq. 5.14 simplifies to\n\n$$\n\\begin{equation*}\nv_{o}=-\\frac{R_{f}}{R_{s}}\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.15}\n\\end{equation*}\n$$\n\nFurthermore, if $R_{f}=R_{s}$, the output voltage becomes merely the inverted sum of the input voltages:\n\n$$\n\\begin{equation*}\nv_{o}=-\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}+v_{\\mathrm{c}}\\right) \\tag{5.16}\n\\end{equation*}\n$$\n\nAlthough the example demonstrates a summing amplifier with three input signals, the number of input voltages can be expanded as required. For instance, summing 16 individual audio signals to create a single audio signal is possible. The summing amplifier configuration in Fig. 5.12 can incorporate 16 distinct input resistor values, allowing each input audio track to appear in the output with a unique amplification factor. Thus, the summing amplifier functions as an audio mixer. Similar to inverting-amplifier circuits, the scaling factors in summing-amplifier circuits are dictated by the external resistors $R_{f}, R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}, \\ldots, R_{n}$.\n\nASSESSMENT PROBLEM\n\nObjective 2: Ability to analyze simple circuits containing ideal op amps\n5.3 a) Determine $v_{o}$ in the depicted circuit when $v_{\\mathrm{a}}=0.1 \\mathrm{~V}$ and $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$.\nb) If $v_{\\mathrm{b}}=0.25 \\mathrm{~V}$, what is the maximum value of $v_{\\mathrm{a}}$ before the op amp saturates?\nc) If $v_{\\mathrm{a}}=0.10 \\mathrm{~V}$, what is the maximum value of $v_{\\mathrm{b}}$ before the op amp saturates?\nd) Repeat (a), (b), and (c) with the polarity of $v_{\\mathrm{b}}$ reversed.\n\nAnswer: (a) -7.5 V;\n(b) 0.15 V;\n\nNOTE: Also attempt Chapter Problems 5.12-5.14.\n(c) 0.5 V;\n(d) -2.5, 0.25, and 2 V.\n\nImage Description:\n- **Components**:\n  - **Va**: Voltage source, value 'Va', connected from Va to GND.\n  - **Vb**: Voltage source, value 'Vb', connected from Vb to GND.\n  - **5 k**: Resistor, value '5 k', connected from Va to InN(A0).\n  - **25 k**: Resistor, value '25 k', connected from Vb to InN(A0).\n  - **250 k**: Resistor, value '250 k', connected from Vo to InP(A0).\n  - **A0**: Operational amplifier, ports InP connected to GND, InN to InN(A0), OutP to Vo, powered by +15V and -10V.\n\n- **Additional Info**: This circuit is a non-inverting amplifier with feedback. The op-amp is powered by a dual supply of +15V and -10V. The input voltages are Va and Vb, and the output voltage is Vo. The resistors form a voltage divider network for the op-amp input."
},
{
    "text": "Figure 5.13 illustrates a noninverting-amplifier circuit. The signal source is denoted by $v_{g}$ in series with resistor $R_{g}$. To derive the output voltage as a function of the source voltage, we assume an ideal op amp operating within its linear range. Consequently, we utilize Eqs. 5.2 and 5.3 as the foundation for our derivation. Given that the op amp's input current is zero, we can state $v_{p}=v_{g}$ and, from Eq. 5.2, $v_{n}=v_{g}$ as well. Since the input current is zero $\\left(i_{n}=i_{p}=0\\right)$, resistors $R_{f}$ and $R_{s}$ form an unloaded voltage divider across $v_{o}$. Thus,\n\n$$\n\\begin{equation*}\nv_{n}=v_{g}=\\frac{v_{o} R_{s}}{R_{s}+R_{f}} \\tag{5.17}\n\\end{equation*}\n$$\n\nSolving Eq. 5.17 for $v_{o}$ yields the desired expression:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g} \\tag{5.18}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.13\ndescription:\n[\n'name': 'Rs1', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'GND', 'N2': 'InN(Ao)'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(Ao)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd':'+VCC','-Vdd':'-VCC'\n'name': 'Rs2', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'Vg', 'N2': 'InP(Ao)'\n]\nextrainfo:The circuit is a non-inverting amplifier configuration using an operational amplifier (Ao). The input voltage Vg is applied to the non-inverting input of the op-amp through a resistor Rs. The feedback resistor Rf and Rs form a voltage divider network that determines the gain of the amplifier. The output voltage Vo is taken from the op-amp's output. The amplifier is powered by a dual supply voltage VCC and -VCC.\n\n\nFigure $5.13 \\triangle \\mathrm{~A}$ noninverting amplifier.\n\nOperation within the linear region necessitates that\n\n$$\n\\frac{R_{s}+R_{f}}{R_{s}}<\\left|\\frac{V_{C C}}{v_{g}}\\right|\n$$\n\nAgain, due to the ideal op amp assumption, the output voltage can be expressed as a function of the input voltage and the external resistors, specifically $R_{s}$ and $R_{f}$.\n\nExample 5.3 demonstrates the design of a noninverting amplifier using practical resistor values.\n\n#### Example 5.3 Designing a Noninverting Amplifier\n\na) Design a noninverting amplifier (refer to Fig. 5.13) with a gain of 6, assuming an ideal op amp.\nb) If we aim to amplify a voltage $v_{\\mathrm{g}}$ such that $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, what are the minimum power supply voltages required with the resistors chosen in part (a) to keep the op amp in its linear operating region?\n\n#### Solution\n\na) Using the noninverting amplifier equation (Eq. 5.18),\n\n$$\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g}=6 v_{g} \\quad \\text { thus } \\quad \\frac{R_{s}+R_{f}}{R_{s}}=6\n$$\n\nTherefore,\n\n$$\nR_{s}+R_{f}=6 R_{s}, \\quad \\text { hence } \\quad R_{f}=5 R_{s}\n$$\n\nWe need two resistors with a ratio of 5. Referring to the realistic resistor values in Appendix H, let's select $R_{f}=10 \\mathrm{k} \\Omega$, so $R_{s}=2 \\mathrm{k} \\Omega$. However, a $2 \\mathrm{k} \\Omega$ resistor is not available in Appendix H. We can create an equivalent $2 \\mathrm{k} \\Omega$ resistor by connecting two $1 \\mathrm{k} \\Omega$ resistors in series. We can also use a third $1 \\mathrm{k} \\Omega$ resistor for $R_{g}$.\nb) Solve the noninverting amplifier equation for $v_{o}$ using $v_{g}=+1.5 \\mathrm{~V}$ and $v_{g}=-1.5 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=6(1.5)=9 \\mathrm{~V} \\\\\n& v_{o}=6(-1.5)=-9 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, using $\\pm 9 \\mathrm{~V}$ power supplies for the noninverting amplifier designed in part (a) with $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, the op amp will stay in its linear operating region. The circuit resulting from the analysis in parts (a) and (b) is depicted in Fig. 5.14.\nimage_name:Figure 5.14\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'GND', 'N2': 'X1'\n'name': 'R2', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'X1', 'N2': 'InN(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'Vg', 'N2': 'InP(A0)'\n'name': 'R4', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'InN(A0)', 'N2': 'Vo'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo','Vdd':'1.5V','-Vdd':'-1.5V'\n]\nextrainfo:The circuit is a non-inverting amplifier with a gain set by the resistors, using an ideal op-amp. The op-amp is powered by 1.5 V supplies.\n\n\nFigure 5.14 A The noninverting amplifier design of Example 5.3.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.4 Assume the op amp in the circuit shown is ideal.\na) Determine the output voltage when the variable resistor is set to $60 \\mathrm{k} \\Omega$.\nb) What is the maximum value $R_{x}$ can reach before the amplifier saturates?\nAnswer: (a) 4.8 V ;\n(b) $75 \\mathrm{k} \\Omega$.\nimage_name:Figure\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '4.5k', 'ports': {'N1': 'GND', 'N2': 'InN(A0)'\n'name': 'R2', 'type': 'Resistor', 'value': '15k', 'ports': {'N1': 'Vin', 'N2': 'InP(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '63k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'\n'name': 'Rx', 'type': 'Resistor', 'value': 'Rx', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': 'Vin', 'type': 'VoltageSource', 'value': '400mV', 'ports': {'Np': 'Vin', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+5V', '-Vdd': '-5V'\n]\nextrainfo:The circuit is a non-inverting amplifier using an ideal op-amp with 5V supplies. The output voltage depends on the resistor values and the input voltage. The variable resistor Rx influences the gain and saturation point of the amplifier.\n\n\nNOTE: Also attempt Chapter Problems 5.19 and 5.20."
},
{
    "text": "Figure 5.13 illustrates a noninverting-amplifier circuit. The signal source is represented by $v_{g}$ in series with the resistor $R_{g}$. When deriving the output voltage as a function of the source voltage, we assume an ideal op amp operating within its linear range. As previously done, we utilize Eqs. 5.2 and 5.3 as the foundation for this derivation. Given that the op amp's input current is zero, we can assert $v_{p}=v_{g}$ and, from Eq. 5.2, $v_{n}=v_{g}$ as well. Since the input current is zero $\\left(i_{n}=i_{p}=0\\right)$, the resistors $R_{f}$ and $R_{s}$ constitute an unloaded voltage divider across $v_{o}$. Consequently,\n\n$$\n\\begin{equation*}\nv_{n}=v_{g}=\\frac{v_{o} R_{s}}{R_{s}+R_{f}} \\tag{5.17}\n\\end{equation*}\n$$\n\nSolving Eq. 5.17 for $v_{o}$ yields the desired expression:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g} \\tag{5.18}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.13\ndescription:\n[\n'name': 'Rs1', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'GND', 'N2': 'InN(Ao)'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(Ao)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd':'+VCC','-Vdd':'-VCC'\n'name': 'Rs2', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'Vg', 'N2': 'InP(Ao)'\n]\nextrainfo:The circuit is a non-inverting amplifier configuration using an operational amplifier (Ao). The input voltage Vg is applied to the non-inverting input of the op-amp through a resistor Rs. The feedback resistor Rf and Rs form a voltage divider network that determines the amplifier's gain. The output voltage Vo is taken from the op-amp's output. The amplifier is powered by a dual supply voltage VCC and -VCC.\n\n\nFigure $5.13 \\triangle \\mathrm{~A}$ noninverting amplifier.\n\nFor operation within the linear region, it is required that\n\n$$\n\\frac{R_{s}+R_{f}}{R_{s}}<\\left|\\frac{V_{C C}}{v_{g}}\\right|\n$$\n\nAgain, due to the ideal op amp assumption, the output voltage can be expressed as a function of the input voltage and the external resistors, specifically $R_{s}$ and $R_{f}$.\n\nExample 5.3 demonstrates the design of a noninverting amplifier using practical resistor values.\n\n#### Example 5.3 Designing a Noninverting Amplifier\n\na) Design a noninverting amplifier (refer to Fig. 5.13) with a gain of 6, assuming an ideal op amp.\nb) If we aim to amplify a voltage $v_{\\mathrm{g}}$ such that $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, what are the minimum power supply voltages required with the resistors chosen in part (a) to keep the op amp in its linear operating region?\n\n#### Solution\n\na) Using the noninverting amplifier equation (Eq. 5.18),\n\n$$\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g}=6 v_{g} \\quad \\text { thus } \\quad \\frac{R_{s}+R_{f}}{R_{s}}=6\n$$\n\nHence,\n\n$$\nR_{s}+R_{f}=6 R_{s}, \\quad \\text { so } \\quad R_{f}=5 R_{s}\n$$\n\nWe need two resistors with a ratio of 5. Referring to the realistic resistor values in Appendix H, let's select $R_{f}=10 \\mathrm{k} \\Omega$, making $R_{s}=2 \\mathrm{k} \\Omega$. Since a $2 \\mathrm{k} \\Omega$ resistor is not available in Appendix H, we can create an equivalent $2 \\mathrm{k} \\Omega$ resistor by connecting two $1 \\mathrm{k} \\Omega$ resistors in series. We can also use a third $1 \\mathrm{k} \\Omega$ resistor for $R_{g}$.\nb) Solve the noninverting amplifier equation for $v_{o}$ using $v_{g}=+1.5 \\mathrm{~V}$ and $v_{g}=-1.5 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=6(1.5)=9 \\mathrm{~V} \\\\\n& v_{o}=6(-1.5)=-9 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, using $\\pm 9 \\mathrm{~V}$ power supplies for the noninverting amplifier designed in part (a) and with $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, the op amp will stay in its linear operating region. The circuit resulting from the analysis in parts (a) and (b) is depicted in Fig. 5.14.\nimage_name:Figure 5.14\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'GND', 'N2': 'X1'\n'name': 'R2', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'X1', 'N2': 'InN(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'Vg', 'N2': 'InP(A0)'\n'name': 'R4', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'InN(A0)', 'N2': 'Vo'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo','Vdd':'1.5V','-Vdd':'-1.5V'\n]\nextrainfo:The circuit is a non-inverting amplifier with gain set by the resistors, using an ideal op-amp. The op-amp is powered by 1.5 V supplies.\n\n\nFigure 5.14 A The noninverting amplifier design of Example 5.3.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.4 Assume the op amp in the depicted circuit is ideal.\na) Determine the output voltage when the variable resistor is set to $60 \\mathrm{k} \\Omega$.\nb) What is the maximum value $R_{x}$ can reach before the amplifier saturates?\nAnswer: (a) 4.8 V ;\n(b) $75 \\mathrm{k} \\Omega$.\nimage_name:Figure\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '4.5k', 'ports': {'N1': 'GND', 'N2': 'InN(A0)'\n'name': 'R2', 'type': 'Resistor', 'value': '15k', 'ports': {'N1': 'Vin', 'N2': 'InP(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '63k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'\n'name': 'Rx', 'type': 'Resistor', 'value': 'Rx', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': 'Vin', 'type': 'VoltageSource', 'value': '400mV', 'ports': {'Np': 'Vin', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+5V', '-Vdd': '-5V'\n]\nextrainfo:The circuit is a non-inverting amplifier using an ideal op-amp with 5V supplies. The output voltage depends on the resistor values and the input voltage. The variable resistor Rx influences the gain and saturation point of the amplifier.\n\n\nNOTE: Also attempt Chapter Problems 5.19 and 5.20."
},
{
    "text": "Figure 5.13 illustrates a noninverting-amplifier circuit. The signal source is represented by $v_{g}$ in series with resistor $R_{g}$. When deriving the output voltage as a function of the source voltage, we assume an ideal op amp operating within its linear range. Consequently, we use Eqs. 5.2 and 5.3 as the basis for this derivation. Given that the op amp's input current is zero, we can state $v_{p}=v_{g}$ and, from Eq. 5.2, $v_{n}=v_{g}$ as well. Since the input current is zero $\\left(i_{n}=i_{p}=0\\right)$, resistors $R_{f}$ and $R_{s}$ form an unloaded voltage divider across $v_{o}$. Thus,\n\n$$\n\\begin{equation*}\nv_{n}=v_{g}=\\frac{v_{o} R_{s}}{R_{s}+R_{f}} \\tag{5.17}\n\\end{equation*}\n$$\n\nSolving Eq. 5.17 for $v_{o}$ yields the desired expression:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g} \\tag{5.18}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.13\ndescription:\n[\n'name': 'Rs1', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'GND', 'N2': 'InN(Ao)'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(Ao)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd':'+VCC','-Vdd':'-VCC'\n'name': 'Rs2', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'Vg', 'N2': 'InP(Ao)'\n]\nextrainfo:The circuit is a non-inverting amplifier configuration using an operational amplifier (Ao). The input voltage Vg is applied to the non-inverting input of the op-amp through a resistor Rs. The feedback resistor Rf and Rs form a voltage divider network that determines the gain of the amplifier. The output voltage Vo is taken from the op-amp's output. The amplifier is powered by a dual supply voltage VCC and -VCC.\n\n\nFigure $5.13 \\triangle \\mathrm{~A}$ noninverting amplifier.\n\nOperation within the linear region necessitates that\n\n$$\n\\frac{R_{s}+R_{f}}{R_{s}}<\\left|\\frac{V_{C C}}{v_{g}}\\right|\n$$\n\nAgain, due to the ideal op amp assumption, the output voltage can be expressed as a function of the input voltage and the external resistors, specifically $R_{s}$ and $R_{f}$.\n\nExample 5.3 demonstrates the design of a noninverting amplifier using practical resistor values.\n\n#### Example 5.3 Designing a Noninverting Amplifier\n\na) Design a noninverting amplifier (refer to Fig. 5.13) with a gain of 6, assuming an ideal op amp.\nb) If we aim to amplify a voltage $v_{\\mathrm{g}}$ such that $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, what are the minimum power supply voltages required with the resistors chosen in part (a) to keep the op amp in its linear operating region?\n\n#### Solution\n\na) Utilizing the noninverting amplifier equation (Eq. 5.18),\n\n$$\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g}=6 v_{g} \\quad \\text { thus } \\quad \\frac{R_{s}+R_{f}}{R_{s}}=6\n$$\n\nHence,\n\n$$\nR_{s}+R_{f}=6 R_{s}, \\quad \\text { so } \\quad R_{f}=5 R_{s}\n$$\n\nWe need two resistors with a ratio of 5. Referring to the realistic resistor values in Appendix H, let's select $R_{f}=10 \\mathrm{k} \\Omega$, making $R_{s}=2 \\mathrm{k} \\Omega$. Since a $2 \\mathrm{k} \\Omega$ resistor is not available in Appendix H, we can create an equivalent $2 \\mathrm{k} \\Omega$ resistor by connecting two $1 \\mathrm{k} \\Omega$ resistors in series. We can also use a third $1 \\mathrm{k} \\Omega$ resistor for $R_{g}$.\nb) Solve the noninverting amplifier equation for $v_{o}$ using $v_{g}=+1.5 \\mathrm{~V}$ and $v_{g}=-1.5 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=6(1.5)=9 \\mathrm{~V} \\\\\n& v_{o}=6(-1.5)=-9 \\mathrm{~V}\n\\end{aligned}\n$$\n\nTherefore, using $\\pm 9 \\mathrm{~V}$ power supplies for the noninverting amplifier designed in part (a) with $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$ ensures the op amp remains in its linear operating region. The resulting circuit from the analysis in parts (a) and (b) is depicted in Fig. 5.14.\nimage_name:Figure 5.14\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'GND', 'N2': 'X1'\n'name': 'R2', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'X1', 'N2': 'InN(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'Vg', 'N2': 'InP(A0)'\n'name': 'R4', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'InN(A0)', 'N2': 'Vo'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo','Vdd':'1.5V','-Vdd':'-1.5V'\n]\nextrainfo:The circuit is a non-inverting amplifier with a gain set by the resistors, using an ideal op-amp. The op-amp is powered by 1.5 V supplies.\n\n\nFigure 5.14 A The noninverting amplifier design of Example 5.3.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.4 Assume the op amp in the depicted circuit is ideal.\na) Determine the output voltage when the variable resistor is set to $60 \\mathrm{k} \\Omega$.\nb) What is the maximum value $R_{x}$ can be before the amplifier saturates?\nAnswer: (a) 4.8 V ;\n(b) $75 \\mathrm{k} \\Omega$.\nimage_name:Figure\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '4.5k', 'ports': {'N1': 'GND', 'N2': 'InN(A0)'\n'name': 'R2', 'type': 'Resistor', 'value': '15k', 'ports': {'N1': 'Vin', 'N2': 'InP(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '63k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'\n'name': 'Rx', 'type': 'Resistor', 'value': 'Rx', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': 'Vin', 'type': 'VoltageSource', 'value': '400mV', 'ports': {'Np': 'Vin', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+5V', '-Vdd': '-5V'\n]\nextrainfo:The circuit is a non-inverting amplifier using an ideal op-amp with 5V supplies. The output voltage depends on the resistor values and the input voltage. The variable resistor Rx influences the gain and saturation point of the amplifier.\n\n\nNOTE: Also attempt Chapter Problems 5.19 and 5.20."
},
{
    "text": "Figure 5.13 illustrates a noninverting-amplifier circuit. The signal source is denoted by $v_{g}$ in series with resistor $R_{g}$. To derive the expression for the output voltage as a function of the source voltage, we assume an ideal op amp functioning within its linear range. Consequently, we employ Eqs. 5.2 and 5.3 as the foundation for our derivation. Given that the op amp's input current is zero, we can state $v_{p}=v_{g}$, and from Eq. 5.2, $v_{n}=v_{g}$ as well. Since the input current is zero $\\left(i_{n}=i_{p}=0\\right)$, resistors $R_{f}$ and $R_{s}$ constitute an unloaded voltage divider across $v_{o}$. Thus,\n\n$$\n\\begin{equation*}\nv_{n}=v_{g}=\\frac{v_{o} R_{s}}{R_{s}+R_{f}} \\tag{5.17}\n\\end{equation*}\n$$\n\nSolving Eq. 5.17 for $v_{o}$ yields the desired expression:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g} \\tag{5.18}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.13\ndescription:\n[\n'name': 'Rs1', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'GND', 'N2': 'InN(Ao)'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(Ao)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd':'+VCC','-Vdd':'-VCC'\n'name': 'Rs2', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'Vg', 'N2': 'InP(Ao)'\n]\nextrainfo:The circuit is a non-inverting amplifier configuration using an operational amplifier (Ao). The input voltage Vg is applied to the non-inverting input of the op-amp through a resistor Rs. The feedback resistor Rf and Rs form a voltage divider network that determines the amplifier's gain. The output voltage Vo is derived from the op-amp's output. The amplifier is powered by a dual supply voltage VCC and -VCC.\n\n\nFigure $5.13 \\triangle \\mathrm{~A}$ noninverting amplifier.\n\nOperation within the linear region necessitates that\n\n$$\n\\frac{R_{s}+R_{f}}{R_{s}}<\\left|\\frac{V_{C C}}{v_{g}}\\right|\n$$\n\nAgain, due to the ideal op amp assumption, we can express the output voltage as a function of the input voltage and the external resistors, specifically $R_{s}$ and $R_{f}$.\n\nExample 5.3 demonstrates the design of a noninverting amplifier using practical resistor values.\n\n#### Example 5.3 Designing a Noninverting Amplifier\n\na) Design a noninverting amplifier (refer to Fig. 5.13) with a gain of 6, assuming an ideal op amp.\nb) If we aim to amplify a voltage $v_{\\mathrm{g}}$ such that $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, what are the minimum power supply voltages required with the resistors chosen in part (a) to keep the op amp in its linear operating region?\n\n#### Solution\n\na) Utilizing the noninverting amplifier equation (Eq. 5.18),\n\n$$\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g}=6 v_{g} \\quad \\text { thus } \\quad \\frac{R_{s}+R_{f}}{R_{s}}=6\n$$\n\nHence,\n\n$$\nR_{s}+R_{f}=6 R_{s}, \\quad \\text { so } \\quad R_{f}=5 R_{s}\n$$\n\nWe need two resistors with a ratio of 5. Referring to the realistic resistor values in Appendix H, let's select $R_{f}=10 \\mathrm{k} \\Omega$, making $R_{s}=2 \\mathrm{k} \\Omega$. Since a $2 \\mathrm{k} \\Omega$ resistor is not available in Appendix H, we can create an equivalent $2 \\mathrm{k} \\Omega$ resistor by connecting two $1 \\mathrm{k} \\Omega$ resistors in series. We can also use a third $1 \\mathrm{k} \\Omega$ resistor for $R_{g}$.\nb) Solve the noninverting amplifier equation for $v_{o}$ using $v_{g}=+1.5 \\mathrm{~V}$ and $v_{g}=-1.5 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=6(1.5)=9 \\mathrm{~V} \\\\\n& v_{o}=6(-1.5)=-9 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, using $\\pm 9 \\mathrm{~V}$ power supplies for the noninverting amplifier designed in part (a) with $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, the op amp will stay in its linear operating region. The circuit resulting from the analysis in parts (a) and (b) is depicted in Fig. 5.14.\nimage_name:Figure 5.14\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'GND', 'N2': 'X1'\n'name': 'R2', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'X1', 'N2': 'InN(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'Vg', 'N2': 'InP(A0)'\n'name': 'R4', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'InN(A0)', 'N2': 'Vo'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo','Vdd':'1.5V','-Vdd':'-1.5V'\n]\nextrainfo:The circuit is a non-inverting amplifier with gain set by the resistors, using an ideal op-amp. The op-amp is powered by 1.5 V supplies.\n\n\nFigure 5.14 A The noninverting amplifier design of Example 5.3.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.4 Assume the op amp in the depicted circuit is ideal.\na) Determine the output voltage when the variable resistor is set to $60 \\mathrm{k} \\Omega$.\nb) What is the maximum value $R_{x}$ can reach before the amplifier saturates?\nAnswer: (a) 4.8 V ;\n(b) $75 \\mathrm{k} \\Omega$.\nimage_name:Figure\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '4.5k', 'ports': {'N1': 'GND', 'N2': 'InN(A0)'\n'name': 'R2', 'type': 'Resistor', 'value': '15k', 'ports': {'N1': 'Vin', 'N2': 'InP(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '63k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'\n'name': 'Rx', 'type': 'Resistor', 'value': 'Rx', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': 'Vin', 'type': 'VoltageSource', 'value': '400mV', 'ports': {'Np': 'Vin', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+5V', '-Vdd': '-5V'\n]\nextrainfo:The circuit is a non-inverting amplifier using an ideal op-amp with 5V supplies. The output voltage depends on the resistor values and the input voltage. The variable resistor Rx influences the gain and saturation point of the amplifier.\n\n\nNOTE: Also attempt Chapter Problems 5.19 and 5.20."
},
{
    "text": "Figure 5.13 illustrates a noninverting-amplifier circuit. The signal source is represented by $v_{g}$ in series with resistor $R_{g}$. To derive the output voltage as a function of the source voltage, we assume an ideal op amp operating within its linear range. Consequently, we utilize Eqs. 5.2 and 5.3 as the foundation for the derivation. Given that the op amp's input current is zero, we can assert $v_{p}=v_{g}$ and, from Eq. 5.2, $v_{n}=v_{g}$ as well. Since the input current is zero $\\left(i_{n}=i_{p}=0\\right)$, resistors $R_{f}$ and $R_{s}$ form an unloaded voltage divider across $v_{o}$. Thus,\n\n$$\n\\begin{equation*}\nv_{n}=v_{g}=\\frac{v_{o} R_{s}}{R_{s}+R_{f}} \\tag{5.17}\n\\end{equation*}\n$$\n\nSolving Eq. 5.17 for $v_{o}$ yields the desired expression:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g} \\tag{5.18}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.13\ndescription:\n[\n'name': 'Rs1', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'GND', 'N2': 'InN(Ao)'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(Ao)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd':'+VCC','-Vdd':'-VCC'\n'name': 'Rs2', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'Vg', 'N2': 'InP(Ao)'\n]\nextrainfo:The circuit is a non-inverting amplifier configuration using an operational amplifier (Ao). The input voltage Vg is applied to the non-inverting input of the op-amp through a resistor Rs. The feedback resistor Rf and Rs form a voltage divider network that determines the gain of the amplifier. The output voltage Vo is taken from the op-amp's output. The amplifier is powered by a dual supply voltage VCC and -VCC.\n\n\nFigure $5.13 \\triangle \\mathrm{~A}$ noninverting amplifier.\n\nFor operation within the linear region, it is required that\n\n$$\n\\frac{R_{s}+R_{f}}{R_{s}}<\\left|\\frac{V_{C C}}{v_{g}}\\right|\n$$\n\nAgain, due to the ideal op amp assumption, the output voltage can be expressed as a function of the input voltage and the external resistors, specifically $R_{s}$ and $R_{f}$.\n\nExample 5.3 demonstrates the design of a noninverting amplifier using practical resistor values.\n\n#### Example 5.3 Designing a Noninverting Amplifier\n\na) Design a noninverting amplifier (refer to Fig. 5.13) with a gain of 6, assuming an ideal op amp.\nb) If we aim to amplify a voltage $v_{\\mathrm{g}}$ such that $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, what are the minimum power supply voltages needed with the resistors chosen in part (a) to keep the op amp in its linear operating region?\n\n#### Solution\n\na) Using the noninverting amplifier equation (Eq. 5.18),\n\n$$\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g}=6 v_{g} \\quad \\text { thus } \\quad \\frac{R_{s}+R_{f}}{R_{s}}=6\n$$\n\nHence,\n\n$$\nR_{s}+R_{f}=6 R_{s}, \\quad \\text { so } \\quad R_{f}=5 R_{s}\n$$\n\nWe need two resistors with a ratio of 5. Referring to the realistic resistor values in Appendix H, let's select $R_{f}=10 \\mathrm{k} \\Omega$, making $R_{s}=2 \\mathrm{k} \\Omega$. Since a $2 \\mathrm{k} \\Omega$ resistor is not available in Appendix H, we can create an equivalent by connecting two $1 \\mathrm{k} \\Omega$ resistors in series. Additionally, a third $1 \\mathrm{k} \\Omega$ resistor can serve as $R_{g}$.\nb) Solve the noninverting amplifier equation for $v_{o}$ using $v_{g}=+1.5 \\mathrm{~V}$ and $v_{g}=-1.5 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=6(1.5)=9 \\mathrm{~V} \\\\\n& v_{o}=6(-1.5)=-9 \\mathrm{~V}\n\\end{aligned}\n$$\n\nTherefore, using $\\pm 9 \\mathrm{~V}$ power supplies for the noninverting amplifier designed in part (a) with $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$ ensures the op amp remains in its linear operating region. The resulting circuit from the analysis in parts (a) and (b) is depicted in Fig. 5.14.\nimage_name:Figure 5.14\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'GND', 'N2': 'X1'\n'name': 'R2', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'X1', 'N2': 'InN(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'Vg', 'N2': 'InP(A0)'\n'name': 'R4', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'InN(A0)', 'N2': 'Vo'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo','Vdd':'1.5V','-Vdd':'-1.5V'\n]\nextrainfo:The circuit is a non-inverting amplifier with a gain set by the resistors, using an ideal op-amp. The op-amp is powered by 1.5 V supplies.\n\n\nFigure 5.14 A The noninverting amplifier design of Example 5.3.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.4 Assume the op amp in the given circuit is ideal.\na) Determine the output voltage when the variable resistor is set to $60 \\mathrm{k} \\Omega$.\nb) What is the maximum value $R_{x}$ can reach before the amplifier saturates?\nAnswer: (a) 4.8 V ;\n(b) $75 \\mathrm{k} \\Omega$.\nimage_name:Figure\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '4.5k', 'ports': {'N1': 'GND', 'N2': 'InN(A0)'\n'name': 'R2', 'type': 'Resistor', 'value': '15k', 'ports': {'N1': 'Vin', 'N2': 'InP(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '63k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'\n'name': 'Rx', 'type': 'Resistor', 'value': 'Rx', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': 'Vin', 'type': 'VoltageSource', 'value': '400mV', 'ports': {'Np': 'Vin', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+5V', '-Vdd': '-5V'\n]\nextrainfo:The circuit is a non-inverting amplifier using an ideal op-amp with 5V supplies. The output voltage is dependent on the resistor values and the input voltage. The variable resistor Rx affects the gain and saturation point of the amplifier.\n\n\nNOTE: Also consider Chapter Problems 5.19 and 5.20."
},
{
    "text": "Figure 5.13 illustrates a noninverting-amplifier circuit. The signal source is denoted by $v_{g}$ in series with the resistor $R_{g}$. When deriving the output voltage as a function of the source voltage, we assume an ideal op amp functioning within its linear range. Consequently, we utilize Eqs. 5.2 and 5.3 as the foundation for the derivation. Given that the op amp's input current is zero, we can state $v_{p}=v_{g}$ and, from Eq. 5.2, $v_{n}=v_{g}$ as well. Since the input current is zero $\\left(i_{n}=i_{p}=0\\right)$, the resistors $R_{f}$ and $R_{s}$ constitute an unloaded voltage divider across $v_{o}$. Thus,\n\n$$\n\\begin{equation*}\nv_{n}=v_{g}=\\frac{v_{o} R_{s}}{R_{s}+R_{f}} \\tag{5.17}\n\\end{equation*}\n$$\n\nSolving Eq. 5.17 for $v_{o}$ yields the desired expression:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g} \\tag{5.18}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.13\ndescription:\n[\n'name': 'Rs1', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'GND', 'N2': 'InN(Ao)'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(Ao)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd':'+VCC','-Vdd':'-VCC'\n'name': 'Rs2', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'Vg', 'N2': 'InP(Ao)'\n]\nextrainfo:The circuit is a non-inverting amplifier configuration using an operational amplifier (Ao). The input voltage Vg is applied to the non-inverting input of the op-amp through a resistor Rs. The feedback resistor Rf and Rs form a voltage divider network that determines the gain of the amplifier. The output voltage Vo is taken from the op-amp's output. The amplifier is powered by a dual supply voltage VCC and -VCC.\n\n\nFigure $5.13 \\triangle \\mathrm{~A}$ noninverting amplifier.\n\nOperation within the linear region necessitates that\n\n$$\n\\frac{R_{s}+R_{f}}{R_{s}}<\\left|\\frac{V_{C C}}{v_{g}}\\right|\n$$\n\nAgain, due to the ideal op amp assumption, the output voltage can be expressed as a function of the input voltage and the external resistors, specifically $R_{s}$ and $R_{f}$.\n\nExample 5.3 demonstrates the design of a noninverting amplifier using practical resistor values.\n\n#### Example 5.3 Designing a Noninverting Amplifier\n\na) Design a noninverting amplifier (refer to Fig. 5.13) with a gain of 6, assuming an ideal op amp.\nb) If we aim to amplify a voltage $v_{\\mathrm{g}}$ such that $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, what are the minimum power supply voltages required with the resistors chosen in part (a) to keep the op amp in its linear operating region?\n\n#### Solution\n\na) Using the noninverting amplifier equation (Eq. 5.18),\n\n$$\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g}=6 v_{g} \\quad \\text { thus } \\quad \\frac{R_{s}+R_{f}}{R_{s}}=6\n$$\n\nTherefore,\n\n$$\nR_{s}+R_{f}=6 R_{s}, \\quad \\text { hence } \\quad R_{f}=5 R_{s}\n$$\n\nWe need two resistors with a ratio of 5. Referring to the realistic resistor values in Appendix H, let's select $R_{f}=10 \\mathrm{k} \\Omega$, so $R_{s}=2 \\mathrm{k} \\Omega$. However, a $2 \\mathrm{k} \\Omega$ resistor is not available in Appendix H. We can create an equivalent $2 \\mathrm{k} \\Omega$ resistor by connecting two $1 \\mathrm{k} \\Omega$ resistors in series. We can also use a third $1 \\mathrm{k} \\Omega$ resistor for $R_{g}$.\nb) Solve the noninverting amplifier equation for $v_{o}$ using $v_{g}=+1.5 \\mathrm{~V}$ and $v_{g}=-1.5 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=6(1.5)=9 \\mathrm{~V} \\\\\n& v_{o}=6(-1.5)=-9 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, using $\\pm 9 \\mathrm{~V}$ power supplies for the noninverting amplifier designed in part (a) with $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$ ensures the op amp remains in its linear operating region. The resulting circuit from the analysis in parts (a) and (b) is depicted in Fig. 5.14.\nimage_name:Figure 5.14\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'GND', 'N2': 'X1'\n'name': 'R2', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'X1', 'N2': 'InN(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'Vg', 'N2': 'InP(A0)'\n'name': 'R4', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'InN(A0)', 'N2': 'Vo'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo','Vdd':'1.5V','-Vdd':'-1.5V'\n]\nextrainfo:The circuit is a non-inverting amplifier with a gain set by the resistors, using an ideal op-amp. The op-amp is powered by 1.5 V supplies.\n\n\nFigure 5.14 A The noninverting amplifier design of Example 5.3.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.4 Assume the op amp in the shown circuit is ideal.\na) Determine the output voltage when the variable resistor is set to $60 \\mathrm{k} \\Omega$.\nb) What is the maximum value $R_{x}$ can reach before the amplifier saturates?\nAnswer: (a) 4.8 V ;\n(b) $75 \\mathrm{k} \\Omega$.\nimage_name:Figure\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '4.5k', 'ports': {'N1': 'GND', 'N2': 'InN(A0)'\n'name': 'R2', 'type': 'Resistor', 'value': '15k', 'ports': {'N1': 'Vin', 'N2': 'InP(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '63k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'\n'name': 'Rx', 'type': 'Resistor', 'value': 'Rx', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': 'Vin', 'type': 'VoltageSource', 'value': '400mV', 'ports': {'Np': 'Vin', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+5V', '-Vdd': '-5V'\n]\nextrainfo:The circuit is a non-inverting amplifier using an ideal op-amp with 5V supplies. The output voltage depends on the resistor values and the input voltage. The variable resistor Rx influences the gain and saturation point of the amplifier.\n\n\nNOTE: Also attempt Chapter Problems 5.19 and 5.20."
},
{
    "text": "Figure 5.13 illustrates a non-inverting amplifier circuit. The signal source is denoted by $v_{g}$ in series with resistor $R_{g}$. To derive the output voltage as a function of the source voltage, we assume an ideal operational amplifier operating within its linear range. Consequently, we utilize Eqs. 5.2 and 5.3 as the foundation for our derivation. Given that the op amp's input current is zero, we can assert $v_{p}=v_{g}$ and, from Eq. 5.2, $v_{n}=v_{g}$ as well. Since the input current is zero ($i_{n}=i_{p}=0$), resistors $R_{f}$ and $R_{s}$ constitute an unloaded voltage divider across $v_{o}$. Therefore,\n\n$$\n\\begin{equation*}\nv_{n}=v_{g}=\\frac{v_{o} R_{s}}{R_{s}+R_{f}} \\tag{5.17}\n\\end{equation*}\n$$\n\nSolving Eq. 5.17 for $v_{o}$ yields the desired expression:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g} \\tag{5.18}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.13\ndescription:\n[\n'name': 'Rs1', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'GND', 'N2': 'InN(Ao)'}\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'}\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'}\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(Ao)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd':'+VCC','-Vdd':'-VCC'}\n'name': 'Rs2', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'Vg', 'N2': 'InP(Ao)'}\n]\nextrainfo:The circuit is a non-inverting amplifier configuration using an operational amplifier (Ao). The input voltage Vg is applied to the non-inverting input of the op-amp through a resistor Rs. The feedback resistor Rf and Rs form a voltage divider network that determines the gain of the amplifier. The output voltage Vo is taken from the op-amp's output. The amplifier is powered by a dual supply voltage VCC and -VCC.\n\nFigure $5.13 \\triangle \\mathrm{~A}$ noninverting amplifier.\n\nFor operation within the linear region, it is required that\n\n$$\n\\frac{R_{s}+R_{f}}{R_{s}}<\\left|\\frac{V_{C C}}{v_{g}}\\right|\n$$\n\nAgain, due to the ideal op amp assumption, the output voltage can be expressed as a function of the input voltage and the external resistors, specifically $R_{s}$ and $R_{f}$.\n\nExample 5.3 demonstrates the design of a noninverting amplifier using practical resistor values.\n\n#### Example 5.3 Designing a Noninverting Amplifier\n\na) Design a noninverting amplifier (refer to Fig. 5.13) with a gain of 6, assuming an ideal op amp.\nb) If we aim to amplify a voltage $v_{\\mathrm{g}}$ such that $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, what are the minimum power supply voltages needed with the resistors chosen in part (a) to keep the op amp in its linear operating region?\n\n#### Solution\n\na) Using the noninverting amplifier equation (Eq. 5.18),\n\n$$\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g}=6 v_{g} \\quad \\text { thus } \\quad \\frac{R_{s}+R_{f}}{R_{s}}=6\n$$\n\nHence,\n\n$$\nR_{s}+R_{f}=6 R_{s}, \\quad \\text { so } \\quad R_{f}=5 R_{s}\n$$\n\nWe need two resistors with a ratio of 5. Referring to the realistic resistor values in Appendix H, let's select $R_{f}=10 \\mathrm{k} \\Omega$, thus $R_{s}=2 \\mathrm{k} \\Omega$. Since a $2 \\mathrm{k} \\Omega$ resistor is not available in Appendix H, we can create an equivalent $2 \\mathrm{k} \\Omega$ resistor by connecting two $1 \\mathrm{k} \\Omega$ resistors in series. We can also use a third $1 \\mathrm{k} \\Omega$ resistor for $R_{g}$.\nb) Solve the noninverting amplifier equation for $v_{o}$ using $v_{g}=+1.5 \\mathrm{~V}$ and $v_{g}=-1.5 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=6(1.5)=9 \\mathrm{~V} \\\\\n& v_{o}=6(-1.5)=-9 \\mathrm{~V}\n\\end{aligned}\n$$\n\nTherefore, using $\\pm 9 \\mathrm{~V}$ power supplies for the noninverting amplifier designed in part (a) with $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, the op amp will stay in its linear operating region. The circuit resulting from the analysis in parts (a) and (b) is depicted in Fig. 5.14.\nimage_name:Figure 5.14\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'GND', 'N2': 'X1'}\n'name': 'R2', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'X1', 'N2': 'InN(A0)'}\n'name': 'R3', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'Vg', 'N2': 'InP(A0)'}\n'name': 'R4', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'InN(A0)', 'N2': 'Vo'}\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'}\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo','Vdd':'1.5V','-Vdd':'-1.5V'}\n]\nextrainfo:The circuit is a non-inverting amplifier with a gain set by the resistors, using an ideal op-amp. The op-amp is powered by 1.5 V supplies.\n\nFigure 5.14 A The noninverting amplifier design of Example 5.3.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.4 Assume the op amp in the shown circuit is ideal.\na) Determine the output voltage when the variable resistor is set to $60 \\mathrm{k} \\Omega$.\nb) What is the maximum value $R_{x}$ can reach before the amplifier saturates?\nAnswer: (a) 4.8 V ;\n(b) $75 \\mathrm{k} \\Omega$.\nimage_name:Figure\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '4.5k', 'ports': {'N1': 'GND', 'N2': 'InN(A0)'}\n'name': 'R2', 'type': 'Resistor', 'value': '15k', 'ports': {'N1': 'Vin', 'N2': 'InP(A0)'}\n'name': 'R3', 'type': 'Resistor', 'value': '63k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'}\n'name': 'Rx', 'type': 'Resistor', 'value': 'Rx', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'}\n'name': 'Vin', 'type': 'VoltageSource', 'value': '400mV', 'ports': {'Np': 'Vin', 'Nn': 'GND'}\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+5V', '-Vdd': '-5V'}\n]\nextrainfo:The circuit is a non-inverting amplifier using an ideal op-amp with 5V supplies. The output voltage depends on the resistor values and the input voltage. The variable resistor Rx influences the gain and saturation point of the amplifier.\n\nNOTE: Also attempt Chapter Problems 5.19 and 5.20."
},
{
    "text": "Figure 5.13 illustrates a non-inverting amplifier circuit. The signal source is denoted by $v_{g}$ in series with resistor $R_{g}$. When deriving the output voltage as a function of the source voltage, we assume an ideal op amp operating within its linear range. Consequently, we utilize Eqs. 5.2 and 5.3 as the foundational equations for the derivation. Given that the op amp's input current is zero, we can assert $v_{p}=v_{g}$ and, from Eq. 5.2, $v_{n}=v_{g}$ as well. Since the input current is zero $\\left(i_{n}=i_{p}=0\\right)$, resistors $R_{f}$ and $R_{s}$ constitute an unloaded voltage divider across $v_{o}$. Therefore,\n\n$$\n\\begin{equation*}\nv_{n}=v_{g}=\\frac{v_{o} R_{s}}{R_{s}+R_{f}} \\tag{5.17}\n\\end{equation*}\n$$\n\nSolving Eq. 5.17 for $v_{o}$ yields the desired expression:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g} \\tag{5.18}\n\\end{equation*}\n$$\n\nimage_name:Figure 5.13\ndescription:\n[\n'name': 'Rs1', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'GND', 'N2': 'InN(Ao)'\n'name': 'Rf', 'type': 'Resistor', 'value': 'Rf', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(Ao)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd':'+VCC','-Vdd':'-VCC'\n'name': 'Rs2', 'type': 'Resistor', 'value': 'Rs', 'ports': {'N1': 'Vg', 'N2': 'InP(Ao)'\n]\nextrainfo:The circuit is a non-inverting amplifier configuration using an operational amplifier (Ao). The input voltage Vg is applied to the non-inverting input of the op-amp through a resistor Rs. The feedback resistor Rf and Rs form a voltage divider network that determines the gain of the amplifier. The output voltage Vo is taken from the op-amp's output. The amplifier is powered by a dual supply voltage VCC and -VCC.\n\n\nFigure $5.13 \\triangle \\mathrm{~A}$ noninverting amplifier.\n\nFor operation within the linear region, it is required that\n\n$$\n\\frac{R_{s}+R_{f}}{R_{s}}<\\left|\\frac{V_{C C}}{v_{g}}\\right|\n$$\n\nAgain, due to the ideal op amp assumption, the output voltage can be expressed as a function of the input voltage and the external resistors, specifically $R_{s}$ and $R_{f}$.\n\nExample 5.3 demonstrates the design of a noninverting amplifier using practical resistor values.\n\n#### Example 5.3 Designing a Noninverting Amplifier\n\na) Design a noninverting amplifier (refer to Fig. 5.13) with a gain of 6, assuming an ideal op amp.\nb) If we aim to amplify a voltage $v_{\\mathrm{g}}$ such that $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$, what are the minimum power supply voltages needed with the resistors chosen in part (a) to keep the op amp in its linear operating region?\n\n#### Solution\n\na) Using the noninverting amplifier equation (Eq. 5.18),\n\n$$\nv_{o}=\\frac{R_{s}+R_{f}}{R_{s}} v_{g}=6 v_{g} \\quad \\text { thus } \\quad \\frac{R_{s}+R_{f}}{R_{s}}=6\n$$\n\nHence,\n\n$$\nR_{s}+R_{f}=6 R_{s}, \\quad \\text { so } \\quad R_{f}=5 R_{s}\n$$\n\nWe need two resistors with a ratio of 5. Referring to the realistic resistor values in Appendix H, let's select $R_{f}=10 \\mathrm{k} \\Omega$, making $R_{s}=2 \\mathrm{k} \\Omega$. Since a $2 \\mathrm{k} \\Omega$ resistor is not available in Appendix H, we can create an equivalent $2 \\mathrm{k} \\Omega$ resistor by connecting two $1 \\mathrm{k} \\Omega$ resistors in series. We can also use a third $1 \\mathrm{k} \\Omega$ resistor for $R_{g}$.\nb) Solve the noninverting amplifier equation for $v_{o}$ using $v_{g}=+1.5 \\mathrm{~V}$ and $v_{g}=-1.5 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=6(1.5)=9 \\mathrm{~V} \\\\\n& v_{o}=6(-1.5)=-9 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, using $\\pm 9 \\mathrm{~V}$ power supplies for the noninverting amplifier designed in part (a) with $-1.5 \\mathrm{~V} \\leq v_{g} \\leq+1.5 \\mathrm{~V}$ ensures the op amp remains in its linear operating region. The resulting circuit from the analysis in parts (a) and (b) is depicted in Fig. 5.14.\nimage_name:Figure 5.14\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'GND', 'N2': 'X1'\n'name': 'R2', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'X1', 'N2': 'InN(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '1k', 'ports': {'N1': 'Vg', 'N2': 'InP(A0)'\n'name': 'R4', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'InN(A0)', 'N2': 'Vo'\n'name': 'Vg', 'type': 'VoltageSource', 'value': 'Vg', 'ports': {'Np': 'Vg', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo','Vdd':'1.5V','-Vdd':'-1.5V'\n]\nextrainfo:The circuit is a non-inverting amplifier with a gain set by the resistors, using an ideal op-amp. The op-amp is powered by 1.5 V supplies.\n\n\nFigure 5.14 A The noninverting amplifier design of Example 5.3.\n\nASSESSMENT PROBLEM\n\nObjective 2-Ability to analyze simple circuits containing ideal op amps\n5.4 Assume the op amp in the circuit shown is ideal.\na) Determine the output voltage when the variable resistor is set to $60 \\mathrm{k} \\Omega$.\nb) What is the maximum value $R_{x}$ can reach before the amplifier saturates?\nAnswer: (a) 4.8 V ;\n(b) $75 \\mathrm{k} \\Omega$.\nimage_name:Figure\ndescription:\n[\n'name': 'R1', 'type': 'Resistor', 'value': '4.5k', 'ports': {'N1': 'GND', 'N2': 'InN(A0)'\n'name': 'R2', 'type': 'Resistor', 'value': '15k', 'ports': {'N1': 'Vin', 'N2': 'InP(A0)'\n'name': 'R3', 'type': 'Resistor', 'value': '63k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'\n'name': 'Rx', 'type': 'Resistor', 'value': 'Rx', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': 'Vin', 'type': 'VoltageSource', 'value': '400mV', 'ports': {'Np': 'Vin', 'Nn': 'GND'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+5V', '-Vdd': '-5V'\n]\nextrainfo:The circuit is a non-inverting amplifier using an ideal op-amp with 5V supplies. The output voltage is dependent on the resistor values and the input voltage. The variable resistor Rx affects the gain and saturation point of the amplifier.\n\n\nNOTE: Also attempt Chapter Problems 5.19 and 5.20."
},
{
    "text": "The voltage at the output of a difference amplifier is directly related to the discrepancy between the two input voltages. This can be illustrated by examining the difference amplifier circuit depicted in Fig. 5.15, under the assumption that an ideal operational amplifier is functioning within its linear range. We can derive the connection between the output voltage \\(v_o\\) and the input voltages \\(v_a\\) and \\(v_b\\) by summing the currents flowing away from the inverting input:\n\n\\[\n\\frac{v_n - v_a}{R_a} + \\frac{v_n - v_o}{R_b} + i_n = 0 \\tag{5.19}\n\\]\n\nGiven that the operational amplifier is ideal, we apply the voltage and current constraints to deduce that\n\n\\[\n\\begin{align*}\ni_n = i_p = 0 \\tag{5.20} \\\\\nv_n = v_p = \\frac{R_d}{R_c + R_d} v_b \\tag{5.21}\n\\end{align*}\n\\]\n\nBy combining equations 5.19, 5.20, and 5.21, we arrive at the sought-after relationship:\n\n\\[\nv_o = \\frac{R_d(R_a + R_b)}{R_a(R_c + R_d)} v_b - \\frac{R_b}{R_a} v_a \\tag{5.22}\n\\]\n\nEquation 5.22 reveals that the output voltage is a scaled version of the difference between a scaled version of \\(v_b\\) and a scaled version of \\(v_a\\). Typically, the scaling factor for \\(v_b\\) differs from that for \\(v_a\\). However, by setting\n\n\\[\n\\frac{R_a}{R_b} = \\frac{R_c}{R_d} \\tag{5.23}\n\\]\n\nthe scaling factor applied to each input voltage can be made equal. When equation 5.23 holds, the formula for the output voltage simplifies to\n\n\\[\nv_o = \\frac{R_b}{R_a}(v_b - v_a) \\tag{5.24}\n\\]\n\nEquation 5.24 indicates that the output voltage can be a scaled version of the difference between the input voltages \\(v_b\\) and \\(v_a\\). Similar to previous ideal amplifier circuits, the scaling is governed by the external resistors. Moreover, the relationship between the output voltage and the input voltages remains unaffected by connecting a non-zero load resistance across the amplifier's output.\n\nExample 5.4 outlines the design of a difference amplifier using practical resistor values."
},
{
    "text": "---[Attention]---\nIn the context of images, any visual content linked in the [Context Provided] has been transformed into descriptive text. This rephrased text should preserve the original intent and length.\n\n---[Task]---\nCarefully rephrase the text found in the [Context Provided] section, ensuring that the rephrased version retains the original meaning and length. Please present only the rephrased text.\n\n---[Context Provided]---\nThe output voltage of a difference amplifier is directly related to the difference between the two input voltages. To illustrate this concept, let's examine the difference amplifier circuit depicted in Figure 5.15, with the understanding that we are using an ideal operational amplifier (op-amp) operating within its linear range. We calculate the connection between the output voltage $v_{o}$ and the input voltages $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$ by calculating the summation of currents flowing away from the inverting input node:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{o}}{R_{\\mathrm{b}}}+i_{n}=0 \\tag{5.19}\n\\end{equation*}\n$$\n\nSince the op-amp is assumed to be ideal, we can deduce, using voltage and current constraints, that\n\n$$\n\\begin{align*}\n& i_{n}=i_{p}=0  \\tag{5.20}\\\\\n& v_{n}=v_{p}=\\frac{R_{\\mathrm{d}}}{R_{\\mathrm{c}}+R_{\\mathrm{d}}} v_{\\mathrm{b}} \\tag{5.21}\n\\end{align*}\n$$\n\nCombining Equations 5.19, 5.20, and 5.21 yields the sought-after relationship:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)} v_{\\mathrm{b}}-\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}} v_{\\mathrm{a}} . \\tag{5.22}\n\\end{equation*}\n$$\n\nEquation 5.22 demonstrates that the output voltage is proportional to the disparity between a scaled version of $v_{\\mathrm{b}}$ and a scaled version of $v_{\\mathrm{a}}$. Typically, the scaling factor applied to $v_{\\mathrm{b}}$ is not identical to the one applied to $v_{\\mathrm{a}}$. Nevertheless, the scaling factor for each input voltage can be equalized by setting\n\n$$\n\\begin{equation*}\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}} \\tag{5.23}\n\\end{equation*}\n$$\n\nWhen Equation 5.23 holds true, the formula for the output voltage simplifies to\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right) \\tag{5.24}\n\\end{equation*}\n$$\n\nStreamlined Difference-Amp Formula\n\nEquation 5.24 suggests that the output voltage can be adjusted to replicate a scaled difference of the input voltages $v_{\\mathrm{b}}$ and $v_{\\mathrm{a}}$. Similar to the previous ideal op-amp circuits, the scaling is governed by the external resistors. Moreover, the relationship between the output voltage and the input voltages remains unaffected by the addition of a non-zero load resistance across the amplifier's output.\n\nExample 5.4 outlines the design of a difference amplifier using practical resistor values.\nimage_name:Figure 5.15\ndescription:\n[\n'name': 'Va', 'type': 'VoltageSource', 'value': 'Va', 'ports': {'Np': 'va', 'Nn': 'GND'\n'name': 'Vb', 'type': 'VoltageSource', 'value': 'Vb', 'ports': {'Np': 'vb', 'Nn': 'GND'\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'InN(Ao)'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vb', 'N2': 'InP(Ao)'\n'name': 'Rd', 'type': 'Resistor', 'value': 'Rd', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd': '+VCC', '-Vdd': '-VCC'\n]\nextrainfo:The circuit illustrated is a difference amplifier, with the output voltage Vo being a scaled representation of the difference between the input voltages va and vb. The scaling factor is determined by the resistors Ra and Rb. The op-amp operates using a dual voltage supply, +VCC and -VCC. Resistors Rc and Rd are utilized to establish the reference voltage for the op-amp.\n\n\nFigure 5.15  A difference amplifier.\n\n#### Solution\n\na) Applying the simplified difference-amplifier equation (Eq. 5.24),\n$v_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)=8\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)$ implies $\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}=8$.\nWe seek two resistors with a ratio of 8. Consult the realistic resistor values provided in Appendix H. For instance, select $R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega$, leading to $R_{\\mathrm{a}}=1.5 \\mathrm{k} \\Omega$, although numerous alternative combinations are possible. Note that the simplified difference-amplifier equation necessitates\n\n$$\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}}\n$$\n\nA straightforward choice for $R_{\\mathrm{c}}$ and $R_{\\mathrm{d}}$ is $R_{\\mathrm{c}}=R_{\\mathrm{a}}=$ $1.5 \\mathrm{k} \\Omega$ and $R_{\\mathrm{d}}=R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega$. The resultant circuit is depicted in Figure 5.16.\nimage_name:Figure 5.16\ndescription:\n[\n'name': 'Va', 'type': 'VoltageSource', 'value': 'Va', 'ports': {'Np': 'Va', 'Nn': 'GND'\n'name': 'Vb', 'type': 'VoltageSource', 'value': 'Vb', 'ports': {'Np': 'Vb', 'Nn': 'GND'\n'name': 'R1', 'type': 'Resistor', 'value': '1.5k', 'ports': {'N1': 'Va', 'N2': 'InN(A2)'\n'name': 'R2', 'type': 'Resistor', 'value': '1.5k', 'ports': {'N1': 'Vb', 'N2': 'InP(A2)'\n'name': 'R3', 'type': 'Resistor', 'value': '12k', 'ports': {'N1': 'InN(A2)', 'N2': 'Vo'\n'name': 'R4', 'type': 'Resistor', 'value': '12k', 'ports': {'N1': 'InP(A2)', 'N2': 'GND'\n'name': 'A1', 'type': 'OpAmp', 'value': 'OpAmp', 'ports': {'InP': 'InP(A2)', 'InN': 'InN(A2)', 'OutP': 'Vo','Vdd': '+8V', '-Vdd': '-8V'\n]\nextrainfo:The circuit shown is a difference amplifier with a gain of 8, employing two voltage sources Va and Vb and resistors to configure the gain. The op-amp operates using a dual voltage supply, 8V.\n\n\nFigure 5.16  The difference amplifier designed in Example 5.4.\nb) Solve for $v_{o}$ in terms of $v_{\\mathrm{b}}$ by employing the simplified difference-amplifier equation (Eq. 5.24) twice, first with $v_{o}=+8 \\mathrm{~V}$ and then with $v_{o}=-8 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=8 \\mathrm{~V} \\quad \\Rightarrow \\quad v_{\\mathrm{b}}=2 \\mathrm{~V} \\\\\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=-8 \\mathrm{~V} \\quad \\Rightarrow \\quad v_{\\mathrm{b}}=0 \\mathrm{~V}\n\\end{aligned}\n$$\n\nConsequently, if $v_{\\mathrm{a}}=1 \\mathrm{~V}$ in the difference amplifier from part (a), the op amp will continue to operate within its linear region if $0 \\mathrm{~V} \\leq v_{\\mathrm{b}} \\leq+2 \\mathrm{~V}$.\n\nASSESSMENT PROBLEM\n\nObjective 2-Be able to analyze simple circuits containing ideal op amps\n\n5.5 a) In the difference amplifier depicted, $v_{\\mathrm{b}}=4.0 \\mathrm{~V}$. Determine the range of values for $v_{\\mathrm{a}}$ that ensure linear operation?\nb) Revisit (a) assuming the $20 \\mathrm{k} \\Omega$ resistor is reduced to $8 \\mathrm{k} \\Omega$.\n\nAnswer: (a) $2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 6 \\mathrm{~V}$;\n(b) $1.2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 5.2 \\mathrm{~V}$.\nimage_name:Difference Amplifier\ndescription:\n[\n'name': 'Va', 'type': 'VoltageSource', 'value': 'Va', 'ports': {'Np': 'Va', 'Nn': 'GND'\n'name': 'Vb', 'type': 'VoltageSource', 'value': 'Vb', 'ports': {'Np': 'Vb', 'Nn': 'GND'\n'name': '10k', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'Va', 'N2': 'InN(A0)'\n'name': '4k', 'type': 'Resistor', 'value': '4k', 'ports': {'N1': 'Vb', 'N2': 'InP(A0)'\n'name': '20k', 'type': 'Resistor', 'value': '20k', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': '50k', 'type': 'Resistor', 'value': '50k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+10V', '-Vdd': '-10V'\n]\nextrainfo:The circuit is a difference amplifier equipped with a configuration to amplify the difference between two input voltages, Va and Vb. The output voltage Vo is determined by the resistors and the input voltages. The op-amp is powered by a dual supply of +10V and -10V.\n\n\nNote: Additionally, attempt Chapter Problems 5.26, 5.27, and 5.30.\n\nFrom a different viewpoint, we can closely inspect the behavior of a difference amplifier by redefining its inputs in terms of two additional voltages. The first is the differential mode input, which represents the difference between the two input voltages as shown in Figure 5.15:\n\n$$\n\\begin{equation*}\nv_{\\mathrm{dm}}=v_{\\mathrm{b}}-v_{\\mathrm{a}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe second is the common mode input, which denotes the average of the two input voltages in Figure 5.15:\n\n$$\n\\begin{equation*}\nv_{\\mathrm{cm}}=\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}\\right) / 2 \\tag{5.26}\n\\end{equation*}\n$$\n\nBy utilizing Equations 5.25 and 5.26, we can now express the original input voltages, $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$, in terms of the differential mode and common mode voltages, $v_{\\mathrm{dm}}$ and $v_{\\mathrm{cm}}$ :\n\n$$\n\\begin{align*}\n& v_{\\mathrm{a}}=v_{\\mathrm{cm}}-\\frac{1}{2} v_{\\mathrm{dm}}  \\tag{5.27}\\\\\n& v_{\\mathrm{b}}=v_{\\mathrm{cm}}+\\frac{1}{2} v_{\\mathrm{dm}} \\tag{5.28}\n\\end{align*}\n$$\n\nSubstituting Equations 5.27 and 5.28 into Equation 5.22 provides the output of the difference amplifier in terms of the differential mode and common mode voltages:\n\n$$\n\\begin{align*}\nv_{o}= & {\\left[\\frac{R_{\\mathrm{a}} R_{\\mathrm{d}}-R_{\\mathrm{b}} R_{\\mathrm{c}}}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{cm}} } \\\\\n& +\\left[\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)+R_{\\mathrm{b}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}{2 R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{dm}}  \\tag{5.29}\\\\\n= & A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}} \\tag{5.30}\n\\end{align*}\n$$\n\nwhere $A_{\\mathrm{cm}}$ is the common mode gain and $A_{\\mathrm{dm}}$ is the differential mode gain. Now, substitute $R_{\\mathrm{c}}=R_{\\mathrm{a}}$ and $R_{\\mathrm{d}}=R_{\\mathrm{b}}$, which are permissible values for $R_{\\mathrm{c}}$ and $R_{\\mathrm{d}}$ that fulfill Equation 5.23, into Equation 5.29:\n\n$$\n\\begin{equation*}\nv_{o}=(0) v_{\\mathrm{cm}}+\\left(\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\right) v_{\\mathrm{dm}} \\tag{5.31}\n\\end{equation*}\n$$\n\nHence, an ideal difference amplifier possesses $A_{\\mathrm{cm}}=0$, amplifies solely the differential mode component of the input voltage, and excludes the common mode component of the input voltage. Figure 5.17 illustrates a difference-amplifier circuit equipped with differential mode and common mode input voltages instead of $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$.\n\nEquation 5.30 offers a significant perspective on the function of the difference amplifier, as the differential mode signal often holds the meaningful information in various applications, while the common mode signal encompasses the noise that is inherent in all electric signals. For example, an electrocardiogram (ECG) electrode detects the voltages generated by the body to regulate heartbeats. These voltages are minute in comparison to the electrical noise acquired from sources such as lights and electrical equipment. The noise constitutes the common mode component of the measured voltage, whereas the heart rate voltages form the differential mode component. Thus, an ideal difference amplifier would amplify only the relevant voltage and suppress the noise.\n\nMeasuring Difference-Amplifier PerformanceThe Common Mode Rejection Ratio\n\nAn ideal difference amplifier exhibits zero common mode gain and a nonzero (typically substantial) differential mode gain. Two factors can influence the ideal common mode gain: resistance mismatches (i.e., Equation [5.23] is not satisfied) or a nonideal op-amp (i.e., Equation [5.20] is not satisfied). We concentrate on the impact of resistance mismatches on the performance of a difference amplifier.\nimage_name:Figure 5.17 A\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'b', 'N2': 'InN(Ao)'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'InN(Ao)', 'N2': 'Vo'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'b"
},
{
    "text": "The output voltage of a difference amplifier is proportional to the difference between the two input voltages. To demonstrate, we analyze the differenceamplifier circuit shown in Fig. 5.15, assuming an ideal op amp operating in its linear region. We derive the relationship between $v_{o}$ and the two input voltages $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$ by summing the currents away from the inverting input node:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{o}}{R_{\\mathrm{b}}}+i_{n}=0 \\tag{5.19}\n\\end{equation*}\n$$\n\nBecause the op amp is ideal, we use the voltage and current constraints to see that\n\n$$\n\\begin{align*}\n& i_{n}=i_{p}=0  \\tag{5.20}\\\\\n& v_{n}=v_{p}=\\frac{R_{\\mathrm{d}}}{R_{\\mathrm{c}}+R_{\\mathrm{d}}} v_{\\mathrm{b}} \\tag{5.21}\n\\end{align*}\n$$\n\nCombining Eqs. 5.19, 5.20, and 5.21 gives the desired relationship:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)} v_{\\mathrm{b}}-\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}} v_{\\mathrm{a}} . \\tag{5.22}\n\\end{equation*}\n$$\n\nEquation 5.22 shows that the output voltage is proportional to the difference between a scaled replica of $v_{\\mathrm{b}}$ and a scaled replica of $v_{\\mathrm{a}}$. In general the scaling factor applied to $v_{\\mathrm{b}}$ is not the same as that applied to $v_{\\mathrm{a}}$. However, the scaling factor applied to each input voltage can be made equal by setting\n\n$$\n\\begin{equation*}\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}} \\tag{5.23}\n\\end{equation*}\n$$\n\nWhen Eq. 5.23 is satisfied, the expression for the output voltage reduces to\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right) \\tag{5.24}\n\\end{equation*}\n$$\n\nSimplified difference-amplifier equation\n\nEquation 5.24 indicates that the output voltage can be made a scaled replica of the difference between the input voltages $v_{\\mathrm{b}}$ and $v_{\\mathrm{a}}$. As in the previous ideal amplifier circuits, the scaling is controlled by the external resistors. Furthermore, the relationship between the output voltage and the input voltages is not affected by connecting a nonzero load resistance across the output of the amplifier.\n\nExample 5.4 describes the design of a difference amplifier using realistic resistor values.\nimage_name:Figure 5.15\ndescription:\n[\n'name': 'Va', 'type': 'VoltageSource', 'value': 'Va', 'ports': {'Np': 'va', 'Nn': 'GND'\n'name': 'Vb', 'type': 'VoltageSource', 'value': 'Vb', 'ports': {'Np': 'vb', 'Nn': 'GND'\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'va', 'N2': 'InN(Ao)'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'Vo', 'N2': 'InN(Ao)'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'vb', 'N2': 'InP(A0)'\n'name': 'Rd', 'type': 'Resistor', 'value': 'Rd', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd': '+VCC', '-Vdd': '-VCC'\n]\nextrainfo:The circuit is a difference amplifier where the output voltage Vo is a scaled version of the difference between input voltages va and vb. The scaling factor is determined by the resistors Ra and Rb. The op-amp is powered by a dual supply of +VCC and -VCC. Resistors Rc and Rd are used to set the reference voltage for the op-amp.\n\n\nFigure 5.15 $\\triangle$ A difference amplifier.\n\n#### Solution\n\na) Using the simplified difference-amplifier equation (Eq. 5.24),\n$v_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)=8\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)$ so $\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}=8$.\nWe want two resistors whose ratio is 8 . Look at the realistic resistor values listed in Appendix H. Let's choose $R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega$, so $R_{\\mathrm{a}}=1.5 \\mathrm{k} \\Omega$, although there are many other possibilities. Note that the simplified difference-amplifier equation requires that\n\n$$\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}}\n$$\n\nA simple choice for $R_{\\mathrm{c}}$ and $R_{\\mathrm{d}}$ is $R_{\\mathrm{c}}=R_{\\mathrm{a}}=$ $1.5 \\mathrm{k} \\Omega$ and $R_{\\mathrm{d}}=R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega$. The resulting circuit is shown in Fig. 5.16.\nimage_name:Figure 5.16\ndescription:\n[\n'name': 'Va', 'type': 'VoltageSource', 'value': 'Va', 'ports': {'Np': 'Va', 'Nn': 'GND'\n'name': 'Vb', 'type': 'VoltageSource', 'value': 'Vb', 'ports': {'Np': 'Vb', 'Nn': 'GND'\n'name': 'R1', 'type': 'Resistor', 'value': '1.5k', 'ports': {'N1': 'Va', 'N2': 'InN(A2)'\n'name': 'R2', 'type': 'Resistor', 'value': '1.5k', 'ports': {'N1': 'Vb', 'N2': 'InP(A2)'\n'name': 'R3', 'type': 'Resistor', 'value': '12k', 'ports': {'N1': 'InN(A2)', 'N2': 'Vo'\n'name': 'R4', 'type': 'Resistor', 'value': '12k', 'ports': {'N1': 'InP(A2)', 'N2': 'GND'\n'name': 'A1', 'type': 'OpAmp', 'value': 'OpAmp', 'ports': {'InP': 'InP(A2)', 'InN': 'InN(A2)', 'OutP': 'Vo','Vdd': '+8V', '-Vdd': '-8V'\n]\nextrainfo:The circuit is a difference amplifier with a gain of 8. It uses two voltage sources Va and Vb, and resistors to set the gain. The op-amp is powered by 8V.\n\n\nFigure 5.16 $\\Delta$ The difference amplifier designed in Example 5.4.\nb) Solve two different versions of the simplified difference-amplifier equation for $v_{o}$ in terms of $v_{\\mathrm{b}}$-first using $v_{o}=+8 \\mathrm{~V}$ and then using $v_{o}=-8 \\mathrm{~V}$ :\n\n$$\n\\begin{aligned}\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=8 \\mathrm{~V} \\quad \\text { so } v_{\\mathrm{b}}=2 \\mathrm{~V} \\\\\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=-8 \\mathrm{~V} \\quad \\text { so } v_{\\mathrm{b}}=0 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, if $v_{\\mathrm{a}}=1 \\mathrm{~V}$ in the difference amplifier from part (a), the op amp will remain in its linear region of operation if $0 \\mathrm{~V} \\leq v_{\\mathrm{b}} \\leq+2 \\mathrm{~V}$.\n\nASSESSMENT PROBLEM\n\nObjective 2-Be able to analyze simple circuits containing ideal op amps\n\n5.5 a) In the difference amplifier shown, $v_{\\mathrm{b}}=4.0 \\mathrm{~V}$. What range of values for $v_{\\mathrm{a}}$ will result in linear operation?\nb) Repeat (a) with the $20 \\mathrm{k} \\Omega$ resistor decreased to $8 \\mathrm{k} \\Omega$.\n\nAnswer: (a) $2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 6 \\mathrm{~V}$;\n(b) $1.2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 5.2 \\mathrm{~V}$.\nimage_name:Difference Amplifier\ndescription:\n[\n'name': 'Va', 'type': 'VoltageSource', 'value': 'Va', 'ports': {'Np': 'Va', 'Nn': 'GND'\n'name': 'Vb', 'type': 'VoltageSource', 'value': 'Vb', 'ports': {'Np': 'Vb', 'Nn': 'GND'\n'name': '10k', 'type': 'Resistor', 'value': '10k', 'ports': {'N1': 'Va', 'N2': 'InN(A0)'\n'name': '4k', 'type': 'Resistor', 'value': '4k', 'ports': {'N1': 'Vb', 'N2': 'InP(A0)'\n'name': '20k', 'type': 'Resistor', 'value': '20k', 'ports': {'N1': 'InP(A0)', 'N2': 'GND'\n'name': '50k', 'type': 'Resistor', 'value': '50k', 'ports': {'N1': 'Vo', 'N2': 'InN(A0)'\n'name': 'A0', 'type': 'OpAmp', 'value': 'A0', 'ports': {'InP': 'InP(A0)', 'InN': 'InN(A0)', 'OutP': 'Vo', 'Vdd': '+10V', '-Vdd': '-10V'\n]\nextrainfo:The circuit is a difference amplifier with a configuration to amplify the difference between two input voltages, Va and Vb. The output voltage Vo is determined by the resistors and the input voltages. The op-amp is powered by a dual supply of +10V and -10V.\n\n\nNOTE: Also try Chapter Problems 5.26, 5.27, and 5.30.\n\nThe Difference AmplifierAnother Perspective\n\nWe can examine the behavior of a difference amplifier more closely if we redefine its inputs in terms of two other voltages. The first is the differential mode input, which is the difference between the two input voltages in Fig. 5.15:\n\n$$\n\\begin{equation*}\nv_{\\mathrm{dm}}=v_{\\mathrm{b}}-v_{\\mathrm{a}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe second is the common mode input, which is the average of the two input voltages in Fig. 5.15:\n\n$$\n\\begin{equation*}\nv_{\\mathrm{cm}}=\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}\\right) / 2 \\tag{5.26}\n\\end{equation*}\n$$\n\nUsing Eqs. 5.25 and 5.26, we can now represent the original input voltages, $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$, in terms of the differential mode and common mode voltages, $v_{\\mathrm{dm}}$ and $v_{\\mathrm{cm}}$ :\n\n$$\n\\begin{align*}\n& v_{\\mathrm{a}}=v_{\\mathrm{cm}}-\\frac{1}{2} v_{\\mathrm{dm}}  \\tag{5.27}\\\\\n& v_{\\mathrm{b}}=v_{\\mathrm{cm}}+\\frac{1}{2} v_{\\mathrm{dm}} \\tag{5.28}\n\\end{align*}\n$$\n\nSubstituting Eqs. 5.27 and 5.28 into Eq. 5.22 gives the output of the difference amplifier in terms of the differential mode and common mode voltages:\n\n$$\n\\begin{align*}\nv_{o}= & {\\left[\\frac{R_{\\mathrm{a}} R_{\\mathrm{d}}-R_{\\mathrm{b}} R_{\\mathrm{c}}}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{cm}} } \\\\\n& +\\left[\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)+R_{\\mathrm{b}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}{2 R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{dm}}  \\tag{5.29}\\\\\n= & A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}} \\tag{5.30}\n\\end{align*}\n$$\n\nwhere $A_{\\mathrm{cm}}$ is the common mode gain and $A_{\\mathrm{dm}}$ is the differential mode gain. Now, substitute $R_{\\mathrm{c}}=R_{\\mathrm{a}}$ and $R_{\\mathrm{d}}=R_{\\mathrm{b}}$, which are possible values for $R_{\\mathrm{c}}$ and $R_{\\mathrm{d}}$ that satisfy Eq. 5.23, into Eq. 5.29:\n\n$$\n\\begin{equation*}\nv_{o}=(0) v_{\\mathrm{cm}}+\\left(\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\right) v_{\\mathrm{dm}} \\tag{5.31}\n\\end{equation*}\n$$\n\nThus, an ideal difference amplifier has $A_{\\mathrm{cm}}=0$, amplifies only the differential mode portion of the input voltage, and eliminates the common mode portion of the input voltage. Figure 5.17 shows a differenceamplifier circuit with differential mode and common mode input voltages in place of $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$.\n\nEquation 5.30 provides an important perspective on the function of the difference amplifier, since in many applications it is the differential mode signal that contains the information of interest, whereas the common mode signal is the noise found in all electric signals. For example, an electrocardiograph electrode measures the voltages produced by your body to regulate your heartbeat. These voltages have very small magnitudes compared with the electrical noise that the electrode picks up from sources such as lights and electrical equipment. The noise appears as the common mode portion of the measured voltage, whereas the heart rate voltages comprise the differential mode portion. Thus an ideal difference amplifier would amplify only the voltage of interest and would suppress the noise.\n\nMeasuring Difference-Amplifier PerformanceThe Common Mode Rejection Ratio\n\nAn ideal difference amplifier has zero common mode gain and nonzero (and usually large) differential mode gain. Two factors have an influence on the ideal common mode gain-resistance mismatches (that is, Eq. [5.23] is not satisfied) or a nonideal op amp (that is, Eq. [5.20] is not satisfied). We focus here on the effect of resistance mismatches on the performance of a difference amplifier.\nimage_name:Figure 5.17 A\ndescription:\n[\n'name': 'Ra', 'type': 'Resistor', 'value': 'Ra', 'ports': {'N1': 'b', 'N2': 'InN(Ao)'\n'name': 'Rb', 'type': 'Resistor', 'value': 'Rb', 'ports': {'N1': 'InN(Ao)', 'N2': 'Vo'\n'name': 'Rc', 'type': 'Resistor', 'value': 'Rc', 'ports': {'N1': 'b', 'N2': 'InP(Ao)'\n'name': 'Rd', 'type': 'Resistor', 'value': 'Rd', 'ports': {'N1': 'InP(Ao)', 'N2': 'GND'\n'name': 'Ao', 'type': 'OpAmp', 'value': 'Ao', 'ports': {'InP': 'InP(Ao)', 'InN': 'InN(Ao)', 'OutP': 'Vo','Vdd': '+VCC', '-Vdd': '-VCC"
},
{
    "text": "A difference amplifier's output voltage is directly proportional to the discrepancy between the two input voltages. As an illustration, we'll examine the difference amplifier circuit depicted in Fig. 5.15, presup\nI difference amplifier's output voltage is directly proportional to the discrepancy between the two input voltages. As an illustration, we'll examine the difference amplifier circuit depicted in Fig. 5.15, assuming an ideal operational amplifier functioning within its linear region. We'll establish the relationship between the output voltage \\( v_{o} \\) and the input voltages \\( v_{\\mathrm{a}} \\) and \\( v_{\\mathrm{b}} \\) by summing the currents flowing away from the inverting input node:\n\n\\[\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{o}}{R_{\\mathrm{b}}}+i_{n}=0 \\tag{5.19}\n\\]\n\nGiven that the operational amplifier is ideal, we apply the voltage and current constraints to deduce that\n\n\\[\n\\begin{align*}\n& i_{n}=i_{p}=0  \\tag{5.20}\\\\\n& v_{n}=v_{p}=\\frac{R_{\\mathrm{d}}}{R_{\\mathrm{c}}+R_{\\mathrm{d}}} v_{\\mathrm{b}} \\tag{5.21}\n\\end{align*}\n\\]\n\nBy combining Eqs. 5.19, 5.20, and 5.21, we derive the sought-after relationship:\n\n\\[\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)} v_{\\mathrm{b}}-\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}} v_{\\mathrm{a}} . \\tag{5.22}\n\\end{equation*}\n\\]\n\nEquation 5.22 reveals that the output voltage is proportional to the difference between scaled versions of \\( v_{\\mathrm{b}} \\) and \\( v_{\\mathrm{a}} \\). Typically, the scaling factor applied to \\( v_{\\mathrm{b}} \\) is not the same as that applied to \\( v_{\\mathrm{a}} \\). However, it is possible to make the scaling factor equal for both input voltages by setting\n\n\\[\n\\begin{equation*}\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}} \\tag{5.23}\n\\end{equation*}\n\\]\n\nWhen Eq. 5.23 holds true, the formula for the output voltage simplifies to\n\n\\[\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right) \\tag{5.24}\n\\end{equation*}\n\\]\n\nEquation 5.24 indicates that the output voltage can be made a scaled version of the difference between the input voltages \\( v_{\\mathrm{b}} \\) and \\( v_{\\mathrm{a}} \\). As with previous ideal amplifier circuits, the scaling is governed by the external resistors. Moreover, the relationship between the output voltage and the input voltages remains unaffected when a non-zero load resistance is connected across the amplifier's output.\n\nExample 5.4 outlines the design of a difference amplifier using practical resistor values."
},
{
    "text": "The output voltage of a difference amplifier corresponds to the difference between its two input voltages. As an illustration, let's examine the circuit depicted in Fig. 5.15, which relies on an ideal operational amplifier functioning within its linear range. By summing the currents flowing away from the inverting input node, we can establish the relationship between the output voltage, \\( v_o \\), and the input voltages, \\( v_a \\) and \\( v_b \\):\n\n\\[\n\\frac{v_n - v_a}{R_a} + \\frac{v_n - v_o}{R_b} + i_n = 0 \\tag{5.19}\n\\]\n\nConsidering the op amp's ideal nature, the voltage and current constraints allow us to deduce that\n\n\\[\n\\begin{align*}\ni_n = i_p &= 0 \\tag{5.20} \\\\\nv_n = v_p &= \\frac{R_d}{R_c + R_d} v_b \\tag{5.21}\n\\end{align*}\n\\]\n\nCombining Equations 5.19, 5.20, and 5.21, we derive the sought-after relationship:\n\n\\[\nv_o = \\frac{R_d (R_a + R_b)}{R_a (R_c + R_d)} v_b - \\frac{R_b}{R_a} v_a \\tag{5.22}\n\\]\n\nEquation 5.22 reveals that the output voltage is proportional to the difference between scaled versions of \\( v_b \\) and \\( v_a \\). The scaling factor applied to \\( v_b \\) is typically not the same as that applied to \\( v_a \\). However, by setting\n\n\\[\n\\frac{R_a}{R_b} = \\frac{R_c}{R_d} \\tag{5.23}\n\\]\n\nthe scaling factors applied to each input voltage can be equalized. When Equation 5.23 holds true, the expression for the output voltage simplifies to\n\n\\[\nv_o = \\frac{R_b}{R_a} (v_b - v_a) \\tag{5.24}\n\\]\n\nEquation 5.24 demonstrates that the output voltage is a scaled version of the difference between the input voltages \\( v_b \\) and \\( v_a \\). As with previous ideal amplifier circuits, the scaling is dictated by the external resistors. Moreover, the relationship between the output voltage and the input voltages remains unaffected by the presence of a non-zero load resistance connected across the amplifier's output.\n\nExample 5.4 outlines the design of a difference amplifier using practical resistor values. The circuit in Fig. 5.15 is a difference amplifier where the output voltage \\( V_o \\) is a scaled version of the difference between the input voltages \\( v_a \\) and \\( v_b \\), with the scaling factor determined by resistors \\( R_a \\) and \\( R_b \\). The operational amplifier is powered by a dual supply of \\( +VCC \\) and \\( -VCC \\), and resistors \\( R_c \\) and \\( R_d \\) are employed to set the reference voltage for the operational amplifier.\n\nFigure 5.15 illustrates a difference amplifier circuit.\n\n#### Solution\n\na) Utilizing the simplified difference-amplifier equation (Eq. 5.24),\n\\( v_o = \\frac{R_b}{R_a} (v_b - v_a) = 8 (v_b - v_a) \\), hence \\( \\frac{R_b}{R_a} = 8 \\).\nWe aim for two resistors with a ratio of 8. Referring to the realistic resistor values in Appendix H, let's select \\( R_b = 12 \\mathrm{k} \\Omega \\), which implies \\( R_a = 1.5 \\mathrm{k} \\Omega \\), though other combinations are possible. It's important to note that the simplified difference-amplifier equation necessitates that\n\n\\[\n\\frac{R_a}{R_b} = \\frac{R_c}{R_d}\n\\]\n\nA straightforward choice for \\( R_c \\) and \\( R_d \\) is \\( R_c = R_a = 1.5 \\mathrm{k} \\Omega \\) and \\( R_d = R_b = 12 \\mathrm{k} \\Omega \\). The resulting circuit is depicted in Fig. 5.16.\n\nFigure 5.16 presents the difference amplifier designed in Example 5.4.\n\nb) Solving two variations of the simplified difference-amplifier equation for \\( v_o \\) in terms of \\( v_b \\)first with \\( v_o = +8 \\mathrm{~V} \\) and then with \\( v_o = -8 \\mathrm{~V} \\):\n\n\\[\n\\begin{aligned}\nv_o = 8 (v_b - 1) &= 8 \\mathrm{~V} \\quad \\text{therefore} \\quad v_b = 2 \\mathrm{~V} \\\\\nv_o = 8 (v_b - 1) &= -8 \\mathrm{~V} \\quad \\text{therefore} \\quad v_b = 0 \\mathrm{~V}\n\\end{aligned}\n\\]\n\nConsequently, if \\( v_a = 1 \\mathrm{~V} \\) in the difference amplifier from part (a), the operational amplifier will maintain linear operation if \\( 0 \\mathrm{~V} \\leq v_b \\leq +2 \\mathrm{~V} \\).\n\nASSESSMENT PROBLEM\n\nObjective 2Analyze simple circuits containing ideal op amps\n\n5.5 a) In the depicted difference amplifier, \\( v_b = 4.0 \\mathrm{~V} \\). Determine the range of \\( v_a \\) values that will ensure linear operation.\nb) Repeat (a) with the \\( 20 \\mathrm{k} \\Omega \\) resistor reduced to \\( 8 \\mathrm{k} \\Omega \\).\n\nAnswer: (a) \\( 2 \\mathrm{~V} \\leq v_a \\leq 6 \\mathrm{~V} \\);\n(b) \\( 1.2 \\mathrm{~V} \\leq v_a \\leq 5.2 \\mathrm{~V} \\).\n\nThe Difference AmplifierAnother Perspective\n\nWe can delve deeper into the behavior of a difference amplifier by redefining its inputs in terms of two distinct voltages. The first is the differential mode input, which represents the difference between the two input voltages in Fig. 5.15:\n\n\\[\nv_{dm} = v_b - v_a \\tag{5.25}\n\\]\n\nThe second is the common mode input, which is the average of the two input voltages in Fig. 5.15:\n\n\\[\nv_{cm} = \\frac{v_a + v_b}{2} \\tag{5.26}\n\\]\n\nUsing Equations 5.25 and 5.26, the original input voltages, \\( v_a \\) and \\( v_b \\), can now be expressed in terms of the differential mode and common mode voltages, \\( v_{dm} \\) and \\( v_{cm} \\):\n\n\\[\n\\begin{align*}\nv_a &= v_{cm} - \\frac{1}{2} v_{dm} \\tag{5.27} \\\\\nv_b &= v_{cm} + \\frac{1}{2} v_{dm} \\tag{5.28}\n\\end{align*}\n\\]\n\nSubstituting Equations 5.27 and 5.28 into Equation 5.22 yields the output of the difference amplifier in terms of the differential mode and common mode voltages:\n\n\\[\n\\begin{align*}\nv_o &= \\left[\\frac{R_a R_d - R_b R_c}{R_a (R_c + R_d)}\\right] v_{cm} \\\\\n&+ \\left[\\frac{R_d (R_a + R_b) + R_b (R_c + R_d)}{2 R_a (R_c + R_d)}\\right] v_{dm} \\tag{5.29} \\\\\n&= A_{cm} v_{cm} + A_{dm} v_{dm} \\tag{5.30}\n\\end{align*}\n\\]\n\nwhere \\( A_{cm} \\) denotes the common mode gain and \\( A_{dm} \\) denotes the differential mode gain. Now, substitute \\( R_c = R_a \\) and \\( R_d = R_b \\), which are possible resistor values satisfying Equation 5.23, into Equation 5.29:\n\n\\[\nv_o = (0) v_{cm} + \\left(\\frac{R_b}{R_a}\\right) v_{dm} \\tag{5.31}\n\\]\n\nThus, an ideal difference amplifier exhibits \\( A_{cm} = 0 \\), amplifying solely the differential mode component of the input voltage and rejecting the common mode component. Figure 5.17 depicts a difference-amplifier circuit with differential mode and common mode input voltages replacing \\( v_a \\) and \\( v_b \\).\n\nEquation 5.30 offers a crucial insight into the function of the difference amplifier, as in many applications, the differential mode signal carries the relevant information, whereas the common mode signal constitutes the noise inherent in all electrical signals. For instance, an electrocardiograph electrode measures the voltages generated by the body to regulate the heartbeat, which are much smaller in magnitude compared to the electrical noise picked up from sources like lights and electrical equipment. This noise manifests as the common mode portion of the measured voltage, whereas the heartbeat voltages form the differential mode portion. Hence, an ideal difference amplifier would amplify the voltage of interest and suppress the noise.\n\nMeasuring Difference-Amplifier PerformanceThe Common Mode Rejection Ratio\n\nAn ideal difference amplifier exhibits zero common mode gain and a non-zero (usually large) differential mode gain. Two factors can influence the ideal common mode gain: resistance mismatches (where Equation 5.23 is not satisfied) or a non-ideal operational amplifier (where Equation 5.20 is not satisfied). Here, we focus on the impact of resistance mismatches on the performance of a difference amplifier.\n\nSuppose the resistor values do not exactly satisfy Equation 5.23. Instead, the relationship among the resistors \\( R_a, R_b, R_c \\), and \\( R_d \\) is\n\n\\[\n\\frac{R_a}{R_b} = (1 - \\epsilon) \\frac{R_c}{R_d}\n\\]\n\nso\n\n\\[\n\\begin{align*}\nR_a &= (1 - \\epsilon) R_c \\quad \\text{and} \\quad R_b = R_d \\tag{5.32} \\\\\nR_d &= (1 - \\epsilon) R_b \\quad \\text{and} \\quad R_a = R_c \\tag{5.33}\n\\end{align*}\n\\]\n\nwhere \\( \\epsilon \\) is an exceedingly small number. We can observe the effect of this resistance mismatch on the common mode gain of the difference amplifier by substituting Equation 5.33 into Equation 5.29 and simplifying the expression for \\( A_{cm} \\):\n\n\\[\n\\begin{align*}\nA_{cm} &= \\frac{R_a (1 - \\epsilon) R_b - R_a R_b}{R_a [R_a + (1 - \\epsilon) R_b]} \\tag{5.34} \\\\\n&= \\frac{-\\epsilon R_b}{R_a + (1 - \\epsilon) R_b} \\tag{5.35} \\\\\n&\\approx \\frac{-\\epsilon R_b}{R_a + R_b} \\tag{5.36}\n\\end{align*}\n\\]\n\nWe can make the approximation leading to Equation 5.36 because \\( \\epsilon \\) is very small, and thus \\( (1 - \\epsilon) \\) is approximately 1 in the denominator of Equation 5.35. Note that when the resistors in the difference amplifier satisfy Equation 5.23, \\( \\epsilon = 0 \\) and Equation 5.36 yields \\( A_{cm} = 0 \\).\n\nNow, let's calculate the effect of the resistance mismatch on the differential mode gain by substituting Equation 5.33 into Equation 5.29 and simplifying the expression for \\( A_{dm} \\):\n\n\\[\n\\begin{align*}\nA_{dm} &= \\frac{(1 - \\epsilon) R_b (R_a + R_b) + R_b [R_a + (1 - \\epsilon) R_b]}{2 R_a [R_a + (1 - \\epsilon) R_b]} \\tag{5.37} \\\\\n&= \\frac{R_b}{R_a} \\left[1 - \\frac{(\\epsilon / 2) R_a}{R_a + (1 - \\epsilon) R_b}\\right] \\tag{5.38} \\\\\n&\\approx \\frac{R_b}{R_a} \\left[1 - \\frac{(\\epsilon / 2) R_a}{R_a + R_b}\\right] \\tag{5.39}\n\\end{align*}\n\\]\n\nWe employ the same reasoning for the approximation in Equation 5.39 as in the computation of \\( A_{cm} \\). When the resistors in the difference amplifier satisfy Equation 5.23, \\( \\epsilon = 0 \\) and Equation 5.39 gives \\( A_{dm} = R_b / R_a \\).\n\nThe common mode rejection ratio (CMRR) is a measure of how closely a difference amplifier approximates the ideal. It is defined as the ratio of the differential mode gain to the common mode gain:\n\n\\[\n\\mathrm{CMRR} = \\left|\\frac{A_{dm}}{A_{cm}}\\right| \\tag{5.40}\n\\]\n\nA higher CMRR indicates a closer approximation to the ideal difference amplifier. We can observe the effect of resistance mismatch on the CMRR by substituting Equations 5.36 and 5.39 into Equation 5.40:\n\n\\[\n\\begin{align*}\n\\mathrm{CMRR} &\\approx \\left|\\frac{\\frac{R_b}{R_a} \\left[1 - \\left(\\frac{R_a \\epsilon}{2}\\right) / \\left(R_a + R_b\\right)\\right]}{-\\epsilon R_b / \\left(R_a + R_b\\right)}\\right| \\tag{5.41} \\\\\n&\\approx \\left|\\frac{R_a (1 - \\epsilon / 2) + R_b}{-\\epsilon R_a}\\right| \\tag{5.42} \\\\\n&\\approx \\left|\\frac{1 + R_b / R_a}{-\\epsilon}\\right| \\tag{5.43}\n\\end{align*}\n\\]\n\nFrom Equation 5.43, if the resistors in the difference amplifier are matched, \\( \\epsilon = 0 \\) and \\( \\mathrm{CMRR} = \\infty \\). Even if the resistors are mismatched, we can minimize the impact of the mismatch by making the differential mode gain \\( (R_b / R_a) \\) very large, thereby increasing the CMRR.\n\nWe mentioned earlier that another factor contributing to a non-zero common mode gain is a non-ideal operational amplifier. Note that the operational amplifier itself acts as a difference amplifier, as its output in the linear operating region is proportional to the difference of its inputs; that is, \\( v_o = A (v_p - v_n) \\). The output of a non-ideal operational amplifier is not strictly proportional to the difference between the inputs (the differential mode input) but also includes a common mode signal. Internal mismatches in the components of the integrated circuit render the operational amplifier's behavior non-ideal, similar to how resistor mismatches in the difference-amplifier circuit affect its performance. Although a detailed discussion of non-ideal operational amplifiers is beyond the scope of this text, it is worth noting that the CMRR is often used to evaluate how closely an operational amplifier's behavior approximates the ideal. In fact, it is one of the primary metrics used to rate operational amplifiers in practice.\n\nPlease attempt Chapter Problems 5.33 and 5.34 to further assess your understanding of this material."
},
{
    "text": "The output voltage of a differential amplifier is directly proportional to the voltage difference between its two input voltages. To illustrate this, we'll examine the differential amplifier circuit depicted in Fig. 5.15, assuming the operation of an ideal operational amplifier within its linear region. We'll derive the relationship between the output voltage $v_{o}$ and the input input voltages $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$ by summing the currents flowing away from the inverting input node:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{o}}{R_{\\mathrm{b}}}+i_{n}=0 \\tag{5.19}\n\\end{equation*}\n$$\n\nGiven that the operational amplifier is ideal, we employ the voltage and current constraints to deduce that\n\n$$\n\\begin{align*}\n& i_{n}=i_{p}=0  \\tag{5.20}\\\\\n& v_{n}=v_{p}=\\frac{R_{\\mathrm{d}}}{R_{\\mathrm{c}}+R_{\\mathrm{d}}} v_{\\mathrm{b}} \\tag{5.21}\n\\end{align*}\n$$\n\nBy combining Eqs. 5.19, 5.20, and 5.21, we derive the sought-after relationship:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)} v_{\\mathrm{b}}-\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}} v_{\\mathrm{a}} . \\tag{5.22}\n\\end{equation*}\n$$\n\nEquation 5.22 reveals that the output voltage is proportional to the difference between scaled versions of $v_{\\mathrm{b}}$ and $v_{\\mathrm{a}}$. Typically, the scaling factor applied to $v_{\\mathrm{b}}$ differs from that applied to $v_{\\mathrm{a}}$. However, by setting\n\n$$\n\\begin{equation*}\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}} \\tag{5.23}\n\\end{equation*}\n$$\n\nthe scaling factor applied to each input voltage can be made equal. When Eq. 5.23 holds true, the expression for the output voltage simplifies to\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right) \\tag{5.24}\n\\end{equation*}\n$$\n\nThis simplified equation for the differential amplifier indicates that the output voltage can be a scaled version of the voltage difference between the input voltages $v_{\\mathrm{b}}$ and $v_{\\mathrm{a}}$. Similar to previous ideal amplifier circuits, the scaling is governed by the external resistors. Moreover, the relationship between the output voltage and the input voltages remains unaffected by the connection of a non-zero load resistance across the amplifier's output.\n\nExample 5.4 outlines the design of a differential amplifier using practical resistor values.\nImage Description: The depicted circuit, labeled as Figure 5.15, represents a differential amplifier.\n\n#### Solution\n\na) Utilizing the simplified equation for the differential amplifier (Eq. 5.24),\n$v_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)=8\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)$, hence $\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}=8$.\nWe aim to select two resistors with a ratio of 8. Refer to the practical resistor values provided in Appendix H. Suppose we opt for $R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega$, thereby $R_{\\mathrm{a}}=1.5 \\mathrm{k} \\Omega$, although numerous other combinations are possible. It is important to note that the simplified equation for the differential amplifier necessitates that\n\n$$\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}}\n$$\n\nA straightforward selection for $R_{\\mathrm{c}}$ and $R_{\\mathrm{d}}$ is $R_{\\mathrm{c}}=R_{\\mathrm{a}}=$ $1.5 \\mathrm{k} \\Omega$ and $R_{\\mathrm{d}}=R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega$. The resulting circuit is illustrated in Fig. 5.16.\nImage Description: The circuit depicted in Figure 5.16 is the differential amplifier designed in Example 5.4.\n\nb) To solve two distinct versions of the simplified differential amplifier equation for $v_{o}$ in terms of $v_{\\mathrm{b}}$, we first use $v_{o}=+8 \\mathrm{~V}$ and then $v_{o}=-8 \\mathrm{~V}$:\n\n$$\n\\begin{aligned}\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=8 \\mathrm{~V} \\quad \\text { so } v_{\\mathrm{b}}=2 \\mathrm{~V} \\\\\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=-8 \\mathrm{~V} \\quad \\text { so } v_{\\mathrm{b}}=0 \\mathrm{~V}\n\\end{aligned}\n$$\n\nConsequently, if $v_{\\mathrm{a}}=1 \\mathrm{~V}$ in the differential amplifier from part (a), the operational amplifier will continue to operate within its linear region if $0 \\mathrm{~V} \\leq v_{\\mathrm{b}} \\leq+2 \\mathrm{~V}$.\n\nASSESSMENT PROBLEM\n\nObjective 2-Be capable of analyzing simple circuits incorporating ideal operational amplifiers\n\n5.5 a) In the depicted differential amplifier, $v_{\\mathrm{b}}=4.0 \\mathrm{~V}$. What range of values for $v_{\\mathrm{a}}$ will ensure linear operation?\nb) Repeat (a) with the $20 \\mathrm{k} \\Omega$ resistor reduced to $8 \\mathrm{k} \\Omega$.\n\nAnswer: (a) $2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 6 \\mathrm{~V}$;\n(b) $1.2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 5.2 \\mathrm{~V}$.\nImage Description: The circuit depicted represents a differential amplifier.\n\nThe Differential AmplifierAn Alternative Perspective\n\nA more in-depth examination of a differential amplifier's behavior can be achieved by redefining its inputs based on two distinct voltages. The first is the differential mode input, defined as the voltage difference between the two input voltages in Fig. 5.15:\n\n$$\n\\begin{equation*}\nv_{\\mathrm{dm}}=v_{\\mathrm{b}}-v_{\\mathrm{a}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe second is the common mode input, defined as the average of the two input voltages in Fig. 5.15:\n\n$$\n\\begin{equation*}\nv_{\\mathrm{cm}}=\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}\\right) / 2 \\tag{5.26}\n\\end{equation*}\n$$\n\nBy using Eqs. 5.25 and 5.26, we can now express the original input voltages, $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$, in terms of the differential mode and common mode voltages, $v_{\\mathrm{dm}}$ and $v_{\\mathrm{cm}}$:\n\n$$\n\\begin{align*}\n& v_{\\mathrm{a}}=v_{\\mathrm{cm}}-\\frac{1}{2} v_{\\mathrm{dm}}  \\tag{5.27}\\\\\n& v_{\\mathrm{b}}=v_{\\mathrm{cm}}+\\frac{1}{2} v_{\\mathrm{dm}} \\tag{5.28}\n\\end{align*}\n$$\n\nSubstituting Eqs. 5.27 and 5.28 into Eq. 5.22 yields the output of the differential amplifier in terms of the differential mode and common mode voltages:\n\n$$\n\\begin{align*}\nv_{o}= & {\\left[\\frac{R_{\\mathrm{a}} R_{\\mathrm{d}}-R_{\\mathrm{b}} R_{\\mathrm{c}}}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{cm}} } \\\\\n& +\\left[\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)+R_{\\mathrm{b}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}{2 R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{dm}}  \\tag{5.29}\\\\\n= & A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}} \\tag{5.30}\n\\end{align*}\n$$\n\nwhere $A_{\\mathrm{cm}}$ denotes the common mode gain and $A_{\\mathrm{dm}}$ represents the differential mode gain. Now, by substituting $R_{\\mathrm{c}}=R_{\\mathrm{a}}$ and $R_{\\mathrm{d}}=R_{\\mathrm{b}}$, which are possible resistor values satisfying Eq. 5.23, into Eq. 5.29:\n\n$$\n\\begin{equation*}\nv_{o}=(0) v_{\\mathrm{cm}}+\\left(\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\right) v_{\\mathrm{dm}} \\tag{5.31}\n\\end{equation*}\n$$\n\nThus, an ideal differential amplifier has $A_{\\mathrm{cm}}=0$, amplifying only the differential mode component of the input voltage while suppressing the common mode component. Figure 5.17 displays a differential amplifier circuit with differential mode and common mode input voltages substituting $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$.\n\nEquation 5.30 offers a critical perspective on the differential amplifier's function, as in many applications, the differential mode signal contains the pertinent information, whereas the common mode signal constitutes the noise inherent in all electrical signals. For instance, an electrocardiogram electrode measures the voltages generated by the body to regulate the heartbeat. These voltages are minute compared to the electrical noise the electrode picks up from sources such as lighting and electrical equipment. The noise manifests as the common mode component of the measured voltage, while the heartbeat voltages form the differential mode component. Hence, an ideal differential amplifier would amplify solely the voltage of interest and suppress the noise.\n\nAssessing Differential Amplifier Performance: The Common Mode Rejection Ratio\n\nAn ideal differential amplifier exhibits zero common mode gain and a non-zero (usually significant) differential mode gain. Two factors influence the ideal common mode gain: resistance mismatches (where Eq. [5.23] is not met) or a non-ideal operational amplifier (where Eq. [5.20] is not met). We will focus on the impact of resistance mismatches on the performance of a differential amplifier.\nImage Description: The circuit depicted in Figure 5.17 is a differential amplifier with common mode and differential mode input voltages.\n\nConsider a scenario where resistor values are selected that do not exactly satisfy Eq. 5.23. Instead, the relationship among the resistors $R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}$, and $R_{\\mathrm{d}}$ is\n\n$$\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=(1-\\epsilon) \\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}}\n$$\n\nthus\n\n$$\n\\begin{equation*}\nR_{\\mathrm{a}}=(1-\\epsilon) R_{\\mathrm{c}} \\quad \\text { and } \\quad R_{\\mathrm{b}}=R_{\\mathrm{d}} \\tag{5.32}\n\\end{equation*}\n$$\n\nor\n\n$$\n\\begin{equation*}\nR_{\\mathrm{d}}=(1-\\epsilon) R_{\\mathrm{b}} \\quad \\text { and } \\quad R_{\\mathrm{a}}=R_{\\mathrm{c}} \\tag{5.33}\n\\end{equation*}\n$$\n\nwhere $\\epsilon$ is an exceedingly small number. The effect of this resistance mismatch on the common mode gain of the differential amplifier can be observed by substituting Eq. 5.33 into Eq. 5.29 and simplifying the expression for $A_{\\mathrm{cm}}$:\n\n$$\n\\begin{align*}\nA_{\\mathrm{cm}} & =\\frac{R_{\\mathrm{a}}(1-\\epsilon) R_{\\mathrm{b}}-R_{\\mathrm{a}} R_{\\mathrm{b}}}{R_{\\mathrm{a}}\\left[R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}\\right]}  \\tag{5.34}\\\\\n& =\\frac{-\\epsilon R_{\\mathrm{b}}}{R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}}  \\tag{5.35}\\\\\n& \\approx \\frac{-\\epsilon R_{\\mathrm{b}}}{R_{\\mathrm{a}}+R_{\\mathrm{b}}} \\tag{5.36}\n\\end{align*}\n$$\n\nThe approximation leading to Eq. 5.36 is valid because $\\epsilon$ is very small, making $(1-\\epsilon)$ approximately 1 in the denominator of Eq. 5.35. Note that when the resistors in the differential amplifier satisfy Eq. 5.23, $\\epsilon=0$ and Eq. 5.36 yields $A_{\\mathrm{cm}}=0$.\n\nNext, we calculate the effect of the resistance mismatch on the differential mode gain by substituting Eq. 5.33 into Eq. 5.29 and simplifying the expression for $A_{\\mathrm{dm}}$:\n\n$$\n\\begin{align*}\nA_{\\mathrm{dm}} & =\\frac{(1-\\epsilon) R_{\\mathrm{b}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)+R_{\\mathrm{b}}\\left[R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}\\right]}{2 R_{\\mathrm{a}}\\left[R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}\\right]}  \\tag{5.37}\\\\\n& =\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left[1-\\frac{(\\epsilon / 2) R_{\\mathrm{a}}}{R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}}\\right]  \\tag{5.38}\\\\\n& \\approx \\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left[1-\\frac{(\\epsilon / 2) R_{\\mathrm{a}}}{R_{\\mathrm{a}}+R_{\\mathrm{b}}}\\right] \\tag{5.39}\n\\end{align*}\n$$\n\nThe same reasoning for the approximation in Eq. 5.39 applies as in the computation of $A_{\\mathrm{cm}}$. When the resistors in the differential amplifier adhere to Eq. 5.23, $\\epsilon=0$ and Eq. 5.39 gives $A_{\\mathrm{dm}}=R_{\\mathrm{b}} / R_{\\mathrm{a}}$.\n\nThe common mode rejection ratio (CMRR) is employed to quantify how closely a differential amplifier approximates an ideal one. It is defined as the ratio of the differential mode gain to the common mode gain:\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right| \\tag{5.40}\n\\end{equation*}\n$$\n\nA higher CMRR indicates a closer approximation to an ideal differential amplifier. The impact of resistance mismatch on the CMRR can be observed by substituting Eqs. 5.36 and 5.39 into Eq. 5.40:\n\n$$\n\\begin{align*}\n\\mathrm{CMRR} & \\approx\\left|\\frac{\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left[1-\\left(R_{\\mathrm{a}} \\epsilon / 2\\right) /\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)\\right]}{-\\epsilon R_{\\mathrm{b}} /\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)}\\right|  \\tag{5.41}\\\\\n& \\approx\\left|\\frac{R_{\\mathrm{a}}(1-\\epsilon / 2)+R_{\\mathrm{b}}}{-\\epsilon R_{\\mathrm{a}}}\\right|  \\tag{5.42}\\\\\n& \\approx\\left|\\frac{1+R_{\\mathrm{b}} / R_{\\mathrm{a}}}{-\\epsilon}\\right| \\tag{5.43}\n\\end{align*}\n$$\n\nFrom Eq. 5.43, if the resistors in the differential amplifier are matched, $\\epsilon=0$ and $\\mathrm{CMRR"
},
{
    "text": "A difference amplifier's output voltage is directly proportional to the voltage difference between its two input voltages. To illustrate this, we examine the difference amplifier circuit depicted in Fig. 5.15, presuming the operation of an ideal operational amplifier within its linear domain. We derive the relationship between the output voltage \\( v_{o} \\) and the input voltages \\( v_{\\mathrm{a}} \\) and \\( v_{\\mathrm{b}} \\) by summing the currents flowing away from the inverting input node:\n\n$$\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{o}}{R_{\\mathrm{b}}}+i_{n}=0 \\tag{5.19}\n$$\n\nGiven the ideal nature of the op amp, we employ the voltage and current constraints to deduce that\n\n$$\n\\begin{align*}\n& i_{n}=i_{p}=0  \\tag{5.20}\\\\\n& v_{n}=v_{p}=\\frac{R_{\\mathrm{d}}}{R_{\\mathrm{c}}+R_{\\mathrm{d}}} v_{\\mathrm{b}} \\tag{5.21}\n\\end{align*}\n$$\n\nCombining Eqs. 5.19, 5.20, and 5.21 yields the desired relationship:\n\n$$\nv_{o}=\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)} v_{\\mathrm{b}}-\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}} v_{\\mathrm{a}} \\tag{5.22}\n$$\n\nEquation 5.22 reveals that the output voltage is proportional to the difference between scaled versions of \\( v_{\\mathrm{b}} \\) and \\( v_{\\mathrm{a}} \\). Typically, the scaling factor applied to \\( v_{\\mathrm{b}} \\) differs from that applied to \\( v_{\\mathrm{a}} \\). However, the scaling factors can be made equal by setting\n\n$$\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}} \\tag{5.23}\n$$\n\nWhen Eq. 5.23 holds true, the expression for the output voltage simplifies to\n\n$$\nv_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right) \\tag{5.24}\n$$\n\nThis simplified difference-amplifier equation indicates that the output voltage is a scaled replica of the difference between the input voltages \\( v_{\\mathrm{b}} \\) and \\( v_{\\mathrm{a}} \\). As with previous ideal amplifier circuits, the scaling is governed by the external resistors. Moreover, the relationship between the output voltage and the input voltages remains unaffected by connecting a non-zero load resistance across the amplifier's output.\n\nExample 5.4 outlines the design of a difference amplifier using practical resistor values.\n\nFigure 5.15 depicts a difference amplifier.\n\n#### Solution\n\na) Applying the simplified difference-amplifier equation (Eq. 5.24),\n$$\nv_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)=8\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)\n$$\nso\n$$\n\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}=8\n$$\nWe seek two resistors with a ratio of 8. Referring to the practical resistor values in Appendix H, let's select \\( R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega \\), hence \\( R_{\\mathrm{a}}=1.5 \\mathrm{k} \\Omega \\), though numerous other combinations are possible. Note that the simplified difference-amplifier equation necessitates that\n\n$$\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}}\n$$\n\nA straightforward choice for \\( R_{\\mathrm{c}} \\) and \\( R_{\\mathrm{d}} \\) is \\( R_{\\mathrm{c}}=R_{\\mathrm{a}}=1.5 \\mathrm{k} \\Omega \\) and \\( R_{\\mathrm{d}}=R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega \\). The resulting circuit is presented in Fig. 5.16.\n\nFigure 5.16 displays the difference amplifier designed in Example 5.4.\n\nb) We solve two variations of the simplified difference-amplifier equation for \\( v_{o} \\) in terms of \\( v_{\\mathrm{b}} \\)first with \\( v_{o}=+8 \\mathrm{~V} \\) and then with \\( v_{o}=-8 \\mathrm{~V} \\):\n\n$$\n\\begin{aligned}\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=8 \\mathrm{~V} \\quad \\text { so } v_{\\mathrm{b}}=2 \\mathrm{~V} \\\\\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=-8 \\mathrm{~V} \\quad \\text { so } v_{\\mathrm{b}}=0 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, if \\( v_{\\mathrm{a}}=1 \\mathrm{~V} \\) in the difference amplifier from part (a), the op amp will maintain linear operation if \\( 0 \\mathrm{~V} \\leq v_{\\mathrm{b}} \\leq+2 \\mathrm{~V} \\).\n\nASSESSMENT PROBLEM\n\nObjective 2Analyze simple circuits containing ideal op amps\n\n5.5 a) In the depicted difference amplifier, \\( v_{\\mathrm{b}}=4.0 \\mathrm{~V} \\). What range of \\( v_{\\mathrm{a}} \\) values will ensure linear operation?\nb) Repeat (a) with the \\( 20 \\mathrm{k} \\Omega \\) resistor reduced to \\( 8 \\mathrm{k} \\Omega \\).\n\nAnswer: (a) \\( 2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 6 \\mathrm{~V} \\);\n(b) \\( 1.2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 5.2 \\mathrm{~V} \\).\n\nFigure 5.15 illustrates a difference amplifier.\n\n#### The Difference AmplifierAnother Perspective\n\nWe can delve deeper into the behavior of a difference amplifier by redefining its inputs in terms of two new voltages. The first is the differential mode input, which is the difference between the two input voltages in Fig. 5.15:\n\n$$\nv_{\\mathrm{dm}}=v_{\\mathrm{b}}-v_{\\mathrm{a}} \\tag{5.25}\n$$\n\nThe second is the common mode input, which is the average of the two input voltages in Fig. 5.15:\n\n$$\nv_{\\mathrm{cm}}=\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}\\right) / 2 \\tag{5.26}\n$$\n\nUtilizing Eqs. 5.25 and 5.26, we can now express the original input voltages, \\( v_{\\mathrm{a}} \\) and \\( v_{\\mathrm{b}} \\), in terms of the differential mode and common mode voltages, \\( v_{\\mathrm{dm}} \\) and \\( v_{\\mathrm{cm}} \\):\n\n$$\n\\begin{align*}\n& v_{\\mathrm{a}}=v_{\\mathrm{cm}}-\\frac{1}{2} v_{\\mathrm{dm}}  \\tag{5.27}\\\\\n& v_{\\mathrm{b}}=v_{\\mathrm{cm}}+\\frac{1}{2} v_{\\mathrm{dm}} \\tag{5.28}\n\\end{align*}\n$$\n\nSubstituting Eqs. 5.27 and 5.28 into Eq. 5.22 yields the output of the difference amplifier in terms of the differential mode and common mode voltages:\n\n$$\n\\begin{align*}\nv_{o}= & {\\left[\\frac{R_{\\mathrm{a}} R_{\\mathrm{d}}-R_{\\mathrm{b}} R_{\\mathrm{c}}}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{cm}} } \\\\\n& +\\left[\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)+R_{\\mathrm{b}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}{2 R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{dm}}  \\tag{5.29}\\\\\n= & A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}} \\tag{5.30}\n\\end{align*}\n$$\n\nwhere \\( A_{\\mathrm{cm}} \\) is the common mode gain and \\( A_{\\mathrm{dm}} \\) is the differential mode gain. Now, substitute \\( R_{\\mathrm{c}}=R_{\\mathrm{a}} \\) and \\( R_{\\mathrm{d}}=R_{\\mathrm{b}} \\), which are possible values for \\( R_{\\mathrm{c}} \\) and \\( R_{\\mathrm{d}} \\) that satisfy Eq. 5.23, into Eq. 5.29:\n\n$$\nv_{o}=(0) v_{\\mathrm{cm}}+\\left(\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\right) v_{\\mathrm{dm}} \\tag{5.31}\n$$\n\nThus, an ideal difference amplifier has \\( A_{\\mathrm{cm}}=0 \\), amplifying only the differential mode component of the input voltage and suppressing the common mode component. Figure 5.17 portrays a difference-amplifier circuit with differential mode and common mode input voltages instead of \\( v_{\\mathrm{a}} \\) and \\( v_{\\mathrm{b}} \\).\n\nEquation 5.30 offers a crucial perspective on the function of the difference amplifier, as in many applications, the differential mode signal contains the relevant information, whereas the common mode signal represents the noise inherent in all electrical signals. For instance, an electrocardiograph electrode measures the voltages generated by the body to regulate the heartbeat. These voltages are minuscule compared to the electrical noise the electrode picks up from sources like lights and electrical equipment. The noise manifests as the common mode portion of the measured voltage, while the heartbeat voltages form the differential mode portion. Hence, an ideal difference amplifier would amplify only the voltage of interest and suppress the noise.\n\n#### Measuring Difference-Amplifier PerformanceThe Common Mode Rejection Ratio\n\nAn ideal difference amplifier exhibits zero common mode gain and a non-zero (usually large) differential mode gain. Two factors influence the ideal common mode gain: resistance mismatches (i.e., Eq. [5.23] is not satisfied) or a non-ideal op amp (i.e., Eq. [5.20] is not satisfied). We concentrate here on the impact of resistance mismatches on the performance of a difference amplifier.\n\nSuppose resistor values are chosen that do not exactly satisfy Eq. 5.23. Instead, the relationship among the resistors \\( R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}} \\), and \\( R_{\\mathrm{d}} \\) is\n\n$$\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=(1-\\epsilon) \\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}}\n$$\n\nso\n\n$$\n\\begin{align*}\nR_{\\mathrm{a}}=(1-\\epsilon) R_{\\mathrm{c}} \\quad \\text { and } \\quad R_{\\mathrm{b}}=R_{\\mathrm{d}} \\tag{5.32}\\\\\nR_{\\mathrm{d}}=(1-\\epsilon) R_{\\mathrm{b}} \\quad \\text { and } \\quad R_{\\mathrm{a}}=R_{\\mathrm{c}} \\tag{5.33}\n\\end{align*}\n$$\n\nwhere \\( \\epsilon \\) is an extremely small number. We can observe the effect of this resistance mismatch on the common mode gain of the difference amplifier by substituting Eq. 5.33 into Eq. 5.29 and simplifying the expression for \\( A_{\\mathrm{cm}} \\):\n\n$$\n\\begin{align*}\nA_{\\mathrm{cm}} & =\\frac{R_{\\mathrm{a}}(1-\\epsilon) R_{\\mathrm{b}}-R_{\\mathrm{a}} R_{\\mathrm{b}}}{R_{\\mathrm{a}}\\left[R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}\\right]}  \\tag{5.34}\\\\\n& =\\frac{-\\epsilon R_{\\mathrm{b}}}{R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}}  \\tag{5.35}\\\\\n& \\approx \\frac{-\\epsilon R_{\\mathrm{b}}}{R_{\\mathrm{a}}+R_{\\mathrm{b}}} \\tag{5.36}\n\\end{align*}\n$$\n\nWe use the approximation in Eq. 5.36 because \\( \\epsilon \\) is very small, making \\( (1-\\epsilon) \\) approximately 1 in the denominator of Eq. 5.35. Note that, when the resistors in the difference amplifier satisfy Eq. 5.23, \\( \\epsilon=0 \\) and Eq. 5.36 yields \\( A_{\\mathrm{cm}}=0 \\).\n\nNow, calculate the effect of the resistance mismatch on the differential mode gain by substituting Eq. 5.33 into Eq. 5.29 and simplifying the expression for \\( A_{\\mathrm{dm}} \\):\n\n$$\n\\begin{align*}\nA_{\\mathrm{dm}} & =\\frac{(1-\\epsilon) R_{\\mathrm{b}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)+R_{\\mathrm{b}}\\left[R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}\\right]}{2 R_{\\mathrm{a}}\\left[R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}\\right]}  \\tag{5.37}\\\\\n& =\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left[1-\\frac{(\\epsilon / 2) R_{\\mathrm{a}}}{R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}}\\right]  \\tag{5.38}\\\\\n& \\approx \\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left[1-\\frac{(\\epsilon / 2) R_{\\mathrm{a}}}{R_{\\mathrm{a}}+R_{\\mathrm{b}}}\\right] \\tag{5.39}\n\\end{align*}\n$$\n\nThe rationale for the approximation in Eq. 5.39 is the same as that used for \\( A_{\\mathrm{cm}} \\). When the resistors in the difference amplifier satisfy Eq. 5.23, \\( \\epsilon=0 \\) and Eq. 5.39 gives \\( A_{\\mathrm{dm}}=R_{\\mathrm{b}} / R_{\\mathrm{a}} \\).\n\nThe common mode rejection ratio (CMRR) measures how close a difference amplifier is to the ideal. It is defined as the ratio of the differential mode gain to the common mode gain:\n\n$$\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right| \\tag{5.40}\n$$\n\nA higher CMRR indicates a more ideal difference amplifier. We can observe the impact of resistance mismatch on the CMRR by substituting Eqs. 5.36 and 5.39 into Eq. 5.40:\n\n$$\n\\begin{align*}\n\\mathrm{CMRR} & \\approx\\left|\\frac{\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left[1-\\left(R_{\\mathrm{a}} \\epsilon / 2\\right) /\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)\\right]}{-\\epsilon R_{\\mathrm{b}} /\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)}\\right|  \\tag{5.41}\\\\\n& \\approx\\left|\\frac{R_{\\mathrm{a}}(1-\\epsilon / 2)+R_{\\mathrm{b}}}{-\\epsilon R_{\\mathrm{a}}}\\right|  \\tag{5.42}\\\\\n& \\approx\\left|\\frac{1+R_{\\mathrm{b}} / R_{\\mathrm{a}}}{-\\epsilon}\\right| \\tag{5.43}\n\\end{align*}\n$$\n\nFrom Eq. 5.43, if the resistors in the difference amplifier are matched, \\( \\epsilon=0 \\) and \\( \\mathrm{CMRR}=\\infty \\). Even if the resistors are mismatched, we can minimize the impact of the mismatch by making the differential mode gain \\( \\left(R_{\\mathrm{b}} / R_{\\mathrm{a}}\\right) \\) very large, thereby increasing the CMRR.\n\nWe initially mentioned that another cause for non-zero common mode gain is a non-ideal op amp. Note that the op amp itself acts as a difference amplifier, since in the linear operating region, its output is proportional to the difference between its inputs; that is, \\( v_{o}=A\\left(v_{p}-v"
},
{
    "text": "The output voltage of a difference amplifier is proportional to the difference between the two input voltages. This is demonstrated by analyzing the difference amplifier circuit shown in Fig. 5.15, assuming an ideal op amp operating in its linear region. We derive the relationship between $v_{o}$ and the two input voltages $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$ by summing the currents away from the inverting input node:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}-v_{\\mathrm{a}}}{R_{\\mathrm{a}}}+\\frac{v_{n}-v_{o}}{R_{\\mathrm{b}}}+i_{n}=0 \\tag{5.19}\n\\end{equation*}\n$$\n\nSince the op amp is ideal, we use the voltage and current constraints to see that\n\n$$\n\\begin{align*}\n& i_{n}=i_{p}=0  \\tag{5.20}\\\\\n& v_{n}=v_{p}=\\frac{R_{\\mathrm{d}}}{R_{\\mathrm{c}}+R_{\\mathrm{d}}} v_{\\mathrm{b}} \\tag{5.21}\n\\end{align*}\n$$\n\nCombining Eqs. 5.19, 5.20, and 5.21 gives the desired relationship:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)} v_{\\mathrm{b}}-\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}} v_{\\mathrm{a}} . \\tag{5.22}\n\\end{equation*}\n$$\n\nEquation 5.22 shows that the output voltage is proportional to the difference between a scaled replica of $v_{\\mathrm{b}}$ and a scaled replica of $v_{\\mathrm{a}}$. In general, the scaling factor applied to $v_{\\mathrm{b}}$ is not the same as that applied to $v_{\\mathrm{a}}$. However, the scaling factor applied to each input voltage can be made equal by setting\n\n$$\n\\begin{equation*}\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}} \\tag{5.23}\n\\end{equation*}\n$$\n\nWhen Eq. 5.23 is satisfied, the expression for the output voltage reduces to\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right) \\tag{5.24}\n\\end{equation*}\n$$\n\nEquation 5.24 indicates that the output voltage can be made a scaled replica of the difference between the input voltages $v_{\\mathrm{b}}$ and $v_{\\mathrm{a}}$. As in the previous ideal amplifier circuits, the scaling is controlled by the external resistors. Furthermore, the relationship between the output voltage and the input voltages is not affected by connecting a nonzero load resistance across the output of the amplifier.\n\nExample 5.4 describes the design of a difference amplifier using realistic resistor values.\n\nFigure 5.15 $\\triangle$ A difference amplifier.\n\n#### Solution\n\na) Using the simplified difference-amplifier equation (Eq. 5.24),\n$v_{o}=\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)=8\\left(v_{\\mathrm{b}}-v_{\\mathrm{a}}\\right)$ so $\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}=8$.\nWe want two resistors whose ratio is 8. Look at the realistic resistor values listed in Appendix H. Let's choose $R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega$, so $R_{\\mathrm{a}}=1.5 \\mathrm{k} \\Omega$, although there are many other possibilities. Note that the simplified difference-amplifier equation requires that\n\n$$\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=\\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}}\n$$\n\nA simple choice for $R_{\\mathrm{c}}$ and $R_{\\mathrm{d}}$ is $R_{\\mathrm{c}}=R_{\\mathrm{a}}=$ $1.5 \\mathrm{k} \\Omega$ and $R_{\\mathrm{d}}=R_{\\mathrm{b}}=12 \\mathrm{k} \\Omega$. The resulting circuit is shown in Fig. 5.16.\n\nFigure 5.16 $\\Delta$ The difference amplifier designed in Example 5.4.\n\nb) Solve two different versions of the simplified difference-amplifier equation for $v_{o}$ in terms of $v_{\\mathrm{b}}$-first using $v_{o}=+8 \\mathrm{~V}$ and then using $v_{o}=-8 \\mathrm{~V}$ :\n\n$$\n\\begin{aligned}\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=8 \\mathrm{~V} \\quad \\text { so } v_{\\mathrm{b}}=2 \\mathrm{~V} \\\\\n& v_{o}=8\\left(v_{\\mathrm{b}}-1\\right)=-8 \\mathrm{~V} \\quad \\text { so } v_{\\mathrm{b}}=0 \\mathrm{~V}\n\\end{aligned}\n$$\n\nThus, if $v_{\\mathrm{a}}=1 \\mathrm{~V}$ in the difference amplifier from part (a), the op amp will remain in its linear region of operation if $0 \\mathrm{~V} \\leq v_{\\mathrm{b}} \\leq+2 \\mathrm{~V}$.\n\nASSESSMENT PROBLEM\n\nObjective 2-Be able to analyze simple circuits containing ideal op amps\n\n5.5 a) In the difference amplifier shown, $v_{\\mathrm{b}}=4.0 \\mathrm{~V}$. What range of values for $v_{\\mathrm{a}}$ will result in linear operation?\nb) Repeat (a) with the $20 \\mathrm{k} \\Omega$ resistor decreased to $8 \\mathrm{k} \\Omega$.\n\nAnswer: (a) $2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 6 \\mathrm{~V}$;\n(b) $1.2 \\mathrm{~V} \\leq v_{\\mathrm{a}} \\leq 5.2 \\mathrm{~V}$.\n\nFigure 5.17 A difference amplifier with common mode and differential mode input voltages.\n\nThe Difference AmplifierAnother Perspective\n\nWe can examine the behavior of a difference amplifier more closely if we redefine its inputs in terms of two other voltages. The first is the differential mode input, which is the difference between the two input voltages in Fig. 5.15:\n\n$$\n\\begin{equation*}\nv_{\\mathrm{dm}}=v_{\\mathrm{b}}-v_{\\mathrm{a}} \\tag{5.25}\n\\end{equation*}\n$$\n\nThe second is the common mode input, which is the average of the two input voltages in Fig. 5.15:\n\n$$\n\\begin{equation*}\nv_{\\mathrm{cm}}=\\left(v_{\\mathrm{a}}+v_{\\mathrm{b}}\\right) / 2 \\tag{5.26}\n\\end{equation*}\n$$\n\nUsing Eqs. 5.25 and 5.26, we can now represent the original input voltages, $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$, in terms of the differential mode and common mode voltages, $v_{\\mathrm{dm}}$ and $v_{\\mathrm{cm}}$ :\n\n$$\n\\begin{align*}\n& v_{\\mathrm{a}}=v_{\\mathrm{cm}}-\\frac{1}{2} v_{\\mathrm{dm}}  \\tag{5.27}\\\\\n& v_{\\mathrm{b}}=v_{\\mathrm{cm}}+\\frac{1}{2} v_{\\mathrm{dm}} \\tag{5.28}\n\\end{align*}\n$$\n\nSubstituting Eqs. 5.27 and 5.28 into Eq. 5.22 gives the output of the difference amplifier in terms of the differential mode and common mode voltages:\n\n$$\n\\begin{align*}\nv_{o}= & {\\left[\\frac{R_{\\mathrm{a}} R_{\\mathrm{d}}-R_{\\mathrm{b}} R_{\\mathrm{c}}}{R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{cm}} } \\\\\n& +\\left[\\frac{R_{\\mathrm{d}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)+R_{\\mathrm{b}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}{2 R_{\\mathrm{a}}\\left(R_{\\mathrm{c}}+R_{\\mathrm{d}}\\right)}\\right] v_{\\mathrm{dm}}  \\tag{5.29}\\\\\n= & A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}} \\tag{5.30}\n\\end{align*}\n$$\n\nwhere $A_{\\mathrm{cm}}$ is the common mode gain and $A_{\\mathrm{dm}}$ is the differential mode gain. Now, substitute $R_{\\mathrm{c}}=R_{\\mathrm{a}}$ and $R_{\\mathrm{d}}=R_{\\mathrm{b}}$, which are possible values for $R_{\\mathrm{c}}$ and $R_{\\mathrm{d}}$ that satisfy Eq. 5.23, into Eq. 5.29:\n\n$$\n\\begin{equation*}\nv_{o}=(0) v_{\\mathrm{cm}}+\\left(\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\right) v_{\\mathrm{dm}} \\tag{5.31}\n\\end{equation*}\n$$\n\nThus, an ideal difference amplifier has $A_{\\mathrm{cm}}=0$, amplifies only the differential mode portion of the input voltage, and eliminates the common mode portion of the input voltage. Figure 5.17 shows a differenceamplifier circuit with differential mode and common mode input voltages in place of $v_{\\mathrm{a}}$ and $v_{\\mathrm{b}}$.\n\nEquation 5.30 provides an important perspective on the function of the difference amplifier, since in many applications it is the differential mode signal that contains the information of interest, whereas the common mode signal is the noise found in all electric signals. For example, an electrocardiograph electrode measures the voltages produced by your body to regulate your heartbeat. These voltages have very small magnitudes compared with the electrical noise that the electrode picks up from sources such as lights and electrical equipment. The noise appears as the common mode portion of the measured voltage, whereas the heart rate voltages comprise the differential mode portion. Thus an ideal difference amplifier would amplify only the voltage of interest and would suppress the noise.\n\nMeasuring Difference-Amplifier PerformanceThe Common Mode Rejection Ratio\n\nAn ideal difference amplifier has zero common mode gain and nonzero (and usually large) differential mode gain. Two factors have an influence on the ideal common mode gain-resistance mismatches (that is, Eq. [5.23] is not satisfied) or a nonideal op amp (that is, Eq. [5.20] is not satisfied). We focus here on the effect of resistance mismatches on the performance of a difference amplifier.\n\nSuppose that resistor values are chosen that do not precisely satisfy Eq. 5.23. Instead, the relationship among the resistors $R_{\\mathrm{a}}, R_{\\mathrm{b}}, R_{\\mathrm{c}}$, and $R_{\\mathrm{d}}$ is\n\n$$\n\\frac{R_{\\mathrm{a}}}{R_{\\mathrm{b}}}=(1-\\epsilon) \\frac{R_{\\mathrm{c}}}{R_{\\mathrm{d}}}\n$$\n\nso\n\n$$\n\\begin{equation*}\nR_{\\mathrm{a}}=(1-\\epsilon) R_{\\mathrm{c}} \\quad \\text { and } \\quad R_{\\mathrm{b}}=R_{\\mathrm{d}} \\tag{5.32}\n\\end{equation*}\n$$\n\nor\n\n$$\n\\begin{equation*}\nR_{\\mathrm{d}}=(1-\\epsilon) R_{\\mathrm{b}} \\quad \\text { and } \\quad R_{\\mathrm{a}}=R_{\\mathrm{c}} \\tag{5.33}\n\\end{equation*}\n$$\n\nwhere $\\epsilon$ is a very small number. We can see the effect of this resistance mismatch on the common mode gain of the difference amplifier by substituting Eq. 5.33 into Eq. 5.29 and simplifying the expression for $A_{\\mathrm{cm}}$ :\n\n$$\n\\begin{align*}\nA_{\\mathrm{cm}} & =\\frac{R_{\\mathrm{a}}(1-\\epsilon) R_{\\mathrm{b}}-R_{\\mathrm{a}} R_{\\mathrm{b}}}{R_{\\mathrm{a}}\\left[R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}\\right]}  \\tag{5.34}\\\\\n& =\\frac{-\\epsilon R_{\\mathrm{b}}}{R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}}  \\tag{5.35}\\\\\n& \\approx \\frac{-\\epsilon R_{\\mathrm{b}}}{R_{\\mathrm{a}}+R_{\\mathrm{b}}} \\tag{5.36}\n\\end{align*}\n$$\n\nWe can make the approximation to give Eq. 5.36 because $\\epsilon$ is very small, and therefore $(1-\\epsilon)$ is approximately 1 in the denominator of Eq. 5.35. Note that, when the resistors in the difference amplifier satisfy Eq. 5.23, $\\epsilon=0$ and Eq. 5.36 gives $A_{\\mathrm{cm}}=0$.\n\nNow calculate the effect of the resistance mismatch on the differential mode gain by substituting Eq. 5.33 into Eq. 5.29 and simplifying the expression for $A_{\\mathrm{dm}}$ :\n\n$$\n\\begin{align*}\nA_{\\mathrm{dm}} & =\\frac{(1-\\epsilon) R_{\\mathrm{b}}\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)+R_{\\mathrm{b}}\\left[R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}\\right]}{2 R_{\\mathrm{a}}\\left[R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}\\right]}  \\tag{5.37}\\\\\n& =\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left[1-\\frac{(\\epsilon / 2) R_{\\mathrm{a}}}{R_{\\mathrm{a}}+(1-\\epsilon) R_{\\mathrm{b}}}\\right]  \\tag{5.38}\\\\\n& \\approx \\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left[1-\\frac{(\\epsilon / 2) R_{\\mathrm{a}}}{R_{\\mathrm{a}}+R_{\\mathrm{b}}}\\right] \\tag{5.39}\n\\end{align*}\n$$\n\nWe use the same rationale for the approximation in Eq. 5.39 as in the computation of $A_{\\mathrm{cm}}$. When the resistors in the difference amplifier satisfy Eq. 5.23, $\\epsilon=0$ and Eq. 5.39 gives $A_{\\mathrm{dm}}=R_{\\mathrm{b}} / R_{\\mathrm{a}}$.\n\nThe common mode rejection ratio (CMRR) can be used to measure how nearly ideal a difference amplifier is. It is defined as the ratio of the differential mode gain to the common mode gain:\n\n$$\n\\begin{equation*}\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right| \\tag{5.40}\n\\end{equation*}\n$$\n\nThe higher the CMRR, the more nearly ideal the difference amplifier. We can see the effect of resistance mismatch on the CMRR by substituting Eqs. 5.36 and 5.39 into Eq. 5.40:\n\n$$\n\\begin{align*}\n\\mathrm{CMRR} & \\approx\\left|\\frac{\\frac{R_{\\mathrm{b}}}{R_{\\mathrm{a}}}\\left[1-\\left(R_{\\mathrm{a}} \\epsilon / 2\\right) /\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)\\right]}{-\\epsilon R_{\\mathrm{b}} /\\left(R_{\\mathrm{a}}+R_{\\mathrm{b}}\\right)}\\right|  \\tag{5.41}\\\\\n& \\approx\\left|\\frac{R_{\\mathrm{a}}(1-\\epsilon / 2)+R_{\\mathrm{b}}}{-\\epsilon R_{\\mathrm{a}}}\\right|  \\tag{5.42}\\\\\n& \\approx\\left|\\frac{1+R_{\\mathrm{b}} / R_{\\mathrm{a}}}{-\\epsilon}\\right| \\tag{5.43}\n\\end{align*}\n$$\n\nFrom Eq. 5.43, if the resistors in the difference amplifier are matched, $\\epsilon=0$ and $\\mathrm{CMRR}=\\infty$. Even if the resistors are mismatched, we can minimize the impact of"
},
{
    "text": "The realistic model we are considering predicts the behavior of an operational amplifier (op amp) in its linear operating region. It takes into account three adjustments from the ideal op amp model: a non-infinite input resistance, \\( R_{i} \\); a limited open-loop gain, \\( A \\); and a non-zero output resistance, \\( R_{o} \\). The schematic in Fig. 5.18 presents this more accurate model.\n\nUtilizing the equivalent circuit in Fig. 5.18 necessitates discarding the ideal op amp assumptions where \\( v_{n}=v_{p} \\) (Eq. 5.2) and \\( i_{n}=i_{p}=0 \\) (Eq. 5.3). Additionally, Eq. 5.1 is no longer applicable due to the existence of a non-zero output resistance, \\( R_{o} \\). An alternative perspective on the circuit in Fig. 5.18 is to reverse-engineer the thought process. We observe that the circuit simplifies to the ideal model as \\( R_{i} \\) approaches infinity, \\( A \\) approaches infinity, and \\( R_{o} \\) approaches zero. For the \\( \\mu \\mathrm{A} 741 \\) op amp, the standard values for \\( R_{i} \\), \\( A \\), and \\( R_{o} \\) are \\( 2 \\mathrm{M} \\Omega \\), \\( 10^{5} \\), and \\( 75 \\Omega \\), respectively.\n\nDespite the addition of \\( R_{i} \\) and \\( R_{o} \\) complicating the analysis of circuits containing op amps, the analysis itself remains manageable.\n\n---\n\nThe provided text has been rephrased while preserving its original meaning and technical specifications."
},
{
    "text": "We are now examining a model that predicts the performance of operational amplifiers (op amps) within their linear region of operation. This model introduces three modifications to the ideal op amp: a finite input resistance, $R_{i}$; a finite open-loop gain, $A$; and a nonzero output resistance, $R_{o}$. The circuit shown in Fig. 5.18 represents this more realistic model.\n\nWhen using the equivalent circuit in Fig. 5.18, we no the assumptions that $v_{n}=v_{p}$ (Eq. 5.2) and $i_{n}=i_{p}=0$ (Eq. 5.3). Moreover, Eq. 5.1 is no longer valid due to the presence of the nonzero output resistance, $R_{o}$. An alternative way to understand the circuit in Fig. 5.18 is to reverse our thought process. This can observe that the circuit simplifies to the ideal model when $R_{i} \\rightarrow \\infty, A \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$. For the $\\mu \\mathrm{A} 741$ op amp, the typical values of $R_{i}, A$, and $R_{o}$ are $2 \\mathrm{M} \\Omega, 10^{5}$, and $75 \\Omega$, respectively.\n\nAlthough the inclusion of $R_{i}$ and $R_{o}$ complicates the analysis of circuits containing op amps, the analysis remains manageable\nCertainly now examine a model that predicts the performance of operational amplifiers (op amps) within their linear region of operation. This model incorporates three modifications to the ideal op amp: a finite input resistance, $R_{i}$; a finite open-loop gain, $A$; and a nonzero output resistance, $R_{o}$. The circuit depicted in Fig. 5.18 represents this more realistic model.\n\nWhen employing the equivalent circuit in Fig. 5.18, we abandon the assumptions that $v_{n}=v_{p}$ (Eq. 5.2) and $i_{n}=i_{p}=0$ (Eq. 5.3). Additionally, Eq. 5.1 is no longer applicable due to the presence of the nonzero output resistance, $R_{o}$. Another way to comprehend the circuit in Fig. 5.18 is to reverse our thought process. We can observe that the circuit simplifies to the ideal model when $R_{i} \\rightarrow \\infty, A \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$. For the $\\mu \\mathrm{A} 741$ op amp, the typical values of $R_{i}, A$, and $R_{o}$ are $2 \\mathrm{M} \\Omega, 10^{5}$, and $75 \\Omega$, respectively.\n\nAlthough the presence of $R_{i}$ and $R_{o}$ complicates the analysis of circuits containing op amps, the analysis remains straightforward."
},
{
    "text": "We explore a practical model for predicting an operational amplifier's performance within its linear operational range. This model accounts for three deviations from the ideal operational amplifier: (1) a limited input resistance, denoted as $R_{i}$; (2) a limited open-loop gain, denoted as $A$; and (3) a non-zero output resistance, denoted as $R_{o}$. The circuit depicted in Fig. 5.18 represents this more practical model.\n\nIn employing the equivalent circuit presented in Fig. 5.18, we abandon the assumptions that $v_{n}=v_{p}$ (as per Eq. 5.2) and $i_{n}=i_{p}=0$ (as per Eq. 5.3). Moreover, Eq. 5.1 is rendered invalid due to the existence of the non-zero output resistance, $R_{o}$. An alternative perspective on the circuit in Fig. 5.18 can be gained by reversing our analytical approach. In other words, the circuit simplifies to the ideal model when $R_{i}$ approaches infinity, $A$ approaches infinity, and $R_{o}$ approaches zero. For a $\\mu \\mathrm{A} 741$ operational amplifier, the typical values for $R_{i}$, $A$, and $R_{o}$ are $2 \\mathrm{M} \\Omega$, $10^{5}$, and $75 \\Omega$, respectively.\n\nWhile the inclusion of $R_{i}$ and $R_{o}$ complicates the analysis of circuits containing operational amplifiers, the process remains manageable.\n\nThe circuit diagram in Fig. 5.18 represents an equivalent model of an operational amplifier that includes input resistance $R_{i}$, output resistance $R_{o}$, and gain $A$. The input nodes are labeled $Vp$ and $Vn$, with the output node designated as $Vo$. This diagram exemplifies the fundamental operation of an op-amp with finite input and output resistances.\n\nFigure 5.18: An equivalent circuit for an operational amplifier.\n\nFigure 5.19: An inverting-amplifier circuit.\n\nFigure 5.20: A noninverting-amplifier circuit.\n\nWe proceed to analyze both inverting and noninverting amplifiers using the equivalent circuit presented in Fig. 5.18, commencing with the inverting amplifier.\n\nAnalysis of an Inverting-Amplifier Circuit Utilizing the More Realistic Op Amp Model\n\nBy employing the operational amplifier circuit depicted in Fig. 5.18, the circuit for the inverting amplifier corresponds to that shown in Fig. 5.19. As with previous analyses, our objective is to express the output voltage, $v_{o}$, as a function of the source voltage, $v_{s}$. This is achieved by formulating two node-voltage equations that describe the circuit and subsequently solving the resulting equations for $v_{o}$. In Fig. 5.19, the two nodes are designated as a and b. It is also noted that $v_{p}=0$ due to the external short-circuit connection at the noninverting input terminal. The node-voltage equations are as follows:\n\n$$\n\\begin{align*}\n& \\text { node a: } \\frac{v_{n}-v_{s}}{R_{s}}+\\frac{v_{n}}{R_{i}}+\\frac{v_{n}-v_{o}}{R_{f}}=0  \\tag{5.44}\\\\\n& \\text { node b: } \\frac{v_{o}-v_{n}}{R_{f}}+\\frac{v_{o}-A\\left(-v_{n}\\right)}{R_{o}}=0 \\tag{5.45}\n\\end{align*}\n$$\n\nRearranging Eqs. 5.44 and 5.45 facilitates the application of Cramer's method to solve for $v_{o}$:\n\n$$\n\\begin{align*}\n& \\left(\\frac{1}{R_{s}}+\\frac{1}{R_{i}}+\\frac{1}{R_{f}}\\right) v_{n}-\\frac{1}{R_{f}} v_{o}=\\frac{1}{R_{s}} v_{s},  \\tag{5.46}\\\\\n& \\left(\\frac{A}{R_{o}}-\\frac{1}{R_{f}}\\right) v_{n}+\\left(\\frac{1}{R_{f}}+\\frac{1}{R_{o}}\\right) v_{o}=0 . \\tag{5.47}\n\\end{align*}\n$$\n\nSolving for $v_{o}$ results in:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-A+\\left(R_{o} / R_{f}\\right)}{\\frac{R_{s}}{R_{f}}\\left(1+A+\\frac{R_{o}}{R_{i}}\\right)+\\left(\\frac{R_{s}}{R_{i}}+1\\right)+\\frac{R_{o}}{R_{f}}} v_{s} \\tag{5.48}\n\\end{equation*}\n$$\n\nIt is observed that Eq. 5.48 reverts to Eq. 5.10 as $R_{o}$ approaches zero, $R_{i}$ approaches infinity, and $A$ approaches infinity. If the inverting amplifier depicted in Fig. 5.19 were loaded with a load resistance of $R_{L}$ ohms at its output terminals, the relationship between $v_{o}$ and $v_{s}$ would be modified to:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{-A+\\left(R_{o} / R_{f}\\right)}{\\frac{R_{s}}{R_{f}}\\left(1+A+\\frac{R_{o}}{R_{i}}+\\frac{R_{o}}{R_{L}}\\right)+\\left(1+\\frac{R_{o}}{R_{L}}\\right)\\left(1+\\frac{R_{s}}{R_{i}}\\right)+\\frac{R_{o}}{R_{f}}} v_{s} \\tag{5.49}\n\\end{equation*}\n$$\n\nAnalysis of a Noninverting-Amplifier Circuit Utilizing the More Realistic Op Amp Model\n\nWhen employing the equivalent circuit shown in Fig. 5.18 to analyze a noninverting amplifier, the resulting circuit is illustrated in Fig. 5.20. Here, the voltage source $v_{g}$, in series with resistor $R_{g}$, signifies the signal source. Resistor $R_{L}$ represents the load on the amplifier. Our analysis entails deriving an expression for $v_{o}$ as a function of $v_{g}$. This is accomplished by formulating the node-voltage equations at nodes a and b. At node a, the equation is:\n\n$$\n\\begin{equation*}\n\\frac{v_{n}}{R_{s}}+\\frac{v_{n}-v_{g}}{R_{g}+R_{i}}+\\frac{v_{n}-v_{o}}{R_{f}}=0 \\tag{5.50}\n\\end{equation*}\n$$\n\nand at node b:\n\n$$\n\\begin{equation*}\n\\frac{v_{o}-v_{n}}{R_{f}}+\\frac{v_{o}}{R_{L}}+\\frac{v_{o}-A\\left(v_{p}-v_{n}\\right)}{R_{o}}=0 \\tag{5.51}\n\\end{equation*}\n$$\n\nSince the current through $R_{g}$ is equivalent to that through $R_{i}$, we have:\n\n$$\n\\begin{equation*}\n\\frac{v_{p}-v_{g}}{R_{g}}=\\frac{v_{n}-v_{g}}{R_{i}+R_{g}} \\tag{5.52}\n\\end{equation*}\n$$\n\nUtilizing Eq. 5.52 to eliminate $v_{p}$ from Eq. 5.51 yields a pair of equations involving the unknown voltages $v_{n}$ and $v_{o}$. This algebraic manipulation leads to:\n\n$$\n\\begin{align*}\n& v_{n}\\left(\\frac{1}{R_{s}}+\\frac{1}{R_{g}+R_{i}}+\\frac{1}{R_{f}}\\right)-v_{o}\\left(\\frac{1}{R_{f}}\\right)=v_{g}\\left(\\frac{1}{R_{g}+R_{i}}\\right)  \\tag{5.53}\\\\\n& \\quad v_{n}\\left[\\frac{A R_{i}}{R_{o}\\left(R_{i}+R_{g}\\right)}-\\frac{1}{R_{f}}\\right]+v_{o}\\left(\\frac{1}{R_{f}}+\\frac{1}{R_{o}}+\\frac{1}{R_{L}}\\right) \\\\\n& \\quad=v_{g}\\left[\\frac{A R_{i}}{R_{o}\\left(R_{i}+R_{g}\\right)}\\right] \\tag{5.54}\n\\end{align*}\n$$\n\nSolving for $v_{o}$ gives:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{\\left[\\left(R_{f}+R_{s}\\right)+\\left(R_{s} R_{o} / A R_{i}\\right)\\right] v_{g}}{R_{s}+\\frac{R_{o}}{A}\\left(1+K_{r}\\right)+\\frac{R_{f} R_{s}+\\left(R_{f}+R_{s}\\right)\\left(R_{i}+R_{g}\\right)}{A R_{i}}} \\tag{5.55}\n\\end{equation*}\n$$\n\nwhere:\n\n$$\nK_{r}=\\frac{R_{s}+R_{g}}{R_{i}}+\\frac{R_{f}+R_{s}}{R_{L}}+\\frac{R_{f} R_{s}+R_{f} R_{g}+R_{g} R_{s}}{R_{i} R_{L}} .\n$$\n\nIt is noted that Eq. 5.55 reverts to Eq. 5.18 as $R_{o}$ approaches zero, $A$ approaches infinity, and $R_{i}$ approaches infinity. For the unloaded (i.e., $R_{L}=\\infty$) noninverting amplifier, Eq. 5.55 simplifies to:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{\\left[\\left(R_{f}+R_{s}\\right)+R_{s} R_{o} / A R_{i}\\right] v_{g}}{R_{s}+\\frac{R_{o}}{A}\\left(1+\\frac{R_{s}+R_{g}}{R_{i}}\\right)+\\frac{1}{A R_{i}}\\left[R_{f} R_{s}+\\left(R_{f}+R_{s}\\right)\\left(R_{i}+R_{g}\\right)\\right]} \\tag{5.56}\n\\end{equation*}\n$$\n\nIt is worth noting that in the derivation of Eq. 5.56 from Eq. 5.55, $K_{r}$ simplifies to $\\left(R_{s}+R_{g}\\right) / R_{i}$.\n\nASSESSMENT PROBLEM\n\nObjective 3: Comprehend the more realistic model for an operational amplifier\n\n5.6 The inverting amplifier within the depicted circuit possesses an input resistance of $500 \\mathrm{k} \\Omega$, an output resistance of $5 \\mathrm{k} \\Omega$, and an open-loop gain of 300,000. Assume the amplifier is functioning within its linear operational range.\na) Calculate the voltage gain $\\left(v_{o} / v_{g}\\right)$ of the amplifier.\nb) Calculate the value of $v_{n}$ in microvolts when $v_{g}=1 \\mathrm{~V}$.\nc) Calculate the resistance perceived by the signal source ($v_{g}$).\nd) Repeat (a)-(c) using the ideal model for the operational amplifier.\n\nAnswer: (a) -19.9985;\n(b) $69.995 \\mu \\mathrm{~V}$;\n(c) $5000.35 \\Omega$;\n(d) $-20,0 \\mu \\mathrm{~V}, 5 \\mathrm{k} \\Omega$.\n\nThe circuit is an inverting amplifier that utilizes an op-amp with feedback resistors. The op-amp is powered by 20 V supplies.\n\nPractical Perspective\n\nStrain Gages\n\nThe deformation of elastic solids is a critical consideration for engineers who design structures subject to forces that cause twisting, stretching, or bending. An aircraft frame exemplifies such structures, where engineers must account for elastic strain. The effective application of strain gages necessitates understanding their physical structure, methods of attachment to the structural surface, and orientation relative to the applied forces. Our intent here is to emphasize the significance of strain gage measurements in engineering applications and the relevance of electrical circuit knowledge to their proper usage.\n\nThe circuit shown in Fig. 5.21 exemplifies one method for measuring the resistance change experienced by strain gages in applications similar to those discussed at the chapter's outset. As we will see, this circuit employs the familiar difference amplifier, with the strain gage bridge providing the two voltages whose difference is amplified. The strain gages that elongate when the bar bends have values of $R+\\Delta R$ in the bridge that feeds the difference amplifier, whereas the gages that shorten have values of $R-\\Delta R$. We will analyze this circuit to ascertain the relationship between the output voltage, $v_{o}$, and the resistance change, $\\Delta R$, experienced by the strain gages.\n\nTo initiate the analysis, we assume an ideal operational amplifier. Formulating the KCL equations at the inverting and noninverting input terminals of the operational amplifier yields:\n\n$$\n\\begin{align*}\n& \\frac{v_{\\mathrm{ref}}-v_{n}}{R+\\Delta R}=\\frac{v_{n}}{R-\\Delta R}+\\frac{v_{n}-v_{o}}{R_{f}}  \\tag{5.57}\\\\\n& \\frac{v_{\\mathrm{ref}}-v_{p}}{R-\\Delta R}=\\frac{v_{p}}{R+\\Delta R}+\\frac{v_{p}}{R_{f}} \\tag{5.58}\n\\end{align*}\n$$\n\nRearranging Eq. 5.58 provides an expression for the voltage at the noninverting terminal of the operational amplifier:\n\n$$\n\\begin{equation*}\nv_{p}=\\frac{v_{\\mathrm{ref}}}{(R-\\Delta R)\\left(\\frac{1}{R+\\Delta R}+\\frac{1}{R-\\Delta R}+\\frac{1}{R_{f}}\\right)} \\tag{5.59}\n\\end{equation*}\n$$\n\nAssuming the operational amplifier is operating within its linear region, $v_{p}=v_{n}$, and the expression for $v_{p}$ in Eq. 5.59 also applies to $v_{n}$. We can substitute the right-hand side of Eq. 5.59 for $v_{n}$ in Eq. 5.57 and solve for $v_{o}$. Following algebraic manipulation, we obtain:\n\n$$\n\\begin{equation*}\nv_{o}=\\frac{R_{f}(2 \\Delta R)}{R^{2}-(\\Delta R)^{2}} v_{\\mathrm{ref}} \\tag{5.60}\n\\end{equation*}\n$$\n\nGiven that the resistance change experienced by strain gages is minimal, $(\\Delta R)^{2} \\ll R^{2}$, it follows that $R^{2}-(\\Delta R)^{2} \\approx R^{2}$, rendering Eq. 5.60 as:\n\n$$\n\\begin{equation*}\nv_{o} \\approx \\frac{R_{f}}{R} 2 \\delta v_{\\mathrm{ref}} \\tag{5.61}\n\\end{equation*}\n$$\n\nwhere $\\delta=\\Delta R / R$.\n\nNote: Assess your comprehension of this Practical Perspective by attempting Chapter Problem 5.49."
},
{
    "text": "We now shift our focus to a model that more accurately predicts the performance of an operational amplifier within its linear operating region. This model incorporates three deviations from the ideal operational amplifier: (1) a finite input resistance, denoted as $R_{i}$; (2) a finite open-loop gain, represented by $A$; and (3) a non-zero output resistance, indicated by $R_{o}$. The circuit depicted in Fig. 5.18 exemplifies this more realistic model.\n\nUtilizing the equivalent circuit in Fig. 5.18 necessitates discarding the assumptions that $v_{n}=v_{p}$ (as per Eq. 5.2) and $i_{n}=i_{p}=0$ (as per Eq. 5.3). Moreover, Eq. 5.1 is rendered invalid due to the presence of the non-zero output resistance, $R_{o}$. An alternative perspective on the circuit in Fig. 5.18 can be gained by reversing our thought process. This means recognizing that the circuit simplifies to the ideal model when $R_{i}$ approaches infinity, $A$ approaches infinity, and $R_{o}$ approaches zero. For the $\\mu \\mathrm{A} 741$ operational amplifier, the typical values for $R_{i}$, $A$, and $R_{o}$ are $2 \\mathrm{M} \\Omega$, $10^{5}$, and $75 \\Omega$, respectively.\n\nDespite the added complexity introduced by $R_{i}$ and $R_{o}$ in the analysis of circuits containing operational amplifiers, the analysis itself remains uncomplicated."
},
{
    "text": "We shift our focus to a more practical model for predicting the performance of operational amplifiers (op amps) within their linear operational range. This model incorporates three adjustments to the ideal op amp: (1) a finite input resistance, denoted as \\( R_{i} \\); (2) a finite open-loop gain, represented by \\( A \\); and (3) a non-zero output resistance, indicated by \\( R_{o} \\). The circuit depicted in Fig. 5.18 represents this more practical model.\n\nWhen employing the equivalent circuit displayed in Fig. 5.18, we no longer adhere to the assumptions that \\( v_{n} = v_{p} \\) (refer to Eq. 5.2) and \\( i_{n} = i_{p} = 0 \\) (refer to Eq. 5.3). Additionally, Eq. 5.1 is rendered invalid due to the presence of the non-zero output resistance, \\( R_{o} \\). An alternative perspective on the circuit in Fig. 5.18 is achieved by reversing our line of thought. In other words, we recognize that the circuit reverts to the ideal model when \\( R_{i} \\rightarrow \\infty \\), \\( A \\rightarrow \\infty \\), and \\( R_{o} \\rightarrow 0 \\). For the \\( \\mu \\mathrm{A} 741 \\) op amp, the typical values for \\( R_{i} \\), \\( A \\), and \\( R_{o} \\) are \\( 2 \\mathrm{M} \\Omega \\), \\( 10^{5} \\), and \\( 75 \\Omega \\), respectively.\n\nDespite the presence of \\( R_{i} \\) and \\( R_{o} \\) complicating the analysis of circuits containing op amps, such analysis remains manageable. The circuit diagram presents an equivalent model of an operational amplifier with input resistance \\( Ri \\), output resistance \\( Ro \\), and gain \\( A \\). The input nodes are \\( Vp \\) and \\( Vn \\), while the output node is \\( Vo \\). This circuit exemplifies the fundamental operation of an op-amp with finite input and output resistances."
},
{
    "text": "We now examine a more practical model that predicts the performance of an op amp in its linear region of operation. This model incorporates three modifications to the ideal op amp: (1) a finite input resistance, $R_{i}$; (2) a finite open-loop gain, $A$; and (3) a nonzero output resistance, $R_{o}$. The circuit shown in Fig. 5.18 demonstrates this more practical model.\n\nWhen utilizing the equivalent circuit depicted in Fig. 5.18, we no longer consider the assumptions that $v_{n}=v_{p}$ (Eq. 5.2) and $i_{n}=i_{p}=0$ (Eq. 5.3) to be valid. Additionally, Eq. 5.1 is no longer applicable due to the presence of the nonzero output resistance, $R_{o}$. Another way to comprehend the circuit shown in Fig. 5.18 is to reverse our thought process. This means we can recognize that the circuit simplifies to the ideal model when $R_{i} \\rightarrow \\infty, A \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$. For the $\\mu \\mathrm{A} 741$ op amp, the typical values of $R_{i}, A$, and $R_{o}$ are $2 \\mathrm{M} \\Omega, 10^{5}$, and $75 \\Omega$, respectively.\n\nDespite the added complexity of $R_{i}$ and $R_{o}$ in the analysis of circuits containing op amps, the analysis remains manageable."
},
{
    "text": "We now examine a model that more accurately predicts the performance of an operational amplifier (op amp) in its linear region. This model incorporates three key deviations from the ideal op amp: (1) a finite input resistance, denoted as $R_{i}$; (2) a finite open-loop gain, represented by $A$; and (3) a non-zero output resistance, indicated by $R_{o}$. The circuit shown in Figure 5.18 demonstrates this more realistic model.\n\nWhen utilizing the equivalent circuit in Figure 5.18, we discard the assumptions that $v_{n}=v_{p}$ (Equation 5.2) and $i_{n}=i_{p}=0$ (Equation 5.3). Additionally, Equation 5.1 is no longer applicable due to the presence of the non-zero output resistance, $R_{o}$. An alternative way to interpret\nUnderstood. I the task text is extensive, I'll re it down into sections for rephrasing. Please'll start with the first section andOriginal Text:\n```\nWe now consider a more realistic model that predicts the performance of an op amp in its linear region of operation. Such a model includes three modifications to the ideal op amp: (1) a finite input resistance, $R_{i}$; (2) a finite open-loop gain, $A$; and (3) a nonzero output resistance, $R_{o}$. The circuit shown in Fig. 5.18 illustrates the more realistic model.\nWhenever we use the equivalent circuit shown in Fig. 5.18, we disregard the assumptions that $v_{n}=v_{p}$ (Eq. 5.2) and $i_{n}=i_{p}=0$ (Eq. 5.3). Furthermore, Eq. 5.1 is no longer valid because of the presence of the nonzero output resistance, $R_{o}$. Another way to understand the circuit shown in Fig. 5.18 is to reverse our thought process. That is, we can see that the circuit reduces to the ideal model when $R_{i} \\rightarrow \\infty, A \\rightarrow \\infty$, and $R_{o} \\rightarrow 0$. For the $\\mu \\mathrm{A} 741$ op amp, the typical values of $R_{i}, A$, and $R_{o}$ are $2 \\mathrm{M} \\Omega, 10^{5}$, and $75 \\Omega$, respectively.\n\nAlthough the presence of $R_{i}$ and $R_{o}$ makes the analysis of circuits containing op amps more cumbersome, such analysis remains straightforward.\n```\n\nRephrased Text:\n```\nWe now turn to a model that offers accurately predicts the behavior of an op amp within its linear operating\nregion of operation. This model introduces three key departures from the ideal op amp: a finite input resistance, denR_{i}$; a limited open-loop gain, $A$; and a non-zero output resistance, $R_{o}$. The schematic\ncagram in Figure 5.18 portrays this enhanced practical model.\n\nInizing the circuit representation in Figure 5.18, we abandon longer adhere to the assumptions that $ input-inverting and inverting input voltages are equal ($v_{n}=v_{p}$, as per Equation 5.2) and that the input currents are negligible\nzero ($i_{n}=i_{p}=0$, as per Equation 5.3). Moreover, Equation 5.1 loses its validity due to the existence of the non-zero output resistance, $R_{o}$. An alternative perspective on the circuit in Figure 5.18 can be gained by considering the ideal as the converges to the ideal model, as $R_{i}$ approaches infinity, $A$ approaches infinity, and $R_{o}$ approaches zero. For the $\\mu \\mathrm{A} 741$ op amp, the standard values for $R_{i}$, $A$, and $R_{o}$ are typically2 \\mathrm{M} \\Omega$, $10^{5}$, and $75 \\Omega$, respectively.\n\nDespite the added complexity to $R_{i}$ and $R_{o}$ introduce into the analysis of circuits amp circuits, the process remains analysis itself is still clear manageable."
},
{
    "text": "We now examine a more practical model for predicting the operational characteristics of an op amp within its linear operational range. This model introduces three deviations from the ideal op amp: (1) a limited input resistance, denoted as $R_{i}$; (2) a finite open-loop gain, represented by $A$; and (3) a non-zero output resistance, indicated by $R_{o}$. The schematic depicted in Fig. 5.18 exemplifies this advanced model.\n\nUtilizing the equivalent circuit in Fig. 5.18, we abandon the assumptions that $v_{n}=v_{p}$ (as per Eq. 5.2) and $i_{n}=i_{p}=0$ (as per Eq. 5.3). Additionally, Eq. 5.1 loses its validity due to the existence of the non-zero output resistance, $R_{o}$. An alternative perspective on the circuit in Fig. 5.18 can be gained by reversing our logical process. This means recognizing that the circuit reverts to the ideal model as $R_{i}$ approaches infinity, $A$ approaches infinity, and $R_{o}$ approaches zero. For the $\\mu \\mathrm{A} 741$ op amp, the standard values for $R_{i}$, $A$, and $R_{o}$ are $2 \\mathrm{M} \\Omega$, $10^{5}$, and $75 \\Omega$, respectively.\n\nDespite the added complexity of circuit analysis due to $R_{i}$ and $R_{o}$, the process remains manageable.\n\n[The circuit diagrams and their descriptions are provided to illustrate the equivalent models of operational amplifiers with finite input and output resistances, as well as the gain A. The input nodes are labeled Vp and Vn, and the output node is Vo. The diagrams showcase the fundamental operation of an op-amp in both inverting and non-inverting amplifier configurations.]\n\nIn our analysis, we investigate both inverting and non-inverting amplifiers using the equivalent circuit displayed in Fig. 5.18, commencing with the inverting amplifier. For the inverting amplifier configuration depicted in Fig. 5.19, our aim is to derive the output voltage, $v_{o}$, as a function of the source voltage, $v_{s}$. This is achieved by formulating and solving the node-voltage equations for the circuit.\n\n[The provided equations and their solutions detail the voltage gain and node voltages for both inverting and non-inverting amplifier configurations, considering the finite resistances and gain of the op amp.]\n\nIn a practical perspective, we discuss the application of strain gages in engineering, where changes in the resistance due to deformation are measured using op amp circuits. The circuit shown in Fig. 5.21 demonstrates a method for measuring the resistance change in strain gages, utilizing a difference amplifier configuration with a Wheatstone bridge.\n\n[The analysis of the strain gage circuit and the resulting equations highlight the relationship between the output voltage and the change in resistance experienced by the strain gages.]\n\nThese analyses and discussions offer insights into the more realistic model of op amps and their applications in practical circuits."
},
{
    "text": "- The voltage transfer characteristic of an ideal op amp is defined by the equation\n$v_{o}= \\begin{cases}-V_{C C}, & A\\left(v_{p}-v_{n}\\right)<-V_{C C}, \\\\ A\\left(v_{p}-v_{n}\\right), & -V_{C C} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{C C}, \\\\ +V_{C C}, & A\\left(v_{p}-v_{n}\\right)>+V_{C C},\\end{cases}$\nwhere $A$ is the open-loop gain, a proportionality constant, and $V_{C C}$ denotes the power supply voltages. (Refer to page 147.)\n- By incorporating a feedback path from the op amp's output to its inverting input, the op amp can be restricted to its linear operating region, where $v_{o}=A\\left(v_{p}-v_{n}\\right)$. (Refer to page 147.)\n- A voltage constraint arises when the op amp operates within its linear region due to typical values of $V_{C C}$ and $A$. Assuming ideal conditions where $A$ is infinite, the ideal op amp model is defined by the voltage constraint\n\n$$\nv_{p}=v_{n}\n$$\n\n(Refer to page 147.)\n\n- The ideal op amp model is further defined by a current constraint, as the ideal input resistance of the op amp integrated circuit is infinite. This constraint is expressed as\n\n$$\ni_{p}=i_{n}=0\n$$\n\n(Refer to page 148.)\n\n- This chapter examines both a simplified ideal op amp model and a more realistic one. The distinctions between these models are outlined below:\n\n| Simplified Model | More Realistic Model |\n| :--- | :--- |\n| Infinite input resistance | Finite input resistance |\n| Infinite open-loop gain | Finite open-loop gain |\n| Zero output resistance | Nonzero output resistance |\n\n(Refer to page 159.)\n\n- An inverting amplifier is an op amp circuit that generates an output voltage which is an inverted and scaled version of the input voltage. (Refer to page 150.)\n- A summing amplifier is an op amp circuit that produces an output voltage representing a scaled sum of the input voltages. (Refer to page 152.)\n- A noninverting amplifier is an op amp circuit that yields an output voltage that is a scaled copy of the input voltage. (Refer to page 153.)\n- A difference amplifier is an op amp circuit that creates an output voltage that is a scaled version of the difference between the input voltages. (Refer to page 155.)\n- The two voltage inputs to a difference amplifier can be used to determine the common mode and difference mode voltages, $v_{\\mathrm{cm}}$ and $v_{\\mathrm{dm}}$. The output of the difference amplifier can be expressed as\n\n$$\nv_{o}=A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}}\n$$\n\nwhere $A_{\\mathrm{cm}}$ is the common mode gain, and $A_{\\mathrm{dm}}$ is the differential mode gain. (Refer to page 157.)\n\n- In an ideal difference amplifier, $A_{\\mathrm{cm}}=0$. To assess how closely a difference amplifier approaches ideal behavior, we use the common mode rejection ratio:\n\n$$\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right|\n$$\n\nAn ideal difference amplifier exhibits an infinite CMRR. (Refer to page 159.)"
},
{
    "text": "- The equation that describes the voltage transfer characteristic of an ideal operational amplifier is\n\n$$\nv_{o}= \\begin{cases}-V_{C C}, & A\\left(v_{p}-v_{n}\\right)<-V_{C C}, \\\\ A\\left(v_{p}-v_{n}\\right), & -V_{C C} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{C C}, \\\\ +V_{C C}, & A\\left(v_{p}-v_{n}\\right)>+V_{C C},\\end{cases}\n$$\n\nwhere $A$ is a proportionality constant known as the open-loop gain, and $V_{C C}$ denotes the power supply voltages. (Refer to page 147.)\n\n- A feedback loop between the output and the inverting input of an operational amplifier can restrict it to its linear operating region, where $v_{o}=A\\left(v_{p}-v_{n}\\right)$. (Refer to page 147.)\n\n- A voltage constraint is present when the operational amplifier is limited to its linear operating region due to typical values of $V_{C C}$ and $A$. If ideal modeling assumptions are madeimplying $A$ is considered infinitethe ideal operational amplifier model is defined by the voltage constraint\n\n$$\nv_{p}=v_{n}\n$$\n\n(Refer to page 147.)\n\n- A current constraint also characterizes the ideal operational amplifier model, as the ideal input resistance of the operational amplifier integrated circuit is infinite. This current constraint is expressed as\n\n$$\ni_{p}=i_{n}=0\n$$\n\n(Refer to page 148.)\n\n- This chapter examines both a simple, ideal operational amplifier model and a more realistic one. The distinctions between the two models are as follows:\n\n| Simplified Model | More Realistic Model |\n| :--- | :--- |\n| Infinite input resistance | Finite input resistance |\n| Infinite open-loop gain | Finite open-loop gain |\n| Zero output resistance | Nonzero output resistance |\n\n(Refer to page 159.)\n\n- An inverting amplifier is an operational amplifier circuit that generates an output voltage which is an inverted, scaled version of the input voltage. (Refer to page 150.)\n\n- A summing amplifier is an operational amplifier circuit that produces an output voltage which is a scaled sum of the input voltages. (Refer to page 152.)\n\n- A noninverting amplifier is an operational amplifier circuit that yields an output voltage which is a scaled replica of the input voltage. (Refer to page 153.)\n\n- A difference amplifier is an operational amplifier circuit that creates an output voltage which is a scaled version of the input voltage difference. (Refer to page 155.)\n\n- The two voltage inputs to a difference amplifier can be utilized to determine the common mode and difference mode voltage inputs, $v_{\\mathrm{cm}}$ and $v_{\\mathrm{dm}}$. The output of the difference amplifier can be formulated as\n\n$$\nv_{o}=A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}}\n$$\n\nwhere $A_{\\mathrm{cm}}$ is the common mode gain, and $A_{\\mathrm{dm}}$ is the differential mode gain. (Refer to page 157.)\n\n- In an ideal difference amplifier, $A_{\\mathrm{cm}}=0$. To assess how closely a difference amplifier approaches ideal performance, we use the common mode rejection ratio:\n\n$$\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right|\n$$\n\nAn ideal difference amplifier possesses an infinite CMRR. (Refer to page 159.)"
},
{
    "text": "- The voltage transfer characteristic of an ideal op amp is defined by the equation\n$$\nv_{o}= \\begin{cases}-V_{C C}, & A\\left(v_{p}-v_{n}\\right)<-V_{C C}, \\\\ A\\left(v_{p}-v_{n}\\right), & -V_{C C} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{C C}, \\\\ +V_{C C}, & A\\left(v_{p}-v_{n}\\right)>+V_{C C},\\end{cases}\n$$\nwhere $A$ is the open-loop gain, a proportionality constant, and $V_{C C}$ denotes the power supply voltages. (Refer to page 147.)\n- By creating a feedback path from the op amp's output to its inverting input, the op amp can be restricted to its linear operating region, where $v_{o}=A\\left(v_{p}-v_{n}\\right)$. (Refer to page 147.)\n- A voltage constraint is present when the op amp operates within its linear region due to typical values of $V_{C C}$ and $A$. Assuming ideal conditions where $A$ is infinite, the ideal op amp model is defined by the voltage constraint\n\n$$\nv_{p}=v_{n}\n$$\n\n(Refer to page 147.)\n\n- The ideal op amp model is also characterized by a current constraint, stemming from the infinite input resistance of the op amp integrated circuit. This constraint is expressed as\n\n$$\ni_{p}=i_{n}=0\n$$\n\n(Refer to page 148.)\n\n- This chapter examines both a basic ideal op amp model and a more realistic version. The distinctions between these models are outlined below:\n\n| Simplified Model | More Realistic Model |\n| :--- | :--- |\n| Infinite input resistance | Finite input resistance |\n| Infinite open-loop gain | Finite open-loop gain |\n| Zero output resistance | Nonzero output resistance |\n\n(Refer to page 159.)\n\n- An inverting amplifier is an op amp circuit that generates an output voltage which is an inverted and scaled version of the input. (Refer to page 150.)\n- A summing amplifier is an op amp circuit that produces an output voltage representing a scaled sum of the input voltages. (Refer to page 152.)\n- A noninverting amplifier is an op amp circuit that yields an output voltage that is a scaled copy of the input voltage. (Refer to page 153.)\n- A difference amplifier is an op amp circuit that creates an output voltage that is a scaled version of the input voltage difference. (Refer to page 155.)\n- The two voltage inputs to a difference amplifier can be used to determine the common mode and difference mode voltage inputs, $v_{\\mathrm{cm}}$ and $v_{\\mathrm{dm}}$. The output of the difference amplifier can be expressed as\n\n$$\nv_{o}=A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}}\n$$\n\nwhere $A_{\\mathrm{cm}}$ is the common mode gain, and $A_{\\mathrm{dm}}$ is the differential mode gain. (Refer to page 157.)\n\n- In an ideal difference amplifier, $A_{\\mathrm{cm}}=0$. To assess how closely a difference amplifier approaches the ideal, the common mode rejection ratio is used:\n\n$$\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right|\n$$\n\nAn ideal difference amplifier exhibits an infinite CMRR. (Refer to page 159.)"
},
{
    "text": "- The voltage transfer characteristic of an ideal op amp is defined by the equation\n$v_{o}= \\begin{cases}-V_{C C}, & A\\left(v_{p}-v_{n}\\right)<-V_{C C}, \\\\ A\\left(v_{p}-v_{n}\\right), & -V_{C C} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{C C}, \\\\ +V_{C C}, & A\\left(v_{p}-v_{n}\\right)>+V_{C C},\\end{cases}$\nwhere $A$ is the open-loop gain, a proportionality constant, and $V_{C C}$ denotes the power supply voltages. (Refer to page 147.)\n- By creating a feedback path from an op amp's output to its inverting input, the op amp can be restricted to its linear operating region, where $v_{o}=A\\left(v_{p}-v_{n}\\right)$. (Refer to page 147.)\n- A voltage constraint is present when the op amp operates within its linear region due to typical $V_{C C}$ and $A$ values. Under ideal assumptions, where $A$ is infinite, the ideal op amp model is defined by the voltage constraint\n\n$$\nv_{p}=v_{n}\n$$\n\n(Refer to page 147.)\n\n- The ideal op amp model is further defined by a current constraint, as the ideal input resistance of the op amp IC is infinite. This constraint is expressed as\n\n$$\ni_{p}=i_{n}=0\n$$\n\n(Refer to page 148.)\n\n- This chapter examines both a basic ideal op amp model and a more accurate model. The distinctions between these models are outlined below:\n\n| Simplified Model | More Accurate Model |\n| :--- | :--- |\n| Infinite input resistance | Finite input resistance |\n| Infinite open-loop gain | Finite open-loop gain |\n| Zero output resistance | Nonzero output resistance |\n\n(Refer to page 159.)\n\n- An inverting amplifier is an op amp circuit that generates an output voltage which is an inverted, scaled version of the input voltage. (Refer to page 150.)\n- A summing amplifier is an op amp circuit that produces an output voltage representing a scaled sum of the input voltages. (Refer to page 152.)\n- A noninverting amplifier is an op amp circuit that yields an output voltage that is a scaled copy of the input voltage. (Refer to page 153.)\n- A difference amplifier is an op amp circuit that creates an output voltage that is a scaled version of the input voltage difference. (Refer to page 155.)\n- The two voltage inputs to a difference amplifier can be used to determine the common mode and difference mode voltage inputs, $v_{\\mathrm{cm}}$ and $v_{\\mathrm{dm}}$. The output of the difference amplifier can be expressed as\n\n$$\nv_{o}=A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}}\n$$\n\nwhere $A_{\\mathrm{cm}}$ is the common mode gain, and $A_{\\mathrm{dm}}$ is the differential mode gain. (Refer to page 157.)\n\n- In an ideal difference amplifier, $A_{\\mathrm{cm}}=0$. To assess how closely a difference amplifier approaches ideal performance, we use the common mode rejection ratio:\n\n$$\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right|\n$$\n\nAn ideal difference amplifier has an infinite CMRR. (Refer to page 159.)"
},
{
    "text": "- The equation defining the voltage transfer characteristic of an ideal operational amplifier (op amp) is given by:\n$$\nv_{o}= \\begin{cases}-V_{C C}, & A\\left(v_{p}-v_{n}\\right)<-V_{C C}, \\\\ A\\left(v_{p}-v_{n}\\right), & -V_{C C} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{C C}, \\\\ +V_{C C}, & A\\left(v_{p}-v_{n}\\right)>+V_{C C},\\end{cases}\n$$\nwhere $A$ is the open-loop gain, a proportionality constant, and $V_{C C}$ denotes the power supply voltages. (Refer to page 147.)\n- By incorporating a feedback path between the op amp's output and its inverting input, the op amp can be restricted to its linear operating region, where $v_{o}=A\\left(v_{p}-v_{n}\\right)$. (Refer to page 147.)\n- A voltage constraint arises when the op amp operates within its linear region due to typical values of $V_{C C}$ and $A$. Assuming ideal conditions where $A$ is infinite, the ideal op amp model is defined by the voltage constraint:\n$$\nv_{p}=v_{n}\n$$\n(Refer to page 147.)\n- The ideal op amp model is further characterized by a current constraint, as the ideal input resistance of the op amp's integrated circuit is infinite. This constraint is expressed as:\n$$\ni_{p}=i_{n}=0\n$$\n(Refer to page 148.)\n- This chapter examines both a simplified, ideal op amp model and a more realistic one. The distinctions between these models are outlined below:\n\n| Simplified Model | More Realistic Model |\n| :--- | :--- |\n| Infinite input resistance | Finite input resistance |\n| Infinite open-loop gain | Finite open-loop gain |\n| Zero output resistance | Nonzero output resistance |\n\n(Refer to page 159.)\n- An inverting amplifier is an op amp circuit that generates an output voltage which is an inverted and scaled version of the input voltage. (Refer to page 150.)\n- A summing amplifier is an op amp circuit that produces an output voltage representing a scaled sum of the input voltages. (Refer to page 152.)\n- A noninverting amplifier is an op amp circuit that yields an output voltage that is a scaled copy of the input voltage. (Refer to page 153.)\n- A difference amplifier is an op amp circuit that creates an output voltage that is a scaled version of the difference between the input voltages. (Refer to page 155.)\n- The two voltage inputs to a difference amplifier can be used to determine the common mode and difference mode voltage inputs, $v_{\\mathrm{cm}}$ and $v_{\\mathrm{dm}}$. The output of the difference amplifier can be expressed as:\n$$\nv_{o}=A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}}\n$$\nwhere $A_{\\mathrm{cm}}$ is the common mode gain, and $A_{\\mathrm{dm}}$ is the differential mode gain. (Refer to page 157.)\n- In an ideal difference amplifier, $A_{\\mathrm{cm}}=0$. To assess how closely a difference amplifier approaches the ideal, the common mode rejection ratio (CMRR) is used:\n$$\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right|\n$$\nAn ideal difference amplifier exhibits an infinite CMRR. (Refer to page 159.)"
},
{
    "text": "- The equation depicting the voltage transfer characteristic of an ideal operational amplifier (op amp) is expressed as:\n$$\nv_{o}= \\begin{cases}-V_{C C}, & A\\left(v_{p}-v_{n}\\right)<-V_{C C}, \\\\ A\\left(v_{p}-v_{n}\\right), & -V_{C C} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{C C}, \\\\ +V_{C C}, & A\\left(v_{p}-v_{n}\\right)>+V_{C C},\\end{cases}\n$$\nwhere $A$ denotes the open-loop gain, a proportionality constant, and $V_{C C}$ signifies the power supply voltages. (Refer to page 147.)\n- By establishing a feedback path from the op amp's output to its inverting input, the op amp can be restricted to its linear operational range, where $v_{o}=A\\left(v_{p}-v_{n}\\right)$. (Refer to page 147.)\n- A voltage constraint is present when the op amp operates within its linear region due to standard values of $V_{C C}$ and $A$. Assuming ideal conditions with $A$ being infinite, the ideal op amp model is defined by the voltage constraint:\n$$\nv_{p}=v_{n}\n$$\n(Refer to page 147.)\n- The ideal op amp model is further defined by a current constraint, stemming from the infinite input resistance of the op amp integrated circuit. This constraint is articulated as:\n$$\ni_{p}=i_{n}=0\n$$\n(Refer to page 148.)\n- This chapter examines both a basic ideal op amp model and a more detailed realistic model. The distinctions between these models are outlined below:\n\n| Simplified Model | More Realistic Model |\n| :--- | :--- |\n| Infinite input resistance | Finite input resistance |\n| Infinite open-loop gain | Finite open-loop gain |\n| Zero output resistance | Nonzero output resistance |\n\n(Refer to page 159.)\n- An inverting amplifier is an op amp configuration that generates an output voltage which is an inverted and scaled version of the input voltage. (Refer to page 150.)\n- A summing amplifier is an op amp circuit that produces an output voltage representing a scaled sum of the input voltages. (Refer to page 152.)\n- A noninverting amplifier is an op amp setup that yields an output voltage that is a scaled copy of the input voltage. (Refer to page 153.)\n- A difference amplifier is an op amp circuit that creates an output voltage that is a scaled version of the difference between the input voltages. (Refer to page 155.)\n- The two input voltages of a difference amplifier can be utilized to determine the common mode and difference mode voltages, $v_{\\mathrm{cm}}$ and $v_{\\mathrm{dm}}$. The output of the difference amplifier can be formulated as:\n$$\nv_{o}=A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}}\n$$\nwhere $A_{\\mathrm{cm}}$ is the common mode gain, and $A_{\\mathrm{dm}}$ is the differential mode gain. (Refer to page 157.)\n- In an ideal difference amplifier, $A_{\\mathrm{cm}}=0$. To assess how closely a difference amplifier approaches the ideal, the common mode rejection ratio (CMRR) is used:\n$$\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right|\n$$\nAn ideal difference amplifier possesses an infinite CMRR. (Refer to page 159.)"
},
{
    "text": "- The voltage transfer characteristic of an ideal op amp is defined by the equation\n$$\nv_{o}= \\begin{cases}-V_{C C}, & A\\left(v_{p}-v_{n}\\right)<-V_{C C}, \\\\ A\\left(v_{p}-v_{n}\\right), & -V_{C C} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{C C}, \\\\ +V_{C C}, & A\\left(v_{p}-v_{n}\\right)>+V_{C C},\\end{cases}\n$$\nwhere $A$ is the open-loop gain, a proportionality constant, and $V_{C C}$ denotes the power supply voltages. (Refer to page 147.)\n- A feedback loop connecting the op amp's output to its inverting input can restrict the op amp to its linear operating region, where $v_{o}=A\\left(v_{p}-v_{n}\\right)$. (Refer to page 147.)\n- When the op amp operates within its linear region due to typical $V_{C C}$ and $A$ values, a voltage constraint is present. Assuming ideal conditions with $A$ being infinite, the ideal op amp model is defined by the voltage constraint\n\n$$\nv_{p}=v_{n}\n$$\n\n(Refer to page 147.)\n\n- The ideal op amp model is also characterized by a current constraint, as the ideal input resistance of the op amp IC is infinite. This constraint is expressed as\n\n$$\ni_{p}=i_{n}=0\n$$\n\n(Refer to page 148.)\n\n- This chapter examines both a basic ideal op amp model and a more detailed realistic model. The distinctions between these models are outlined below:\n\n| Simplified Model | More Realistic Model |\n| :--- | :--- |\n| Infinite input resistance | Finite input resistance |\n| Infinite open-loop gain | Finite open-loop gain |\n| Zero output resistance | Nonzero output resistance |\n\n(Refer to page 159.)\n\n- An inverting amplifier is an op amp circuit that generates an output voltage which is an inverted and scaled version of the input voltage. (Refer to page 150.)\n- A summing amplifier is an op amp circuit that produces an output voltage representing a scaled sum of the input voltages. (Refer to page 152.)\n- A noninverting amplifier is an op amp circuit that yields an output voltage that is a scaled copy of the input voltage. (Refer to page 153.)\n- A difference amplifier is an op amp circuit that creates an output voltage that is a scaled version of the input voltage difference. (Refer to page 155.)\n- The two voltage inputs to a difference amplifier can be used to determine the common mode and difference mode voltage inputs, $v_{\\mathrm{cm}}$ and $v_{\\mathrm{dm}}$. The output of the difference amplifier can be expressed as\n\n$$\nv_{o}=A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}}\n$$\n\nwhere $A_{\\mathrm{cm}}$ is the common mode gain, and $A_{\\mathrm{dm}}$ is the differential mode gain. (Refer to page 157.)\n\n- In an ideal difference amplifier, $A_{\\mathrm{cm}}=0$. To assess how closely a difference amplifier approaches the ideal, we use the common mode rejection ratio:\n\n$$\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right|\n$$\n\nAn ideal difference amplifier possesses an infinite CMRR. (Refer to page 159.)"
},
{
    "text": "- The voltage transfer characteristic of an ideal op amp is defined by the equation\n$$\nv_{o}= \\begin{cases}-V_{C C}, & A\\left(v_{p}-v_{n}\\right)<-V_{C C}, \\\\ A\\left(v_{p}-v_{n}\\right), & -V_{C C} \\leq A\\left(v_{p}-v_{n}\\right) \\leq+V_{C C}, \\\\ +V_{C C}, & A\\left(v_{p}-v_{n}\\right)>+V_{C C},\\end{cases}\n$$\nwhere $A$ is the open-loop gain, a proportionality constant, and $V_{C C}$ denotes the power supply voltages. (Refer to page 147.)\n- By incorporating a feedback path between the output and the inverting input of an op amp, the device can be restricted to its linear operating region, where $v_{o}=A\\left(v_{p}-v_{n}\\right)$. (Refer to page 147.)\n- A voltage constraint is present when the op amp operates within its linear region due to typical $V_{C C}$ and $A$ values. Assuming ideal conditions with $A$ being infinite, the ideal op amp model is defined by the voltage constraint\n\n$$\nv_{p}=v_{n}\n$$\n\n(Refer to page 147.)\n\n- The ideal op amp model is further defined by a current constraint, as the ideal input resistance of the op amp IC is infinite. This constraint is expressed as\n\n$$\ni_{p}=i_{n}=0\n$$\n\n(Refer to page 148.)\n\n- This chapter examines both a basic ideal op amp model and a more detailed realistic model. The distinctions between these models are outlined below:\n\n| Simplified Model | More Realistic Model |\n| :--- | :--- |\n| Infinite input resistance | Finite input resistance |\n| Infinite open-loop gain | Finite open-loop gain |\n| Zero output resistance | Nonzero output resistance |\n\n(Refer to page 159.)\n\n- An inverting amplifier is an op amp circuit that generates an output voltage which is an inverted and scaled version of the input voltage. (Refer to page 150.)\n- A summing amplifier is an op amp circuit that produces an output voltage representing a scaled sum of the input voltages. (Refer to page 152.)\n- A noninverting amplifier is an op amp circuit that outputs a voltage that is a scaled duplicate of the input voltage. (Refer to page 153.)\n- A difference amplifier is an op amp circuit that yields an output voltage which is a scaled version of the difference between the input voltages. (Refer to page 155.)\n- The two input voltages of a difference amplifier can be used to determine the common mode and difference mode voltages, $v_{\\mathrm{cm}}$ and $v_{\\mathrm{dm}}$. The output of the difference amplifier can be expressed as\n\n$$\nv_{o}=A_{\\mathrm{cm}} v_{\\mathrm{cm}}+A_{\\mathrm{dm}} v_{\\mathrm{dm}}\n$$\n\nwhere $A_{\\mathrm{cm}}$ is the common mode gain, and $A_{\\mathrm{dm}}$ is the differential mode gain. (Refer to page 157.)\n\n- In an ideal difference amplifier, $A_{\\mathrm{cm}}=0$. To assess how closely a difference amplifier approaches ideal performance, the common mode rejection ratio is used:\n\n$$\n\\mathrm{CMRR}=\\left|\\frac{A_{\\mathrm{dm}}}{A_{\\mathrm{cm}}}\\right|\n$$\n\nAn ideal difference amplifier possesses an infinite CMRR. (Refer to page 159.)"
}
]